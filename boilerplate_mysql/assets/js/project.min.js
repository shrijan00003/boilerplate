/*! jQuery v2.1.4 | (c) 2005, 2015 jQuery Foundation, Inc. | jquery.org/license */
;!function(d,c){"object"==typeof module&&"object"==typeof module.exports?module.exports=d.document?c(d,!0):function(e){if(!e.document){throw new Error("jQuery requires a window with a document")}return c(e)}:c(d)}("undefined"!=typeof window?window:this,function(a,b){var c=[],d=c.slice,e=c.concat,f=c.push,g=c.indexOf,h={},i=h.toString,j=h.hasOwnProperty,k={},l=a.document,m="2.1.4",n=function(a,b){return new n.fn.init(a,b)},o=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,p=/^-ms-/,q=/-([\da-z])/gi,r=function(a,b){return b.toUpperCase()};n.fn=n.prototype={jquery:m,constructor:n,selector:"",length:0,toArray:function(){return d.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:d.call(this)},pushStack:function(a){var b=n.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return n.each(this,a,b)},map:function(a){return this.pushStack(n.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:c.sort,splice:c.splice},n.extend=n.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||n.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++){if(null!=(a=arguments[h])){for(b in a){c=g[b],d=a[b],g!==d&&(j&&d&&(n.isPlainObject(d)||(e=n.isArray(d)))?(e?(e=!1,f=c&&n.isArray(c)?c:[]):f=c&&n.isPlainObject(c)?c:{},g[b]=n.extend(j,f,d)):void 0!==d&&(g[b]=d))}}}return g},n.extend({expando:"jQuery"+(m+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===n.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){return !n.isArray(a)&&a-parseFloat(a)+1>=0},isPlainObject:function(a){return"object"!==n.type(a)||a.nodeType||n.isWindow(a)?!1:a.constructor&&!j.call(a.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(a){var b;for(b in a){return !1}return !0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?h[i.call(a)]||"object":typeof a},globalEval:function(a){var b,c=eval;a=n.trim(a),a&&(1===a.indexOf("use strict")?(b=l.createElement("script"),b.text=a,l.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(a){return a.replace(p,"ms-").replace(q,r)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var d,e=0,f=a.length,g=s(a);if(c){if(g){for(;f>e;e++){if(d=b.apply(a[e],c),d===!1){break}}}else{for(e in a){if(d=b.apply(a[e],c),d===!1){break}}}}else{if(g){for(;f>e;e++){if(d=b.call(a[e],e,a[e]),d===!1){break}}}else{for(e in a){if(d=b.call(a[e],e,a[e]),d===!1){break}}}}return a},trim:function(a){return null==a?"":(a+"").replace(o,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(s(Object(a))?n.merge(c,"string"==typeof a?[a]:a):f.call(c,a)),c},inArray:function(a,b,c){return null==b?-1:g.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;d++){a[e++]=b[d]}return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++){d=!b(a[f],f),d!==h&&e.push(a[f])}return e},map:function(a,b,c){var d,f=0,g=a.length,h=s(a),i=[];if(h){for(;g>f;f++){d=b(a[f],f,c),null!=d&&i.push(d)}}else{for(f in a){d=b(a[f],f,c),null!=d&&i.push(d)}}return e.apply([],i)},guid:1,proxy:function(a,b){var c,e,f;return"string"==typeof b&&(c=a[b],b=a,a=c),n.isFunction(a)?(e=d.call(arguments,2),f=function(){return a.apply(b||this,e.concat(d.call(arguments)))},f.guid=a.guid=a.guid||n.guid++,f):void 0},now:Date.now,support:k}),n.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){h["[object "+b+"]"]=b.toLowerCase()});function s(a){var b="length" in a&&a.length,c=n.type(a);return"function"===c||n.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}var t=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+1*new Date,v=a.document,w=0,x=0,y=ha(),z=ha(),A=ha(),B=function(a,b){return a===b&&(l=!0),0},C=1<<31,D={}.hasOwnProperty,E=[],F=E.pop,G=E.push,H=E.push,I=E.slice,J=function(a,b){for(var c=0,d=a.length;d>c;c++){if(a[c]===b){return c}}return -1},K="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",M="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",N=M.replace("w","w#"),O="\\["+L+"*("+M+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+N+"))|)"+L+"*\\]",P=":("+M+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+O+")*)|.*)\\)|)",Q=new RegExp(L+"+","g"),R=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),S=new RegExp("^"+L+"*,"+L+"*"),T=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),U=new RegExp("="+L+"*([^\\]'\"]*?)"+L+"*\\]","g"),V=new RegExp(P),W=new RegExp("^"+N+"$"),X={ID:new RegExp("^#("+M+")"),CLASS:new RegExp("^\\.("+M+")"),TAG:new RegExp("^("+M.replace("w","w*")+")"),ATTR:new RegExp("^"+O),PSEUDO:new RegExp("^"+P),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+K+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,$=/^[^{]+\{\s*\[native \w/,_=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,aa=/[+~]/,ba=/'|\\/g,ca=new RegExp("\\\\([\\da-f]{1,6}"+L+"?|("+L+")|.)","ig"),da=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},ea=function(){m()};try{H.apply(E=I.call(v.childNodes),v.childNodes),E[v.childNodes.length].nodeType}catch(fa){H={apply:E.length?function(a,b){G.apply(a,I.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]){}a.length=c-1}}}function ga(a,b,d,e){var f,h,j,k,l,o,r,s,w,x;if((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,d=d||[],k=b.nodeType,"string"!=typeof a||!a||1!==k&&9!==k&&11!==k){return d}if(!e&&p){if(11!==k&&(f=_.exec(a))){if(j=f[1]){if(9===k){if(h=b.getElementById(j),!h||!h.parentNode){return d}if(h.id===j){return d.push(h),d}}else{if(b.ownerDocument&&(h=b.ownerDocument.getElementById(j))&&t(b,h)&&h.id===j){return d.push(h),d}}}else{if(f[2]){return H.apply(d,b.getElementsByTagName(a)),d}if((j=f[3])&&c.getElementsByClassName){return H.apply(d,b.getElementsByClassName(j)),d}}}if(c.qsa&&(!q||!q.test(a))){if(s=r=u,w=b,x=1!==k&&a,1===k&&"object"!==b.nodeName.toLowerCase()){o=g(a),(r=b.getAttribute("id"))?s=r.replace(ba,"\\$&"):b.setAttribute("id",s),s="[id='"+s+"'] ",l=o.length;while(l--){o[l]=s+ra(o[l])}w=aa.test(a)&&pa(b.parentNode)||b,x=o.join(",")}if(x){try{return H.apply(d,w.querySelectorAll(x)),d}catch(y){}finally{r||b.removeAttribute("id")}}}}return i(a.replace(R,"$1"),b,d,e)}function ha(){var a=[];function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}return b}function ia(a){return a[u]=!0,a}function ja(a){var b=n.createElement("div");try{return !!a(b)}catch(c){return !1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function ka(a,b){var c=a.split("|"),e=a.length;while(e--){d.attrHandle[c[e]]=b}}function la(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||C)-(~a.sourceIndex||C);if(d){return d}if(c){while(c=c.nextSibling){if(c===b){return -1}}}return a?1:-1}function ma(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function na(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function oa(a){return ia(function(b){return b=+b,ia(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--){c[e=f[g]]&&(c[e]=!(d[e]=c[e]))}})})}function pa(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}c=ga.support={},f=ga.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},m=ga.setDocument=function(a){var b,e,g=a?a.ownerDocument||a:v;return g!==n&&9===g.nodeType&&g.documentElement?(n=g,o=g.documentElement,e=g.defaultView,e&&e!==e.top&&(e.addEventListener?e.addEventListener("unload",ea,!1):e.attachEvent&&e.attachEvent("onunload",ea)),p=!f(g),c.attributes=ja(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=ja(function(a){return a.appendChild(g.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=$.test(g.getElementsByClassName),c.getById=ja(function(a){return o.appendChild(a).id=u,!g.getElementsByName||!g.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&p){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},d.filter.ID=function(a){var b=a.replace(ca,da);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(ca,da);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):c.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){while(c=f[e++]){1===c.nodeType&&d.push(c)}return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return p?b.getElementsByClassName(a):void 0},r=[],q=[],(c.qsa=$.test(g.querySelectorAll))&&(ja(function(a){o.appendChild(a).innerHTML="<a id='"+u+"'></a><select id='"+u+"-\f]' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&q.push("[*^$]="+L+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||q.push("\\["+L+"*(?:value|"+K+")"),a.querySelectorAll("[id~="+u+"-]").length||q.push("~="),a.querySelectorAll(":checked").length||q.push(":checked"),a.querySelectorAll("a#"+u+"+*").length||q.push(".#.+[+~]")}),ja(function(a){var b=g.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&q.push("name"+L+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||q.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),q.push(",.*:")})),(c.matchesSelector=$.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ja(function(a){c.disconnectedMatch=s.call(a,"div"),s.call(a,"[s!='']:x"),r.push("!=",P)}),q=q.length&&new RegExp(q.join("|")),r=r.length&&new RegExp(r.join("|")),b=$.test(o.compareDocumentPosition),t=b||$.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b){while(b=b.parentNode){if(b===a){return !0}}}return !1},B=b?function(a,b){if(a===b){return l=!0,0}var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===g||a.ownerDocument===v&&t(v,a)?-1:b===g||b.ownerDocument===v&&t(v,b)?1:k?J(k,a)-J(k,b):0:4&d?-1:1)}:function(a,b){if(a===b){return l=!0,0}var c,d=0,e=a.parentNode,f=b.parentNode,h=[a],i=[b];if(!e||!f){return a===g?-1:b===g?1:e?-1:f?1:k?J(k,a)-J(k,b):0}if(e===f){return la(a,b)}c=a;while(c=c.parentNode){h.unshift(c)}c=b;while(c=c.parentNode){i.unshift(c)}while(h[d]===i[d]){d++}return d?la(h[d],i[d]):h[d]===v?-1:i[d]===v?1:0},g):n},ga.matches=function(a,b){return ga(a,null,null,b)},ga.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(U,"='$1']"),!(!c.matchesSelector||!p||r&&r.test(b)||q&&q.test(b))){try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType){return d}}catch(e){}}return ga(b,n,null,[a]).length>0},ga.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},ga.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&D.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},ga.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},ga.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){while(b=a[f++]){b===a[f]&&(e=d.push(f))}while(e--){a.splice(d[e],1)}}return k=null,a},e=ga.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent){return a.textContent}for(a=a.firstChild;a;a=a.nextSibling){c+=e(a)}}else{if(3===f||4===f){return a.nodeValue}}}else{while(b=a[d++]){c+=e(b)}}return c},d=ga.selectors={cacheLength:50,createPseudo:ia,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ca,da),a[3]=(a[3]||a[4]||a[5]||"").replace(ca,da),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||ga.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&ga.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return X.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&V.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ca,da).toLowerCase();return"*"===a?function(){return !0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+L+")"+a+"("+L+"|$)"))&&y(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=ga.attr(d,a);return null==e?"!="===b:b?(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e.replace(Q," ")+" ").indexOf(c)>-1:"|="===b?e===c||e.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return !!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){while(p){l=b;while(l=l[p]){if(h?l.nodeName.toLowerCase()===r:1===l.nodeType){return !1}}o=p="only"===a&&!o&&"nextSibling"}return !0}if(o=[g?q.firstChild:q.lastChild],g&&s){k=q[u]||(q[u]={}),j=k[a]||[],n=j[0]===w&&j[1],m=j[0]===w&&j[2],l=n&&q.childNodes[n];while(l=++n&&l&&l[p]||(m=n=0)||o.pop()){if(1===l.nodeType&&++m&&l===b){k[a]=[w,n,m];break}}}else{if(s&&(j=(b[u]||(b[u]={}))[a])&&j[0]===w){m=j[1]}else{while(l=++n&&l&&l[p]||(m=n=0)||o.pop()){if((h?l.nodeName.toLowerCase()===r:1===l.nodeType)&&++m&&(s&&((l[u]||(l[u]={}))[a]=[w,m]),l===b)){break}}}}return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||ga.error("unsupported pseudo: "+a);return e[u]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?ia(function(a,c){var d,f=e(a,b),g=f.length;while(g--){d=J(a,f[g]),a[d]=!(c[d]=f[g])}}):function(a){return e(a,0,c)}):e}},pseudos:{not:ia(function(a){var b=[],c=[],d=h(a.replace(R,"$1"));return d[u]?ia(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--){(f=g[h])&&(a[h]=!(b[h]=f))}}):function(a,e,f){return b[0]=a,d(b,null,f,c),b[0]=null,!c.pop()}}),has:ia(function(a){return function(b){return ga(a,b).length>0}}),contains:ia(function(a){return a=a.replace(ca,da),function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:ia(function(a){return W.test(a||"")||ga.error("unsupported lang: "+a),a=a.replace(ca,da).toLowerCase(),function(b){var c;do{if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang")){return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-")}}while((b=b.parentNode)&&1===b.nodeType);return !1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling){if(a.nodeType<6){return !1}}return !0},parent:function(a){return !d.pseudos.empty(a)},header:function(a){return Z.test(a.nodeName)},input:function(a){return Y.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:oa(function(){return[0]}),last:oa(function(a,b){return[b-1]}),eq:oa(function(a,b,c){return[0>c?c+b:c]}),even:oa(function(a,b){for(var c=0;b>c;c+=2){a.push(c)}return a}),odd:oa(function(a,b){for(var c=1;b>c;c+=2){a.push(c)}return a}),lt:oa(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;){a.push(d)}return a}),gt:oa(function(a,b,c){for(var d=0>c?c+b:c;++d<b;){a.push(d)}return a})}},d.pseudos.nth=d.pseudos.eq;for(b in {radio:!0,checkbox:!0,file:!0,password:!0,image:!0}){d.pseudos[b]=ma(b)}for(b in {submit:!0,reset:!0}){d.pseudos[b]=na(b)}function qa(){}qa.prototype=d.filters=d.pseudos,d.setFilters=new qa,g=ga.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k){return b?0:k.slice(0)}h=a,i=[],j=d.preFilter;while(h){(!c||(e=S.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=T.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(R," ")}),h=h.slice(c.length));for(g in d.filter){!(e=X[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length))}if(!c){break}}return b?h.length:h?ga.error(a):z(a,i).slice(0)};function ra(a){for(var b=0,c=a.length,d="";c>b;b++){d+=a[b].value}return d}function sa(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=x++;return b.first?function(b,c,f){while(b=b[d]){if(1===b.nodeType||e){return a(b,c,f)}}}:function(b,c,g){var h,i,j=[w,f];if(g){while(b=b[d]){if((1===b.nodeType||e)&&a(b,c,g)){return !0}}}else{while(b=b[d]){if(1===b.nodeType||e){if(i=b[u]||(b[u]={}),(h=i[d])&&h[0]===w&&h[1]===f){return j[2]=h[2]}if(i[d]=j,j[2]=a(b,c,g)){return !0}}}}}}function ta(a){return a.length>1?function(b,c,d){var e=a.length;while(e--){if(!a[e](b,c,d)){return !1}}return !0}:a[0]}function ua(a,b,c){for(var d=0,e=b.length;e>d;d++){ga(a,b[d],c)}return c}function va(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++){(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h))}return g}function wa(a,b,c,d,e,f){return d&&!d[u]&&(d=wa(d)),e&&!e[u]&&(e=wa(e,f)),ia(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||ua(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:va(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=va(r,n),d(j,[],h,i),k=j.length;while(k--){(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}}if(f){if(e||a){if(e){j=[],k=r.length;while(k--){(l=r[k])&&j.push(q[k]=l)}e(null,r=[],j,i)}k=r.length;while(k--){(l=r[k])&&(j=e?J(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}}else{r=va(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):H.apply(g,r)}})}function xa(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=sa(function(a){return a===b},h,!0),l=sa(function(a){return J(b,a)>-1},h,!0),m=[function(a,c,d){var e=!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d));return b=null,e}];f>i;i++){if(c=d.relative[a[i].type]){m=[sa(ta(m),c)]}else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;f>e;e++){if(d.relative[a[e].type]){break}}return wa(i>1&&ta(m),i>1&&ra(a.slice(0,i-1).concat({value:" "===a[i-2].type?"*":""})).replace(R,"$1"),c,e>i&&xa(a.slice(i,e)),f>e&&xa(a=a.slice(e)),f>e&&ra(a))}m.push(c)}}return ta(m)}function ya(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,m,o,p=0,q="0",r=f&&[],s=[],t=j,u=f||e&&d.find.TAG("*",k),v=w+=null==t?1:Math.random()||0.1,x=u.length;for(k&&(j=g!==n&&g);q!==x&&null!=(l=u[q]);q++){if(e&&l){m=0;while(o=a[m++]){if(o(l,g,h)){i.push(l);break}}k&&(w=v)}c&&((l=!o&&l)&&p--,f&&r.push(l))}if(p+=q,c&&q!==p){m=0;while(o=b[m++]){o(r,s,g,h)}if(f){if(p>0){while(q--){r[q]||s[q]||(s[q]=F.call(i))}}s=va(s)}H.apply(i,s),k&&!f&&s.length>0&&p+b.length>1&&ga.uniqueSort(i)}return k&&(w=v,j=t),r};return c?ia(f):f}return h=ga.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){b||(b=g(a)),c=b.length;while(c--){f=xa(b[c]),f[u]?d.push(f):e.push(f)}f=A(a,ya(e,d)),f.selector=a}return f},i=ga.select=function(a,b,e,f){var i,j,k,l,m,n="function"==typeof a&&a,o=!f&&g(a=n.selector||a);if(e=e||[],1===o.length){if(j=o[0]=o[0].slice(0),j.length>2&&"ID"===(k=j[0]).type&&c.getById&&9===b.nodeType&&p&&d.relative[j[1].type]){if(b=(d.find.ID(k.matches[0].replace(ca,da),b)||[])[0],!b){return e}n&&(b=b.parentNode),a=a.slice(j.shift().value.length)}i=X.needsContext.test(a)?0:j.length;while(i--){if(k=j[i],d.relative[l=k.type]){break}if((m=d.find[l])&&(f=m(k.matches[0].replace(ca,da),aa.test(j[0].type)&&pa(b.parentNode)||b))){if(j.splice(i,1),a=f.length&&ra(j),!a){return H.apply(e,f),e}break}}}return(n||h(a,o))(f,b,!p,e,aa.test(a)&&pa(b.parentNode)||b),e},c.sortStable=u.split("").sort(B).join("")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ja(function(a){return 1&a.compareDocumentPosition(n.createElement("div"))}),ja(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||ka("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&ja(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||ka("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),ja(function(a){return null==a.getAttribute("disabled")})||ka(K,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),ga}(a);n.find=t,n.expr=t.selectors,n.expr[":"]=n.expr.pseudos,n.unique=t.uniqueSort,n.text=t.getText,n.isXMLDoc=t.isXML,n.contains=t.contains;var u=n.expr.match.needsContext,v=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,w=/^.[^:#\[\.,]*$/;function x(a,b,c){if(n.isFunction(b)){return n.grep(a,function(a,d){return !!b.call(a,d,a)!==c})}if(b.nodeType){return n.grep(a,function(a){return a===b!==c})}if("string"==typeof b){if(w.test(b)){return n.filter(b,a,c)}b=n.filter(b,a)}return n.grep(a,function(a){return g.call(b,a)>=0!==c})}n.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?n.find.matchesSelector(d,a)?[d]:[]:n.find.matches(a,n.grep(b,function(a){return 1===a.nodeType}))},n.fn.extend({find:function(a){var b,c=this.length,d=[],e=this;if("string"!=typeof a){return this.pushStack(n(a).filter(function(){for(b=0;c>b;b++){if(n.contains(e[b],this)){return !0}}}))}for(b=0;c>b;b++){n.find(a,e[b],d)}return d=this.pushStack(c>1?n.unique(d):d),d.selector=this.selector?this.selector+" "+a:a,d},filter:function(a){return this.pushStack(x(this,a||[],!1))},not:function(a){return this.pushStack(x(this,a||[],!0))},is:function(a){return !!x(this,"string"==typeof a&&u.test(a)?n(a):a||[],!1).length}});var y,z=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,A=n.fn.init=function(a,b){var c,d;if(!a){return this}if("string"==typeof a){if(c="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:z.exec(a),!c||!c[1]&&b){return !b||b.jquery?(b||y).find(a):this.constructor(b).find(a)}if(c[1]){if(b=b instanceof n?b[0]:b,n.merge(this,n.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:l,!0)),v.test(c[1])&&n.isPlainObject(b)){for(c in b){n.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c])}}return this}return d=l.getElementById(c[2]),d&&d.parentNode&&(this.length=1,this[0]=d),this.context=l,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):n.isFunction(a)?"undefined"!=typeof y.ready?y.ready(a):a(n):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),n.makeArray(a,this))};A.prototype=n.fn,y=n(l);var B=/^(?:parents|prev(?:Until|All))/,C={children:!0,contents:!0,next:!0,prev:!0};n.extend({dir:function(a,b,c){var d=[],e=void 0!==c;while((a=a[b])&&9!==a.nodeType){if(1===a.nodeType){if(e&&n(a).is(c)){break}d.push(a)}}return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling){1===a.nodeType&&a!==b&&c.push(a)}return c}}),n.fn.extend({has:function(a){var b=n(a,this),c=b.length;return this.filter(function(){for(var a=0;c>a;a++){if(n.contains(this,b[a])){return !0}}})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=u.test(a)||"string"!=typeof a?n(a,b||this.context):0;e>d;d++){for(c=this[d];c&&c!==b;c=c.parentNode){if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&n.find.matchesSelector(c,a))){f.push(c);break}}}return this.pushStack(f.length>1?n.unique(f):f)},index:function(a){return a?"string"==typeof a?g.call(n(a),this[0]):g.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(n.unique(n.merge(this.get(),n(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function D(a,b){while((a=a[b])&&1!==a.nodeType){}return a}n.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return n.dir(a,"parentNode")},parentsUntil:function(a,b,c){return n.dir(a,"parentNode",c)},next:function(a){return D(a,"nextSibling")},prev:function(a){return D(a,"previousSibling")},nextAll:function(a){return n.dir(a,"nextSibling")},prevAll:function(a){return n.dir(a,"previousSibling")},nextUntil:function(a,b,c){return n.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return n.dir(a,"previousSibling",c)},siblings:function(a){return n.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return n.sibling(a.firstChild)},contents:function(a){return a.contentDocument||n.merge([],a.childNodes)}},function(a,b){n.fn[a]=function(c,d){var e=n.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=n.filter(d,e)),this.length>1&&(C[a]||n.unique(e),B.test(a)&&e.reverse()),this.pushStack(e)}});var E=/\S+/g,F={};function G(a){var b=F[a]={};return n.each(a.match(E)||[],function(a,c){b[c]=!0}),b}n.Callbacks=function(a){a="string"==typeof a?F[a]||G(a):n.extend({},a);var b,c,d,e,f,g,h=[],i=!a.once&&[],j=function(l){for(b=a.memory&&l,c=!0,g=e||0,e=0,f=h.length,d=!0;h&&f>g;g++){if(h[g].apply(l[0],l[1])===!1&&a.stopOnFalse){b=!1;break}}d=!1,h&&(i?i.length&&j(i.shift()):b?h=[]:k.disable())},k={add:function(){if(h){var c=h.length;!function g(b){n.each(b,function(b,c){var d=n.type(c);"function"===d?a.unique&&k.has(c)||h.push(c):c&&c.length&&"string"!==d&&g(c)})}(arguments),d?f=h.length:b&&(e=c,j(b))}return this},remove:function(){return h&&n.each(arguments,function(a,b){var c;while((c=n.inArray(b,h,c))>-1){h.splice(c,1),d&&(f>=c&&f--,g>=c&&g--)}}),this},has:function(a){return a?n.inArray(a,h)>-1:!(!h||!h.length)},empty:function(){return h=[],f=0,this},disable:function(){return h=i=b=void 0,this},disabled:function(){return !h},lock:function(){return i=void 0,b||k.disable(),this},locked:function(){return !i},fireWith:function(a,b){return !h||c&&!i||(b=b||[],b=[a,b.slice?b.slice():b],d?i.push(b):j(b)),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return !!c}};return k},n.extend({Deferred:function(a){var b=[["resolve","done",n.Callbacks("once memory"),"resolved"],["reject","fail",n.Callbacks("once memory"),"rejected"],["notify","progress",n.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return n.Deferred(function(c){n.each(b,function(b,f){var g=n.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&n.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?n.extend(a,d):d}},e={};return d.pipe=d.then,n.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=d.call(arguments),e=c.length,f=1!==e||a&&n.isFunction(a.promise)?e:0,g=1===f?a:n.Deferred(),h=function(a,b,c){return function(e){b[a]=this,c[a]=arguments.length>1?d.call(arguments):e,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}},i,j,k;if(e>1){for(i=new Array(e),j=new Array(e),k=new Array(e);e>b;b++){c[b]&&n.isFunction(c[b].promise)?c[b].promise().done(h(b,k,c)).fail(g.reject).progress(h(b,j,i)):--f}}return f||g.resolveWith(k,c),g.promise()}});var H;n.fn.ready=function(a){return n.ready.promise().done(a),this},n.extend({isReady:!1,readyWait:1,holdReady:function(a){a?n.readyWait++:n.ready(!0)},ready:function(a){(a===!0?--n.readyWait:n.isReady)||(n.isReady=!0,a!==!0&&--n.readyWait>0||(H.resolveWith(l,[n]),n.fn.triggerHandler&&(n(l).triggerHandler("ready"),n(l).off("ready"))))}});function I(){l.removeEventListener("DOMContentLoaded",I,!1),a.removeEventListener("load",I,!1),n.ready()}n.ready.promise=function(b){return H||(H=n.Deferred(),"complete"===l.readyState?setTimeout(n.ready):(l.addEventListener("DOMContentLoaded",I,!1),a.addEventListener("load",I,!1))),H.promise(b)},n.ready.promise();var J=n.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===n.type(c)){e=!0;for(h in c){n.access(a,b,h,c[h],!0,f,g)}}else{if(void 0!==d&&(e=!0,n.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(n(a),c)})),b)){for(;i>h;h++){b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)))}}}return e?a:j?b.call(a):i?b(a[0],c):f};n.acceptData=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};function K(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=n.expando+K.uid++}K.uid=1,K.accepts=n.acceptData,K.prototype={key:function(a){if(!K.accepts(a)){return 0}var b={},c=a[this.expando];if(!c){c=K.uid++;try{b[this.expando]={value:c},Object.defineProperties(a,b)}catch(d){b[this.expando]=c,n.extend(a,b)}}return this.cache[c]||(this.cache[c]={}),c},set:function(a,b,c){var d,e=this.key(a),f=this.cache[e];if("string"==typeof b){f[b]=c}else{if(n.isEmptyObject(f)){n.extend(this.cache[e],b)}else{for(d in b){f[d]=b[d]}}}return f},get:function(a,b){var c=this.cache[this.key(a)];return void 0===b?c:c[b]},access:function(a,b,c){var d;return void 0===b||b&&"string"==typeof b&&void 0===c?(d=this.get(a,b),void 0!==d?d:this.get(a,n.camelCase(b))):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d,e,f=this.key(a),g=this.cache[f];if(void 0===b){this.cache[f]={}}else{n.isArray(b)?d=b.concat(b.map(n.camelCase)):(e=n.camelCase(b),b in g?d=[b,e]:(d=e,d=d in g?[d]:d.match(E)||[])),c=d.length;while(c--){delete g[d[c]]}}},hasData:function(a){return !n.isEmptyObject(this.cache[a[this.expando]]||{})},discard:function(a){a[this.expando]&&delete this.cache[a[this.expando]]}};var L=new K,M=new K,N=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,O=/([A-Z])/g;function P(a,b,c){var d;if(void 0===c&&1===a.nodeType){if(d="data-"+b.replace(O,"-$1").toLowerCase(),c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:N.test(c)?n.parseJSON(c):c}catch(e){}M.set(a,b,c)}else{c=void 0}}return c}n.extend({hasData:function(a){return M.hasData(a)||L.hasData(a)},data:function(a,b,c){return M.access(a,b,c)},removeData:function(a,b){M.remove(a,b)},_data:function(a,b,c){return L.access(a,b,c)},_removeData:function(a,b){L.remove(a,b)}}),n.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=M.get(f),1===f.nodeType&&!L.get(f,"hasDataAttrs"))){c=g.length;while(c--){g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=n.camelCase(d.slice(5)),P(f,d,e[d])))}L.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){M.set(this,a)}):J(this,function(b){var c,d=n.camelCase(a);if(f&&void 0===b){if(c=M.get(f,a),void 0!==c){return c}if(c=M.get(f,d),void 0!==c){return c}if(c=P(f,d,void 0),void 0!==c){return c}}else{this.each(function(){var c=M.get(this,d);M.set(this,d,b),-1!==a.indexOf("-")&&void 0!==c&&M.set(this,a,b)})}},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){M.remove(this,a)})}}),n.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=L.get(a,b),c&&(!d||n.isArray(c)?d=L.access(a,b,n.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=n.queue(a,b),d=c.length,e=c.shift(),f=n._queueHooks(a,b),g=function(){n.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return L.get(a,c)||L.access(a,c,{empty:n.Callbacks("once memory").add(function(){L.remove(a,[b+"queue",c])})})}}),n.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?n.queue(this[0],a):void 0===b?this:this.each(function(){var c=n.queue(this,a,b);n._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&n.dequeue(this,a)})},dequeue:function(a){return this.each(function(){n.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=n.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};"string"!=typeof a&&(b=a,a=void 0),a=a||"fx";while(g--){c=L.get(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h))}return h(),e.promise(b)}});var Q=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,R=["Top","Right","Bottom","Left"],S=function(a,b){return a=b||a,"none"===n.css(a,"display")||!n.contains(a.ownerDocument,a)},T=/^(?:checkbox|radio)$/i;!function(){var a=l.createDocumentFragment(),b=a.appendChild(l.createElement("div")),c=l.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),b.appendChild(c),k.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",k.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var U="undefined";k.focusinBubbles="onfocusin" in a;var V=/^key/,W=/^(?:mouse|pointer|contextmenu)|click/,X=/^(?:focusinfocus|focusoutblur)$/,Y=/^([^.]*)(?:\.(.+)|)$/;function Z(){return !0}function $(){return !1}function _(){try{return l.activeElement}catch(a){}}n.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=L.get(a);if(r){c.handler&&(f=c,c=f.handler,e=f.selector),c.guid||(c.guid=n.guid++),(i=r.events)||(i=r.events={}),(g=r.handle)||(g=r.handle=function(b){return typeof n!==U&&n.event.triggered!==b.type?n.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(E)||[""],j=b.length;while(j--){h=Y.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o&&(l=n.event.special[o]||{},o=(e?l.delegateType:l.bindType)||o,l=n.event.special[o]||{},k=n.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&n.expr.match.needsContext.test(e),namespace:p.join(".")},f),(m=i[o])||(m=i[o]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,p,g)!==!1||a.addEventListener&&a.addEventListener(o,g,!1)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),n.event.global[o]=!0)}}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=L.hasData(a)&&L.get(a);if(r&&(i=r.events)){b=(b||"").match(E)||[""],j=b.length;while(j--){if(h=Y.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o){l=n.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,m=i[o]||[],h=h[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;while(f--){k=m[f],!e&&q!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k))}g&&!m.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||n.removeEvent(a,o,r.handle),delete i[o])}else{for(o in i){n.event.remove(a,o+b[j],c,d,!0)}}}n.isEmptyObject(i)&&(delete r.handle,L.remove(a,"events"))}},trigger:function(b,c,d,e){var f,g,h,i,k,m,o,p=[d||l],q=j.call(b,"type")?b.type:b,r=j.call(b,"namespace")?b.namespace.split("."):[];if(g=h=d=d||l,3!==d.nodeType&&8!==d.nodeType&&!X.test(q+n.event.triggered)&&(q.indexOf(".")>=0&&(r=q.split("."),q=r.shift(),r.sort()),k=q.indexOf(":")<0&&"on"+q,b=b[n.expando]?b:new n.Event(q,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=r.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+r.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:n.makeArray(c,[b]),o=n.event.special[q]||{},e||!o.trigger||o.trigger.apply(d,c)!==!1)){if(!e&&!o.noBubble&&!n.isWindow(d)){for(i=o.delegateType||q,X.test(i+q)||(g=g.parentNode);g;g=g.parentNode){p.push(g),h=g}h===(d.ownerDocument||l)&&p.push(h.defaultView||h.parentWindow||a)}f=0;while((g=p[f++])&&!b.isPropagationStopped()){b.type=f>1?i:o.bindType||q,m=(L.get(g,"events")||{})[b.type]&&L.get(g,"handle"),m&&m.apply(g,c),m=k&&g[k],m&&m.apply&&n.acceptData(g)&&(b.result=m.apply(g,c),b.result===!1&&b.preventDefault())}return b.type=q,e||b.isDefaultPrevented()||o._default&&o._default.apply(p.pop(),c)!==!1||!n.acceptData(d)||k&&n.isFunction(d[q])&&!n.isWindow(d)&&(h=d[k],h&&(d[k]=null),n.event.triggered=q,d[q](),n.event.triggered=void 0,h&&(d[k]=h)),b.result}},dispatch:function(a){a=n.event.fix(a);var b,c,e,f,g,h=[],i=d.call(arguments),j=(L.get(this,"events")||{})[a.type]||[],k=n.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){h=n.event.handlers.call(this,a,j),b=0;while((f=h[b++])&&!a.isPropagationStopped()){a.currentTarget=f.elem,c=0;while((g=f.handlers[c++])&&!a.isImmediatePropagationStopped()){(!a.namespace_re||a.namespace_re.test(g.namespace))&&(a.handleObj=g,a.data=g.data,e=((n.event.special[g.origType]||{}).handle||g.handler).apply(f.elem,i),void 0!==e&&(a.result=e)===!1&&(a.preventDefault(),a.stopPropagation()))}}return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||"click"!==a.type)){for(;i!==this;i=i.parentNode||this){if(i.disabled!==!0||"click"!==a.type){for(d=[],c=0;h>c;c++){f=b[c],e=f.selector+" ",void 0===d[e]&&(d[e]=f.needsContext?n(e,this).index(i)>=0:n.find(e,this,null,[i]).length),d[e]&&d.push(f)}d.length&&g.push({elem:i,handlers:d})}}}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button;return null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||l,d=c.documentElement,e=c.body,a.pageX=b.clientX+(d&&d.scrollLeft||e&&e.scrollLeft||0)-(d&&d.clientLeft||e&&e.clientLeft||0),a.pageY=b.clientY+(d&&d.scrollTop||e&&e.scrollTop||0)-(d&&d.clientTop||e&&e.clientTop||0)),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},fix:function(a){if(a[n.expando]){return a}var b,c,d,e=a.type,f=a,g=this.fixHooks[e];g||(this.fixHooks[e]=g=W.test(e)?this.mouseHooks:V.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new n.Event(f),b=d.length;while(b--){c=d[b],a[c]=f[c]}return a.target||(a.target=l),3===a.target.nodeType&&(a.target=a.target.parentNode),g.filter?g.filter(a,f):a},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==_()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===_()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&n.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(a){return n.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=n.extend(new n.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?n.event.trigger(e,null,b):n.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},n.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)},n.Event=function(a,b){return this instanceof n.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?Z:$):this.type=a,b&&n.extend(this,b),this.timeStamp=a&&a.timeStamp||n.now(),void (this[n.expando]=!0)):new n.Event(a,b)},n.Event.prototype={isDefaultPrevented:$,isPropagationStopped:$,isImmediatePropagationStopped:$,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=Z,a&&a.preventDefault&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=Z,a&&a.stopPropagation&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=Z,a&&a.stopImmediatePropagation&&a.stopImmediatePropagation(),this.stopPropagation()}},n.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){n.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!n.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),k.focusinBubbles||n.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){n.event.simulate(b,a.target,n.event.fix(a),!0)};n.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=L.access(d,b);e||d.addEventListener(a,c,!0),L.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=L.access(d,b)-1;e?L.access(d,b,e):(d.removeEventListener(a,c,!0),L.remove(d,b))}}}),n.fn.extend({on:function(a,b,c,d,e){var f,g;if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(g in a){this.on(g,b,c,a[g],e)}return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),d===!1){d=$}else{if(!d){return this}}return 1===e&&(f=d,d=function(a){return n().off(a),f.apply(this,arguments)},d.guid=f.guid||(f.guid=n.guid++)),this.each(function(){n.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj){return d=a.handleObj,n(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this}if("object"==typeof a){for(e in a){this.off(e,b,a[e])}return this}return(b===!1||"function"==typeof b)&&(c=b,b=void 0),c===!1&&(c=$),this.each(function(){n.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){n.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?n.event.trigger(a,b,c,!0):void 0}});var aa=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ba=/<([\w:]+)/,ca=/<|&#?\w+;/,da=/<(?:script|style|link)/i,ea=/checked\s*(?:[^=]|=\s*.checked.)/i,fa=/^$|\/(?:java|ecma)script/i,ga=/^true\/(.*)/,ha=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ia={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ia.optgroup=ia.option,ia.tbody=ia.tfoot=ia.colgroup=ia.caption=ia.thead,ia.th=ia.td;function ja(a,b){return n.nodeName(a,"table")&&n.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function ka(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function la(a){var b=ga.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function ma(a,b){for(var c=0,d=a.length;d>c;c++){L.set(a[c],"globalEval",!b||L.get(b[c],"globalEval"))}}function na(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(L.hasData(a)&&(f=L.access(a),g=L.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j){for(c=0,d=j[e].length;d>c;c++){n.event.add(b,e,j[e][c])}}}M.hasData(a)&&(h=M.access(a),i=n.extend({},h),M.set(b,i))}}function oa(a,b){var c=a.getElementsByTagName?a.getElementsByTagName(b||"*"):a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&n.nodeName(a,b)?n.merge([a],c):c}function pa(a,b){var c=b.nodeName.toLowerCase();"input"===c&&T.test(a.type)?b.checked=a.checked:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}n.extend({clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=n.contains(a.ownerDocument,a);if(!(k.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||n.isXMLDoc(a))){for(g=oa(h),f=oa(a),d=0,e=f.length;e>d;d++){pa(f[d],g[d])}}if(b){if(c){for(f=f||oa(a),g=g||oa(h),d=0,e=f.length;e>d;d++){na(f[d],g[d])}}else{na(a,h)}}return g=oa(h,"script"),g.length>0&&ma(g,!i&&oa(a,"script")),h},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,k=b.createDocumentFragment(),l=[],m=0,o=a.length;o>m;m++){if(e=a[m],e||0===e){if("object"===n.type(e)){n.merge(l,e.nodeType?[e]:e)}else{if(ca.test(e)){f=f||k.appendChild(b.createElement("div")),g=(ba.exec(e)||["",""])[1].toLowerCase(),h=ia[g]||ia._default,f.innerHTML=h[1]+e.replace(aa,"<$1></$2>")+h[2],j=h[0];while(j--){f=f.lastChild}n.merge(l,f.childNodes),f=k.firstChild,f.textContent=""}else{l.push(b.createTextNode(e))}}}}k.textContent="",m=0;while(e=l[m++]){if((!d||-1===n.inArray(e,d))&&(i=n.contains(e.ownerDocument,e),f=oa(k.appendChild(e),"script"),i&&ma(f),c)){j=0;while(e=f[j++]){fa.test(e.type||"")&&c.push(e)}}}return k},cleanData:function(a){for(var b,c,d,e,f=n.event.special,g=0;void 0!==(c=a[g]);g++){if(n.acceptData(c)&&(e=c[L.expando],e&&(b=L.cache[e]))){if(b.events){for(d in b.events){f[d]?n.event.remove(c,d):n.removeEvent(c,d,b.handle)}}L.cache[e]&&delete L.cache[e]}delete M.cache[c[M.expando]]}}}),n.fn.extend({text:function(a){return J(this,function(a){return void 0===a?n.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=a)})},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=ja(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=ja(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?n.filter(a,this):this,e=0;null!=(c=d[e]);e++){b||1!==c.nodeType||n.cleanData(oa(c)),c.parentNode&&(b&&n.contains(c.ownerDocument,c)&&ma(oa(c,"script")),c.parentNode.removeChild(c))}return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){1===a.nodeType&&(n.cleanData(oa(a,!1)),a.textContent="")}return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return n.clone(this,a,b)})},html:function(a){return J(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType){return b.innerHTML}if("string"==typeof a&&!da.test(a)&&!ia[(ba.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(aa,"<$1></$2>");try{for(;d>c;c++){b=this[c]||{},1===b.nodeType&&(n.cleanData(oa(b,!1)),b.innerHTML=a)}b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,n.cleanData(oa(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=e.apply([],a);var c,d,f,g,h,i,j=0,l=this.length,m=this,o=l-1,p=a[0],q=n.isFunction(p);if(q||l>1&&"string"==typeof p&&!k.checkClone&&ea.test(p)){return this.each(function(c){var d=m.eq(c);q&&(a[0]=p.call(this,c,d.html())),d.domManip(a,b)})}if(l&&(c=n.buildFragment(a,this[0].ownerDocument,!1,this),d=c.firstChild,1===c.childNodes.length&&(c=d),d)){for(f=n.map(oa(c,"script"),ka),g=f.length;l>j;j++){h=c,j!==o&&(h=n.clone(h,!0,!0),g&&n.merge(f,oa(h,"script"))),b.call(this[j],h,j)}if(g){for(i=f[f.length-1].ownerDocument,n.map(f,la),j=0;g>j;j++){h=f[j],fa.test(h.type||"")&&!L.access(h,"globalEval")&&n.contains(i,h)&&(h.src?n._evalUrl&&n._evalUrl(h.src):n.globalEval(h.textContent.replace(ha,"")))}}}return this}}),n.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){n.fn[a]=function(a){for(var c,d=[],e=n(a),g=e.length-1,h=0;g>=h;h++){c=h===g?this:this.clone(!0),n(e[h])[b](c),f.apply(d,c.get())}return this.pushStack(d)}});var qa,ra={};function sa(b,c){var d,e=n(c.createElement(b)).appendTo(c.body),f=a.getDefaultComputedStyle&&(d=a.getDefaultComputedStyle(e[0]))?d.display:n.css(e[0],"display");return e.detach(),f}function ta(a){var b=l,c=ra[a];return c||(c=sa(a,b),"none"!==c&&c||(qa=(qa||n("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=qa[0].contentDocument,b.write(),b.close(),c=sa(a,b),qa.detach()),ra[a]=c),c}var ua=/^margin/,va=new RegExp("^("+Q+")(?!px)[a-z%]+$","i"),wa=function(b){return b.ownerDocument.defaultView.opener?b.ownerDocument.defaultView.getComputedStyle(b,null):a.getComputedStyle(b,null)};function xa(a,b,c){var d,e,f,g,h=a.style;return c=c||wa(a),c&&(g=c.getPropertyValue(b)||c[b]),c&&(""!==g||n.contains(a.ownerDocument,a)||(g=n.style(a,b)),va.test(g)&&ua.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0!==g?g+"":g}function ya(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}!function(){var b,c,d=l.documentElement,e=l.createElement("div"),f=l.createElement("div");if(f.style){f.style.backgroundClip="content-box",f.cloneNode(!0).style.backgroundClip="",k.clearCloneStyle="content-box"===f.style.backgroundClip,e.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",e.appendChild(f);function g(){f.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",f.innerHTML="",d.appendChild(e);var g=a.getComputedStyle(f,null);b="1%"!==g.top,c="4px"===g.width,d.removeChild(e)}a.getComputedStyle&&n.extend(k,{pixelPosition:function(){return g(),b},boxSizingReliable:function(){return null==c&&g(),c},reliableMarginRight:function(){var b,c=f.appendChild(l.createElement("div"));return c.style.cssText=f.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",c.style.marginRight=c.style.width="0",f.style.width="1px",d.appendChild(e),b=!parseFloat(a.getComputedStyle(c,null).marginRight),d.removeChild(e),f.removeChild(c),b}})}}(),n.swap=function(a,b,c,d){var e,f,g={};for(f in b){g[f]=a.style[f],a.style[f]=b[f]}e=c.apply(a,d||[]);for(f in b){a.style[f]=g[f]}return e};var za=/^(none|table(?!-c[ea]).+)/,Aa=new RegExp("^("+Q+")(.*)$","i"),Ba=new RegExp("^([+-])=("+Q+")","i"),Ca={position:"absolute",visibility:"hidden",display:"block"},Da={letterSpacing:"0",fontWeight:"400"},Ea=["Webkit","O","Moz","ms"];function Fa(a,b){if(b in a){return b}var c=b[0].toUpperCase()+b.slice(1),d=b,e=Ea.length;while(e--){if(b=Ea[e]+c,b in a){return b}}return d}function Ga(a,b,c){var d=Aa.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function Ha(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2){"margin"===c&&(g+=n.css(a,c+R[f],!0,e)),d?("content"===c&&(g-=n.css(a,"padding"+R[f],!0,e)),"margin"!==c&&(g-=n.css(a,"border"+R[f]+"Width",!0,e))):(g+=n.css(a,"padding"+R[f],!0,e),"padding"!==c&&(g+=n.css(a,"border"+R[f]+"Width",!0,e)))}return g}function Ia(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=wa(a),g="border-box"===n.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=xa(a,b,f),(0>e||null==e)&&(e=a.style[b]),va.test(e)){return e}d=g&&(k.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+Ha(a,b,c||(g?"border":"content"),d,f)+"px"}function Ja(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++){d=a[g],d.style&&(f[g]=L.get(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&S(d)&&(f[g]=L.access(d,"olddisplay",ta(d.nodeName)))):(e=S(d),"none"===c&&e||L.set(d,"olddisplay",e?c:n.css(d,"display"))))}for(g=0;h>g;g++){d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"))}return a}n.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=xa(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=n.camelCase(b),i=a.style;return b=n.cssProps[h]||(n.cssProps[h]=Fa(i,h)),g=n.cssHooks[b]||n.cssHooks[h],void 0===c?g&&"get" in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]:(f=typeof c,"string"===f&&(e=Ba.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(n.css(a,b)),f="number"),null!=c&&c===c&&("number"!==f||n.cssNumber[h]||(c+="px"),k.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),g&&"set" in g&&void 0===(c=g.set(a,c,d))||(i[b]=c)),void 0)}},css:function(a,b,c,d){var e,f,g,h=n.camelCase(b);return b=n.cssProps[h]||(n.cssProps[h]=Fa(a.style,h)),g=n.cssHooks[b]||n.cssHooks[h],g&&"get" in g&&(e=g.get(a,!0,c)),void 0===e&&(e=xa(a,b,d)),"normal"===e&&b in Da&&(e=Da[b]),""===c||c?(f=parseFloat(e),c===!0||n.isNumeric(f)?f||0:e):e}}),n.each(["height","width"],function(a,b){n.cssHooks[b]={get:function(a,c,d){return c?za.test(n.css(a,"display"))&&0===a.offsetWidth?n.swap(a,Ca,function(){return Ia(a,b,d)}):Ia(a,b,d):void 0},set:function(a,c,d){var e=d&&wa(a);return Ga(a,c,d?Ha(a,b,d,"border-box"===n.css(a,"boxSizing",!1,e),e):0)}}}),n.cssHooks.marginRight=ya(k.reliableMarginRight,function(a,b){return b?n.swap(a,{display:"inline-block"},xa,[a,"marginRight"]):void 0}),n.each({margin:"",padding:"",border:"Width"},function(a,b){n.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++){e[a+R[d]+b]=f[d]||f[d-2]||f[0]}return e}},ua.test(a)||(n.cssHooks[a+b].set=Ga)}),n.fn.extend({css:function(a,b){return J(this,function(a,b,c){var d,e,f={},g=0;if(n.isArray(b)){for(d=wa(a),e=b.length;e>g;g++){f[b[g]]=n.css(a,b[g],!1,d)}return f}return void 0!==c?n.style(a,b,c):n.css(a,b)},a,b,arguments.length>1)},show:function(){return Ja(this,!0)},hide:function(){return Ja(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){S(this)?n(this).show():n(this).hide()})}});function Ka(a,b,c,d,e){return new Ka.prototype.init(a,b,c,d,e)}n.Tween=Ka,Ka.prototype={constructor:Ka,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(n.cssNumber[c]?"":"px")},cur:function(){var a=Ka.propHooks[this.prop];return a&&a.get?a.get(this):Ka.propHooks._default.get(this)},run:function(a){var b,c=Ka.propHooks[this.prop];return this.options.duration?this.pos=b=n.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Ka.propHooks._default.set(this),this}},Ka.prototype.init.prototype=Ka.prototype,Ka.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=n.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){n.fx.step[a.prop]?n.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[n.cssProps[a.prop]]||n.cssHooks[a.prop])?n.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},Ka.propHooks.scrollTop=Ka.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},n.easing={linear:function(a){return a},swing:function(a){return 0.5-Math.cos(a*Math.PI)/2}},n.fx=Ka.prototype.init,n.fx.step={};var La,Ma,Na=/^(?:toggle|show|hide)$/,Oa=new RegExp("^(?:([+-])=|)("+Q+")([a-z%]*)$","i"),Pa=/queueHooks$/,Qa=[Va],Ra={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=Oa.exec(b),f=e&&e[3]||(n.cssNumber[a]?"":"px"),g=(n.cssNumber[a]||"px"!==f&&+d)&&Oa.exec(n.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do{h=h||".5",g/=h,n.style(c.elem,a,g+f)}while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};function Sa(){return setTimeout(function(){La=void 0}),La=n.now()}function Ta(a,b){var c,d=0,e={height:a};for(b=b?1:0;4>d;d+=2-b){c=R[d],e["margin"+c]=e["padding"+c]=a}return b&&(e.opacity=e.width=a),e}function Ua(a,b,c){for(var d,e=(Ra[b]||[]).concat(Ra["*"]),f=0,g=e.length;g>f;f++){if(d=e[f].call(c,b,a)){return d}}}function Va(a,b,c){var d,e,f,g,h,i,j,k,l=this,m={},o=a.style,p=a.nodeType&&S(a),q=L.get(a,"fxshow");c.queue||(h=n._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,l.always(function(){l.always(function(){h.unqueued--,n.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height" in b||"width" in b)&&(c.overflow=[o.overflow,o.overflowX,o.overflowY],j=n.css(a,"display"),k="none"===j?L.get(a,"olddisplay")||ta(a.nodeName):j,"inline"===k&&"none"===n.css(a,"float")&&(o.display="inline-block")),c.overflow&&(o.overflow="hidden",l.always(function(){o.overflow=c.overflow[0],o.overflowX=c.overflow[1],o.overflowY=c.overflow[2]}));for(d in b){if(e=b[d],Na.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(p?"hide":"show")){if("show"!==e||!q||void 0===q[d]){continue}p=!0}m[d]=q&&q[d]||n.style(a,d)}else{j=void 0}}if(n.isEmptyObject(m)){"inline"===("none"===j?ta(a.nodeName):j)&&(o.display=j)}else{q?"hidden" in q&&(p=q.hidden):q=L.access(a,"fxshow",{}),f&&(q.hidden=!p),p?n(a).show():l.done(function(){n(a).hide()}),l.done(function(){var b;L.remove(a,"fxshow");for(b in m){n.style(a,b,m[b])}});for(d in m){g=Ua(p?q[d]:0,d,l),d in q||(q[d]=g.start,p&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}}function Wa(a,b){var c,d,e,f,g;for(c in a){if(d=n.camelCase(c),e=b[d],f=a[c],n.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=n.cssHooks[d],g&&"expand" in g){f=g.expand(f),delete a[d];for(c in f){c in a||(a[c]=f[c],b[c]=e)}}else{b[d]=e}}}function Xa(a,b,c){var d,e,f=0,g=Qa.length,h=n.Deferred().always(function(){delete i.elem}),i=function(){if(e){return !1}for(var b=La||Sa(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++){j.tweens[g].run(f)}return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:n.extend({},b),opts:n.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:La||Sa(),duration:c.duration,tweens:[],createTween:function(b,c){var d=n.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e){return this}for(e=!0;d>c;c++){j.tweens[c].run(1)}return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(Wa(k,j.opts.specialEasing);g>f;f++){if(d=Qa[f].call(j,a,k,j.opts)){return d}}return n.map(k,Ua,j),n.isFunction(j.opts.start)&&j.opts.start.call(a,j),n.fx.timer(n.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}n.Animation=n.extend(Xa,{tweener:function(a,b){n.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++){c=a[d],Ra[c]=Ra[c]||[],Ra[c].unshift(b)}},prefilter:function(a,b){b?Qa.unshift(a):Qa.push(a)}}),n.speed=function(a,b,c){var d=a&&"object"==typeof a?n.extend({},a):{complete:c||!c&&b||n.isFunction(a)&&a,duration:a,easing:c&&b||b&&!n.isFunction(b)&&b};return d.duration=n.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in n.fx.speeds?n.fx.speeds[d.duration]:n.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){n.isFunction(d.old)&&d.old.call(this),d.queue&&n.dequeue(this,d.queue)},d},n.fn.extend({fadeTo:function(a,b,c,d){return this.filter(S).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=n.isEmptyObject(a),f=n.speed(b,c,d),g=function(){var b=Xa(this,n.extend({},a),f);(e||L.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=n.timers,g=L.get(this);if(e){g[e]&&g[e].stop&&d(g[e])}else{for(e in g){g[e]&&g[e].stop&&Pa.test(e)&&d(g[e])}}for(e=f.length;e--;){f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1))}(b||!c)&&n.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=L.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=n.timers,g=d?d.length:0;for(c.finish=!0,n.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;){f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1))}for(b=0;g>b;b++){d[b]&&d[b].finish&&d[b].finish.call(this)}delete c.finish})}}),n.each(["toggle","show","hide"],function(a,b){var c=n.fn[b];n.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(Ta(b,!0),a,d,e)}}),n.each({slideDown:Ta("show"),slideUp:Ta("hide"),slideToggle:Ta("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){n.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),n.timers=[],n.fx.tick=function(){var a,b=0,c=n.timers;for(La=n.now();b<c.length;b++){a=c[b],a()||c[b]!==a||c.splice(b--,1)}c.length||n.fx.stop(),La=void 0},n.fx.timer=function(a){n.timers.push(a),a()?n.fx.start():n.timers.pop()},n.fx.interval=13,n.fx.start=function(){Ma||(Ma=setInterval(n.fx.tick,n.fx.interval))},n.fx.stop=function(){clearInterval(Ma),Ma=null},n.fx.speeds={slow:600,fast:200,_default:400},n.fn.delay=function(a,b){return a=n.fx?n.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a=l.createElement("input"),b=l.createElement("select"),c=b.appendChild(l.createElement("option"));a.type="checkbox",k.checkOn=""!==a.value,k.optSelected=c.selected,b.disabled=!0,k.optDisabled=!c.disabled,a=l.createElement("input"),a.value="t",a.type="radio",k.radioValue="t"===a.value}();var Ya,Za,$a=n.expr.attrHandle;n.fn.extend({attr:function(a,b){return J(this,n.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){n.removeAttr(this,a)})}}),n.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f){return typeof a.getAttribute===U?n.prop(a,b,c):(1===f&&n.isXMLDoc(a)||(b=b.toLowerCase(),d=n.attrHooks[b]||(n.expr.match.bool.test(b)?Za:Ya)),void 0===c?d&&"get" in d&&null!==(e=d.get(a,b))?e:(e=n.find.attr(a,b),null==e?void 0:e):null!==c?d&&"set" in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+""),c):void n.removeAttr(a,b))}},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(E);if(f&&1===a.nodeType){while(c=f[e++]){d=n.propFix[c]||c,n.expr.match.bool.test(c)&&(a[d]=!1),a.removeAttribute(c)}}},attrHooks:{type:{set:function(a,b){if(!k.radioValue&&"radio"===b&&n.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),Za={set:function(a,b,c){return b===!1?n.removeAttr(a,c):a.setAttribute(c,c),c}},n.each(n.expr.match.bool.source.match(/\w+/g),function(a,b){var c=$a[b]||n.find.attr;$a[b]=function(a,b,d){var e,f;return d||(f=$a[b],$a[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,$a[b]=f),e}});var _a=/^(?:input|select|textarea|button)$/i;n.fn.extend({prop:function(a,b){return J(this,n.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[n.propFix[a]||a]})}}),n.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var d,e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g){return f=1!==g||!n.isXMLDoc(a),f&&(b=n.propFix[b]||b,e=n.propHooks[b]),void 0!==c?e&&"set" in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get" in e&&null!==(d=e.get(a,b))?d:a[b]}},propHooks:{tabIndex:{get:function(a){return a.hasAttribute("tabindex")||_a.test(a.nodeName)||a.href?a.tabIndex:-1}}}}),k.optSelected||(n.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null}}),n.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){n.propFix[this.toLowerCase()]=this});var ab=/[\t\r\n\f]/g;n.fn.extend({addClass:function(a){var b,c,d,e,f,g,h="string"==typeof a&&a,i=0,j=this.length;if(n.isFunction(a)){return this.each(function(b){n(this).addClass(a.call(this,b,this.className))})}if(h){for(b=(a||"").match(E)||[];j>i;i++){if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(ab," "):" ")){f=0;while(e=b[f++]){d.indexOf(" "+e+" ")<0&&(d+=e+" ")}g=n.trim(d),c.className!==g&&(c.className=g)}}}return this},removeClass:function(a){var b,c,d,e,f,g,h=0===arguments.length||"string"==typeof a&&a,i=0,j=this.length;if(n.isFunction(a)){return this.each(function(b){n(this).removeClass(a.call(this,b,this.className))})}if(h){for(b=(a||"").match(E)||[];j>i;i++){if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(ab," "):"")){f=0;while(e=b[f++]){while(d.indexOf(" "+e+" ")>=0){d=d.replace(" "+e+" "," ")}}g=a?n.trim(d):"",c.className!==g&&(c.className=g)}}}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):this.each(n.isFunction(a)?function(c){n(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c){var b,d=0,e=n(this),f=a.match(E)||[];while(b=f[d++]){e.hasClass(b)?e.removeClass(b):e.addClass(b)}}else{(c===U||"boolean"===c)&&(this.className&&L.set(this,"__className__",this.className),this.className=this.className||a===!1?"":L.get(this,"__className__")||"")}})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++){if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(ab," ").indexOf(b)>=0){return !0}}return !1}});var bb=/\r/g;n.fn.extend({val:function(a){var b,c,d,e=this[0];if(arguments.length){return d=n.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,n(this).val()):a,null==e?e="":"number"==typeof e?e+="":n.isArray(e)&&(e=n.map(e,function(a){return null==a?"":a+""})),b=n.valHooks[this.type]||n.valHooks[this.nodeName.toLowerCase()],b&&"set" in b&&void 0!==b.set(this,e,"value")||(this.value=e))})}if(e){return b=n.valHooks[e.type]||n.valHooks[e.nodeName.toLowerCase()],b&&"get" in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(bb,""):null==c?"":c)}}}),n.extend({valHooks:{option:{get:function(a){var b=n.find.attr(a,"value");return null!=b?b:n.trim(n.text(a))}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++){if(c=d[i],!(!c.selected&&i!==e||(k.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&n.nodeName(c.parentNode,"optgroup"))){if(b=n(c).val(),f){return b}g.push(b)}}return g},set:function(a,b){var c,d,e=a.options,f=n.makeArray(b),g=e.length;while(g--){d=e[g],(d.selected=n.inArray(d.value,f)>=0)&&(c=!0)}return c||(a.selectedIndex=-1),f}}}}),n.each(["radio","checkbox"],function(){n.valHooks[this]={set:function(a,b){return n.isArray(b)?a.checked=n.inArray(n(a).val(),b)>=0:void 0}},k.checkOn||(n.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})}),n.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){n.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),n.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var cb=n.now(),db=/\?/;n.parseJSON=function(a){return JSON.parse(a+"")},n.parseXML=function(a){var b,c;if(!a||"string"!=typeof a){return null}try{c=new DOMParser,b=c.parseFromString(a,"text/xml")}catch(d){b=void 0}return(!b||b.getElementsByTagName("parsererror").length)&&n.error("Invalid XML: "+a),b};var eb=/#.*$/,fb=/([?&])_=[^&]*/,gb=/^(.*?):[ \t]*([^\r\n]*)$/gm,hb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,ib=/^(?:GET|HEAD)$/,jb=/^\/\//,kb=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,lb={},mb={},nb="*/".concat("*"),ob=a.location.href,pb=kb.exec(ob.toLowerCase())||[];function qb(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(E)||[];if(n.isFunction(c)){while(d=f[e++]){"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}}}function rb(a,b,c,d){var e={},f=a===mb;function g(h){var i;return e[h]=!0,n.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e["*"]&&g("*")}function sb(a,b){var c,d,e=n.ajaxSettings.flatOptions||{};for(c in b){void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c])}return d&&n.extend(!0,a,d),a}function tb(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while("*"===i[0]){i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"))}if(d){for(e in h){if(h[e]&&h[e].test(d)){i.unshift(e);break}}}if(i[0] in c){f=i[0]}else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function ub(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1]){for(g in a.converters){j[g.toLowerCase()]=a.converters[g]}}f=k.shift();while(f){if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift()){if("*"===f){f=i}else{if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g){for(e in j){if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}}}if(g!==!0){if(g&&a["throws"]){b=g(b)}else{try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}}}}}}return{state:"success",data:b}}n.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ob,type:"GET",isLocal:hb.test(pb[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":nb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":n.parseJSON,"text xml":n.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?sb(sb(a,n.ajaxSettings),b):sb(n.ajaxSettings,a)},ajaxPrefilter:qb(lb),ajaxTransport:qb(mb),ajax:function(a,b){"object"==typeof a&&(b=a,a=void 0),b=b||{};var c,d,e,f,g,h,i,j,k=n.ajaxSetup({},b),l=k.context||k,m=k.context&&(l.nodeType||l.jquery)?n(l):n.event,o=n.Deferred(),p=n.Callbacks("once memory"),q=k.statusCode||{},r={},s={},t=0,u="canceled",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!f){f={};while(b=gb.exec(e)){f[b[1].toLowerCase()]=b[2]}}b=f[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?e:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(k.mimeType=a),this},statusCode:function(a){var b;if(a){if(2>t){for(b in a){q[b]=[q[b],a[b]]}}else{v.always(a[v.status])}}return this},abort:function(a){var b=a||u;return c&&c.abort(b),x(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,k.url=((a||k.url||ob)+"").replace(eb,"").replace(jb,pb[1]+"//"),k.type=b.method||b.type||k.method||k.type,k.dataTypes=n.trim(k.dataType||"*").toLowerCase().match(E)||[""],null==k.crossDomain&&(h=kb.exec(k.url.toLowerCase()),k.crossDomain=!(!h||h[1]===pb[1]&&h[2]===pb[2]&&(h[3]||("http:"===h[1]?"80":"443"))===(pb[3]||("http:"===pb[1]?"80":"443")))),k.data&&k.processData&&"string"!=typeof k.data&&(k.data=n.param(k.data,k.traditional)),rb(lb,k,b,v),2===t){return v}i=n.event&&k.global,i&&0===n.active++&&n.event.trigger("ajaxStart"),k.type=k.type.toUpperCase(),k.hasContent=!ib.test(k.type),d=k.url,k.hasContent||(k.data&&(d=k.url+=(db.test(d)?"&":"?")+k.data,delete k.data),k.cache===!1&&(k.url=fb.test(d)?d.replace(fb,"$1_="+cb++):d+(db.test(d)?"&":"?")+"_="+cb++)),k.ifModified&&(n.lastModified[d]&&v.setRequestHeader("If-Modified-Since",n.lastModified[d]),n.etag[d]&&v.setRequestHeader("If-None-Match",n.etag[d])),(k.data&&k.hasContent&&k.contentType!==!1||b.contentType)&&v.setRequestHeader("Content-Type",k.contentType),v.setRequestHeader("Accept",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+("*"!==k.dataTypes[0]?", "+nb+"; q=0.01":""):k.accepts["*"]);for(j in k.headers){v.setRequestHeader(j,k.headers[j])}if(k.beforeSend&&(k.beforeSend.call(l,v,k)===!1||2===t)){return v.abort()}u="abort";for(j in {success:1,error:1,complete:1}){v[j](k[j])}if(c=rb(mb,k,b,v)){v.readyState=1,i&&m.trigger("ajaxSend",[v,k]),k.async&&k.timeout>0&&(g=setTimeout(function(){v.abort("timeout")},k.timeout));try{t=1,c.send(r,x)}catch(w){if(!(2>t)){throw w}x(-1,w)}}else{x(-1,"No Transport")}function x(a,b,f,h){var j,r,s,u,w,x=b;2!==t&&(t=2,g&&clearTimeout(g),c=void 0,e=h||"",v.readyState=a>0?4:0,j=a>=200&&300>a||304===a,f&&(u=tb(k,v,f)),u=ub(k,u,v,j),j?(k.ifModified&&(w=v.getResponseHeader("Last-Modified"),w&&(n.lastModified[d]=w),w=v.getResponseHeader("etag"),w&&(n.etag[d]=w)),204===a||"HEAD"===k.type?x="nocontent":304===a?x="notmodified":(x=u.state,r=u.data,s=u.error,j=!s)):(s=x,(a||!x)&&(x="error",0>a&&(a=0))),v.status=a,v.statusText=(b||x)+"",j?o.resolveWith(l,[r,x,v]):o.rejectWith(l,[v,x,s]),v.statusCode(q),q=void 0,i&&m.trigger(j?"ajaxSuccess":"ajaxError",[v,k,j?r:s]),p.fireWith(l,[v,x]),i&&(m.trigger("ajaxComplete",[v,k]),--n.active||n.event.trigger("ajaxStop")))}return v},getJSON:function(a,b,c){return n.get(a,b,c,"json")},getScript:function(a,b){return n.get(a,void 0,b,"script")}}),n.each(["get","post"],function(a,b){n[b]=function(a,c,d,e){return n.isFunction(c)&&(e=e||d,d=c,c=void 0),n.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),n._evalUrl=function(a){return n.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},n.fn.extend({wrapAll:function(a){var b;return n.isFunction(a)?this.each(function(b){n(this).wrapAll(a.call(this,b))}):(this[0]&&(b=n(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstElementChild){a=a.firstElementChild}return a}).append(this)),this)},wrapInner:function(a){return this.each(n.isFunction(a)?function(b){n(this).wrapInner(a.call(this,b))}:function(){var b=n(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=n.isFunction(a);return this.each(function(c){n(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){n.nodeName(this,"body")||n(this).replaceWith(this.childNodes)}).end()}}),n.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0},n.expr.filters.visible=function(a){return !n.expr.filters.hidden(a)};var vb=/%20/g,wb=/\[\]$/,xb=/\r?\n/g,yb=/^(?:submit|button|image|reset|file)$/i,zb=/^(?:input|select|textarea|keygen)/i;function Ab(a,b,c,d){var e;if(n.isArray(b)){n.each(b,function(b,e){c||wb.test(a)?d(a,e):Ab(a+"["+("object"==typeof e?b:"")+"]",e,c,d)})}else{if(c||"object"!==n.type(b)){d(a,b)}else{for(e in b){Ab(a+"["+e+"]",b[e],c,d)}}}}n.param=function(a,b){var c,d=[],e=function(a,b){b=n.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=n.ajaxSettings&&n.ajaxSettings.traditional),n.isArray(a)||a.jquery&&!n.isPlainObject(a)){n.each(a,function(){e(this.name,this.value)})}else{for(c in a){Ab(c,a[c],b,e)}}return d.join("&").replace(vb,"+")},n.fn.extend({serialize:function(){return n.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=n.prop(this,"elements");return a?n.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!n(this).is(":disabled")&&zb.test(this.nodeName)&&!yb.test(a)&&(this.checked||!T.test(a))}).map(function(a,b){var c=n(this).val();return null==c?null:n.isArray(c)?n.map(c,function(a){return{name:b.name,value:a.replace(xb,"\r\n")}}):{name:b.name,value:c.replace(xb,"\r\n")}}).get()}}),n.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(a){}};var Bb=0,Cb={},Db={0:200,1223:204},Eb=n.ajaxSettings.xhr();a.attachEvent&&a.attachEvent("onunload",function(){for(var a in Cb){Cb[a]()}}),k.cors=!!Eb&&"withCredentials" in Eb,k.ajax=Eb=!!Eb,n.ajaxTransport(function(a){var b;return k.cors||Eb&&!a.crossDomain?{send:function(c,d){var e,f=a.xhr(),g=++Bb;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields){for(e in a.xhrFields){f[e]=a.xhrFields[e]}}a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c){f.setRequestHeader(e,c[e])}b=function(a){return function(){b&&(delete Cb[g],b=f.onload=f.onerror=null,"abort"===a?f.abort():"error"===a?d(f.status,f.statusText):d(Db[f.status]||f.status,f.statusText,"string"==typeof f.responseText?{text:f.responseText}:void 0,f.getAllResponseHeaders()))}},f.onload=b(),f.onerror=b("error"),b=Cb[g]=b("abort");try{f.send(a.hasContent&&a.data||null)}catch(h){if(b){throw h}}},abort:function(){b&&b()}}:void 0}),n.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return n.globalEval(a),a}}}),n.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),n.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(d,e){b=n("<script>").prop({async:!0,charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&e("error"===a.type?404:200,a.type)}),l.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Fb=[],Gb=/(=)\?(?=&|$)|\?\?/;n.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Fb.pop()||n.expando+"_"+cb++;return this[a]=!0,a}}),n.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(Gb.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Gb.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=n.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Gb,"$1"+e):b.jsonp!==!1&&(b.url+=(db.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||n.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Fb.push(e)),g&&n.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),n.parseHTML=function(a,b,c){if(!a||"string"!=typeof a){return null}"boolean"==typeof b&&(c=b,b=!1),b=b||l;var d=v.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=n.buildFragment([a],b,e),e&&e.length&&n(e).remove(),n.merge([],d.childNodes))};var Hb=n.fn.load;n.fn.load=function(a,b,c){if("string"!=typeof a&&Hb){return Hb.apply(this,arguments)}var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&(d=n.trim(a.slice(h)),a=a.slice(0,h)),n.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&n.ajax({url:a,type:e,dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?n("<div>").append(n.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,f||[a.responseText,b,a])}),this},n.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){n.fn[b]=function(a){return this.on(b,a)}}),n.expr.filters.animated=function(a){return n.grep(n.timers,function(b){return a===b.elem}).length};var Ib=a.document.documentElement;function Jb(a){return n.isWindow(a)?a:9===a.nodeType&&a.defaultView}n.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=n.css(a,"position"),l=n(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=n.css(a,"top"),i=n.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),n.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using" in b?b.using.call(a,m):l.css(m)}},n.fn.extend({offset:function(a){if(arguments.length){return void 0===a?this:this.each(function(b){n.offset.setOffset(this,a,b)})}var b,c,d=this[0],e={top:0,left:0},f=d&&d.ownerDocument;if(f){return b=f.documentElement,n.contains(b,d)?(typeof d.getBoundingClientRect!==U&&(e=d.getBoundingClientRect()),c=Jb(f),{top:e.top+c.pageYOffset-b.clientTop,left:e.left+c.pageXOffset-b.clientLeft}):e}},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===n.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),n.nodeName(a[0],"html")||(d=a.offset()),d.top+=n.css(a[0],"borderTopWidth",!0),d.left+=n.css(a[0],"borderLeftWidth",!0)),{top:b.top-d.top-n.css(c,"marginTop",!0),left:b.left-d.left-n.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||Ib;while(a&&!n.nodeName(a,"html")&&"static"===n.css(a,"position")){a=a.offsetParent}return a||Ib})}}),n.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(b,c){var d="pageYOffset"===c;n.fn[b]=function(e){return J(this,function(b,e,f){var g=Jb(b);return void 0===f?g?g[c]:b[e]:void (g?g.scrollTo(d?a.pageXOffset:f,d?f:a.pageYOffset):b[e]=f)},b,e,arguments.length,null)}}),n.each(["top","left"],function(a,b){n.cssHooks[b]=ya(k.pixelPosition,function(a,c){return c?(c=xa(a,b),va.test(c)?n(a).position()[b]+"px":c):void 0})}),n.each({Height:"height",Width:"width"},function(a,b){n.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){n.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return J(this,function(b,c,d){var e;return n.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?n.css(b,c,g):n.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),n.fn.size=function(){return this.length},n.fn.andSelf=n.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return n});var Kb=a.jQuery,Lb=a.$;return n.noConflict=function(b){return a.$===n&&(a.$=Lb),b&&a.jQuery===n&&(a.jQuery=Kb),n},typeof b===U&&(a.jQuery=a.$=n),n});
/*!
 * jQuery Cookie Plugin v1.4.1
 * https://github.com/carhartl/jquery-cookie
 *
 * Copyright 2006, 2014 Klaus Hartl
 * Released under the MIT license
 */
(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{if(typeof exports==="object"){module.exports=a(require("jquery"))}else{a(jQuery)}}}(function(h){var a=/\+/g;function e(o){return c.raw?o:encodeURIComponent(o)}function l(o){return c.raw?o:decodeURIComponent(o)}function n(o){return e(c.json?JSON.stringify(o):String(o))}function d(o){if(o.indexOf('"')===0){o=o.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\")}try{o=decodeURIComponent(o.replace(a," "));return c.json?JSON.parse(o):o}catch(q){}}function f(q,o){var t=c.raw?q:d(q);return h.isFunction(o)?o(t):t}var c=h.cookie=function(z,w,D){if(arguments.length>1&&!h.isFunction(w)){D=h.extend({},c.defaults,D);if(typeof D.expires==="number"){var A=D.expires,C=D.expires=new Date();C.setMilliseconds(C.getMilliseconds()+A*86400000)}return(document.cookie=[e(z),"=",n(w),D.expires?"; expires="+D.expires.toUTCString():"",D.path?"; path="+D.path:"",D.domain?"; domain="+D.domain:"",D.secure?"; secure":""].join(""))}var E=z?undefined:{},B=document.cookie?document.cookie.split("; "):[],v=0,s=B.length;for(;v<s;v++){var u=B[v].split("="),o=l(u.shift()),q=u.join("=");if(z===o){E=f(q,w);break}if(!z&&(q=f(q))!==undefined){E[o]=q}}return E};c.defaults={};h.removeCookie=function(q,o){h.cookie(q,"",h.extend({},o,{expires:-1}));return !h.cookie(q)}}));Date.CultureInfo={name:"en-US",englishName:"English (United States)",nativeName:"English (United States)",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],abbreviatedDayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],shortestDayNames:["Su","Mo","Tu","We","Th","Fr","Sa"],firstLetterDayNames:["S","M","T","W","T","F","S"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],abbreviatedMonthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],amDesignator:"AM",pmDesignator:"PM",firstDayOfWeek:0,twoDigitYearMax:2029,dateElementOrder:"mdy",formatPatterns:{shortDate:"M/d/yyyy",longDate:"dddd, MMMM dd, yyyy",shortTime:"h:mm tt",longTime:"h:mm:ss tt",fullDateTime:"dddd, MMMM dd, yyyy h:mm:ss tt",sortableDateTime:"yyyy-MM-ddTHH:mm:ss",universalSortableDateTime:"yyyy-MM-dd HH:mm:ssZ",rfc1123:"ddd, dd MMM yyyy HH:mm:ss GMT",monthDay:"MMMM dd",yearMonth:"MMMM, yyyy"},regexPatterns:{jan:/^jan(uary)?/i,feb:/^feb(ruary)?/i,mar:/^mar(ch)?/i,apr:/^apr(il)?/i,may:/^may/i,jun:/^jun(e)?/i,jul:/^jul(y)?/i,aug:/^aug(ust)?/i,sep:/^sep(t(ember)?)?/i,oct:/^oct(ober)?/i,nov:/^nov(ember)?/i,dec:/^dec(ember)?/i,sun:/^su(n(day)?)?/i,mon:/^mo(n(day)?)?/i,tue:/^tu(e(s(day)?)?)?/i,wed:/^we(d(nesday)?)?/i,thu:/^th(u(r(s(day)?)?)?)?/i,fri:/^fr(i(day)?)?/i,sat:/^sa(t(urday)?)?/i,future:/^next/i,past:/^last|past|prev(ious)?/i,add:/^(\+|after|from)/i,subtract:/^(\-|before|ago)/i,yesterday:/^yesterday/i,today:/^t(oday)?/i,tomorrow:/^tomorrow/i,now:/^n(ow)?/i,millisecond:/^ms|milli(second)?s?/i,second:/^sec(ond)?s?/i,minute:/^min(ute)?s?/i,hour:/^h(ou)?rs?/i,week:/^w(ee)?k/i,month:/^m(o(nth)?s?)?/i,day:/^d(ays?)?/i,year:/^y((ea)?rs?)?/i,shortMeridian:/^(a|p)/i,longMeridian:/^(a\.?m?\.?|p\.?m?\.?)/i,timezone:/^((e(s|d)t|c(s|d)t|m(s|d)t|p(s|d)t)|((gmt)?\s*(\+|\-)\s*\d\d\d\d?)|gmt)/i,ordinalSuffix:/^\s*(st|nd|rd|th)/i,timeContext:/^\s*(\:|a|p)/i},abbreviatedTimeZoneStandard:{GMT:"-000",EST:"-0400",CST:"-0500",MST:"-0600",PST:"-0700"},abbreviatedTimeZoneDST:{GMT:"-000",EDT:"-0500",CDT:"-0600",MDT:"-0700",PDT:"-0800"}};Date.getMonthNumberFromName=function(c){var f=Date.CultureInfo.monthNames,a=Date.CultureInfo.abbreviatedMonthNames,e=c.toLowerCase();for(var d=0;d<f.length;d++){if(f[d].toLowerCase()==e||a[d].toLowerCase()==e){return d}}return -1};Date.getDayNumberFromName=function(c){var h=Date.CultureInfo.dayNames,a=Date.CultureInfo.abbreviatedDayNames,f=Date.CultureInfo.shortestDayNames,e=c.toLowerCase();for(var d=0;d<h.length;d++){if(h[d].toLowerCase()==e||a[d].toLowerCase()==e){return d}}return -1};Date.isLeapYear=function(a){return(((a%4===0)&&(a%100!==0))||(a%400===0))};Date.getDaysInMonth=function(a,c){return[31,(Date.isLeapYear(a)?29:28),31,30,31,30,31,31,30,31,30,31][c]};Date.getTimezoneOffset=function(a,c){return(c||false)?Date.CultureInfo.abbreviatedTimeZoneDST[a.toUpperCase()]:Date.CultureInfo.abbreviatedTimeZoneStandard[a.toUpperCase()]};Date.getTimezoneAbbreviation=function(c,e){var d=(e||false)?Date.CultureInfo.abbreviatedTimeZoneDST:Date.CultureInfo.abbreviatedTimeZoneStandard,a;for(a in d){if(d[a]===c){return a}}return null};Date.prototype.clone=function(){return new Date(this.getTime())};Date.prototype.compareTo=function(a){if(isNaN(this)){throw new Error(this)}if(a instanceof Date&&!isNaN(a)){return(this>a)?1:(this<a)?-1:0}else{throw new TypeError(a)}};Date.prototype.equals=function(a){return(this.compareTo(a)===0)};Date.prototype.between=function(d,a){var c=this.getTime();return c>=d.getTime()&&c<=a.getTime()};Date.prototype.addMilliseconds=function(a){this.setMilliseconds(this.getMilliseconds()+a);return this};Date.prototype.addSeconds=function(a){return this.addMilliseconds(a*1000)};Date.prototype.addMinutes=function(a){return this.addMilliseconds(a*60000)};Date.prototype.addHours=function(a){return this.addMilliseconds(a*3600000)};Date.prototype.addDays=function(a){return this.addMilliseconds(a*86400000)};Date.prototype.addWeeks=function(a){return this.addMilliseconds(a*604800000)};Date.prototype.addMonths=function(a){var c=this.getDate();this.setDate(1);this.setMonth(this.getMonth()+a);this.setDate(Math.min(c,this.getDaysInMonth()));return this};Date.prototype.addYears=function(a){return this.addMonths(a*12)};Date.prototype.add=function(c){if(typeof c=="number"){this._orient=c;return this}var a=c;if(a.millisecond||a.milliseconds){this.addMilliseconds(a.millisecond||a.milliseconds)}if(a.second||a.seconds){this.addSeconds(a.second||a.seconds)}if(a.minute||a.minutes){this.addMinutes(a.minute||a.minutes)}if(a.hour||a.hours){this.addHours(a.hour||a.hours)}if(a.month||a.months){this.addMonths(a.month||a.months)}if(a.year||a.years){this.addYears(a.year||a.years)}if(a.day||a.days){this.addDays(a.day||a.days)}return this};Date._validate=function(e,d,a,c){if(typeof e!="number"){throw new TypeError(e+" is not a Number.")}else{if(e<d||e>a){throw new RangeError(e+" is not a valid value for "+c+".")}}return true};Date.validateMillisecond=function(a){return Date._validate(a,0,999,"milliseconds")};Date.validateSecond=function(a){return Date._validate(a,0,59,"seconds")};Date.validateMinute=function(a){return Date._validate(a,0,59,"minutes")};Date.validateHour=function(a){return Date._validate(a,0,23,"hours")};Date.validateDay=function(d,a,c){return Date._validate(d,1,Date.getDaysInMonth(a,c),"days")};Date.validateMonth=function(a){return Date._validate(a,0,11,"months")};Date.validateYear=function(a){return Date._validate(a,1,9999,"seconds")};Date.prototype.set=function(c){var a=c;if(!a.millisecond&&a.millisecond!==0){a.millisecond=-1}if(!a.second&&a.second!==0){a.second=-1}if(!a.minute&&a.minute!==0){a.minute=-1}if(!a.hour&&a.hour!==0){a.hour=-1}if(!a.day&&a.day!==0){a.day=-1}if(!a.month&&a.month!==0){a.month=-1}if(!a.year&&a.year!==0){a.year=-1}if(a.millisecond!=-1&&Date.validateMillisecond(a.millisecond)){this.addMilliseconds(a.millisecond-this.getMilliseconds())}if(a.second!=-1&&Date.validateSecond(a.second)){this.addSeconds(a.second-this.getSeconds())}if(a.minute!=-1&&Date.validateMinute(a.minute)){this.addMinutes(a.minute-this.getMinutes())}if(a.hour!=-1&&Date.validateHour(a.hour)){this.addHours(a.hour-this.getHours())}if(a.month!==-1&&Date.validateMonth(a.month)){this.addMonths(a.month-this.getMonth())}if(a.year!=-1&&Date.validateYear(a.year)){this.addYears(a.year-this.getFullYear())}if(a.day!=-1&&Date.validateDay(a.day,this.getFullYear(),this.getMonth())){this.addDays(a.day-this.getDate())}if(a.timezone){this.setTimezone(a.timezone)}if(a.timezoneOffset){this.setTimezoneOffset(a.timezoneOffset)}return this};Date.prototype.clearTime=function(){this.setHours(0);this.setMinutes(0);this.setSeconds(0);this.setMilliseconds(0);return this};Date.prototype.isLeapYear=function(){var a=this.getFullYear();return(((a%4===0)&&(a%100!==0))||(a%400===0))};Date.prototype.isWeekday=function(){return !(this.is().sat()||this.is().sun())};Date.prototype.getDaysInMonth=function(){return Date.getDaysInMonth(this.getFullYear(),this.getMonth())};Date.prototype.moveToFirstDayOfMonth=function(){return this.set({day:1})};Date.prototype.moveToLastDayOfMonth=function(){return this.set({day:this.getDaysInMonth()})};Date.prototype.moveToDayOfWeek=function(a,c){var d=(a-this.getDay()+7*(c||+1))%7;return this.addDays((d===0)?d+=7*(c||+1):d)};Date.prototype.moveToMonth=function(d,a){var c=(d-this.getMonth()+12*(a||+1))%12;return this.addMonths((c===0)?c+=12*(a||+1):c)};Date.prototype.getDayOfYear=function(){return Math.floor((this-new Date(this.getFullYear(),0,1))/86400000)};Date.prototype.getWeekOfYear=function(a){var n=this.getFullYear(),e=this.getMonth(),h=this.getDate();var q=a||Date.CultureInfo.firstDayOfWeek;var f=7+1-new Date(n,0,1).getDay();if(f==8){f=1}var c=((Date.UTC(n,e,h,0,0,0)-Date.UTC(n,0,1,0,0,0))/86400000)+1;var o=Math.floor((c-f+7)/7);if(o===q){n--;var l=7+1-new Date(n,0,1).getDay();if(l==2||l==8){o=53}else{o=52}}return o};Date.prototype.isDST=function(){console.log("isDST");return this.toString().match(/(E|C|M|P)(S|D)T/)[2]=="D"};Date.prototype.getTimezone=function(){return Date.getTimezoneAbbreviation(this.getUTCOffset,this.isDST())};Date.prototype.setTimezoneOffset=function(c){var a=this.getTimezoneOffset(),d=Number(c)*-6/10;this.addMinutes(d-a);return this};Date.prototype.setTimezone=function(a){return this.setTimezoneOffset(Date.getTimezoneOffset(a))};Date.prototype.getUTCOffset=function(){var c=this.getTimezoneOffset()*-10/6,a;if(c<0){a=(c-10000).toString();return a[0]+a.substr(2)}else{a=(c+10000).toString();return"+"+a.substr(1)}};Date.prototype.getDayName=function(a){return a?Date.CultureInfo.abbreviatedDayNames[this.getDay()]:Date.CultureInfo.dayNames[this.getDay()]};Date.prototype.getMonthName=function(a){return a?Date.CultureInfo.abbreviatedMonthNames[this.getMonth()]:Date.CultureInfo.monthNames[this.getMonth()]};Date.prototype._toString=Date.prototype.toString;Date.prototype.toString=function(d){var a=this;var c=function c(e){return(e.toString().length==1)?"0"+e:e};return d?d.replace(/dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?/g,function(e){switch(e){case"hh":return c(a.getHours()<13?a.getHours():(a.getHours()-12));case"h":return a.getHours()<13?a.getHours():(a.getHours()-12);case"HH":return c(a.getHours());case"H":return a.getHours();case"mm":return c(a.getMinutes());case"m":return a.getMinutes();case"ss":return c(a.getSeconds());case"s":return a.getSeconds();case"yyyy":return a.getFullYear();case"yy":return a.getFullYear().toString().substring(2,4);case"dddd":return a.getDayName();case"ddd":return a.getDayName(true);case"dd":return c(a.getDate());case"d":return a.getDate().toString();case"MMMM":return a.getMonthName();case"MMM":return a.getMonthName(true);case"MM":return c((a.getMonth()+1));case"M":return a.getMonth()+1;case"t":return a.getHours()<12?Date.CultureInfo.amDesignator.substring(0,1):Date.CultureInfo.pmDesignator.substring(0,1);case"tt":return a.getHours()<12?Date.CultureInfo.amDesignator:Date.CultureInfo.pmDesignator;case"zzz":case"zz":case"z":return""}}):this._toString()};Date.now=function(){return new Date()};Date.today=function(){return Date.now().clearTime()};Date.prototype._orient=+1;Date.prototype.next=function(){this._orient=+1;return this};Date.prototype.last=Date.prototype.prev=Date.prototype.previous=function(){this._orient=-1;return this};Date.prototype._is=false;Date.prototype.is=function(){this._is=true;return this};Number.prototype._dateElement="day";Number.prototype.fromNow=function(){var a={};a[this._dateElement]=this;return Date.now().add(a)};Number.prototype.ago=function(){var a={};a[this._dateElement]=this*-1;return Date.now().add(a)};(function(){var l=Date.prototype,a=Number.prototype;var u=("sunday monday tuesday wednesday thursday friday saturday").split(/\s/),t=("january february march april may june july august september october november december").split(/\s/),s=("Millisecond Second Minute Hour Day Week Month Year").split(/\s/),q;var o=function(v){return function(){if(this._is){this._is=false;return this.getDay()==v}return this.moveToDayOfWeek(v,this._orient)}};for(var h=0;h<u.length;h++){l[u[h]]=l[u[h].substring(0,3)]=o(h)}var n=function(v){return function(){if(this._is){this._is=false;return this.getMonth()===v}return this.moveToMonth(v,this._orient)}};for(var e=0;e<t.length;e++){l[t[e]]=l[t[e].substring(0,3)]=n(e)}var f=function(v){return function(){if(v.substring(v.length-1)!="s"){v+="s"}return this["add"+v](this._orient)}};var c=function(v){return function(){this._dateElement=v;return this}};for(var d=0;d<s.length;d++){q=s[d].toLowerCase();l[q]=l[q+"s"]=f(s[d]);a[q]=a[q+"s"]=c(q)}}());Date.prototype.toJSONString=function(){return this.toString("yyyy-MM-ddThh:mm:ssZ")};Date.prototype.toShortDateString=function(){return this.toString(Date.CultureInfo.formatPatterns.shortDatePattern)};Date.prototype.toLongDateString=function(){return this.toString(Date.CultureInfo.formatPatterns.longDatePattern)};Date.prototype.toShortTimeString=function(){return this.toString(Date.CultureInfo.formatPatterns.shortTimePattern)};Date.prototype.toLongTimeString=function(){return this.toString(Date.CultureInfo.formatPatterns.longTimePattern)};Date.prototype.getOrdinal=function(){switch(this.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}};(function(){Date.Parsing={Exception:function(o){this.message="Parse error at '"+o.substring(0,10)+" ...'"}};var a=Date.Parsing;var d=a.Operators={rtoken:function(o){return function(q){var t=q.match(o);if(t){return([t[0],q.substring(t[0].length)])}else{throw new a.Exception(q)}}},token:function(o){return function(q){return d.rtoken(new RegExp("^s*"+q+"s*"))(q)}},stoken:function(o){return d.rtoken(new RegExp("^"+o))},until:function(o){return function(q){var t=[],v=null;while(q.length){try{v=o.call(this,q)}catch(u){t.push(v[0]);q=v[1];continue}break}return[t,q]}},many:function(o){return function(q){var v=[],t=null;while(q.length){try{t=o.call(this,q)}catch(u){return[v,q]}v.push(t[0]);q=t[1]}return[v,q]}},optional:function(o){return function(q){var t=null;try{t=o.call(this,q)}catch(u){return[null,q]}return[t[0],t[1]]}},not:function(o){return function(q){try{o.call(this,q)}catch(t){return[null,q]}throw new a.Exception(q)}},ignore:function(o){return o?function(q){var t=null;t=o.call(this,q);return[null,t[1]]}:null},product:function(){var q=arguments[0],s=Array.prototype.slice.call(arguments,1),t=[];for(var o=0;o<q.length;o++){t.push(d.each(q[o],s))}return t},cache:function(s){var o={},q=null;return function(t){try{q=o[t]=(o[t]||s.call(this,t))}catch(u){q=o[t]=u}if(q instanceof a.Exception){throw q}else{return q}}},any:function(){var o=arguments;return function(t){var u=null;for(var q=0;q<o.length;q++){if(o[q]==null){continue}try{u=(o[q].call(this,t))}catch(v){u=null}if(u){return u}}throw new a.Exception(t)}},each:function(){var o=arguments;return function(t){var w=[],u=null;for(var q=0;q<o.length;q++){if(o[q]==null){continue}try{u=(o[q].call(this,t))}catch(v){throw new a.Exception(t)}w.push(u[0]);t=u[1]}return[w,t]}},all:function(){var q=arguments,o=o;return o.each(o.optional(q))},sequence:function(o,q,s){q=q||d.rtoken(/^\s*/);s=s||null;if(o.length==1){return o[0]}return function(w){var z=null,A=null;var C=[];for(var v=0;v<o.length;v++){try{z=o[v].call(this,w)}catch(B){break}C.push(z[0]);try{A=q.call(this,z[1])}catch(u){A=null;break}w=A[1]}if(!z){throw new a.Exception(w)}if(A){throw new a.Exception(A[1])}if(s){try{z=s.call(this,z[1])}catch(t){throw new a.Exception(z[1])}}return[C,(z?z[1]:w)]}},between:function(q,s,o){o=o||q;var t=d.each(d.ignore(q),s,d.ignore(o));return function(u){var v=t.call(this,u);return[[v[0][0],r[0][2]],v[1]]}},list:function(o,q,s){q=q||d.rtoken(/^\s*/);s=s||null;return(o instanceof Array?d.each(d.product(o.slice(0,-1),d.ignore(q)),o.slice(-1),d.ignore(s)):d.each(d.many(d.each(o,d.ignore(q))),px,d.ignore(s)))},set:function(o,q,s){q=q||d.rtoken(/^\s*/);s=s||null;return function(H){var t=null,v=null,u=null,w=null,z=[[],H],G=false;for(var B=0;B<o.length;B++){u=null;v=null;t=null;G=(o.length==1);try{t=o[B].call(this,H)}catch(E){continue}w=[[t[0]],t[1]];if(t[1].length>0&&!G){try{u=q.call(this,t[1])}catch(F){G=true}}else{G=true}if(!G&&u[1].length===0){G=true}if(!G){var C=[];for(var A=0;A<o.length;A++){if(B!=A){C.push(o[A])}}v=d.set(C,q).call(this,u[1]);if(v[0].length>0){w[0]=w[0].concat(v[0]);w[1]=v[1]}}if(w[1].length<z[1].length){z=w}if(z[1].length===0){break}}if(z[0].length===0){return z}if(s){try{u=s.call(this,z[1])}catch(D){throw new a.Exception(z[1])}z[1]=u[1]}return z}},forward:function(o,q){return function(t){return o[q].call(this,t)}},replace:function(q,o){return function(t){var u=q.call(this,t);return[o,u[1]]}},process:function(q,o){return function(t){var u=q.call(this,t);return[o.call(this,u[0]),u[1]]}},min:function(o,q){return function(t){var u=q.call(this,t);if(u[0].length<o){throw new a.Exception(t)}return u}}};var n=function(o){return function(){var q=null,u=[];if(arguments.length>1){q=Array.prototype.slice.call(arguments)}else{if(arguments[0] instanceof Array){q=arguments[0]}}if(q){for(var t=0,s=q.shift();t<s.length;t++){q.unshift(s[t]);u.push(o.apply(null,q));q.shift();return u}}else{return o.apply(null,arguments)}}};var l="optional not ignore cache".split(/\s/);for(var e=0;e<l.length;e++){d[l[e]]=n(d[l[e]])}var h=function(o){return function(){if(arguments[0] instanceof Array){return o.apply(null,arguments[0])}else{return o.apply(null,arguments)}}};var f="each any all".split(/\s/);for(var c=0;c<f.length;c++){d[f[c]]=h(d[f[c]])}}());(function(){var h=function(q){var s=[];for(var o=0;o<q.length;o++){if(q[o] instanceof Array){s=s.concat(h(q[o]))}else{if(q[o]){s.push(q[o])}}}return s};Date.Grammar={};Date.Translator={hour:function(o){return function(){this.hour=Number(o)}},minute:function(o){return function(){this.minute=Number(o)}},second:function(o){return function(){this.second=Number(o)}},meridian:function(o){return function(){this.meridian=o.slice(0,1).toLowerCase()}},timezone:function(o){return function(){var q=o.replace(/[^\d\+\-]/g,"");if(q.length){this.timezoneOffset=Number(q)}else{this.timezone=o.toLowerCase()}}},day:function(o){var q=o[0];return function(){this.day=Number(q.match(/\d+/)[0])}},month:function(o){return function(){this.month=((o.length==3)?Date.getMonthNumberFromName(o):(Number(o)-1))}},year:function(o){return function(){var q=Number(o);this.year=((o.length>2)?q:(q+(((q+2000)<Date.CultureInfo.twoDigitYearMax)?2000:1900)))}},rday:function(o){return function(){switch(o){case"yesterday":this.days=-1;break;case"tomorrow":this.days=1;break;case"today":this.days=0;break;case"now":this.days=0;this.now=true;break}}},finishExact:function(o){o=(o instanceof Array)?o:[o];var q=new Date();this.year=q.getFullYear();this.month=q.getMonth();this.day=1;this.hour=0;this.minute=0;this.second=0;for(var s=0;s<o.length;s++){if(o[s]){o[s].call(this)}}this.hour=(this.meridian=="p"&&this.hour<13)?this.hour+12:this.hour;if(this.day>Date.getDaysInMonth(this.year,this.month)){throw new RangeError(this.day+" is not a valid value for days.")}var t=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second);if(this.timezone){t.set({timezone:this.timezone})}else{if(this.timezoneOffset){t.set({timezoneOffset:this.timezoneOffset})}}return t},finish:function(o){o=(o instanceof Array)?h(o):[o];if(o.length===0){return null}for(var u=0;u<o.length;u++){if(typeof o[u]=="function"){o[u].call(this)}}if(this.now){return new Date()}var q=Date.today();var z=null;var v=!!(this.days!=null||this.orient||this.operator);if(v){var w,t,s;s=((this.orient=="past"||this.operator=="subtract")?-1:1);if(this.weekday){this.unit="day";w=(Date.getDayNumberFromName(this.weekday)-q.getDay());t=7;this.days=w?((w+(s*t))%t):(s*t)}if(this.month){this.unit="month";w=(this.month-q.getMonth());t=12;this.months=w?((w+(s*t))%t):(s*t);this.month=null}if(!this.unit){this.unit="day"}if(this[this.unit+"s"]==null||this.operator!=null){if(!this.value){this.value=1}if(this.unit=="week"){this.unit="day";this.value=this.value*7}this[this.unit+"s"]=this.value*s}return q.add(this)}else{if(this.meridian&&this.hour){this.hour=(this.hour<13&&this.meridian=="p")?this.hour+12:this.hour}if(this.weekday&&!this.day){this.day=(q.addDays((Date.getDayNumberFromName(this.weekday)-q.getDay()))).getDate()}if(this.month&&!this.day){this.day=1}return q.set(this)}}};var c=Date.Parsing.Operators,f=Date.Grammar,e=Date.Translator,n;f.datePartDelimiter=c.rtoken(/^([\s\-\.\,\/\x27]+)/);f.timePartDelimiter=c.stoken(":");f.whiteSpace=c.rtoken(/^\s*/);f.generalDelimiter=c.rtoken(/^(([\s\,]|at|on)+)/);var a={};f.ctoken=function(u){var t=a[u];if(!t){var v=Date.CultureInfo.regexPatterns;var s=u.split(/\s+/),q=[];for(var o=0;o<s.length;o++){q.push(c.replace(c.rtoken(v[s[o]]),s[o]))}t=a[u]=c.any.apply(null,q)}return t};f.ctoken2=function(o){return c.rtoken(Date.CultureInfo.regexPatterns[o])};f.h=c.cache(c.process(c.rtoken(/^(0[0-9]|1[0-2]|[1-9])/),e.hour));f.hh=c.cache(c.process(c.rtoken(/^(0[0-9]|1[0-2])/),e.hour));f.H=c.cache(c.process(c.rtoken(/^([0-1][0-9]|2[0-3]|[0-9])/),e.hour));f.HH=c.cache(c.process(c.rtoken(/^([0-1][0-9]|2[0-3])/),e.hour));f.m=c.cache(c.process(c.rtoken(/^([0-5][0-9]|[0-9])/),e.minute));f.mm=c.cache(c.process(c.rtoken(/^[0-5][0-9]/),e.minute));f.s=c.cache(c.process(c.rtoken(/^([0-5][0-9]|[0-9])/),e.second));f.ss=c.cache(c.process(c.rtoken(/^[0-5][0-9]/),e.second));f.hms=c.cache(c.sequence([f.H,f.mm,f.ss],f.timePartDelimiter));f.t=c.cache(c.process(f.ctoken2("shortMeridian"),e.meridian));f.tt=c.cache(c.process(f.ctoken2("longMeridian"),e.meridian));f.z=c.cache(c.process(c.rtoken(/^(\+|\-)?\s*\d\d\d\d?/),e.timezone));f.zz=c.cache(c.process(c.rtoken(/^(\+|\-)\s*\d\d\d\d/),e.timezone));f.zzz=c.cache(c.process(f.ctoken2("timezone"),e.timezone));f.timeSuffix=c.each(c.ignore(f.whiteSpace),c.set([f.tt,f.zzz]));f.time=c.each(c.optional(c.ignore(c.stoken("T"))),f.hms,f.timeSuffix);f.d=c.cache(c.process(c.each(c.rtoken(/^([0-2]\d|3[0-1]|\d)/),c.optional(f.ctoken2("ordinalSuffix"))),e.day));f.dd=c.cache(c.process(c.each(c.rtoken(/^([0-2]\d|3[0-1])/),c.optional(f.ctoken2("ordinalSuffix"))),e.day));f.ddd=f.dddd=c.cache(c.process(f.ctoken("sun mon tue wed thu fri sat"),function(o){return function(){this.weekday=o}}));f.M=c.cache(c.process(c.rtoken(/^(1[0-2]|0\d|\d)/),e.month));f.MM=c.cache(c.process(c.rtoken(/^(1[0-2]|0\d)/),e.month));f.MMM=f.MMMM=c.cache(c.process(f.ctoken("jan feb mar apr may jun jul aug sep oct nov dec"),e.month));f.y=c.cache(c.process(c.rtoken(/^(\d\d?)/),e.year));f.yy=c.cache(c.process(c.rtoken(/^(\d\d)/),e.year));f.yyy=c.cache(c.process(c.rtoken(/^(\d\d?\d?\d?)/),e.year));f.yyyy=c.cache(c.process(c.rtoken(/^(\d\d\d\d)/),e.year));n=function(){return c.each(c.any.apply(null,arguments),c.not(f.ctoken2("timeContext")))};f.day=n(f.d,f.dd);f.month=n(f.M,f.MMM);f.year=n(f.yyyy,f.yy);f.orientation=c.process(f.ctoken("past future"),function(o){return function(){this.orient=o}});f.operator=c.process(f.ctoken("add subtract"),function(o){return function(){this.operator=o}});f.rday=c.process(f.ctoken("yesterday tomorrow today now"),e.rday);f.unit=c.process(f.ctoken("minute hour day week month year"),function(o){return function(){this.unit=o}});f.value=c.process(c.rtoken(/^\d\d?(st|nd|rd|th)?/),function(o){return function(){this.value=o.replace(/\D/g,"")}});f.expression=c.set([f.rday,f.operator,f.value,f.unit,f.orientation,f.ddd,f.MMM]);n=function(){return c.set(arguments,f.datePartDelimiter)};f.mdy=n(f.ddd,f.month,f.day,f.year);f.ymd=n(f.ddd,f.year,f.month,f.day);f.dmy=n(f.ddd,f.day,f.month,f.year);f.date=function(o){return((f[Date.CultureInfo.dateElementOrder]||f.mdy).call(this,o))};f.format=c.process(c.many(c.any(c.process(c.rtoken(/^(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?)/),function(o){if(f[o]){return f[o]}else{throw Date.Parsing.Exception(o)}}),c.process(c.rtoken(/^[^dMyhHmstz]+/),function(o){return c.ignore(c.stoken(o))}))),function(o){return c.process(c.each.apply(null,o),e.finishExact)});var l={};var d=function(o){return l[o]=(l[o]||f.format(o)[0])};f.formats=function(q){if(q instanceof Array){var s=[];for(var o=0;o<q.length;o++){s.push(d(q[o]))}return c.any.apply(null,s)}else{return d(q)}};f._formats=f.formats(["yyyy-MM-ddTHH:mm:ss","ddd, MMM dd, yyyy H:mm:ss tt","ddd MMM d yyyy HH:mm:ss zzz","d"]);f._start=c.process(c.set([f.date,f.time,f.expression],f.generalDelimiter,f.whiteSpace),e.finish);f.start=function(o){try{var q=f._formats.call({},o);if(q[1].length===0){return q}}catch(t){}return f._start.call({},o)}}());Date._parse=Date.parse;Date.parse=function(a){var c=null;if(!a){return null}try{c=Date.Grammar.start.call({},a)}catch(d){return null}return((c[1].length===0)?c[0]:null)};Date.getParseFunction=function(c){var a=Date.Grammar.formats(c);return function(d){var f=null;try{f=a.call({},d)}catch(h){return null}return((f[1].length===0)?f[0]:null)}};Date.parseExact=function(a,c){return Date.getParseFunction(c)(a)};
/*!
 * Bootstrap v3.3.4 (http://getbootstrap.com)
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 */
;if("undefined"==typeof jQuery){throw new Error("Bootstrap's JavaScript requires jQuery")}+function(d){var c=d.fn.jquery.split(" ")[0].split(".");if(c[0]<2&&c[1]<9||1==c[0]&&9==c[1]&&c[2]<1){throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher")}}(jQuery),+function(d){function c(){var f=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var h in e){if(void 0!==f.style[h]){return{end:e[h]}}}return !1}d.fn.emulateTransitionEnd=function(a){var l=!1,h=this;d(this).one("bsTransitionEnd",function(){l=!0});var f=function(){l||d(h).trigger(d.support.transition.end)};return setTimeout(f,a),this},d(function(){d.support.transition=c(),d.support.transition&&(d.event.special.bsTransitionEnd={bindType:d.support.transition.end,delegateType:d.support.transition.end,handle:function(a){return d(a.target).is(this)?a.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(h){function f(a){return this.each(function(){var q=h(this),d=q.data("bs.alert");d||q.data("bs.alert",d=new n(this)),"string"==typeof a&&d[a].call(q)})}var o='[data-dismiss="alert"]',n=function(a){h(a).on("click",o,this.close)};n.VERSION="3.3.4",n.TRANSITION_DURATION=150,n.prototype.close=function(a){function t(){d.detach().trigger("closed.bs.alert").remove()}var s=h(this),q=s.attr("data-target");q||(q=s.attr("href"),q=q&&q.replace(/.*(?=#[^\s]*$)/,""));var d=h(q);a&&a.preventDefault(),d.length||(d=s.closest(".alert")),d.trigger(a=h.Event("close.bs.alert")),a.isDefaultPrevented()||(d.removeClass("in"),h.support.transition&&d.hasClass("fade")?d.one("bsTransitionEnd",t).emulateTransitionEnd(n.TRANSITION_DURATION):t())};var l=h.fn.alert;h.fn.alert=f,h.fn.alert.Constructor=n,h.fn.alert.noConflict=function(){return h.fn.alert=l,this},h(document).on("click.bs.alert.data-api",o,n.prototype.close)}(jQuery),+function(f){function e(a){return this.each(function(){var o=f(this),n=o.data("bs.button"),c="object"==typeof a&&a;n||o.data("bs.button",n=new l(this,c)),"toggle"==a?n.toggle():a&&n.setState(a)})}var l=function(a,c){this.$element=f(a),this.options=f.extend({},l.DEFAULTS,c),this.isLoading=!1};l.VERSION="3.3.4",l.DEFAULTS={loadingText:"loading..."},l.prototype.setState=function(a){var s="disabled",q=this.$element,o=q.is("input")?"val":"html",n=q.data();a+="Text",null==n.resetText&&q.data("resetText",q[o]()),setTimeout(f.proxy(function(){q[o](null==n[a]?this.options[a]:n[a]),"loadingText"==a?(this.isLoading=!0,q.addClass(s).attr(s,s)):this.isLoading&&(this.isLoading=!1,q.removeClass(s).removeAttr(s))},this),0)},l.prototype.toggle=function(){var n=!0,d=this.$element.closest('[data-toggle="buttons"]');if(d.length){var o=this.$element.find("input");"radio"==o.prop("type")&&(o.prop("checked")&&this.$element.hasClass("active")?n=!1:d.find(".active").removeClass("active")),n&&o.prop("checked",!this.$element.hasClass("active")).trigger("change")}else{this.$element.attr("aria-pressed",!this.$element.hasClass("active"))}n&&this.$element.toggleClass("active")};var h=f.fn.button;f.fn.button=e,f.fn.button.Constructor=l,f.fn.button.noConflict=function(){return f.fn.button=h,this},f(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var a=f(n.target);a.hasClass("btn")||(a=a.closest(".btn")),e.call(a,"toggle"),n.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(a){f(a.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(a.type))})}(jQuery),+function(h){function f(a){return this.each(function(){var t=h(this),s=t.data("bs.carousel"),q=h.extend({},o.DEFAULTS,t.data(),"object"==typeof a&&a),c="string"==typeof a?a:q.slide;s||t.data("bs.carousel",s=new o(this,q)),"number"==typeof a?s.to(a):c?s[c]():q.interval&&s.pause().cycle()})}var o=function(a,d){this.$element=h(a),this.$indicators=this.$element.find(".carousel-indicators"),this.options=d,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",h.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart" in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",h.proxy(this.pause,this)).on("mouseleave.bs.carousel",h.proxy(this.cycle,this))};o.VERSION="3.3.4",o.TRANSITION_DURATION=600,o.DEFAULTS={interval:5000,pause:"hover",wrap:!0,keyboard:!0},o.prototype.keydown=function(c){if(!/input|textarea/i.test(c.target.tagName)){switch(c.which){case 37:this.prev();break;case 39:this.next();break;default:return}c.preventDefault()}},o.prototype.cycle=function(a){return a||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(h.proxy(this.next,this),this.options.interval)),this},o.prototype.getItemIndex=function(c){return this.$items=c.parent().children(".item"),this.$items.index(c||this.$active)},o.prototype.getItemForDirection=function(s,q){var w=this.getItemIndex(q),v="prev"==s&&0===w||"next"==s&&w==this.$items.length-1;if(v&&!this.options.wrap){return q}var u="prev"==s?-1:1,t=(w+u)%this.$items.length;return this.$items.eq(t)},o.prototype.to=function(e){var d=this,q=this.getItemIndex(this.$active=this.$element.find(".item.active"));return e>this.$items.length-1||0>e?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){d.to(e)}):q==e?this.pause().cycle():this.slide(e>q?"next":"prev",this.$items.eq(e))},o.prototype.pause=function(a){return a||(this.paused=!0),this.$element.find(".next, .prev").length&&h.support.transition&&(this.$element.trigger(h.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},o.prototype.next=function(){return this.sliding?void 0:this.slide("next")},o.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},o.prototype.slide=function(B,A){var z=this.$element.find(".item.active"),w=A||this.getItemForDirection(B,z),v=this.interval,u="next"==B?"left":"right",t=this;if(w.hasClass("active")){return this.sliding=!1}var s=w[0],q=h.Event("slide.bs.carousel",{relatedTarget:s,direction:u});if(this.$element.trigger(q),!q.isDefaultPrevented()){if(this.sliding=!0,v&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var c=h(this.$indicators.children()[this.getItemIndex(w)]);c&&c.addClass("active")}var a=h.Event("slid.bs.carousel",{relatedTarget:s,direction:u});return h.support.transition&&this.$element.hasClass("slide")?(w.addClass(B),w[0].offsetWidth,z.addClass(u),w.addClass(u),z.one("bsTransitionEnd",function(){w.removeClass([B,u].join(" ")).addClass("active"),z.removeClass(["active",u].join(" ")),t.sliding=!1,setTimeout(function(){t.$element.trigger(a)},0)}).emulateTransitionEnd(o.TRANSITION_DURATION)):(z.removeClass("active"),w.addClass("active"),this.sliding=!1,this.$element.trigger(a)),v&&this.cycle(),this}};var n=h.fn.carousel;h.fn.carousel=f,h.fn.carousel.Constructor=o,h.fn.carousel.noConflict=function(){return h.fn.carousel=n,this};var l=function(v){var u,t=h(this),s=h(t.attr("data-target")||(u=t.attr("href"))&&u.replace(/.*(?=#[^\s]+$)/,""));if(s.hasClass("carousel")){var q=h.extend({},s.data(),t.data()),a=t.attr("data-slide-to");a&&(q.interval=!1),f.call(s,q),a&&s.data("bs.carousel").to(a),v.preventDefault()}};h(document).on("click.bs.carousel.data-api","[data-slide]",l).on("click.bs.carousel.data-api","[data-slide-to]",l),h(window).on("load",function(){h('[data-ride="carousel"]').each(function(){var a=h(this);f.call(a,a.data())})})}(jQuery),+function(h){function f(a){var q,e=a.attr("data-target")||(q=a.attr("href"))&&q.replace(/.*(?=#[^\s]+$)/,"");return h(e)}function o(a){return this.each(function(){var s=h(this),q=s.data("bs.collapse"),d=h.extend({},n.DEFAULTS,s.data(),"object"==typeof a&&a);!q&&d.toggle&&/show|hide/.test(a)&&(d.toggle=!1),q||s.data("bs.collapse",q=new n(this,d)),"string"==typeof a&&q[a]()})}var n=function(a,d){this.$element=h(a),this.options=h.extend({},n.DEFAULTS,d),this.$trigger=h('[data-toggle="collapse"][href="#'+a.id+'"],[data-toggle="collapse"][data-target="#'+a.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};n.VERSION="3.3.4",n.TRANSITION_DURATION=350,n.DEFAULTS={toggle:!0},n.prototype.dimension=function(){var c=this.$element.hasClass("width");return c?"width":"height"},n.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var a,t=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(t&&t.length&&(a=t.data("bs.collapse"),a&&a.transitioning))){var s=h.Event("show.bs.collapse");if(this.$element.trigger(s),!s.isDefaultPrevented()){t&&t.length&&(o.call(t,"hide"),a||t.data("bs.collapse",null));var q=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[q](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var d=function(){this.$element.removeClass("collapsing").addClass("collapse in")[q](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!h.support.transition){return d.call(this)}var c=h.camelCase(["scroll",q].join("-"));this.$element.one("bsTransitionEnd",h.proxy(d,this)).emulateTransitionEnd(n.TRANSITION_DURATION)[q](this.$element[0][c])}}}},n.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var a=h.Event("hide.bs.collapse");if(this.$element.trigger(a),!a.isDefaultPrevented()){var q=this.dimension();this.$element[q](this.$element[q]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var d=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return h.support.transition?void this.$element[q](0).one("bsTransitionEnd",h.proxy(d,this)).emulateTransitionEnd(n.TRANSITION_DURATION):d.call(this)}}},n.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},n.prototype.getParent=function(){return h(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(h.proxy(function(s,q){var a=h(q);this.addAriaAndCollapsedClass(f(a),a)},this)).end()},n.prototype.addAriaAndCollapsedClass=function(e,d){var q=e.hasClass("in");e.attr("aria-expanded",q),d.toggleClass("collapsed",!q).attr("aria-expanded",q)};var l=h.fn.collapse;h.fn.collapse=o,h.fn.collapse.Constructor=n,h.fn.collapse.noConflict=function(){return h.fn.collapse=l,this},h(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(t){var s=h(this);s.attr("data-target")||t.preventDefault();var q=f(s),c=q.data("bs.collapse"),a=c?"toggle":s.data();o.call(q,a)})}(jQuery),+function(n){function l(a){a&&3===a.which||(n(t).remove(),n(s).each(function(){var w=n(this),h=v(w),c={relatedTarget:this};h.hasClass("open")&&(h.trigger(a=n.Event("hide.bs.dropdown",c)),a.isDefaultPrevented()||(w.attr("aria-expanded","false"),h.removeClass("open").trigger("hidden.bs.dropdown",c)))}))}function v(a){var f=a.attr("data-target");f||(f=a.attr("href"),f=f&&/#[A-Za-z]/.test(f)&&f.replace(/.*(?=#[^\s]*$)/,""));var e=f&&n(f);return e&&e.length?e:a.parent()}function u(a){return this.each(function(){var f=n(this),e=f.data("bs.dropdown");e||f.data("bs.dropdown",e=new q(this)),"string"==typeof a&&e[a].call(f)})}var t=".dropdown-backdrop",s='[data-toggle="dropdown"]',q=function(a){n(a).on("click.bs.dropdown",this.toggle)};q.VERSION="3.3.4",q.prototype.toggle=function(A){var z=n(this);if(!z.is(".disabled, :disabled")){var w=v(z),c=w.hasClass("open");if(l(),!c){"ontouchstart" in document.documentElement&&!w.closest(".navbar-nav").length&&n('<div class="dropdown-backdrop"/>').insertAfter(n(this)).on("click",l);var a={relatedTarget:this};if(w.trigger(A=n.Event("show.bs.dropdown",a)),A.isDefaultPrevented()){return}z.trigger("focus").attr("aria-expanded","true"),w.toggleClass("open").trigger("shown.bs.dropdown",a)}return !1}},q.prototype.keydown=function(a){if(/(38|40|27|32)/.test(a.which)&&!/input|textarea/i.test(a.target.tagName)){var B=n(this);if(a.preventDefault(),a.stopPropagation(),!B.is(".disabled, :disabled")){var A=v(B),z=A.hasClass("open");if(!z&&27!=a.which||z&&27==a.which){return 27==a.which&&A.find(s).trigger("focus"),B.trigger("click")}var w=" li:not(.disabled):visible a",f=A.find('[role="menu"]'+w+', [role="listbox"]'+w);if(f.length){var c=f.index(a.target);38==a.which&&c>0&&c--,40==a.which&&c<f.length-1&&c++,~c||(c=0),f.eq(c).trigger("focus")}}}};var o=n.fn.dropdown;n.fn.dropdown=u,n.fn.dropdown.Constructor=q,n.fn.dropdown.noConflict=function(){return n.fn.dropdown=o,this},n(document).on("click.bs.dropdown.data-api",l).on("click.bs.dropdown.data-api",".dropdown form",function(c){c.stopPropagation()}).on("click.bs.dropdown.data-api",s,q.prototype.toggle).on("keydown.bs.dropdown.data-api",s,q.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="menu"]',q.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="listbox"]',q.prototype.keydown)}(jQuery),+function(f){function e(a,c){return this.each(function(){var o=f(this),n=o.data("bs.modal"),d=f.extend({},l.DEFAULTS,o.data(),"object"==typeof a&&a);n||o.data("bs.modal",n=new l(this,d)),"string"==typeof a?n[a](c):d.show&&n.show(c)})}var l=function(a,d){this.options=d,this.$body=f(document.body),this.$element=f(a),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,f.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};l.VERSION="3.3.4",l.TRANSITION_DURATION=300,l.BACKDROP_TRANSITION_DURATION=150,l.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},l.prototype.toggle=function(c){return this.isShown?this.hide():this.show(c)},l.prototype.show=function(a){var n=this,c=f.Event("show.bs.modal",{relatedTarget:a});this.$element.trigger(c),this.isShown||c.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',f.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){n.$element.one("mouseup.dismiss.bs.modal",function(d){f(d.target).is(n.$element)&&(n.ignoreBackdropClick=!0)})}),this.backdrop(function(){var o=f.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(n.$body),n.$element.show().scrollTop(0),n.adjustDialog(),o&&n.$element[0].offsetWidth,n.$element.addClass("in").attr("aria-hidden",!1),n.enforceFocus();var d=f.Event("shown.bs.modal",{relatedTarget:a});o?n.$dialog.one("bsTransitionEnd",function(){n.$element.trigger("focus").trigger(d)}).emulateTransitionEnd(l.TRANSITION_DURATION):n.$element.trigger("focus").trigger(d)}))},l.prototype.hide=function(a){a&&a.preventDefault(),a=f.Event("hide.bs.modal"),this.$element.trigger(a),this.isShown&&!a.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),f(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),f.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",f.proxy(this.hideModal,this)).emulateTransitionEnd(l.TRANSITION_DURATION):this.hideModal())},l.prototype.enforceFocus=function(){f(document).off("focusin.bs.modal").on("focusin.bs.modal",f.proxy(function(c){this.$element[0]===c.target||this.$element.has(c.target).length||this.$element.trigger("focus")},this))},l.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",f.proxy(function(c){27==c.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},l.prototype.resize=function(){this.isShown?f(window).on("resize.bs.modal",f.proxy(this.handleUpdate,this)):f(window).off("resize.bs.modal")},l.prototype.hideModal=function(){var c=this;this.$element.hide(),this.backdrop(function(){c.$body.removeClass("modal-open"),c.resetAdjustments(),c.resetScrollbar(),c.$element.trigger("hidden.bs.modal")})},l.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},l.prototype.backdrop=function(a){var q=this,o=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var n=f.support.transition&&o;if(this.$backdrop=f('<div class="modal-backdrop '+o+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",f.proxy(function(d){return this.ignoreBackdropClick?void (this.ignoreBackdropClick=!1):void (d.target===d.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),n&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!a){return}n?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(l.BACKDROP_TRANSITION_DURATION):a()}else{if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var c=function(){q.removeBackdrop(),a&&a()};f.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",c).emulateTransitionEnd(l.BACKDROP_TRANSITION_DURATION):c()}else{a&&a()}}},l.prototype.handleUpdate=function(){this.adjustDialog()},l.prototype.adjustDialog=function(){var c=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&c?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!c?this.scrollbarWidth:""})},l.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},l.prototype.checkScrollbar=function(){var d=window.innerWidth;if(!d){var c=document.documentElement.getBoundingClientRect();d=c.right-Math.abs(c.left)}this.bodyIsOverflowing=document.body.clientWidth<d,this.scrollbarWidth=this.measureScrollbar()},l.prototype.setScrollbar=function(){var c=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",c+this.scrollbarWidth)},l.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},l.prototype.measureScrollbar=function(){var d=document.createElement("div");d.className="modal-scrollbar-measure",this.$body.append(d);var c=d.offsetWidth-d.clientWidth;return this.$body[0].removeChild(d),c};var h=f.fn.modal;f.fn.modal=e,f.fn.modal.Constructor=l,f.fn.modal.noConflict=function(){return f.fn.modal=h,this},f(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(s){var q=f(this),o=q.attr("href"),n=f(q.attr("data-target")||o&&o.replace(/.*(?=#[^\s]+$)/,"")),a=n.data("bs.modal")?"toggle":f.extend({remote:!/#/.test(o)&&o},n.data(),q.data());q.is("a")&&s.preventDefault(),n.one("show.bs.modal",function(c){c.isDefaultPrevented()||n.one("hidden.bs.modal",function(){q.is(":visible")&&q.trigger("focus")})}),e.call(n,a,this)})}(jQuery),+function(f){function e(a){return this.each(function(){var o=f(this),n=o.data("bs.tooltip"),c="object"==typeof a&&a;(n||!/destroy|hide/.test(a))&&(n||o.data("bs.tooltip",n=new l(this,c)),"string"==typeof a&&n[a]())})}var l=function(d,c){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.init("tooltip",d,c)};l.VERSION="3.3.4",l.TRANSITION_DURATION=150,l.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},l.prototype.init=function(a,v,u){if(this.enabled=!0,this.type=a,this.$element=f(v),this.options=this.getOptions(u),this.$viewport=this.options.viewport&&f(this.options.viewport.selector||this.options.viewport),this.$element[0] instanceof document.constructor&&!this.options.selector){throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!")}for(var t=this.options.trigger.split(" "),s=t.length;s--;){var q=t[s];if("click"==q){this.$element.on("click."+this.type,this.options.selector,f.proxy(this.toggle,this))}else{if("manual"!=q){var o="hover"==q?"mouseenter":"focusin",n="hover"==q?"mouseleave":"focusout";this.$element.on(o+"."+this.type,this.options.selector,f.proxy(this.enter,this)),this.$element.on(n+"."+this.type,this.options.selector,f.proxy(this.leave,this))}}}this.options.selector?this._options=f.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},l.prototype.getDefaults=function(){return l.DEFAULTS},l.prototype.getOptions=function(a){return a=f.extend({},this.getDefaults(),this.$element.data(),a),a.delay&&"number"==typeof a.delay&&(a.delay={show:a.delay,hide:a.delay}),a},l.prototype.getDelegateOptions=function(){var a={},d=this.getDefaults();return this._options&&f.each(this._options,function(c,n){d[c]!=n&&(a[c]=n)}),a},l.prototype.enter=function(a){var d=a instanceof this.constructor?a:f(a.currentTarget).data("bs."+this.type);return d&&d.$tip&&d.$tip.is(":visible")?void (d.hoverState="in"):(d||(d=new this.constructor(a.currentTarget,this.getDelegateOptions()),f(a.currentTarget).data("bs."+this.type,d)),clearTimeout(d.timeout),d.hoverState="in",d.options.delay&&d.options.delay.show?void (d.timeout=setTimeout(function(){"in"==d.hoverState&&d.show()},d.options.delay.show)):d.show())},l.prototype.leave=function(a){var d=a instanceof this.constructor?a:f(a.currentTarget).data("bs."+this.type);return d||(d=new this.constructor(a.currentTarget,this.getDelegateOptions()),f(a.currentTarget).data("bs."+this.type,d)),clearTimeout(d.timeout),d.hoverState="out",d.options.delay&&d.options.delay.hide?void (d.timeout=setTimeout(function(){"out"==d.hoverState&&d.hide()},d.options.delay.hide)):d.hide()},l.prototype.show=function(){var H=f.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(H);var G=f.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(H.isDefaultPrevented()||!G){return}var F=this,E=this.tip(),D=this.getUID(this.type);this.setContent(),E.attr("id",D),this.$element.attr("aria-describedby",D),this.options.animation&&E.addClass("fade");var C="function"==typeof this.options.placement?this.options.placement.call(this,E[0],this.$element[0]):this.options.placement,B=/\s?auto?\s?/i,A=B.test(C);A&&(C=C.replace(B,"")||"top"),E.detach().css({top:0,left:0,display:"block"}).addClass(C).data("bs."+this.type,this),this.options.container?E.appendTo(this.options.container):E.insertAfter(this.$element);var z=this.getPosition(),w=E[0].offsetWidth,v=E[0].offsetHeight;if(A){var u=C,t=this.options.container?f(this.options.container):this.$element.parent(),s=this.getPosition(t);C="bottom"==C&&z.bottom+v>s.bottom?"top":"top"==C&&z.top-v<s.top?"bottom":"right"==C&&z.right+w>s.width?"left":"left"==C&&z.left-w<s.left?"right":C,E.removeClass(u).addClass(C)}var c=this.getCalculatedOffset(C,z,w,v);this.applyPlacement(c,C);var a=function(){var d=F.hoverState;F.$element.trigger("shown.bs."+F.type),F.hoverState=null,"out"==d&&F.leave(F)};f.support.transition&&this.$tip.hasClass("fade")?E.one("bsTransitionEnd",a).emulateTransitionEnd(l.TRANSITION_DURATION):a()}},l.prototype.applyPlacement=function(D,C){var B=this.tip(),A=B[0].offsetWidth,z=B[0].offsetHeight,w=parseInt(B.css("margin-top"),10),v=parseInt(B.css("margin-left"),10);isNaN(w)&&(w=0),isNaN(v)&&(v=0),D.top=D.top+w,D.left=D.left+v,f.offset.setOffset(B[0],f.extend({using:function(c){B.css({top:Math.round(c.top),left:Math.round(c.left)})}},D),0),B.addClass("in");var u=B[0].offsetWidth,t=B[0].offsetHeight;"top"==C&&t!=z&&(D.top=D.top+z-t);var s=this.getViewportAdjustedDelta(C,D,u,t);s.left?D.left+=s.left:D.top+=s.top;var q=/top|bottom/.test(C),o=q?2*s.left-A+u:2*s.top-z+t,a=q?"offsetWidth":"offsetHeight";B.offset(D),this.replaceArrow(o,B[0][a],q)},l.prototype.replaceArrow=function(n,d,o){this.arrow().css(o?"left":"top",50*(1-n/d)+"%").css(o?"top":"left","")},l.prototype.setContent=function(){var d=this.tip(),c=this.getTitle();d.find(".tooltip-inner")[this.options.html?"html":"text"](c),d.removeClass("fade in top bottom left right")},l.prototype.hide=function(a){function q(){"in"!=o.hoverState&&n.detach(),o.$element.removeAttr("aria-describedby").trigger("hidden.bs."+o.type),a&&a()}var o=this,n=f(this.$tip),c=f.Event("hide.bs."+this.type);return this.$element.trigger(c),c.isDefaultPrevented()?void 0:(n.removeClass("in"),f.support.transition&&n.hasClass("fade")?n.one("bsTransitionEnd",q).emulateTransitionEnd(l.TRANSITION_DURATION):q(),this.hoverState=null,this)},l.prototype.fixTitle=function(){var c=this.$element;(c.attr("title")||"string"!=typeof c.attr("data-original-title"))&&c.attr("data-original-title",c.attr("title")||"").attr("title","")},l.prototype.hasContent=function(){return this.getTitle()},l.prototype.getPosition=function(a){a=a||this.$element;var u=a[0],t="BODY"==u.tagName,s=u.getBoundingClientRect();null==s.width&&(s=f.extend({},s,{width:s.right-s.left,height:s.bottom-s.top}));var q=t?{top:0,left:0}:a.offset(),o={scroll:t?document.documentElement.scrollTop||document.body.scrollTop:a.scrollTop()},n=t?{width:f(window).width(),height:f(window).height()}:null;return f.extend({},s,o,n,q)},l.prototype.getCalculatedOffset=function(o,n,s,q){return"bottom"==o?{top:n.top+n.height,left:n.left+n.width/2-s/2}:"top"==o?{top:n.top-q,left:n.left+n.width/2-s/2}:"left"==o?{top:n.top+n.height/2-q/2,left:n.left-s}:{top:n.top+n.height/2-q/2,left:n.left+n.width}},l.prototype.getViewportAdjustedDelta=function(B,A,z,w){var v={top:0,left:0};if(!this.$viewport){return v}var u=this.options.viewport&&this.options.viewport.padding||0,t=this.getPosition(this.$viewport);if(/right|left/.test(B)){var s=A.top-u-t.scroll,q=A.top+u-t.scroll+w;s<t.top?v.top=t.top-s:q>t.top+t.height&&(v.top=t.top+t.height-q)}else{var o=A.left-u,n=A.left+u+z;o<t.left?v.left=t.left-o:n>t.width&&(v.left=t.left+t.width-n)}return v},l.prototype.getTitle=function(){var n,d=this.$element,o=this.options;return n=d.attr("data-original-title")||("function"==typeof o.title?o.title.call(d[0]):o.title)},l.prototype.getUID=function(c){do{c+=~~(1000000*Math.random())}while(document.getElementById(c));return c},l.prototype.tip=function(){return this.$tip=this.$tip||f(this.options.template)},l.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},l.prototype.enable=function(){this.enabled=!0},l.prototype.disable=function(){this.enabled=!1},l.prototype.toggleEnabled=function(){this.enabled=!this.enabled},l.prototype.toggle=function(a){var d=this;a&&(d=f(a.currentTarget).data("bs."+this.type),d||(d=new this.constructor(a.currentTarget,this.getDelegateOptions()),f(a.currentTarget).data("bs."+this.type,d))),d.tip().hasClass("in")?d.leave(d):d.enter(d)},l.prototype.destroy=function(){var c=this;clearTimeout(this.timeout),this.hide(function(){c.$element.off("."+c.type).removeData("bs."+c.type)})};var h=f.fn.tooltip;f.fn.tooltip=e,f.fn.tooltip.Constructor=l,f.fn.tooltip.noConflict=function(){return f.fn.tooltip=h,this}}(jQuery),+function(f){function e(a){return this.each(function(){var o=f(this),n=o.data("bs.popover"),c="object"==typeof a&&a;(n||!/destroy|hide/.test(a))&&(n||o.data("bs.popover",n=new l(this,c)),"string"==typeof a&&n[a]())})}var l=function(d,c){this.init("popover",d,c)};if(!f.fn.tooltip){throw new Error("Popover requires tooltip.js")}l.VERSION="3.3.4",l.DEFAULTS=f.extend({},f.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),l.prototype=f.extend({},f.fn.tooltip.Constructor.prototype),l.prototype.constructor=l,l.prototype.getDefaults=function(){return l.DEFAULTS},l.prototype.setContent=function(){var n=this.tip(),d=this.getTitle(),o=this.getContent();n.find(".popover-title")[this.options.html?"html":"text"](d),n.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof o?"html":"append":"text"](o),n.removeClass("fade top bottom left right in"),n.find(".popover-title").html()||n.find(".popover-title").hide()},l.prototype.hasContent=function(){return this.getTitle()||this.getContent()},l.prototype.getContent=function(){var d=this.$element,c=this.options;return d.attr("data-content")||("function"==typeof c.content?c.content.call(d[0]):c.content)},l.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var h=f.fn.popover;f.fn.popover=e,f.fn.popover.Constructor=l,f.fn.popover.noConflict=function(){return f.fn.popover=h,this}}(jQuery),+function(f){function e(n,a){this.$body=f(document.body),this.$scrollElement=f(f(n).is(document.body)?window:n),this.options=f.extend({},e.DEFAULTS,a),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",f.proxy(this.process,this)),this.refresh(),this.process()}function l(a){return this.each(function(){var o=f(this),n=o.data("bs.scrollspy"),c="object"==typeof a&&a;n||o.data("bs.scrollspy",n=new e(this,c)),"string"==typeof a&&n[a]()})}e.VERSION="3.3.4",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var a=this,o="offset",n=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),f.isWindow(this.$scrollElement[0])||(o="position",n=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var c=f(this),q=c.data("target")||c.attr("href"),d=/^#./.test(q)&&f(q);return d&&d.length&&d.is(":visible")&&[[d[o]().top+n,q]]||null}).sort(function(d,c){return d[0]-c[0]}).each(function(){a.offsets.push(this[0]),a.targets.push(this[1])})},e.prototype.process=function(){var o,n=this.$scrollElement.scrollTop()+this.options.offset,v=this.getScrollHeight(),u=this.options.offset+v-this.$scrollElement.height(),t=this.offsets,s=this.targets,q=this.activeTarget;if(this.scrollHeight!=v&&this.refresh(),n>=u){return q!=(o=s[s.length-1])&&this.activate(o)}if(q&&n<t[0]){return this.activeTarget=null,this.clear()}for(o=t.length;o--;){q!=s[o]&&n>=t[o]&&(void 0===t[o+1]||n<t[o+1])&&this.activate(s[o])}},e.prototype.activate=function(a){this.activeTarget=a,this.clear();var o=this.selector+'[data-target="'+a+'"],'+this.selector+'[href="'+a+'"]',n=f(o).parents("li").addClass("active");n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate.bs.scrollspy")},e.prototype.clear=function(){f(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var h=f.fn.scrollspy;f.fn.scrollspy=l,f.fn.scrollspy.Constructor=e,f.fn.scrollspy.noConflict=function(){return f.fn.scrollspy=h,this},f(window).on("load.bs.scrollspy.data-api",function(){f('[data-spy="scroll"]').each(function(){var a=f(this);l.call(a,a.data())})})}(jQuery),+function(h){function f(a){return this.each(function(){var q=h(this),c=q.data("bs.tab");c||q.data("bs.tab",c=new o(this)),"string"==typeof a&&c[a]()})}var o=function(a){this.element=h(a)};o.VERSION="3.3.4",o.TRANSITION_DURATION=150,o.prototype.show=function(){var a=this.element,w=a.closest("ul:not(.dropdown-menu)"),v=a.data("target");if(v||(v=a.attr("href"),v=v&&v.replace(/.*(?=#[^\s]*$)/,"")),!a.parent("li").hasClass("active")){var u=w.find(".active:last a"),t=h.Event("hide.bs.tab",{relatedTarget:a[0]}),s=h.Event("show.bs.tab",{relatedTarget:u[0]});if(u.trigger(t),a.trigger(s),!s.isDefaultPrevented()&&!t.isDefaultPrevented()){var q=h(v);this.activate(a.closest("li"),w),this.activate(q,q.parent(),function(){u.trigger({type:"hidden.bs.tab",relatedTarget:a[0]}),a.trigger({type:"shown.bs.tab",relatedTarget:u[0]})})}}},o.prototype.activate=function(a,u,t){function s(){q.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),a.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),c?(a[0].offsetWidth,a.addClass("in")):a.removeClass("fade"),a.parent(".dropdown-menu").length&&a.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),t&&t()}var q=u.find("> .active"),c=t&&h.support.transition&&(q.length&&q.hasClass("fade")||!!u.find("> .fade").length);q.length&&c?q.one("bsTransitionEnd",s).emulateTransitionEnd(o.TRANSITION_DURATION):s(),q.removeClass("in")};var n=h.fn.tab;h.fn.tab=f,h.fn.tab.Constructor=o,h.fn.tab.noConflict=function(){return h.fn.tab=n,this};var l=function(a){a.preventDefault(),f.call(h(this),"show")};h(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',l).on("click.bs.tab.data-api",'[data-toggle="pill"]',l)}(jQuery),+function(f){function e(a){return this.each(function(){var o=f(this),n=o.data("bs.affix"),c="object"==typeof a&&a;n||o.data("bs.affix",n=new l(this,c)),"string"==typeof a&&n[a]()})}var l=function(a,c){this.options=f.extend({},l.DEFAULTS,c),this.$target=f(this.options.target).on("scroll.bs.affix.data-api",f.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",f.proxy(this.checkPositionWithEventLoop,this)),this.$element=f(a),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};l.VERSION="3.3.4",l.RESET="affix affix-top affix-bottom",l.DEFAULTS={offset:0,target:window},l.prototype.getState=function(A,z,w,v){var u=this.$target.scrollTop(),t=this.$element.offset(),s=this.$target.height();if(null!=w&&"top"==this.affixed){return w>u?"top":!1}if("bottom"==this.affixed){return null!=w?u+this.unpin<=t.top?!1:"bottom":A-v>=u+s?!1:"bottom"}var q=null==this.affixed,o=q?u:t.top,n=q?s:z;return null!=w&&w>=u?"top":null!=v&&o+n>=A-v?"bottom":!1},l.prototype.getPinnedOffset=function(){if(this.pinnedOffset){return this.pinnedOffset}this.$element.removeClass(l.RESET).addClass("affix");var d=this.$target.scrollTop(),c=this.$element.offset();return this.pinnedOffset=c.top-d},l.prototype.checkPositionWithEventLoop=function(){setTimeout(f.proxy(this.checkPosition,this),1)},l.prototype.checkPosition=function(){if(this.$element.is(":visible")){var a=this.$element.height(),u=this.options.offset,t=u.top,s=u.bottom,q=f(document.body).height();"object"!=typeof u&&(s=t=u),"function"==typeof t&&(t=u.top(this.$element)),"function"==typeof s&&(s=u.bottom(this.$element));var o=this.getState(q,a,t,s);if(this.affixed!=o){null!=this.unpin&&this.$element.css("top","");var n="affix"+(o?"-"+o:""),c=f.Event(n+".bs.affix");if(this.$element.trigger(c),c.isDefaultPrevented()){return}this.affixed=o,this.unpin="bottom"==o?this.getPinnedOffset():null,this.$element.removeClass(l.RESET).addClass(n).trigger(n.replace("affix","affixed")+".bs.affix")}"bottom"==o&&this.$element.offset({top:q-a-s})}};var h=f.fn.affix;f.fn.affix=e,f.fn.affix.Constructor=l,f.fn.affix.noConflict=function(){return f.fn.affix=h,this},f(window).on("load",function(){f('[data-spy="affix"]').each(function(){var n=f(this),a=n.data();a.offset=a.offset||{},null!=a.offsetBottom&&(a.offset.bottom=a.offsetBottom),null!=a.offsetTop&&(a.offset.top=a.offsetTop),e.call(n,a)})})}(jQuery);
/*! AdminLTE app.js
 * ================
 * Main JS application file for AdminLTE v2. This file
 * should be included in all pages. It controls some layout
 * options and implements exclusive AdminLTE plugins.
 *
 * @Author  Almsaeed Studio
 * @Support <http://www.almsaeedstudio.com>
 * @Email   <support@almsaeedstudio.com>
 * @version 2.3.3
 * @license MIT <http://opensource.org/licenses/MIT>
 */
;if(typeof jQuery==="undefined"){throw new Error("AdminLTE requires jQuery")}$.AdminLTE={};$.AdminLTE.options={navbarMenuSlimscroll:true,navbarMenuSlimscrollWidth:"3px",navbarMenuHeight:"200px",animationSpeed:500,sidebarToggleSelector:"[data-toggle='offcanvas']",sidebarPushMenu:true,sidebarSlimScroll:true,sidebarExpandOnHover:false,enableBoxRefresh:true,enableBSToppltip:true,BSTooltipSelector:"[data-toggle='tooltip']",enableFastclick:true,enableControlSidebar:true,controlSidebarOptions:{toggleBtnSelector:"[data-toggle='control-sidebar']",selector:".control-sidebar",slide:true},enableBoxWidget:true,boxWidgetOptions:{boxWidgetIcons:{collapse:"fa-minus",open:"fa-plus",remove:"fa-times"},boxWidgetSelectors:{remove:'[data-widget="remove"]',collapse:'[data-widget="collapse"]'}},directChat:{enable:true,contactToggleSelector:'[data-widget="chat-pane-toggle"]'},colors:{lightBlue:"#3c8dbc",red:"#f56954",green:"#00a65a",aqua:"#00c0ef",yellow:"#f39c12",blue:"#0073b7",navy:"#001F3F",teal:"#39CCCC",olive:"#3D9970",lime:"#01FF70",orange:"#FF851B",fuchsia:"#F012BE",purple:"#8E24AA",maroon:"#D81B60",black:"#222222",gray:"#d2d6de"},screenSizes:{xs:480,sm:768,md:992,lg:1200}};$(function(){$("body").removeClass("hold-transition");if(typeof AdminLTEOptions!=="undefined"){$.extend(true,$.AdminLTE.options,AdminLTEOptions)}var a=$.AdminLTE.options;_init();$.AdminLTE.layout.activate();$.AdminLTE.tree(".sidebar");if(a.enableControlSidebar){$.AdminLTE.controlSidebar.activate()}if(a.navbarMenuSlimscroll&&typeof $.fn.slimscroll!="undefined"){$(".navbar .menu").slimscroll({height:a.navbarMenuHeight,alwaysVisible:false,size:a.navbarMenuSlimscrollWidth}).css("width","100%")}if(a.sidebarPushMenu){$.AdminLTE.pushMenu.activate(a.sidebarToggleSelector)}if(a.enableBSToppltip){$("body").tooltip({selector:a.BSTooltipSelector})}if(a.enableBoxWidget){$.AdminLTE.boxWidget.activate()}if(a.enableFastclick&&typeof FastClick!="undefined"){FastClick.attach(document.body)}if(a.directChat.enable){$(document).on("click",a.directChat.contactToggleSelector,function(){var c=$(this).parents(".direct-chat").first();c.toggleClass("direct-chat-contacts-open")})}$('.btn-group[data-toggle="btn-toggle"]').each(function(){var c=$(this);$(this).find(".btn").on("click",function(d){c.find(".btn.active").removeClass("active");$(this).addClass("active");d.preventDefault()})})});function _init(){$.AdminLTE.layout={activate:function(){var a=this;a.fix();a.fixSidebar();$(window,".wrapper").resize(function(){a.fix();a.fixSidebar()})},fix:function(){var f=$(".main-header").outerHeight()+$(".main-footer").outerHeight();var c=$(window).height();var a=$(".sidebar").height();if($("body").hasClass("fixed")){$(".content-wrapper, .right-side").css("min-height",c-$(".main-footer").outerHeight())}else{var e;if(c>=a){$(".content-wrapper, .right-side").css("min-height",c-f);e=c-f}else{$(".content-wrapper, .right-side").css("min-height",a);e=a}var d=$($.AdminLTE.options.controlSidebarOptions.selector);if(typeof d!=="undefined"){if(d.height()>e){$(".content-wrapper, .right-side").css("min-height",d.height())}}}},fixSidebar:function(){if(!$("body").hasClass("fixed")){if(typeof $.fn.slimScroll!="undefined"){$(".sidebar").slimScroll({destroy:true}).height("auto")}return}else{if(typeof $.fn.slimScroll=="undefined"&&window.console){window.console.error("Error: the fixed layout requires the slimscroll plugin!")}}if($.AdminLTE.options.sidebarSlimScroll){if(typeof $.fn.slimScroll!="undefined"){$(".sidebar").slimScroll({destroy:true}).height("auto");$(".sidebar").slimscroll({height:($(window).height()-$(".main-header").height())+"px",color:"rgba(0,0,0,0.2)",size:"3px"})}}}};$.AdminLTE.pushMenu={activate:function(a){var c=$.AdminLTE.options.screenSizes;$(document).on("click",a,function(d){d.preventDefault();if($(window).width()>(c.sm-1)){if($("body").hasClass("sidebar-collapse")){$("body").removeClass("sidebar-collapse").trigger("expanded.pushMenu")}else{$("body").addClass("sidebar-collapse").trigger("collapsed.pushMenu")}}else{if($("body").hasClass("sidebar-open")){$("body").removeClass("sidebar-open").removeClass("sidebar-collapse").trigger("collapsed.pushMenu")}else{$("body").addClass("sidebar-open").trigger("expanded.pushMenu")}}});$(".content-wrapper").click(function(){if($(window).width()<=(c.sm-1)&&$("body").hasClass("sidebar-open")){$("body").removeClass("sidebar-open")}});if($.AdminLTE.options.sidebarExpandOnHover||($("body").hasClass("fixed")&&$("body").hasClass("sidebar-mini"))){this.expandOnHover()}},expandOnHover:function(){var c=this;var a=$.AdminLTE.options.screenSizes.sm-1;$(".main-sidebar").hover(function(){if($("body").hasClass("sidebar-mini")&&$("body").hasClass("sidebar-collapse")&&$(window).width()>a){c.expand()}},function(){if($("body").hasClass("sidebar-mini")&&$("body").hasClass("sidebar-expanded-on-hover")&&$(window).width()>a){c.collapse()}})},expand:function(){$("body").removeClass("sidebar-collapse").addClass("sidebar-expanded-on-hover")},collapse:function(){if($("body").hasClass("sidebar-expanded-on-hover")){$("body").removeClass("sidebar-expanded-on-hover").addClass("sidebar-collapse")}}};$.AdminLTE.tree=function(c){var d=this;var a=$.AdminLTE.options.animationSpeed;$(document).on("click",c+" li a",function(q){var o=$(this);var h=o.next();if((h.is(".treeview-menu"))&&(h.is(":visible"))&&(!$("body").hasClass("sidebar-collapse"))){h.slideUp(a,function(){h.removeClass("menu-open")});h.parent("li").removeClass("active")}else{if((h.is(".treeview-menu"))&&(!h.is(":visible"))){var l=o.parents("ul").first();var f=l.find("ul:visible").slideUp(a);f.removeClass("menu-open");var n=o.parent("li");h.slideDown(a,function(){h.addClass("menu-open");l.find("li.active").removeClass("active");n.addClass("active");d.layout.fix()})}}if(h.is(".treeview-menu")){q.preventDefault()}})};$.AdminLTE.controlSidebar={activate:function(){var f=this;var e=$.AdminLTE.options.controlSidebarOptions;var d=$(e.selector);var c=$(e.toggleBtnSelector);c.on("click",function(h){h.preventDefault();if(!d.hasClass("control-sidebar-open")&&!$("body").hasClass("control-sidebar-open")){f.open(d,e.slide)}else{f.close(d,e.slide)}});var a=$(".control-sidebar-bg");f._fix(a);if($("body").hasClass("fixed")){f._fixForFixed(d)}else{if($(".content-wrapper, .right-side").height()<d.height()){f._fixForContent(d)}}},open:function(c,a){if(a){c.addClass("control-sidebar-open")}else{$("body").addClass("control-sidebar-open")}},close:function(c,a){if(a){c.removeClass("control-sidebar-open")}else{$("body").removeClass("control-sidebar-open")}},_fix:function(a){var c=this;if($("body").hasClass("layout-boxed")){a.css("position","absolute");a.height($(".wrapper").height());$(window).resize(function(){c._fix(a)})}else{a.css({position:"fixed",height:"auto"})}},_fixForFixed:function(a){a.css({position:"fixed","max-height":"100%",overflow:"auto","padding-bottom":"50px"})},_fixForContent:function(a){$(".content-wrapper, .right-side").css("min-height",a.height())}};$.AdminLTE.boxWidget={selectors:$.AdminLTE.options.boxWidgetOptions.boxWidgetSelectors,icons:$.AdminLTE.options.boxWidgetOptions.boxWidgetIcons,animationSpeed:$.AdminLTE.options.animationSpeed,activate:function(a){var c=this;if(!a){a=document}$(a).on("click",c.selectors.collapse,function(d){d.preventDefault();c.collapse($(this))});$(a).on("click",c.selectors.remove,function(d){d.preventDefault();c.remove($(this))})},collapse:function(a){var e=this;var c=a.parents(".box").first();var d=c.find("> .box-body, > .box-footer, > form  >.box-body, > form > .box-footer");if(!c.hasClass("collapsed-box")){a.children(":first").removeClass(e.icons.collapse).addClass(e.icons.open);d.slideUp(e.animationSpeed,function(){c.addClass("collapsed-box")})}else{a.children(":first").removeClass(e.icons.open).addClass(e.icons.collapse);d.slideDown(e.animationSpeed,function(){c.removeClass("collapsed-box")})}},remove:function(a){var c=a.parents(".box").first();c.slideUp(this.animationSpeed)}}}(function(a){a.fn.boxRefresh=function(e){var f=a.extend({trigger:".refresh-btn",source:"",onLoadStart:function(l){return l},onLoadDone:function(l){return l}},e);var d=a('<div class="overlay"><div class="fa fa-refresh fa-spin"></div></div>');return this.each(function(){if(f.source===""){if(window.console){window.console.log("Please specify a source first - boxRefresh()")}return}var l=a(this);var n=l.find(f.trigger).first();n.on("click",function(o){o.preventDefault();h(l);l.find(".box-body").load(f.source,function(){c(l)})})});function h(l){l.append(d);f.onLoadStart.call(l)}function c(l){l.find(d).remove();f.onLoadDone.call(l)}}})(jQuery);(function(a){a.fn.activateBox=function(){a.AdminLTE.boxWidget.activate(this)};a.fn.toggleBox=function(){var c=a(a.AdminLTE.boxWidget.selectors.collapse,this);a.AdminLTE.boxWidget.collapse(c)};a.fn.removeBox=function(){var c=a(a.AdminLTE.boxWidget.selectors.remove,this);a.AdminLTE.boxWidget.remove(c)}})(jQuery);(function(a){a.fn.todolist=function(c){var d=a.extend({onCheck:function(e){return e},onUncheck:function(e){return e}},c);return this.each(function(){if(typeof a.fn.iCheck!="undefined"){a("input",this).on("ifChecked",function(){var e=a(this).parents("li").first();e.toggleClass("done");d.onCheck.call(e)});a("input",this).on("ifUnchecked",function(){var e=a(this).parents("li").first();e.toggleClass("done");d.onUncheck.call(e)})}else{a("input",this).on("change",function(){var e=a(this).parents("li").first();e.toggleClass("done");if(a("input",e).is(":checked")){d.onCheck.call(e)}else{d.onUncheck.call(e)}})}})}}(jQuery));var jqxBaseFramework=window.minQuery||window.jQuery;(function(c){c.jqx=c.jqx||{};c.jqx.define=function(a,f,e){a[f]=function(){if(this.baseType){this.base=new a[this.baseType]();this.base.defineInstance()}this.defineInstance()};a[f].prototype.defineInstance=function(){};a[f].prototype.base=null;a[f].prototype.baseType=undefined;if(e&&a[e]){a[f].prototype.baseType=e}};c.jqx.invoke=function(l,n){if(n.length==0){return}var h=typeof(n)==Array||n.length>0?n[0]:n;var o=typeof(n)==Array||n.length>1?Array.prototype.slice.call(n,1):c({}).toArray();while(l[h]==undefined&&l.base!=null){if(l[h]!=undefined&&c.isFunction(l[h])){return l[h].apply(l,o)}if(typeof h=="string"){var a=h.toLowerCase();if(l[a]!=undefined&&c.isFunction(l[a])){return l[a].apply(l,o)}}l=l.base}if(l[h]!=undefined&&c.isFunction(l[h])){return l[h].apply(l,o)}if(typeof h=="string"){var a=h.toLowerCase();if(l[a]!=undefined&&c.isFunction(l[a])){return l[a].apply(l,o)}}return};c.jqx.hasProperty=function(l,a){if(typeof(a)=="object"){for(var f in a){var h=l;while(h){if(h.hasOwnProperty(f)){return true}if(h.hasOwnProperty(f.toLowerCase())){return true}h=h.base}return false}}else{while(l){if(l.hasOwnProperty(a)){return true}if(l.hasOwnProperty(a.toLowerCase())){return true}l=l.base}}return false};c.jqx.hasFunction=function(l,n){if(n.length==0){return false}if(l==undefined){return false}var h=typeof(n)==Array||n.length>0?n[0]:n;var o=typeof(n)==Array||n.length>1?Array.prototype.slice.call(n,1):{};while(l[h]==undefined&&l.base!=null){if(l[h]&&c.isFunction(l[h])){return true}if(typeof h=="string"){var a=h.toLowerCase();if(l[a]&&c.isFunction(l[a])){return true}}l=l.base}if(l[h]&&c.isFunction(l[h])){return true}if(typeof h=="string"){var a=h.toLowerCase();if(l[a]&&c.isFunction(l[a])){return true}}return false};c.jqx.isPropertySetter=function(d,a){if(a.length==1&&typeof(a[0])=="object"){return true}if(a.length==2&&typeof(a[0])=="string"&&!c.jqx.hasFunction(d,a)){return true}return false};c.jqx.validatePropertySetter=function(l,o,a){if(!c.jqx.propertySetterValidation){return true}if(o.length==1&&typeof(o[0])=="object"){for(var n in o[0]){var h=l;while(!h.hasOwnProperty(n)&&h.base){h=h.base}if(!h||!h.hasOwnProperty(n)){if(!a){var q=h.hasOwnProperty(n.toString().toLowerCase());if(!q){throw"Invalid property: "+n}else{return true}}return false}}return true}if(o.length!=2){if(!a){throw"Invalid property: "+o.length>=0?o[0]:""}return false}while(!l.hasOwnProperty(o[0])&&l.base){l=l.base}if(!l||!l.hasOwnProperty(o[0])){if(!a){throw"Invalid property: "+o[0]}return false}return true};c.jqx.set=function(q,s){var t=0;if(s.length==1&&typeof(s[0])=="object"){if(q.isInitialized&&Object.keys&&Object.keys(s[0]).length>1){var o=!q.base?q.element:q.base.element;var l=c.data(o,q.widgetName).initArgs;if(JSON&&JSON.stringify&&s[0]&&l[0]){try{if(JSON.stringify(s[0])==JSON.stringify(l[0])){return}}catch(n){}}q.batchUpdate=s[0];var a={};var u={};c.each(s[0],function(f,e){var d=q;while(!d.hasOwnProperty(f)&&d.base!=null){d=d.base}if(d.hasOwnProperty(f)){if(q[f]!=e){a[f]=q[f];u[f]=e;t++}}else{if(d.hasOwnProperty(f.toLowerCase())){if(q[f.toLowerCase()]!=e){a[f.toLowerCase()]=q[f.toLowerCase()];u[f.toLowerCase()]=e;t++}}}});if(t<2){q.batchUpdate=null}}c.each(s[0],function(f,e){var d=q;while(!d.hasOwnProperty(f)&&d.base!=null){d=d.base}if(d.hasOwnProperty(f)){c.jqx.setvalueraiseevent(d,f,e)}else{if(d.hasOwnProperty(f.toLowerCase())){c.jqx.setvalueraiseevent(d,f.toLowerCase(),e)}else{if(c.jqx.propertySetterValidation){throw"jqxCore: invalid property '"+f+"'"}}}});if(q.batchUpdate!=null){q.batchUpdate=null;if(q.propertiesChangedHandler&&t>1){q.propertiesChangedHandler(q,a,u)}}}else{if(s.length==2){while(!q.hasOwnProperty(s[0])&&q.base){q=q.base}if(q.hasOwnProperty(s[0])){c.jqx.setvalueraiseevent(q,s[0],s[1])}else{if(q.hasOwnProperty(s[0].toLowerCase())){c.jqx.setvalueraiseevent(q,s[0].toLowerCase(),s[1])}else{if(c.jqx.propertySetterValidation){throw"jqxCore: invalid property '"+s[0]+"'"}}}}}};c.jqx.setvalueraiseevent=function(l,h,f){var a=l[h];l[h]=f;if(!l.isInitialized){return}if(l.propertyChangedHandler!=undefined){l.propertyChangedHandler(l,h,a,f)}if(l.propertyChangeMap!=undefined&&l.propertyChangeMap[h]!=undefined){l.propertyChangeMap[h](l,h,a,f)}};c.jqx.get=function(f,h){if(h==undefined||h==null){return undefined}if(f.propertyMap){var l=f.propertyMap(h);if(l!=null){return l}}if(f.hasOwnProperty(h)){return f[h]}if(f.hasOwnProperty(h.toLowerCase())){return f[h.toLowerCase()]}var a=undefined;if(typeof(h)==Array){if(h.length!=1){return undefined}a=h[0]}else{if(typeof(h)=="string"){a=h}}while(!f.hasOwnProperty(a)&&f.base){f=f.base}if(f){return f[a]}return undefined};c.jqx.serialize=function(f){var a="";if(c.isArray(f)){a="[";for(var h=0;h<f.length;h++){if(h>0){a+=", "}a+=c.jqx.serialize(f[h])}a+="]"}else{if(typeof(f)=="object"){a="{";var l=0;for(var h in f){if(l++>0){a+=", "}a+=h+": "+c.jqx.serialize(f[h])}a+="}"}else{a=f.toString()}}return a};c.jqx.propertySetterValidation=true;c.jqx.jqxWidgetProxy=function(h,q,a){var o=c(q);var l=c.data(q,h);if(l==undefined){return undefined}var n=l.instance;if(c.jqx.hasFunction(n,a)){return c.jqx.invoke(n,a)}if(c.jqx.isPropertySetter(n,a)){if(c.jqx.validatePropertySetter(n,a)){c.jqx.set(n,a);return undefined}}else{if(typeof(a)=="object"&&a.length==0){return}else{if(typeof(a)=="object"&&a.length==1&&c.jqx.hasProperty(n,a[0])){return c.jqx.get(n,a[0])}else{if(typeof(a)=="string"&&c.jqx.hasProperty(n,a[0])){return c.jqx.get(n,a)}}}}throw"jqxCore: Invalid parameter '"+c.jqx.serialize(a)+"' does not exist.";return undefined};c.jqx.applyWidget=function(v,u,n,e){var s=false;try{s=window.MSApp!=undefined}catch(t){}var a=c(v);if(!e){e=new c.jqx["_"+u]()}else{e.host=a;e.element=v}if(v.id==""){v.id=c.jqx.utilities.createId()}var o={host:a,element:v,instance:e,initArgs:n};e.widgetName=u;c.data(v,u,o);c.data(v,"jqxWidget",o.instance);var q=new Array();var e=o.instance;while(e){e.isInitialized=false;q.push(e);e=e.base}q.reverse();q[0].theme=c.jqx.theme||"";c.jqx.jqxWidgetProxy(u,v,n);for(var w in q){e=q[w];if(w==0){e.host=a;e.element=v;e.WinJS=s}if(e!=undefined){if(e.definedInstance){e.definedInstance()}if(e.createInstance!=null){if(s){MSApp.execUnsafeLocalFunction(function(){e.createInstance(n)})}else{e.createInstance(n)}}}}for(var w in q){if(q[w]!=undefined){q[w].isInitialized=true}}if(s){MSApp.execUnsafeLocalFunction(function(){o.instance.refresh(true)})}else{o.instance.refresh(true)}};c.jqx.jqxWidget=function(v,u,s){var n=false;try{jqxArgs=Array.prototype.slice.call(s,0)}catch(o){jqxArgs=""}try{n=window.MSApp!=undefined}catch(o){}var q=v;var a="";if(u){a="_"+u}c.jqx.define(c.jqx,"_"+q,a);var e=new Array();if(!window[q]){var t=function(d){if(d==null){return""}var f=c.type(d);switch(f){case"string":case"number":case"date":case"boolean":case"bool":if(d===null){return""}return d.toString()}var h="";c.each(d,function(z){var l=this;if(z>0){h+=", "}h+="[";var A=0;if(c.type(l)=="object"){for(var w in l){if(A>0){h+=", "}h+="{"+w+":"+l[w]+"}";A++}}else{if(A>0){h+=", "}h+="{"+z+":"+l+"}";A++}h+="]"});return h};window[q]=function(w,f){var d=[];if(!f){f={}}d.push(f);var A=w;if(c.type(A)==="object"&&w[0]){A=w[0].id;if(A===""){A=w[0].id=c.jqx.utilities.createId()}}if(window.jqxWidgets&&window.jqxWidgets[A]){if(f){c.each(window.jqxWidgets[A],function(C){var B=c(this.element).data();if(B&&B.jqxWidget){c(this.element)[q](f)}})}if(window.jqxWidgets[A].length==1){var l=c(window.jqxWidgets[A][0].widgetInstance.element).data();if(l&&l.jqxWidget){return window.jqxWidgets[A][0]}}var l=c(window.jqxWidgets[A][0].widgetInstance.element).data();if(l&&l.jqxWidget){return window.jqxWidgets[A]}}var z=c(w);if(z.length===0){throw new Error("Invalid Selector - "+w+"! Please, check whether the used ID or CSS Class name is correct.")}var h=[];c.each(z,function(D){var B=z[D];var E=null;if(!e[q]){var H=B.id;B.id="";E=c(B).clone();B.id=H}c.jqx.applyWidget(B,q,d,undefined);if(!e[q]){var F=c.data(B,"jqxWidget");var C=E[q]().data().jqxWidget.defineInstance();var G=function(I){var J=c.data(I,"jqxWidget");this.widgetInstance=J;var K=c.extend(this,J);K.on=function(M,L){K.addHandler(K.host,M,L)};K.off=function(L){K.removeHandler(K.host,L)};return K};e[q]=G;c.each(C,function(I,J){Object.defineProperty(G.prototype,I,{get:function(){if(this.widgetInstance){return this.widgetInstance[I]}return J},set:function(K){if(this.widgetInstance&&this.widgetInstance[I]!=K){if(this.widgetInstance[I]!=K&&t(this.widgetInstance[I])!=t(K)){var L={};L[I]=K;this.widgetInstance.host[q](L);this.widgetInstance[I]=K}}}})})}var F=new e[q](B);h.push(F);if(!window.jqxWidgets){window.jqxWidgets=new Array()}if(!window.jqxWidgets[A]){window.jqxWidgets[A]=new Array()}window.jqxWidgets[A].push(F)});if(h.length===1){return h[0]}return h}}c.fn[q]=function(){var f=Array.prototype.slice.call(arguments,0);if(f.length==0||(f.length==1&&typeof(f[0])=="object")){if(this.length==0){if(this.selector){throw new Error("Invalid Selector - "+this.selector+"! Please, check whether the used ID or CSS Class name is correct.")}else{throw new Error("Invalid Selector! Please, check whether the used ID or CSS Class name is correct.")}}return this.each(function(){var w=c(this);var z=this;var l=c.data(z,q);if(l==null){c.jqx.applyWidget(z,q,f,undefined)}else{c.jqx.jqxWidgetProxy(q,this,f)}})}else{if(this.length==0){if(this.selector){throw new Error("Invalid Selector - "+this.selector+"! Please, check whether the used ID or CSS Class name is correct.")}else{throw new Error("Invalid Selector! Please, check whether the used ID or CSS Class name is correct.")}}var h=null;var d=0;this.each(function(){var w=c.jqx.jqxWidgetProxy(q,this,f);if(d==0){h=w;d++}else{if(d==1){var l=[];l.push(h);h=l}h.push(w)}})}return h};try{c.extend(c.jqx["_"+q].prototype,Array.prototype.slice.call(s,0)[0])}catch(o){}c.extend(c.jqx["_"+q].prototype,{toThemeProperty:function(f,d){return c.jqx.toThemeProperty(this,f,d)}});c.jqx["_"+q].prototype.refresh=function(){if(this.base){this.base.refresh(true)}};c.jqx["_"+q].prototype.createInstance=function(){};c.jqx["_"+q].prototype.applyTo=function(h,d){if(!(d instanceof Array)){var f=[];f.push(d);d=f}c.jqx.applyWidget(h,q,d,this)};c.jqx["_"+q].prototype.getInstance=function(){return this};c.jqx["_"+q].prototype.propertyChangeMap={};c.jqx["_"+q].prototype.addHandler=function(h,f,d,l){c.jqx.addHandler(h,f,d,l)};c.jqx["_"+q].prototype.removeHandler=function(h,f,d){c.jqx.removeHandler(h,f,d)}};c.jqx.toThemeProperty=function(t,s,l){if(t.theme==""){return s}var n=s.split(" ");var a="";for(var o=0;o<n.length;o++){if(o>0){a+=" "}var q=n[o];if(l!=null&&l){a+=q+"-"+t.theme}else{a+=q+" "+q+"-"+t.theme}}return a};c.jqx.addHandler=function(n,l,q,o){var t=l.split(" ");for(var a=0;a<t.length;a++){var s=t[a];if(window.addEventListener){switch(s){case"mousewheel":if(c.jqx.browser.mozilla){n[0].addEventListener("DOMMouseScroll",q,false)}else{n[0].addEventListener("mousewheel",q,false)}continue;case"mousemove":if(!o){n[0].addEventListener("mousemove",q,false);continue}break}}if(o==undefined||o==null){if(n.on){n.on(s,q)}else{n.bind(s,q)}}else{if(n.on){n.on(s,o,q)}else{n.bind(s,o,q)}}}};c.jqx.removeHandler=function(l,h,n){if(!h){if(l.off){l.off()}else{l.unbind()}return}var q=h.split(" ");for(var a=0;a<q.length;a++){var o=q[a];if(window.removeEventListener){switch(o){case"mousewheel":if(c.jqx.browser.mozilla){l[0].removeEventListener("DOMMouseScroll",n,false)}else{l[0].removeEventListener("mousewheel",n,false)}continue;case"mousemove":if(n){l[0].removeEventListener("mousemove",n,false);continue}break}}if(o==undefined){if(l.off){l.off()}else{l.unbind()}continue}if(n==undefined){if(l.off){l.off(o)}else{l.unbind(o)}}else{if(l.off){l.off(o,n)}else{l.unbind(o,n)}}}};c.jqx.theme=c.jqx.theme||"";c.jqx.resizeDelay=c.jqx.resizeDelay||10;c.jqx.ready=function(){c(window).trigger("jqxReady")};c.jqx.init=function(){c.each(arguments[0],function(a,d){if(a=="theme"){c.jqx.theme=d}if(a=="scrollBarSize"){c.jqx.utilities.scrollBarSize=d}if(a=="touchScrollBarSize"){c.jqx.utilities.touchScrollBarSize=d}if(a=="scrollBarButtonsVisibility"){c.jqx.utilities.scrollBarButtonsVisibility=d}})};c.jqx.utilities=c.jqx.utilities||{};c.extend(c.jqx.utilities,{scrollBarSize:15,touchScrollBarSize:10,scrollBarButtonsVisibility:"visible",createId:function(){var a=function(){return(((1+Math.random())*65536)|0).toString(16).substring(1)};return"jqxWidget"+a()+a()},setTheme:function(q,o,s){if(typeof s==="undefined"){return}var n=s[0].className.split(" "),a=[],l=[],t=s.children();for(var u=0;u<n.length;u+=1){if(n[u].indexOf(q)>=0){if(q.length>0){a.push(n[u]);l.push(n[u].replace(q,o))}else{l.push(n[u].replace("-"+o,"")+"-"+o)}}}this._removeOldClasses(a,s);this._addNewClasses(l,s);for(var u=0;u<t.length;u+=1){this.setTheme(q,o,c(t[u]))}},_removeOldClasses:function(e,f){for(var a=0;a<e.length;a+=1){f.removeClass(e[a])}},_addNewClasses:function(e,f){for(var a=0;a<e.length;a+=1){f.addClass(e[a])}},getOffset:function(a){var e=c.jqx.mobile.getLeftPos(a[0]);var f=c.jqx.mobile.getTopPos(a[0]);return{top:f,left:e}},resize:function(w,a,n,o){if(o===undefined){o=true}var t=-1;var u=this;var z=function(e){if(!u.hiddenWidgets){return -1}var d=-1;for(var f=0;f<u.hiddenWidgets.length;f++){if(e.id){if(u.hiddenWidgets[f].id==e.id){d=f;break}}else{if(u.hiddenWidgets[f].id==e[0].id){d=f;break}}}return d};if(this.resizeHandlers){for(var v=0;v<this.resizeHandlers.length;v++){if(w.id){if(this.resizeHandlers[v].id==w.id){t=v;break}}else{if(this.resizeHandlers[v].id==w[0].id){t=v;break}}}if(n===true){if(t!=-1){this.resizeHandlers.splice(t,1)}if(this.resizeHandlers.length==0){var q=c(window);if(q.off){q.off("resize.jqx");q.off("orientationchange.jqx");q.off("orientationchanged.jqx")}else{q.unbind("resize.jqx");q.unbind("orientationchange.jqx");q.unbind("orientationchanged.jqx")}this.resizeHandlers=null}var A=z(w);if(A!=-1&&this.hiddenWidgets){this.hiddenWidgets.splice(A,1)}return}}else{if(n===true){var A=z(w);if(A!=-1&&this.hiddenWidgets){this.hiddenWidgets.splice(A,1)}return}}var u=this;var s=function(f,E){if(!u.resizeHandlers){return}var D=function(L){var M=-1;var K=L.parentNode;while(K){M++;K=K.parentNode}return M};var h=function(M,O){if(!M.widget||!O.widget){return 0}var N=D(M.widget[0]);var P=D(O.widget[0]);try{if(N<P){return -1}if(N>P){return 1}}catch(L){var K=L}return 0};var e=function(K){if(u.hiddenWidgets.length>0){u.hiddenWidgets.sort(h);var L=function(){var O=false;var M=new Array();for(var N=0;N<u.hiddenWidgets.length;N++){var P=u.hiddenWidgets[N];if(c.jqx.isHidden(P.widget)){O=true;M.push(P)}else{if(P.callback){P.callback(E)}}}u.hiddenWidgets=M;if(!O){clearInterval(u.__resizeInterval)}};if(K==false){L();if(u.__resizeInterval){clearInterval(u.__resizeInterval)}return}if(u.__resizeInterval){clearInterval(u.__resizeInterval)}u.__resizeInterval=setInterval(function(){L()},100)}};if(u.hiddenWidgets&&u.hiddenWidgets.length>0){e(false)}u.hiddenWidgets=new Array();u.resizeHandlers.sort(h);for(var H=0;H<u.resizeHandlers.length;H++){var l=u.resizeHandlers[H];var F=l.widget;var I=l.data;if(!I){continue}if(!I.jqxWidget){continue}var B=I.jqxWidget.width;var C=I.jqxWidget.height;if(I.jqxWidget.base){if(B==undefined){B=I.jqxWidget.base.width}if(C==undefined){C=I.jqxWidget.base.height}}if(B===undefined&&C===undefined){B=I.jqxWidget.element.style.width;C=I.jqxWidget.element.style.height}var G=false;if(B!=null&&B.toString().indexOf("%")!=-1){G=true}if(C!=null&&C.toString().indexOf("%")!=-1){G=true}if(c.jqx.isHidden(F)){if(z(F)===-1){if(G||f===true){if(l.data.nestedWidget!==true){u.hiddenWidgets.push(l)}}}}else{if(f===undefined||f!==true){if(G){l.callback(E);if(u.hiddenWidgets.indexOf(l)>=0){u.hiddenWidgets.splice(u.hiddenWidgets.indexOf(l),1)}}if(I.jqxWidget.element){var d=I.jqxWidget.element.className;if(d.indexOf("dropdownlist")>=0||d.indexOf("datetimeinput")>=0||d.indexOf("combobox")>=0||d.indexOf("menu")>=0){if(I.jqxWidget.isOpened){var J=I.jqxWidget.isOpened();if(J){if(E&&E=="resize"&&c.jqx.mobile.isTouchDevice()){continue}I.jqxWidget.close()}}}}}}}e()};if(!this.resizeHandlers){this.resizeHandlers=new Array();var q=c(window);if(q.on){this._resizeTimer=null;this._initResize=null;q.on("resize.jqx",function(d){if(u._resizeTimer!=undefined){clearTimeout(u._resizeTimer)}if(!u._initResize){u._initResize=true;s(null,"resize")}else{u._resizeTimer=setTimeout(function(){s(null,"resize")},c.jqx.resizeDelay)}});q.on("orientationchange.jqx",function(d){s(null,"orientationchange")});q.on("orientationchanged.jqx",function(d){s(null,"orientationchange")})}else{q.bind("resize.jqx",function(d){s(null,"orientationchange")});q.bind("orientationchange.jqx",function(d){s(null,"orientationchange")});q.bind("orientationchanged.jqx",function(d){s(null,"orientationchange")})}}if(o){if(t===-1){this.resizeHandlers.push({id:w[0].id,widget:w,callback:a,data:w.data()})}}if(c.jqx.isHidden(w)&&o===true){s(true)}c.jqx.resize=function(){s(null,"resize")}},html:function(f,e){if(!c(f).on){return c(f).html(e)}try{return c.access(f,function(G){var E=f[0]||{},z=0,B=f.length;if(G===undefined){return E.nodeType===1?E.innerHTML.replace(rinlinejQuery,""):undefined}var d=/<(?:script|style|link)/i,w="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",C=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,u=/<([\w:]+)/,D=/<(?:script|object|embed|option|style)/i,A=new RegExp("<(?:"+w+")[\\s/>]","i"),l=/^\s+/,F={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};if(typeof G==="string"&&!d.test(G)&&(c.support.htmlSerialize||!A.test(G))&&(c.support.leadingWhitespace||!l.test(G))&&!F[(u.exec(G)||["",""])[1].toLowerCase()]){G=G.replace(C,"<$1></$2>");try{for(;z<B;z++){E=this[z]||{};if(E.nodeType===1){c.cleanData(E.getElementsByTagName("*"));E.innerHTML=G}}E=0}catch(v){}}if(E){f.empty().append(G)}},null,e,arguments.length)}catch(a){return c(f).html(e)}},hasTransform:function(e){var f="";f=e.css("transform");if(f==""||f=="none"){f=e.parents().css("transform");if(f==""||f=="none"){var a=c.jqx.utilities.getBrowser();if(a.browser=="msie"){f=e.css("-ms-transform");if(f==""||f=="none"){f=e.parents().css("-ms-transform")}}else{if(a.browser=="chrome"){f=e.css("-webkit-transform");if(f==""||f=="none"){f=e.parents().css("-webkit-transform")}}else{if(a.browser=="opera"){f=e.css("-o-transform");if(f==""||f=="none"){f=e.parents().css("-o-transform")}}else{if(a.browser=="mozilla"){f=e.css("-moz-transform");if(f==""||f=="none"){f=e.parents().css("-moz-transform")}}}}}}else{return f!=""&&f!="none"}}if(f==""||f=="none"){f=c(document.body).css("transform")}return f!=""&&f!="none"&&f!=null},getBrowser:function(){var f=navigator.userAgent.toLowerCase();var a=/(chrome)[ \/]([\w.]+)/.exec(f)||/(webkit)[ \/]([\w.]+)/.exec(f)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(f)||/(msie) ([\w.]+)/.exec(f)||f.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(f)||[];var e={browser:a[1]||"",version:a[2]||"0"};if(f.indexOf("rv:11.0")>=0&&f.indexOf(".net4.0c")>=0){e.browser="msie";e.version="11";a[1]="msie"}if(f.indexOf("edge")>=0){e.browser="msie";e.version="12";a[1]="msie"}e[a[1]]=a[1];return e}});c.jqx.browser=c.jqx.utilities.getBrowser();c.jqx.isHidden=function(f){if(!f||!f[0]){return false}var a=f[0].offsetWidth,e=f[0].offsetHeight;if(a===0||e===0){return true}else{return false}};c.jqx.ariaEnabled=true;c.jqx.aria=function(l,f,h){if(!c.jqx.ariaEnabled){return}if(f==undefined){c.each(l.aria,function(o,n){var d=!l.base?l.host.attr(o):l.base.host.attr(o);if(d!=undefined&&!c.isFunction(d)){var e=d;switch(n.type){case"number":e=new Number(d);if(isNaN(e)){e=d}break;case"boolean":e=d=="true"?true:false;break;case"date":e=new Date(d);if(e=="Invalid Date"||isNaN(e)){e=d}break}l[n.name]=e}else{var d=l[n.name];if(c.isFunction(d)){d=l[n.name]()}if(d==undefined){d=""}try{!l.base?l.host.attr(o,d.toString()):l.base.host.attr(o,d.toString())}catch(q){}}})}else{try{if(l.host){if(!l.base){if(l.host){if(l.element.setAttribute){l.element.setAttribute(f,h.toString())}else{l.host.attr(f,h.toString())}}else{l.attr(f,h.toString())}}else{if(l.base.host){l.base.host.attr(f,h.toString())}else{l.attr(f,h.toString())}}}else{if(l.setAttribute){l.setAttribute(f,h.toString())}}}catch(a){}}};if(!Array.prototype.indexOf){Array.prototype.indexOf=function(f){var a=this.length;var e=Number(arguments[1])||0;e=(e<0)?Math.ceil(e):Math.floor(e);if(e<0){e+=a}for(;e<a;e++){if(e in this&&this[e]===f){return e}}return -1}}c.jqx.mobile=c.jqx.mobile||{};c.jqx.position=function(a){var l=parseInt(a.pageX);var n=parseInt(a.pageY);if(c.jqx.mobile.isTouchDevice()){var o=c.jqx.mobile.getTouches(a);var h=o[0];l=parseInt(h.pageX);n=parseInt(h.pageY)}return{left:l,top:n}};c.extend(c.jqx.mobile,{_touchListener:function(e,n){var a=function(h,d){var f=document.createEvent("MouseEvents");f.initMouseEvent(h,d.bubbles,d.cancelable,d.view,d.detail,d.screenX,d.screenY,d.clientX,d.clientY,d.ctrlKey,d.altKey,d.shiftKey,d.metaKey,d.button,d.relatedTarget);f._pageX=d.pageX;f._pageY=d.pageY;return f};var l={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"};var o=a(l[e.type],e);e.target.dispatchEvent(o);var q=e.target["on"+l[e.type]];if(typeof q==="function"){q(e)}},setMobileSimulator:function(o,l){if(this.isTouchDevice()){return}this.simulatetouches=true;if(l==false){this.simulatetouches=false}var n={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"};var a=this;if(window.addEventListener){var h=function(){for(var d in n){if(o.addEventListener){o.removeEventListener(d,a._touchListener);o.addEventListener(d,a._touchListener,false)}}};if(c.jqx.browser.msie){h()}else{h()}}},isTouchDevice:function(){if(this.touchDevice!=undefined){return this.touchDevice}var n="Browser CodeName: "+navigator.appCodeName+"";n+="Browser Name: "+navigator.appName+"";n+="Browser Version: "+navigator.appVersion+"";n+="Platform: "+navigator.platform+"";n+="User-agent header: "+navigator.userAgent+"";if(n.indexOf("Android")!=-1){return true}if(n.indexOf("IEMobile")!=-1){return true}if(n.indexOf("Windows Phone")!=-1){return true}if(n.indexOf("WPDesktop")!=-1){return true}if(n.indexOf("ZuneWP7")!=-1){return true}if(n.indexOf("BlackBerry")!=-1&&n.indexOf("Mobile Safari")!=-1){return true}if(n.indexOf("ipod")!=-1){return true}if(n.indexOf("nokia")!=-1||n.indexOf("Nokia")!=-1){return true}if(n.indexOf("Chrome/17")!=-1){return false}if(n.indexOf("CrOS")!=-1){return false}if(n.indexOf("Opera")!=-1&&n.indexOf("Mobi")==-1&&n.indexOf("Mini")==-1&&n.indexOf("Platform: Win")!=-1){return false}if(n.indexOf("Opera")!=-1&&n.indexOf("Mobi")!=-1&&n.indexOf("Opera Mobi")!=-1){return true}var l={ios:"i(?:Pad|Phone|Pod)(?:.*)CPU(?: iPhone)? OS ",android:"(Android |HTC_|Silk/)",blackberry:"BlackBerry(?:.*)Version/",rimTablet:"RIM Tablet OS ",webos:"(?:webOS|hpwOS)/",bada:"Bada/"};try{if(this.touchDevice!=undefined){return this.touchDevice}this.touchDevice=false;for(i in l){if(l.hasOwnProperty(i)){prefix=l[i];match=n.match(new RegExp("(?:"+prefix+")([^\\s;]+)"));if(match){if(i.toString()=="blackberry"){this.touchDevice=false;return false}this.touchDevice=true;return true}}}var h=navigator.userAgent;if(navigator.platform.toLowerCase().indexOf("win")!=-1){if(h.indexOf("Windows Phone")>=0||h.indexOf("WPDesktop")>=0||h.indexOf("IEMobile")>=0||h.indexOf("ZuneWP7")>=0){this.touchDevice=true;return true}else{if(h.indexOf("Touch")>=0){var a=("MSPointerDown" in window)||("pointerdown" in window);if(a){this.touchDevice=true;return true}if(h.indexOf("ARM")>=0){this.touchDevice=true;return true}this.touchDevice=false;return false}}}if(navigator.platform.toLowerCase().indexOf("win")!=-1){this.touchDevice=false;return false}if(("ontouchstart" in window)||window.DocumentTouch&&document instanceof DocumentTouch){this.touchDevice=true}return this.touchDevice}catch(e){this.touchDevice=false;return false}},getLeftPos:function(a){var d=a.offsetLeft;while((a=a.offsetParent)!=null){if(a.tagName!="HTML"){d+=a.offsetLeft;if(document.all){d+=a.clientLeft}}}return d},getTopPos:function(o){var l=o.offsetTop;var a=c(o).coord();while((o=o.offsetParent)!=null){if(o.tagName!="HTML"){l+=(o.offsetTop-o.scrollTop);if(document.all){l+=o.clientTop}}}var n=navigator.userAgent.toLowerCase();var h=(n.indexOf("windows phone")!=-1||n.indexOf("WPDesktop")!=-1||n.indexOf("ZuneWP7")!=-1||n.indexOf("msie 9")!=-1||n.indexOf("msie 11")!=-1||n.indexOf("msie 10")!=-1)&&n.indexOf("touch")!=-1;if(h){return a.top}if(this.isSafariMobileBrowser()){if(this.isSafari4MobileBrowser()&&this.isIPadSafariMobileBrowser()){return l}if(n.indexOf("version/7")!=-1){return a.top}if(n.indexOf("version/6")!=-1||n.indexOf("version/5")!=-1){l=l+c(window).scrollTop()}return a.top}return l},isChromeMobileBrowser:function(){var d=navigator.userAgent.toLowerCase();var a=d.indexOf("android")!=-1;return a},isOperaMiniMobileBrowser:function(){var d=navigator.userAgent.toLowerCase();var a=d.indexOf("opera mini")!=-1||d.indexOf("opera mobi")!=-1;return a},isOperaMiniBrowser:function(){var d=navigator.userAgent.toLowerCase();var a=d.indexOf("opera mini")!=-1;return a},isNewSafariMobileBrowser:function(){var d=navigator.userAgent.toLowerCase();var a=d.indexOf("ipad")!=-1||d.indexOf("iphone")!=-1||d.indexOf("ipod")!=-1;a=a&&(d.indexOf("version/5")!=-1);return a},isSafari4MobileBrowser:function(){var d=navigator.userAgent.toLowerCase();var a=d.indexOf("ipad")!=-1||d.indexOf("iphone")!=-1||d.indexOf("ipod")!=-1;a=a&&(d.indexOf("version/4")!=-1);return a},isWindowsPhone:function(){var d=navigator.userAgent.toLowerCase();var a=(d.indexOf("windows phone")!=-1||d.indexOf("WPDesktop")!=-1||d.indexOf("ZuneWP7")!=-1||d.indexOf("msie 9")!=-1||d.indexOf("msie 11")!=-1||d.indexOf("msie 10")!=-1&&d.indexOf("touch")!=-1);return a},isSafariMobileBrowser:function(){var d=navigator.userAgent.toLowerCase();var a=d.indexOf("ipad")!=-1||d.indexOf("iphone")!=-1||d.indexOf("ipod")!=-1;return a},isIPadSafariMobileBrowser:function(){var d=navigator.userAgent.toLowerCase();var a=d.indexOf("ipad")!=-1;return a},isMobileBrowser:function(){var d=navigator.userAgent.toLowerCase();var a=d.indexOf("ipad")!=-1||d.indexOf("iphone")!=-1||d.indexOf("android")!=-1;return a},getTouches:function(a){if(a.originalEvent){if(a.originalEvent.touches&&a.originalEvent.touches.length){return a.originalEvent.touches}else{if(a.originalEvent.changedTouches&&a.originalEvent.changedTouches.length){return a.originalEvent.changedTouches}}}if(!a.touches){a.touches=new Array();a.touches[0]=a.originalEvent!=undefined?a.originalEvent:a;if(a.originalEvent!=undefined&&a.pageX){a.touches[0]=a}if(a.type=="mousemove"){a.touches[0]=a}}return a.touches},getTouchEventName:function(a){if(this.isWindowsPhone()){var d=navigator.userAgent.toLowerCase();if(d.indexOf("windows phone 7")!=-1){if(a.toLowerCase().indexOf("start")!=-1){return"MSPointerDown"}if(a.toLowerCase().indexOf("move")!=-1){return"MSPointerMove"}if(a.toLowerCase().indexOf("end")!=-1){return"MSPointerUp"}}if(a.toLowerCase().indexOf("start")!=-1){return"pointerdown"}if(a.toLowerCase().indexOf("move")!=-1){return"pointermove"}if(a.toLowerCase().indexOf("end")!=-1){return"pointerup"}}else{return a}},dispatchMouseEvent:function(a,e,h){if(this.simulatetouches){return}var l=document.createEvent("MouseEvent");l.initMouseEvent(a,true,true,e.view,1,e.screenX,e.screenY,e.clientX,e.clientY,false,false,false,false,0,null);if(h!=null){h.dispatchEvent(l)}},getRootNode:function(a){while(a.nodeType!==1){a=a.parentNode}return a},setTouchScroll:function(a,d){if(!this.enableScrolling){this.enableScrolling=[]}this.enableScrolling[d]=a},touchScroll:function(ac,E,Z,L,ae,W){if(ac==null){return}var O=this;var J=0;var X=0;var V=0;var I=0;var U=0;var T=0;if(!this.scrolling){this.scrolling=[]}this.scrolling[L]=false;var Y=false;var P=c(ac);var H=["select","input","textarea"];var ad=0;var ab=0;if(!this.enableScrolling){this.enableScrolling=[]}this.enableScrolling[L]=true;var L=L;var N=this.getTouchEventName("touchstart")+".touchScroll";var R=this.getTouchEventName("touchend")+".touchScroll";var Q=this.getTouchEventName("touchmove")+".touchScroll";var ad=function(f){if(!O.enableScrolling[L]){return true}if(c.inArray(f.target.tagName.toLowerCase(),H)!==-1){return}var e=O.getTouches(f);var d=e[0];if(e.length==1){O.dispatchMouseEvent("mousedown",d,O.getRootNode(d.target))}Y=false;X=d.pageY;U=d.pageX;if(O.simulatetouches){if(d._pageY!=undefined){X=d._pageY;U=d._pageX}}O.scrolling[L]=true;J=0;I=0;return true};if(P.on){P.on(N,ad)}else{P.bind(N,ad)}var F=function(f){if(!O.enableScrolling[L]){return true}if(!O.scrolling[L]){return true}var d=O.getTouches(f);if(d.length>1){return true}var l=d[0].pageY;var h=d[0].pageX;if(O.simulatetouches){if(d[0]._pageY!=undefined){l=d[0]._pageY;h=d[0]._pageX}}var q=l-X;var o=h-U;ab=l;touchHorizontalEnd=h;V=q-J;T=o-I;Y=true;J=q;I=o;var n=ae!=null?ae[0].style.visibility!="hidden":true;var e=W!=null?W[0].style.visibility!="hidden":true;if(n||e){if((T!==0&&n)||(V!==0&&e)){Z(-T*1,-V*1,o,q,f);f.preventDefault();f.stopPropagation();if(f.preventManipulation){f.preventManipulation()}return false}}};if(P.on){P.on(Q,F)}else{P.bind(Q,F)}if(this.simulatetouches){var S=c(window).on!=undefined||c(window).bind;var a=function(d){O.scrolling[L]=false};c(window).on!=undefined?c(document).on("mouseup.touchScroll",a):c(document).bind("mouseup.touchScroll",a);if(window.frameElement){if(window.top!=null){var M=function(d){O.scrolling[L]=false};if(window.top.document){c(window.top.document).on?c(window.top.document).on("mouseup",M):c(window.top.document).bind("mouseup",M)}}}var K=c(document).on!=undefined||c(document).bind;var G=function(f){if(!O.scrolling[L]){return true}O.scrolling[L]=false;var d=O.getTouches(f)[0],e=O.getRootNode(d.target);O.dispatchMouseEvent("mouseup",d,e);O.dispatchMouseEvent("click",d,e)};c(document).on!=undefined?c(document).on("touchend",G):c(document).bind("touchend",G)}var aa=function(f){if(!O.enableScrolling[L]){return true}var d=O.getTouches(f)[0];if(!O.scrolling[L]){return true}O.scrolling[L]=false;if(Y){O.dispatchMouseEvent("mouseup",d,e)}else{var d=O.getTouches(f)[0],e=O.getRootNode(d.target);O.dispatchMouseEvent("mouseup",d,e);O.dispatchMouseEvent("click",d,e);return true}};if(P.on){P.on("dragstart",function(d){d.preventDefault()});P.on("selectstart",function(d){d.preventDefault()})}P.on?P.on(R+" touchcancel.touchScroll",aa):P.bind(R+" touchcancel.touchScroll",aa)}});c.jqx.cookie=c.jqx.cookie||{};c.extend(c.jqx.cookie,{cookie:function(q,o,t){if(arguments.length>1&&String(o)!=="[object Object]"){t=c.extend({},t);if(o===null||o===undefined){t.expires=-1}if(typeof t.expires==="number"){var l=t.expires,s=t.expires=new Date();s.setDate(s.getDate()+l)}o=String(o);return(document.cookie=[encodeURIComponent(q),"=",t.raw?o:encodeURIComponent(o),t.expires?"; expires="+t.expires.toUTCString():"",t.path?"; path="+t.path:"",t.domain?"; domain="+t.domain:"",t.secure?"; secure":""].join(""))}t=o||{};var a,n=t.raw?function(d){return d}:decodeURIComponent;return(a=new RegExp("(?:^|; )"+encodeURIComponent(q)+"=([^;]*)").exec(document.cookie))?n(a[1]):null}});c.jqx.string=c.jqx.string||{};c.extend(c.jqx.string,{replace:function(h,n,l){if(n===l){return this}var a=h;var o=a.indexOf(n);while(o!=-1){a=a.replace(n,l);o=a.indexOf(n)}return a},contains:function(a,d){if(a==null||d==null){return false}return a.indexOf(d)!=-1},containsIgnoreCase:function(a,d){if(a==null||d==null){return false}return a.toString().toUpperCase().indexOf(d.toString().toUpperCase())!=-1},equals:function(a,d){if(a==null||d==null){return false}a=this.normalize(a);if(d.length==a.length){return a.slice(0,d.length)==d}return false},equalsIgnoreCase:function(a,d){if(a==null||d==null){return false}a=this.normalize(a);if(d.length==a.length){return a.toUpperCase().slice(0,d.length)==d.toUpperCase()}return false},startsWith:function(a,d){if(a==null||d==null){return false}return a.slice(0,d.length)==d},startsWithIgnoreCase:function(a,d){if(a==null||d==null){return false}return a.toUpperCase().slice(0,d.length)==d.toUpperCase()},normalize:function(a){if(a.charCodeAt(a.length-1)==65279){a=a.substring(0,a.length-1)}return a},endsWith:function(a,d){if(a==null||d==null){return false}a=this.normalize(a);return a.slice(-d.length)==d},endsWithIgnoreCase:function(a,d){if(a==null||d==null){return false}a=this.normalize(a);return a.toUpperCase().slice(-d.length)==d.toUpperCase()}});c.extend(c.easing,{easeOutBack:function(o,n,q,a,d,l){if(l==undefined){l=1.70158}return a*((n=n/d-1)*n*((l+1)*n+l)+1)+q},easeInQuad:function(n,l,o,a,d){return a*(l/=d)*l+o},easeInOutCirc:function(n,l,o,a,d){if((l/=d/2)<1){return -a/2*(Math.sqrt(1-l*l)-1)+o}return a/2*(Math.sqrt(1-(l-=2)*l)+1)+o},easeInOutSine:function(n,l,o,a,d){return -a/2*(Math.cos(Math.PI*l/d)-1)+o},easeInCubic:function(n,l,o,a,d){return a*(l/=d)*l*l+o},easeOutCubic:function(n,l,o,a,d){return a*((l=l/d-1)*l*l+1)+o},easeInOutCubic:function(n,l,o,a,d){if((l/=d/2)<1){return a/2*l*l*l+o}return a/2*((l-=2)*l*l+2)+o},easeInSine:function(n,l,o,a,d){return -a*Math.cos(l/d*(Math.PI/2))+a+o},easeOutSine:function(n,l,o,a,d){return a*Math.sin(l/d*(Math.PI/2))+o},easeInOutSine:function(n,l,o,a,d){return -a/2*(Math.cos(Math.PI*l/d)-1)+o}})})(jqxBaseFramework);(function(c){c.extend(c.event.special,{close:{noBubble:true},open:{noBubble:true},cellclick:{noBubble:true},rowclick:{noBubble:true},tabclick:{noBubble:true},selected:{noBubble:true},expanded:{noBubble:true},collapsed:{noBubble:true},valuechanged:{noBubble:true},expandedItem:{noBubble:true},collapsedItem:{noBubble:true},expandingItem:{noBubble:true},collapsingItem:{noBubble:true}});c.fn.extend({ischildof:function(a){var l=c(this).parents().get();for(var n=0;n<l.length;n++){if(typeof a!="string"){var h=l[n];if(a!==undefined){if(h==a[0]){return true}}}else{if(a!==undefined){if(c(l[n]).is(a)){return true}}}}return false}});c.fn.jqxProxy=function(){var a=c(this).data().jqxWidget;var h=Array.prototype.slice.call(arguments,0);var f=a.element;if(!f){f=a.base.element}return c.jqx.jqxWidgetProxy(a.widgetName,f,h)};var d=this.originalVal=c.fn.val;c.fn.val=function(a){if(typeof a=="undefined"){if(c(this).hasClass("jqx-widget")){var e=c(this).data().jqxWidget;if(e&&e.val){return e.val()}}return d.call(this)}else{if(c(this).hasClass("jqx-widget")){var e=c(this).data().jqxWidget;if(e&&e.val){if(arguments.length!=2){return e.val(a)}else{return e.val(a,arguments[1])}}}return d.call(this,a)}};if(c.fn.modal&&c.fn.modal.Constructor){c.fn.modal.Constructor.prototype.enforceFocus=function(){c(document).off("focusin.bs.modal").on("focusin.bs.modal",c.proxy(function(a){if(this.$element[0]!==a.target&&!this.$element.has(a.target).length){if(c(a.target).parents().hasClass("jqx-popup")){return true}this.$element.trigger("focus")}},this))}}c.fn.coord=function(a){var B,u,v={top:0,left:0},A=this[0],s=A&&A.ownerDocument;if(!s){return}B=s.documentElement;if(!c.contains(B,A)){return v}if(typeof A.getBoundingClientRect!==undefined){v=A.getBoundingClientRect()}var C=function(e){return c.isWindow(e)?e:e.nodeType===9?e.defaultView||e.parentWindow:false};u=C(s);var w=0;var D=0;var z=navigator.userAgent.toLowerCase();var q=z.indexOf("ipad")!=-1||z.indexOf("iphone")!=-1;if(q){w=2}if(true==a){if(c(document.body).css("position")!="static"){var t=c(document.body).coord();w=-t.left;D=-t.top}}return{top:D+v.top+(u.pageYOffset||B.scrollTop)-(B.clientTop||0),left:w+v.left+(u.pageXOffset||B.scrollLeft)-(B.clientLeft||0)}}})(jqxBaseFramework);(function(ae){ae.jqx.observableArray=function(l,d){if(typeof(l)=="string"){l=ae.parseJSON(l)}if(!Object.defineProperty||!(function(){try{Object.defineProperty({},"x",{});return true}catch(n){return false}}())){var a=Object.defineProperty;Object.defineProperty=function(o,n,q){if(a){try{return a(o,n,q)}catch(s){}}if(o!==Object(o)){throw TypeError("Object.defineProperty called on non-object")}if(Object.prototype.__defineGetter__&&("get" in q)){Object.prototype.__defineGetter__.call(o,n,q.get)}if(Object.prototype.__defineSetter__&&("set" in q)){Object.prototype.__defineSetter__.call(o,n,q.set)}if("value" in q){o[n]=q.value}else{if(!o[n]){o[n]=q}}return o}}if(!Array.prototype.forEach){Array.prototype.forEach=function(s){if(this===void 0||this===null){throw TypeError()}var n=Object(this);var t=n.length>>>0;if(typeof s!=="function"){throw TypeError()}var o=arguments[1],q;for(q=0;q<t;q++){if(q in n){s.call(o,n[q],q,n)}}}}if(typeof Object.getOwnPropertyNames!=="function"){Object.getOwnPropertyNames=function(n){if(n!==Object(n)){throw TypeError("Object.getOwnPropertyNames called on non-object")}var q=[],o;for(o in n){if(Object.prototype.hasOwnProperty.call(n,o)){q.push(o)}}return q}}var f=this,h,c=[];f.notifier=null;f.name="observableArray";f.observing=true;f.changes=new Array();var d=d;f.observe=function(){f.observing=true;if(arguments.length==1){d=arguments[0]}};f.unobserve=function(){f.observing=false};f.toArray=function(){return c.slice(0)};f.toJSON=function(o,B){var t=c;if(B){t=B}var u=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,q={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function D(E){return'"'+E.replace(u,function(G){var F=q[G];return typeof F==="string"?F:"\\u"+("0000"+G.charCodeAt(0).toString(16)).slice(-4)})+'"'}function C(E){return E<10?"0"+E:E}function A(F){var E;if(isFinite(F.valueOf())){E=F.getUTCFullYear()+"-"+C(F.getUTCMonth()+1)+"-"+C(F.getUTCDate())+"T"+C(F.getUTCHours())+":"+C(F.getUTCMinutes())+":"+C(F.getUTCSeconds())+'Z"'}else{E="null"}return E}function z(E){var am=E.length,G=[],F;for(F=0;F<am;F++){G.push(w(F,E)||"null")}return"["+G.join(",")+"]"}function n(E){var am=[],F,G;for(F in E){if(Object.prototype.hasOwnProperty.call(E,F)){if(F!=""&&o&&o.indexOf(F)===-1){continue}G=w(F,E);if(G){am.push(D(F)+":"+G)}}}return"{"+am.join(",")+"}"}function v(E){switch(Object.prototype.toString.call(E)){case"[object Date]":return A(E);case"[object Array]":return z(E)}return n(E)}function s(F,E){switch(E){case"string":return D(F);case"number":case"float":case"integer":case"int":return isFinite(F)?F:"null";case"boolean":return F}return"null"}function w(am,G){var E=G[am],F=typeof E;if(E&&typeof E==="object"&&typeof E.toJSON==="function"){E=E.toJSON(am);F=typeof E}if(/(number|float|int|integer|string|boolean)/.test(F)||(!E&&F==="object")){return s(E,F)}else{return v(E)}}if(!o&&window.JSON&&typeof window.JSON.stringify==="function"){return window.JSON.stringify(t)}return w("",{"":t})};f.defineIndexProperty=function(n){if(!(n in f)){var q=function(t,w,u,z){var v=t[w];var A=v;var B=function(){return A};var s=function(C){v=C;if(A!==v){var E=A;A=v;if(typeof h==="function"){var F=c.indexOf(z);var D="";var G=function(am,an){Object.getOwnPropertyNames(am).forEach(function(ap){var ao=ae.type(am[ap]);if(ao=="array"||ao=="object"){G(am[ap],an+"."+ap)}else{if(w===ap){D=an+"."+ap}}})};G(z,F);h({object:f,type:"update",path:D,index:F,name:w,newValue:v,oldValue:E})}}A=v;return v};if(t[w]&&w!="length"){if(Object.defineProperty){Object.defineProperty(t,w,{get:B,set:s})}else{if(Object.prototype.__defineGetter__&&Object.prototype.__defineSetter__){Object.prototype.__defineGetter__.call(t,w,B);Object.prototype.__defineSetter__.call(t,w,s)}}}};var o=function(s,t,v){var u=ae.type(s);if(/(number|float|int|integer|string|boolean)/.test(u)){return}if(s===undefined){return}Object.getOwnPropertyNames(s).forEach(function(z){var w=ae.type(s[z]);if(w=="array"||w=="object"){q(s,z,t+"."+z,v);o(s[z],t+"."+z,v)}else{q(s,z,t+"."+z,v)}})};Object.defineProperty(f,n,{configurable:true,enumerable:true,get:function(){return c[n]},set:function(s){var t=c[n];if(f.toJSON(null,t)!=f.toJSON(null,s)){c[n]=s;if(typeof h==="function"){h({object:f,type:"update",path:n.toString(),index:n,name:"index",newValue:s,oldValue:t})}o(s,n,s)}}});o(f[n],n,f[n])}};f.push=function(){var q;for(var o=0,n=arguments.length;o<n;o++){q=c.length;c.push(arguments[o]);f.defineIndexProperty(q);if(typeof h==="function"){h({object:f,type:"add",name:"length",index:q,newValue:c.length,oldValue:q})}}return c.length};f.pop=function(){if(~c.length){var o=c.length-1,n=c.pop();delete f[o];if(typeof h==="function"){h({object:f,type:"delete",name:"length",index:o,newValue:c.length,oldValue:o})}return n}};f.unshift=function(){var q=c.length;for(var o=0,n=arguments.length;o<n;o++){c.splice(o,0,arguments[o]);f.defineIndexProperty(c.length-1)}if(typeof h==="function"){h({object:f,type:"add",index:0,name:"length",newValue:c.length,oldValue:q})}return c.length};f.shift=function(){var o=c.length;if(~c.length){var n=c.shift();c.length===0&&delete f[o];if(typeof h==="function"){h({object:f,type:"delete",index:o,name:"length",newValue:c.length,oldValue:o})}return n}};f.slice=function(n,s,o){var t=c.slice(n,s);var q=new ae.jqx.observableArray(t,o);return q};f.splice=function(t,s,z){var u=[],n,o;t=!~t?c.length-t:t;s=(s==null?c.length-t:s)||0;while(s--){n=c.splice(t,1)[0];u.push(n);delete f[c.length];if(typeof h==="function"){h({object:f,type:"delete",index:t,name:"length",newValue:-1,oldValue:t})}}for(var w=2,q=arguments.length;w<q;w++){c.splice(t,0,arguments[w]);defineIndexProperty(c.length-1);if(typeof h==="function"){h({object:f,type:"add",index:t,name:"length",newValue:c.length-1,oldValue:t})}t++}var v=new ae.jqx.observableArray(u,z);return v};Object.defineProperty(f,"length",{configurable:false,enumerable:true,get:function(){return c.length},set:function(o){var n=Number(o);if(n%1===0&&n>=0){if(n<c.length){f.splice(n)}else{if(n>c.length){f.push.apply(f,new Array(n-c.length))}}}else{throw new RangeError("Invalid array length")}return o}});ae.jqx.observableArray.prototype.fromArray=function(n,o){var q=new ae.jqx.observableArray(n,o);return q};ae.jqx.observableArray.prototype.clone=function(){var n=new ae.jqx.observableArray(c,d);n.observing=f.observing;n.changes=f.changes;n.notifier=f.notifier;return n};f.remove=function(n){if(n<0||n>=f.length){throw new Error("Invalid index : "+n)}if(f.hasOwnProperty(n)){var o=f[n];f[n]=undefined;c[n]=undefined;if(typeof h==="function"){h({object:f,type:"delete",index:n,name:"index",newValue:undefined,oldValue:o})}return true}return false};f.concat=function(q,n){var s=c.concat(q);var o=new ae.jqx.observableArray(s,n);return o};Object.getOwnPropertyNames(Array.prototype).forEach(function(o){if(!(o in f)){var n=function(){var q=f.observing;f.observing=false;var s=c[o];var t=s.apply(c,arguments);f.observing=q;return t};Object.defineProperty(f,o,{configurable:false,enumerable:true,writeable:false,value:n})}});f.set=function(s,o){if(ae.type(s)=="string"&&s.split(".").length>1){var t=s.split(".");var n=f;for(var q=0;q<t.length;q++){if(q===0){if(t[q]>=f.length){throw new Error("Invalid Index: "+s)}}if(q<t.length-1){n=n[t[q]]}else{n[t[q]]=o}}return true}if(s>=f.length){f.push(o)}else{f[s]=o}return true};f.get=function(n){return f[n]};if(l instanceof Array){f.push.apply(f,l)}h=function(){if(!f.observing){return}if(arguments&&arguments[0]){f.changes.push(arguments[0])}if(d){d.apply(f,arguments)}if(f.notifier){f.notifier.apply(f,arguments)}};return f};ae.jqx.formatDate=function(d,a,c){var f=ae.jqx.dataFormat.formatdate(d,a,c);return f};ae.jqx.formatNumber=function(d,a,c){var f=ae.jqx.dataFormat.formatnumber(d,a,c);return f};ae.jqx.dataAdapter=function(a,f){if(a!=undefined){if(a.dataFields!==undefined){a.datafields=a.dataFields}if(a.dataType!==undefined){a.datatype=a.dataType}if(a.localData!==undefined){a.localdata=a.localData}if(a.sortColumn!==undefined){a.sortcolumn=a.sortColumn}if(a.sortDirection!==undefined){a.sortdirection=a.sortDirection}if(a.sortOrder!==undefined){a.sortdirection=a.sortOrder}if(a.formatData!==undefined){a.formatdata=a.formatData}if(a.processData!==undefined){a.processdata=a.processData}if(a.pageSize!==undefined){a.pagesize=a.pageSize}if(a.pageNum!==undefined){a.pagenum=a.pageNum}if(a.updateRow!==undefined){a.updaterow=a.updateRow}if(a.addRow!==undefined){a.addrow=a.addRow}if(a.deleteRow!==undefined){a.deleterow=a.deleteRow}if(a.contentType!==undefined){a.contenttype=a.contentType}if(a.totalRecords!=undefined){a.totalrecords=a.totalRecords}if(a.loadError!=undefined){a.loadError=a.loadError}if(a.sortComparer!=undefined){a.sortcomparer=a.sortComparer}}this._source=a;this._options=f||{};if(a.beforeLoadComplete!=undefined){this._options.beforeLoadComplete=this._source.beforeLoadComplete}if(a.downloadComplete!=undefined){this._options.downloadComplete=this._source.downloadComplete}if(a.loadComplete!=undefined){this._options.loadComplete=this._source.loadComplete}if(a.autoBind!=undefined){this._options.downloadComplete=this._source.autoBind}if(a.formatData!=undefined){this._options.formatData=this._source.formatData}if(a.loadError!=undefined){this._options.loadError=this._source.loadError}if(a.beforeSend!=undefined){this._options.beforeSend=this._source.beforeSend}if(a.contentType!=undefined){this._options.contentType=this._source.contentType}if(a.async!=undefined){this._options.async=this._source.async}if(a.loadServerData!=undefined){this._options.loadServerData=this._source.loadServerData}if(a.uniqueDataFields!=undefined){this._options.uniqueDataFields=this._source.uniqueDataFields}this.records=new Array();this._downloadComplete=new Array();this._bindingUpdate=new Array();if(a!=undefined&&a.localdata!=null&&typeof a.localdata=="function"){var c=a.localdata();if(c!=null){a._localdata=a.localdata;var d=this;if(a._localdata.subscribe){d._oldlocaldata=[];a._localdata.subscribe(function(l){var h=function(n){if(ae.isArray(n)){return ae.makeArray(h(ae(n)))}return ae.extend(true,{},n)};if(d.suspendKO==false||d.suspendKO==undefined||d._oldlocaldata.length==0){d._oldlocaldata=h(l)}},a._localdata,"beforeChange");a._localdata.subscribe(function(h){if(d.suspendKO==false||d.suspendKO==undefined){var l="";d._oldrecords=d.records;if(d._oldlocaldata.length==0){a.localdata=a._localdata()}if(d._oldlocaldata.length==0){l="change"}else{if(h){if(d._oldlocaldata.length==h.length){l="update"}if(d._oldlocaldata.length>h.length){l="remove"}if(d._oldlocaldata.length<h.length){l="add"}}}d.dataBind(null,l)}},a._localdata,"change");d._knockoutdatasource=true}a.localdata=c}}if(this._options.autoBind==true){this.dataBind()}};ae.jqx.dataAdapter.prototype={getrecords:function(){return this.records},beginUpdate:function(){this.isUpdating=true},endUpdate:function(a){this.isUpdating=false;if(a!=false){if(this._changedrecords&&this._changedrecords.length>0){this.callBindingUpdate("update");this._changedrecords=[]}else{this.dataBind(null,"")}}},formatDate:function(d,a,c){var f=ae.jqx.dataFormat.formatdate(d,a,c);return f},formatNumber:function(d,a,c){var f=ae.jqx.dataFormat.formatnumber(d,a,c);return f},dataBind:function(q,at){if(this.isUpdating==true){return}var f=this._source;if(!f){return}if(f.generatedfields){f.datafields=null;f.generatedfields=null}ae.jqx.dataFormat.datescache=new Array();if(f.dataFields!=null){f.datafields=f.dataFields}if(f.recordstartindex==undefined){f.recordstartindex=0}if(f.recordendindex==undefined){f.recordendindex=0}if(f.loadallrecords==undefined){f.loadallrecords=true}if(f.root==undefined){f.root=""}if(f.record==undefined){f.record=""}if(f.sort!=undefined){this.sort=f.sort}if(f.filter!=undefined){this.filter=f.filter}else{this.filter=null}if(f.sortcolumn!=undefined){this.sortcolumn=f.sortcolumn}if(f.sortdirection!=undefined){this.sortdirection=f.sortdirection}if(f.sortcomparer!=undefined){this.sortcomparer=f.sortcomparer}this.records=new Array();var A=this._options||{};this.virtualmode=A.virtualmode!=undefined?A.virtualmode:false;this.totalrecords=A.totalrecords!=undefined?A.totalrecords:0;this.pageable=A.pageable!=undefined?A.pageable:false;this.pagesize=A.pagesize!=undefined?A.pagesize:0;this.pagenum=A.pagenum!=undefined?A.pagenum:0;this.cachedrecords=A.cachedrecords!=undefined?A.cachedrecords:new Array();this.originaldata=new Array();this.recordids=new Array();this.updaterow=A.updaterow!=undefined?A.updaterow:null;this.addrow=A.addrow!=undefined?A.addrow:null;this.deleterow=A.deleterow!=undefined?A.deleterow:null;this.cache=A.cache!=undefined?A.cache:false;this.unboundmode=false;if(f.formatdata!=undefined){A.formatData=f.formatdata}if(f.data!=undefined){if(A.data==undefined){A.data={}}ae.extend(A.data,f.data)}if(f.mapchar!=undefined){this.mapChar=f.mapchar?f.mapchar:">"}else{this.mapChar=A.mapChar?A.mapChar:">"}if(A.unboundmode||f.unboundmode){this.unboundmode=A.unboundmode||f.unboundmode}if(f.cache!=undefined){this.cache=f.cache}if(this.koSubscriptions){for(var aq=0;aq<this.koSubscriptions.length;aq++){this.koSubscriptions[aq].dispose()}}this.koSubscriptions=new Array();if(this.pagenum<0){this.pagenum=0}var F=this;var s=f.datatype;if(f.datatype==="csv"||f.datatype==="tab"||f.datatype==="tsv"||f.datatype=="text"){s="text"}var v=A.async!=undefined?A.async:true;if(f.async!=undefined){v=f.async}switch(s){case"local":case"array":case"observablearray":case"observableArray":default:if(f.localdata==undefined&&f.length){f.localdata=new Array();for(var a=0;a<f.length;a++){f.localdata[f.localdata.length]=f[a];f[a].uid=a}}if(f.beforeprocessing&&ae.isFunction(f.beforeprocessing)){f.beforeprocessing(f.localdata)}var w=f.localdata.length;this.totalrecords=this.virtualmode?(f.totalrecords||w):w;if(this.unboundmode){this.totalrecords=this.unboundmode?(f.totalrecords||w):w;var ap=f.datafields?f.datafields.length:0;if(ap>0){for(var a=0;a<this.totalrecords;a++){var C={};for(var c=0;c<ap;c++){C[f.datafields[c].name]=""}C.uid=a;f.localdata[f.localdata.length]=C}}}if(this.totalrecords==undefined){this.totalrecords=0}var ap=f.datafields?f.datafields.length:0;var D=function(ay,aw){var ax={};for(var aA=0;aA<aw;aA++){var aB=f.datafields?f.datafields[aA]:{};var av="";if(undefined==aB||aB==null){continue}if(aB.map){if(ae.isFunction(aB.map)){av=aB.map(ay)}else{var aD=aB.map.split(F.mapChar);if(aD.length>0){var az=ay;for(var aC=0;aC<aD.length;aC++){if(!az){continue}az=az[aD[aC]]}av=az}else{av=ay[aB.map]}}if(av!=undefined&&av!=null){av=av.toString()}else{if(av==undefined&&av!=null){av=""}}}var au=false;if(av==""){au=true;av=ay[aB.name];if(av!=undefined&&av!=null){if(f._localdata&&av.subscribe){av=av()}else{if(aB.type!="array"){av=av.toString()}}}}if(av=="[object Object]"&&aB.map&&au){av=""}av=F.getvaluebytype(av,aB);if(aB.displayname!=undefined){ax[aB.displayname]=av}else{ax[aB.name]=av}}return ax};if(f._localdata){this._changedrecords=[];this.records=new Array();var G=f._localdata();ae.each(G,function(ay,av){if(typeof av==="string"){F.records.push(av)}else{var aA={};var aw=0;var ax=this;ae.each(this,function(aV,aQ){var aN=null;var aO="string";var aR=aV;if(ap>0){var aL=false;var aS=false;for(var aH=0;aH<ap;aH++){var aI=f.datafields[aH];if(aI!=undefined&&(aI.name==aV)){aL=true;aN=aI.map;aO=aI.type;aR=aI.name;break}else{if(aI!=undefined&&aI.map&&(aI.map.indexOf(aV)>=0)){aL=true;aN=aI.map;aO=aI.type;aR=aI.name;aS=true;var aM=ax[aV];if(aN!=null){var aP=aN.split(F.mapChar);if(aP.length>0){var aU=ax;for(var aK=0;aK<aP.length;aK++){aU=aU[aP[aK]]}aM=aU}else{aM=ax[aN]}}if(aO!="string"){aM=F.getvaluebytype(aM,{type:aO})}aA[aR]=aM;if(aA[aR]!=undefined){aw+=aA[aR].toString().length+aA[aR].toString().substr(0,1)}}}}if(!aL){return true}if(aS){return true}}var aJ=ae.isFunction(ax[aV]);if(aJ){var aM=ax[aV]();if(aO!="string"){aM=F.getvaluebytype(aM,{type:aO})}aA[aV]=aM;if(ax[aV].subscribe){var aT=ay;F.koSubscriptions[F.koSubscriptions.length]=ax[aV].subscribe(function(aE){var aC=aT;aA[aV]=aE;var aD={index:aC,oldrecord:aA,record:aA};F._changedrecords.push(aD);if(F.isUpdating){return}F.callBindingUpdate("update");F._changedrecords=[];return false})}}else{var aM=ax[aV];if(aN!=null){var aP=aN.split(F.mapChar);if(aP.length>0){var aU=ax;for(var aK=0;aK<aP.length;aK++){aU=aU[aP[aK]]}aM=aU}else{aM=ax[aN]}}if(aO!="string"){aM=F.getvaluebytype(aM,{type:aO})}aA[aR]=aM;if(aA[aR]!=undefined){aw+=aA[aR].toString().length+aA[aR].toString().substr(0,1)}}});var az=F.getid(f.id,ax,ay);aA.uid=az;F.records.push(aA);aA._koindex=aw;if(F._oldrecords){var aB=F.records.length-1;if(at=="update"){if(F._oldrecords[aB]._koindex!=aw){var au={index:aB,oldrecord:F._oldrecords[aB],record:aA};F._changedrecords.push(au)}}}}});if(at=="add"){var w=F.records.length;for(var a=0;a<w;a++){var C=F.records[a];var z=false;for(var l=0;l<F._oldrecords.length;l++){if(F._oldrecords[l]._koindex===C._koindex){z=true;break}}if(!z){F._changedrecords.push({index:a,oldrecord:null,record:C,position:(a!=0?"last":"first")})}}}else{if(at=="remove"){var w=F._oldrecords.length;for(var a=0;a<w;a++){var t=F._oldrecords[a];if(!F.records[a]){F._changedrecords.push({index:a,oldrecord:t,record:null})}else{if(F.records[a]._koindex!=t._koindex){F._changedrecords.push({index:a,oldrecord:t,record:null})}}}}}}else{if(!ae.isArray(f.localdata)){this.records=new Array();var h=0;var n=new Array();ae.each(f.localdata,function(ax){var ay=F.getid(f.id,this,ax);if(ap==0){if(!(typeof this==="string"||this instanceof String)){for(var av in this){h++;var au=ae.type(this[av]);n.push({name:av,type:au})}ap=h;f.datafields=n;f.generatedfields=n}}if(ap>0){var az=this;var aw=D(az,ap);aw.uid=ay;F.records[F.records.length]=aw}else{this.uid=ay;F.records[F.records.length]=this}})}else{if(ap==0){var h=0;var n=new Array();ae.each(f.localdata,function(ay,aw){var aA=ae.extend({},this);if(typeof aw==="string"){F.records=f.localdata;return false}else{var az=F.getid(f.id,aA,ay);if(typeof(az)==="object"){az=ay}aA.uid=az;if(ay==0){for(var av in this){h++;var au=ae.type(this[av]);n.push({name:av,type:au})}ap=h;f.datafields=n;f.generatedfields=n}if(ap>0){var ax=D(aA,ap);ax.uid=az;F.records[F.records.length]=ax}else{F.records[F.records.length]=aA}}})}else{ae.each(f.localdata,function(av){var ax=this;var au=D(ax,ap);var aw=F.getid(f.id,au,av);if(typeof(aw)==="object"){aw=av}var ax=ae.extend({},au);ax.uid=aw;F.records[F.records.length]=ax})}}}this.originaldata=f.localdata;this.cachedrecords=this.records;this.addForeignValues(f);if(A.uniqueDataFields){var o=this.getUniqueRecords(this.records,A.uniqueDataFields);this.records=o;this.cachedrecords=o}if(A.beforeLoadComplete){var ao=A.beforeLoadComplete(F.records,this.originaldata);if(ao!=undefined){F.records=ao;F.cachedrecords=ao}}if(A.autoSort&&A.autoSortField){var u=Object.prototype.toString;Object.prototype.toString=(typeof field=="function")?field:function(){return this[A.autoSortField]};F.records.sort(function(aw,ax){if(aw===undefined){aw=null}if(ax===undefined){ax=null}if(aw===null&&ax===null){return 0}if(aw===null&&ax!==null){return 1}if(aw!==null&&ax===null){return -1}aw=aw.toString();ax=ax.toString();if(aw===null&&ax===null){return 0}if(aw===null&&ax!==null){return 1}if(aw!==null&&ax===null){return -1}if(ae.jqx.dataFormat.isNumber(aw)&&ae.jqx.dataFormat.isNumber(ax)){if(aw<ax){return -1}if(aw>ax){return 1}return 0}else{if(ae.jqx.dataFormat.isDate(aw)&&ae.jqx.dataFormat.isDate(ax)){if(aw<ax){return -1}if(aw>ax){return 1}return 0}else{if(!ae.jqx.dataFormat.isNumber(aw)&&!ae.jqx.dataFormat.isNumber(ax)){aw=String(aw).toLowerCase();ax=String(ax).toLowerCase()}}}try{if(aw<ax){return -1}if(aw>ax){return 1}}catch(av){var au=av}return 0});Object.prototype.toString=u}F.loadedData=f.localdata;F.buildHierarchy();if(ae.isFunction(A.loadComplete)){A.loadComplete(f.localdata,F.records)}break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"ics":if(f.localdata!=null&&!f.url){if(ae.isFunction(f.beforeprocessing)){f.beforeprocessing(f.localdata)}if(f.datatype==="xml"){F.loadxml(f.localdata,f.localdata,f)}else{if(s==="text"){F.loadtext(f.localdata,f)}else{if(s==="ics"){F.loadics(f.localdata,f)}else{F.loadjson(f.localdata,f.localdata,f)}}}F.addForeignValues(f);if(A.uniqueDataFields){var o=F.getUniqueRecords(F.records,A.uniqueDataFields);F.records=o;F.cachedrecords=o}if(A.beforeLoadComplete){var ao=A.beforeLoadComplete(F.records,this.originaldata);if(ao!=undefined){F.records=ao;F.cachedrecords=ao}}F.loadedData=f.localdata;F.buildHierarchy.call(F);if(ae.isFunction(A.loadComplete)){A.loadComplete(f.localdata,F.records)}F.callBindingUpdate(at);return}var an=A.data!=undefined?A.data:{};if(f.processdata){f.processdata(an)}if(ae.isFunction(A.processData)){A.processData(an)}if(ae.isFunction(A.formatData)){var am=A.formatData(an);if(am!=undefined){an=am}}var ar="application/x-www-form-urlencoded";if(A.contentType){ar=A.contentType}var B="GET";if(f.type){B=f.type}if(A.type){B=A.type}var d=s;if(s=="ics"){d="text"}if(f.url&&f.url.length>0){if(ae.isFunction(A.loadServerData)){F._requestData(an,f,A)}else{this.xhr=ae.jqx.data.ajax({dataType:d,cache:this.cache,type:B,url:f.url,async:v,timeout:f.timeout,contentType:ar,data:an,success:function(ax,aA,au){if(ae.isFunction(f.beforeprocessing)){var av=f.beforeprocessing(ax,aA,au);if(av!=undefined){ax=av}}if(ae.isFunction(A.downloadComplete)){var av=A.downloadComplete(ax,aA,au);if(av!=undefined){ax=av}}if(ax==null){F.records=new Array();F.cachedrecords=new Array();F.originaldata=new Array();F.callDownloadComplete();if(ae.isFunction(A.loadComplete)){A.loadComplete(new Array())}return}var az=ax;if(ax.records){az=ax.records}if(ax.totalrecords!=undefined){f.totalrecords=ax.totalrecords}else{if(ax.totalRecords!=undefined){f.totalrecords=ax.totalRecords}}if(f.datatype==="xml"){F.loadxml(null,az,f)}else{if(s==="text"){F.loadtext(az,f)}else{if(s==="ics"){F.loadics(az,f)}else{F.loadjson(null,az,f)}}}F.addForeignValues(f);if(A.uniqueDataFields){var ay=F.getUniqueRecords(F.records,A.uniqueDataFields);F.records=ay;F.cachedrecords=ay}if(A.beforeLoadComplete){var aw=A.beforeLoadComplete(F.records,ax);if(aw!=undefined){F.records=aw;F.cachedrecords=aw}}F.loadedData=ax;F.buildHierarchy.call(F);F.callDownloadComplete();if(ae.isFunction(A.loadComplete)){A.loadComplete(ax,aA,au,F.records)}},error:function(au,aw,av){if(ae.isFunction(f.loaderror)){f.loaderror(au,aw,av)}if(ae.isFunction(A.loadError)){A.loadError(au,aw,av)}au=null;F.callDownloadComplete()},beforeSend:function(au,av){if(ae.isFunction(A.beforeSend)){A.beforeSend(au,av)}if(ae.isFunction(f.beforesend)){f.beforesend(au,av)}}})}}else{F.buildHierarchy(new Array());F.callDownloadComplete();if(ae.isFunction(A.loadComplete)){if(!E){var E={}}A.loadComplete(E)}}break}this.callBindingUpdate(at)},buildHierarchy:function(q){var l=this._source;var d=new Array();if(!l.datafields){return}if(l.hierarchy&&!l.hierarchy.reservedNames){l.hierarchy.reservedNames={leaf:"leaf",parent:"parent",expanded:"expanded",checked:"checked",selected:"selected",level:"level",icon:"icon",data:"data"}}else{if(l.hierarchy){var f=l.hierarchy.reservedNames;if(!f.leaf){f.leaf="leaf"}if(!f.parent){f.parent="parent"}if(!f.expanded){f.expanded="expanded"}if(!f.checked){f.checked="checked"}if(!f.selected){f.selected="selected"}if(!f.level){f.level="level"}if(!f.data){f.data="data"}}}if(!l.hierarchy){return}var h=this;var f=l.hierarchy.reservedNames;if(l.hierarchy.root){if(l.dataType=="xml"){var d=this.getRecordsHierarchy("uid","parentuid","records",null,q);this.hierarchy=d;return d}else{this.hierarchy=this.records;var a=l.hierarchy.root;for(var o=0;o<this.records.length;o++){var n=this.records[o];if(!n){continue}var u=function(B){if(l.hierarchy.record){B.records=B[a][l.hierarchy.record]}else{var z=a.split(h.mapChar);var A=null;if(z.length>1){var v=B;for(var w=0;w<z.length;w++){if(v!=undefined){v=v[z[w]]}}A=v}else{A=B[a]}B.records=A}if(B.records==null||(B.records&&B.records.length==0)){B[f.leaf]=true}};u(n);n[f.level]=0;var t=this.getid(l.id,n,o);n.uid=t;n[f.parent]=null;n[f.data]=n;if(n[f.expanded]===undefined){n[f.expanded]=false}var c=function(v,z){if(!z){v.records=new Array();return}for(var w=0;w<z.length;w++){var B=z[w];if(!B){continue}u(B);B[f.level]=v[f.level]+1;B[f.parent]=v;B[f.data]=B;var A=h.getid(l.id,B,w);if(A==w&&l.id==null){B.uid=v.uid+"_"+A}else{B.uid=A}if(B[f.expanded]===undefined){B[f.expanded]=false}c(B,B.records)}};c(n,n.records)}}return this.hierarchy}if(l.hierarchy.keyDataField&&l.hierarchy.parentDataField){var d=this.getRecordsHierarchy(l.hierarchy.keyDataField.name,l.hierarchy.parentDataField.name,"records",null,q);this.hierarchy=d;return d}if(l.hierarchy.groupingDataFields){var s=new Array();for(var o=0;o<l.hierarchy.groupingDataFields.length;o++){s.push(l.hierarchy.groupingDataFields[o].name)}var d=this.getGroupedRecords(s,"records","label",null,"data",null,"parent",q);this.hierarchy=d;return d}},addRecord:function(h,l,o,f){var d=this;var n=function(){return{leaf:"leaf",parent:"parent",expanded:"expanded",checked:"checked",selected:"selected",level:"level",icon:"icon",data:"data"}};if(h!=undefined){if(o!=undefined){if(this.hierarchy.length>0){var c=function(u){if(u){for(var t=0;t<u.length;t++){var s=u[t];if(s.uid==o){var q=(d._source&&d._source.hierarchy)?d._source.hierarchy.reservedNames:null;if(q==null){q=n()}h[q.parent]=s;h[q.level]=s[q.level]+1;if(!s.records){s.records=new Array();s[q.leaf]=false}else{s[q.leaf]=false}if(l=="last"){s.records.push(h)}else{if(typeof l==="number"&&isFinite(l)){s.records.splice(l,0,h)}else{s.records.splice(0,0,h)}}return true}if(s.records){c(s.records)}}}};c(this.hierarchy)}}else{if(this.hierarchy&&this.hierarchy.length>=0&&(this._source.hierarchy||f)){var a=(d._source&&d._source.hierarchy)?d._source.hierarchy.reservedNames:null;if(a==null){a=n()}h[a.level]=0;if(l=="last"){this.hierarchy.push(h)}else{if(typeof l==="number"&&isFinite(l)){this.hierarchy.splice(l,0,h)}else{this.hierarchy.splice(0,0,h)}}}else{if(l=="last"){this.records.push(h)}else{if(typeof l==="number"&&isFinite(l)){this.records.splice(l,0,h)}else{this.records.splice(0,0,h)}}}return true}}return false},deleteRecord:function(f){var c=this;if(this.hierarchy.length>0){var a=function(l){if(l){for(var o=0;o<l.length;o++){var n=l[o];if(n.uid==f){l.splice(o,1);if(c.recordids[f]){delete c.recordids[f]}var q=function(u){for(var z=0;z<u.length;z++){var v=u[z].uid;for(var w=0;w<c.records.length;w++){var t=c.records[w];if(t.uid==v){c.records.splice(w,1);break}}if(u[z].records){q(u[z].records)}}};if(n.records){q(n.records)}for(var s=0;s<c.records.length;s++){var n=c.records[s];if(n.uid==f){c.records.splice(s,1);break}}return true}if(n.records){a(n.records)}}}};a(this.hierarchy)}else{for(var h=0;h<this.records.length;h++){var d=this.records[h];if(d.uid==f){this.records.splice(h,1);return true}}}return false},addForeignValues:function(A){var l=this;var a=A.datafields?A.datafields.length:0;for(var s=0;s<a;s++){var u=A.datafields[s];if(u!=undefined){if(u.values!=undefined){if(u.value==undefined){u.value=u.name}if(u.values.value==undefined){u.values.value=u.value}var d=new Array();var v,t;if(l.pageable&&l.virtualmode){v=l.pagenum*l.pagesize;t=v+l.pagesize;if(t>l.totalrecords){t=l.totalrecords}}else{if(l.virtualmode){v=A.recordstartindex;t=A.recordendindex;if(t>l.totalrecords){t=l.totalrecords}}else{v=0;t=l.records.length}}for(var o=v;o<t;o++){var n=l.records[o];var z=u.name;var c=n[u.value];if(d[c]!=undefined){n[z]=d[c]}else{for(var w=0;w<u.values.source.length;w++){var f=u.values.source[w];var q=f[u.values.value];if(q==undefined){q=f.uid}if(q==c){var h=f[u.values.name];n[z]=h;d[c]=h;break}}}}}else{if(u.value!=undefined){for(var o=0;o<l.records.length;o++){var n=l.records[o];n[u.name]=n[u.value]}}}}}},abort:function(){if(this.xhr&&this.xhr.readyState!=4){this.xhr.abort();me.callDownloadComplete()}},_requestData:function(f,c,h){var d=this;var a=function(n){if(n.totalrecords){c.totalrecords=n.totalrecords;d.totalrecords=n.totalrecords}if(n.records){d.records=n.records;d.cachedrecords=n.records}d.addForeignValues(c);if(h.uniqueDataFields){var q=d.getUniqueRecords(d.records,h.uniqueDataFields);d.records=q;d.cachedrecords=q}if(h.beforeLoadComplete){var o=h.beforeLoadComplete(d.records,data);if(o!=undefined){d.records=o;d.cachedrecords=o}}for(var s=0;s<d.records.length;s++){var l=d.records[s];if(undefined==l){continue}if(undefined==l.uid){l.uid=d.getid(c.id,l,s)}}d.buildHierarchy.call(d);if(ae.isFunction(h.loadComplete)){h.loadComplete(n)}d.callDownloadComplete()};h.loadServerData(f,c,a)},getUniqueRecords:function(s,n){if(s&&n){var h=s.length;var a=n.length;var f=new Array();var d=new Array();for(var c=0;c<h;c++){var l=s[c];var q="";if(l==undefined){continue}for(var o=0;o<a;o++){var t=n[o];q+=l[t]+"_"}if(!d[q]){f[f.length]=l}d[q]=true}}return f},getAggregatedData:function(f,n,t,A){var u=t;if(!u){u=this.records}var l={};var v=new Array();var w=u.length;if(w==0){return}if(w==undefined){return}for(var o=0;o<w;o++){var h=u[o];for(var s=0;s<f.length;s++){var z=f[s];var c=h[z.name];if(z.aggregates){l[z.name]=l[z.name]||{};v[z.name]=v[z.name]||0;v[z.name]++;var q=function(B){for(obj in B){var C=l[z.name][obj];if(C==null){l[z.name][obj]=0;C=0}if(ae.isFunction(B[obj])){C=B[obj](C,c,z.name,h,A)}l[z.name][obj]=C}};var d=parseFloat(c);if(isNaN(d)){d=false}else{d=true}if(d){c=parseFloat(c)}if(typeof c==="number"&&isFinite(c)){ae.each(z.aggregates,function(){var B=l[z.name][this];if(B==null){B=0;if(this=="min"){B=9999999999999}if(this=="max"){B=-9999999999999}}if(this=="sum"||this=="avg"||this=="stdev"||this=="stdevp"||this=="var"||this=="varp"){B+=parseFloat(c)}else{if(this=="product"){if(o==0){B=parseFloat(c)}else{B*=parseFloat(c)}}else{if(this=="min"){B=Math.min(B,parseFloat(c))}else{if(this=="max"){B=Math.max(B,parseFloat(c))}else{if(this=="count"){B++}else{if(typeof(this)=="object"){q(this);return}}}}}}l[z.name][this]=B})}else{ae.each(z.aggregates,function(){if(this=="min"||this=="max"||this=="count"||this=="product"||this=="sum"||this=="avg"||this=="stdev"||this=="stdevp"||this=="var"||this=="varp"){if(c===null){return true}var B=l[z.name][this];if(B==null){B=0}l[z.name][this]=B;return true}if(typeof(this)=="object"){q(this)}})}}}}for(var s=0;s<f.length;s++){var z=f[s];if(!l[z.name]){l[z.name]={};ae.each(z.aggregates,function(B){l[z.name][this]=0})}if(l[z.name]["avg"]!=undefined){var c=l[z.name]["avg"];var a=v[z.name];if(a===0||a==undefined){l[z.name]["avg"]=0}else{l[z.name]["avg"]=c/a}}else{if(l[z.name]["count"]!=undefined){l[z.name]["count"]=w}}if(l[z.name]["stdev"]||l[z.name]["stdevp"]||l[z.name]["var"]||l[z.name]["varp"]){ae.each(z.aggregates,function(an){if(this=="stdev"||this=="var"||this=="varp"||this=="stdevp"){var am=l[z.name][this];var ao=w;var F=(am/w);var D=0;for(var C=0;C<w;C++){var B=u[C];var G=B[z.name];D+=(G-F)*(G-F)}var E=(this=="stdevp"||this=="varp")?ao:ao-1;if(E==0){E=1}if(this=="var"||this=="varp"){l[z.name][this]=D/E}else{if(this=="stdevp"||this=="stdev"){l[z.name][this]=Math.sqrt(D/E)}}}})}if(z.formatStrings){ae.each(z.aggregates,function(D){var B=z.formatStrings[D];if(B){if(this=="min"||this=="max"||this=="count"||this=="product"||this=="sum"||this=="avg"||this=="stdev"||this=="stdevp"||this=="var"||this=="varp"){var C=l[z.name][this];l[z.name][this]=ae.jqx.dataFormat.formatnumber(C,B,n)}else{if(typeof this=="object"){for(obj in this){var C=l[z.name][obj];l[z.name][obj]=ae.jqx.dataFormat.formatnumber(C,B,n)}}}}})}}return l},bindDownloadComplete:function(a,c){this._downloadComplete[this._downloadComplete.length]={id:a,func:c}},unbindDownloadComplete:function(a){for(var c=0;c<this._downloadComplete.length;c++){if(this._downloadComplete[c].id==a){this._downloadComplete[c].func=null;this._downloadComplete.splice(c,1);break}}},callDownloadComplete:function(){for(var c=0;c<this._downloadComplete.length;c++){var a=this._downloadComplete[c];if(a.func!=null){a.func()}}},setSource:function(a){this._source=a},generatekey:function(){var a=function(){return(((1+Math.random())*65536)|0).toString(16).substring(1)};return(a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a())},getGroupedRecords:function(an,F,f,au,am,ax,av,E,A){var aq=0;var ay=this;if(!A){A=0}var C=new Array();for(var v=0;v<an.length;v++){C[v]=ay.generatekey()}if(!F){F="items"}if(!f){f="group"}if(!am){am="record"}if(!av){av="parentItem"}if(undefined===ax){ax="value"}var o=new Array();var z=0;var B=new Array();var q=an.length;var G=new Array();if(!E){var E=this.records}var t=E.length;var at=function(aA){var az=aA;if(au){ae.each(au,function(){if(this.name&&this.map){az[this.map]=az[this.name]}})}return az};for(var h=0;h<t;h++){var ao=at(E[h]);id=ao[ay.uniqueId];var D=new Array();var d=0;for(v=0;v<q;v++){var s=an[v];var aw=ao[s];if(null==aw){continue}D[d++]={value:aw,hash:C[v]}}if(D.length!=q){break}var c=null;var n="";var ar=-1;for(var a=0;a<D.length;a++){ar++;var ap=D[a].value;var w=D[a].hash;n=n+"_"+w+"_"+ap;if(B[n]!=undefined&&B[n]!=null){c=B[n];continue}if(c==null){c={level:0};c[av]=null;c[f]=ap;c[am]=ao;if(ao.expanded!==undefined){c.expanded=ao.expanded}else{c.expanded=false}if(ax){c[ax]=ao[ax]}c[F]=new Array();var u=o.length+A;if(!this._source.id||typeof ao.uid==="number"||isFinite(ao.uid)){u="Row"+u}c.uid=u;o[z++]=c}else{var l={level:c.level+1};l[av]=c;l[f]=ap;l[F]=new Array();l[am]=ao;if(ao.expanded!==undefined){l.expanded=ao.expanded}else{l.expanded=false}if(ax){l[ax]=ao[ax]}l.uid=c.uid+"_"+c[F].length;c[F][c[F].length]=l;c=l}B[n]=c}if(ao){ao.leaf=true}if(c!=null){if(this._source.id==null){if(undefined==ao.uid){ao.uid=c.uid+"_"+c[F].length}else{if(ao.uid.toString().indexOf(c.uid)==-1){ao.uid=c.uid+"_"+ao.uid}}}ao[av]=c;ao.level=c.level+1;c[F][c[F].length]=ao}else{if(undefined==ao.uid){ao.uid=this.generatekey()}}}return o},getRecordsHierarchy:function(z,B,G,l,D){var E=new Array();var C=this.records;if(D){C=D}if(this.records.length==0){return null}var c=G!=null?G:"items";var q=[];var F=C;var u=F.length;var t=(this._source&&this._source.hierarchy)?this._source.hierarchy.reservedNames:null;var f=function(an){var am=an;if(l){ae.each(l,function(){if(this.name&&this.map){am[this.map]=am[this.name]}})}return am};for(var d=0;d<u;d++){var a=ae.extend({},F[d]);var n=a[B];var o=a[z];q[o]={parentid:n,item:a}}for(var d=0;d<u;d++){var a=ae.extend({},F[d]);var n=a[B];var o=a[z];if(q[n]!=undefined){var a={parentid:n,item:q[o].item};var s=q[n].item;if(!s[c]){s[c]=[]}var w=s[c].length;var A=a.item;if(!t){if(A.parent==undefined){A.parent=s}}else{if(A[t.parent]==undefined){A[t.parent]=s}}var v=f(A);s[c][w]=v;q[n].item=s;q[o]=a}else{var A=q[o].item;if(!t){if(A.parent==undefined){A.parent=null}}else{if(A[t.parent]==undefined){A[t.parent]=null}}var v=f(A);if(!t){v.level=0}else{v[t.level]=0}E[E.length]=v}}if(E.length!=0){var h=function(am,ap){for(var ao=0;ao<ap.length;ao++){if(!t){ap[ao].level=am}else{ap[ao][t.level]=am}var an=ap[ao][c];if(an){if(an.length>0){h(am+1,an)}else{if(!t){ap[ao].leaf=true}else{ap[ao][t.leaf]=true}}}else{if(!t){ap[ao].leaf=true}else{ap[ao][t.leaf]=true}}}};h(0,E)}return E},bindBindingUpdate:function(a,c){this._bindingUpdate[this._bindingUpdate.length]={id:a,func:c}},unbindBindingUpdate:function(a){for(var c=0;c<this._bindingUpdate.length;c++){if(this._bindingUpdate[c].id==a){this._bindingUpdate[c].func=null;this._bindingUpdate.splice(c,1);break}}},callBindingUpdate:function(d){for(var a=0;a<this._bindingUpdate.length;a++){var c=this._bindingUpdate[a];if(c.func!=null){c.func(d)}}},getid:function(n,h,c){if(n!=null&&n.name!=undefined){if(n.name){var l=ae(h).attr(n.name);if(l!=null&&l.toString().length>0){return l}else{if(n.map){try{var l=ae(h).attr(n.map);if(l!=null&&l.toString().length>0){return l}else{if(ae(n.map,h).length>0){return ae(n.map,h).text()}else{if(ae(n.name,h).length>0){return ae(n.name,h).text()}}}}catch(d){return c}}}return}}if(ae(n,h).length>0){return ae(n,h).text()}if(n){if(n.toString().length>0){var l=ae(h).attr(n);if(l!=null&&l.toString().length>0){return ae.trim(l).split(" ").join("").replace(/([ #;?%&,.+*~\':"!^$[\]()=>|\/@])/g,"")}else{var f=n.split(this.mapChar);if(f.length>1){var o=h;for(var a=0;a<f.length;a++){if(o!=undefined){o=o[f[a]]}}if(o!=undefined){return o}}else{if(h[n]!=undefined){return h[n]}}}}}return c},loadjson:function(G,E,q){if(typeof(G)=="string"){G=ae.parseJSON(G)}if(q.root==undefined){q.root=""}if(q.record==undefined){q.record=""}var G=G||E;if(!G){G=[]}var am=this;if(q.root!=""){var A=q.root.split(am.mapChar);if(A.length>1){var ap=G;for(var s=0;s<A.length;s++){if(ap!=undefined){ap=ap[A[s]]}}G=ap}else{if(G[q.root]!==undefined){G=G[q.root]}else{if(G[0]&&G[0][q.root]!==undefined){G=G[0][q.root]}else{ae.each(G,function(aq){var ar=this;if(this==q.root){G=this;return false}else{if(this[q.root]!=undefined){G=this[q.root]}}})}}if(!G){var A=q.root.split(am.mapChar);if(A.length>0){var ap=G;for(var s=0;s<A.length;s++){if(ap!=undefined){ap=ap[A[s]]}}G=ap}}}}else{if(!G.length){for(obj in G){if(ae.isArray(G[obj])){G=G[obj];break}}}}if(G!=null&&G.length==undefined){G=ae.makeArray(G)}if(G==null||G==undefined||G=="undefined"||G.length==undefined){throw new Error("jqxDataAdapter: JSON Parse error! Invalid JSON. Please, check your JSON or your jqxDataAdapter initialization!");return}if(G.length==0){this.totalrecords=0;return}var B=G.length;this.totalrecords=this.virtualmode?(q.totalrecords||B):B;this.records=new Array();this.originaldata=new Array();var f=this.records;var n=!this.pageable?q.recordstartindex:this.pagesize*this.pagenum;this.recordids=new Array();if(q.loadallrecords){n=0;B=this.totalrecords}var t=0;if(this.virtualmode){n=!this.pageable?q.recordstartindex:this.pagesize*this.pagenum;t=n;n=0;B=this.totalrecords}var c=q.datafields?q.datafields.length:0;if(c==0){var F=G[0];var ao=new Array();for(obj in F){var D=obj;ao[ao.length]={name:D}}q.datafields=ao;q.generatedfields=q.datafields;c=ao.length}var w=n;for(var h=n;h<B;h++){var C=G[h];if(C==undefined){break}if(q.record&&q.record!=""){C=C[q.record];if(C==undefined){continue}}var an=this.getid(q.id,C,h);if(typeof(an)==="object"){an=h}if(!this.recordids[an]){this.recordids[an]=C;var z={};for(var l=0;l<c;l++){var v=q.datafields[l];var o="";if(undefined==v||v==null){continue}if(v.map){if(ae.isFunction(v.map)){o=v.map(C)}else{var A=v.map.split(am.mapChar);if(A.length>0){var a=C;for(var s=0;s<A.length;s++){if(a!=undefined){a=a[A[s]]}}o=a}else{o=C[v.map]}}if(o!=undefined&&o!=null){o=this.getvaluebytype(o,v)}else{if(o==undefined&&o!=null){o=""}}}if(o==""&&!v.map){o=C[v.name];if(o==undefined&&o!=null){o=""}if(v.value!=undefined){if(o!=undefined){var d=o[v.value];if(d!=undefined){o=d}}}}o=this.getvaluebytype(o,v);if(v.displayname!=undefined){z[v.displayname]=o}else{z[v.name]=o}if(v.type==="array"){var u=function(ax){if(!ax){return}for(var aq=0;aq<ax.length;aq++){var au=ax[aq];if(!au){continue}for(var at=0;at<c;at++){var ay=q.datafields[at];var ar="";if(undefined==ay||ay==null){continue}if(ay.map){if(ae.isFunction(ay.map)){ar=ay.map(au)}else{var aA=ay.map.split(am.mapChar);if(aA.length>0){var av=au;for(var az=0;az<aA.length;az++){if(av!=undefined){av=av[aA[az]]}}ar=av}else{ar=au[ay.map]}}if(ar!=undefined&&ar!=null){ar=this.getvaluebytype(ar,ay)}else{if(ar==undefined&&ar!=null){ar=""}}}if(ar==""&&!ay.map){ar=au[ay.name];if(ar==undefined&&ar!=null){ar=""}if(ay.value!=undefined){if(ar!=undefined){var aw=ar[ay.value];if(aw!=undefined){ar=aw}}}}ar=this.getvaluebytype(ar,ay);if(ay.displayname!=undefined){au[ay.displayname]=ar}else{au[ay.name]=ar}if(ay.type==="array"){u.call(this,ar)}}}};u.call(this,o)}}if(q.recordendindex<=0||n<q.recordendindex){f[t+w]=ae.extend({},z);f[t+w].uid=an;this.originaldata[t+w]=ae.extend({},f[h]);w++}}}this.records=f;this.cachedrecords=this.records},loadxml:function(A,E,l){if(typeof(A)=="string"){A=E=ae(ae.parseXML(A));A=null}if(l.root==undefined){l.root=""}if(l.record==undefined){l.record=""}var A;if(ae.jqx.browser.msie&&E){if(E.xml!=undefined){A=ae(l.root+" "+l.record,ae.parseXML(E.xml))}else{A=A||ae(l.root+" "+l.record,E)}}else{A=A||ae(l.root+" "+l.record,E)}if(!A){A=[]}var B=A.length;if(A.length==0){return}this.totalrecords=this.virtualmode?(l.totalrecords||B):B;this.records=new Array();this.originaldata=new Array();var at=this.records;var d=!this.pageable?l.recordstartindex:this.pagesize*this.pagenum;this.recordids=new Array();if(l.loadallrecords){d=0;B=this.totalrecords}var o=0;if(this.virtualmode){d=!this.pageable?l.recordstartindex:this.pagesize*this.pagenum;o=d;d=0;B=this.totalrecords}var aq=l.datafields?l.datafields.length:0;if(aq==0){var an=A[0];var am=new Array();for(obj in an){var D=obj;am[am.length]={name:D}}l.datafields=am;l.generatedfields=l.datafields;aq=am.length}var n=d;var ao=false;for(var a=d;a<B;a++){var C=A[a];if(C==undefined){break}var F=this.getid(l.id,C,a);if(!this.recordids[F]){this.recordids[F]=C;var z={};var t=false;if(l.hierarchy&&l.hierarchy.root){t=true}for(var c=0;c<aq;c++){var s=l.datafields[c];var f="";if(undefined==s||s==null){continue}if(s.map){if(ae.isFunction(s.map)){f=s.map(C)}else{var w=s.map.indexOf("[");if(w<0){f=ae(s.map,C);if(f.length==1){f=f.text()}else{ao=true;var G=new Array();for(var ar=0;ar<f.length;ar++){G.push(ae(f[ar]).text())}f=G;if(t&&G.length>0){f=G[0]}}}else{var ap=s.map.substring(0,w-1);var u=s.map.indexOf("]");var q=s.map.substring(w+1,u);f=ae(ap,C).attr(q);if(f==undefined){f=ae(C).attr(q)}if(f==undefined){f=""}}if(f==""){f=ae(C).attr(s.map);if(f==undefined){f=""}}}}if(f==""){f=ae(s.name,C);if(f.length==1){f=f.text()}else{var G=new Array();for(var ar=0;ar<f.length;ar++){G.push(ae(f[ar]).text())}f=G;if(t&&G.length>0){f=G[0]}}if(f==""){f=ae(C).attr(s.name);if(f==undefined){f=""}}if(f==""){if(C.nodeName&&C.nodeName==s.name&&C.firstChild){f=ae(C.firstChild).text()}}}var h=f;f=this.getvaluebytype(f,s);if(s.displayname!=undefined){z[s.displayname]=f}else{z[s.name]=f}}if(l.recordendindex<=0||d<l.recordendindex){at[o+n]=ae.extend({},z);at[o+n].uid=F;this.originaldata[o+n]=ae.extend({},at[a]);n++}}}if(l.hierarchy&&l.hierarchy.root){for(var a=d;a<B;a++){var C=A[a];var v=at[a];if(ae(C).parent().length>0){var F=this.getid(l.id,ae(C).parents(l.hierarchy.record+":first"));v.parentuid=F}else{v.parentuid=null}}}this.records=at;this.cachedrecords=this.records},loadics:function(n,v){if(n==null){return}var a=v.rowDelimiter||this.rowDelimiter||"\n";var c=n.split(a);var s=c.length;var d=n.split("\r");if(s==1&&d.length>1){c=d;s=c.length}this.records=new Array();this.originaldata=new Array();var q=this.records;this.recordids=new Array();var u=0;var f=function(w){var A=/^(\d{4})(\d{2})(\d{2})(T(\d{2})(\d{2})(\d{2})Z)?$/;var z=A.exec(w);if(!z){throw new Error("Invalid UNTIL value: "+w)}return new Date(Date.UTC(z[1],z[2]-1,z[3],z[5]||0,z[6]||0,z[7]||0))};for(var o=0;o<s;o++){var h=c[o];if(h=="BEGIN:VEVENT"){var l={};continue}if(h.indexOf("SUMMARY")>=0){l.SUMMARY=h.substring(h.indexOf("SUMMARY")+8);continue}if(h.indexOf("LOCATION")>=0){l.LOCATION=h.substring(h.indexOf("LOCATION")+9);continue}if(h.indexOf("DESCRIPTION")>=0){l.DESCRIPTION=h.substring(h.indexOf("DESCRIPTION")+12);continue}if(h.indexOf("RRULE")>=0){l.RRULE=h.substring(h.indexOf("RRULE")+6);continue}if(h.indexOf("EXDATE")>=0){var t=h.substring(h.indexOf("EXDATE")+7);l.EXDATE=t;continue}if(h.indexOf("DTEND")>=0){l.DTEND=f(h.substring(h.indexOf("DTEND")+6));continue}if(h.indexOf("DTSTART")>=0){l.DTSTART=f(h.substring(h.indexOf("DTSTART")+8));continue}if(h.indexOf("UID")>=0){l.uid=l.UID=h.substring(h.indexOf("UID")+4);continue}if(h.indexOf("STATUS")>=0){l.STATUS=h.substring(h.indexOf("STATUS")+7);continue}if(h=="END:VEVENT"){q.push(l);continue}}this.records=q;this.cachedrecords=this.records},loadtext:function(c,t){if(c==null){return}var E=t.rowDelimiter||this.rowDelimiter||"\n";var z=c.split(E);var B=z.length;var d=c.split("\r");if(B==1&&d.length>1){z=d;B=z.length}this.totalrecords=this.virtualmode?(t.totalrecords||B):B;this.records=new Array();this.originaldata=new Array();var l=this.records;var q=!this.pageable?t.recordstartindex:this.pagesize*this.pagenum;this.recordids=new Array();if(t.loadallrecords){q=0;B=this.totalrecords}var v=0;if(this.virtualmode){q=!this.pageable?t.recordstartindex:this.pagesize*this.pagenum;v=q;q=0;B=this.totalrecords}var h=t.datafields.length;var u=t.columnDelimiter||this.columnDelimiter;if(!u){u=(t.datatype==="tab"||t.datatype==="tsv")?"\t":","}for(var n=q;n<B;n++){var C=z[n];var f=null;if(!this.recordids[f]){if(t.id==null){f=n;this.recordids[f]=C}var A={};var D=z[n].split(u);for(var o=0;o<h;o++){if(o>=D.length){continue}var w=t.datafields[o];var s=D[o];if(w.map&&ae.isFunction(w.map)){s=w.map(C)}if(w.type){s=this.getvaluebytype(s,w)}var a=w.map||w.name||o.toString();A[a]=s;if(t.id!=null){if(t.id===w.name){f=s;this.recordids[f]=C}}}if(f==null){f=n}l[v+n]=ae.extend({},A);l[v+n].uid=f;this.originaldata[v+n]=ae.extend({},l[n])}}this.records=l;this.cachedrecords=this.records},getvaluebytype:function(a,h){var d=a;if(a==null){return a}if(ae.isArray(a)&&h.type!="array"){for(var f=0;f<a.length;f++){a[f]=this.getvaluebytype(a[f],h)}return a}if(h.type=="date"){if(a=="NaN"){a=""}else{var c=new Date(a);if(typeof a=="string"){if(h.format){var l=ae.jqx.dataFormat.parsedate(a,h.format);if(l!=null){c=l}}}if(c.toString()=="NaN"||c.toString()=="Invalid Date"){if(ae.jqx.dataFormat){a=ae.jqx.dataFormat.tryparsedate(a)}else{a=c}}else{a=c}if(a==null){a=d}}}else{if(h.type=="float"||h.type=="number"||h.type=="decimal"){if(a=="NaN"){a=""}else{var a=parseFloat(a);if(isNaN(a)){a=d}}}else{if(h.type=="int"||h.type=="integer"){var a=parseInt(a);if(isNaN(a)){a=d}}else{if(h.type=="bool"||h.type=="boolean"){if(a!=null){if(a.toLowerCase!=undefined){if(a.toLowerCase()=="false"){a=false}else{if(a.toLowerCase()=="true"){a=true}}}}if(a==1){a=true}else{if(a==0&&a!==""){a=false}else{a=""}}}}}}return a}};ae.jqx.dataFormat={};ae.extend(ae.jqx.dataFormat,{regexTrim:/^\s+|\s+$/g,regexInfinity:/^[+-]?infinity$/i,regexHex:/^0x[a-f0-9]+$/i,regexParseFloat:/^[+-]?\d*\.?\d*(e[+-]?\d+)?$/,toString:Object.prototype.toString,isBoolean:function(a){return typeof a==="boolean"},isObject:function(a){return(a&&(typeof a==="object"||ae.isFunction(a)))||false},isDate:function(a){return a instanceof Date},arrayIndexOf:function(a,c){if(a.indexOf){return a.indexOf(c)}for(var f=0,d=a.length;f<d;f++){if(a[f]===c){return f}}return -1},isString:function(a){return typeof a==="string"},isNumber:function(a){return typeof a==="number"&&isFinite(a)},isNull:function(a){return a===null},isUndefined:function(a){return typeof a==="undefined"},isValue:function(a){return(this.isObject(a)||this.isString(a)||this.isNumber(a)||this.isBoolean(a))},isEmpty:function(a){if(!this.isString(a)&&this.isValue(a)){return false}else{if(!this.isValue(a)){return true}}a=ae.trim(a).replace(/\&nbsp\;/ig,"").replace(/\&#160\;/ig,"");return a===""},startsWith:function(a,c){return a.indexOf(c)===0},endsWith:function(a,c){return a.substr(a.length-c.length)===c},trim:function(a){return(a+"").replace(this.regexTrim,"")},isArray:function(a){return this.toString.call(a)==="[object Array]"},defaultcalendar:function(){var a={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy\u0027-\u0027MM\u0027-\u0027dd\u0027T\u0027HH\u0027:\u0027mm\u0027:\u0027ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",d3:"MM-dd-yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:","};return a},expandFormat:function(a,c){c=c||"F";var d,f=a.patterns,h=c.length;if(h===1){d=f[c];if(!d){throw"Invalid date format string '"+c+"'."}c=d}else{if(h===2&&c.charAt(0)==="%"){c=c.charAt(1)}}return c},getEra:function(f,h){if(!h){return 0}if(typeof f==="string"){return 0}var a,c=f.getTime();for(var d=0,l=h.length;d<l;d++){a=h[d].start;if(a===null||c>=a){return d}}return 0},toUpper:function(a){return a.split("\u00A0").join(" ").toUpperCase()},toUpperArray:function(f){var a=[];for(var c=0,d=f.length;c<d;c++){a[c]=this.toUpper(f[c])}return a},getEraYear:function(f,c,h,a){var d=f.getFullYear();if(!a&&c.eras){d-=c.eras[h].offset}return d},toUpper:function(a){if(a){return a.toUpperCase()}return""},getDayIndex:function(c,d,h){var l,a=c.days,f=c._upperDays;if(!f){c._upperDays=f=[this.toUpperArray(a.names),this.toUpperArray(a.namesAbbr),this.toUpperArray(a.namesShort)]}d=d.toUpperCase();if(h){l=this.arrayIndexOf(f[1],d);if(l===-1){l=this.arrayIndexOf(f[2],d)}}else{l=this.arrayIndexOf(f[0],d)}return l},getMonthIndex:function(n,o,f){var l=n.months,h=n.monthsGenitive||n.months,c=n._upperMonths,a=n._upperMonthsGen;if(!c){n._upperMonths=c=[this.toUpperArray(l.names),this.toUpperArray(l.namesAbbr)];n._upperMonthsGen=a=[this.toUpperArray(h.names),this.toUpperArray(h.namesAbbr)]}o=this.toUpper(o);var d=this.arrayIndexOf(f?c[1]:c[0],o);if(d<0){d=this.arrayIndexOf(f?a[1]:a[0],o)}return d},appendPreOrPostMatch:function(d,l){var f=0,a=false;for(var c=0,h=d.length;c<h;c++){var n=d.charAt(c);switch(n){case"'":if(a){l.push("'")}else{f++}a=false;break;case"\\":if(a){l.push("\\")}a=!a;break;default:l.push(n);a=false;break}}return f},getTokenRegExp:function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g},formatlink:function(d,a){var c="";if(a&&a.target){c="target="+a.target}if(c!=""){return"<a "+c+' href="'+d+'">'+d+"</a>"}return'<a href="'+d+'">'+d+"</a>"},formatemail:function(a){return'<a href="mailto:'+a+'">'+a+"</a>"},formatNumber:function(d,a,c){return this.formatnumber(d,a,c)},formatnumber:function(d,f,o){if(o==undefined||o==null||o==""){o=this.defaultcalendar()}if(f===""||f===null){return d}if(!this.isNumber(d)){d*=1}var n;if(f.length>1){n=parseInt(f.slice(1),10)}var a={};var l=f.charAt(0).toUpperCase();a.thousandsSeparator=o.thousandsseparator;a.decimalSeparator=o.decimalseparator;switch(l){case"D":case"d":case"F":case"f":a.decimalPlaces=n;break;case"N":case"n":a.decimalPlaces=0;break;case"C":case"c":a.decimalPlaces=n;if(o.currencysymbolposition=="before"){a.prefix=o.currencysymbol}else{a.suffix=o.currencysymbol}break;case"P":case"p":a.suffix=o.percentsymbol;a.decimalPlaces=n;break;default:throw"Bad number format specifier: "+l}if(this.isNumber(d)){var v=(d<0);var z=d+"";var h=(a.decimalSeparator)?a.decimalSeparator:".";var s;if(this.isNumber(a.decimalPlaces)){var u=a.decimalPlaces;var q=Math.pow(10,u);z=(d*q).toFixed(0)/q+"";s=z.lastIndexOf(".");if(u>0){if(s<0){z+=h;s=z.length-1}else{if(h!=="."){z=z.replace(".",h)}}while((z.length-1-s)<u){z+="0"}}}else{var z=d+"";s=z.lastIndexOf(".");if(s>0&&u==undefined){if(h!=="."){z=z.replace(".",h)}}}if(a.thousandsSeparator){var c=a.thousandsSeparator;s=z.lastIndexOf(h);s=(s>-1)?s:z.length;var w=z.substring(s);var A=-1;for(var t=s;t>0;t--){A++;if((A%3===0)&&(t!==s)&&(!v||(t>1))){w=c+w}w=z.charAt(t-1)+w}z=w}z=(a.prefix)?a.prefix+z:z;z=(a.suffix)?z+a.suffix:z;return z}else{return d}},tryparsedate:function(au,ar){if(ar==undefined||ar==null){ar=this.defaultcalendar()}var B=this;if(au==""){return null}if(au!=null&&!au.substring){au=au.toString()}if(au!=null&&au.substring(0,6)=="/Date("){var u=/^\/Date\((-?\d+)(\+|-)?(\d+)?\)\/$/;var A=new Date(+au.replace(/\/Date\((\d+)\)\//,"$1"));if(A=="Invalid Date"){var ao=au.match(/^\/Date\((\d+)([-+]\d\d)(\d\d)\)\/$/);var A=null;if(ao){A=new Date(1*ao[1]+3600000*ao[2]+60000*ao[3])}}if(A==null||A=="Invalid Date"||isNaN(A)){var z=u.exec(au);if(z){var t=new Date(parseInt(z[1]));if(z[2]){var d=parseInt(z[3]);if(z[2]==="-"){d=-d}var o=t.getUTCMinutes();t.setUTCMinutes(o-d)}if(!isNaN(t.valueOf())){return t}}}return A}patterns=ar.patterns;for(prop in patterns){A=B.parsedate(au,patterns[prop],ar);if(A){if(prop=="ISO"){var aD=B.parsedate(au,patterns.ISO2,ar);if(aD){return aD}}return A}}if(au!=null){var aD=null;var am=[":","/","-"];var E=true;for(var D=0;D<am.length;D++){if(au.indexOf(am[D])!=-1){E=false}}if(E){var q=new Number(au);if(!isNaN(q)){return new Date(q)}}}if(ae.type(au)==="string"){var az=B;au=az.trim(au);var aq=[":","/","-"," ",","];var F=function(aF,aH,aG){return aG.replace(new RegExp(aF,"g"),aH)};au=F(", ",",",au);var at="";var f=au;if(au.indexOf(":")>=0){at=au.substring(au.indexOf(":")-2);at=az.trim(at);f=au.substring(0,au.indexOf(":")-2)}else{if(au.toUpperCase().indexOf("AM")>=0){at=au.substring(au.toUpperCase().indexOf("AM")-2);at=az.trim(at);f=au.substring(0,au.toUpperCase().indexOf("AM")-2)}else{if(au.toUpperCase().indexOf("PM")>=0){at=au.substring(au.toUpperCase().indexOf("PM")-2);at=az.trim(at);f=au.substring(0,au.toUpperCase().indexOf("PM")-2)}}}var aE=new Date();var ax=false;if(f){for(var C=0;C<aq.length;C++){if(f.indexOf(aq[C])>=0){am=f.split(aq[C]);break}}var av=new Array();var l=new Array();var aB=new Array();var v=null;var n=null;for(var C=0;C<am.length;C++){var D=am[C];var aC=az.parsedate(D,"d",ar)||az.parsedate(D,"dd",ar)||az.parsedate(D,"ddd",ar)||az.parsedate(D,"dddd",ar);if(aC){if(D.length<=2){v=C;av.push(aC.getDate());break}}}for(var C=0;C<am.length;C++){var D=am[C];var s=az.parsedate(D,"M",ar)||az.parsedate(D,"MM",ar)||az.parsedate(D,"MMM",ar)||az.parsedate(D,"MMMM",ar);if(s){if(v!=undefined&&v==C){continue}l.push(s.getMonth());if(D.length>2){n=C;break}}}for(var C=0;C<am.length;C++){var D=am[C];var aA=az.parsedate(D,"yyyy",ar);if(aA){if(v!=undefined&&v==C){continue}if(n!=undefined&&n==C){continue}aB.push(aA.getFullYear())}}var G=new Array();for(var w=0;w<av.length;w++){for(var ao=0;ao<l.length;ao++){for(var aw=0;aw<aB.length;aw++){var t=new Date(aB[aw],l[ao],av[w]);if(aB[aw]<1970){t.setFullYear(aB[aw])}if(t.getTime()!=NaN){G.push(t)}}}}if(G.length>0){aE=G[0];ax=true}}if(at){var ay=at.indexOf(":")>=0?at.split(":"):at;var an=az.parsedate(at,"h:mm tt",ar)||az.parsedate(at,"h:mm:ss tt",ar)||az.parsedate(at,"HH:mm:ss.fff",ar)||az.parsedate(at,"HH:mm:ss.ff",ar)||az.parsedate(at,"HH:mm:ss.tttt",ar)||az.parsedate(at,"HH:mm:ss",ar)||az.parsedate(at,"HH:mm",ar)||az.parsedate(at,"HH",ar);var h=0,ap=0,c=0,a=0;if(an&&an.getTime()!=NaN){h=an.getHours();ap=an.getMinutes();c=an.getSeconds();a=an.getMilliseconds()}else{if(ay.length==1){h=parseInt(ay[0])}if(ay.length==2){h=parseInt(ay[0]);ap=parseInt(ay[1])}if(ay.length==3){h=parseInt(ay[0]);ap=parseInt(ay[1]);if(ay[2].indexOf(".")>=0){c=parseInt(ay[2].toString().split(".")[0]);a=parseInt(ay[2].toString().split(".")[1])}else{c=parseInt(ay[2])}}if(ay.length==4){h=parseInt(ay[0]);ap=parseInt(ay[1]);c=parseInt(ay[2]);a=parseInt(ay[3])}}if(aE&&!isNaN(h)&&!isNaN(ap)&&!isNaN(c)&&!isNaN(a)){aE.setHours(h,ap,c,a);ax=true}}if(ax){return aE}}return null},getparseregexp:function(t,l){var f=t._parseRegExp;if(!f){t._parseRegExp=f={}}else{var w=f[l];if(w){return w}}var n=this.expandFormat(t,l).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),q=["^"],B=[],s=0,z=0,a=this.getTokenRegExp(),v;while((v=a.exec(n))!==null){var c=n.slice(s,v.index);s=a.lastIndex;z+=this.appendPreOrPostMatch(c,q);if(z%2){q.push(v[0]);continue}var A=v[0],u=A.length,h;switch(A){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":h="(\\D+)";break;case"tt":case"t":h="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":h="(\\d{"+u+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":h="(\\d\\d?)";break;case"zzz":h="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":h="([+-]?\\d\\d?)";break;case"/":h="(\\"+t["/"]+")";break;default:throw"Invalid date format pattern '"+A+"'.";break}if(h){q.push(h)}B.push(v[0])}this.appendPreOrPostMatch(n.slice(s),q);q.push("$");var d=q.join("").replace(/\s+/g,"\\s+"),o={regExp:d,groups:B};return f[l]=o},outOfRange:function(a,d,c){return a<d||a>c},expandYear:function(a,d){var h=new Date(),l=this.getEra(h);if(d<100){var f=a.twoDigitYearMax;f=typeof f==="string"?new Date().getFullYear()%100+parseInt(f,10):f;var c=this.getEraYear(h,a,l);d+=c-(c%100);if(d>f){d-=100}}return d},parsedate:function(ax,ao,f){if(f==undefined||f==null){f=this.defaultcalendar()}ax=this.trim(ax);var n=f,E=this.getparseregexp(n,ao),v=new RegExp(E.regExp).exec(ax);if(v===null){return null}var an=E.groups,a=null,q=null,F=null,G=null,o=null,z=0,au,av=0,am=0,at=0,C=null,l=false;for(var ar=0,ap=an.length;ar<ap;ar++){var D=v[ar+1];if(D){var ay=an[ar],A=ay.length,w=parseInt(D,10);switch(ay){case"dd":case"d":G=w;if(this.outOfRange(G,1,31)){return null}break;case"MMM":case"MMMM":F=this.getMonthIndex(n,D,A===3);if(this.outOfRange(F,0,11)){return null}break;case"M":case"MM":F=w-1;if(this.outOfRange(F,0,11)){return null}break;case"y":case"yy":case"yyyy":q=A<4?this.expandYear(n,w):w;if(this.outOfRange(q,0,9999)){return null}break;case"h":case"hh":z=w;if(z===12){z=0}if(this.outOfRange(z,0,11)){return null}break;case"H":case"HH":z=w;if(this.outOfRange(z,0,23)){return null}break;case"m":case"mm":av=w;if(this.outOfRange(av,0,59)){return null}break;case"s":case"ss":am=w;if(this.outOfRange(am,0,59)){return null}break;case"tt":case"t":l=n.PM&&(D===n.PM[0]||D===n.PM[1]||D===n.PM[2]);if(!l&&(!n.AM||(D!==n.AM[0]&&D!==n.AM[1]&&D!==n.AM[2]))){return null}break;case"f":case"ff":case"fff":at=w*Math.pow(10,3-A);if(this.outOfRange(at,0,999)){return null}break;case"ddd":case"dddd":o=this.getDayIndex(n,D,A===3);if(this.outOfRange(o,0,6)){return null}break;case"zzz":var B=D.split(/:/);if(B.length!==2){return null}au=parseInt(B[0],10);if(this.outOfRange(au,-12,13)){return null}var t=parseInt(B[1],10);if(this.outOfRange(t,0,59)){return null}C=(au*60)+(this.startsWith(D,"-")?-t:t);break;case"z":case"zz":au=w;if(this.outOfRange(au,-12,13)){return null}C=au*60;break;case"g":case"gg":var h=D;if(!h||!n.eras){return null}h=trim(h.toLowerCase());for(var aq=0,aw=n.eras.length;aq<aw;aq++){if(h===n.eras[aq].name.toLowerCase()){a=aq;break}}if(a===null){return null}break}}}var s=new Date(),c,u=n.convert;c=s.getFullYear();if(q===null){q=c}else{if(n.eras){q+=n.eras[(a||0)].offset}}if(F===null){F=0}if(G===null){G=1}if(u){s=u.toGregorian(q,F,G);if(s===null){return null}}else{s.setFullYear(q,F,G);if(s.getDate()!==G){return null}if(o!==null&&s.getDay()!==o){return null}}if(l&&z<12){z+=12}s.setHours(z,av,am,at);if(C!==null){var d=s.getMinutes()-(C+s.getTimezoneOffset());s.setHours(s.getHours()+parseInt(d/60,10),d%60)}return s},cleardatescache:function(){this.datescache=new Array()},formatDate:function(d,a,c){return this.formatdate(d,a,c)},formatdate:function(a,am,l){if(l==undefined||l==null){l=this.defaultcalendar()}if(typeof a==="string"){return a}var B=a.toString()+"_"+am;if(this.datescache&&this.datescache[B]){return this.datescache[B]}if(!am||!am.length||am==="i"){var E;E=this.formatDate(a,l.patterns.F,l);return E}var ap=l.eras,D=am==="s";am=this.expandFormat(l,am);E=[];var w,ao=["0","00","000"],s,q,F=/([^d]|^)(d|dd)([^d]|$)/g,G=0,f=this.getTokenRegExp(),C;function u(at,au){var aq,ar=at+"";if(au>1&&ar.length<au){aq=(ao[au-2]+ar);return aq.substr(aq.length-au,au)}else{aq=ar}return aq}function an(){if(s||q){return s}s=F.test(am);q=true;return s}function A(aq,ar){if(C){return C[ar]}if(aq.getMonth!=undefined){switch(ar){case 0:return aq.getFullYear();case 1:return aq.getMonth();case 2:return aq.getDate()}}}for(;;){var v=f.lastIndex,h=f.exec(am);var o=am.slice(v,h?h.index:am.length);G+=this.appendPreOrPostMatch(o,E);if(!h){break}if(G%2){E.push(h[0]);continue}var d=h[0],z=d.length;switch(d){case"ddd":case"dddd":var n=(z===3)?l.days.namesAbbr:l.days.names;E.push(n[a.getDay()]);break;case"d":case"dd":s=true;E.push(u(A(a,2),z));break;case"MMM":case"MMMM":var c=A(a,1);E.push(l.months[z===3?"namesAbbr":"names"][c]);break;case"M":case"MM":E.push(u(A(a,1)+1,z));break;case"y":case"yy":case"yyyy":c=this.getEraYear(a,l,this.getEra(a,ap),D);if(z<4){c=c%100}E.push(u(c,z));break;case"h":case"hh":w=a.getHours()%12;if(w===0){w=12}E.push(u(w,z));break;case"H":case"HH":E.push(u(a.getHours(),z));break;case"m":case"mm":E.push(u(a.getMinutes(),z));break;case"s":case"ss":E.push(u(a.getSeconds(),z));break;case"t":case"tt":c=a.getHours()<12?(l.AM?l.AM[0]:" "):(l.PM?l.PM[0]:" ");E.push(z===1?c.charAt(0):c);break;case"f":case"ff":case"fff":E.push(u(a.getMilliseconds(),3).substr(0,z));break;case"z":case"zz":w=a.getTimezoneOffset()/60;E.push((w<=0?"+":"-")+u(Math.floor(Math.abs(w)),z));break;case"zzz":w=a.getTimezoneOffset()/60;E.push((w<=0?"+":"-")+u(Math.floor(Math.abs(w)),2)+":"+u(Math.abs(a.getTimezoneOffset()%60),2));break;case"g":case"gg":if(l.eras){E.push(l.eras[this.getEra(a,ap)].name)}break;case"/":E.push(l["/"]);break;default:throw"Invalid date format pattern '"+d+"'.";break}}var t=E.join("");if(!this.datescache){this.datescache=new Array()}this.datescache[B]=t;return t}});ae.jqx.data={};var ab,O,X=/#.*$/,al=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,ah=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,ad=/^(?:GET|HEAD)$/,Y=/^\/\//,ac=/\?/,ak=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,ai=/([?&])_=[^&]*/,af=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,P=/\s+/,N=ae.fn.load,L={},T={},V=["*/"]+["*"];try{O=location.href}catch(W){O=document.createElement("a");O.href="";O=O.href}ab=af.exec(O.toLowerCase())||[];function S(a){return function(d,q){if(typeof d!=="string"){q=d;d="*"}var l,o,n,f=d.toLowerCase().split(P),h=0,c=f.length;if(ae.isFunction(q)){for(;h<c;h++){l=f[h];n=/^\+/.test(l);if(n){l=l.substr(1)||"*"}o=a[l]=a[l]||[];o[n?"unshift":"push"](q)}}}}function K(t,a,n,d,h,q){h=h||a.dataTypes[0];q=q||{};q[h]=true;var c,l=t[h],s=0,f=l?l.length:0,o=(t===L);for(;s<f&&(o||!c);s++){c=l[s](a,n,d);if(typeof c==="string"){if(!o||q[c]){c=undefined}else{a.dataTypes.unshift(c);c=K(t,a,n,d,c,q)}}}if((o||!c)&&!q["*"]){c=K(t,a,n,d,"*",q)}return c}function M(d,c){var f,h,a=ae.jqx.data.ajaxSettings.flatOptions||{};for(f in c){if(c[f]!==undefined){(a[f]?d:(h||(h={})))[f]=c[f]}}if(h){ae.extend(true,d,h)}}ae.extend(ae.jqx.data,{ajaxSetup:function(a,c){if(c){M(a,ae.jqx.data.ajaxSettings)}else{c=a;a=ae.jqx.data.ajaxSettings}M(a,c);return a},ajaxSettings:{url:O,isLocal:ah.test(ab[1]),global:true,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:true,async:true,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":V},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":window.String,"text html":true,"text json":ae.parseJSON,"text xml":ae.parseXML},flatOptions:{context:true,url:true}},ajaxPrefilter:S(L),ajaxTransport:S(T),ajax:function(w,B){if(typeof w==="object"){B=w;w=undefined}B=B||{};var t,G,A,c,q,h,C,d,s=ae.jqx.data.ajaxSetup({},B),E=s.context||s,n=E!==s&&(E.nodeType||E instanceof ae)?ae(E):ae.event,F=ae.Deferred(),ao=ae.Callbacks("once memory"),v=s.statusCode||{},l={},an={},z=0,u="canceled",f={readyState:0,setRequestHeader:function(aq,ap){if(!z){var ar=aq.toLowerCase();aq=an[ar]=an[ar]||aq;l[aq]=ap}return this},getAllResponseHeaders:function(){return z===2?G:null},getResponseHeader:function(ap){var aq;if(z===2){if(!A){A={};while((aq=al.exec(G))){A[aq[1].toLowerCase()]=aq[2]}}aq=A[ap.toLowerCase()]}return aq===undefined?null:aq},overrideMimeType:function(ap){if(!z){s.mimeType=ap}return this},abort:function(ap){ap=ap||u;if(c){c.abort(ap)}o(0,ap);return this}};function o(au,az,at,ax){var av,ap,ar,aw,aq,ay=az;if(z===2){return}z=2;if(q){clearTimeout(q)}c=undefined;G=ax||"";f.readyState=au>0?4:0;if(at){aw=U(s,f,at)}if(au>=200&&au<300||au===304){if(s.ifModified){aq=f.getResponseHeader("Last-Modified");if(aq){ae.lastModified[t]=aq}aq=f.getResponseHeader("Etag");if(aq){ae.etag[t]=aq}}if(au===304){ay="notmodified";av=true}else{av=aj(s,aw);ay=av.state;ap=av.data;ar=av.error;av=!ar}}else{ar=ay;if(!ay||au){ay="error";if(au<0){au=0}}}f.status=au;f.statusText=(az||ay)+"";if(av){F.resolveWith(E,[ap,ay,f])}else{F.rejectWith(E,[f,ay,ar])}f.statusCode(v);v=undefined;if(C){n.trigger("ajax"+(av?"Success":"Error"),[f,s,av?ap:ar])}ao.fireWith(E,[f,ay]);if(C){n.trigger("ajaxComplete",[f,s]);if(!(--ae.active)){ae.event.trigger("ajaxStop")}}}F.promise(f);f.success=f.done;f.error=f.fail;f.complete=ao.add;f.statusCode=function(ap){if(ap){var aq;if(z<2){for(aq in ap){v[aq]=[v[aq],ap[aq]]}}else{aq=ap[f.status];f.always(aq)}}return this};s.url=((w||s.url)+"").replace(X,"").replace(Y,ab[1]+"//");s.dataTypes=ae.trim(s.dataType||"*").toLowerCase().split(P);if(s.crossDomain==null){h=af.exec(s.url.toLowerCase());s.crossDomain=!!(h&&(h[1]!==ab[1]||h[2]!==ab[2]||(h[3]||(h[1]==="http:"?80:443))!=(ab[3]||(ab[1]==="http:"?80:443))))}if(s.data&&s.processData&&typeof s.data!=="string"){s.data=ae.param(s.data,s.traditional)}K(L,s,B,f);if(z===2){return f}C=s.global;s.type=s.type.toUpperCase();s.hasContent=!ad.test(s.type);if(C&&ae.active++===0){ae.event.trigger("ajaxStart")}if(!s.hasContent){if(s.data){s.url+=(ac.test(s.url)?"&":"?")+s.data;delete s.data}t=s.url;if(s.cache===false){var D=ae.now(),am=s.url.replace(ai,"$1_="+D);s.url=am+((am===s.url)?(ac.test(s.url)?"&":"?")+"_="+D:"")}}if(s.data&&s.hasContent&&s.contentType!==false||B.contentType){f.setRequestHeader("Content-Type",s.contentType)}if(s.ifModified){t=t||s.url;if(ae.lastModified[t]){f.setRequestHeader("If-Modified-Since",ae.lastModified[t])}if(ae.etag[t]){f.setRequestHeader("If-None-Match",ae.etag[t])}}f.setRequestHeader("Accept",s.dataTypes[0]&&s.accepts[s.dataTypes[0]]?s.accepts[s.dataTypes[0]]+(s.dataTypes[0]!=="*"?", "+V+"; q=0.01":""):s.accepts["*"]);for(d in s.headers){f.setRequestHeader(d,s.headers[d])}if(s.beforeSend&&(s.beforeSend.call(E,f,s)===false||z===2)){return f.abort()}u="abort";for(d in {success:1,error:1,complete:1}){f[d](s[d])}c=K(T,s,B,f);if(!c){o(-1,"No Transport")}else{f.readyState=1;if(C){n.trigger("ajaxSend",[f,s])}if(s.async&&s.timeout>0){q=setTimeout(function(){f.abort("timeout")},s.timeout)}try{z=1;c.send(l,o)}catch(a){if(z<2){o(-1,a)}else{throw a}}}return f},active:0,lastModified:{},etag:{}});function U(a,c,l){var n,h,o,f,s=a.contents,d=a.dataTypes,q=a.responseFields;for(h in q){if(h in l){c[q[h]]=l[h]}}while(d[0]==="*"){d.shift();if(n===undefined){n=a.mimeType||c.getResponseHeader("content-type")}}if(n){for(h in s){if(s[h]&&s[h].test(n)){d.unshift(h);break}}}if(d[0] in l){o=d[0]}else{for(h in l){if(!d[0]||a.converters[h+" "+d[0]]){o=h;break}if(!f){f=h}}o=o||f}if(o){if(o!==d[0]){d.unshift(o)}return l[o]}}function aj(a,q){var d,t,h,n,f=a.dataTypes.slice(),s=f[0],c={},o=0;if(a.dataFilter){q=a.dataFilter(q,a.dataType)}if(f[1]){for(d in a.converters){c[d.toLowerCase()]=a.converters[d]}}for(;(h=f[++o]);){if(h!=="*"){if(s!=="*"&&s!==h){d=c[s+" "+h]||c["* "+h];if(!d){for(t in c){n=t.split(" ");if(n[1]===h){d=c[s+" "+n[0]]||c["* "+n[0]];if(d){if(d===true){d=c[t]}else{if(c[t]!==true){h=n[0];f.splice(o--,0,h)}}break}}}}if(d!==true){if(d&&a["throws"]){q=d(q)}else{try{q=d(q)}catch(l){return{state:"parsererror",error:d?l:"No conversion from "+s+" to "+h}}}}}s=h}}return{state:"success",data:q}}var H=[],Z=/\?/,R=/(=)\?(?=&|$)|\?\?/,e=ae.now();ae.jqx.data.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=H.pop()||(ae.expando+"_"+(e++));this[a]=true;return a}});ae.jqx.data.ajaxPrefilter("json jsonp",function(a,n,c){var d,h,f,q=a.data,t=a.url,s=a.jsonp!==false,l=s&&R.test(t),o=s&&!l&&typeof q==="string"&&!(a.contentType||"").indexOf("application/x-www-form-urlencoded")&&R.test(q);if(a.dataTypes[0]==="jsonp"||l||o){d=a.jsonpCallback=ae.isFunction(a.jsonpCallback)?a.jsonpCallback():a.jsonpCallback;h=window[d];if(l){a.url=t.replace(R,"$1"+d)}else{if(o){a.data=q.replace(R,"$1"+d)}else{if(s){a.url+=(Z.test(t)?"&":"?")+a.jsonp+"="+d}}}a.converters["script json"]=function(){if(!f){ae.error(d+" was not called")}return f[0]};a.dataTypes[0]="json";window[d]=function(){f=arguments};c.always(function(){window[d]=h;if(a[d]){a.jsonpCallback=n.jsonpCallback;H.push(d)}if(f&&ae.isFunction(h)){h(f[0])}f=h=undefined});return"script"}});ae.jqx.data.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){ae.globalEval(a);return a}}});ae.jqx.data.ajaxPrefilter("script",function(a){if(a.cache===undefined){a.cache=false}if(a.crossDomain){a.type="GET";a.global=false}});ae.jqx.data.ajaxTransport("script",function(a){if(a.crossDomain){var d,c=document.head||document.getElementsByTagName("head")[0]||document.documentElement;return{send:function(h,f){d=document.createElement("script");d.async="async";if(a.scriptCharset){d.charset=a.scriptCharset}d.src=a.url;d.onload=d.onreadystatechange=function(n,l){if(l||!d.readyState||/loaded|complete/.test(d.readyState)){d.onload=d.onreadystatechange=null;if(c&&d.parentNode){c.removeChild(d)}d=undefined;if(!l){f(200,"success")}}};c.insertBefore(d,c.firstChild)},abort:function(){if(d){d.onload(0,1)}}}}});var J,I=window.ActiveXObject?function(){for(var a in J){J[a](0,1)}}:false,aa=0;function ag(){try{return new window.XMLHttpRequest()}catch(a){}}function Q(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(a){}}ae.jqx.data.ajaxSettings.xhr=window.ActiveXObject?function(){return !this.isLocal&&ag()||Q()}:ag;(function(a){ae.extend(ae.support,{ajax:!!a,cors:!!a&&("withCredentials" in a)})})(ae.jqx.data.ajaxSettings.xhr());if(ae.support.ajax){ae.jqx.data.ajaxTransport(function(c){if(!c.crossDomain||ae.support.cors){var a;return{send:function(n,l){var d,f,o=c.xhr();if(c.username){o.open(c.type,c.url,c.async,c.username,c.password)}else{o.open(c.type,c.url,c.async)}if(c.xhrFields){for(f in c.xhrFields){o[f]=c.xhrFields[f]}}if(c.mimeType&&o.overrideMimeType){o.overrideMimeType(c.mimeType)}if(!c.crossDomain&&!n["X-Requested-With"]){n["X-Requested-With"]="XMLHttpRequest"}try{for(f in n){o.setRequestHeader(f,n[f])}}catch(h){}o.send((c.hasContent&&c.data)||null);a=function(q,z){var w,A,B,t,u;try{if(a&&(z||o.readyState===4)){a=undefined;if(d){o.onreadystatechange=ae.noop;if(I){delete J[d]}}if(z){if(o.readyState!==4){o.abort()}}else{w=o.status;B=o.getAllResponseHeaders();t={};u=o.responseXML;if(u&&u.documentElement){t.xml=u}try{t.text=o.responseText}catch(s){}try{A=o.statusText}catch(s){A=""}if(!w&&c.isLocal&&!c.crossDomain){w=t.text?200:404}else{if(w===1223){w=204}}}}}catch(v){if(!z){l(-1,v)}}if(t){l(w,A,t,B)}};if(!c.async){a()}else{if(o.readyState===4){setTimeout(a,0)}else{d=++aa;if(I){if(!J){J={};ae(window).unload(I)}J[d]=a}o.onreadystatechange=a}}},abort:function(){if(a){a(0,1)}}}}})}ae.jqx.filter=function(){this.operator="and";var q=0;var u=1;var h=["EMPTY","NOT_EMPTY","CONTAINS","CONTAINS_CASE_SENSITIVE","DOES_NOT_CONTAIN","DOES_NOT_CONTAIN_CASE_SENSITIVE","STARTS_WITH","STARTS_WITH_CASE_SENSITIVE","ENDS_WITH","ENDS_WITH_CASE_SENSITIVE","EQUAL","EQUAL_CASE_SENSITIVE","NULL","NOT_NULL"];var d=["EQUAL","NOT_EQUAL","LESS_THAN","LESS_THAN_OR_EQUAL","GREATER_THAN","GREATER_THAN_OR_EQUAL","NULL","NOT_NULL"];var c=["EQUAL","NOT_EQUAL","LESS_THAN","LESS_THAN_OR_EQUAL","GREATER_THAN","GREATER_THAN_OR_EQUAL","NULL","NOT_NULL"];var s=["EQUAL","NOT_EQUAL"];var t=new Array();var f=new Array();this.evaluate=function(C){var A=true;for(var z=0;z<t.length;z++){var B=t[z].evaluate(C);if(z==0){A=B}else{if(f[z]==u||f[z]=="or"){A=A||B}else{A=A&&B}}}return A};this.getfilterscount=function(){return t.length};this.setoperatorsbyfiltertype=function(A,z){switch(A){case"numericfilter":d=z;break;case"stringfilter":h=z;break;case"datefilter":c=z;break;case"booleanfilter":s=z;break}};this.getoperatorsbyfiltertype=function(A){var z=new Array();switch(A){case"numericfilter":z=d.slice(0);break;case"stringfilter":z=h.slice(0);break;case"datefilter":z=c.slice(0);break;case"booleanfilter":z=s.slice(0);break}return z};var l=function(){var z=function(){return(((1+Math.random())*65536)|0).toString(16).substring(1)};return(z()+"-"+z()+"-"+z())};this.createfilter=function(D,A,E,z,B,C){if(D==null||D==undefined){return null}switch(D){case"numericfilter":return new o(A,E.toUpperCase());case"stringfilter":return new a(A,E.toUpperCase());case"datefilter":return new w(A,E.toUpperCase(),B,C);case"booleanfilter":return new v(A,E.toUpperCase());case"custom":return new n(A,E.toUpperCase(),z)}throw new Error("jqxGrid: There is no such filter type. The available filter types are: 'numericfilter', 'stringfilter', 'datefilter' and 'booleanfilter'");return null};this.getfilters=function(){var B=new Array();for(var A=0;A<t.length;A++){var z={value:t[A].filtervalue,condition:t[A].comparisonoperator,operator:f[A],type:t[A].type};if(t[A].data){z.id=t[A].data}B[A]=z}return B};this.addfilter=function(A,z){t[t.length]=z;z.key=l();f[f.length]=A};this.removefilter=function(z){for(var A=0;A<t.length;A++){if(t[A].key==z.key){t.splice(A,1);f.splice(A,1);break}}};this.getoperatorat=function(z){if(z==undefined||z==null){return null}if(z<0||z>t.length){return null}return f[z]};this.setoperatorat=function(z,A){if(z==undefined||z==null){return null}if(z<0||z>t.length){return null}f[A]=A};this.getfilterat=function(z){if(z==undefined||z==null){return null}if(z<0||z>t.length){return null}return t[z]};this.setfilterat=function(A,z){if(A==undefined||A==null){return null}if(A<0||A>t.length){return null}z.key=l();t[A]=z};this.clear=function(){t=new Array();f=new Array()};var a=function(z,A){this.filtervalue=z;this.comparisonoperator=A;this.type="stringfilter";this.evaluate=function(at){var au=this.filtervalue;var am=this.comparisonoperator;if(at==null||at==undefined||at==""){if(am=="NULL"){return true}if(am=="EQUAL"&&at==au){return true}if(am=="NOT_EQUAL"&&at!=au){return true}if(am!="EMPTY"){return false}else{if(at==""){return true}}}var F="";try{F=at.toString()}catch(ar){return true}var G=function(az,aA){switch(am){case"EQUAL":return ae.jqx.string.equalsIgnoreCase(az,aA);case"EQUAL_CASE_SENSITIVE":return ae.jqx.string.equals(az,aA);case"NOT_EQUAL":return !ae.jqx.string.equalsIgnoreCase(az,aA);case"NOT_EQUAL_CASE_SENSITIVE":return !ae.jqx.string.equals(az,aA);case"CONTAINS":return ae.jqx.string.containsIgnoreCase(az,aA);case"CONTAINS_CASE_SENSITIVE":return ae.jqx.string.contains(az,aA);case"DOES_NOT_CONTAIN":return !ae.jqx.string.containsIgnoreCase(az,aA);case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return !ae.jqx.string.contains(az,aA);case"EMPTY":return az=="";case"NOT_EMPTY":return az!="";case"NOT_NULL":return az!=null;case"STARTS_WITH":return ae.jqx.string.startsWithIgnoreCase(az,aA);case"ENDS_WITH":return ae.jqx.string.endsWithIgnoreCase(az,aA);case"ENDS_WITH_CASE_SENSITIVE":return ae.jqx.string.endsWith(az,aA);case"STARTS_WITH_CASE_SENSITIVE":return ae.jqx.string.startsWith(az,aA);default:return false}};var B=new Array();if(au&&au.indexOf){if(au.indexOf("|")>=0||au.indexOf(" AND ")>=0||au.indexOf(" OR ")>=0||au.indexOf(" and ")>=0||au.indexOf(" or ")>=0){var ay=G(F,au);if(ay){return ay}var ax=au.indexOf(" AND ")>=0?au.split(" AND "):new Array();var C=au.indexOf(" OR ")>=0?au.split(" OR "):new Array();var D=au.indexOf(" and ")>=0?au.split(" and "):new Array();var aw=au.indexOf(" or ")>=0?au.split(" or "):new Array();var E=au.indexOf("|")>=0?au.split("|"):new Array();if(E.length>0){for(var an=0;an<E.length;an++){E[an]=ae.trim(E[an])}}var ao=au.indexOf(" ")>=0?au.split(" "):new Array();if(ao.length>0){for(var an=0;an<ao.length;an++){ao[an]=ae.trim(ao[an])}}ax=ax.concat(ao);ax=ax.concat(D);C=C.concat(E);C=C.concat(aw);if(ax.length>0){for(var an=0;an<ax.length;an++){if(!ax[an].indexOf(" OR ")>=0){B.push(ax[an])}}}if(C.length>0){for(var an=0;an<C.length;an++){if(!C[an].indexOf(" AND ")>=0){B.push(C[an])}}}var ap=undefined;for(var aq=0;aq<B.length;aq++){var at=B[aq];var ay=G(F,at);var av=aq<ax.length?"and":"or";if(ap==undefined){ap=ay}else{if(av=="or"){ap=ap||ay}else{ap=ap&&ay}}}return ap}}return G(F,au)}};var v=function(z,A){this.filtervalue=z;this.comparisonoperator=A;this.type="booleanfilter";this.evaluate=function(D){var E=this.filtervalue;var B=this.comparisonoperator;if(D==null||D==undefined){if(B=="NULL"){return true}return false}var C=D;switch(B){case"EQUAL":return C==E||C.toString()==E.toString();case"NOT_EQUAL":return C!=E&&C.toString()!=E.toString();default:return false}}};var o=function(z,A){this.filtervalue=z;this.comparisonoperator=A;this.type="numericfilter";this.evaluate=function(ar){var at=this.filtervalue;var am=this.comparisonoperator;if(ar===null||ar===undefined||ar===""){if(am=="NOT_NULL"){return false}if(am=="NULL"){return true}else{switch(am){case"EQUAL":return ar==at;case"NOT_EQUAL":return ar!=at}return false}}else{if(am=="NULL"){return false}if(am=="NOT_NULL"){return true}}var F=ar;try{F=parseFloat(F)}catch(aq){if(ar.toString()!=""){return false}}var G=function(az,aA){switch(am){case"EQUAL":return az==aA;case"NOT_EQUAL":return az!=aA;case"GREATER_THAN":return az>aA;case"GREATER_THAN_OR_EQUAL":return az>=aA;case"LESS_THAN":return az<aA;case"LESS_THAN_OR_EQUAL":return az<=aA;case"STARTS_WITH":return ae.jqx.string.startsWithIgnoreCase(az.toString(),aA.toString());case"ENDS_WITH":return ae.jqx.string.endsWithIgnoreCase(az.toString(),aA.toString());case"ENDS_WITH_CASE_SENSITIVE":return ae.jqx.string.endsWith(az.toString(),aA.toString());case"STARTS_WITH_CASE_SENSITIVE":return ae.jqx.string.startsWith(az.toString(),aA.toString());case"CONTAINS":return ae.jqx.string.containsIgnoreCase(az.toString(),aA.toString());case"CONTAINS_CASE_SENSITIVE":return ae.jqx.string.contains(az.toString(),aA.toString());case"DOES_NOT_CONTAIN":return !ae.jqx.string.containsIgnoreCase(az.toString(),aA.toString());case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return !ae.jqx.string.contains(az.toString(),aA.toString());default:return true}};var ay=new Array();if(at&&at.indexOf){if(at.indexOf("|")>=0||at.indexOf(" AND ")>=0||at.indexOf(" OR ")>=0||at.indexOf(" and ")>=0||at.indexOf(" or ")>=0){var ax=G(F,at);if(ax){return ax}at=at.toString();var aw=at.indexOf(" AND ")>=0?at.split(" AND "):new Array();var B=at.indexOf(" OR ")>=0?at.split(" OR "):new Array();var C=at.indexOf(" and ")>=0?at.split(" and "):new Array();var av=at.indexOf(" or ")>=0?at.split(" or "):new Array();aw=aw.concat(C);B=B.concat(av);var D=at.indexOf("|")>=0?at.split("|"):new Array();if(D.length>0){for(var an=0;an<D.length;an++){D[an]=ae.trim(D[an])}}B=B.concat(D);if(aw.length>0){for(var an=0;an<aw.length;an++){if(!aw[an].indexOf(" OR ")>=0){ay.push(aw[an])}}}if(B.length>0){for(var an=0;an<B.length;an++){if(!B[an].indexOf(" AND ")>=0){ay.push(B[an])}}}var ao=undefined;for(var ap=0;ap<ay.length;ap++){var ar=ay[ap];if(ar&&ar.indexOf&&ar.indexOf("..")>=0){var E=ar.toString().split("..");if(E.length==2){ax=F>=E[0]&&F<=E[1]}}else{var ax=G(F,ar)}var au=ap<aw.length?"and":"or";if(ao==undefined){ao=ax}else{if(au=="or"){ao=ao||ax}else{ao=ao&&ax}}}return ao}}if(at&&at.indexOf&&at.indexOf("..")>=0){ay=at.toString().split("..");if(ay.length==2){return F>=ay[0]&&F<=ay[1]}}return G(F,at)}};var w=function(G,A,z,C){this.filtervalue=G;this.type="datefilter";var E=this;if(z!=undefined&&C!=undefined){var F=ae.jqx.dataFormat.parsedate(G,z,C);if(F!=null){this.filterdate=F}else{var B=ae.jqx.dataFormat.tryparsedate(G,C);if(B!=null){this.filterdate=B}}}else{var D=new Date(G);if(D.toString()=="NaN"||D.toString()=="Invalid Date"){this.filterdate=ae.jqx.dataFormat.tryparsedate(G)}else{this.filterdate=D}}if(!this.filterdate){var D=new Date(G);if(D.toString()=="NaN"||D.toString()=="Invalid Date"){this.filterdate=ae.jqx.dataFormat.tryparsedate(G)}else{this.filterdate=D}}this.comparisonoperator=A;this.evaluate=function(aI){var aJ=this.filtervalue;var aB=this.comparisonoperator;if(aI==null||aI==undefined||aI==""){if(aB=="NOT_NULL"){return false}if(aB=="NULL"){return true}else{switch(aB){case"EQUAL":return aI==aJ;case"NOT_EQUAL":return aI!=aJ}return false}}else{if(aB=="NULL"){return false}if(aB=="NOT_NULL"){return true}}var az=new Date();az.setFullYear(1900,0,1);az.setHours(12,0,0,0);try{var aC=new Date(aI);if(aC.toString()=="NaN"||aC.toString()=="Invalid Date"){aI=ae.jqx.dataFormat.tryparsedate(aI)}else{aI=aC}az=aI;var aE=false;if(z!=undefined&&C!=undefined){if(z.indexOf("t")>=0||z.indexOf("T")>=0||z.indexOf(":")>=0||z.indexOf("f")>=0){aE=true;if(aJ&&aJ.toString().indexOf(":")==-1){var aN=ae.jqx.dataFormat.tryparsedate(aJ.toString()+":00",C);if(aN!=null){E.filterdate=aN}}}}if(!aE){az.setHours(0);az.setMinutes(0);az.setSeconds(0)}}catch(aH){if(aI.toString()!=""){return false}}if(E.filterdate!=null){aJ=E.filterdate}else{if(aJ&&aJ.indexOf){if(aJ.indexOf(":")!=-1||!isNaN(parseInt(aJ))){var aO=new Date(az);aO.setHours(12,0,0,0);var aP=aJ.split(":");for(var aD=0;aD<aP.length;aD++){if(aD==0){aO.setHours(aP[aD])}if(aD==1){aO.setMinutes(aP[aD])}if(aD==2){aO.setSeconds(aP[aD])}}aJ=aO}}}if(aE){if(aJ&&aJ.setFullYear){if(az&&az.getFullYear){if(z.indexOf("d")==-1&&z.indexOf("M")==-1&&z.indexOf("y")==-1){aJ.setFullYear(az.getFullYear(),az.getMonth(),az.getDate())}}}}var aA=function(an,am){if(an==null){an=""}switch(aB){case"EQUAL":return an.toString()==am.toString();case"NOT_EQUAL":return an.toString()!=am.toString();case"GREATER_THAN":return an>am;case"GREATER_THAN_OR_EQUAL":return an>=am;case"LESS_THAN":return an<am;case"LESS_THAN_OR_EQUAL":return an<=am;case"STARTS_WITH":return ae.jqx.string.startsWithIgnoreCase(an.toString(),am.toString());case"ENDS_WITH":return ae.jqx.string.endsWithIgnoreCase(an.toString(),am.toString());case"ENDS_WITH_CASE_SENSITIVE":return ae.jqx.string.endsWith(an.toString(),am.toString());case"STARTS_WITH_CASE_SENSITIVE":return ae.jqx.string.startsWith(an.toString(),am.toString());case"CONTAINS":return ae.jqx.string.containsIgnoreCase(an.toString(),am.toString());case"CONTAINS_CASE_SENSITIVE":return ae.jqx.string.contains(an.toString(),am.toString());case"DOES_NOT_CONTAIN":return !ae.jqx.string.containsIgnoreCase(an.toString(),am.toString());case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return !ae.jqx.string.contains(an.toString(),am.toString());default:return true}};var aQ=new Array();if(aJ&&aJ.indexOf){if(aJ.indexOf("|")>=0||aJ.indexOf(" AND ")>=0||aJ.indexOf(" OR ")>=0||aJ.indexOf(" and ")>=0||aJ.indexOf(" or ")>=0){var aN=aA(az,aJ);if(aN){return aN}var aM=aJ.indexOf(" AND ")>=0?aJ.split(" AND "):new Array();var aR=aJ.indexOf(" OR ")>=0?aJ.split(" OR "):new Array();var aS=aJ.indexOf(" and ")>=0?aJ.split(" and "):new Array();var aL=aJ.indexOf(" or ")>=0?aJ.split(" or "):new Array();aM=aM.concat(aS);aR=aR.concat(aL);var aT=aJ.indexOf("|")>=0?aJ.split("|"):new Array();if(aT.length>0){for(var aD=0;aD<aT.length;aD++){aT[aD]=ae.trim(aT[aD])}}aR=aR.concat(aT);if(aM.length>0){for(var aD=0;aD<aM.length;aD++){if(!aM[aD].indexOf(" OR ")>=0){aQ.push(aM[aD])}}}if(aR.length>0){for(var aD=0;aD<aR.length;aD++){if(!aR[aD].indexOf(" AND ")>=0){aQ.push(aR[aD])}}}var aF=undefined;for(var aG=0;aG<aQ.length;aG++){var aI=aQ[aG];if(aI&&aI.indexOf&&aI.indexOf("..")>=0){var aU=aI.toString().split("..");if(aU.length==2){aN=az>=aU[0]&&az<=aU[1]}}else{var aN=aA(az,aI)}var aK=aG<aM.length?"and":"or";if(aF==undefined){aF=aN}else{if(aK=="or"){aF=aF||aN}else{aF=aF&&aN}}}return aF}}if(aJ&&aJ.indexOf&&aJ.indexOf("..")>=0){aQ=aJ.toString().split("..");if(aQ.length==2){return az>=aQ[0]&&az<=aQ[1]}}return aA(az,aJ)}};var n=function(A,B,z){this.filtervalue=A;this.comparisonoperator=B;this.evaluate=function(C,D){return z(this.filtervalue,C,this.comparisonoperator)}}};ae.jqx.longInt=function(){var a=this;a.longObj=new Object();var c=a.longObj;c.mathObj=new Object();c.mathObj.Long=new Object();c.mathObj.Long=function(f,d){this.lowBits=f|0;this.highBits=d|0};c.mathObj.Long.IntCache={};c.mathObj.Long.fromInt=function(h){if(-128<=h&&h<128){var d=c.mathObj.Long.IntCache[h];if(d){return d}}var f=new c.mathObj.Long(h|0,h<0?-1:0);if(-128<=h&&h<128){c.mathObj.Long.IntCache[h]=f}return f};c.mathObj.Long.fromNumber=function(d){if(isNaN(d)||!isFinite(d)){return c.mathObj.Long.ZERO}else{if(d<=-c.mathObj.Long.TWO_PWR_63_DBL_){return c.mathObj.Long.MIN_VALUE}else{if(d+1>=c.mathObj.Long.TWO_PWR_63_DBL_){return c.mathObj.Long.MAX_VALUE}else{if(d<0){return c.mathObj.Long.fromNumber(-d).negate()}else{return new c.mathObj.Long((d%c.mathObj.Long.TWO_PWR_32_DBL_)|0,(d/c.mathObj.Long.TWO_PWR_32_DBL_)|0)}}}}};c.mathObj.Long.fromBits=function(f,d){return new c.mathObj.Long(f,d)};c.mathObj.Long.fromString=function(q,l){if(q.length===0){throw new Error("number format error: empty string")}var o=l||10;if(o<2||36<o){throw new Error("radix out of range: "+o)}if(q.charAt(0)==="-"){return c.mathObj.Long.fromString(q.substring(1),o).negate()}else{if(q.indexOf("-")>=0){throw new Error('number format error: interior "-" character: '+q)}}var h=c.mathObj.Long.fromNumber(Math.pow(o,8));var d=c.mathObj.Long.ZERO;for(var s=0;s<q.length;s+=8){var f=Math.min(8,q.length-s);var n=parseInt(q.substring(s,s+f),o);if(f<8){var t=c.mathObj.Long.fromNumber(Math.pow(o,f));d=d.multiply(t).add(c.mathObj.Long.fromNumber(n))}else{d=d.multiply(h);d=d.add(c.mathObj.Long.fromNumber(n))}}return d};c.mathObj.Long.TWO_PWR_16_DBL_=1<<16;c.mathObj.Long.TWO_PWR_24_DBL_=1<<24;c.mathObj.Long.TWO_PWR_32_DBL_=c.mathObj.Long.TWO_PWR_16_DBL_*c.mathObj.Long.TWO_PWR_16_DBL_;c.mathObj.Long.TWO_PWR_31_DBL_=c.mathObj.Long.TWO_PWR_32_DBL_/2;c.mathObj.Long.TWO_PWR_48_DBL_=c.mathObj.Long.TWO_PWR_32_DBL_*c.mathObj.Long.TWO_PWR_16_DBL_;c.mathObj.Long.TWO_PWR_64_DBL_=c.mathObj.Long.TWO_PWR_32_DBL_*c.mathObj.Long.TWO_PWR_32_DBL_;c.mathObj.Long.TWO_PWR_63_DBL_=c.mathObj.Long.TWO_PWR_64_DBL_/2;c.mathObj.Long.ZERO=c.mathObj.Long.fromInt(0);c.mathObj.Long.ONE=c.mathObj.Long.fromInt(1);c.mathObj.Long.NEG_ONE=c.mathObj.Long.fromInt(-1);c.mathObj.Long.MAX_VALUE=c.mathObj.Long.fromBits(4294967295|0,2147483647|0);c.mathObj.Long.MIN_VALUE=c.mathObj.Long.fromBits(0,2147483648|0);c.mathObj.Long.TWO_PWR_24_=c.mathObj.Long.fromInt(1<<24);c.mathObj.Long.prototype.toInt=function(){return this.lowBits};c.mathObj.Long.prototype.toNumber=function(){return this.highBits*c.mathObj.Long.TWO_PWR_32_DBL_+this.getLowBitsUnsigned()};c.mathObj.Long.prototype.toString=function(l){var o=l||10;if(o<2||36<o){throw new Error("radix out of range: "+o)}if(this.isZero()){return"0"}var h,d;if(this.isNegative()){if(this.equals(c.mathObj.Long.MIN_VALUE)){var s=c.mathObj.Long.fromNumber(o);var u=this.div(s);h=u.multiply(s).subtract(this);return u.toString(o)+h.toInt().toString(o)}else{switch(o){case 2:case 8:case 16:d="-"+this.negate().toString(2);return a._negativeBinary(d,o);default:d="-"+this.negate().toString(o);return d}}}var f=c.mathObj.Long.fromNumber(Math.pow(o,6));h=this;d="";while(true){var n=h.div(f);var q=h.subtract(n.multiply(f)).toInt();var t=q.toString(o);h=n;if(h.isZero()){return t+d}else{while(t.length<6){t="0"+t}d=""+t+d}}};c.mathObj.Long.prototype.getHighBits=function(){return this.highBits};c.mathObj.Long.prototype.getLowBits=function(){return this.lowBits};c.mathObj.Long.prototype.getLowBitsUnsigned=function(){return(this.lowBits>=0)?this.lowBits:c.mathObj.Long.TWO_PWR_32_DBL_+this.lowBits};c.mathObj.Long.prototype.getNumBitsAbs=function(){if(this.isNegative()){if(this.equals(c.mathObj.Long.MIN_VALUE)){return 64}else{return this.negate().getNumBitsAbs()}}else{var d=this.highBits!==0?this.highBits:this.lowBits;for(var f=31;f>0;f--){if((d&(1<<f))!==0){break}}return this.highBits!==0?f+33:f+1}};c.mathObj.Long.prototype.isZero=function(){return this.highBits===0&&this.lowBits===0};c.mathObj.Long.prototype.isNegative=function(){return this.highBits<0};c.mathObj.Long.prototype.isOdd=function(){return(this.lowBits&1)===1};c.mathObj.Long.prototype.equals=function(d){return(this.highBits===d.highBits)&&(this.lowBits===d.lowBits)};c.mathObj.Long.prototype.notEquals=function(d){return(this.highBits!==d.highBits)||(this.lowBits!==d.lowBits)};c.mathObj.Long.prototype.lessThan=function(d){return this.compare(d)<0};c.mathObj.Long.prototype.lessThanOrEqual=function(d){return this.compare(d)<=0};c.mathObj.Long.prototype.greaterThan=function(d){return this.compare(d)>0};c.mathObj.Long.prototype.greaterThanOrEqual=function(d){return this.compare(d)>=0};c.mathObj.Long.prototype.compare=function(f){if(this.equals(f)){return 0}var h=this.isNegative();var d=f.isNegative();if(h&&!d){return -1}if(!h&&d){return 1}if(this.subtract(f).isNegative()){return -1}else{return 1}};c.mathObj.Long.prototype.negate=function(){if(this.equals(c.mathObj.Long.MIN_VALUE)){return c.mathObj.Long.MIN_VALUE}else{return this.not().add(c.mathObj.Long.ONE)}};c.mathObj.Long.prototype.add=function(o){var s=this.highBits>>>16;var w=this.highBits&65535;var n=this.lowBits>>>16;var v=this.lowBits&65535;var h=o.highBits>>>16;var u=o.highBits&65535;var f=o.lowBits>>>16;var t=o.lowBits&65535;var d=0,q=0,z=0,l=0;l+=v+t;z+=l>>>16;l&=65535;z+=n+f;q+=z>>>16;z&=65535;q+=w+u;d+=q>>>16;q&=65535;d+=s+h;d&=65535;return c.mathObj.Long.fromBits((z<<16)|l,(d<<16)|q)};c.mathObj.Long.prototype.subtract=function(d){return this.add(d.negate())};c.mathObj.Long.prototype.multiply=function(o){if(this.isZero()){return c.mathObj.Long.ZERO}else{if(o.isZero()){return c.mathObj.Long.ZERO}}if(this.equals(c.mathObj.Long.MIN_VALUE)){return o.isOdd()?c.mathObj.Long.MIN_VALUE:c.mathObj.Long.ZERO}else{if(o.equals(c.mathObj.Long.MIN_VALUE)){return this.isOdd()?c.mathObj.Long.MIN_VALUE:c.mathObj.Long.ZERO}}if(this.isNegative()){if(o.isNegative()){return this.negate().multiply(o.negate())}else{return this.negate().multiply(o).negate()}}else{if(o.isNegative()){return this.multiply(o.negate()).negate()}}if(this.lessThan(c.mathObj.Long.TWO_PWR_24_)&&o.lessThan(c.mathObj.Long.TWO_PWR_24_)){return c.mathObj.Long.fromNumber(this.toNumber()*o.toNumber())}var s=this.highBits>>>16;var w=this.highBits&65535;var n=this.lowBits>>>16;var v=this.lowBits&65535;var h=o.highBits>>>16;var u=o.highBits&65535;var f=o.lowBits>>>16;var t=o.lowBits&65535;var d=0,q=0,z=0,l=0;l+=v*t;z+=l>>>16;l&=65535;z+=n*t;q+=z>>>16;z&=65535;z+=v*f;q+=z>>>16;z&=65535;q+=w*t;d+=q>>>16;q&=65535;q+=n*f;d+=q>>>16;q&=65535;q+=v*u;d+=q>>>16;q&=65535;d+=s*t+w*f+n*u+v*h;d&=65535;return c.mathObj.Long.fromBits((z<<16)|l,(d<<16)|q)};c.mathObj.Long.prototype.div=function(s){if(s.isZero()){throw new Error("division by zero")}else{if(this.isZero()){return c.mathObj.Long.ZERO}}var n,h;if(this.equals(c.mathObj.Long.MIN_VALUE)){if(s.equals(c.mathObj.Long.ONE)||s.equals(c.mathObj.Long.NEG_ONE)){return c.mathObj.Long.MIN_VALUE}else{if(s.equals(c.mathObj.Long.MIN_VALUE)){return c.mathObj.Long.ONE}else{var u=this.shiftRight(1);n=u.div(s).shiftLeft(1);if(n.equals(c.mathObj.Long.ZERO)){return s.isNegative()?c.mathObj.Long.ONE:c.mathObj.Long.NEG_ONE}else{h=this.subtract(s.multiply(n));var d=n.add(h.div(s));return d}}}}else{if(s.equals(c.mathObj.Long.MIN_VALUE)){return c.mathObj.Long.ZERO}}if(this.isNegative()){if(s.isNegative()){return this.negate().div(s.negate())}else{return this.negate().div(s).negate()}}else{if(s.isNegative()){return this.div(s.negate()).negate()}}var q=c.mathObj.Long.ZERO;h=this;while(h.greaterThanOrEqual(s)){n=Math.max(1,Math.floor(h.toNumber()/s.toNumber()));var f=Math.ceil(Math.log(n)/Math.LN2);var l=(f<=48)?1:Math.pow(2,f-48);var t=c.mathObj.Long.fromNumber(n);var o=t.multiply(s);while(o.isNegative()||o.greaterThan(h)){n-=l;t=c.mathObj.Long.fromNumber(n);o=t.multiply(s)}if(t.isZero()){t=c.mathObj.Long.ONE}q=q.add(t);h=h.subtract(o)}return q};c.mathObj.Long.prototype.modulo=function(d){return this.subtract(this.div(d).multiply(d))};c.mathObj.Long.prototype.not=function(){return c.mathObj.Long.fromBits(~this.lowBits,~this.highBits)};c.mathObj.Long.prototype.and=function(d){return c.mathObj.Long.fromBits(this.lowBits&d.lowBits,this.highBits&d.highBits)};c.mathObj.Long.prototype.or=function(d){return c.mathObj.Long.fromBits(this.lowBits|d.lowBits,this.highBits|d.highBits)};c.mathObj.Long.prototype.xor=function(d){return c.mathObj.Long.fromBits(this.lowBits^d.lowBits,this.highBits^d.highBits)};c.mathObj.Long.prototype.shiftLeft=function(d){d&=63;if(d===0){return this}else{var h=this.lowBits;if(d<32){var f=this.highBits;return c.mathObj.Long.fromBits(h<<d,(f<<d)|(h>>>(32-d)))}else{return c.mathObj.Long.fromBits(0,h<<(d-32))}}};c.mathObj.Long.prototype.shiftRight=function(d){d&=63;if(d===0){return this}else{var f=this.highBits;if(d<32){var h=this.lowBits;return c.mathObj.Long.fromBits((h>>>d)|(f<<(32-d)),f>>d)}else{return c.mathObj.Long.fromBits(f>>(d-32),f>=0?0:-1)}}};c.mathObj.Long.prototype.shiftRightUnsigned=function(d){d&=63;if(d===0){return this}else{var f=this.highBits;if(d<32){var h=this.lowBits;return c.mathObj.Long.fromBits((h>>>d)|(f<<(32-d)),f>>>d)}else{if(d===32){return c.mathObj.Long.fromBits(f,0)}else{return c.mathObj.Long.fromBits(f>>>(d-32),0)}}}};return c};ae.jqx.math=function(){var a=new Object();var c=new ae.jqx.longInt();a.getDecimalNotation=function(q,f){if(f==="decimal"){return q}q=q.toString();function l(t){var u="-0123456789";var w="";var z="";for(var v=0;v<t.length;v++){var s=u.indexOf(t.charAt(v));z+=(s!==-1?w[s]:t[v])}return z}function n(t){if(t==="0"){return parseInt(t).toExponential()}var u;if(t.charAt(0)==="-"){u="-";t=t.slice(1,t.length)}else{u=""}var s=t.length-1;while(t.charAt(t.length-1)==="0"){t=t.slice(0,t.length-1)}var v=t.slice(1,t.length);if(v!==""){v="."+v}return u+""+t.charAt(0)+v+"e+"+s}function d(s){var t=s.indexOf("e");var u=s.slice(t+1);var v=s.slice(0,t+1);v=v.replace("e","10");v+=l(u);v=v.replace("+","");return v}function h(s){var t=s.indexOf("e");var u=s.slice(t+1);var w=s.slice(0,t);var v=parseInt(u,10)%3;w=w*Math.pow(10,v);var z=s.slice(0,t).length-v-2;if(z>=0){w=w.toFixed(z)}var A=w+"10"+l((parseInt(u,10)-v).toString());return A}var o=n(q);if(f==="scientific"){return d(o)}else{if(f==="engineering"){return h(o)}else{return o}}};ae.extend(a,c.mathObj.Long);return a}})(jqxBaseFramework);(function(c){c.jqx.jqxWidget("jqxValidator","",{});c.extend(c.jqx._jqxValidator.prototype,{defineInstance:function(){var a={rules:null,scroll:true,focus:true,scrollDuration:300,scrollCallback:null,position:"right",arrow:true,animation:"fade",animationDuration:150,closeOnClick:true,onError:null,onSuccess:null,ownerElement:null,_events:["validationError","validationSuccess"],hintPositionOffset:5,_inputHint:[],rtl:false,hintType:"tooltip"};c.extend(true,this,a);return a},createInstance:function(){if(this.hintType=="label"&&this.animationDuration==150){this.animationDuration=0}this._configureInputs();this._removeEventListeners();this._addEventListeners()},destroy:function(){this._removeEventListeners();this.hide()},validate:function(a){var H=true,s,D=Infinity,A,B,G,z=[],t;this.updatePosition();var w=this;var F=0;for(var C=0;C<this.rules.length;C+=1){if(typeof this.rules[C].rule==="function"){F++}}this.positions=new Array();for(var C=0;C<this.rules.length;C+=1){var u=c(this.rules[C].input);if(typeof this.rules[C].rule==="function"){var v=function(f,h){s=f;if(false==s){H=false;var e=c(h.input);G=c(h.input);z.push(G);var d=G.offset();if(d){A=d.top;if(D>A){D=A;B=G}}}F--;if(F==0){if(typeof a==="function"){w._handleValidation(H,D,B,z);if(a){a(H)}}}};this._validateRule(this.rules[C],v)}else{s=this._validateRule(this.rules[C])}if(false==s){H=false;G=c(this.rules[C].input);z.push(G);var E=G.offset();if(E){A=E.top;if(D>A){D=A;B=G}}}}if(F==0){this._handleValidation(H,D,B,z);return H}else{return undefined}},validateInput:function(a){var f=this._getRulesForInput(a),h=true;for(var l=0;l<f.length;l+=1){if(!this._validateRule(f[l])){h=false}}return h},hideHint:function(a){var e=this._getRulesForInput(a);for(var f=0;f<e.length;f+=1){this._hideHintByRule(e[f])}},hide:function(){var d;for(var a=0;a<this.rules.length;a+=1){d=this.rules[a];this._hideHintByRule(this.rules[a])}},updatePosition:function(){var d;this.positions=new Array();for(var a=0;a<this.rules.length;a+=1){d=this.rules[a];if(d.hint){this._hintLayout(d.hint,c(d.input),d.position,d)}}},_getRulesForInput:function(a){var e=[];for(var f=0;f<this.rules.length;f+=1){if(this.rules[f].input===a){e.push(this.rules[f])}}return e},_validateRule:function(q,l){var a=c(q.input),n,s=true;var t=this;var o=function(d){if(!d){var e=t.animation;t.animation=null;if(q.hint){t._hideHintByRule(q)}if(c(a).css("display")=="none"){t._hideHintByRule(q);return}if(c(a).parents().length==0){t._hideHintByRule(q);return}n=q.hintRender.apply(t,[q.message,a]);t._hintLayout(n,a,q.position,q);t._showHint(n);q.hint=n;t._removeLowPriorityHints(q);if(l){l(false,q)}t.animation=e}else{t._hideHintByRule(q);if(l){l(true,q)}}};var u=false;if(typeof q.rule==="function"){u=q.rule.call(this,a,o);if(u==true&&l){l(true,q)}}if(typeof q.rule==="function"&&u==false){if(typeof q.hintRender==="function"&&!q.hint&&!this._higherPriorityActive(q)&&a.is(":visible")){n=q.hintRender.apply(this,[q.message,a]);this._removeLowPriorityHints(q);this._hintLayout(n,a,q.position,q);this._showHint(n);q.hint=n}s=false;if(l){l(false,q)}}else{this._hideHintByRule(q)}return s},_hideHintByRule:function(l){var o=c(l.input);var a=this,h;var n=function(){if(a.hintType!="label"){return}var d=a;if(d.position=="top"||d.position=="left"){if(o.prev().hasClass(".jqx-validator-error-label")){return}}else{if(o.next().hasClass(".jqx-validator-error-label")){return}}if(o[0].nodeName.toLowerCase()!="input"){if(o.find("input").length>0){if(o.find(".jqx-input").length>0){o.find(".jqx-input").removeClass(d.toThemeProperty("jqx-validator-error-element"))}else{if(o.is(".jqx-checkbox")){o.find(".jqx-checkbox-default").removeClass(d.toThemeProperty("jqx-validator-error-element"))}}if(o.is(".jqx-radiobutton")){o.find(".jqx-radiobutton-default").removeClass(d.toThemeProperty("jqx-validator-error-element"))}else{o.removeClass(d.toThemeProperty("jqx-validator-error-element"))}}}else{o.removeClass(d.toThemeProperty("jqx-validator-error-element"))}};if(l){h=l.hint;if(h){if(this.positions){if(this.positions[Math.round(h.offset().top)+"_"+Math.round(h.offset().left)]){this.positions[Math.round(h.offset().top)+"_"+Math.round(h.offset().left)]=null}}if(this.animation==="fade"){h.fadeOut(this.animationDuration,function(){h.remove();n()})}else{h.remove();n()}}l.hint=null}},_handleValidation:function(a,f,h,l){if(!a){this._scrollHandler(f);if(this.focus){h.focus()}this._raiseEvent(0,{invalidInputs:l});if(typeof this.onError==="function"){this.onError(l)}}else{this._raiseEvent(1);if(typeof this.onSuccess==="function"){this.onSuccess()}}},_scrollHandler:function(d){if(this.scroll){var a=this;c("html,body").animate({scrollTop:d},this.scrollDuration,function(){if(typeof a.scrollCallback==="function"){a.scrollCallback.call(a)}})}},_higherPriorityActive:function(h){var f=false,l;for(var a=this.rules.length-1;a>=0;a-=1){l=this.rules[a];if(f&&l.input===h.input&&l.hint){return true}if(l===h){f=true}}return false},_removeLowPriorityHints:function(h){var f=false,l;for(var a=0;a<this.rules.length;a+=1){l=this.rules[a];if(f&&l.input===h.input){this._hideHintByRule(l)}if(l===h){f=true}}},_getHintRuleByInput:function(a){var e;for(var f=0;f<this.rules.length;f+=1){e=this.rules[f];if(c(e.input)[0]===a[0]&&e.hint){return e}}return null},_removeEventListeners:function(){var h,a,l;for(var n=0;n<this.rules.length;n+=1){h=this.rules[n];l=h.action.split(",");a=c(h.input);for(var o=0;o<l.length;o+=1){this.removeHandler(a,c.trim(l[o])+".jqx-validator")}}},_addEventListeners:function(){var l,q;if(this.host.parents(".jqx-window").length>0){var a=this;var h=function(){a.updatePosition()};var n=this.host.parents(".jqx-window");this.addHandler(n,"closed",function(){a.hide()});this.addHandler(n,"moved",h);this.addHandler(n,"moving",h);this.addHandler(n,"resized",h);this.addHandler(n,"resizing",h);this.addHandler(c(document.parentWindow),"scroll",function(){if(a.scroll){h()}})}for(var o=0;o<this.rules.length;o+=1){l=this.rules[o];q=c(l.input);this._addListenerTo(q,l)}},_addListenerTo:function(t,l){var a=this,o=l.action.split(",");var q=false;if(this._isjQWidget(t)){q=true}for(var s=0;s<o.length;s+=1){var n=c.trim(o[s]);if(q&&(n=="blur"||n=="focus")){if(t&&t[0].nodeName.toLowerCase()!="input"){t=t.find("input")}}this.addHandler(t,n+".jqx-validator",function(d){a._validateRule(l)})}},_configureInputs:function(){var a,e;this.rules=this.rules||[];for(var f=0;f<this.rules.length;f+=1){this._handleInput(f)}},_handleInput:function(a){var d=this.rules[a];if(!d.position){d.position=this.position}if(!d.message){d.message="Validation Failed!"}if(!d.action){d.action="blur"}if(!d.hintRender){d.hintRender=this._hintRender}if(!d.rule){d.rule=null}else{this._handleRule(d)}},_handleRule:function(h){var o=h.rule,l,n,a=false;if(typeof o==="string"){if(o.indexOf("=")>=0){o=o.split("=");n=o[1].split(",");o=o[0]}l=this["_"+o];if(l){h.rule=function(e,d){return l.apply(this,[e].concat(n))}}else{a=true}}else{if(typeof o!=="function"){a=true}else{h.rule=o}}if(a){throw new Error("Wrong parameter!")}},_required:function(a){switch(this._getType(a)){case"textarea":case"password":case"jqx-input":case"text":var h=c.data(a[0]);if(h.jqxMaskedInput){var f=a.jqxMaskedInput("promptChar"),l=a.jqxMaskedInput("value");return l&&l.indexOf(f)<0}else{if(h.jqxNumberInput){return a.jqxNumberInput("inputValue")!==""}else{if(h.jqxDateTimeInput){return true}else{return c.trim(a.val())!==""}}}case"checkbox":return a.is(":checked");case"radio":return a.is(":checked");case"div":if(a.is(".jqx-checkbox")){return a.jqxCheckBox("checked")}if(a.is(".jqx-radiobutton")){return a.jqxRadioButton("checked")}return false}return false},_notNumber:function(a){return this._validateText(a,function(e){if(e==""){return true}var f=/\d/;return !f.test(e)})},_startWithLetter:function(a){return this._validateText(a,function(e){if(e==""){return true}var f=/\d/;return !f.test(e.substring(0,1))})},_number:function(a){return this._validateText(a,function(e){if(e==""){return true}var f=new Number(e);return !isNaN(f)&&isFinite(f)})},_phone:function(a){return this._validateText(a,function(e){if(e==""){return true}var f=/^\(\d{3}\)(\d){3}-(\d){4}$/;return f.test(e)})},_length:function(f,e,a){return this._minLength(f,e)&&this._maxLength(f,a)},_maxLength:function(d,a){a=parseInt(a,10);return this._validateText(d,function(e){return e.length<=a})},_minLength:function(d,a){a=parseInt(a,10);return this._validateText(d,function(e){return e.length>=a})},_email:function(a){return this._validateText(a,function(e){if(e==""){return true}var f=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return f.test(e)})},_zipCode:function(a){return this._validateText(a,function(e){if(e==""){return true}var f=/^(^\d{5}$)|(^\d{5}-\d{4}$)|(\d{3}-\d{2}-\d{4})$/;return f.test(e)})},_ssn:function(a){return this._validateText(a,function(e){if(e==""){return true}var f=/\d{3}-\d{2}-\d{4}/;return f.test(e)})},_validateText:function(a,e){var f;if(this._isTextInput(a)){if(this._isjQWidget(a)){if(a.find("input").length>0){f=a.find("input").val()}else{f=a.val()}}else{f=a.val()}return e(f)}return false},_isjQWidget:function(a){var d=c.data(a[0]);if(d.jqxMaskedInput||d.jqxNumberInput||d.jqxDateTimeInput){return true}return false},_isTextInput:function(a){var d=this._getType(a);return d==="text"||d==="textarea"||d==="password"||a.is(".jqx-input")},_getType:function(f){if(!f[0]){return}var a=f[0].tagName.toLowerCase(),e;if(a==="textarea"){return"textarea"}else{if(f.is(".jqx-input")){return"jqx-input"}else{if(a==="input"){e=c(f).attr("type")?c(f).attr("type").toLowerCase():"text";return e}}}return a},_hintRender:function(l,o){if(this.hintType=="label"){var h=c('<label class="'+this.toThemeProperty("jqx-validator-error-label")+'"></label>');h.html(l);var n=this;if(this.closeOnClick){h.click(function(){n.hideHint(o.selector)})}if(this.position=="left"||this.position=="top"){h.insertBefore(c(o))}else{h.insertAfter(c(o))}return h}var h=c('<div class="'+this.toThemeProperty("jqx-validator-hint")+' jqx-rc-all"></div>'),a=this;h.html(l);if(this.closeOnClick){h.click(function(){a.hideHint(o.selector)})}if(this.ownerElement==null){h.appendTo(document.body)}else{if(this.ownerElement.innerHTML){h.appendTo(c(this.ownerElement))}else{h.appendTo(this.ownerElement)}}return h},_hintLayout:function(n,u,a,q){if(this._hintRender===q.hintRender){var l;l=this._getPosition(u,a,n,q);if(this.hintType=="label"){var s="2px";if(this.position=="left"||this.position=="top"){s="-2px"}if(u[0].nodeName.toLowerCase()!="input"&&u[0].nodeName.toLowerCase()!="textarea"){if(u.find("input").length>0){if(u.find(".jqx-input").length>0){u.find(".jqx-input").addClass(this.toThemeProperty("jqx-validator-error-element"))}else{if(u.is(".jqx-checkbox")){u.find(".jqx-checkbox-default").addClass(this.toThemeProperty("jqx-validator-error-element"))}}if(u.is(".jqx-radiobutton")){u.find(".jqx-radiobutton-default").addClass(this.toThemeProperty("jqx-validator-error-element"))}else{u.addClass(this.toThemeProperty("jqx-validator-error-element"))}}}else{u.addClass(this.toThemeProperty("jqx-validator-error-element"))}var t=c("<span></span>");t.addClass(this.toThemeProperty("jqx-validator-hint"));t.html(n.text());t.appendTo(c(document.body));var o=t.outerWidth();t.remove();n.css({position:"relative",left:c(u).css("margin-left"),width:c(u).width(),top:s});if(a=="center"){n.css("width",o);n.css("left","0px");n.css("margin-left","auto");n.css("margin-right","auto")}return}n.css({position:"absolute",left:l.left,top:l.top});if(this.arrow){this._addArrow(u,n,a,l)}}},_showHint:function(a){if(a){if(this.animation==="fade"){a.fadeOut(0);a.fadeIn(this.animationDuration)}}},_getPosition:function(n,s,u,q){var t=n.offset(),o,v;var w=n.outerWidth();var l=n.outerHeight();if(this.rtl&&s.indexOf("left")>=0){s="right"}if(this.rtl&&s.indexOf("right")>=0){s="left"}if(this.ownerElement!=null){t={left:0,top:0};t.top=parseInt(t.top)+n.position().top;t.left=parseInt(t.left)+n.position().left}if(q&&q.hintPositionRelativeElement){var a=c(q.hintPositionRelativeElement);t=a.offset();w=a.width();l=a.height()}if(s.indexOf("top")>=0){o=t.top-l}else{if(s.indexOf("bottom")>=0){o=t.top+u.outerHeight()+this.hintPositionOffset+5}else{o=t.top}}if(s.indexOf("center")>=0){v=t.left+this.hintPositionOffset+(w-u.outerWidth())/2}else{if(s.indexOf("left")>=0){v=t.left-u.outerWidth()-this.hintPositionOffset}else{if(s.indexOf("right")>=0){v=t.left+w+this.hintPositionOffset}else{v=t.left+this.hintPositionOffset}}}if(s.indexOf(":")>=0){s=s.split(":")[1].split(",");v+=parseInt(s[0],10);o+=parseInt(s[1],10)}if(!this.positions){this.positions=new Array()}if(this.positions[Math.round(o)+"_"+Math.round(v)]){if(this.positions[Math.round(o)+"_"+Math.round(v)].top==o){o+=n.outerHeight()}}this.positions[Math.round(o)+"_"+Math.round(v)]={left:v,top:o};return{left:v,top:o}},_addArrow:function(o,v,t,n){var a=c('<div class="'+this.toThemeProperty("jqx-validator-hint-arrow")+'"></div>'),w,q;if(this.rtl&&t.indexOf("left")>=0){t="right"}if(this.rtl&&t.indexOf("right")>=0){t="left"}v.children(".jqx-validator-hint-arrow").remove();v.append(a);var z=a.outerHeight(),u=a.outerWidth(),s=v.outerHeight(),A=v.outerWidth();this._addImage(a);if(t.indexOf("top")>=0){q=s-z}else{if(t.indexOf("bottom")>=0){q=-z}else{q=(s-z)/2-z/2}}if(t.indexOf("center")>=0){w=(A-u)/2}else{if(t.indexOf("left")>=0){w=A-u/2-1}else{if(t.indexOf("right")>=0){w=-u/2}}}if(t.indexOf("topright")>=0||t.indexOf("bottomright")>=0){w=0}if(t.indexOf("topleft")>=0||t.indexOf("bottomleft")>=0){w=A-u}a.css({position:"absolute",left:w,top:q})},_addImage:function(a){var d=a.css("background-image");d=d.replace('url("',"");d=d.replace('")',"");d=d.replace("url(","");d=d.replace(")","");a.css("background-image","none");a.append('<img src="'+d+'" alt="Arrow" style="position: relative; top: 0px; left: 0px; width: '+a.width()+"px; height: "+a.height()+'px;" />')},_raiseEvent:function(a,e){var f=c.Event(this._events[a]);f.args=e;return this.host.trigger(f)},propertyChangedHandler:function(a,l,f,h){if(l==="rules"){this._configureInputs();this._removeEventListeners();this._addEventListeners()}}})})(jqxBaseFramework);(function(c){c.jqx.cssroundedcorners=function(a){var d={all:"jqx-rc-all",top:"jqx-rc-t",bottom:"jqx-rc-b",left:"jqx-rc-l",right:"jqx-rc-r","top-right":"jqx-rc-tr","top-left":"jqx-rc-tl","bottom-right":"jqx-rc-br","bottom-left":"jqx-rc-bl"};for(prop in d){if(!d.hasOwnProperty(prop)){continue}if(a==prop){return d[prop]}}};c.jqx.jqxWidget("jqxButton","",{});c.extend(c.jqx._jqxButton.prototype,{defineInstance:function(){var a={cursor:"arrow",roundedCorners:"all",disabled:false,height:null,width:null,overrideTheme:false,enableHover:true,enableDefault:true,enablePressed:true,rtl:false,_ariaDisabled:false,_scrollAreaButton:false,template:"default",aria:{"aria-disabled":{name:"disabled",type:"boolean"}}};c.extend(true,this,a);return a},createInstance:function(o){var a=this;a._setSize();if(!a._ariaDisabled){a.host.attr("role","button")}if(!a.overrideTheme){a.host.addClass(a.toThemeProperty(c.jqx.cssroundedcorners(a.roundedCorners)));if(a.enableDefault){a.host.addClass(a.toThemeProperty("jqx-button"))}a.host.addClass(a.toThemeProperty("jqx-widget"))}a.isTouchDevice=c.jqx.mobile.isTouchDevice();if(!a._ariaDisabled){c.jqx.aria(this)}if(a.cursor!="arrow"){if(!a.disabled){a.host.css({cursor:a.cursor})}else{a.host.css({cursor:"arrow"})}}var h="mouseenter mouseleave mousedown focus blur";if(a._scrollAreaButton){var h="mousedown"}if(a.isTouchDevice){a.addHandler(a.host,c.jqx.mobile.getTouchEventName("touchstart"),function(d){a.isPressed=true;a.refresh()});a.addHandler(c(document),c.jqx.mobile.getTouchEventName("touchend")+"."+a.element.id,function(d){a.isPressed=false;a.refresh()})}a.addHandler(a.host,h,function(d){switch(d.type){case"mouseenter":if(!a.isTouchDevice){if(!a.disabled&&a.enableHover){a.isMouseOver=true;a.refresh()}}break;case"mouseleave":if(!a.isTouchDevice){if(!a.disabled&&a.enableHover){a.isMouseOver=false;a.refresh()}}break;case"mousedown":if(!a.disabled){a.isPressed=true;a.refresh()}break;case"focus":if(!a.disabled){a.isFocused=true;a.refresh()}break;case"blur":if(!a.disabled){a.isFocused=false;a.refresh()}break}});a.mouseupfunc=function(d){if(!a.disabled){if(a.isPressed||a.isMouseOver){a.isPressed=false;a.refresh()}}};a.addHandler(c(document),"mouseup.button"+a.element.id,a.mouseupfunc);try{if(document.referrer!=""||window.frameElement){if(window.top!=null&&window.top!=window.self){var l="";if(window.parent&&document.referrer){l=document.referrer}if(l.indexOf(document.location.host)!=-1){var n=function(d){a.isPressed=false;a.refresh()};if(window.top.document){a.addHandler(c(window.top.document),"mouseup",n)}}}}}catch(q){}a.propertyChangeMap.roundedCorners=function(s,e,f,d){s.host.removeClass(s.toThemeProperty(c.jqx.cssroundedcorners(f)));s.host.addClass(s.toThemeProperty(c.jqx.cssroundedcorners(d)))};a.propertyChangeMap.width=function(s,e,f,d){s._setSize();s.refresh()};a.propertyChangeMap.height=function(s,e,f,d){s._setSize();s.refresh()};a.propertyChangeMap.disabled=function(s,e,f,d){if(f!=d){s.host[0].disabled=d;s.host.attr("disabled",d);s.refresh();if(!d){s.host.css({cursor:s.cursor})}else{s.host.css({cursor:"default"})}c.jqx.aria(s,"aria-disabled",s.disabled)}};a.propertyChangeMap.rtl=function(s,e,f,d){if(f!=d){s.refresh()}};a.propertyChangeMap.template=function(s,e,f,d){if(f!=d){s.host.removeClass("jqx-"+f);s.refresh()}};a.propertyChangeMap.theme=function(s,e,f,d){s.host.removeClass();if(s.enableDefault){s.host.addClass(s.toThemeProperty("jqx-button"))}s.host.addClass(s.toThemeProperty("jqx-widget"));if(!s.overrideTheme){s.host.addClass(s.toThemeProperty(c.jqx.cssroundedcorners(s.roundedCorners)))}s._oldCSSCurrent=null;s.refresh()};if(a.disabled){a.element.disabled=true;a.host.attr("disabled",true)}},resize:function(d,a){this.width=d;this.height=a;this._setSize()},val:function(){var d=this;var a=d.host.find("input");if(a.length>0){if(arguments.length==0||typeof(value)=="object"){return a.val()}a.val(value);d.refresh();return a.val()}if(arguments.length==0||typeof(value)=="object"){if(d.element.nodeName.toLowerCase()=="button"){return c(d.element).text()}return d.element.value}d.element.value=arguments[0];if(d.element.nodeName.toLowerCase()=="button"){c(d.element).text(arguments[0])}d.refresh()},_setSize:function(){var a=this;if(a.width!=null&&(a.width.toString().indexOf("px")!=-1||a.width.toString().indexOf("%")!=-1)){a.host.css("width",a.width)}else{if(a.width!=undefined&&!isNaN(a.width)){a.host.css("width",a.width)}}if(a.height!=null&&(a.height.toString().indexOf("px")!=-1||a.height.toString().indexOf("%")!=-1)){a.host.css("height",a.height)}else{if(a.height!=undefined&&!isNaN(a.height)){a.host.css("height",parseInt(a.height))}}},_removeHandlers:function(){var a=this;a.removeHandler(a.host,"selectstart");a.removeHandler(a.host,"click");a.removeHandler(a.host,"focus");a.removeHandler(a.host,"blur");a.removeHandler(a.host,"mouseenter");a.removeHandler(a.host,"mouseleave");a.removeHandler(a.host,"mousedown");a.removeHandler(c(document),"mouseup.button"+a.element.id,a.mouseupfunc);if(a.isTouchDevice){a.removeHandler(a.host,c.jqx.mobile.getTouchEventName("touchstart"));a.removeHandler(c(document),c.jqx.mobile.getTouchEventName("touchend")+"."+a.element.id)}a.mouseupfunc=null;delete a.mouseupfunc},focus:function(){this.host.focus()},destroy:function(){var a=this;a._removeHandlers();var d=c.data(a.element,"jqxButton");if(d){delete d.instance}a.host.removeClass();a.host.removeData();a.host.remove();delete a.set;delete a.get;delete a.call;delete a.element;delete a.host},render:function(){this.refresh()},refresh:function(){var u=this;if(u.overrideTheme){return}var s=u.toThemeProperty("jqx-fill-state-focus");var l=u.toThemeProperty("jqx-fill-state-disabled");var a=u.toThemeProperty("jqx-fill-state-normal");if(!u.enableDefault){a=""}var n=u.toThemeProperty("jqx-fill-state-hover");var q=u.toThemeProperty("jqx-fill-state-pressed");var o=u.toThemeProperty("jqx-fill-state-pressed");if(!u.enablePressed){q=""}var t="";if(!u.host){return}u.host[0].disabled=u.disabled;if(u.disabled){t=a+" "+l;if(u.template!=="default"&&u.template!==""){t+=" jqx-"+u.template}u.host.addClass(t);u._oldCSSCurrent=t;return}else{if(u.isMouseOver&&!u.isTouchDevice){if(u.isPressed){t=o}else{t=n}}else{if(u.isPressed){t=q}else{t=a}}}if(u.isFocused){t+=" "+s}if(u.template!=="default"&&u.template!==""){t+=" jqx-"+u.template}if(t!=u._oldCSSCurrent){if(u._oldCSSCurrent){u.host.removeClass(u._oldCSSCurrent)}u.host.addClass(t);u._oldCSSCurrent=t}if(u.rtl){u.host.addClass(u.toThemeProperty("jqx-rtl"));u.host.css("direction","rtl")}}});c.jqx.jqxWidget("jqxLinkButton","",{});c.extend(c.jqx._jqxLinkButton.prototype,{defineInstance:function(){this.disabled=false;this.height=null;this.width=null;this.rtl=false;this.href=null},createInstance:function(o){var q=this;this.host.onselectstart=function(){return false};this.host.attr("role","button");var a=this.height||this.host.height();var n=this.width||this.host.width();this.href=this.host.attr("href");this.target=this.host.attr("target");this.content=this.host.text();this.element.innerHTML="";this.host.append("<input type='button' class='jqx-wrapper'/>");var l=this.host.find("input");l.addClass(this.toThemeProperty("jqx-reset"));l.width(n);l.height(a);l.val(this.content);this.host.find("tr").addClass(this.toThemeProperty("jqx-reset"));this.host.find("td").addClass(this.toThemeProperty("jqx-reset"));this.host.find("tbody").addClass(this.toThemeProperty("jqx-reset"));this.host.css("color","inherit");this.host.addClass(this.toThemeProperty("jqx-link"));l.css({width:n});l.css({height:a});var h=o==undefined?{}:o[0]||{};l.jqxButton(h);if(this.disabled){this.host[0].disabled=true}this.propertyChangeMap.disabled=function(s,e,f,d){s.host[0].disabled=d;s.host.find("input").jqxButton({disabled:d})};this.addHandler(l,"click",function(d){if(!this.disabled){q.onclick(d)}return false})},onclick:function(a){if(this.target!=null){window.open(this.href,this.target)}else{window.location=this.href}}});c.jqx.jqxWidget("jqxRepeatButton","jqxButton",{});c.extend(c.jqx._jqxRepeatButton.prototype,{defineInstance:function(){this.delay=50},createInstance:function(l){var o=this;var n=c.jqx.mobile.isTouchDevice();var a=!n?"mouseup."+this.base.element.id:"touchend."+this.base.element.id;var h=!n?"mousedown."+this.base.element.id:"touchstart."+this.base.element.id;this.addHandler(c(document),a,function(d){if(o.timeout!=null){clearTimeout(o.timeout);o.timeout=null;o.refresh()}if(o.timer!=undefined){clearInterval(o.timer);o.timer=null;o.refresh()}});this.addHandler(this.base.host,h,function(d){if(o.timer!=null){clearInterval(o.timer)}o.timeout=setTimeout(function(){clearInterval(o.timer);o.timer=setInterval(function(e){o.ontimer(e)},o.delay)},150)});this.mousemovefunc=function(d){if(!n){if(d.which==0){if(o.timer!=null){clearInterval(o.timer);o.timer=null}}}};this.addHandler(this.base.host,"mousemove",this.mousemovefunc)},destroy:function(){var l=c.jqx.mobile.isTouchDevice();var a=!l?"mouseup."+this.base.element.id:"touchend."+this.base.element.id;var f=!l?"mousedown."+this.base.element.id:"touchstart."+this.base.element.id;this.removeHandler(this.base.host,"mousemove",this.mousemovefunc);this.removeHandler(this.base.host,f);this.removeHandler(c(document),a);this.timer=null;delete this.mousemovefunc;delete this.timer;var h=c.data(this.base.element,"jqxRepeatButton");if(h){delete h.instance}c(this.base.element).removeData();this.base.destroy();delete this.base},stop:function(){clearInterval(this.timer);this.timer=null},ontimer:function(a){var a=new c.Event("click");if(this.base!=null&&this.base.host!=null){this.base.host.trigger(a)}}});c.jqx.jqxWidget("jqxToggleButton","jqxButton",{});c.extend(c.jqx._jqxToggleButton.prototype,{defineInstance:function(){this.toggled=false;this.uiToggle=true;this.aria={"aria-checked":{name:"toggled",type:"boolean"},"aria-disabled":{name:"disabled",type:"boolean"}}},createInstance:function(d){var a=this;a.base.overrideTheme=true;a.isTouchDevice=c.jqx.mobile.isTouchDevice();c.jqx.aria(this);a.propertyChangeMap.roundedCorners=function(o,l,n,h){o.base.host.removeClass(o.toThemeProperty(c.jqx.cssroundedcorners(n)));o.base.host.addClass(o.toThemeProperty(c.jqx.cssroundedcorners(h)))};a.propertyChangeMap.toggled=function(o,l,n,h){o.refresh()};a.propertyChangeMap.disabled=function(o,l,n,h){o.base.disabled=h;o.refresh()};a.addHandler(a.base.host,"click",function(e){if(!a.base.disabled&&a.uiToggle){a.toggle()}});if(!a.isTouchDevice){a.addHandler(a.base.host,"mouseenter",function(e){if(!a.base.disabled){a.refresh()}});a.addHandler(a.base.host,"mouseleave",function(e){if(!a.base.disabled){a.refresh()}})}a.addHandler(a.base.host,"mousedown",function(e){if(!a.base.disabled){a.refresh()}});a.addHandler(c(document),"mouseup.togglebutton"+a.base.element.id,function(e){if(!a.base.disabled){a.refresh()}})},destroy:function(){this._removeHandlers();this.base.destroy()},_removeHandlers:function(){this.removeHandler(this.base.host,"click");this.removeHandler(this.base.host,"mouseenter");this.removeHandler(this.base.host,"mouseleave");this.removeHandler(this.base.host,"mousedown");this.removeHandler(c(document),"mouseup.togglebutton"+this.base.element.id)},toggle:function(){this.toggled=!this.toggled;this.refresh();c.jqx.aria(this,"aria-checked",this.toggled)},unCheck:function(){this.toggled=false;this.refresh()},check:function(){this.toggled=true;this.refresh()},refresh:function(){var t=this;var l=t.base.toThemeProperty("jqx-fill-state-disabled");var a=t.base.toThemeProperty("jqx-fill-state-normal");if(!t.base.enableDefault){a=""}var n=t.base.toThemeProperty("jqx-fill-state-hover");var q=t.base.toThemeProperty("jqx-fill-state-pressed");var o=t.base.toThemeProperty("jqx-fill-state-pressed");var s="";t.base.host[0].disabled=t.base.disabled;if(t.base.disabled){s=a+" "+l;t.base.host.addClass(s);return}else{if(t.base.isMouseOver&&!t.isTouchDevice){if(t.base.isPressed||t.toggled){s=o}else{s=n}}else{if(t.base.isPressed||t.toggled){s=q}else{s=a}}}if(t.base.template!=="default"&&t.base.template!==""){s+=" jqx-"+t.base.template}if(t.base.host.hasClass(l)&&l!=s){t.base.host.removeClass(l)}if(t.base.host.hasClass(a)&&a!=s){t.base.host.removeClass(a)}if(t.base.host.hasClass(n)&&n!=s){t.base.host.removeClass(n)}if(t.base.host.hasClass(q)&&q!=s){t.base.host.removeClass(q)}if(t.base.host.hasClass(o)&&o!=s){t.base.host.removeClass(o)}if(!t.base.host.hasClass(s)){t.base.host.addClass(s)}}})})(jqxBaseFramework);(function(c){c.jqx.jqxWidget("jqxDropDownButton","",{});c.extend(c.jqx._jqxDropDownButton.prototype,{defineInstance:function(){var a={disabled:false,width:null,height:null,arrowSize:19,enableHover:true,openDelay:250,closeDelay:300,animationType:"default",enableBrowserBoundsDetection:false,dropDownHorizontalAlignment:"left",popupZIndex:20000,autoOpen:false,rtl:false,initContent:null,dropDownWidth:null,dropDownHeight:null,focusable:true,touchMode:false,aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:["open","close","opening","closing"]};c.extend(true,this,a);return a},createInstance:function(o){var t=this;if(!t.width){t.width=200}if(!t.height){t.height=25}t.isanimating=false;t.setupInstance();var w=c("<div style='background-color: transparent; -webkit-appearance: none; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; border: 0px; position: relative;'><div id='dropDownButtonWrapper' style='outline: none; background-color: transparent; border: none; float: left; width:100%; height: 100%; position: relative;'><div id='dropDownButtonContent' unselectable='on' style='outline: none; background-color: transparent; border: none; float: left; position: relative;'/><div id='dropDownButtonArrow' unselectable='on'  style='background-color: transparent; border: none; float: right; position: relative;'><div unselectable='on'></div></div></div></div>");if(t.host.attr("tabindex")){w.attr("tabindex",t.host.attr("tabindex"));t.host.removeAttr("tabindex")}else{w.attr("tabindex",0)}if(!t.focusable){w.removeAttr("tabIndex")}c.jqx.aria(this);t.popupContent=t.host.children();t.host.attr("role","button");if(t.popupContent.length==0){t.popupContent=c("<div>"+t.host.text()+"</div>");t.popupContent.css("display","block");t.element.innerHTML=""}else{t.popupContent.detach()}var n=this;t.addHandler(t.host,"loadContent",function(d){n._arrange()});try{var u="dropDownButtonPopup"+t.element.id;var v=c(c.find("#"+u));if(v.length>0){v.remove()}c.jqx.aria(this,"aria-haspopup",true);c.jqx.aria(this,"aria-owns",u);var z=c("<div class='dropDownButton' style='overflow: hidden; left: -1000px; top: -1000px; position: absolute;' id='dropDownButtonPopup"+t.element.id+"'></div>");z.addClass(t.toThemeProperty("jqx-widget-content"));z.addClass(t.toThemeProperty("jqx-dropdownbutton-popup"));z.addClass(t.toThemeProperty("jqx-popup"));z.addClass(t.toThemeProperty("jqx-rc-all"));z.css("z-index",t.popupZIndex);if(c.jqx.browser.msie){z.addClass(t.toThemeProperty("jqx-noshadow"))}t.popupContent.appendTo(z);z.appendTo(document.body);t.container=z;t.container.css("visibility","hidden")}catch(s){}t.touch=c.jqx.mobile.isTouchDevice();t.dropDownButtonStructure=w;t.host.append(w);t.dropDownButtonWrapper=t.host.find("#dropDownButtonWrapper");t.firstDiv=t.dropDownButtonWrapper.parent();t.dropDownButtonArrow=t.host.find("#dropDownButtonArrow");t.arrow=c(t.dropDownButtonArrow.children()[0]);t.dropDownButtonContent=t.host.find("#dropDownButtonContent");t.dropDownButtonContent.addClass(t.toThemeProperty("jqx-dropdownlist-content"));t.dropDownButtonWrapper.addClass(t.toThemeProperty("jqx-disableselect"));if(t.rtl){t.dropDownButtonContent.addClass(t.toThemeProperty("jqx-rtl"))}var a=this;if(t.host.parents()){t.addHandler(t.host.parents(),"scroll.dropdownbutton"+t.element.id,function(d){var f=a.isOpened();if(f){a.close()}})}t.addHandler(t.dropDownButtonWrapper,"selectstart",function(){return false});t.dropDownButtonWrapper[0].id="dropDownButtonWrapper"+t.element.id;t.dropDownButtonArrow[0].id="dropDownButtonArrow"+t.element.id;t.dropDownButtonContent[0].id="dropDownButtonContent"+t.element.id;var a=this;t.propertyChangeMap.disabled=function(f,h,l,d){if(d){f.host.addClass(a.toThemeProperty("jqx-dropdownlist-state-disabled"));f.host.addClass(a.toThemeProperty("jqx-fill-state-disabled"));f.dropDownButtonContent.addClass(a.toThemeProperty("jqx-dropdownlist-content-disabled"))}else{f.host.removeClass(a.toThemeProperty("jqx-dropdownlist-state-disabled"));f.host.removeClass(a.toThemeProperty("jqx-fill-state-disabled"));f.dropDownButtonContent.removeClass(a.toThemeProperty("jqx-dropdownlist-content-disabled"))}c.jqx.aria(f,"aria-disabled",f.disabled)};if(t.disabled){t.host.addClass(t.toThemeProperty("jqx-dropdownlist-state-disabled"));t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled"));t.dropDownButtonContent.addClass(t.toThemeProperty("jqx-dropdownlist-content-disabled"))}var q=t.toThemeProperty("jqx-rc-all")+" "+t.toThemeProperty("jqx-fill-state-normal")+" "+t.toThemeProperty("jqx-widget")+" "+t.toThemeProperty("jqx-widget-content")+" "+t.toThemeProperty("jqx-dropdownlist-state-normal");t.host.addClass(q);t.arrow.addClass(t.toThemeProperty("jqx-icon-arrow-down"));t.arrow.addClass(t.toThemeProperty("jqx-icon"));t._setSize();t.render();if(c.jqx.browser.msie&&c.jqx.browser.version<8){t.container.css("display","none");if(t.host.parents(".jqx-window").length>0){var e=t.host.parents(".jqx-window").css("z-index");z.css("z-index",e+10);t.container.css("z-index",e+10)}}},setupInstance:function(){var d=this;var a={setContent:function(e){d.dropDownButtonContent.children().remove();d.dropDownButtonContent[0].innerHTML="";d.dropDownButtonContent.append(e)},val:function(e){if(arguments.length==0||typeof(e)=="object"){return d.dropDownButtonContent.text()}else{d.dropDownButtonContent.html(e)}},getContent:function(){if(d.dropDownButtonContent.children().length>0){return d.dropDownButtonContent.children()}return d.dropDownButtonContent.text()},_setSize:function(){if(d.width!=null&&d.width.toString().indexOf("px")!=-1){d.host[0].style.width=d.width}else{if(d.width!=undefined&&!isNaN(d.width)){d.host[0].style.width=parseInt(d.width)+"px"}}if(d.height!=null&&d.height.toString().indexOf("px")!=-1){d.host[0].style.height=d.height}else{if(d.height!=undefined&&!isNaN(d.height)){d.host[0].style.height=parseInt(d.height)+"px"}}var f=false;if(d.width!=null&&d.width.toString().indexOf("%")!=-1){f=true;d.host.width(d.width)}if(d.height!=null&&d.height.toString().indexOf("%")!=-1){f=true;d.host.height(d.height)}var h=this;if(f){d.refresh(false)}c.jqx.utilities.resize(d.host,function(){h._arrange()})},isOpened:function(){var f=this;var h=c.data(document.body,"openedJQXButton"+f.element.id);if(h!=null&&h==f.popupContent){return true}return false},focus:function(){try{d.host.focus()}catch(e){}},render:function(){d.removeHandlers();var h=this;var f=false;if(!d.touch){d.addHandler(d.host,"mouseenter",function(){if(!h.disabled&&h.enableHover){f=true;h.host.addClass(h.toThemeProperty("jqx-dropdownlist-state-hover"));h.arrow.addClass(h.toThemeProperty("jqx-icon-arrow-down-hover"));h.host.addClass(h.toThemeProperty("jqx-fill-state-hover"))}});d.addHandler(d.host,"mouseleave",function(){if(!h.disabled&&h.enableHover){h.host.removeClass(h.toThemeProperty("jqx-dropdownlist-state-hover"));h.host.removeClass(h.toThemeProperty("jqx-fill-state-hover"));h.arrow.removeClass(h.toThemeProperty("jqx-icon-arrow-down-hover"));f=false}})}if(h.autoOpen){d.addHandler(d.host,"mouseenter",function(){var e=h.isOpened();if(!e&&h.autoOpen){h.open();h.host.focus()}});d.addHandler(c(document),"mousemove."+h.element.id,function(s){var t=h.isOpened();if(t&&h.autoOpen){var e=h.host.coord();var n=e.top;var o=e.left;var q=h.container.coord();var v=q.left;var u=q.top;canClose=true;if(s.pageY>=n&&s.pageY<=n+h.host.height()){if(s.pageX>=o&&s.pageX<o+h.host.width()){canClose=false}}if(s.pageY>=u&&s.pageY<=u+h.container.height()){if(s.pageX>=v&&s.pageX<v+h.container.width()){canClose=false}}if(canClose){h.close()}}})}d.addHandler(d.dropDownButtonWrapper,"mousedown",function(e){if(!h.disabled){var l=h.container.css("visibility")=="visible";if(!h.isanimating){if(l){h.close();return false}else{h.open();if(!h.focusable){if(e.preventDefault){e.preventDefault()}}}}}});if(d.touch){d.addHandler(c(document),c.jqx.mobile.getTouchEventName("touchstart")+"."+d.element.id,h.closeOpenedDropDown,{me:this,popup:d.container,id:d.element.id})}d.addHandler(c(document),"mousedown."+d.element.id,h.closeOpenedDropDown,{me:this,popup:d.container,id:d.element.id});d.addHandler(d.host,"keydown",function(e){var l=h.container.css("visibility")=="visible";if(h.host.css("display")=="none"){return true}if(e.keyCode=="13"){if(!h.isanimating){if(l){h.close()}}}if(e.keyCode==115){if(!h.isanimating){if(!h.isOpened()){h.open()}else{if(h.isOpened()){h.close()}}}return false}if(e.altKey){if(h.host.css("display")=="block"){if(e.keyCode==38){if(h.isOpened()){h.close()}}else{if(e.keyCode==40){if(!h.isOpened()){h.open()}}}}}if(e.keyCode=="27"){if(!h.ishiding){h.close();if(h.tempSelectedIndex!=undefined){h.selectIndex(h.tempSelectedIndex)}}}});d.addHandler(d.firstDiv,"focus",function(){h.host.addClass(h.toThemeProperty("jqx-dropdownlist-state-focus"));h.host.addClass(h.toThemeProperty("jqx-fill-state-focus"))});d.addHandler(d.firstDiv,"blur",function(){h.host.removeClass(h.toThemeProperty("jqx-dropdownlist-state-focus"));h.host.removeClass(h.toThemeProperty("jqx-fill-state-focus"))})},removeHandlers:function(){var e=this;d.removeHandler(d.dropDownButtonWrapper,"mousedown");d.removeHandler(d.host,"keydown");d.removeHandler(d.firstDiv,"focus");d.removeHandler(d.firstDiv,"blur");d.removeHandler(d.host,"mouseenter");d.removeHandler(d.host,"mouseleave");if(d.autoOpen){d.removeHandler(d.host,"mouseenter");d.removeHandler(d.host,"mouseleave")}d.removeHandler(c(document),"mousemove."+e.element.id)},_findPos:function(f){while(f&&(f.type=="hidden"||f.nodeType!=1||c.expr.filters.hidden(f))){f=f.nextSibling}var h=c(f).coord(true);return[h.left,h.top]},testOffset:function(q,t,w){var s=q.outerWidth();var n=q.outerHeight();var o=c(window).width()+c(window).scrollLeft();var u=c(window).height()+c(window).scrollTop();if(t.left+s>o){if(s>d.host.width()){var v=d.host.coord().left;var z=s-d.host.width();t.left=v-z+2}}if(t.left<0){t.left=parseInt(d.host.coord().left)+"px"}t.top-=Math.min(t.top,(t.top+n>u&&u>n)?Math.abs(n+w+22):0);return t},_getBodyOffset:function(){var f=0;var h=0;if(c("body").css("border-top-width")!="0px"){f=parseInt(c("body").css("border-top-width"));if(isNaN(f)){f=0}}if(c("body").css("border-left-width")!="0px"){h=parseInt(c("body").css("border-left-width"));if(isNaN(h)){h=0}}return{left:h,top:f}},open:function(){c.jqx.aria(this,"aria-expanded",true);var B=this;var t=this;if((B.dropDownWidth==null||B.dropDownWidth=="auto")&&B.width!=null&&B.width.indexOf&&B.width.indexOf("%")!=-1){var I=B.host.width();B.container.width(parseInt(I))}t._raiseEvent("2");var J=B.popupContent;var w=c(window).scrollTop();var D=c(window).scrollLeft();var z=parseInt(B._findPos(B.host[0])[1])+parseInt(B.host.outerHeight())-1+"px";var G,E=parseInt(Math.round(B.host.coord(true).left));G=E+"px";var u=c.jqx.mobile.isSafariMobileBrowser()||c.jqx.mobile.isWindowsPhone();B.ishiding=false;B.tempSelectedIndex=B.selectedIndex;if((u!=null&&u)){G=c.jqx.mobile.getLeftPos(B.element);z=c.jqx.mobile.getTopPos(B.element)+parseInt(B.host.outerHeight());if(c("body").css("border-top-width")!="0px"){z=parseInt(z)-B._getBodyOffset().top+"px"}if(c("body").css("border-left-width")!="0px"){G=parseInt(G)-B._getBodyOffset().left+"px"}}J.stop();B.host.addClass(B.toThemeProperty("jqx-dropdownlist-state-selected"));B.host.addClass(B.toThemeProperty("jqx-fill-state-pressed"));B.arrow.addClass(B.toThemeProperty("jqx-icon-arrow-down-selected"));var F=false;if(c.jqx.browser.msie&&c.jqx.browser.version<8){F=true}if(F){B.container.css("display","block")}B.container.css("left",G);B.container.css("top",z);var H=true;var K=false;var A=function(){if(B.dropDownHorizontalAlignment=="right"||B.rtl){var e=B.container.width();var f=Math.abs(e-B.host.width());if(e>B.host.width()){B.container.css("left",parseInt(Math.round(E))-f+"px")}else{B.container.css("left",parseInt(Math.round(E))+f+"px")}}};A.call(this);if(B.enableBrowserBoundsDetection){var C=B.testOffset(J,{left:parseInt(B.container.css("left")),top:parseInt(z)},parseInt(B.host.outerHeight()));if(parseInt(B.container.css("top"))!=C.top){K=true;B.container.height(J.outerHeight());J.css("top",23);if(B.interval){clearInterval(B.interval)}B.interval=setInterval(function(){if(J.outerHeight()!=t.container.height()){var e=t.testOffset(J,{left:parseInt(t.container.css("left")),top:parseInt(z)},parseInt(t.host.outerHeight()));t.container.css("top",e.top);t.container.height(J.outerHeight())}},50)}else{J.css("top",0)}B.container.css("top",C.top);if(parseInt(B.container.css("left"))!=C.left){B.container.css("left",C.left)}}if(B.animationType=="none"){B.container.css("visibility","visible");c.data(document.body,"openedJQXButtonParent",t);c.data(document.body,"openedJQXButton"+B.element.id,J);J.css("margin-top",0);J.css("opacity",1);B._raiseEvent("0");A.call(t)}else{B.container.css("visibility","visible");var v=J.outerHeight();t.isanimating=true;if(B.animationType=="fade"){J.css("margin-top",0);J.css("opacity",0);J.animate({opacity:1},B.openDelay,function(){c.data(document.body,"openedJQXButtonParent",t);c.data(document.body,"openedJQXButton"+t.element.id,J);t.ishiding=false;t.isanimating=false;t._raiseEvent("0")});A.call(t)}else{J.css("opacity",1);if(K){J.css("margin-top",v)}else{J.css("margin-top",-v)}A.call(t);J.animate({"margin-top":0},B.openDelay,function(){c.data(document.body,"openedJQXButtonParent",t);c.data(document.body,"openedJQXButton"+t.element.id,J);t.ishiding=false;t.isanimating=false;t._raiseEvent("0")})}}if(!K){B.host.addClass(B.toThemeProperty("jqx-rc-b-expanded"));B.container.addClass(B.toThemeProperty("jqx-rc-t-expanded"))}else{B.host.addClass(B.toThemeProperty("jqx-rc-t-expanded"));B.container.addClass(B.toThemeProperty("jqx-rc-b-expanded"))}if(B.focusable){B.firstDiv.focus();setTimeout(function(){t.firstDiv.focus()},10)}B.container.addClass(B.toThemeProperty("jqx-fill-state-focus"));B.host.addClass(t.toThemeProperty("jqx-dropdownlist-state-focus"));B.host.addClass(t.toThemeProperty("jqx-fill-state-focus"))},close:function(){c.jqx.aria(this,"aria-expanded",false);var n=this;var q=n.popupContent;var s=n.container;var o=this;o._raiseEvent("3");var t=false;if(c.jqx.browser.msie&&c.jqx.browser.version<8){t=true}if(!n.isOpened()){return}c.data(document.body,"openedJQXButton"+n.element.id,null);if(n.animationType=="none"){n.container.css("visibility","hidden");if(t){n.container.css("display","none")}}else{if(!o.ishiding){o.isanimating=true;q.stop();var u=q.outerHeight();q.css("margin-top",0);var l=-u;if(parseInt(n.container.coord().top)<parseInt(n.host.coord().top)){l=u}if(n.animationType=="fade"){q.css({opacity:1});q.animate({opacity:0},n.closeDelay,function(){s.css("visibility","hidden");o.isanimating=false;o.ishiding=false;if(t){s.css("display","none")}})}else{q.animate({"margin-top":l},n.closeDelay,function(){s.css("visibility","hidden");o.isanimating=false;o.ishiding=false;if(t){s.css("display","none")}})}}}n.ishiding=true;n.host.removeClass(n.toThemeProperty("jqx-dropdownlist-state-selected"));n.host.removeClass(n.toThemeProperty("jqx-fill-state-pressed"));n.arrow.removeClass(n.toThemeProperty("jqx-icon-arrow-down-selected"));n.host.removeClass(n.toThemeProperty("jqx-rc-b-expanded"));n.container.removeClass(n.toThemeProperty("jqx-rc-t-expanded"));n.host.removeClass(n.toThemeProperty("jqx-rc-t-expanded"));n.container.removeClass(n.toThemeProperty("jqx-rc-b-expanded"));n.container.removeClass(n.toThemeProperty("jqx-fill-state-focus"));n.host.removeClass(n.toThemeProperty("jqx-dropdownlist-state-focus"));n.host.removeClass(n.toThemeProperty("jqx-fill-state-focus"));n._raiseEvent("1")},closeOpenedDropDown:function(n){var q=n.data.me;var s=c(n.target);if(c(n.target).ischildof(n.data.me.host)){return true}if(c(n.target).ischildof(n.data.me.popupContent)){return true}var l=q;var o=false;c.each(s.parents(),function(){if(this.className!="undefined"){if(this.className.indexOf&&this.className.indexOf("dropDownButton")!=-1){o=true;return false}}});if(!o){q.close()}return true},refresh:function(){d._arrange()},_arrange:function(){var n=this;var o=parseInt(n.host.width());var u=parseInt(n.host.height());var q=n.arrowSize;var s=n.arrowSize;var l=3;var t=o-s-2*l;if(t>0){n.dropDownButtonContent[0].style.width=t+"px"}n.dropDownButtonContent[0].style.height=parseInt(u)+"px";n.dropDownButtonContent[0].style.left="0px";n.dropDownButtonContent[0].style.top="0px";n.dropDownButtonArrow[0].style.width=parseInt(s)+"px";n.dropDownButtonArrow[0].style.height=parseInt(u)+"px";if(n.rtl){n.dropDownButtonArrow.css("float","left");n.dropDownButtonContent.css("float","right");n.dropDownButtonContent.css("left",-l)}if(n.dropDownWidth!=null){if(n.dropDownWidth.toString().indexOf("%")>=0){var o=(parseInt(n.dropDownWidth)*n.host.width())/100;n.container.width(o)}else{n.container.width(n.dropDownWidth)}}if(n.dropDownHeight!=null){n.container.height(n.dropDownHeight)}},destroy:function(){var e=this;e.removeHandler(e.dropDownButtonWrapper,"selectstart");e.removeHandler(e.dropDownButtonWrapper,"mousedown");e.removeHandler(e.host,"keydown");e.host.removeClass();e.removeHandler(c(document),"mousedown."+e.element.id,self.closeOpenedDropDown);e.host.remove();e.container.remove()},_raiseEvent:function(l,q){if(q==undefined){q={owner:null}}if(l==2&&!d.contentInitialized){if(d.initContent){d.initContent();d.contentInitialized=true}}var o=d.events[l];args=q;args.owner=this;var n=new c.Event(o);n.owner=this;if(l==2||l==3||l==4){n.args=q}var s=d.host.trigger(n);return s},resize:function(f,h){d.width=f;d.height=h;d._setSize();d._arrange()},propertyChangedHandler:function(o,n,h,l){if(d.isInitialized==undefined||d.isInitialized==false){return}if(n=="rtl"){if(l){o.dropDownButtonArrow.css("float","left");o.dropDownButtonContent.css("float","right")}else{o.dropDownButtonArrow.css("float","right");o.dropDownButtonContent.css("float","left")}}if(n=="autoOpen"){o.render()}if(n=="theme"&&l!=null){c.jqx.utilities.setTheme(h,l,o.host)}if(n=="width"||n=="height"){o._setSize();o._arrange()}}};c.extend(true,this,a)}})})(jqxBaseFramework);(function(c){c.jqx.jqxWidget("jqxColorPicker","",{});c.extend(c.jqx._jqxColorPicker.prototype,{defineInstance:function(){var a={disabled:false,height:null,width:null,color:new c.jqx.color({hex:"ff0000"}),redString:"R:",greenString:"G:",blueString:"B:",showTransparent:false,colorMode:"saturation",_delayLoading:false,events:["colorchange"]};c.extend(true,this,a);return a},createInstance:function(d){this.render();var a=this;c.jqx.utilities.resize(this.host,function(){a._setSize();a.refresh()},false,!this._delayLoading)},render:function(){this.element.innerHTML="";var a=this;this._isTouchDevice=c.jqx.mobile.isTouchDevice();if(typeof this.color=="string"){this.color=new c.jqx.color({hex:this.color})}this._setSize();this.host.addClass(this.toThemeProperty("jqx-widget"));this.host.addClass(this.toThemeProperty("jqx-reset"));this.host.addClass(this.toThemeProperty("jqx-color-picker"));this.container=c("<div style='width: 100%; height: 100%; position: relative;'></div>");this.container.appendTo(this.host);this.colorMap=c("<div style='left: 0; top: 0; position: absolute;'></div>");this.colorMap.appendTo(this.container);this.colorBar=c("<div style='left: 0; top: 0; position: absolute;'></div>");this.colorBar.appendTo(this.container);this.colorPanel=c("<div style='left: 0; top: 0; position: absolute;'></div>");this.colorPanel.appendTo(this.container);this.hexPanel=c("<div style='float: left;'></div>");this.hexPanel.appendTo(this.colorPanel);this.hexPanel.append('<span style="text-align: left;" >#</span>');this.hex=c("<input maxlength='6' style='height: 18px;'/>");this.hex.addClass(this.toThemeProperty("jqx-input"));this.hex.addClass(this.toThemeProperty("jqx-widget-content"));this.hex.appendTo(this.hexPanel);this.colorPanel.append('<div style="font-size: 1px; clear: both;"></div>');this.rgb=c("<div style='margin-top: 2px;'></div>");this.rgb.appendTo(this.colorPanel);this.red=c("<input style='width: 25px; height: 18px;' maxlength='3'/>");this.red.addClass(this.toThemeProperty("jqx-input"));this.red.addClass(this.toThemeProperty("jqx-widget-content"));this.rgb.append('<span style="text-align: left;">'+this.redString+"</span>");this.red.appendTo(this.rgb);this.green=c("<input style='margin-right: 2px; height: 18px; width: 25px;' maxlength='3'/>");this.green.addClass(this.toThemeProperty("jqx-input"));this.green.addClass(this.toThemeProperty("jqx-widget-content"));this.rgb.append('<span style="text-align: left;">'+this.greenString+"</span>");this.green.appendTo(this.rgb);this.colorPanel.addClass(this.toThemeProperty("jqx-color-picker-map-overlay"));this._mapImageOverlayURL=this._getImageUrl(this.colorPanel);this.colorPanel.removeClass(this.toThemeProperty("jqx-color-picker-map-overlay"));this.blue=c("<input style='height: 18px; width: 25px;' maxlength='3'/>");this.blue.addClass(this.toThemeProperty("jqx-input"));this.blue.addClass(this.toThemeProperty("jqx-widget-content"));this.rgb.append('<span style="text-align: left;">'+this.blueString+"</span>");this.blue.appendTo(this.rgb);this.preview=c("<div style='background: red; position: absolute;'></div>");this.preview.addClass(this.toThemeProperty("jqx-widget-content"));this.preview.appendTo(this.colorPanel);this.colorBarPointer=c("<div style='top: 0; left: 0; position: absolute; width: 100%;'></div>");this.colorBarPointer.addClass(this.toThemeProperty("jqx-color-picker-bar-pointer"));this.colorMapPointer=c("<div style='top: 0; left: 0; position: absolute; width: 100%;'></div>");this.colorMapPointer.addClass(this.toThemeProperty("jqx-color-picker-pointer"));this.transparent=c("<div style='text-align: center; clear: both;'><a style='text-align: center;' href='#'>transparent</a></div>");if(this.disabled){this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"));this.element.disabled=true}this._addHandlers()},val:function(a){if(arguments.length==0){return"#"+this.color.hex}this.setColor(a);return this.color.hex},_setPositionFromValue:function(){var t=this;var u=t.color.h;var l=100-t.color.v;var a=t.colorMap.height();var s=t.colorMap.width();var n=u*s/360;var o=l*a/100;if(this.colorMode=="saturation"){var q=100-t.color.s;q=q*a/100;t._saturation=100-t.color.s;t.colorMapPointer.css("margin-left",n-8);t.colorMapPointer.css("margin-top",o-8);t.colorBarPointer.css("margin-top",q-8);t.colorMapImageOverlay.css("opacity",(100-t.color.s)/100)}else{var u=t.color.s;var n=u*s/100;var o=l*a/100;var q=360-t.color.h;q=q*a/360;t._hue=t.color.h;t.colorMapPointer.css("margin-left",n-8);t.colorMapPointer.css("margin-top",o-8);t.colorBarPointer.css("margin-top",q-8)}},updateRGB:function(){var a=this;a.color.setRgb(a.red.val(),a.green.val(),a.blue.val());a._updateUI();a._raiseEvent("0",{color:a.color});a.color.transparent=false},_setPosition:function(q,u,n){var s=parseInt(q.pageX);var o=parseInt(u.offset().left);var a=parseInt(q.pageY);var t=parseInt(u.offset().top);if(this._isTouchDevice){var l=c.jqx.position(q);s=l.left;a=l.top}if(n[0].className.indexOf("jqx-color-picker-bar")==-1){n.css("margin-left",s-8-o)}if(a>=t&&a<=t+u.height()){n.css("margin-top",a-8-t)}},_handleKeyInput:function(f,e,a){if(f.disabled){return}if(!f._validateKey(e)){return e}a.val(f._setValueInRange(a.val(),0,255));this.updateRGB();this._setPositionFromValue()},_addHandlers:function(){var t=this;this.addHandler(this.colorMapPointer,"dragStart",function(d){d.preventDefault();return false});this.addHandler(this.colorBarPointer,"dragStart",function(d){d.preventDefault();return false});this.addHandler(this.transparent,"click",function(d){t._raiseEvent("0",{color:"transparent"});d.preventDefault();t.color.transparent=true});this.addHandler(this.host,"selectionstart",function(d){d.preventDefault();return false});this.addHandler(this.blue,"keyup blur",function(d){t._handleKeyInput(t,d,t.blue)});this.addHandler(this.green,"keyup blur",function(d){t._handleKeyInput(t,d,t.green)});this.addHandler(this.red,"keyup blur",function(d){t._handleKeyInput(t,d,t.red)});this.addHandler(this.hex,"keyup blur",function(d){if(t.disabled){return}if(!t._validateKey(d)){return d}if(t.hex.val().toString().length==6){t.hex.val(t.color.validateHex(t.hex.val()));t.color.setHex(t.hex.val());t._updateUI();t._setPositionFromValue();t._raiseEvent("0",{color:t.color})}});this.addHandler(this.colorMap,"dragstart",function(d){d.preventDefault();return false});var q=function(d){t._setPosition(d,t.colorMap,t.colorMapPointer);if(t.colorMode=="saturation"){var e=t._valuesFromMouse(d,t.colorMap,360,100);if(e.x>360){e.x=360}t.color.setHsv(e.x,t._saturation!=null?100-t._saturation:100,100-e.y)}else{var e=t._valuesFromMouse(d,t.colorMap,100,100);if(e.x>100){e.x=100}t.color.setHsv(t._hue!=null?t._hue:360,e.x,100-e.y)}t._updateUI();t._raiseEvent("0",{color:t.color});t.color.transparent=false};var u="mousedown.picker"+this.element.id;if(this._isTouchDevice){u=c.jqx.mobile.getTouchEventName("touchstart")+".picker"+this.element.id}this.addHandler(this.colorMap,u,function(d){if(t.disabled){return}t.beginDrag=true;q(d)});var a="mousemove.picker"+this.element.id;if(this._isTouchDevice){a=c.jqx.mobile.getTouchEventName("touchmove")+".picker"+this.element.id}this.addHandler(c(document),a,function(d){if(t.disabled){return}if(t.beginDrag==true){q(d);if(t._isTouchDevice){d.preventDefault()}}});if(!this._isTouchDevice){this.addHandler(this.colorBar,"dragstart",function(d){d.preventDefault();return false})}var s=function(d){t._setPosition(d,t.colorBar,t.colorBarPointer);if(t.colorMode=="saturation"){var e=t._valuesFromMouse(d,t.colorBar,100,100);t.color.s=e.y;t._saturation=e.y;t.colorMapImageOverlay.css("opacity",(t.color.s)/100);t.color.setHsv(t.color.h,100-t.color.s,t.color.v)}else{var e=t._valuesFromMouse(d,t.colorBar,100,360);t.color.h=360-e.y;t._hue=t.color.h;t.color.setHsv(t.color.h,t.color.s,t.color.v)}t._updateUI();t._raiseEvent("0",{color:t.color});t.color.transparent=false};var n="mousemove.colorBar"+this.element.id;var o="mousedown.colorBar"+this.element.id;var l="mouseup.colorBar"+this.element.id;if(this._isTouchDevice){n=c.jqx.mobile.getTouchEventName("touchmove")+".colorBar"+this.element.id;o=c.jqx.mobile.getTouchEventName("touchstart")+".colorBar"+this.element.id;l=c.jqx.mobile.getTouchEventName("touchend")+".colorBar"+this.element.id}this.addHandler(this.colorBar,o,function(d){if(t.disabled){return}t.beginDragBar=true;s(d)});this.addHandler(c(document),n,function(d){if(t.disabled){return}if(t.beginDragBar==true){s(d);if(t._isTouchDevice){d.preventDefault()}}});this.addHandler(c(document),l,function(d){if(t.disabled){return}t.beginDrag=false;t.beginDragBar=false})},_removeHandlers:function(){this.removeHandler(this.transparent,"click");this.removeHandler(this.host,"selectionstart");this.removeHandler(this.blue,"keyup blur");this.removeHandler(this.green,"keyup blur");this.removeHandler(this.red,"keyup blur");this.removeHandler(this.hex,"keyup blur");this.removeHandler(this.colorMap,"dragstart");this.removeHandler(this.colorBar,"dragstart");this.removeHandler(this.colorMapPointer,"dragStart");this.removeHandler(this.colorBarPointer,"dragStart");var h=this.element.id;var n="mousemove.colorBar"+h;var o="mousedown.colorBar"+h;var l="mouseup.colorBar"+h;var q="mousedown.picker"+h;var a="mousemove.picker"+h;if(this._isTouchDevice){n=c.jqx.mobile.getTouchEventName("touchmove")+".colorBar"+h;o=c.jqx.mobile.getTouchEventName("touchstart")+".colorBar"+h;l=c.jqx.mobile.getTouchEventName("touchend")+".colorBar"+h;q=c.jqx.mobile.getTouchEventName("touchstart")+".picker"+h;a=c.jqx.mobile.getTouchEventName("touchmove")+".picker"+h}this.removeHandler(this.colorMap,q);this.removeHandler(this.colorMap,a);this.removeHandler(this.colorBar,o);this.removeHandler(this.colorBar,n);this.removeHandler(c(document),a);this.removeHandler(c(document),n);this.removeHandler(c(document),l)},_raiseEvent:function(h,q){if(q==undefined){q={owner:null}}var o=this.events[h];var n=q?q:{};n.owner=this;var l=new c.Event(o);l.owner=this;l.args=n;var a=this.host.trigger(l);return a},setColor:function(a){if(!a){return}if(a=="transparent"){this.color.transparent=true;this.color.hex="000";this.color.r=0;this.color.g=0;this.color.b=0}else{if(a.r){this.color=new c.jqx.color({rgb:a})}else{if(a.substring(0,1)=="#"){this.color=new c.jqx.color({hex:a.substring(1)})}else{this.color=new c.jqx.color({hex:a})}}}this._updateUI();this._setPositionFromValue();this._raiseEvent("0",{color:this.color})},getColor:function(){return this.color},resize:function(d,a){this.width=d;this.height=a;this._setSize();this.refresh()},propertyChangedHandler:function(a,l,f,h){if(a.isInitialized==undefined||a.isInitialized==false){return}if(l=="colorMode"){a.refresh()}if(l=="color"){a._updateUI();a._setPositionFromValue();a._raiseEvent("0",{color:h})}if(l=="width"||l=="height"){a._setSize();a.refresh()}if(l=="showTransparent"){a.refresh()}if(l=="disabled"){this.element.disabled=h;if(h){a.host.addClass(a.toThemeProperty("jqx-fill-state-disabled"))}else{a.host.removeClass(a.toThemeProperty("jqx-fill-state-disabled"))}}},_valuesFromMouse:function(v,A,D,E){var u=0;var w=0;var B=A.offset();var a=A.height();var C=A.width();var q=v.pageX;var s=v.pageY;if(this._isTouchDevice){var t=c.jqx.position(v);q=t.left;s=t.top}if(q<B.left){u=0}else{if(q>B.left+C){u=C}else{u=q-B.left+1}}if(s<B.top){w=0}else{if(s>B.top+a){w=a}else{w=s-B.top+1}}var z=parseInt(u/C*D);var e=parseInt(w/a*E);return{x:z,y:e}},_validateKey:function(a){if(a.keyCode==9||a.keyCode==16||a.keyCode==38||a.keyCode==29||a.keyCode==40||a.keyCode==17||a.keyCode==37||(a.ctrlKey&&(a.keyCode=="c".charCodeAt()||a.keyCode=="v".charCodeAt()))||(a.ctrlKey&&(a.keyCode=="C".charCodeAt()||a.keyCode=="V".charCodeAt()))){return false}if(a.ctrlKey||a.shiftKey){return false}return true},_setValueInRange:function(e,f,a){if(e==""||isNaN(e)){return f}e=parseInt(e);if(e>a){return a}if(e<f){return f}return e},destroy:function(){c.jqx.utilities.resize(this.host,null,true);this.host.removeClass();this._removeHandlers();this.host.remove()},setPointerStyle:function(l){this.colorMapPointer.removeClass();if(l=="transparent"||l.hex==""){this.colorMapPointer.addClass(this.toThemeProperty("jqx-color-picker-pointer"))}var a=105;var h=(l.r*0.299)+(l.g*0.587)+(l.b*0.114);var f=(255-h<a)?"Black":"White";if(f=="Black"){this.colorMapPointer.addClass(this.toThemeProperty("jqx-color-picker-pointer"))}else{this.colorMapPointer.addClass(this.toThemeProperty("jqx-color-picker-pointer-alt"))}},_updateUI:function(){var d=this;d.red.val(d.color.r);d.green.val(d.color.g);d.blue.val(d.color.b);d.hex.val(d.color.hex);var a=new c.jqx.color({hex:"fff"});if(this.colorMode=="saturation"){a.setHsv(this.color.h,100,this.color.v);d.colorBar.css("background","#"+a.hex)}else{a.setHsv(this.color.h,100,100);d.colorMap.css("background-color","#"+a.hex)}d.preview.css("background","#"+this.color.hex);d.setPointerStyle(this.color)},_setSize:function(){if(this.width!=null&&this.width.toString().indexOf("px")!=-1){this.host.width(this.width)}else{if(this.width!=undefined&&!isNaN(this.width)){this.host.width(this.width)}}if(this.height!=null&&this.height.toString().indexOf("px")!=-1){this.host.height(this.height)}else{if(this.height!=undefined&&!isNaN(this.height)){this.host.height(this.height)}}if(this.host.width()<130){this.host.width(150)}if(this.host.height()<70){this.host.height(70)}if(this.width!=null&&this.width.toString().indexOf("%")!=-1){this.host.width(this.width)}if(this.height!=null&&this.height.toString().indexOf("%")!=-1){this.host.height(this.height)}},_arrange:function(){var o=this.host.height();var h=this.host.width();var a=o-44;if(this.showTransparent){a=o-64}if(a<=0){return}this.colorMap.width(85*h/100);this.colorMap.height(a);this.colorBar.height(a);this.colorBar.css("left",this.colorMap.width()+4);this.colorBar.width(8*h/100);this.colorBarPointer.width(this.colorBar.width());this.colorPanel.width(h);this.colorPanel.height(40);if(this.showTransparent){this.colorPanel.height(60)}this.colorPanel.css("top",a+4);this.colorPanel.css("text-align","left");this.hex.width(this.colorMap.width()-this.colorBar.width()-4);var q=this.red.prev().outerWidth()-this.hex.prev().outerWidth();if(q<4){q=4}this.hex.css("margin-left",q+"px");this.preview.width(this.colorBar.width()+7);this.preview.height(25);this.preview.addClass(this.toThemeProperty("jqx-rc-all"));this.preview.addClass(this.toThemeProperty("jqx-color-picker-preview"));this.preview.css("left",this.colorMap.width()-2);this.preview.css("top","5px");var n=this.hex.width();var l=n-this.blue.prev().outerWidth()-this.green.prev().outerWidth()-6;if(l>0){this.blue.width(l/3);this.green.width(l/3);this.red.width(l/3);return}},_getColorPointer:function(){var a=c("<div></div>");a.addClass(this.toThemeProperty("jqx-color-picker-pointer"));return a},_getImageUrl:function(d){var a=d.css("backgroundImage");a=a.replace('url("',"");a=a.replace('")',"");a=a.replace("url(","");a=a.replace(")","");return a},refresh:function(){if(this._delayLoading){return}this._saturation=null;this._hue=null;this.colorMap.removeClass();this.colorBar.removeClass();this.colorMap.addClass(this.toThemeProperty("jqx-disableselect"));this.colorBar.addClass(this.toThemeProperty("jqx-disableselect"));this.colorPanel.addClass(this.toThemeProperty("jqx-color-picker-panel"));this.colorBar.css("background-image","");this.colorMap.css("background-image","");if(this.colorMode=="saturation"){this.colorMap.addClass(this.toThemeProperty("jqx-color-picker-map"));this.colorBar.addClass(this.toThemeProperty("jqx-color-picker-bar"))}else{this.colorMap.addClass(this.toThemeProperty("jqx-color-picker-map-hue"));this.colorBar.addClass(this.toThemeProperty("jqx-color-picker-bar-hue"))}this._barImageURL=this._getImageUrl(this.colorBar);this._mapImageURL=this._getImageUrl(this.colorMap);this._arrange();this.colorBar.children().remove();this.colorBarImageContainer=c("<div style='overflow: hidden;'></div>");this.colorBarImageContainer.width(this.colorBar.width());this.colorBarImageContainer.height(this.colorBar.height());this.colorBarImageContainer.appendTo(this.colorBar);this.colorBarImage=c("<img/>");this.colorBarImage.appendTo(this.colorBarImageContainer);this.colorBarImage.attr("src",this._barImageURL);this.colorBar.css("background-image","none");this.colorBarImage.attr("width",this.colorBar.width());this.colorBarImage.attr("height",this.colorBar.height());this.colorBarPointer.appendTo(this.colorBar);this.colorMap.children().remove();this.colorMapImage=c("<img/>");this.colorMapImage.appendTo(this.colorMap);this.colorMapImage.attr("src",this._mapImageURL);this.colorMap.css("background-image","none");this.colorMapImage.attr("width",this.colorMap.width());this.colorMapImage.attr("height",this.colorMap.height());this.colorMapImageOverlay=c("<img style='position: absolute; left: 0; top: 0;'/>");this.colorMapImageOverlay.prependTo(this.colorMap);this.colorMapImageOverlay.attr("src",this._mapImageOverlayURL);this.colorMapImageOverlay.attr("width",this.colorMap.width());this.colorMapImageOverlay.attr("height",this.colorMap.height());this.colorMapImageOverlay.css("opacity",0);this.colorMapPointer.appendTo(this.colorMap);if(this.showTransparent){this.transparent.appendTo(this.colorPanel)}this._updateUI();this._setPositionFromValue()}});c.jqx.color=function(e){var a={r:0,g:0,b:0,h:0,s:0,v:0,hex:"",hexToRgb:function(d){d=this.validateHex(d);var l="00",n="00",o="00";if(d.length==6){l=d.substring(0,2);n=d.substring(2,4);o=d.substring(4,6)}else{if(d.length>4){l=d.substring(4,d.length);d=d.substring(0,4)}if(d.length>2){n=d.substring(2,d.length);d=d.substring(0,2)}if(d.length>0){o=d.substring(0,d.length)}}return{r:this.hexToInt(l),g:this.hexToInt(n),b:this.hexToInt(o)}},validateHex:function(d){d=new String(d).toUpperCase();d=d.replace(/[^A-F0-9]/g,"0");if(d.length>6){d=d.substring(0,6)}return d},webSafeDec:function(d){d=Math.round(d/51);d*=51;return d},hexToWebSafe:function(d){var l,n,o;if(d.length==3){l=d.substring(0,1);n=d.substring(1,1);o=d.substring(2,1)}else{l=d.substring(0,2);n=d.substring(2,4);o=d.substring(4,6)}return intToHex(this.webSafeDec(this.hexToInt(l)))+this.intToHex(this.webSafeDec(this.hexToInt(n)))+this.intToHex(this.webSafeDec(this.hexToInt(o)))},rgbToWebSafe:function(d){return{r:this.webSafeDec(d.r),g:this.webSafeDec(d.g),b:this.webSafeDec(d.b)}},rgbToHex:function(d){return this.intToHex(d.r)+this.intToHex(d.g)+this.intToHex(d.b)},intToHex:function(d){var h=(parseInt(d).toString(16));if(h.length==1){h=("0"+h)}return h.toUpperCase()},hexToInt:function(d){return(parseInt(d,16))},hslToRgb:function(D){var h=parseInt(D.h)/360;var C=parseInt(D.s)/100;var q=parseInt(D.l)/100;if(q<=0.5){var A=q*(1+C)}else{var A=q+C-(q*C)}var z=2*q-A;var F=h+(1/3);var s=h;var l=h-(1/3);var B=Math.round(this.hueToRgb(z,A,F)*255);var d=Math.round(this.hueToRgb(z,A,s)*255);var E=Math.round(this.hueToRgb(z,A,l)*255);return{r:B,g:d,b:E}},hueToRgb:function(d,h,l){if(l<0){l+=1}else{if(l>1){l-=1}}if((l*6)<1){return d+(h-d)*l*6}else{if((l*2)<1){return h}else{if((l*3)<2){return d+(h-d)*((2/3)-l)*6}else{return d}}}},rgbToHsv:function(o){var d=o.r/255;var l=o.g/255;var q=o.b/255;hsv={h:0,s:0,v:0};var n=0;var s=0;if(d>=l&&d>=q){s=d;n=(l>q)?q:l}else{if(l>=q&&l>=d){s=l;n=(d>q)?q:d}else{s=q;n=(l>d)?d:l}}hsv.v=s;hsv.s=(s)?((s-n)/s):0;if(!hsv.s){hsv.h=0}else{delta=s-n;if(d==s){hsv.h=(l-q)/delta}else{if(l==s){hsv.h=2+(q-d)/delta}else{hsv.h=4+(d-l)/delta}}hsv.h=parseInt(hsv.h*60);if(hsv.h<0){hsv.h+=360}}hsv.s=parseInt(hsv.s*100);hsv.v=parseInt(hsv.v*100);return hsv},hsvToRgb:function(t){rgb={r:0,g:0,b:0};var u=t.h;var d=t.s;var q=t.v;if(d==0){if(q==0){rgb.r=rgb.g=rgb.b=0}else{rgb.r=rgb.g=rgb.b=parseInt(q*255/100)}}else{if(u==360){u=0}u/=60;d=d/100;q=q/100;var v=parseInt(u);var s=u-v;var w=q*(1-d);var z=q*(1-(d*s));var h=q*(1-(d*(1-s)));switch(v){case 0:rgb.r=q;rgb.g=h;rgb.b=w;break;case 1:rgb.r=z;rgb.g=q;rgb.b=w;break;case 2:rgb.r=w;rgb.g=q;rgb.b=h;break;case 3:rgb.r=w;rgb.g=z;rgb.b=q;break;case 4:rgb.r=h;rgb.g=w;rgb.b=q;break;case 5:rgb.r=q;rgb.g=w;rgb.b=z;break}rgb.r=parseInt(rgb.r*255);rgb.g=parseInt(rgb.g*255);rgb.b=parseInt(rgb.b*255)}return rgb},setRgb:function(n,o,q){var d=function(h){if(h<0||h>255){return 0}if(isNaN(parseInt(h))){return 0}return h};this.r=d(n);this.g=d(o);this.b=d(q);var l=this.rgbToHsv(this);this.h=l.h;this.s=l.s;this.v=l.v;this.hex=this.rgbToHex(this)},setHsl:function(h,l,n){this.h=h;this.s=l;this.l=n;var d=this.hslToRgb(this);this.r=d.r;this.g=d.g;this.b=d.b;this.hex=this.rgbToHex(d)},setHsv:function(h,l,n){this.h=h;this.s=l;this.v=n;var d=this.hsvToRgb(this);this.r=d.r;this.g=d.g;this.b=d.b;this.hex=this.rgbToHex(d)},setHex:function(l){this.hex=l;var d=this.hexToRgb(this.hex);this.r=d.r;this.g=d.g;this.b=d.b;var h=this.rgbToHsv(d);this.h=h.h;this.s=h.s;this.v=h.v}};if(e){if(e.hex){var f=a.validateHex(e.hex);a.setHex(f)}else{if(e.r){a.setRgb(e.r,e.g,e.b)}else{if(e.h){a.setHsv(e.h,e.s,e.v)}else{if(e.rgb){a.setRgb(e.rgb.r,e.rgb.g,e.rgb.b)}}}}}return a}})(jqxBaseFramework);(function(c){c.jqx.jqxWidget("jqxSwitchButton","",{});c.extend(c.jqx._jqxSwitchButton.prototype,{defineInstance:function(){var a={disabled:false,checked:false,onLabel:"On",offLabel:"Off",toggleMode:"default",animationDuration:250,width:90,height:30,animationEnabled:true,thumbSize:"40%",orientation:"horizontal",switchRatio:"50%",metroMode:false,_isMouseDown:false,rtl:false,_dimensions:{horizontal:{size:"width",opSize:"height",oSize:"outerWidth",opOSize:"outerHeight",pos:"left",oPos:"top",opposite:"vertical"},vertical:{size:"height",opSize:"width",oSize:"outerHeight",opOSize:"outerWidth",pos:"top",oPos:"left",opposite:"horizontal"}},_touchEvents:{mousedown:"touchstart",click:"touchend",mouseup:"touchend",mousemove:"touchmove",mouseenter:"mouseenter",mouseleave:"mouseleave"},_borders:{},_isTouchDevice:false,_distanceRequired:3,_isDistanceTraveled:false,_thumb:undefined,_onLabel:undefined,_offLabel:undefined,_wrapper:undefined,_animationActive:false,aria:{"aria-checked":{name:"checked",type:"boolean"},"aria-disabled":{name:"disabled",type:"boolean"}},_events:["checked","unchecked","change"]};c.extend(true,this,a);return a},createInstance:function(a){if(this.element.nodeName){if(this.element.nodeName=="INPUT"||this.element.nodeName=="BUTTON"){throw"jqxSwitchButton can be rendered only from a DIV tag."}}this.host.attr("role","checkbox");c.jqx.aria(this);this.render();var d=this;c.jqx.utilities.resize(this.host,function(){d.element.innerHTML="";d.render()})},resize:function(d,a){this.width=d;this.height=a;this.render()},render:function(){this.innerHTML="";if(this.theme&&this.theme!=""&&(this.theme.indexOf("metro")!=-1||this.theme.indexOf("windowsphone")!=-1||this.theme.indexOf("office")!=-1)){if(this.thumbSize=="40%"){this.thumbSize=12}this.metroMode=true}var d=c.data(document.body,"jqx-switchbutton")||1;this._idHandler(d);c.data(document.body,"jqx-draggables",++d);this._isTouchDevice=c.jqx.mobile.isTouchDevice();this.switchRatio=parseInt(this.switchRatio,10);this._render();this._addClasses();this._performLayout();this._removeEventHandlers();this._addEventHandles();this._disableSelection();var a=this;if(!this.checked){this._switchButton(false,0,true)}if(this.disabled){this.element.disabled=true}},setOnLabel:function(a){this._onLabel.html('<div style="display: inline-block;">'+a+"</div>");this._centerLabels()},setOffLabel:function(a){this._offLabel.html('<div style="display: inline-block;">'+a+"</div>");this._centerLabels()},toggle:function(){if(this.checked){this.uncheck()}else{this.check()}},val:function(a){if(arguments.length==0||(a!=null&&typeof(a)=="object")){return this.checked}if(typeof a=="string"){if(a=="true"){this.check()}if(a=="false"){this.uncheck()}if(a==""){this.indeterminate()}}else{if(a==true){this.check()}if(a==false){this.uncheck()}if(a==null){this.indeterminate()}}return this.checked},uncheck:function(){var a=this;this._switchButton(false);c.jqx.aria(this,"aria-checked",this.checked)},check:function(){var a=this;this._switchButton(true);c.jqx.aria(this,"aria-checked",this.checked)},_idHandler:function(a){if(!this.element.id){var d="jqx-switchbutton-"+a;this.element.id=d}},_dir:function(a){return this._dimensions[this.orientation][a]},_getEvent:function(d){if(this._isTouchDevice){var a=this._touchEvents[d];return c.jqx.mobile.getTouchEventName(a)}else{return d}},_render:function(){this._thumb=c("<div/>");this._onLabel=c("<div/>");this._offLabel=c("<div/>");this._wrapper=c("<div/>");this._onLabel.appendTo(this.host);this._thumb.appendTo(this.host);this._offLabel.appendTo(this.host);this.host.wrapInner(this._wrapper);this._wrapper=this.host.children();this.setOnLabel(this.onLabel);this.setOffLabel(this.offLabel)},_addClasses:function(){var f=this._thumb,e=this._onLabel,a=this._offLabel;this.host.addClass(this.toThemeProperty("jqx-switchbutton"));this.host.addClass(this.toThemeProperty("jqx-widget"));this.host.addClass(this.toThemeProperty("jqx-widget-content"));this._wrapper.addClass(this.toThemeProperty("jqx-switchbutton-wrapper"));f.addClass(this.toThemeProperty("jqx-fill-state-normal"));f.addClass(this.toThemeProperty("jqx-switchbutton-thumb"));e.addClass(this.toThemeProperty("jqx-switchbutton-label-on"));e.addClass(this.toThemeProperty("jqx-switchbutton-label"));a.addClass(this.toThemeProperty("jqx-switchbutton-label-off"));a.addClass(this.toThemeProperty("jqx-switchbutton-label"));if(this.checked){this.host.addClass(this.toThemeProperty("jqx-switchbutton-on"))}else{this.host.removeClass(this.toThemeProperty("jqx-switchbutton-on"))}},_performLayout:function(){var o=this.host,s=this._dir("opSize"),q=this._dir("size"),l=this._wrapper,t;o.css({width:this.width,height:this.height});l.css(s,o[s]());this._thumbLayout();this._labelsLayout();t=this._borders[this._dir("opposite")];l.css(q,o[q]()+this._offLabel[this._dir("oSize")]()+t);l.css(s,o[s]());if(this.metroMode||(this.theme&&this.theme!=""&&(this.theme.indexOf("metro")!=-1||this.theme.indexOf("office")!=-1))){var u=this._thumb,n=this._onLabel,a=this._offLabel;n.css("position","relative");n.css("top","1px");n.css("margin-left","1px");a.css("position","relative");a.css("top","1px");a.css("left","-2px");a.css("margin-right","1px");a.height(n.height()-2);a.width(n.width()-3);n.height(n.height()-2);n.width(n.width()-3);this._thumb[this._dir("size")](this.thumbSize+3);this._thumb.css("top","-1px");this._thumb[this._dir("opSize")](o[this._dir("opSize")]()+2);this._thumb.css("position","relative");this.host.css("overflow","hidden");if(this.checked){this._onLabel.css("visibility","visible");this._offLabel.css("visibility","hidden");this._thumb.css("left","0px")}else{this._onLabel.css("visibility","hidden");this._offLabel.css("visibility","visible");this._thumb.css("left","-2px")}}},_thumbLayout:function(){var n=this.thumbSize,l=this.host,a=0,h={horizontal:0,vertical:0},o=this;if(n.toString().indexOf("%")>=0){n=l[this._dir("size")]()*parseInt(n,10)/100}this._thumb[this._dir("size")](n);this._thumb[this._dir("opSize")](l[this._dir("opSize")]());this._handleThumbBorders()},_handleThumbBorders:function(){this._borders.horizontal=parseInt(this._thumb.css("border-left-width"),10)||0;this._borders.horizontal+=parseInt(this._thumb.css("border-right-width"),10)||0;this._borders.vertical=parseInt(this._thumb.css("border-top-width"),10)||0;this._borders.vertical+=parseInt(this._thumb.css("border-bottom-width"),10)||0;var a=this._borders[this._dir("opposite")];if(this.orientation==="horizontal"){this._thumb.css("margin-top",-a/2);this._thumb.css("margin-left",0)}else{this._thumb.css("margin-left",-a/2);this._thumb.css("margin-top",0)}},_labelsLayout:function(){var n=this.host,t=this._thumb,q=this._dir("opSize"),l=this._dir("size"),a=this._dir("oSize"),o=n[l]()-t[a](),s=this._borders[this._dir("opposite")]/2;this._onLabel[l](o+s);this._offLabel[l](o+s);if(this.rtl){this._onLabel[l](o+2*s)}this._onLabel[q](n[q]());this._offLabel[q](n[q]());this._orderLabels();this._centerLabels()},_orderLabels:function(){if(this.orientation==="horizontal"){var a="left";if(this.rtl){a="right"}this._onLabel.css("float",a);this._thumb.css("float",a);this._offLabel.css("float",a)}else{this._onLabel.css("display","block");this._offLabel.css("display","block")}},_centerLabels:function(){var t=this._onLabel.children("div"),a=this._offLabel.children("div"),q=t.parent(),o=q.height(),n=t.outerHeight(),s=this._borders[this.orientation]/2||0;if(n==0){n=14}var l=Math.floor((o-n)/2)+s;t.css("margin-top",l);a.css("margin-top",l)},_removeEventHandlers:function(){var a="."+this.element.id;this.removeHandler(this._wrapper,this._getEvent("click")+a,this._clickHandle);this.removeHandler(this._thumb,this._getEvent("mousedown")+a,this._mouseDown);this.removeHandler(c(document),this._getEvent("mouseup")+a,this._mouseUp);this.removeHandler(c(document),this._getEvent("mousemove")+a,this._mouseMove);this.removeHandler(this._thumb,"mouseenter"+a);this.removeHandler(this._thumb,"mouseleave"+a)},_addEventHandles:function(){var d="."+this.element.id,a=this;this.addHandler(this._thumb,"mouseenter"+d,function(){a._thumb.addClass(a.toThemeProperty("jqx-fill-state-hover"))});this.addHandler(this._thumb,"mouseleave"+d,function(){a._thumb.removeClass(a.toThemeProperty("jqx-fill-state-hover"))});this.addHandler(this._wrapper,this._getEvent("click")+d,this._clickHandle,{self:this});this.addHandler(this._thumb,this._getEvent("mousedown")+d,this._mouseDown,{self:this});this.addHandler(c(document),this._getEvent("mouseup")+d,this._mouseUp,{self:this});this.addHandler(c(document),this._getEvent("mousemove")+d,this._mouseMove,{self:this})},enable:function(){this.disabled=false;this.element.disabled=false;c.jqx.aria(this,"aria-disabled",this.disabled)},disable:function(){this.disabled=true;this.element.disabled=true;c.jqx.aria(this,"aria-disabled",this.disabled)},_clickHandle:function(d){var a=d.data.self;if((a.toggleMode==="click"||a.toggleMode==="default")&&!a.disabled){if(!a._isDistanceTraveled&&!a._dragged){a._wrapper.stop();a.toggle()}}a._thumb.removeClass(a.toThemeProperty("jqx-fill-state-pressed"))},_mouseDown:function(f){var a=f.data.self,e=a._wrapper;if(a.metroMode){a.host.css("overflow","hidden");a._onLabel.css("visibility","visible");a._offLabel.css("visibility","visible")}a._mouseStartPosition=a._getMouseCoordinates(f);a._buttonStartPosition={left:parseInt(e.css("margin-left"),10)||0,top:parseInt(e.css("margin-top"),10)||0};if(!a.disabled&&(a.toggleMode==="slide"||a.toggleMode==="default")){a._wrapper.stop();a._isMouseDown=true;a._isDistanceTraveled=false;a._dragged=false}a._thumb.addClass(a.toThemeProperty("jqx-fill-state-pressed"))},_mouseUp:function(n){var o=n.data.self;if(o.metroMode){}o._isMouseDown=false;o._thumb.removeClass(o.toThemeProperty("jqx-fill-state-pressed"));if(!o._isDistanceTraveled){return}var h=o._wrapper,a=parseInt(h.css("margin-"+o._dir("pos")),10)||0,l=o._dropHandler(a);if(l){o._switchButton(!o.checked)}else{o._switchButton(o.checked,null,true)}o._isDistanceTraveled=false},_mouseMove:function(o){var s=o.data.self,a=s._getMouseCoordinates(o);if(s._isMouseDown&&s._distanceTraveled(a)){var q=s._dir("pos"),l=s._wrapper,t=s._buttonStartPosition[q],n=t+a[q]-s._mouseStartPosition[q],n=s._validatePosition(n);s._dragged=true;l.css("margin-"+s._dir("pos"),n);s._onLabel.css("visibility","visible");s._offLabel.css("visibility","visible");return false}},_distanceTraveled:function(a){if(this._isDistanceTraveled){return true}else{if(!this._isMouseDown){return false}else{var e=this._mouseStartPosition,f=this._distanceRequired;this._isDistanceTraveled=Math.abs(a.left-e.left)>=f||Math.abs(a.top-e.top)>=f;return this._isDistanceTraveled}}},_validatePosition:function(l){var h=this._borders[this._dir("opposite")],a=0,f=-(this.host[this._dir("size")]()-this._thumb[this._dir("oSize")]())-h;if(a<l){return a}if(f>l){return f}return l},_dropHandler:function(q){var a=0,o=-(this.host[this._dir("size")]()-this._thumb[this._dir("oSize")]()),h=Math.abs(o-a),n=Math.abs(q-this._buttonStartPosition[this._dir("pos")]),l=h*(this.switchRatio/100);if(n>=l){return true}return false},_switchButton:function(u,n,o){if(this.metroMode){this.host.css("overflow","hidden");this._onLabel.css("visibility","visible");this._offLabel.css("visibility","visible");if(u){this._thumb.css("left","0px")}else{this._thumb.css("left","-2px")}}else{this._onLabel.css("visibility","visible");this._offLabel.css("visibility","visible")}var l=this._wrapper,t=this,q={},s=this._borders[this._dir("opposite")],a=0;if(typeof n==="undefined"){n=(this.animationEnabled?this.animationDuration:0)}if(!this.rtl){if(!u){a=this.host[this._dir("size")]()-this._thumb[this._dir("oSize")]()+s}}else{if(u){a=this.host[this._dir("size")]()-this._thumb[this._dir("oSize")]()+s;if(this.metroMode){a+=5}}else{if(this.metroMode){a-=3}}}q["margin-"+this._dir("pos")]=-a;if(u){t.host.addClass(t.toThemeProperty("jqx-switchbutton-on"))}else{t.host.removeClass(t.toThemeProperty("jqx-switchbutton-on"))}l.animate(q,n,function(){if(u){t._onLabel.css("visibility","visible");t._offLabel.css("visibility","hidden")}else{t._onLabel.css("visibility","hidden");t._offLabel.css("visibility","visible")}t.checked=u;if(!o){t._handleEvent(!u)}})},_handleEvent:function(a){if(a!==this.checked){this._raiseEvent(2,{check:this.checked,checked:this.checked})}if(a){this._raiseEvent(0,{checked:this.checked})}else{this._raiseEvent(1,{checked:this.checked})}},_disableSelection:function(){var d=this.host,a=d.find("*");c.each(a,function(h,f){f.onselectstart=function(){return false};c(f).addClass("jqx-disableselect")})},_getMouseCoordinates:function(a){if(this._isTouchDevice){return{left:a.originalEvent.touches[0].pageX,top:a.originalEvent.touches[0].pageY}}else{return{left:a.pageX,top:a.pageY}}},destroy:function(){this._removeEventHandlers();this.host.removeClass(this.toThemeProperty("jqx-switchbutton"));this._wrapper.remove()},_raiseEvent:function(e,a){var f=c.Event(this._events[e]);f.args=a;return this.host.trigger(f)},_themeChanger:function(q,o,s){if(!q){return}if(typeof s==="undefined"){s=this.host}var n=s[0].className.split(" "),a=[],l=[],t=s.children();for(var u=0;u<n.length;u+=1){if(n[u].indexOf(q)>=0){a.push(n[u]);l.push(n[u].replace(q,o))}}this._removeOldClasses(a,s);this._addNewClasses(l,s);for(var u=0;u<t.length;u+=1){this._themeChanger(q,o,c(t[u]))}},_removeOldClasses:function(e,f){for(var a=0;a<e.length;a+=1){f.removeClass(e[a])}},_addNewClasses:function(e,f){for(var a=0;a<e.length;a+=1){f.addClass(e[a])}},propertyChangedHandler:function(a,l,f,h){switch(l){case"disabled":if(h){this.disable()}else{this.enable()}break;case"switchRatio":this.switchRatio=parseInt(this.switchRatio,10);break;case"checked":if(h){this.check()}else{this.uncheck()}break;case"onLabel":this.setOnLabel(h);break;case"offLabel":this.setOffLabel(h);break;case"theme":c.jqx.utilities.setTheme(f,h,a.host);break;case"width":case"height":case"thumbSize":case"orientation":this._wrapper.css("margin-left","0px");this._wrapper.css("margin-top","0px");this._performLayout();this._wrapper.css("left","0px");this._wrapper.css("top","0px");this._switchButton(this.checked,0,true);break}}})})(jqxBaseFramework);(function(c){c.jqx.jqxWidget("jqxScrollBar","",{});c.extend(c.jqx._jqxScrollBar.prototype,{defineInstance:function(){var a={height:null,width:null,vertical:false,min:0,max:1000,value:0,step:10,largestep:50,thumbMinSize:10,thumbSize:0,thumbStep:"auto",roundedCorners:"all",showButtons:true,disabled:false,touchMode:"auto",touchModeStyle:"auto",thumbTouchSize:0,_triggervaluechanged:true,rtl:false,areaDownCapture:false,areaUpCapture:false,_initialLayout:false};c.extend(true,this,a);return a},createInstance:function(a){this.render()},render:function(){this._mouseup=new Date();var l=this;var h="<div id='jqxScrollOuterWrap' style='box-sizing: content-box; width:100%; height: 100%; align:left; border: 0px; valign:top; position: relative;'><div id='jqxScrollWrap' style='box-sizing: content-box; width:100%; height: 100%; left: 0px; top: 0px; align:left; valign:top; position: absolute;'><div id='jqxScrollBtnUp' style='box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'><div></div></div><div id='jqxScrollAreaUp' style='box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='jqxScrollThumb' style='box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='jqxScrollAreaDown' style='box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='jqxScrollBtnDown' style='box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'><div></div></div></div></div>";if(c.jqx.utilities&&c.jqx.utilities.scrollBarButtonsVisibility=="hidden"){this.showButtons=false}if(l.WinJS){MSApp.execUnsafeLocalFunction(function(){l.host.html(h)})}else{this.element.innerHTML=h}if(this.width!=undefined&&parseInt(this.width)>0){this.host.width(parseInt(this.width))}if(this.height!=undefined&&parseInt(this.height)>0){this.host.height(parseInt(this.height))}this.isPercentage=false;if(this.width!=null&&this.width.toString().indexOf("%")!=-1){this.host.width(this.width);this.isPercentage=true}if(this.height!=null&&this.height.toString().indexOf("%")!=-1){this.host.height(this.height);this.isPercentage=true}if(this.isPercentage){var f=this;c.jqx.utilities.resize(this.host,function(){f._arrange()},false)}this.thumbCapture=false;this.scrollOuterWrap=c(this.element.firstChild);this.scrollWrap=c(this.scrollOuterWrap[0].firstChild);this.btnUp=c(this.scrollWrap[0].firstChild);this.areaUp=c(this.btnUp[0].nextSibling);this.btnThumb=c(this.areaUp[0].nextSibling);this.arrowUp=c(this.btnUp[0].firstChild);this.areaDown=c(this.btnThumb[0].nextSibling);this.btnDown=c(this.areaDown[0].nextSibling);this.arrowDown=c(this.btnDown[0].firstChild);var a=this.element.id;this.btnUp[0].id="jqxScrollBtnUp"+a;this.btnDown[0].id="jqxScrollBtnDown"+a;this.btnThumb[0].id="jqxScrollThumb"+a;this.areaUp[0].id="jqxScrollAreaUp"+a;this.areaDown[0].id="jqxScrollAreaDown"+a;this.scrollWrap[0].id="jqxScrollWrap"+a;this.scrollOuterWrap[0].id="jqxScrollOuterWrap"+a;if(!this.host.jqxRepeatButton){throw new Error("jqxScrollBar: Missing reference to jqxbuttons.js.");return}this.btnUp.jqxRepeatButton({_ariaDisabled:true,overrideTheme:true,disabled:this.disabled});this.btnDown.jqxRepeatButton({_ariaDisabled:true,overrideTheme:true,disabled:this.disabled});this.btnDownInstance=c.data(this.btnDown[0],"jqxRepeatButton").instance;this.btnUpInstance=c.data(this.btnUp[0],"jqxRepeatButton").instance;this.areaUp.jqxRepeatButton({_scrollAreaButton:true,_ariaDisabled:true,overrideTheme:true});this.areaDown.jqxRepeatButton({_scrollAreaButton:true,_ariaDisabled:true,overrideTheme:true});this.btnThumb.jqxButton({_ariaDisabled:true,overrideTheme:true,disabled:this.disabled});this.propertyChangeMap.value=function(o,e,n,d){if(!(isNaN(d))){if(n!=d){o.setPosition(parseFloat(d),true)}}};this.propertyChangeMap.width=function(o,e,n,d){if(o.width!=undefined&&parseInt(o.width)>0){o.host.width(parseInt(o.width));o._arrange()}};this.propertyChangeMap.height=function(o,e,n,d){if(o.height!=undefined&&parseInt(o.height)>0){o.host.height(parseInt(o.height));o._arrange()}};this.propertyChangeMap.theme=function(o,e,n,d){o.setTheme()};this.propertyChangeMap.max=function(o,e,n,d){if(!(isNaN(d))){if(n!=d){o.max=parseInt(d);if(o.min>o.max){o.max=o.min+1}o._arrange();o.setPosition(o.value)}}};this.propertyChangeMap.min=function(o,e,n,d){if(!(isNaN(d))){if(n!=d){o.min=parseInt(d);if(o.min>o.max){o.max=o.min+1}o._arrange();o.setPosition(o.value)}}};this.propertyChangeMap.disabled=function(o,e,n,d){if(n!=d){if(d){o.host.addClass(o.toThemeProperty("jqx-fill-state-disabled"))}else{o.host.removeClass(o.toThemeProperty("jqx-fill-state-disabled"))}o.btnUp.jqxRepeatButton("disabled",o.disabled);o.btnDown.jqxRepeatButton("disabled",o.disabled);o.btnThumb.jqxButton("disabled",o.disabled)}};this.propertyChangeMap.touchMode=function(o,e,n,d){if(n!=d){o._updateTouchBehavior();if(d===true){o.showButtons=false;o.refresh()}else{if(d===false){o.showButtons=true;o.refresh()}}}};this.propertyChangeMap.rtl=function(o,e,n,d){if(n!=d){o.refresh()}};this.buttonUpCapture=false;this.buttonDownCapture=false;this._updateTouchBehavior();this.setPosition(this.value);this._addHandlers();this.setTheme()},resize:function(d,a){this.width=d;this.height=a;this._arrange()},_updateTouchBehavior:function(){this.isTouchDevice=c.jqx.mobile.isTouchDevice();if(this.touchMode==true){if(c.jqx.browser.msie&&c.jqx.browser.version<9){this.setTheme();return}this.isTouchDevice=true;c.jqx.mobile.setMobileSimulator(this.btnThumb[0]);this._removeHandlers();this._addHandlers();this.setTheme()}else{if(this.touchMode==false){this.isTouchDevice=false}}},_addHandlers:function(){var a=this;var s=false;try{if(("ontouchstart" in window)||window.DocumentTouch&&document instanceof DocumentTouch){s=true;this._touchSupport=true}}catch(q){}if(a.isTouchDevice||s){this.addHandler(this.btnThumb,c.jqx.mobile.getTouchEventName("touchend"),function(f){var e=a.vertical?a.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):a.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal");var d=a.toThemeProperty("jqx-fill-state-pressed");a.btnThumb.removeClass(e);a.btnThumb.removeClass(d);if(!a.disabled){a.handlemouseup(a,f)}return false});this.addHandler(this.btnThumb,c.jqx.mobile.getTouchEventName("touchstart"),function(e){if(!a.disabled){if(a.touchMode==true){e.clientX=e.originalEvent.clientX;e.clientY=e.originalEvent.clientY}else{var d=e;if(d.originalEvent.touches&&d.originalEvent.touches.length){e.clientX=d.originalEvent.touches[0].clientX;e.clientY=d.originalEvent.touches[0].clientY}else{e.clientX=e.originalEvent.clientX;e.clientY=e.originalEvent.clientY}}a.handlemousedown(e);if(e.preventDefault){e.preventDefault()}}});c.jqx.mobile.touchScroll(this.element,a.max,function(h,w,e,f,d){if(a.host.css("visibility")=="visible"){if(a.touchMode==true){d.clientX=d.originalEvent.clientX;d.clientY=d.originalEvent.clientY}else{var z=d;if(z.originalEvent.touches&&z.originalEvent.touches.length){d.clientX=z.originalEvent.touches[0].clientX;d.clientY=z.originalEvent.touches[0].clientY}else{d.clientX=d.originalEvent.clientX;d.clientY=d.originalEvent.clientY}}var A=a.vertical?a.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):a.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal");a.btnThumb.addClass(A);a.btnThumb.addClass(a.toThemeProperty("jqx-fill-state-pressed"));a.thumbCapture=true;a.handlemousemove(d)}},a.element.id)}if(!this.isTouchDevice){try{if(document.referrer!=""||window.frameElement){if(window.top!=null&&window.top!=window.self){var v=null;if(window.parent&&document.referrer){v=document.referrer}if(v&&v.indexOf(document.location.host)!=-1){var o=function(d){if(!a.disabled){a.handlemouseup(a,d)}};if(window.top.document.addEventListener){window.top.document.addEventListener("mouseup",o,false)}else{if(window.top.document.attachEvent){window.top.document.attachEvent("onmouseup",o)}}}}}}catch(l){}var u="click mouseup mousedown";this.addHandler(this.btnDown,u,function(d){var e=a.step;if(Math.abs(a.max-a.min)<=e){e=1}if(a.rtl&&!a.vertical){e=-a.step}switch(d.type){case"click":if(a.buttonDownCapture&&!a.isTouchDevice){if(!a.disabled){a.setPosition(a.value+e)}}else{if(!a.disabled&&a.isTouchDevice){a.setPosition(a.value+e)}}break;case"mouseup":if(!a.btnDownInstance.base.disabled&&a.buttonDownCapture){a.buttonDownCapture=false;a.btnDown.removeClass(a.toThemeProperty("jqx-scrollbar-button-state-pressed"));a.btnDown.removeClass(a.toThemeProperty("jqx-fill-state-pressed"));a._removeArrowClasses("pressed","down");a.handlemouseup(a,d);a.setPosition(a.value+e);return false}break;case"mousedown":if(!a.btnDownInstance.base.disabled){a.buttonDownCapture=true;a.btnDown.addClass(a.toThemeProperty("jqx-fill-state-pressed"));a.btnDown.addClass(a.toThemeProperty("jqx-scrollbar-button-state-pressed"));a._addArrowClasses("pressed","down");return false}break}});this.addHandler(this.btnUp,u,function(d){var e=a.step;if(Math.abs(a.max-a.min)<=e){e=1}if(a.rtl&&!a.vertical){e=-a.step}switch(d.type){case"click":if(a.buttonUpCapture&&!a.isTouchDevice){if(!a.disabled){a.setPosition(a.value-e)}}else{if(!a.disabled&&a.isTouchDevice){a.setPosition(a.value-e)}}break;case"mouseup":if(!a.btnUpInstance.base.disabled&&a.buttonUpCapture){a.buttonUpCapture=false;a.btnUp.removeClass(a.toThemeProperty("jqx-scrollbar-button-state-pressed"));a.btnUp.removeClass(a.toThemeProperty("jqx-fill-state-pressed"));a._removeArrowClasses("pressed","up");a.handlemouseup(a,d);a.setPosition(a.value-e);return false}break;case"mousedown":if(!a.btnUpInstance.base.disabled){a.buttonUpCapture=true;a.btnUp.addClass(a.toThemeProperty("jqx-fill-state-pressed"));a.btnUp.addClass(a.toThemeProperty("jqx-scrollbar-button-state-pressed"));a._addArrowClasses("pressed","up");return false}break}})}var n="click";if(this.isTouchDevice){n=c.jqx.mobile.getTouchEventName("touchend")}this.addHandler(this.areaUp,n,function(d){if(!a.disabled){var e=a.largestep;if(a.rtl&&!a.vertical){e=-a.largestep}a.setPosition(a.value-e);return false}});this.addHandler(this.areaDown,n,function(d){if(!a.disabled){var e=a.largestep;if(a.rtl&&!a.vertical){e=-a.largestep}a.setPosition(a.value+e);return false}});this.addHandler(this.areaUp,"mousedown",function(d){if(!a.disabled){a.areaUpCapture=true;return false}});this.addHandler(this.areaDown,"mousedown",function(d){if(!a.disabled){a.areaDownCapture=true;return false}});this.addHandler(this.btnThumb,"mousedown dragstart",function(d){if(d.type==="dragstart"){return false}if(!a.disabled){a.handlemousedown(d)}if(d.preventDefault){d.preventDefault()}});this.addHandler(c(document),"mouseup."+this.element.id,function(d){if(!a.disabled){a.handlemouseup(a,d)}});if(!this.isTouchDevice){this.mousemoveFunc=function(d){if(!a.disabled){a.handlemousemove(d)}};this.addHandler(c(document),"mousemove."+this.element.id,this.mousemoveFunc);this.addHandler(c(document),"mouseleave."+this.element.id,function(d){if(!a.disabled){a.handlemouseleave(d)}});this.addHandler(c(document),"mouseenter."+this.element.id,function(d){if(!a.disabled){a.handlemouseenter(d)}});if(!a.disabled){this.addHandler(this.btnUp,"mouseenter mouseleave",function(d){if(d.type==="mouseenter"){if(!a.disabled&&!a.btnUpInstance.base.disabled&&a.touchMode!=true){a.btnUp.addClass(a.toThemeProperty("jqx-scrollbar-button-state-hover"));a.btnUp.addClass(a.toThemeProperty("jqx-fill-state-hover"));a._addArrowClasses("hover","up")}}else{if(!a.disabled&&!a.btnUpInstance.base.disabled&&a.touchMode!=true){a.btnUp.removeClass(a.toThemeProperty("jqx-scrollbar-button-state-hover"));a.btnUp.removeClass(a.toThemeProperty("jqx-fill-state-hover"));a._removeArrowClasses("hover","up")}}});var t=a.toThemeProperty("jqx-scrollbar-thumb-state-hover");if(!a.vertical){t=a.toThemeProperty("jqx-scrollbar-thumb-state-hover-horizontal")}this.addHandler(this.btnThumb,"mouseenter mouseleave",function(d){if(d.type==="mouseenter"){if(!a.disabled&&a.touchMode!=true){a.btnThumb.addClass(t);a.btnThumb.addClass(a.toThemeProperty("jqx-fill-state-hover"))}}else{if(!a.disabled&&a.touchMode!=true){a.btnThumb.removeClass(t);a.btnThumb.removeClass(a.toThemeProperty("jqx-fill-state-hover"))}}});this.addHandler(this.btnDown,"mouseenter mouseleave",function(d){if(d.type==="mouseenter"){if(!a.disabled&&!a.btnDownInstance.base.disabled&&a.touchMode!=true){a.btnDown.addClass(a.toThemeProperty("jqx-scrollbar-button-state-hover"));a.btnDown.addClass(a.toThemeProperty("jqx-fill-state-hover"));a._addArrowClasses("hover","down")}}else{if(!a.disabled&&!a.btnDownInstance.base.disabled&&a.touchMode!=true){a.btnDown.removeClass(a.toThemeProperty("jqx-scrollbar-button-state-hover"));a.btnDown.removeClass(a.toThemeProperty("jqx-fill-state-hover"));a._removeArrowClasses("hover","down")}}})}}},destroy:function(){var a=this.btnUp;var o=this.btnDown;var s=this.btnThumb;var t=this.scrollWrap;var l=this.areaUp;var q=this.areaDown;this.arrowUp.remove();delete this.arrowUp;this.arrowDown.remove();delete this.arrowDown;q.removeClass();l.removeClass();o.removeClass();a.removeClass();s.removeClass();a.jqxRepeatButton("destroy");o.jqxRepeatButton("destroy");l.jqxRepeatButton("destroy");q.jqxRepeatButton("destroy");s.jqxButton("destroy");var n=c.data(this.element,"jqxScrollBar");this._removeHandlers();this.btnUp=null;this.btnDown=null;this.scrollWrap=null;this.areaUp=null;this.areaDown=null;this.scrollOuterWrap=null;delete this.mousemoveFunc;delete this.btnDownInstance;delete this.btnUpInstance;delete this.scrollOuterWrap;delete this.scrollWrap;delete this.btnDown;delete this.areaDown;delete this.areaUp;delete this.btnDown;delete this.btnUp;delete this.btnThumb;delete this.propertyChangeMap.value;delete this.propertyChangeMap.min;delete this.propertyChangeMap.max;delete this.propertyChangeMap.touchMode;delete this.propertyChangeMap.disabled;delete this.propertyChangeMap.theme;delete this.propertyChangeMap;if(n){delete n.instance}this.host.removeData();this.host.remove();delete this.host;delete this.set;delete this.get;delete this.call;delete this.element},_removeHandlers:function(){this.removeHandler(this.btnUp,"mouseenter");this.removeHandler(this.btnDown,"mouseenter");this.removeHandler(this.btnThumb,"mouseenter");this.removeHandler(this.btnUp,"mouseleave");this.removeHandler(this.btnDown,"mouseleave");this.removeHandler(this.btnThumb,"mouseleave");this.removeHandler(this.btnUp,"click");this.removeHandler(this.btnDown,"click");this.removeHandler(this.btnDown,"mouseup");this.removeHandler(this.btnUp,"mouseup");this.removeHandler(this.btnDown,"mousedown");this.removeHandler(this.btnUp,"mousedown");this.removeHandler(this.areaUp,"mousedown");this.removeHandler(this.areaDown,"mousedown");this.removeHandler(this.areaUp,"click");this.removeHandler(this.areaDown,"click");this.removeHandler(this.btnThumb,"mousedown");this.removeHandler(this.btnThumb,"dragstart");this.removeHandler(c(document),"mouseup."+this.element.id);if(!this.mousemoveFunc){this.removeHandler(c(document),"mousemove."+this.element.id)}else{this.removeHandler(c(document),"mousemove."+this.element.id,this.mousemoveFunc)}this.removeHandler(c(document),"mouseleave."+this.element.id);this.removeHandler(c(document),"mouseenter."+this.element.id);var a=this},_addArrowClasses:function(d,a){if(d=="pressed"){d="selected"}if(d!=""){d="-"+d}if(this.vertical){if(a=="up"||a==undefined){this.arrowUp.addClass(this.toThemeProperty("jqx-icon-arrow-up"+d))}if(a=="down"||a==undefined){this.arrowDown.addClass(this.toThemeProperty("jqx-icon-arrow-down"+d))}}else{if(a=="up"||a==undefined){this.arrowUp.addClass(this.toThemeProperty("jqx-icon-arrow-left"+d))}if(a=="down"||a==undefined){this.arrowDown.addClass(this.toThemeProperty("jqx-icon-arrow-right"+d))}}},_removeArrowClasses:function(d,a){if(d=="pressed"){d="selected"}if(d!=""){d="-"+d}if(this.vertical){if(a=="up"||a==undefined){this.arrowUp.removeClass(this.toThemeProperty("jqx-icon-arrow-up"+d))}if(a=="down"||a==undefined){this.arrowDown.removeClass(this.toThemeProperty("jqx-icon-arrow-down"+d))}}else{if(a=="up"||a==undefined){this.arrowUp.removeClass(this.toThemeProperty("jqx-icon-arrow-left"+d))}if(a=="down"||a==undefined){this.arrowDown.removeClass(this.toThemeProperty("jqx-icon-arrow-right"+d))}}},setTheme:function(){var t=this.btnUp;var v=this.btnDown;var s=this.btnThumb;var F=this.scrollWrap;var D=this.areaUp;var C=this.areaDown;var E=this.arrowUp;var B=this.arrowDown;this.scrollWrap[0].className=this.toThemeProperty("jqx-reset");this.scrollOuterWrap[0].className=this.toThemeProperty("jqx-reset");var z=this.toThemeProperty("jqx-reset");this.areaDown[0].className=z;this.areaUp[0].className=z;var G=this.toThemeProperty("jqx-scrollbar")+" "+this.toThemeProperty("jqx-widget")+" "+this.toThemeProperty("jqx-widget-content");this.host.addClass(G);v[0].className=this.toThemeProperty("jqx-scrollbar-button-state-normal");t[0].className=this.toThemeProperty("jqx-scrollbar-button-state-normal");var a="";if(this.vertical){E[0].className=z+" "+this.toThemeProperty("jqx-icon-arrow-up");B[0].className=z+" "+this.toThemeProperty("jqx-icon-arrow-down");a=this.toThemeProperty("jqx-scrollbar-thumb-state-normal")}else{E[0].className=z+" "+this.toThemeProperty("jqx-icon-arrow-left");B[0].className=z+" "+this.toThemeProperty("jqx-icon-arrow-right");a=this.toThemeProperty("jqx-scrollbar-thumb-state-normal-horizontal")}a+=" "+this.toThemeProperty("jqx-fill-state-normal");s[0].className=a;if(this.disabled){F.addClass(this.toThemeProperty("jqx-fill-state-disabled"));F.removeClass(this.toThemeProperty("jqx-scrollbar-state-normal"))}else{F.addClass(this.toThemeProperty("jqx-scrollbar-state-normal"));F.removeClass(this.toThemeProperty("jqx-fill-state-disabled"))}if(this.roundedCorners=="all"){this.host.addClass(this.toThemeProperty("jqx-rc-all"));if(this.vertical){var A=c.jqx.cssroundedcorners("top");A=this.toThemeProperty(A);t.addClass(A);var H=c.jqx.cssroundedcorners("bottom");H=this.toThemeProperty(H);v.addClass(H)}else{var u=c.jqx.cssroundedcorners("left");u=this.toThemeProperty(u);t.addClass(u);var w=c.jqx.cssroundedcorners("right");w=this.toThemeProperty(w);v.addClass(w)}}else{var I=c.jqx.cssroundedcorners(this.roundedCorners);I=this.toThemeProperty(I);elBtnUp.addClass(I);elBtnDown.addClass(I)}var I=c.jqx.cssroundedcorners(this.roundedCorners);I=this.toThemeProperty(I);if(!s.hasClass(I)){s.addClass(I)}if(this.isTouchDevice&&this.touchModeStyle!=false){this.showButtons=false;s.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-normal-touch"))}},isScrolling:function(){if(this.thumbCapture==undefined||this.buttonDownCapture==undefined||this.buttonUpCapture==undefined||this.areaDownCapture==undefined||this.areaUpCapture==undefined){return false}return this.thumbCapture||this.buttonDownCapture||this.buttonUpCapture||this.areaDownCapture||this.areaUpCapture},handlemousedown:function(d){if(this.thumbCapture==undefined||this.thumbCapture==false){this.thumbCapture=true;var a=this.btnThumb;if(a!=null){a.addClass(this.toThemeProperty("jqx-fill-state-pressed"));if(this.vertical){a.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed"))}else{a.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal"))}}}this.dragStartX=d.clientX;this.dragStartY=d.clientY;this.dragStartValue=this.value},toggleHover:function(d,a){},refresh:function(){this._arrange()},_setElementPosition:function(f,a,e){if(!isNaN(a)){if(parseInt(f[0].style.left)!=parseInt(a)){f[0].style.left=a+"px"}}if(!isNaN(e)){if(parseInt(f[0].style.top)!=parseInt(e)){f[0].style.top=e+"px"}}},_setElementTopPosition:function(a,d){if(!isNaN(d)){a[0].style.top=d+"px"}},_setElementLeftPosition:function(d,a){if(!isNaN(a)){d[0].style.left=a+"px"}},handlemouseleave:function(l){var a=this.btnUp;var n=this.btnDown;if(this.buttonDownCapture||this.buttonUpCapture){a.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed"));n.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed"));this._removeArrowClasses("pressed")}if(this.thumbCapture!=true){return}var o=this.btnThumb;var h=this.vertical?this.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal");o.removeClass(h);o.removeClass(this.toThemeProperty("jqx-fill-state-pressed"))},handlemouseenter:function(f){var a=this.btnUp;var h=this.btnDown;if(this.buttonUpCapture){a.addClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed"));a.addClass(this.toThemeProperty("jqx-fill-state-pressed"));this._addArrowClasses("pressed","up")}if(this.buttonDownCapture){h.addClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed"));h.addClass(this.toThemeProperty("jqx-fill-state-pressed"));this._addArrowClasses("pressed","down")}if(this.thumbCapture!=true){return}var l=this.btnThumb;if(this.vertical){l.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed"))}else{l.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal"))}l.addClass(this.toThemeProperty("jqx-fill-state-pressed"))},handlemousemove:function(A){var q=this.btnUp;var v=this.btnDown;var w=0;if(v==null||q==null){return}if(q!=null&&v!=null&&this.buttonDownCapture!=undefined&&this.buttonUpCapture!=undefined){if(this.buttonDownCapture&&A.which==w){v.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed"));v.removeClass(this.toThemeProperty("jqx-fill-state-pressed"));this._removeArrowClasses("pressed","down");this.buttonDownCapture=false}else{if(this.buttonUpCapture&&A.which==w){q.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed"));q.removeClass(this.toThemeProperty("jqx-fill-state-pressed"));this._removeArrowClasses("pressed","up");this.buttonUpCapture=false}}}if(this.thumbCapture!=true){return false}var n=this.btnThumb;if(A.which==w&&!this.isTouchDevice&&!this._touchSupport){this.thumbCapture=false;this._arrange();var o=this.vertical?this.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal");n.removeClass(o);n.removeClass(this.toThemeProperty("jqx-fill-state-pressed"));return true}if(A.preventDefault!=undefined){A.preventDefault()}if(A.originalEvent!=null){A.originalEvent.mouseHandled=true}if(A.stopPropagation!=undefined){A.stopPropagation()}var a=0;try{if(!this.vertical){a=A.clientX-this.dragStartX}else{a=A.clientY-this.dragStartY}var u=this._btnAndThumbSize;if(!this._btnAndThumbSize){u=(this.vertical)?q.height()+v.height()+n.height():q.width()+v.width()+n.width()}var t=(this.max-this.min)/(this.scrollBarSize-u);if(this.thumbStep=="auto"){a*=t}else{a*=t;if(Math.abs(this.dragStartValue+a-this.value)>=parseInt(this.thumbStep)){var z=Math.round(parseInt(a)/this.thumbStep)*this.thumbStep;if(this.rtl&&!this.vertical){this.setPosition(this.dragStartValue-z)}else{this.setPosition(this.dragStartValue+z)}return false}else{return false}}var z=a;if(this.rtl&&!this.vertical){z=-a}this.setPosition(this.dragStartValue+z)}catch(s){alert(s)}return false},handlemouseup:function(s,n){var t=false;if(this.thumbCapture){this.thumbCapture=false;var q=this.btnThumb;var l=this.vertical?this.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal");q.removeClass(l);q.removeClass(this.toThemeProperty("jqx-fill-state-pressed"));t=true;this._mouseup=new Date()}this.areaDownCapture=this.areaUpCapture=false;if(this.buttonUpCapture||this.buttonDownCapture){var a=this.btnUp;var o=this.btnDown;this.buttonUpCapture=false;this.buttonDownCapture=false;a.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed"));o.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed"));a.removeClass(this.toThemeProperty("jqx-fill-state-pressed"));o.removeClass(this.toThemeProperty("jqx-fill-state-pressed"));this._removeArrowClasses("pressed");t=true;this._mouseup=new Date()}if(t){if(n.preventDefault!=undefined){n.preventDefault()}if(n.originalEvent!=null){n.originalEvent.mouseHandled=true}if(n.stopPropagation!=undefined){n.stopPropagation()}}},setPosition:function(a,h){var o=this.element;if(a==undefined||a==NaN){a=this.min}if(a>=this.max){a=this.max}if(a<this.min){a=this.min}if(this.value!==a||h==true){if(a==this.max){var q=new c.Event("complete");this.host.trigger(q)}var l=this.value;if(this._triggervaluechanged){var n=new c.Event("valueChanged");n.previousValue=this.value;n.currentValue=a}this.value=a;this._positionelements();if(this._triggervaluechanged){this.host.trigger(n)}if(this.valueChanged){this.valueChanged({currentValue:this.value,previousvalue:l})}}return a},val:function(a){var d=function(f){for(var h in f){if(f.hasOwnProperty(h)){return false}}if(typeof a=="number"){return false}if(typeof a=="date"){return false}if(typeof a=="boolean"){return false}if(typeof a=="string"){return false}return true};if(d(a)||arguments.length==0){return this.value}else{this.setPosition(a);return a}},_getThumbSize:function(f){var a=this.max-this.min;var e=0;if(a>1){e=(f/(a+f)*f)}else{if(a==1){e=f-1}else{if(a==0){e=f}}}if(this.thumbSize>0){e=this.thumbSize}if(e<this.thumbMinSize){e=this.thumbMinSize}return Math.min(e,f)},_positionelements:function(){var B=this.element;var s=this.areaUp;var D=this.areaDown;var A=this.btnUp;var C=this.btnDown;var q=this.btnThumb;var G=this.scrollWrap;var a=this._height?this._height:this.host.height();var F=this._width?this._width:this.host.width();var u=(!this.vertical)?a:F;if(!this.showButtons){u=0}var t=(!this.vertical)?F:a;this.scrollBarSize=t;var E=this._getThumbSize(t-2*u);E=Math.floor(E);if(E<this.thumbMinSize){E=this.thumbMinSize}if(a==NaN||a<10){a=10}if(F==NaN||F<10){F=10}u+=2;this.btnSize=u;var z=this._btnAndThumbSize;if(!this._btnAndThumbSize){var z=(this.vertical)?2*this.btnSize+q.outerHeight():2*this.btnSize+q.outerWidth();z=Math.round(z)}var v=(t-z)/(this.max-this.min)*(this.value-this.min);if(this.rtl&&!this.vertical){v=(t-z)/(this.max-this.min)*(this.max-this.value-this.min)}v=Math.round(v);if(v<0){v=0}if(this.vertical){var w=t-v-z;if(w<0){w=0}D[0].style.height=w+"px";s[0].style.height=v+"px";this._setElementTopPosition(s,u);this._setElementTopPosition(q,u+v);this._setElementTopPosition(D,u+v+E)}else{s[0].style.width=v+"px";if(t-v-z>=0){D[0].style.width=t-v-z+"px"}else{D[0].style.width="0px"}this._setElementLeftPosition(s,u);this._setElementLeftPosition(q,u+v);this._setElementLeftPosition(D,2+u+v+E)}},_arrange:function(){var J=this;if(J._initialLayout){J._initialLayout=false;return}if(J.min>J.max){var a=J.min;J.min=J.max;J.max=a}if(J.min<0){var L=J.max-J.min;J.min=0;J.max=L}var S=J.element;var P=J.areaUp;var C=J.areaDown;var T=J.btnUp;var K=J.btnDown;var B=J.btnThumb;var G=J.scrollWrap;var I=parseInt(J.element.style.height);var F=parseInt(J.element.style.width);if(J.isPercentage){var I=J.host.height();var F=J.host.width()}if(isNaN(I)){I=0}if(isNaN(F)){F=0}J._width=F;J._height=I;var U=(!J.vertical)?I:F;if(!J.showButtons){U=0}T[0].style.width=U+"px";T[0].style.height=U+"px";K[0].style.width=U+"px";K[0].style.height=U+"px";if(J.vertical){G[0].style.width=F+2+"px"}else{G[0].style.height=I+2+"px"}J._setElementPosition(T,0,0);var D=U+2;if(J.vertical){J._setElementPosition(K,0,I-D)}else{J._setElementPosition(K,F-D,0)}var Q=(!J.vertical)?F:I;J.scrollBarSize=Q;var O=J._getThumbSize(Q-2*D);O=Math.floor(O-2);if(O<J.thumbMinSize){O=J.thumbMinSize}var H=false;if(J.isTouchDevice&&J.touchModeStyle!=false){H=true}if(!J.vertical){B[0].style.width=O+"px";B[0].style.height=I+"px";if(H&&J.thumbTouchSize!==0){B.css({height:J.thumbTouchSize+"px"});B.css("margin-top",(J.host.height()-J.thumbTouchSize)/2)}}else{B[0].style.width=F+"px";B[0].style.height=O+"px";if(H&&J.thumbTouchSize!==0){B.css({width:J.thumbTouchSize+"px"});B.css("margin-left",(J.host.width()-J.thumbTouchSize)/2)}}if(I==NaN||I<10){I=10}if(F==NaN||F<10){F=10}J.btnSize=U;var R=(J.vertical)?2*D+(2+parseInt(B[0].style.height)):2*D+(2+parseInt(B[0].style.width));R=Math.round(R);J._btnAndThumbSize=R;var z=(Q-R)/(J.max-J.min)*(J.value-J.min);if(J.rtl&&!J.vertical){z=(Q-R)/(J.max-J.min)*(J.max-J.value-J.min)}z=Math.round(z);if(isNaN(z)||z<0||z===-Infinity||z===Infinity){z=0}if(J.vertical){var A=(Q-z-R);if(A<0){A=0}C[0].style.height=A+"px";C[0].style.width=F+"px";P[0].style.height=z+"px";P[0].style.width=F+"px";var N=parseInt(J.element.style.height);if(J.isPercentage){N=J.host.height()}B[0].style.visibility="inherit";if(N-3*parseInt(U)<0||N<R){B[0].style.visibility="hidden"}J._setElementPosition(P,0,D);J._setElementPosition(B,0,D+z);J._setElementPosition(C,0,D+z+O)}else{if(z>0){P[0].style.width=z+"px"}if(I>0){P[0].style.height=I+"px"}var M=(Q-z-R);if(M<0){M=0}C[0].style.width=M+"px";C[0].style.height=I+"px";var E=parseInt(J.element.style.width);if(J.isPercentage){E=J.host.width()}B[0].style.visibility="inherit";if((E-3*parseInt(U)<0)||(E<R)){B[0].style.visibility="hidden"}J._setElementPosition(P,D,0);J._setElementPosition(B,D+z,0);J._setElementPosition(C,D+z+O,0)}}})})(jqxBaseFramework);(function(c){c.jqx.jqxWidget("jqxPanel","",{});c.extend(c.jqx._jqxPanel.prototype,{defineInstance:function(){var a={width:null,height:null,disabled:false,scrollBarSize:c.jqx.utilities.scrollBarSize,sizeMode:"fixed",autoUpdate:false,autoUpdateInterval:500,touchMode:"auto",horizontalScrollBarMax:null,verticalScrollBarMax:null,touchModeStyle:"auto",rtl:false,events:["layout"]};c.extend(true,this,a);return a},createInstance:function(a){this.render()},render:function(){var a=this;if(c.jqx.utilities.scrollBarSize!=15){this.scrollBarSize=c.jqx.utilities.scrollBarSize}this.host.addClass(this.toThemeProperty("jqx-panel"));this.host.addClass(this.toThemeProperty("jqx-widget"));this.host.addClass(this.toThemeProperty("jqx-widget-content"));this.host.addClass(this.toThemeProperty("jqx-rc-all"));var q=c("<div id='panelWrapper' style='overflow: hidden; width: 100%; height: 100%; background-color: transparent; -webkit-appearance: none; outline: none; align:left; border: 0px; padding: 0px; margin: 0px; left: 0px; top: 0px; valign:top; position: relative;'><div id='panelContent' style='-webkit-appearance: none; -moz-box-sizing: border-box; box-sizing: border-box; width: 100%; height: 100%; outline: none; border: none; padding: 0px; position: absolute; margin: 0px; align:left; valign:top; left: 0px; top: 0px;'/><div id='verticalScrollBar' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'/><div id='horizontalScrollBar' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'/><div id='bottomRight' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'/></div>");if(!this.host.jqxButton){throw new Error("jqxPanel: Missing reference to jqxbuttons.js.")}if(!this.host.jqxScrollBar){throw new Error("jqxPanel: Missing reference to jqxscrollbar.js.")}var o=this.host.children();this._rtl=false;if(o.length>0&&o.css("direction")=="rtl"){this.rtl=true;this._rtl=true}this.host.wrapInner(q);var h=this.host.find("#verticalScrollBar");h[0].id=this.element.id+"verticalScrollBar";this.vScrollBar=h.jqxScrollBar({vertical:true,rtl:this.rtl,touchMode:this.touchMode,theme:this.theme});var l=this.host.find("#horizontalScrollBar");l[0].id=this.element.id+"horizontalScrollBar";this.hScrollBar=l.jqxScrollBar({vertical:false,rtl:this.rtl,touchMode:this.touchMode,theme:this.theme});this.content=this.host.find("#panelContent");this.wrapper=this.host.find("#panelWrapper");this.content.addClass(this.toThemeProperty("jqx-widget-content"));this.wrapper[0].id=this.wrapper[0].id+this.element.id;this.content[0].id=this.content[0].id+this.element.id;this.bottomRight=this.host.find("#bottomRight").addClass(this.toThemeProperty("jqx-panel-bottomright")).addClass(this.toThemeProperty("jqx-scrollbar-state-normal"));this.bottomRight[0].id="bottomRight"+this.element.id;this.vScrollBar.css("visibility","inherit");this.hScrollBar.css("visibility","inherit");this.vScrollInstance=c.data(this.vScrollBar[0],"jqxScrollBar").instance;this.hScrollInstance=c.data(this.hScrollBar[0],"jqxScrollBar").instance;var n=this;this.propertyChangeMap.disabled=function(s,e,f,d){n.vScrollBar.jqxScrollBar({disabled:n.disabled});n.hScrollBar.jqxScrollBar({disabled:n.disabled})};this.vScrollBar.jqxScrollBar({disabled:this.disabled});this.hScrollBar.jqxScrollBar({disabled:this.disabled});this._addHandlers();if(this.width==null){this.width=this.content.width()}if(this.height==null){this.height=this.content.height()}this._arrange();this.contentWidth=n.content[0].scrollWidth;this.contentHeight=n.content[0].scrollHeight;if(this.autoUpdate){n._autoUpdate()}this.propertyChangeMap.autoUpdate=function(s,e,f,d){if(n.autoUpdate){n._autoUpdate()}else{clearInterval(n.autoUpdateId);n.autoUpdateId=null}};this.addHandler(c(window),"unload",function(){if(n.autoUpdateId!=null){clearInterval(n.autoUpdateId);n.autoUpdateId=null;n.destroy()}});this._updateTouchScrolling();this._render()},hiddenParent:function(){return c.jqx.isHidden(this.host)},_updateTouchScrolling:function(){var a=this;if(this.touchMode==true){c.jqx.mobile.setMobileSimulator(this.element)}var d=this.isTouchDevice();if(d){c.jqx.mobile.touchScroll(this.element,a.vScrollInstance.max,function(h,l){if(a.vScrollBar.css("visibility")!="hidden"){var n=a.vScrollInstance.value;a.vScrollInstance.setPosition(n+l)}if(a.hScrollBar.css("visibility")!="hidden"){var n=a.hScrollInstance.value;a.hScrollInstance.setPosition(n+h)}},this.element.id,this.hScrollBar,this.vScrollBar);this._arrange()}this.vScrollBar.jqxScrollBar({touchMode:this.touchMode});this.hScrollBar.jqxScrollBar({touchMode:this.touchMode})},isTouchDevice:function(){var a=c.jqx.mobile.isTouchDevice();if(this.touchMode==true){a=true}else{if(this.touchMode==false){a=false}}if(a&&this.touchModeStyle!=false){this.scrollBarSize=c.jqx.utilities.touchScrollBarSize}return a},append:function(a){if(a!=null){this.content.append(a);this._arrange()}},setcontent:function(a){this.content[0].innerHTML=a;this._arrange();var d=this;setTimeout(function(){d._arrange()},100)},prepend:function(a){if(a!=null){this.content.prepend(a);this._arrange()}},clearcontent:function(){this.content.text("");this.content.children().remove();this._arrange()},remove:function(a){if(a!=null){c(a).remove();this._arrange()}},_autoUpdate:function(){var a=this;this.autoUpdateId=setInterval(function(){var h=a.content[0].scrollWidth;var l=a.content[0].scrollHeight;var f=false;if(a.contentWidth!=h){a.contentWidth=h;f=true}if(a.contentHeight!=l){a.contentHeight=l;f=true}if(f){a._arrange()}},this.autoUpdateInterval)},_addHandlers:function(){var a=this;this.addHandler(this.vScrollBar,"valueChanged",function(d){a._render(a)});this.addHandler(this.hScrollBar,"valueChanged",function(d){a._render(a)});this.addHandler(this.host,"mousewheel",function(d){a.wheel(d,a)});this.addHandler(this.wrapper,"scroll",function(d){if(a.wrapper[0].scrollTop!=0){a.wrapper[0].scrollTop=0}if(a.wrapper[0].scrollLeft!=0){a.wrapper[0].scrollLeft=0}});this.addHandler(this.host,"mouseleave",function(d){a.focused=false});this.addHandler(this.host,"focus",function(d){a.focused=true});this.addHandler(this.host,"blur",function(d){a.focused=false});this.addHandler(this.host,"mouseenter",function(d){a.focused=true});c.jqx.utilities.resize(this.host,function(){if(c.jqx.isHidden(a.host)){return}a._arrange(false)})},resize:function(d,a){this.width=d;this.height=a;this._arrange(false)},_removeHandlers:function(){var a=this;this.removeHandler(this.vScrollBar,"valueChanged");this.removeHandler(this.hScrollBar,"valueChanged");this.removeHandler(this.host,"mousewheel");this.removeHandler(this.host,"mouseleave");this.removeHandler(this.host,"focus");this.removeHandler(this.host,"blur");this.removeHandler(this.host,"mouseenter");this.removeHandler(this.wrapper,"scroll");this.removeHandler(c(window),"resize."+this.element.id)},wheel:function(h,l){var f=0;if(h.originalEvent&&c.jqx.browser.msie&&h.originalEvent.wheelDelta){f=h.originalEvent.wheelDelta/120}if(!h){h=window.event}if(h.wheelDelta){f=h.wheelDelta/120}else{if(h.detail){f=-h.detail/3}}if(f){var a=l._handleDelta(f);if(!a){if(h.preventDefault){h.preventDefault()}}if(!a){return a}else{return false}}if(h.preventDefault){h.preventDefault()}h.returnValue=false},scrollDown:function(){if(this.vScrollBar.css("visibility")=="hidden"){return false}var a=this.vScrollInstance;if(a.value+a.largestep<=a.max){a.setPosition(a.value+a.largestep);return true}else{if(a.value+a.largestep!=a.max){a.setPosition(a.max);return true}}return false},scrollUp:function(){if(this.vScrollBar.css("visibility")=="hidden"){return false}var a=this.vScrollInstance;if(a.value-a.largestep>=a.min){a.setPosition(a.value-a.largestep);return true}else{if(a.value-a.largestep!=a.min){a.setPosition(a.min);return true}}return false},_handleDelta:function(e){if(this.focused){var f=this.vScrollInstance.value;if(e<0){this.scrollDown()}else{this.scrollUp()}var a=this.vScrollInstance.value;if(f!=a){return false}}return true},_render:function(f){if(f==undefined){f=this}var a=f.vScrollInstance.value;var e=f.hScrollInstance.value;if(this.rtl){if(this.hScrollBar[0].style.visibility!="hidden"){if(this._rtl==false){e=f.hScrollInstance.max-e}else{e=-f.hScrollInstance.value}}}f.content.css({left:-e+"px",top:-a+"px"})},scrollTo:function(d,a){if(d==undefined||a==undefined){return}this.vScrollInstance.setPosition(a);this.hScrollInstance.setPosition(d)},getScrollHeight:function(){return this.vScrollInstance.max},getVScrollPosition:function(){return this.vScrollInstance.value},getScrollWidth:function(){return this.hScrollInstance.max},getHScrollPosition:function(){return this.hScrollInstance.value},_getScrollSize:function(){var a=this.scrollBarSize;if(isNaN(a)){a=parseInt(a);if(isNaN(a)){a="17px"}else{a=a+"px"}}if(this.isTouchDevice()){a=c.jqx.utilities.touchScrollBarSize}a=parseInt(a);return a},_getScrollArea:function(){var f=0;this.content.css("margin-right","0px");this.content.css("max-width","9999999px");if(c.jqx.browser.msie&&c.jqx.browser.version<10){f=parseInt(this.content.css("left"));this.content.css("left",0)}this.content.css("overflow","auto");if(this.rtl){this.content.css("direction","rtl")}var a=parseInt(this.content[0].scrollWidth);c.each(this.content.children(),function(){a=Math.max(a,this.scrollWidth);a=Math.max(a,c(this).outerWidth())});if(c.jqx.browser.msie&&c.jqx.browser.version<10){this.content.css("left",f)}var e=parseInt(this.content[0].scrollHeight);this.content.css("overflow","visible");if(c.jqx.browser.msie&&c.jqx.browser.version<9){var e=parseInt(this.content[0].scrollHeight);switch(this.sizeMode){case"wrap":var e=parseInt(this.content[0].scrollHeight);var a=parseInt(this.content[0].scrollWidth);break;case"horizontalWrap":case"horizontalwrap":break;case"verticalWrap":case"verticalwrap":var e=parseInt(this.content[0].scrollHeight);break}}if(this.rtl){this.content.css("direction","ltr")}return{width:a,height:e}},_arrange:function(t){if(t!==false){if(this.width!=null){this.host.width(this.width)}if(this.height!=null){this.host.height(this.height)}}var B=this._getScrollSize();var z=this.host.width();var n=this.host.height();var w=this._getScrollArea();var A=w.width;var o=w.height;var s=o-parseInt(Math.round(this.host.height()));var u=A-parseInt(Math.round(this.host.width()));if(this.horizontalScrollBarMax!=undefined){u=this.horizontalScrollBarMax}if(this.verticalScrollBarMax!=undefined){s=this.verticalScrollBarMax}var q=function(e,d){var f=5;if(d>f){e.vScrollBar.jqxScrollBar({max:d});e.vScrollBar.css("visibility","inherit")}else{e.vScrollBar.jqxScrollBar("setPosition",0);e.vScrollBar.css("visibility","hidden")}};var a=function(d,e){if(e>0){if(c.jqx.browser.msie&&c.jqx.browser.version<8){if(e-10<=B){d.hScrollBar.css("visibility","hidden");d.hScrollBar.jqxScrollBar("setPosition",0)}else{d.hScrollBar.jqxScrollBar({max:e+4});d.hScrollBar.css("visibility","inherit")}}else{d.hScrollBar.jqxScrollBar({max:e+4});d.hScrollBar.css("visibility","inherit")}}else{d.hScrollBar.css("visibility","hidden");d.hScrollBar.jqxScrollBar("setPosition",0)}};switch(this.sizeMode){case"wrap":this.host.width(A);this.host.height(o);this.vScrollBar.css("visibility","hidden");this.hScrollBar.css("visibility","hidden");return;case"horizontalWrap":case"horizontalwrap":this.host.width(A);this.hScrollBar.css("visibility","hidden");q(this,s);this._arrangeScrollbars(B,A,n);return;case"verticalWrap":case"verticalwrap":this.host.height(o);this.vScrollBar.css("visibility","hidden");a(this,u);this._arrangeScrollbars(B,z,n);return}q(this,s);var v=2;if(this.vScrollBar.css("visibility")!="hidden"){if(this.horizontalScrollBarMax==undefined){if((!this.isTouchDevice()&&u>0)||(u>0)){u+=B+v}}}a(this,u);if(this.hScrollBar.css("visibility")!="hidden"){this.vScrollBar.jqxScrollBar({max:s+B+v})}this._arrangeScrollbars(B,z,n)},_arrangeScrollbars:function(v,t,a){var l=this.vScrollBar[0].style.visibility!="hidden";var q=this.hScrollBar[0].style.visibility!="hidden";var n=2;var o=2;this.hScrollBar.height(v);this.hScrollBar.css({top:a-v-n-o+"px",left:"0px"});this.hScrollBar.width(t-n+"px");this.vScrollBar.width(v);this.vScrollBar.height(parseInt(a)-n+"px");this.vScrollBar.css({left:parseInt(t)-parseInt(v)-n-o+"px",top:"0px"});if(this.rtl){this.vScrollBar.css({left:"0px"});var u=l?parseInt(v)+"px":0;if(this.content.children().css("direction")!="rtl"){var s=false;if(c.jqx.browser.msie&&c.jqx.browser.version<8){s=true}if(!s){this.content.css("padding-left",u)}}}else{if(this.vScrollBar.css("visibility")!="hidden"){this.content.css("max-width",this.host.width()-this.vScrollBar.outerWidth())}}if((this.vScrollBar.css("visibility")!="hidden")&&(this.hScrollBar.css("visibility")!="hidden")){this.bottomRight.css("visibility","inherit");this.bottomRight.css({left:1+parseInt(this.vScrollBar.css("left")),top:1+parseInt(this.hScrollBar.css("top"))});this.bottomRight.width(parseInt(v)+3);this.bottomRight.height(parseInt(v)+3);if(this.rtl){this.bottomRight.css({left:"0px"});this.hScrollBar.css({left:v+o+"px"})}this.hScrollBar.width(t-(1*v)-n-o+"px");this.vScrollBar.height(parseInt(a)-n-v-o+"px")}else{this.bottomRight.css("visibility","hidden")}this.hScrollInstance.refresh();this.vScrollInstance.refresh()},destroy:function(){clearInterval(this.autoUpdateId);this.autoUpdateId=null;this.autoUpdate=false;c.jqx.utilities.resize(this.host,null,true);this._removeHandlers();this.removeHandler(c(window),"unload");this.vScrollBar.jqxScrollBar("destroy");this.hScrollBar.jqxScrollBar("destroy");this.host.remove()},_raiseevent:function(h,o,l){if(this.isInitialized!=undefined&&this.isInitialized==true){var q=this.events[h];var n=new c.Event(q);n.previousValue=o;n.currentValue=l;n.owner=this;var a=this.host.trigger(n);return a}},beginUpdateLayout:function(){this.updating=true},resumeUpdateLayout:function(){this.updating=false;this.vScrollInstance.value=0;this.hScrollInstance.value=0;this._arrange();this._render()},propertyChangedHandler:function(l,h,a,f){if(!l.isInitialized){return}if(h=="rtl"){this.vScrollBar.jqxScrollBar({rtl:f});this.hScrollBar.jqxScrollBar({rtl:f});l._arrange()}if(!l.updating){if(h=="scrollBarSize"||h=="width"||h=="height"){if(a!=f){l._arrange()}}}if(h=="touchMode"){if(f!="auto"){l._updateTouchScrolling()}}if(h=="theme"){l.host.removeClass();l.host.addClass(this.toThemeProperty("jqx-panel"));l.host.addClass(this.toThemeProperty("jqx-widget"));l.host.addClass(this.toThemeProperty("jqx-widget-content"));l.host.addClass(this.toThemeProperty("jqx-rc-all"));l.vScrollBar.jqxScrollBar({theme:this.theme});l.hScrollBar.jqxScrollBar({theme:this.theme});l.bottomRight.removeClass();l.bottomRight.addClass(this.toThemeProperty("jqx-panel-bottomright"));l.bottomRight.addClass(this.toThemeProperty("jqx-scrollbar-state-normal"));l.content.removeClass();l.content.addClass(this.toThemeProperty("jqx-widget-content"))}},invalidate:function(){if(c.jqx.isHidden(this.host)){return}this.refresh()},refresh:function(a){this._arrange()}})})(jqxBaseFramework);(function(c){c.jqx.jqxWidget("jqxTooltip","",{});c.extend(c.jqx._jqxTooltip.prototype,{defineInstance:function(){var a={width:"auto",height:"auto",position:"default",enableBrowserBoundsDetection:true,content:"",left:0,top:0,absolutePositionX:0,absolutePositionY:0,trigger:"hover",showDelay:100,autoHide:true,autoHideDelay:3000,closeOnClick:true,disabled:false,animationShowDelay:200,animationHideDelay:"fast",showArrow:true,name:"",opacity:0.9,rtl:false,_isOpen:false,opening:null,value:null,_eventsMap:{mousedown:c.jqx.mobile.getTouchEventName("touchstart"),mouseup:c.jqx.mobile.getTouchEventName("touchend")},events:["open","close","opening","closing"]};c.extend(true,this,a);return a},createInstance:function(o){this._isTouchDevice=c.jqx.mobile.isTouchDevice();var l=c.data(document.body,"_tooltipIDArray"+this.name);if(!l){this.ID_Array=new Array();c.data(document.body,"_tooltipIDArray"+this.name,this.ID_Array)}else{this.ID_Array=l}var n=this._generatekey();var q="jqxtooltip"+n;this.ID_Array.push({tooltipID:q,tooltipHost:this.host});var a=c('<div id="'+q+'"><div id ="'+q+'Main"><div id="'+q+'Text"></div></div><div id="'+q+'Arrow"></div></div>');if(c.jqx.browser.msie){a.addClass(this.toThemeProperty("jqx-noshadow"))}c("body").append(a);this._setTheme();var h=c("#"+q);h.css("visibility","hidden");h.css("display","none");h.css("opacity",0);h.css("z-index",99999);if(this.showArrow==false){c("#"+q+"Arrow").css("visibility","hidden");c("#"+q+"Arrow").css("display","none")}this._setSize();this._setContent();if(this.disabled==false){this._trigger();if(this.closeOnClick==true){this._clickHide()}}},open:function(){if(arguments){if(arguments.length){if(arguments.length==2){this.position="absolute";this.left=arguments[0];this.top=arguments[1];this.absolutePositionX=arguments[0];this.absolutePositionY=arguments[1]}}}if(this.disabled==false&&this._id()!="removed"){if(this.position=="mouse"||this.position=="mouseenter"){var a=this.position;this.position="default";this._raiseEvent("2");this._setPosition();this._animateShow();this.position=a}else{this._raiseEvent("2");this._setPosition();this._animateShow()}}},close:function(l){var f=this;if(typeof(l)==="object"&&c.isEmptyObject(l)){l=this.animationHideDelay}var a=new Number(c(this._id()).css("opacity")).toFixed(2);var h=function(){clearTimeout(f.autoHideTimeout);f._raiseEvent("3");c(f._id()).animate({opacity:0},l,function(){c(f._id()).css("visibility","hidden");c(f._id()).css("display","none");f._raiseEvent("1");f._isOpen=false})};if(this._isOpen==false&&a!=0){c(f._id()).stop();h();return}if(this._isOpen==true&&a==this.opacity){h()}},destroy:function(){var d=this.ID_Array.length;this._removeHandlers();c(this._id()).remove();for(var a=0;a<d;a++){if(this.ID_Array[a].tooltipHost===this.host){this.ID_Array.splice(a,1);break}}c(this.element).removeData("jqxTooltip")},refresh:function(e){if(e==true){return}if(this.rtl){c(this._id()+"Text").addClass(this.toThemeProperty("jqx-rtl"));c(this._id()+"Text").css({direction:"rtl"})}var f=this;var a=new Number(c(this._id()).css("opacity")).toFixed(2);if(this._id()!="removed"){if(this.disabled==true&&this._isOpen==true&&a==this.opacity){clearTimeout(this.autoHideTimeout);c(this._id()).stop();c(this._id()).animate({opacity:0},this.animationHideDelay,function(){c(f._id()).css("visibility","hidden");c(f._id()).css("display","none");f._isOpen=false})}this._setTheme();this._setContent();this._setSize();if(this.position!="mouse"&&this.position!="mouseenter"){this._setPosition()}this._removeHandlers();if(this.disabled==false){this._trigger();if(this.closeOnClick==true){this._clickHide()}}}},propertyChangedHandler:function(a,l,f,h){if(l=="content"){this.changeContentFlag=true}a.refresh()},_raiseEvent:function(h,n){var q=this.events[h];var l=new c.Event(q);l.owner=this;l.args=n;try{var a=this.host.trigger(l)}catch(o){}return a},_generatekey:function(){var a=function(){return(((1+Math.random())*65536)|0).toString(16).substring(1)};return(a()+a())},_id:function(){var a,l;var f=this.ID_Array.length;for(var h=0;h<f;h++){if(this.ID_Array[h].tooltipHost===this.host){a=this.ID_Array[h].tooltipID;l="#"+a;break}}if(l==undefined){l="removed"}return l},_setPosition:function(q){if((this._isOpen==false&&c(this._id()).css("opacity")==0)||this.changeContentFlag==true){if(!q&&(this.position=="mouse"||this.position=="mouseenter")){return}c(this._id()).css("display","block");this.changeContentFlag=false;this.documentTop=c(document).scrollTop();this.documentLeft=c(document).scrollLeft();this.windowWidth=c(window).width();this.windowHeight=c(window).height();this.host_width=this.host.outerWidth();this.host_height=this.host.outerHeight();this.tooltip_width=c(this._id()).width();this.tooltip_height=c(this._id()).height();this.host_offset=this.host.offset();this.tooltip_offset=c(this._id()).offset();this.default_offset=30;this.offset_horizontal=parseInt(this.left);this.offset_vertical=parseInt(this.top);var t=c(this._id()+"Arrow");var o=c(this._id()+"Main");this.arrow_size=5;this.tooltip_main_offset=o.offset();this.tooltip_arrow_offset;switch(this.position){case"top":this.tooltip_offset.left=this.host_offset.left+this.host_width/2-this.tooltip_width/2+this.offset_horizontal;this.tooltip_offset.top=this.host_offset.top-this.tooltip_height-this.arrow_size+this.offset_vertical;this._detectBrowserBounds();this.tooltip_main_offset=o.offset();t.removeClass(this.toThemeProperty("jqx-tooltip-arrow-l-r"));t.addClass(this.toThemeProperty("jqx-tooltip-arrow-t-b"));t.css({"border-width":this.arrow_size+"px "+this.arrow_size+"px  0px"});this.tooltip_arrow_offset=t.offset();this.tooltip_arrow_offset.left=this.tooltip_main_offset.left+((o.width())/2-this.arrow_size);this.tooltip_arrow_offset.top=this.tooltip_main_offset.top+o.height();t.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left});break;case"bottom":this.tooltip_offset.left=this.host_offset.left+this.host_width/2-this.tooltip_width/2+this.offset_horizontal;this.tooltip_offset.top=this.host_offset.top+this.host_height+this.arrow_size+this.offset_vertical;this._detectBrowserBounds();this.tooltip_main_offset=o.offset();t.removeClass(this.toThemeProperty("jqx-tooltip-arrow-l-r"));t.addClass(this.toThemeProperty("jqx-tooltip-arrow-t-b"));t.css({"border-width":"0 "+this.arrow_size+"px "+this.arrow_size+"px"});this.tooltip_arrow_offset=t.offset();this.tooltip_arrow_offset.left=this.tooltip_main_offset.left+((o.width())/2-this.arrow_size);this.tooltip_arrow_offset.top=this.tooltip_main_offset.top-this.arrow_size;t.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left});break;case"left":this.tooltip_offset.left=-1+this.host_offset.left-this.tooltip_width-this.arrow_size+this.offset_horizontal;this.tooltip_offset.top=this.host_offset.top+this.host_height/2-this.tooltip_height/2+this.offset_vertical;this._detectBrowserBounds();this.tooltip_main_offset=o.offset();t.removeClass(this.toThemeProperty("jqx-tooltip-arrow-t-b"));t.addClass(this.toThemeProperty("jqx-tooltip-arrow-l-r"));t.css({"border-width":this.arrow_size+"px 0px "+this.arrow_size+"px "+this.arrow_size+"px"});this.tooltip_main_offset=o.offset();this.tooltip_arrow_offset=t.offset();this.tooltip_arrow_offset.left=1+this.tooltip_main_offset.left+o.width();this.tooltip_arrow_offset.top=this.tooltip_main_offset.top+(o.height())/2-this.arrow_size;t.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left});break;case"right":this.tooltip_offset.left=this.host_offset.left+this.host_width+this.arrow_size+this.offset_horizontal;this.tooltip_offset.top=this.host_offset.top+this.host_height/2-this.tooltip_height/2+this.offset_vertical;this.tooltip_offset.top=parseInt(this.tooltip_offset.top);this._detectBrowserBounds();this.tooltip_main_offset=o.offset();t.removeClass(this.toThemeProperty("jqx-tooltip-arrow-t-b"));t.addClass(this.toThemeProperty("jqx-tooltip-arrow-l-r"));t.css({"border-width":this.arrow_size+"px "+this.arrow_size+"px "+this.arrow_size+"px 0px"});this.tooltip_arrow_offset=t.offset();this.tooltip_arrow_offset.left=(this.tooltip_main_offset.left-this.arrow_size);this.tooltip_arrow_offset.top=this.tooltip_main_offset.top+(o.height())/2-this.arrow_size;t.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left});break;case"top-left":this.tooltip_offset.left=this.host_offset.left+this.default_offset-this.tooltip_width+this.offset_horizontal;this.tooltip_offset.top=this.host_offset.top-this.tooltip_height-this.arrow_size+this.offset_vertical;this._detectBrowserBounds();this.tooltip_main_offset=o.offset();t.removeClass(this.toThemeProperty("jqx-tooltip-arrow-l-r"));t.addClass(this.toThemeProperty("jqx-tooltip-arrow-t-b"));t.css({"border-width":this.arrow_size+"px "+this.arrow_size+"px  0px"});this.tooltip_arrow_offset=t.offset();this.tooltip_arrow_offset.left=this.tooltip_main_offset.left+o.width()-6*this.arrow_size;this.tooltip_arrow_offset.top=this.tooltip_main_offset.top+o.height();t.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left});break;case"bottom-left":this.tooltip_offset.left=this.host_offset.left+this.default_offset-this.tooltip_width+this.offset_horizontal;this.tooltip_offset.top=this.host_offset.top+this.host_height+this.arrow_size+this.offset_vertical;this._detectBrowserBounds();this.tooltip_main_offset=o.offset();t.removeClass(this.toThemeProperty("jqx-tooltip-arrow-l-r"));t.addClass(this.toThemeProperty("jqx-tooltip-arrow-t-b"));t.css({"border-width":"0 "+this.arrow_size+"px "+this.arrow_size+"px"});this.tooltip_arrow_offset=t.offset();this.tooltip_arrow_offset.left=this.tooltip_main_offset.left+o.width()-6*this.arrow_size;this.tooltip_arrow_offset.top=this.tooltip_main_offset.top-this.arrow_size;t.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left});break;case"top-right":this.tooltip_offset.left=this.host_offset.left+this.host_width-this.default_offset+this.offset_horizontal;this.tooltip_offset.top=this.host_offset.top-this.tooltip_height-this.arrow_size+this.offset_vertical;this._detectBrowserBounds();this.tooltip_main_offset=o.offset();t.removeClass(this.toThemeProperty("jqx-tooltip-arrow-l-r"));t.addClass(this.toThemeProperty("jqx-tooltip-arrow-t-b"));t.css({"border-width":this.arrow_size+"px "+this.arrow_size+"px  0px"});this.tooltip_arrow_offset=t.offset();this.tooltip_arrow_offset.left=this.tooltip_main_offset.left+4*this.arrow_size;this.tooltip_arrow_offset.top=this.tooltip_main_offset.top+o.height();t.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left});break;case"bottom-right":this.tooltip_offset.left=this.host_offset.left+this.host_width-this.default_offset+this.offset_horizontal;this.tooltip_offset.top=this.host_offset.top+this.host_height+this.arrow_size+this.offset_vertical;this._detectBrowserBounds();this.tooltip_main_offset=o.offset();t.removeClass(this.toThemeProperty("jqx-tooltip-arrow-l-r"));t.addClass(this.toThemeProperty("jqx-tooltip-arrow-t-b"));t.css({"border-width":"0 "+this.arrow_size+"px "+this.arrow_size+"px"});this.tooltip_arrow_offset=t.offset();this.tooltip_arrow_offset.left=this.tooltip_main_offset.left+4*this.arrow_size;this.tooltip_arrow_offset.top=this.tooltip_main_offset.top-this.arrow_size;t.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left});break;case"absolute":c(this._id()).offset({top:this.absolutePositionY,left:this.absolutePositionX});t.css({"border-width":"0px"});break;case"mouse":var s=this;if(this._isTouchDevice==false){switch(this.trigger){case"hover":if(this.mouseHoverTimeout){clearTimeout(this.mouseHoverTimeout)}this.mouseHoverTimeout=setTimeout(function(){s.tooltip_offset.left=q.pageX+10;s.tooltip_offset.top=q.pageY+10;s._detectBrowserBounds()},this.showDelay);break;case"click":this.tooltip_offset.left=q.pageX+10;this.tooltip_offset.top=q.pageY+10;this._detectBrowserBounds();break}}else{var a=q.pageX;var l=q.pageY;if(q.originalEvent){var n=null;if(q.originalEvent.touches&&q.originalEvent.touches.length){var n=q.originalEvent.touches[0]}else{if(q.originalEvent.changedTouches&&q.originalEvent.changedTouches.length){var n=q.originalEvent.changedTouches[0]}}if(n!=undefined){a=n.pageX;l=n.pageY}}this.tooltip_offset.left=a+10;this.tooltip_offset.top=l+10;this._detectBrowserBounds()}t.css({"border-width":"0px"});break;case"mouseenter":var u={top:q.pageY,left:q.pageX};if((u.top<(this.host_offset.top+10))&&(u.top>(this.host_offset.top-10))){this.tooltip_offset.left=u.left-this.tooltip_width/2;this.tooltip_offset.top=this.host_offset.top-this.tooltip_height-this.arrow_size;this._detectBrowserBounds();this.tooltip_main_offset=o.offset();t.removeClass(this.toThemeProperty("jqx-tooltip-arrow-l-r"));t.addClass(this.toThemeProperty("jqx-tooltip-arrow-t-b"));t.css({"border-width":this.arrow_size+"px "+this.arrow_size+"px  0px"});this.tooltip_arrow_offset=t.offset();this.tooltip_arrow_offset.left=this.tooltip_main_offset.left+((o.width())/2-this.arrow_size);this.tooltip_arrow_offset.top=this.tooltip_main_offset.top+o.height();t.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left})}else{if((u.top<((this.host_offset.top+this.host_height)+10))&&(u.top>((this.host_offset.top+this.host_height)-10))){this.tooltip_offset.left=u.left-this.tooltip_width/2;this.tooltip_offset.top=this.host_offset.top+this.host_height+this.arrow_size;this._detectBrowserBounds();this.tooltip_main_offset=o.offset();t.removeClass(this.toThemeProperty("jqx-tooltip-arrow-l-r"));t.addClass(this.toThemeProperty("jqx-tooltip-arrow-t-b"));t.css({"border-width":"0 "+this.arrow_size+"px "+this.arrow_size+"px"});this.tooltip_arrow_offset=t.offset();this.tooltip_arrow_offset.left=this.tooltip_main_offset.left+((o.width())/2-this.arrow_size);this.tooltip_arrow_offset.top=this.tooltip_main_offset.top-this.arrow_size;t.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left})}else{if((u.left<(this.host_offset.left+10))&&(u.left>(this.host_offset.left-10))){this.tooltip_offset.left=this.host_offset.left-this.tooltip_width-this.arrow_size;this.tooltip_offset.top=u.top-this.tooltip_height/2;this._detectBrowserBounds();this.tooltip_main_offset=o.offset();t.removeClass(this.toThemeProperty("jqx-tooltip-arrow-t-b"));t.addClass(this.toThemeProperty("jqx-tooltip-arrow-l-r"));t.css({"border-width":this.arrow_size+"px 0px "+this.arrow_size+"px "+this.arrow_size+"px"});this.tooltip_main_offset=o.offset();this.tooltip_arrow_offset=t.offset();this.tooltip_arrow_offset.left=this.tooltip_main_offset.left+o.width();this.tooltip_arrow_offset.top=this.tooltip_main_offset.top+(o.height())/2-this.arrow_size;t.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left})}else{if((u.left<(this.host_offset.left+this.host_width+10))&&(u.left>(this.host_offset.left+this.host_width-10))){this.tooltip_offset.left=this.host_offset.left+this.host_width+this.arrow_size;this.tooltip_offset.top=u.top-this.tooltip_height/2;this._detectBrowserBounds();this.tooltip_main_offset=o.offset();t.removeClass(this.toThemeProperty("jqx-tooltip-arrow-t-b"));t.addClass(this.toThemeProperty("jqx-tooltip-arrow-l-r"));t.css({"border-width":this.arrow_size+"px "+this.arrow_size+"px "+this.arrow_size+"px 0px"});this.tooltip_main_offset=o.offset();this.tooltip_arrow_offset=t.offset();this.tooltip_arrow_offset.left=(this.tooltip_main_offset.left-this.arrow_size);this.tooltip_arrow_offset.top=this.tooltip_main_offset.top+(o.height())/2-this.arrow_size;t.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left})}}}}break;case"default":this.tooltip_offset.left=this.host_offset.left+this.host_width-this.default_offset;this.tooltip_offset.top=this.host_offset.top+this.host_height+this.arrow_size;this._detectBrowserBounds();this.tooltip_main_offset=o.offset();t.removeClass(this.toThemeProperty("jqx-tooltip-arrow-l-r"));t.addClass(this.toThemeProperty("jqx-tooltip-arrow-t-b"));t.css({"border-width":"0 "+this.arrow_size+"px "+this.arrow_size+"px"});this.tooltip_arrow_offset=t.offset();this.tooltip_arrow_offset.left=this.tooltip_main_offset.left+4*this.arrow_size;this.tooltip_arrow_offset.top=this.tooltip_main_offset.top-this.arrow_size;t.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left});break}}},_setContent:function(){c(this._id()+"Text").html(this.content)},opened:function(){return this._isOpen&&this.host.css("display")=="block"&&this.host.css("visibility")=="visible"},_animateShow:function(){this._closeAll();clearTimeout(this.autoHideTimeout);var a=new Number(c(this._id()).css("opacity")).toFixed(2);if(this._isOpen==false&&a==0){var l=this;var f=c(this._id());f.css("visibility","visible");f.css("display","block");f.stop();f.css("opacity",0);if(this.opening){var h=this.opening(this);if(h===false){return}}f.animate({opacity:this.opacity},this.animationShowDelay,function(){l._raiseEvent("0");l._isOpen=true;var d=c.data(document.body,"_openedTooltip"+l.name);l.openedTooltip=l;c.data(document.body,"_openedTooltip"+l.name,l);if(l.autoHideTimeout){clearTimeout(l.autoHideTimeout)}if(l.autoHideDelay>0&&l.autoHide===true){l.autoHideTimeout=setTimeout(function(){l._autoHide()},l.autoHideDelay)}})}},_trigger:function(){if(this._id()!="removed"){this._enterFlag;this._leaveFlag;var a=this;if(this._isTouchDevice==false){switch(this.trigger){case"hover":if(this.position=="mouse"){this.addHandler(this.host,"mousemove.tooltip",function(d){if(a._enterFlag==1){a._raiseEvent("2");a._setPosition(d);clearTimeout(a.hoverShowTimeout);a.hoverShowTimeout=setTimeout(function(){a._animateShow();a._enterFlag=0},a.showDelay)}});this.addHandler(this.host,"mouseenter.tooltip",function(){if(a._leaveFlag!=0){a._enterFlag=1}});this.addHandler(this.host,"mouseleave.tooltip",function(l){a._leaveFlag=1;clearTimeout(a.hoverShowTimeout);var h=c(a._id()).offset();var n=c(a._id()).width();var o=c(a._id()).height();if(parseInt(l.pageX)<parseInt(h.left)||parseInt(l.pageX)>parseInt(h.left)+n){a.close()}if(parseInt(l.pageY)<parseInt(h.top)||parseInt(l.pageY)>parseInt(h.top)+o){a.close()}});this.addHandler(c(this._id()),"mouseleave.tooltip",function(d){a._checkBoundariesAuto(d);if(a._clickFlag!=0&&a._autoFlag!=0){a._leaveFlag=0}else{a._leaveFlag=1;a.close()}})}else{this.addHandler(this.host,"mouseenter.tooltip",function(d){clearTimeout(a.hoverShowTimeout);a.hoverShowTimeout=setTimeout(function(){a._raiseEvent("2");a._setPosition(d);a._animateShow()},a.showDelay)});this.addHandler(this.host,"mouseleave.tooltip",function(s){a._leaveFlag=1;clearTimeout(a.hoverShowTimeout);if(a.autoHide){var u=s.pageX;var l=s.pageY;var q=c(a._id()).offset();var n=q.left;var o=q.top;var t=c(a._id()).width();var v=c(a._id()).height();if(parseInt(u)<parseInt(n)||parseInt(u)>parseInt(n)+t||parseInt(l)<parseInt(o)||parseInt(l)>parseInt(o)+v){a.close()}}});this.addHandler(c(this._id()),"mouseleave.tooltip",function(d){a._checkBoundariesAuto(d);if(a._clickFlag!=0&&a._autoFlag!=0){a._leaveFlag=0}else{a._leaveFlag=1;if(a.autoHide){a.close()}}})}break;case"click":this.addHandler(this.host,"click.tooltip",function(d){if(a.position=="mouseenter"){a.position="mouse"}a._raiseEvent("2");a._setPosition(d);a._animateShow()});break;case"none":break}}else{if(this.trigger!="none"){this.addHandler(this.host,"touchstart.tooltip",function(d){if(a.position=="mouseenter"){a.position="mouse"}a._raiseEvent("2");a._setPosition(d);a._animateShow()})}}}},_autoHide:function(){var d=this;var a=new Number(c(this._id()).css("opacity")).toFixed(2);if(this.autoHide==true&&this._isOpen==true&&a>=this.opacity){d._raiseEvent("3");c(d._id()).animate({opacity:0},d.animationHideDelay,function(){c(d._id()).css("visibility","hidden");c(d._id()).css("display","none");d._raiseEvent("1");d._isOpen=false})}},_clickHide:function(){var a=this;this.addHandler(c(this._id()),"click.tooltip",function(d){a._checkBoundariesClick(d);a.close()})},_setSize:function(){c(this._id()).css({width:this.width,height:this.height})},resize:function(){this._setSize()},_setTheme:function(){var f=this._id();var h=c(f+"Main");var l=c(f+"Text");var a=c(f+"Arrow");h.addClass(this.toThemeProperty("jqx-widget"));l.addClass(this.toThemeProperty("jqx-widget"));a.addClass(this.toThemeProperty("jqx-widget"));h.addClass(this.toThemeProperty("jqx-fill-state-normal"));l.addClass(this.toThemeProperty("jqx-fill-state-normal"));a.addClass(this.toThemeProperty("jqx-fill-state-normal"));c(f).addClass(this.toThemeProperty("jqx-tooltip"));c(f).addClass(this.toThemeProperty("jqx-popup"));h.addClass(this.toThemeProperty("jqx-tooltip-main"));l.addClass(this.toThemeProperty("jqx-tooltip-text"));a.addClass(this.toThemeProperty("jqx-tooltip-arrow"))},_initialPosition:function(){var a=this.position;this.position="default";this._setPosition();this.position=a},_detectBrowserBounds:function(){var a=this._id();if(this.enableBrowserBoundsDetection){if(this.tooltip_offset.top<this.documentTop&&this.tooltip_offset.left<0){c(a).offset({top:this.documentTop,left:this.documentLeft})}else{if(this.tooltip_offset.top<this.documentTop&&(this.tooltip_offset.left+this.tooltip_width)>this.windowWidth+this.documentLeft){c(a).offset({top:this.documentTop,left:(this.windowWidth+this.documentLeft-this.tooltip_width)})}else{if(this.tooltip_offset.top<this.documentTop){c(a).offset({top:this.documentTop,left:this.tooltip_offset.left})}else{if((this.tooltip_offset.top+this.tooltip_height)>(this.windowHeight+this.documentTop)&&this.tooltip_offset.left<0){c(a).offset({top:(this.windowHeight+this.documentTop-this.tooltip_height),left:this.documentLeft})}else{if((this.tooltip_offset.top+this.tooltip_height)>(this.windowHeight+this.documentTop)&&(this.tooltip_offset.left+this.tooltip_width)>this.windowWidth+this.documentLeft){c(a).offset({top:(this.windowHeight+this.documentTop-this.tooltip_height),left:(this.windowWidth+this.documentLeft-this.tooltip_width)})}else{if((this.tooltip_offset.top+this.tooltip_height)>(this.windowHeight+this.documentTop)){c(a).offset({top:(this.windowHeight+this.documentTop-this.tooltip_height),left:this.tooltip_offset.left})}else{if(this.tooltip_offset.left<0){c(a).offset({top:this.tooltip_offset.top,left:this.documentLeft})}else{if((this.tooltip_offset.left+this.tooltip_width)>this.windowWidth+this.documentLeft){c(a).offset({top:this.tooltip_offset.top,left:(this.windowWidth+this.documentLeft-this.tooltip_width)})}else{c(a).offset({top:this.tooltip_offset.top,left:this.tooltip_offset.left})}}}}}}}}}else{c(a).offset({top:this.tooltip_offset.top,left:this.tooltip_offset.left})}},_checkBoundaries:function(a){if(a.pageX>=this.host_offset.left&&a.pageX<=(this.host_offset.left+this.host_width)&&a.pageY>=this.host_offset.top&&a.pageY<=(this.host_offset.top+this.host_height)){return true}else{return false}},_checkBoundariesClick:function(a){if(this._checkBoundaries(a)){this._clickFlag=1}else{this._clickFlag=0}},_checkBoundariesAuto:function(a){if(this._checkBoundaries(a)){this._autoFlag=1}else{this._autoFlag=0}},_removeHandlers:function(){this.removeHandler(this.host,"mouseenter.tooltip");this.removeHandler(this.host,"mousemove.tooltip");this.removeHandler(this.host,"mouseleave.tooltip");this.removeHandler(this.host,"click.tooltip");this.removeHandler(this.host,"touchstart.tooltip");this.removeHandler(c(this._id()),"click.tooltip");this.removeHandler(c(this._id()),"mouseleave.tooltip")},_closeAll:function(){var e=this.ID_Array.length;for(var f=0;f<e;f++){var a="#"+this.ID_Array[f].tooltipID;if(a!=this._id()){c(a).css({opacity:0,visibility:"hidden",display:"none"});this._isOpen=false}}}})})(jqxBaseFramework);(function(c){c.jqx.jqxWidget("jqxCalendar","",{});c.extend(c.jqx._jqxCalendar.prototype,{defineInstance:function(){var a={disabled:false,restrictedDates:new Array(),multipleMonthRows:1,multipleMonthColumns:1,minDate:c.jqx._jqxDateTimeInput.getDateTime(new Date()),maxDate:c.jqx._jqxDateTimeInput.getDateTime(new Date()),min:new Date(1900,0,1),max:new Date(2100,0,1),navigationDelay:400,stepMonths:1,width:null,height:null,value:c.jqx._jqxDateTimeInput.getDateTime(new Date()),firstDayOfWeek:0,showWeekNumbers:false,showDayNames:true,enableWeekend:false,enableOtherMonthDays:true,showOtherMonthDays:true,rowHeaderWidth:25,columnHeaderHeight:20,titleHeight:25,dayNameFormat:"firstTwoLetters",monthNameFormat:"default",titleFormat:["MMMM yyyy","yyyy","yyyy","yyyy"],enableViews:true,readOnly:false,culture:"default",enableFastNavigation:true,enableHover:true,enableAutoNavigation:true,enableTooltips:false,backText:"Back",forwardText:"Forward",specialDates:new Array(),keyboardNavigation:true,selectionMode:"default",selectableDays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],todayString:"Today",clearString:"Clear",showFooter:false,selection:{from:null,to:null},canRender:true,_checkForHiddenParent:true,height:null,rtl:false,view:"month",views:["month","year","decade"],changing:null,change:null,localization:{backString:"Back",forwardString:"Forward",todayString:"Today",clearString:"Clear",calendar:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy\u0027-\u0027MM\u0027-\u0027dd\u0027T\u0027HH\u0027:\u0027mm\u0027:\u0027ss",ISO:"yyyy-MM-dd hh:mm:ss"}}},events:["backButtonClick","nextButtonClick","valuechanged","cellMouseDown","cellMouseUp","cellSelected","cellUnselected","change","viewChange"]};c.extend(true,this,a);this.minDate._setYear(1900);this.minDate._setMonth(1);this.minDate._setDay(1);this.minDate._setHours(0);this.minDate._setMinutes(0);this.minDate._setSeconds(0);this.minDate._setMilliseconds(0);this.maxDate._setYear(2100);this.maxDate._setMonth(1);this.maxDate._setDay(1);this.maxDate._setHours(0);this.maxDate._setMinutes(0);this.maxDate._setSeconds(0);this.maxDate._setMilliseconds(0);this.value._setHours(0);this.value._setMinutes(0);this.value._setSeconds(0);this.value._setMilliseconds(0);return a},createInstance:function(s){this.setCalendarSize();if(this.element.id===""){this.element.id=c.jqx.utilities.createId()}if(c.type(this.value)=="date"){this.value=c.jqx._jqxDateTimeInput.getDateTime(this.value)}this.element.innerHTML="";this.host.attr("data-role","calendar");var l=this.element.id;var n=this;this.propertyChangeMap.width=function(h,e,f,d){n.setCalendarSize()};this.propertyChangeMap.height=function(h,e,f,d){n.setCalendarSize()};if(c.global){c.global.preferCulture(this.culture)}if(this.culture!="default"){if(c.global){c.global.preferCulture(this.culture);this.localization.calendar=c.global.culture.calendar}else{if(Globalize){var u=Globalize.culture(this.culture);this.localization.calendar=u.calendar}}this.firstDayOfWeek=this.localization.calendar.firstDay}if(this.localization.backString!="Back"){this.backText=this.localization.backString}if(this.localization.forwardString!="Forward"){this.forwardText=this.localization.forwardString}if(this.localization.todayString!="Today"&&this.localization.todayString){this.todayString=this.localization.todayString}if(this.localization.clearString!="Clear"&&this.localization.clearString){this.clearString=this.localization.clearString}if(this.localization.calendar&&this.localization.calendar.firstDay!=undefined&&this.culture!="default"){this.firstDayOfWeek=this.localization.calendar.firstDay}this.setMaxDate(this.max,false);this.setMinDate(this.min,false);if(!this.host.attr("tabIndex")){this.host.attr("tabIndex",0)}this.host.css("outline","none");this.host.addClass(this.toThemeProperty("jqx-calendar"));this.host.addClass(this.toThemeProperty("jqx-widget"));this.host.addClass(this.toThemeProperty("jqx-widget-content"));this.host.addClass(this.toThemeProperty("jqx-rc-all"));this._addInput();if(this.views.indexOf("month")==-1){this.view="year"}if(this.views.indexOf("year")==-1&&this.views.indexOf("month")==-1){this.view="decade"}this.addHandler(this.host,"keydown",function(d){var e=true;if(n.keyboardNavigation){if(n._handleKey!=undefined){e=n._handleKey(d);if(!e){if(d.stopPropagation){d.stopPropagation()}if(d.preventDefault){d.preventDefault()}}}}return e});var t=false;var o=this;var a=false;if(n.width!=null&&n.width.toString().indexOf("%")!=-1){a=true}if(n.height!=null&&n.height.toString().indexOf("%")!=-1){a=true}c.jqx.utilities.resize(this.host,function(){var d=o.host.find("#View"+n.element.id);if(!t){t=true;o.render()}else{o.refreshTitle(d)}if(a){if(n.refreshTimer){clearTimeout(n.refreshTimer)}n.refreshTimer=setTimeout(function(){n.refreshControl()},1)}},false,this._checkForHiddenParent);var q="View";this.propertyChangeMap.disabled=function(h,e,f,d){if(d){h.host.addClass(n.toThemeProperty("jqx-fill-state-disabled"))}else{h.host.removeClass(n.toThemeProperty("jqx-fill-state-disabled"))}n.refreshControl()}},_addInput:function(){var a=this.host.attr("name");this.input=c("<input type='hidden'/>");this.host.append(this.input);if(a){this.input.attr("name",a)}this.input.val(this.getDate().toString())},setCalendarSize:function(){if(this.width!=null&&this.width.toString().indexOf("px")!=-1){this.host.width(this.width)}else{if(this.width!=undefined&&!isNaN(this.width)){this.host.width(this.width)}}if(this.width!=null&&this.width.toString().indexOf("%")!=-1){this.host.css("width",this.width)}if(this.height!=null&&this.height.toString().indexOf("px")!=-1){this.host.height(this.height)}else{if(this.height!=undefined&&!isNaN(this.height)){this.host.height(this.height)}}if(this.height!=null&&this.height.toString().indexOf("%")!=-1){this.host.css("height",this.height)}},_getYearAndMonthPart:function(d){if(!d){return new Date(1900,0,1)}var a=new Date(d.getFullYear(),d.getMonth(),1);return a},_handleKey:function(L){if(this.readOnly){return true}var K=L.keyCode;var B=this;var Y=this._getSelectedDate();if(Y==undefined){if(this.view=="month"&&(K==37||K==38||K==39||K==40)){this.selectedDate=new Date(this.value.year,this.value.month-1,1);this._selectDate(this.selectedDate,"key");Y=this.selectedDate}else{return true}}if(L.altKey){return true}if(this._animating){return false}if(this.view!="month"&&K==13){var W=this._getSelectedCell();this._setDateAndSwitchViews(W,L,"keyboard")}if(this.view=="year"){var D=Y.getMonth();var R=this._getYearAndMonthPart(this.getMinDate());var O=this._getYearAndMonthPart(this.getMaxDate());switch(K){case 37:if(D==0){var S=new Date(Y.getFullYear()-1,11,1);if(S>=R){this.selectedDate=S;this.navigateBackward()}else{if(this.selectedDate!=R){this.selectedDate=R;this.navigateBackward()}}}else{var S=new Date(Y.getFullYear(),D-1,1);if(S>=R){this._selectDate(S,"key")}}return false;case 38:var S=new Date(Y.getFullYear(),D-4,1);if(S<R){S=R}if(D-4<0){this.selectedDate=S;this.navigateBackward()}else{this._selectDate(S,"key")}return false;case 40:var S=new Date(Y.getFullYear(),D+4,1);if(S>O){S=O}if(D+4>11){this.selectedDate=S;this.navigateForward()}else{this._selectDate(S,"key")}return false;case 39:if(D==11){var S=new Date(Y.getFullYear()+1,0,1);if(S<=O){this.selectedDate=S;this.navigateForward()}else{if(this.selectedDate!=O){this.selectedDate=O;this.navigateForward()}}}else{var S=new Date(Y.getFullYear(),D+1,1);if(S<=O){this._selectDate(S,"key")}}return false}return true}if(this.view=="decade"){var M=this._renderStartDate.getFullYear();var Q=this._renderEndDate.getFullYear();var N=Y.getFullYear();var E=this.getMinDate().getFullYear();var X=this.getMaxDate().getFullYear();switch(K){case 37:if(N-1>=E){if(N<=M){this.selectedDate=new Date(N-1,Y.getMonth(),1);this.navigateBackward()}else{this._selectDate(new Date(N-1,Y.getMonth(),1),"key")}}return false;case 38:var C=N-4;if(N-4<E){C=E}if(C<M){this.selectedDate=new Date(C,Y.getMonth(),1);this.navigateBackward()}else{this._selectDate(new Date(C,Y.getMonth(),1),"key")}return false;case 40:var C=N+4;if(C>X){C=X}if(C>Q){this.selectedDate=new Date(C,Y.getMonth(),1);this.navigateForward()}else{this._selectDate(new Date(C,Y.getMonth(),1),"key")}return false;case 39:if(N+1<=X){if(N==Q){this.selectedDate=new Date(N+1,Y.getMonth(),1);this.navigateForward()}else{this._selectDate(new Date(N+1,Y.getMonth(),1),"key")}}return false}return true}var F=new c.jqx._jqxDateTimeInput.getDateTime(Y);var U=this.getViewStart();var V=this.getViewEnd();var G=F;var H=c.data(this.element,"View"+this.element.id);if(H==undefined||H==null){return true}if(K==36){F._setDay(1);if(this._isDisabled(F.dateTime)){return false}this._selectDate(F.dateTime,"key");return false}if(K==35){var I=this.value._daysInMonth(this.value.year,this.value.month);F._setDay(I);if(this._isDisabled(F.dateTime)){return false}this._selectDate(F.dateTime,"key");return false}var T=1;if(L.ctrlKey){T=12}if(K==34){var a=this.navigateForward(T);if(a){F._addMonths(T);if(this._isDisabled(F.dateTime)){return false}this._selectDate(F.dateTime,"key")}return false}if(K==33){var a=this.navigateBackward(T);if(a){F._addMonths(-T);if(this._isDisabled(F.dateTime)){return false}this._selectDate(F.dateTime,"key")}return false}if(K==38){F._addDays(-7);if(F.dateTime<this.getMinDate()){return false}if(F.dateTime<U){var a=this.navigateBackward();if(!a){return false}}if(this._isDisabled(F.dateTime)){return false}this._selectDate(F.dateTime,"key");for(var J=0;J<H.cells.length;J++){var W=H.cells[J];var P=W.getDate();if(W.isOtherMonth&&W.isSelected&&P<=F.dateTime){this.value.day=P.getDate();this.navigateBackward();this._selectDate(F.dateTime,"key");break}}return false}else{if(K==40){F._addDays(7);if(F.dateTime>this.getMaxDate()){return false}if(F.dateTime>V){var a=this.navigateForward();if(!a){return false}}if(this._isDisabled(F.dateTime)){return false}this._selectDate(F.dateTime,"key");for(var J=0;J<H.cells.length;J++){var W=H.cells[J];var P=W.getDate();if(W.isOtherMonth&&W.isSelected&&P>=F.dateTime){this.value.day=P.getDate();this.navigateForward();this._selectDate(F.dateTime,"key");break}}return false}}if(K==37){F._addDays(-1);if(F.dateTime<this.getMinDate()){return false}if(F.dateTime<U){var a=this.navigateBackward();if(!a){return false}}if(this._isDisabled(F.dateTime)){return false}this._selectDate(F.dateTime,"key");for(var J=0;J<H.cells.length;J++){var W=H.cells[J];var P=W.getDate();if(W.isOtherMonth&&W.isSelected&&P<=F.dateTime){if(F.dateTime<this.getMinDate()||F.dateTime>this.getMaxDate()){return false}if(this._isDisabled(F.dateTime)){return false}this.navigateBackward();this._selectDate(F.dateTime,"key");break}}return false}else{if(K==39){F._addDays(1);if(F.dateTime>this.getMaxDate()){return false}if(F.dateTime>V){var a=this.navigateForward();if(!a){return false}}if(this._isDisabled(F.dateTime)){return false}this._selectDate(F.dateTime,"key");for(var J=0;J<H.cells.length;J++){var W=H.cells[J];var P=W.getDate();if(W.isOtherMonth&&W.isSelected&&P>=F.dateTime){if(F.dateTime<this.getMinDate()||F.dateTime>this.getMaxDate()){return false}this.navigateForward();this._selectDate(F.dateTime,"key");break}}return false}}return true},render:function(){if(!this.canRender){return}this.host.children().remove();var d=this._renderSingleCalendar("View"+this.element.id);var a=this;this.host.append(d)},addSpecialDate:function(a,l,h){if(this.multipleMonthRows==1&&this.multipleMonthColumns==1){var f=this.specialDates.length;this.specialDates[f]={Date:a,Class:l,Tooltip:h};this.refreshControl()}},refresh:function(a){this.render()},invalidate:function(){this.refreshControl()},refreshControl:function(){if(this.multipleMonthRows==1&&this.multipleMonthColumns==1){this.refreshSingleCalendar("View"+this.element.id,null)}},getViewStart:function(){var d=this.getVisibleDate();var a=this.getFirstDayOfWeek(d);return a.dateTime},getViewEnd:function(){var d=this.getViewStart();var a=new c.jqx._jqxDateTimeInput.getDateTime(d);a._addDays(41);return a.dateTime},refreshSingleCalendar:function(q,s){if(!this.canRender){return}var n=this.host.find("#"+q);var t=this.getVisibleDate();var a=this.getFirstDayOfWeek(t);this.refreshCalendarCells(n,a,q);this.refreshTitle(n);this.refreshRowHeader(n,q);if(this.selectedDate!=undefined){this._selectDate(this.selectedDate)}var o=this.host.height()-this.titleHeight-this.columnHeaderHeight;if(!this.showDayNames){o=this.host.height()-this.titleHeight}if(this.showFooter){o-=20}var u=n.find("#cellsTable"+q);var l=n.find("#calendarRowHeader"+q);u.height(o);l.height(o)},refreshRowHeader:function(u,C){if(!this.showWeekNumbers){return}var L=this.getVisibleDate();var G=this.getFirstDayOfWeek(L);var B=G.dayOfWeek;var a=this.getWeekOfYear(G);var I=new c.jqx._jqxDateTimeInput.getDateTime(new Date(G.dateTime));I._addDays(5);I.dayOfWeek=I.dateTime.getDay();var E=this.getWeekOfYear(I);var J=this.rowHeader.find("table");J.width(this.rowHeaderWidth);var H=G;var w=new Array();for(var z=0;z<6;z++){var A=a.toString();var M=new c.jqx._jqxCalendar.cell(H.dateTime);var D=z+1+this.element.id;var F=c(J[0].rows[z].cells[0]);M.element=F;M.row=z;M.column=0;var K=F.find("#headerCellContent"+D);K.addClass(this.toThemeProperty("jqx-calendar-row-cell"));K[0].innerHTML=a;w[z]=M;H=new c.jqx._jqxDateTimeInput.getDateTime(new Date(H._addWeeks(1)));a=this.getWeekOfYear(H)}var v=c.data(this.element,u[0].id);v.rowCells=w;this._refreshOtherMonthRows(v,C)},_refreshOtherMonthRows:function(l,n){if(this.showOtherMonthDays){return}this._displayLastRow(true,n);this._displayFirstRow(true,n);var o=false;var h=false;for(var q=0;q<l.cells.length;q++){var a=l.cells[q];if(a.isVisible&&q<7){o=true}else{if(a.isVisible&&q>=l.cells.length-7){h=true}}}if(!o){this._displayFirstRow(false,n)}if(!h){this._displayLastRow(false,n)}},_displayLastRow:function(a,q){var h=this.host.find("#"+q);var l=h.find("#calendarRowHeader"+h[0].id).find("table");var o=null;if(this.showWeekNumbers){if(l[0].cells){var o=c(l[0].rows[5])}}var n=c(h.find("#cellTable"+h[0].id)[0].rows[5]);if(a){if(this.showWeekNumbers&&o){o.css("display","table-row")}n.css("display","table-row")}else{if(this.showWeekNumbers&&o){o.css("display","none")}n.css("display","none")}},_displayFirstRow:function(a,q){var n=this.host.find("#"+q);var o=n.find("#calendarRowHeader"+n[0].id).find("table");var l=null;if(this.showWeekNumbers){if(o[0].cells){var l=c(o[0].rows[0])}}var h=c(n.find("#cellTable"+n[0].id)[0].rows[0]);if(a){if(this.showWeekNumbers&&l){l.css("display","table-row")}h.css("display","table-row")}else{if(this.showWeekNumbers&&l){l.css("display","none")}h.css("display","none")}},_renderSingleCalendar:function(B,G){if(!this.canRender){return}var E=this.host.find("#"+B.toString());if(E!=null){E.remove()}var w=c("<div id='"+B.toString()+"'></div>");var P=this.getVisibleDate();var F=this.getFirstDayOfWeek(P);var M=new c.jqx._jqxDateTimeInput.getDateTime(F.dateTime);M._addMonths(1);var z=c.jqx._jqxCalendar.monthView(F,M,null,null,null,w);if(G==undefined||G==null){this.host.append(w);if(this.height!=undefined&&!isNaN(this.height)){w.height(this.height)}else{if(this.height!=null&&this.height.toString().indexOf("px")!=-1){w.height(this.height)}}if(this.width!=undefined&&!isNaN(this.width)){w.width(this.width)}else{if(this.width!=null&&this.width.toString().indexOf("px")!=-1){w.width(this.width)}}if(this.width!=null&&this.width.toString().indexOf("%")!=-1){w.width("100%")}if(this.height!=null&&this.height.toString().indexOf("%")!=-1){w.height("100%")}}else{G.append(w)}c.data(this.element,B,z);var A=this.host.height()-this.titleHeight-this.columnHeaderHeight;if(!this.showDayNames){A=this.host.height()-this.titleHeight}if(this.showFooter){A-=20}if(this.rowHeaderWidth<0){this.rowHeaderWidth=0}if(this.columnHeaderHeight<0){this.columnHeaderHeight=0}if(this.titleHeight<0){this.titleHeight=0}var K=this.rowHeaderWidth;var H=this.columnHeaderHeight;if(!this.showWeekNumbers){K=0}if(!this.showDayNames){H=0}var a="<div style='height:"+this.titleHeight+"px;'><table role='grid' style='margin: 0px; width: 100%; height: 100%; border-spacing: 0px;' cellspacing='0' cellpadding='0'><tr role='row' id='calendarTitle' width='100%'><td role='gridcell' NOWRAP id='leftNavigationArrow'></td><td aria-live='assertive' aria-atomic='true' role='gridcell' align='center' NOWRAP id='calendarTitleHeader'></td><td role='gridcell' NOWRAP id='rightNavigationArrow'></td></tr></table></div>";var O="<table role='grid' class='"+this.toThemeProperty("jqx-calendar-month")+"' style='margin: 0px; border-spacing: 0px;' cellspacing='0' cellpadding='0'><tr role='row' id='calendarHeader' height='"+H+"'><td role='gridcell' id='selectCell' width='"+K+"'></td><td role='gridcell' colspan='2' style='border: none; padding-left: 2px; padding-right: 2px' id='calendarColumnHeader'></td></tr><tr role='row' id='calendarContent'><td role='gridcell' id='calendarRowHeader' valign='top' height='"+A+"' width='"+K+"'></td><td role='gridcell' valign='top' colspan='2' style='padding-left: 2px; padding-right: 2px' id='cellsTable' height='"+A+"'></td></tr></table>";var C="<div id='footer' style='margin: 0px; display: none; height:"+N+"px;'><table style='width: 100%; height: 100%; border-spacing: 0px;' cellspacing='0' cellpadding='0'><tr id='calendarFooter'><td align='right' id='todayButton'></td><td align='left' colspan='2' id=doneButton></td></tr></table></div>";w[0].innerHTML=a+O+C;this.header=w.find("#calendarHeader");this.header[0].id="calendarHeader"+B;this.header.addClass(this.toThemeProperty("calendar-header"));this.columnHeader=w.find("#calendarColumnHeader");this.columnHeader[0].id="calendarColumnHeader"+B;this.table=w.find("#cellsTable");this.table[0].id="cellsTable"+B;this.rowHeader=w.find("#calendarRowHeader");this.rowHeader[0].id="calendarRowHeader"+B;this.selectCell=w.find("#selectCell");this.selectCell[0].id="selectCell"+B;this.title=w.find("#calendarTitle");this.title[0].id="calendarTitle"+B;this.leftButton=w.find("#leftNavigationArrow");this.leftButton[0].id="leftNavigationArrow"+B;this.titleHeader=w.find("#calendarTitleHeader");this.titleHeader[0].id="calendarTitleHeader"+B;this.rightButton=w.find("#rightNavigationArrow");this.rightButton[0].id="rightNavigationArrow"+B;this.footer=w.find("#calendarFooter");this._footer=w.find("#footer");this._footer[0].id="footer"+B;this.footer[0].id="calendarFooter"+B;this.todayButton=w.find("#todayButton");this.todayButton[0].id="todayButton"+B;this.doneButton=w.find("#doneButton");this.doneButton[0].id="doneButton"+B;this.title.addClass(this.toThemeProperty("jqx-calendar-title-container"));var N=20;if(this.showFooter){this._footer.css("display","block")}w.find("tr").addClass(this.toThemeProperty("jqx-reset"));w.addClass(this.toThemeProperty("jqx-widget-content"));w.addClass(this.toThemeProperty("jqx-calendar-month-container"));this.month=w;this.selectCell.addClass(this.toThemeProperty("jqx-reset"));this.selectCell.addClass(this.toThemeProperty("jqx-calendar-top-left-header"));if(this.showWeekNumbers){this._renderRowHeader(w)}else{this.table[0].colSpan=3;this.columnHeader[0].colSpan=3;this.rowHeader.css("display","none");this.selectCell.css("display","none")}if(this.showFooter){this.footer.height(20);var I=c("<a href='javascript:;'>"+this.todayString+"</a>");I.appendTo(this.todayButton);var J=c("<a href='javascript:;'>"+this.clearString+"</a>");J.appendTo(this.doneButton);J.addClass(this.toThemeProperty("jqx-calendar-footer"));I.addClass(this.toThemeProperty("jqx-calendar-footer"));var D=this;var L="mousedown";if(c.jqx.mobile.isTouchDevice()){L=c.jqx.mobile.getTouchEventName("touchstart")}this.addHandler(I,L,function(){if(D.today){D.today()}else{D.setDate(new Date(),"mouse")}return false});this.addHandler(J,L,function(){if(D.clear){D.clear()}else{D.setDate(null,"mouse")}return false})}if(this.view!="month"){this.header.hide()}if(this.showDayNames&&this.view=="month"){this.renderColumnHeader(w)}this.oldView=this.view;this.renderCalendarCells(w,F,B);if(G==undefined||G==null){this.renderTitle(w)}this._refreshOtherMonthRows(z,B);w.find("tbody").css({border:"none",background:"transparent"});if(this.selectedDate!=undefined){this._selectDate(this.selectedDate)}var v=this;this.addHandler(this.host,"focus",function(){v.focus()});return w},_getTitleFormat:function(){switch(this.view){case"month":return this.titleFormat[0];case"year":return this.titleFormat[1];case"decade":return this.titleFormat[2];case"centuries":return this.titleFormat[3]}},renderTitle:function(z){var I=c("<div role='button' style='float: left;'></div>");var H=c("<div role='button' style='float: right;'></div>");var E=this.title;E.addClass(this.toThemeProperty("jqx-reset"));E.addClass(this.toThemeProperty("jqx-widget-header"));E.addClass(this.toThemeProperty("jqx-calendar-title-header"));var O=E.find("td");if(c.jqx.browser.msie&&c.jqx.browser.version<8){if(O.css("background-color")!="transparent"){var M=E.css("background-color");O.css("background-color",M)}if(O.css("background-image")!="transparent"){var P=E.css("background-image");var D=E.css("background-repeat");var Q=E.css("background-position");O.css("background-image",P);O.css("background-repeat",D);O.css("background-position","left center scroll")}}else{O.css("background-color","transparent")}if(this.disabled){E.addClass(this.toThemeProperty("jqx-calendar-title-header-disabled"))}I.addClass(this.toThemeProperty("jqx-calendar-title-navigation"));I.addClass(this.toThemeProperty("jqx-icon-arrow-left"));I.appendTo(this.leftButton);var G=this.leftButton;H.addClass(this.toThemeProperty("jqx-calendar-title-navigation"));H.addClass(this.toThemeProperty("jqx-icon-arrow-right"));H.appendTo(this.rightButton);var R=this.rightButton;if(this.enableTooltips){if(c(G).jqxTooltip){c(G).jqxTooltip({name:this.element.id,position:"mouse",theme:this.theme,content:this.backText});c(R).jqxTooltip({name:this.element.id,position:"mouse",theme:this.theme,content:this.forwardText})}}var F=this.titleHeader;var a=this._format(this.value.dateTime,this._getTitleFormat(),this.culture);if(this.view=="decade"){var C=this._format(this._renderStartDate,this._getTitleFormat(),this.culture);var J=this._format(this._renderEndDate,this._getTitleFormat(),this.culture);a=C+" - "+J}else{if(this.view=="centuries"){var C=this._format(this._renderCenturyStartDate,this._getTitleFormat(),this.culture);var J=this._format(this._renderCenturyEndDate,this._getTitleFormat(),this.culture);a=C+" - "+J}}var N=c("<div style='background: transparent; margin: 0; padding: 0; border: none;'>"+a+"</div>");F.append(N);N.addClass(this.toThemeProperty("jqx-calendar-title-content"));var A=parseInt(I.width());var K=z.width()-2*A;var B=F.find(".jqx-calendar-title-content").width(K);c.data(I,"navigateLeft",this);c.data(H,"navigateRight",this);var L=c.jqx.mobile.isTouchDevice();if(!this.disabled){var w=this;this.addHandler(F,"mousedown",function(e){if(w.enableViews){if(!w._viewAnimating&&!w._animating){var d=w.view;w.oldView=d;switch(w.view){case"month":w.view="year";break;case"year":w.view="decade";break}if(w.views.indexOf("year")==-1&&w.view=="year"){w.view="decade"}if(w.views.indexOf("decade")==-1&&w.view=="decade"){w.view=d}if(d!=w.view){var h="View"+w.element.id;var n=w.host.find("#"+h);var l=w.getVisibleDate();var f=w.getFirstDayOfWeek(l);w.renderCalendarCells(n,f,h,true);w.refreshTitle(n);w._raiseEvent("8")}}return false}});this.addHandler(I,"mousedown",function(d){if(!w._animating){c.data(I,"navigateLeftRepeat",true);var e=c.data(I,"navigateLeft");if(e.enableFastNavigation&&!L){e.startRepeat(e,I,true,w.navigationDelay+200)}e.navigateBackward(1,"arrow");d.stopPropagation();d.preventDefault();return e._raiseEvent(0,d)}else{return false}});this.addHandler(I,"mouseup",function(d){c.data(I,"navigateLeftRepeat",false)});this.addHandler(I,"mouseleave",function(d){c.data(I,"navigateLeftRepeat",false)});this.addHandler(H,"mousedown",function(d){if(!w._animating){c.data(H,"navigateRightRepeat",true);var e=c.data(H,"navigateRight");if(e.enableFastNavigation&&!L){e.startRepeat(e,H,false,w.navigationDelay+200)}e.navigateForward(1,"arrow");d.stopPropagation();d.preventDefault();return e._raiseEvent(1,d)}else{return false}});this.addHandler(H,"mouseup",function(d){c.data(H,"navigateRightRepeat",false)});this.addHandler(H,"mouseleave",function(d){c.data(H,"navigateRightRepeat",false)})}},refreshTitle:function(o){var n=this._format(this.value.dateTime,this._getTitleFormat(),this.culture);if(this.view=="decade"){var s=this._format(this._renderStartDate,this._getTitleFormat(),this.culture);var a=this._format(this._renderEndDate,this._getTitleFormat(),this.culture);n=s+" - "+a}else{if(this.view=="centuries"){var s=this._format(this._renderCenturyStartDate,this._getTitleFormat(),this.culture);var a=this._format(this._renderCenturyEndDate,this._getTitleFormat(),this.culture);n=s+" - "+a}}var q=this.titleHeader;if(this.titleHeader){var t=q.find(".jqx-calendar-title-content");var l=c("<div style='background: transparent; margin: 0; padding: 0; border: none;'>"+n+"</div>");q.append(l);l.addClass(this.toThemeProperty("jqx-calendar-title-content"));if(t!=null){t.remove()}}},startRepeat:function(n,a,h,l){var o=window.setTimeout(function(){var d=c.data(a,"navigateLeftRepeat");if(!h){d=c.data(a,"navigateRightRepeat")}if(d){if(l<25){l=25}if(h){n.navigateBackward(1,"arrow");n.startRepeat(n,a,true,l)}else{n.navigateForward(1,"arrow");o=n.startRepeat(n,a,false,l)}}else{window.clearTimeout(o);return}},l)},navigateForward:function(n,o){if(n==undefined||n==null){n=this.stepMonths}var q=this.value.year;if(this.view=="decade"){q=this._renderStartDate.getFullYear()+12;if(this._renderEndDate.getFullYear()>=this.getMaxDate().getFullYear()){return}}else{if(this.view=="year"){q=this.value.year+1}else{if(this.view=="centuries"){q=this.value.year+100}}}if(this.view!="month"){var a=this.getMaxDate().getFullYear();if(a<q||q>a){q=a}if(this.value.year==q){if(this.view==="decade"){if(this.value.year>this._renderEndDate.getFullYear()){this.value.year=q;this.value.month=1;this.value.day=1}else{return}}else{return}}this.value.year=q;this.value.month=1;this.value.day=1}var u=this.value.day;var l=this.value.month;if(l+n<=12){var s=this.value._daysInMonth(this.value.year,this.value.month+n);if(u>s){u=s}}if(this.view=="month"){var t=new Date(this.value.year,this.value.month-1+n,u);if(o=="arrow"&&this.selectableDays.length==7&&this.selectionMode!="range"){this.selectedDate=new Date(this.value.year,this.value.month-1+n,1)}}else{var t=new Date(this.value.year,this.value.month-1,u)}return this.navigateTo(t)},navigateBackward:function(o,q){if(o==undefined||o==null){o=this.stepMonths}var s=this.value.year;if(this.view=="decade"){s=this._renderStartDate.getFullYear()-12}else{if(this.view=="year"){s=this.value.year-1}else{if(this.view=="centuries"){s=this.value.year-100}}}if(this.view!="month"){var l=this.getMinDate().getFullYear();if(s<l){s=l}if(this.view=="decade"){if(this._renderStartDate){if(this._renderStartDate.getFullYear()==s){return}}}this.value.year=s;this.value.month=1;this.value.day=1}var a=this.value.day;var n=this.value.month;if(n-o>=1){var t=this.value._daysInMonth(this.value.year,this.value.month-o);if(a>t){a=t}}if(this.view=="month"){var u=new Date(this.value.year,this.value.month-1-o,a);if(q=="arrow"&&this.selectableDays.length==7&&this.selectionMode!="range"){this.selectedDate=new Date(this.value.year,this.value.month-1-o,1)}}else{var u=new Date(this.value.year,this.value.month-1,a)}return this.navigateTo(u)},_isRestrictedRange:function(e,f){if(e>f){return true}var a=e;while(a.valueOf()<=f.valueOf()){if(this._isRestrictedDate(a)){return true}a.setDate(a.getDate()+1)}return false},_hasUnrestrictedRanges:function(e,f){if(e>f){return false}var a=e;while(a.valueOf()<=f.valueOf()){if(!this._isRestrictedDate(a)){return true}a.setDate(a.getDate()+1)}return false},_getNextUnrestrictedDay:function(e,f){if(e>f){return null}var a=e;while(a.valueOf()<=f.valueOf()){if(!this._isRestrictedDate(a)){return a}a.setDate(a.getDate()+1)}return null},_isRestrictedDate:function(o){var q=this;if(!c.isArray(q.restrictedDates)){return false}for(var h=0;h<q.restrictedDates.length;h++){var a=q.restrictedDates[h];if(typeof(a)=="object"&&a.from!=undefined&&a.to!=undefined){var l=a.from;var n=a.to;if(o.valueOf()>=l.valueOf()&&o.valueOf()<=n.valueOf()){return true}}else{if(a.getMonth()==o.getMonth()&&a.getDate()==o.getDate()&&a.getFullYear()==o.getFullYear()){return true}}}return false},_isDisabled:function(h){var f=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];var a=h.getDay();var l=f[a];if(this.selectableDays.indexOf(l)==-1){return true}if(this._isRestrictedDate(h)){return true}return false},refreshCalendarCells:function(a,M,I){if(this.view=="year"||this.view=="decade"||this.view=="centuries"){this.refreshViews(a,M,I);return}var D=this.table;var E=D.find("#cellTable"+I.toString());var N=M;var P=new Array();var H=0;var B=new c.jqx._jqxDateTimeInput.getDateTime(new Date());for(var F=0;F<6;F++){for(var G=0;G<7;G++){var O=F+1;var K=G;if(this.rtl){K=6-K}var C=K+1;var J="#cell"+O+C+this.element.id;var z=new Date(N.dateTime.getFullYear(),N.dateTime.getMonth(),N.dateTime.getDate());var Q=new c.jqx._jqxCalendar.cell(z);var L=c(E[0].rows[F].cells[C-1]);L[0].id=J.substring(1);Q.element=L;Q.row=F;Q.column=G;Q.isVisible=true;Q.isOtherMonth=false;Q.isToday=false;Q.isWeekend=false;Q.isHighlighted=false;Q.isSelected=false;if(N.month!=this.value.month){Q.isOtherMonth=true;Q.isVisible=this.showOtherMonthDays}if(this._isRestrictedDate(z)){Q.isRestricted=true;Q.isDisabled=true}if(!Q.isDisabled){if(z<this.getMinDate()||z>this.getMaxDate()||this._isDisabled(z)){Q.isDisabled=true}}if(N.month==B.month&&N.day==B.day&&N.year==B.year){Q.isToday=true}if(N.isWeekend()){Q.isWeekend=true}c.data(this.element,"cellContent"+J.substring(1),Q);c.data(this.element,J.substring(1),Q);P[H]=Q;H++;c.jqx.utilities.html(L,N.day);this._applyCellStyle(Q,L,L);N=new c.jqx._jqxDateTimeInput.getDateTime(new Date(N._addDays(1)))}}var A=c.data(this.element,a[0].id);if(A!=undefined&&A!=null){A.cells=P}this.renderedCells=P;this._refreshOtherMonthRows(A,I)},_getDecadeAndCenturiesData:function(){var v=new Array();var a=new Array();var D=this.getMaxDate().getFullYear()-this.getMinDate().getFullYear();if(D<12){D=12}var A=this.getMinDate();var E=this.getMaxDate();var u=this.value.dateTime.getFullYear();if(this.view=="decade"){if(u+12>E.getFullYear()){u=E.getFullYear()-11}if(u<A.getFullYear()){u=A.getFullYear()}for(var w=0;w<D;w++){var C=new Date(A.getFullYear()+w,0,1);if(A.getFullYear()<=u&&u<=C.getFullYear()){var z=new Date(C.getFullYear(),C.getMonth(),1);for(var B=0;B<12;B++){var q=new Date(z.getFullYear()+B,this.value.dateTime.getMonth(),this.value.dateTime.getDate());var t=q.getFullYear();if(A.getFullYear()<=t&&t<=E.getFullYear()){v.push(t);a.push(q);if(B==0){this._renderStartDate=q}this._renderEndDate=q}else{v.push(t);a.push(q)}}break}}}else{if(this.view=="centuries"){for(var w=0;w<D;w+=120){var C=new Date(A.getFullYear()+w+120,0,1);if(A.getFullYear()<=u&&u<=C.getFullYear()){var z=new Date(C.getFullYear()-130,C.getMonth(),1);if(z<A){z=A}for(var B=0;B<12;B++){var s=new Date(z.getFullYear()+B*10,z.getMonth(),1);if(z.getFullYear()>=A.getFullYear()&&s.getFullYear()<=E.getFullYear()){v.push("<span style='visibility: hidden;'>-</span>"+s.getFullYear()+"-"+(s.getFullYear()+9));a.push(s);if(B==0){this._renderCenturyStartDate=s}this._renderCenturyEndDate=new Date(s.getFullYear()+9,0,1)}}break}}}}return{years:v,dates:a}},refreshViews:function(Q,T,K){var N=this;var aa=new Array();var G=Q.find("#cellTable"+K.toString());var L=this._getDecadeAndCenturiesData();var U=L.years;var M=L.dates;var J=0;var X=this.getMinDate();var S=this.getMaxDate();for(var H=0;H<3;H++){for(var I=0;I<4;I++){var Z=H+1;var O=I;if(this.rtl){O=3-O}var F=O+1;var a=new Date(this.value.dateTime);a.setDate(1);a.setMonth(H*4+O);var ab=new c.jqx._jqxCalendar.cell(a);var Y=G[0].rows["row"+(1+H)+this.element.id];var R=c(Y.cells[I]);ab.isSelected=false;ab.isVisible=true;ab.element=R;ab.row=H;ab.column=I;ab.index=aa.length;var P="";if(this.view=="year"){var V=this.localization.calendar.months.names;var W=V[H*4+O];switch(this.monthNameFormat){case"default":W=this.localization.calendar.months.namesAbbr[H*4+O];break;case"shortest":W=this.localization.calendar.months.namesShort[H*4+O];break;case"firstTwoLetters":W=W.substring(0,2);break;case"firstLetter":W=W.substring(0,1);break}P=W}else{if(this.view=="decade"||this.view=="centuries"){P=U[H*4+O];if(undefined==P){P="<span style='cursor: default; visibility: hidden;'>2013</span>"}ab.setDate(M[H*4+O])}}var a=ab.getDate();if(this.view=="year"){if(a.getMonth()==this.getDate().getMonth()&&a.getFullYear()==this.getDate().getFullYear()){ab.isSelected=true}}else{if(a.getFullYear()==this.getDate().getFullYear()){ab.isSelected=true}}if(this.view=="year"){if(this._getYearAndMonthPart(a)<this._getYearAndMonthPart(X)){ab.isDisabled=true}if(this._getYearAndMonthPart(a)>this._getYearAndMonthPart(S)){ab.isDisabled=true}}else{if(a.getFullYear()<X.getFullYear()){ab.isDisabled=true}if(a.getFullYear()>S.getFullYear()){ab.isDisabled=true}}c.jqx.utilities.html(R,P);aa[J]=ab;J++}}var E=c.data(this.element,Q[0].id);if(E!=undefined&&E!=null){E.cells=aa}this.renderedCells=aa;this._applyCellStyles()},_createViewClone:function(){var a=this.host.find(".jqx-calendar-month");var d=a.clone();d.css("position","absolute");d.css("top",a.position().top);return d},_addCellsTable:function(l,n){var q=this;var t=this.showFooter?20:0;if(this.view!="month"){n.height(this.host.height()-this.titleHeight)}else{n.height(this.host.height()-this.titleHeight-this.columnHeaderHeight-t)}this._viewAnimating=true;var a=this.host.find(".jqx-calendar-month-container");a.css("position","relative");var s=this.host.find(".jqx-calendar-month");var o=this._createViewClone();a.append(o);if(this.view!="month"){this.header.fadeOut(0);if(this.showWeekNumbers){this.rowHeader.fadeOut(0)}if(this.showFooter){this._footer.fadeOut(0)}}else{this.header.fadeIn(this.navigationDelay+200);if(this.showWeekNumbers){this.rowHeader.fadeIn(this.navigationDelay+200)}if(this.showFooter){this._footer.fadeIn(this.navigationDelay+200)}}l.children().remove();l.append(n);this._animateViews(o,n,function(){if(!q.selectedDate&&q.selectionMode!="range"){q.selectedDate=q.renderedCells[0].getDate()}try{q.renderedCells[0].element.focus();setTimeout(function(){q.renderedCells[0].element.focus()},10)}catch(d){}q._viewAnimating=false});n.addClass(this.toThemeProperty("jqx-calendar-view"))},_animateViews:function(l,a,f){var h=this;h._viewAnimating=true;if(h.oldView==h.view){l.remove();a.fadeOut(0);a.fadeIn(0);f();return}l.fadeOut(this.navigationDelay+100,function(){l.remove()});a.fadeOut(0);a.fadeIn(this.navigationDelay+200,function(){f()})},focus:function(){try{if(this.renderedCells&&this.renderedCells.length>0){var e=this;var f=false;if(!e.selectedDate&&e.selectionMode!="range"){this.setDate(new Date(),"mouse")}this.element.focus()}}catch(a){}},renderViews:function(S,ac,P){var R=this;var ai=new Array();var a=c("<table role='grid' style='border-color: transparent; width: 100%; height: 100%;' cellspacing='2' cellpadding='0' id=cellTable"+P.toString()+"><tr role='row' id='row1"+this.element.id+"'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row' id='row2"+this.element.id+"'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row' id='row3"+this.element.id+"'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr></table>");var Y=this.host.find(".jqx-calendar-month-container");Y.css("position","relative");var aa=S.find("#cellsTable"+S[0].id);aa[0].style.borderColor="transparent";var K=this._getDecadeAndCenturiesData();var ad=K.years;var M=K.dates;var N=0;var ag=this.getMinDate();var ab=this.getMaxDate();var T=new Date(this.value.dateTime);T.setDate(1);for(var J=0;J<3;J++){for(var L=0;L<4;L++){var aj=J+1;var Q=L;if(this.rtl){Q=3-Q}var X=Q+1;var ah=a[0].rows["row"+(1+J)+this.element.id];var V=new Date(T);V.setMonth(J*4+Q);var ak=new c.jqx._jqxCalendar.cell(V);var Z=c(ah.cells[L]);ak.isVisible=true;ak.element=Z;ak.row=J;ak.column=L;ak.index=ai.length;ak.isSelected=false;var U="";if(this.view=="year"){if(V.getMonth()==this.getDate().getMonth()&&V.getFullYear()==this.getDate().getFullYear()){ak.isSelected=true}var ae=this.localization.calendar.months.names;var af=ae[J*4+Q];switch(this.monthNameFormat){case"default":af=this.localization.calendar.months.namesAbbr[J*4+Q];break;case"shortest":af=this.localization.calendar.months.namesShort[J*4+Q];break;case"firstTwoLetters":af=af.substring(0,2);break;case"firstLetter":af=af.substring(0,1);break}U=af}else{if(this.view=="decade"||this.view=="centuries"){U=ad[J*4+Q];ak.setDate(M[J*4+Q]);if(ak.getDate().getFullYear()==this.getDate().getFullYear()){ak.isSelected=true}if(undefined==U){U="<span style='cursor: default; visibility: hidden;'>2013</span>"}}}var V=ak.getDate();if(this.view=="year"){var al=new Date(V);al.setDate(1);al.setHours(0,0,0,0);al.setMonth(V.getMonth()+1);al=new Date(al.valueOf()-1);if(this._getYearAndMonthPart(V)<this._getYearAndMonthPart(ag)||this._getYearAndMonthPart(V)>this._getYearAndMonthPart(ab)||!this._hasUnrestrictedRanges(V,al)){ak.isDisabled=true}}else{var O=new Date(V);O.setMonth(0);O.setDate(1);O.setHours(0,0,0,0);O.setFullYear(V.getFullYear()+1);O=new Date(O.valueOf()-1);if(V.getFullYear()<ag.getFullYear()||V.getFullYear()>ab.getFullYear()||!this._hasUnrestrictedRanges(V,O)){ak.isDisabled=true}}c.jqx.utilities.html(Z,U);ai[N]=ak;N++}}c.each(ai,function(){var d=this.element;var e=this;if(!R.disabled){R.addHandler(d,"mousedown",function(f){R._setDateAndSwitchViews(e,f,"mouse")});R.addHandler(d,"mouseover",function(h){var f=R.renderedCells[e.index];if(R.view!="centuries"&&f.element.html().toLowerCase().indexOf("span")!=-1){return}f.isHighlighted=true;R._applyCellStyle(f,f.element,f.element)});R.addHandler(d,"mouseout",function(h){var f=R.renderedCells[e.index];if(R.view!="centuries"&&f.element.html().toLowerCase().indexOf("span")!=-1){return}f.isHighlighted=false;R._applyCellStyle(f,f.element,f.element)})}});var W=c.data(this.element,S[0].id);if(W!=undefined&&W!=null){W.cells=ai}this.renderedCells=ai;this._addCellsTable(aa,a);this._applyCellStyles()},_setDateAndSwitchViews:function(o,B,t){if(!this._viewAnimating&&!this._animating){var w=this.getDate();var A=this.renderedCells[o.index].getDate();var s=this.value.dateTime.getDate();var q=new Date(A);if(this.views.indexOf("month")!=-1){q.setDate(s)}else{q.setDate(1);A.setDate(1)}if(q.getMonth()==A.getMonth()){A=q}var u=this.getMinDate();var C=this.getMaxDate();if(this.view=="year"){if(this._getYearAndMonthPart(A)<this._getYearAndMonthPart(u)){return}if(this._getYearAndMonthPart(A)>this._getYearAndMonthPart(C)){return}}else{if(A.getFullYear()<u.getFullYear()){return}if(A.getFullYear()>C.getFullYear()){return}}if(this.selectionMode!="range"){this._selectDate(A,t)}this.oldView=this.view;switch(this.view){case"year":this.view="month";break;case"decade":this.view="year";break}if(this.views.indexOf("month")==-1){this.view="year"}if(this.views.indexOf("year")==-1){this.view="decade"}if(this.view=="year"){if(this._getYearAndMonthPart(A)<this._getYearAndMonthPart(u)){A=u}if(this._getYearAndMonthPart(A)>this._getYearAndMonthPart(C)){A=C}}else{if(A.getFullYear()<u.getFullYear()){A=u}if(A.getFullYear()>C.getFullYear()){A=C}}if(this.changing&&(this.selectedDate&&(this.selectedDate.getFullYear()!=A.getFullYear()||this.selectedDate.getMonth()!=A.getMonth()||this.selectedDate.getDate()!=A.getDate()))){A=this.selectedDate}this.value._setYear(A.getFullYear());this.value._setDay(A.getDate());this.value._setMonth(A.getMonth()+1);this.value._setDay(A.getDate());var v=this.getVisibleDate();var D=this.getFirstDayOfWeek(v);var z="View"+this.element.id;this.renderCalendarCells(this.month,D,z,true);this.refreshTitle(this.month);if(this.showWeekNumbers){this.refreshRowHeader(this.month,z)}if(this.views.length==3){if(this.view=="month"){if(this.selectionMode!="range"){this._selectDate(this.selectedDate,"view")}else{var a=this;c.each(this.renderedCells,function(f){var n=this;var d=n.getDate();var l=c(n.element);var h=l;if(l.length==0){return false}var e=function(E){if(E==null){return new Date()}var F=new Date();F.setHours(0,0,0,0);F.setFullYear(E.getFullYear(),E.getMonth(),E.getDate());return F};if(!n.isOtherMonth&&e(d).toString()==e(A).toString()){a.value._setMonth(A.getMonth()+1);a.value._setDay(A.getDate());a.value._setYear(A.getFullYear())}n.isSelected=false;n.isDisabled=false;if(e(d)<e(a.selection.from)&&a._clicks==1){n.isDisabled=true}if(a.getMaxDate()<d){n.isDisabled=true}if(a.getMinDate()>d){n.isDisabled=true}if(a._isDisabled(d)){n.isDisabled=true}if(!n.isDisabled){if(e(d)>=e(a.selection.from)&&e(d)<=e(a.selection.to)){n.isSelected=true}}});this._applyCellStyles()}}}if(this.view!="month"){if(this.oldView=="year"||(this.views.indexOf("year")==-1&&this.view=="decade")){if(t!="keyboard"){this._raiseEvent("3")}this._raiseEvent("5",{selectionType:"mouse"})}}this._raiseEvent("8")}},renderCalendarCells:function(N,V,M,Q){if(this.view=="year"||this.view=="decade"||this.view=="centuries"){this.renderViews(N,V,M);return}var G=c("<table role='grid' style='width: 100%; height: 100%; border-color: transparent;' cellspacing='2' cellpadding='1' id=cellTable"+M.toString()+"><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr></table>");var F=this.table;F[0].style.borderColor="transparent";if(Q==undefined){var Y=F.find("#cellTable"+M.toString());if(Y!=null){Y.remove()}F.append(G)}var W=V;var ad=this.showDayNames?1:0;var Z=this.showWeekNumbers?1:0;var ab=new Array();var L=0;var I=(N.width()-this.rowHeaderWidth-2)/7;if(!this.showWeekNumbers){I=(N.width()-2)/7}I=parseInt(I);var S=new c.jqx._jqxDateTimeInput.getDateTime(new Date());for(var H=0;H<6;H++){for(var J=0;J<7;J++){var aa=H+1;var T=J;if(this.rtl){T=6-T}var a=T+1;var R="#cell"+aa+a+this.element.id;var O=new Date(W.dateTime.getFullYear(),W.dateTime.getMonth(),W.dateTime.getDate());var ac=new c.jqx._jqxCalendar.cell(O);var U=c(G[0].rows[H].cells[a-1]);U[0].id=R.substring(1);ac.isVisible=true;ac.isDisabled=false;if(W.month!=this.value.month){ac.isOtherMonth=true;ac.isVisible=this.showOtherMonthDays}if(this._isRestrictedDate(O)){ac.isRestricted=true;ac.isDisabled=true}if(!ac.isDisabled){if(O<this.getMinDate()||O>this.getMaxDate()||this._isDisabled(O)){ac.isDisabled=true}}if(W.month==S.month&&W.day==S.day&&W.year==S.year){ac.isToday=true}if(W.isWeekend()){ac.isWeekend=true}ac.element=U;ac.row=ad;ac.column=Z;c.jqx.utilities.html(U,W.day);W=new c.jqx._jqxDateTimeInput.getDateTime(new Date(W._addDays(1)));c.data(this.element,"cellContent"+R.substring(1),ac);c.data(this.element,""+R.substring(1),ac);var K=this;this.addHandler(U,"mousedown",function(f){if(!K.readOnly&&!K.disabled){var l=c(f.target);var e=c.data(K.element,l[0].id);var h=K._raiseEvent(3,f);if(e!=null&&e!=undefined){var q=e.getDate();if(K.getMinDate()<=q&&q<=K.getMaxDate()){if(!e.isDisabled){if(e.isOtherMonth&&K.enableAutoNavigation){if(e.row<2){K.navigateBackward()}else{K.navigateForward()}K._selectDate(e.getDate(),"mouse",f.shiftKey)}else{var o=new Date(K.getDate());K._selectDate(e.getDate(),"mouse",f.shiftKey);K.value._setYear(q.getFullYear());K.value._setDay(1);K.value._setMonth(q.getMonth()+1);K.value._setDay(q.getDate());var n=K.host.find(".jqx-calendar-month");n.stop();n.css("margin-left","0px");var d=K.getDate();K._raiseEvent("2");if(e.isOtherMonth){K._raiseEvent("5",{selectionType:"mouse"})}}}}}return false}});if(!K.disabled){var X=function(l,e){if(!K.readOnly){var h=c(l.target);var f=c.data(K.element,h[0].id);if(f!=null&&f!=undefined){var d=f.getDate();if(K.getMinDate()<=d&&d<=K.getMaxDate()){f.isHighlighted=e;K._applyCellStyle(f,f.element,h)}}}};this.addHandler(U,"mouseenter",function(d){X(d,true);return false});this.addHandler(U,"mouseleave",function(d){X(d,false);return false})}Z++;ab[L]=ac;L++}Z=0;ad++}var P=c.data(this.element,N[0].id);if(P!=undefined&&P!=null){P.cells=ab}this.renderedCells=ab;if(Q!=undefined){this._addCellsTable(F,G)}this._applyCellStyles();this._refreshOtherMonthRows(P,M)},setMaxDate:function(a,d){if(a!=null&&typeof(a)=="string"){a=new Date(a);if(a=="Invalid Date"){return}}this.maxDate=c.jqx._jqxDateTimeInput.getDateTime(a);if(d!==false){this.render()}},getMaxDate:function(){if(this.maxDate!=null&&this.maxDate!=undefined){return this.maxDate.dateTime}return null},setMinDate:function(a,d){if(a!=null&&typeof(a)=="string"){a=new Date(a);if(a=="Invalid Date"){return}}this.minDate=c.jqx._jqxDateTimeInput.getDateTime(a);if(d!==false){this.render()}},getMinDate:function(){if(this.minDate!=null&&this.minDate!=undefined){return this.minDate.dateTime}return null},navigateTo:function(u,s){if(this.view=="month"){var t=this.getMinDate();var z=new Date(this.getMaxDate().getFullYear(),this.getMaxDate().getMonth()+1,this.getMaxDate().getDate());if((u<this._getYearAndMonthPart(t))||(u>this._getYearAndMonthPart(z))){return false}}else{if(u&&(u.getFullYear()<this.getMinDate().getFullYear()||u.getFullYear()>this.getMaxDate().getFullYear())){return false}}if(u==null){return false}if(s==undefined){var q=this;if(this._animating){return}this._animating=true;var w=this.host.find(".jqx-calendar-month-container");if(this._viewClone){this._viewClone.stop();this._viewClone.remove()}if(this._newViewClone){this._newViewClone.stop();this._newViewClone.remove()}var n=this.host.find(".jqx-calendar-month");n.stop();n.css("margin-left","0px");var A=n.clone();this._viewClone=A;var o=new Date(this.value.dateTime);this.value._setYear(u.getFullYear());this.value._setDay(u.getDate());this.value._setMonth(u.getMonth()+1);q.refreshControl();w.css("position","relative");A.css("position","absolute");A.css("top",n.position().top);w.append(A);if(c.jqx.browser.msie&&c.jqx.browser.version<8){this.month.css("position","relative");this.month.css("overflow","hidden");this.table.css("position","relative");this.table.css("overflow","hidden")}var v=-this.host.width();if(u<o){if(this.view=="month"&&u.getMonth()!=o.getMonth()){v=this.host.width()}else{if(u.getFullYear()!=o.getFullYear()){v=this.host.width()}}}A.animate({marginLeft:parseInt(v)+"px"},this.navigationDelay,function(){A.remove()});var a=n.clone();this._newViewClone=a;a.css("position","absolute");a.css("top",n.position().top);w.append(a);a.css("margin-left",-v);n.css("visibility","hidden");a.animate({marginLeft:"0px"},this.navigationDelay,function(){a.remove();n.css("visibility","inherit");q._animating=false})}else{this.value._setYear(u.getFullYear());this.value._setDay(u.getDate());this.value._setMonth(u.getMonth()+1);var n=this.host.find(".jqx-calendar-month");n.stop();n.css("margin-left","0px");this.refreshControl()}this._raiseEvent("2");this._raiseEvent("8");return true},setDate:function(a){if(a!=null&&typeof(a)=="string"){a=new Date(a)}if(this.canRender==false){this.canRender=true;this.render()}this.navigateTo(a,"api");this._selectDate(a);if(this.selectionMode=="range"){this._selectDate(a,"mouse")}return true},val:function(a){if(arguments.length!=0){if(a==null){this.setDate(null)}if(a instanceof Date){this.setDate(a)}if(typeof(a)=="string"){this.setDate(a)}}return this.getDate()},getDate:function(){if(this.selectedDate==undefined){return new Date()}return this.selectedDate},getValue:function(){if(this.value==undefined){return new Date()}return this.value.dateTime},setRange:function(d,a){if(this.canRender==false){this.canRender=true;this.render()}this.navigateTo(d,"api");this._selectDate(d,"mouse");this._selectDate(a,"mouse")},getRange:function(){return this.selection},_selectDate:function(u,q,v){if(this.selectionMode=="none"){return}if(q==null||q==undefined){q="none"}if(v==null||v==undefined){v=false}var n=c.data(this.element,"View"+this.element.id);if(n==undefined||n==null){return}if(this.changing){if(u&&this.selectedDate){if(this.selectedDate.getFullYear()!=u.getFullYear()||this.selectedDate.getDate()!=u.getDate()||this.selectedDate.getMonth()!=u.getMonth()){var l=this.changing(this.selectedDate,u)}if(l){u=l}}}var a=this;if(this.input){if(u!=null){this.input.val(u.toString())}else{this.input.val("")}}var t=this.selectedDate;this.selectedDate=u;if(this.view!="month"){if(t!=u){this._raiseEvent(7,{selectionType:q})}c.each(this.renderedCells,function(h){var e=this;var f=e.getDate();var d=c(e.element);var z=d.find("#cellContent"+d[0].id);if(u==null){e.isSelected=false;e.isDisabled=false}else{e.isSelected=false;if(f){if((f.getMonth()==u.getMonth()&&a.view=="year"&&f.getFullYear()==u.getFullYear())||(a.view=="decade"&&f.getFullYear()==u.getFullYear())){e.isSelected=true;try{if(q!="none"){e.element.focus()}}catch(A){}}}}a._applyCellStyle(e,d,d)});if(this.change){this.change(u)}return}if(this.view=="month"){if(this.selectionMode=="range"&&q=="key"){var s=this.getVisibleDate();var w=this.getFirstDayOfWeek(s);this.refreshCalendarCells(this.month,w,"View"+this.element.id)}}var o=false;c.each(this.renderedCells,function(d){var C=this;var h=C.getDate();var D=c(C.element);var B=D;if(D.length==0){return false}if(u==null){C.isSelected=false;C.isDisabled=false;if(d==0){a.selection={from:null,to:null};a._raiseEvent("2");a._raiseEvent("5",{selectionType:q})}}else{if(a.selectionMode!="range"||q=="key"){if(h.getDate()==u.getDate()&&h.getMonth()==u.getMonth()&&h.getFullYear()==u.getFullYear()&&C.isSelected){a._applyCellStyle(C,D,B);a._raiseEvent("5",{selectionType:q});return}if(C.isSelected){a._raiseEvent("6",{selectionType:q})}C.isSelected=false;if(h.getDate()==u.getDate()&&h.getMonth()==u.getMonth()&&h.getFullYear()==u.getFullYear()){C.isSelected=true;if(d==0){a.selection={date:u}}try{if(q!="none"){C.element.focus();a.host.focus()}}catch(G){}if(!C.isOtherMonth){a.value._setMonth(u.getMonth()+1);a.value._setDay(u.getDate());a.value._setYear(u.getFullYear());a._raiseEvent("2");a._raiseEvent("5",{selectionType:q})}}if(a.selectionMode=="range"){a._clicks=0;a.selection={from:u,to:u}}}else{if(a.selectionMode=="range"){if(q=="view"){C.isSelected=false;C.isDisabled=false;if(a.getMaxDate()<h){C.isDisabled=true}if(a.getMinDate()>h){C.isDisabled=true}if(a._isRestrictedDate(h)){C.isDisabled=true;C.isRestricted=true}if(!C.isDisabled&&a._isDisabled(h)){C.isDisabled=true}a._applyCellStyle(C,D,B);return true}if(d==0){if(q!="none"){if(a._clicks==undefined){a._clicks=0}a._clicks++;if(v){a._clicks++}if(a._clicks==1){a.selection={from:u,to:u}}else{var E=a.selection.from;var e=E<=u?E:u;var F=E<=u?u:E;if(e){var A=new Date(e.getFullYear(),e.getMonth(),e.getDate())}if(F){var z=new Date(F.getFullYear(),F.getMonth(),F.getDate(),23,59,59)}a.selection={from:A,to:z};a._clicks=0}}else{if(a.selection==null||a.selection.from==null){a.selection={from:u,to:u};if(a._clicks==undefined){a._clicks=0}a._clicks++;if(a._clicks==2){a._clicks=0}}}}var f=function(I){if(I==null){return new Date()}var H=new Date();H.setHours(0,0,0,0);H.setFullYear(I.getFullYear(),I.getMonth(),I.getDate());return H};if(!C.isOtherMonth&&f(h).toString()==f(u).toString()){a.value._setMonth(u.getMonth()+1);a.value._setDay(u.getDate());a.value._setYear(u.getFullYear());a._raiseEvent("2");a._raiseEvent("5",{selectionType:q})}C.isSelected=false;C.isDisabled=o;if(f(h)<f(a.selection.from)&&a._clicks==1){C.isDisabled=true}if(a.getMaxDate()<h){C.isDisabled=true}if(a.getMinDate()>h){C.isDisabled=true}if(a._isRestrictedDate(h)){C.isRestricted=true;C.isDisabled=true}if(!C.isDisabled&&a._isDisabled(h)){C.isDisabled=true}if(!C.isDisabled){if(f(h)>=f(a.selection.from)&&f(h)<=f(a.selection.to)){C.isSelected=true}}else{if(!a.allowRestrictedDaysInRange&&f(h)>=f(a.selection.from)&&a.selection.to==a.selection.from){o=true}}}}}a._applyCellStyle(C,D,B)});if(a.selectionMode=="range"&&a._clicks==0){a._raiseEvent(7,{selectionType:q});return}else{if(a.selectionMode=="range"){return}}if(t!=u){a._raiseEvent(7,{selectionType:q});if(this.change){this.change(u)}}},_getSelectedDate:function(){var h=c.data(this.element,"View"+this.element.id);if(h==undefined||h==null){return}if(this.view!="month"){return this.selectedDate}for(var l=0;l<h.cells.length;l++){var a=h.cells[l];var f=a.getDate();if(a.isSelected){return f}}if(this.selectedDate){return this.selectedDate}},_getSelectedCell:function(){var h=c.data(this.element,"View"+this.element.id);if(h==undefined||h==null){return}for(var l=0;l<h.cells.length;l++){var a=h.cells[l];var f=a.getDate();if(a.isSelected){return a}}},_applyCellStyle:function(t,s,n){var q=this;if(n==null||(n!=null&&n.length==0)){n=s}var a="";a=this.toThemeProperty("jqx-rc-all");a+=" "+this.toThemeProperty("jqx-item");if(this.disabled||(t.isDisabled&&!t.isRestricted)){a+=" "+this.toThemeProperty("jqx-calendar-cell-disabled");a+=" "+this.toThemeProperty("jqx-fill-state-disabled")}if(!this.disabled&&t.isRestricted){a+=" "+this.toThemeProperty("jqx-calendar-cell-restrictedDate")}if(t.isOtherMonth&&this.enableOtherMonthDays&&t.isVisible){a+=" "+this.toThemeProperty("jqx-calendar-cell-othermonth")}if(t.isWeekend&&this.enableWeekend&&t.isVisible&&t.isVisible){a+=" "+this.toThemeProperty("jqx-calendar-cell-weekend")}if(!t.isVisible){a+=" "+this.toThemeProperty("jqx-calendar-cell-hidden")}else{a+=" "+this.toThemeProperty("jqx-calendar-cell");if(this.view!="month"){if(n.length>0&&n.html().toLowerCase().indexOf("span")!=-1){n.css("cursor","default")}}}n.removeAttr("aria-selected");if(t.isSelected&&t.isVisible){a+=" "+this.toThemeProperty("jqx-calendar-cell-selected");a+=" "+this.toThemeProperty("jqx-fill-state-pressed");n.attr("aria-selected",true);this.host.removeAttr("aria-activedescendant").attr("aria-activedescendant",n[0].id);var o=t.getDate();if(this._isDisabled(o)){a+=" "+this.toThemeProperty("jqx-calendar-cell-selected-invalid")}}if(t.isHighlighted&&t.isVisible&&this.enableHover){if(!t.isDisabled){a+=" "+this.toThemeProperty("jqx-calendar-cell-hover");a+=" "+this.toThemeProperty("jqx-fill-state-hover")}}a+=" "+this.toThemeProperty("jqx-calendar-cell-"+this.view);if(t.isToday&&t.isVisible){a+=" "+this.toThemeProperty("jqx-calendar-cell-today")}n[0].className=a;if(this.specialDates.length>0){var l=this;c.each(this.specialDates,function(){if(this.Class!=undefined&&this.Class!=null&&this.Class!=""){n.removeClass(this.Class)}else{n.removeClass(q.toThemeProperty("jqx-calendar-cell-specialDate"))}var e=t.getDate();if(e.getFullYear()==this.Date.getFullYear()&&e.getMonth()==this.Date.getMonth()&&e.getDate()==this.Date.getDate()){if(t.tooltip==null&&this.Tooltip!=null){t.tooltip=this.Tooltip;if(c(n).jqxTooltip){var d=this.Class;c(n).jqxTooltip({value:{cell:t,specialDate:this.Date},name:l.element.id,content:this.Tooltip,position:"mouse",theme:l.theme,opening:function(f){if(n.hasClass(q.toThemeProperty("jqx-calendar-cell-specialDate"))){return true}if(n.hasClass(d)){return true}return false}})}}n.removeClass(q.toThemeProperty("jqx-calendar-cell-othermonth"));n.removeClass(q.toThemeProperty("jqx-calendar-cell-weekend"));if(this.Class==undefined||this.Class==""){n.addClass(q.toThemeProperty("jqx-calendar-cell-specialDate"));return false}else{n.addClass(this.Class);return false}}})}},_applyCellStyles:function(){var h=c.data(this.element,"View"+this.element.id);if(h==undefined||h==null){return}for(var l=0;l<h.cells.length;l++){var a=h.cells[l];var o=c(a.element);var n=o.find("#cellContent"+o[0].id);if(n.length==0){n=o}this._applyCellStyle(a,o,n)}},getWeekOfYear:function(l){var a=new Date(l.dateTime);dowOffset=this.firstDayOfWeek;var n=new Date(a.getFullYear(),0,1);var q=n.getDay()-dowOffset;q=(q>=0?q:q+7);var o=Math.floor((a.getTime()-n.getTime()-(a.getTimezoneOffset()-n.getTimezoneOffset())*60000)/86400000)+1;var h;if(q<4){h=Math.floor((o+q-1)/7)+1;if(h>52){nYear=new Date(a.getFullYear()+1,0,1);nday=nYear.getDay()-dowOffset;nday=nday>=0?nday:nday+7;h=nday<4?1:53}}else{h=Math.floor((o+q-1)/7)}return h},renderColumnHeader:function(z){if(!this.showDayNames){return}var C=c("<table role='grid' style='border-spacing: 0px; border-collapse: collapse; width: 100%; height: 100%;' cellspacing='0' cellpadding='1'><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr></table>");C.find("table").addClass(this.toThemeProperty("jqx-reset"));C.find("tr").addClass(this.toThemeProperty("jqx-reset"));C.find("td").css({background:"transparent",padding:1,margin:0,border:"none"});C.addClass(this.toThemeProperty("jqx-reset"));C.addClass(this.toThemeProperty("jqx-widget-content"));C.addClass(this.toThemeProperty("jqx-calendar-column-header"));this.columnHeader.append(C);var Q=this.getVisibleDate();var M=this.getFirstDayOfWeek(Q);var I=M.dayOfWeek;var a=this.getWeekOfYear(M);var E=this.firstDayOfWeek;var A=this.localization.calendar.days.names;var H=new Array();var N=M;var G=(z.width()-this.rowHeaderWidth-2)/7;if(!this.showWeekNumbers){G=(z.width()-2)/7}for(var D=0;D<7;D++){var O=A[E];if(this.rtl){O=A[6-E]}switch(this.dayNameFormat){case"default":O=this.localization.calendar.days.namesAbbr[E];if(this.rtl){O=this.localization.calendar.days.namesAbbr[6-E]}break;case"shortest":O=this.localization.calendar.days.namesShort[E];if(this.rtl){O=this.localization.calendar.days.namesShort[6-E]}break;case"firstTwoLetters":O=O.substring(0,2);break;case"firstLetter":O=O.substring(0,1);break}var S=new c.jqx._jqxCalendar.cell(N.dateTime);var K=D+1;var J=K+this.element.id;var L=c(C[0].rows[0].cells[D]);var F=D;if(this.enableTooltips){if(c(L).jqxTooltip){c(L).jqxTooltip({name:this.element.id,content:A[E],theme:this.theme,position:"mouse"})}}if(E>=6){E=0}else{E++}D=F;S.element=L;S.row=0;S.column=D+1;var P=this._textwidth(O);var R="<div style='padding: 0; margin: 0; border: none; background: transparent;' id='columnCell"+J+"'>"+O+"</div>";L.append(R);L.find("#columnCell"+J).addClass(this.toThemeProperty("jqx-calendar-column-cell"));L.width(G);if(this.disabled){L.find("#columnCell"+J).addClass(this.toThemeProperty("jqx-calendar-column-cell-disabled"))}if(P>0&&G>0){while(P>L.width()){if(O.length==0){break}O=O.substring(0,O.length-1);c.jqx.utilities.html(L.find("#columnCell"+J),O);P=this._textwidth(O)}}H[D]=S;N=new c.jqx._jqxDateTimeInput.getDateTime(new Date(N._addDays(1)))}if(parseInt(this.columnHeader.width())>parseInt(this.host.width())){this.columnHeader.width(this.host.width())}var B=c.data(this.element,z[0].id);B.columnCells=H},_format:function(n,l,a){var h=false;try{if(Globalize!=undefined){h=true}}catch(o){}if(c.global){c.global.culture.calendar=this.localization.calendar;return c.global.format(n,l,this.culture)}else{if(h){try{if(Globalize.cultures[this.culture]){Globalize.cultures[this.culture].calendar=this.localization.calendar;return Globalize.format(n,l,this.culture)}else{return Globalize.format(n,l,this.culture)}}catch(o){return Globalize.format(n,l)}}else{if(c.jqx.dataFormat){return c.jqx.dataFormat.formatdate(n,l,this.localization.calendar)}}}},_textwidth:function(e){var f=c("<span>"+e+"</span>");f.addClass(this.toThemeProperty("jqx-calendar-column-cell"));c(this.host).append(f);var a=f.width();f.remove();return a},_textheight:function(e){var f=c("<span>"+e+"</span>");c(this.host).append(f);var a=f.height();f.remove();return a},_renderRowHeader:function(B){var E=this.getVisibleDate();var I=this.getFirstDayOfWeek(E);var F=I.dayOfWeek;var K=this.getWeekOfYear(I);var v=new c.jqx._jqxDateTimeInput.getDateTime(new Date(I.dateTime));v._addDays(5);v.dayOfWeek=v.dateTime.getDay();var z=this.getWeekOfYear(v);if(53==K&&v.dateTime.getMonth()==0){K=1}var A=c("<table style='overflow: hidden; width: 100%; height: 100%;' cellspacing='0' cellpadding='1'><tr><td></td></tr><tr><td/></tr><tr><td/></tr><tr><td/></tr><tr><td/></tr><tr><td/></tr></table>");A.find("table").addClass(this.toThemeProperty("jqx-reset"));A.find("td").addClass(this.toThemeProperty("jqx-reset"));A.find("tr").addClass(this.toThemeProperty("jqx-reset"));A.addClass(this.toThemeProperty("jqx-calendar-row-header"));A.width(this.rowHeaderWidth);this.rowHeader.append(A);var H=I;var a=new Array();for(var D=0;D<6;D++){var G=K.toString();var t=new c.jqx._jqxCalendar.cell(H.dateTime);var C=D+1+this.element.id;var u=c(A[0].rows[D].cells[0]);t.element=u;t.row=D;t.column=0;var J="<div style='background: transparent; border: none; padding: 0; margin: 0;' id ='headerCellContent"+C+"'>"+G+"</div>";u.append(J);u.find("#headerCellContent"+C).addClass(this.toThemeProperty("jqx-calendar-row-cell"));a[D]=t;H=new c.jqx._jqxDateTimeInput.getDateTime(new Date(H._addWeeks(1)));K=this.getWeekOfYear(H)}var w=c.data(this.element,B[0].id);w.rowCells=a},getFirstDayOfWeek:function(f){var h=f;if(this.firstDayOfWeek<0||this.firstDayOfWeek>6){this.firstDayOfWeek=6}var l=h.dayOfWeek-this.firstDayOfWeek;if(l<=0){l+=7}var a=c.jqx._jqxDateTimeInput.getDateTime(h._addDays(-l));return a},getVisibleDate:function(){var f=new c.jqx._jqxDateTimeInput.getDateTime(new Date(this.value.dateTime));if(f<this.minDate){f=this.minDate}if(f>this.maxDate){this.visibleDate=this.maxDate}f.dateTime.setHours(0);var e=f.day;var a=c.jqx._jqxDateTimeInput.getDateTime(f._addDays(-e+1));f=a;return f},destroy:function(a){this.host.removeClass();if(a!=false){this.host.remove()}},_raiseEvent:function(t,l){if(l==undefined){l={owner:null}}var n=this.events[t];var o=l?l:{};o.owner=this;var u=new c.Event(n);u.owner=this;u.args=o;if(t==0||t==1||t==2||t==3||t==4||t==5||t==6||t==7||t==8){u.args.date=u.args.selectedDate=this.getDate();u.args.range=this.getRange();var s=this.getViewStart();var q=this.getViewEnd();u.args.view={from:s,to:q}}if(t==7){var v=o.selectionType;if(!v){v=null}if(v=="key"){v="keyboard"}if(v=="none"){v=null}o.type=v}var a=this.host.trigger(u);if(t==0||t==1){a=false}return a},propertyMap:function(a){if(a=="value"){if(this.selectionMode!="range"){return this.getDate()}else{return this.getRange()}}return null},updateSize:function(){var e=this.host.find("#View"+this.element.id);if(e.length>0){this.setCalendarSize();if(this.height!=undefined&&!isNaN(this.height)){e.height(this.height)}else{if(this.height!=null&&this.height.toString().indexOf("px")!=-1){e.height(this.height)}}if(this.width!=undefined&&!isNaN(this.width)){e.width(this.width)}else{if(this.width!=null&&this.width.toString().indexOf("px")!=-1){e.width(this.width)}}var f=this.host.height()-this.titleHeight-this.columnHeaderHeight;var a="View"+this.element.id;e.find("#cellsTable"+a).height(f);e.find("#calendarRowHeader"+a).height(f);this.refreshControl()}},resize:function(){this.updateSize()},clear:function(){if(this.selectionMode=="range"){this._clicks=1;this.setRange(null,null);this._raiseEvent(7)}else{this.setDate(null,"mouse")}this._clicks=0;this.selection={from:null,to:null}},today:function(){if(this.selectionMode=="range"){this.setRange(new Date(),new Date())}else{this.setDate(new Date(),"mouse")}},propertyChangedHandler:function(o,n,h,l){if(this.isInitialized==undefined||this.isInitialized==false){return}if(n=="enableHover"){return}if(n=="keyboardNavigation"){return}if(n=="localization"){if(this.localization){if(this.localization.backString){this.backText=this.localization.backString}if(this.localization.forwardString){this.forwardText=this.localization.forwardString}if(this.localization.todayString){this.todayString=this.localization.todayString}if(this.localization.clearString){this.clearString=this.localization.clearString}this.firstDayOfWeek=this.localization.calendar.firstDay}}if(n=="culture"){try{if(c.global){c.global.preferCulture(o.culture);o.localization.calendar=c.global.culture.calendar}else{if(Globalize){var a=Globalize.culture(o.culture);o.localization.calendar=a.calendar}}if(o.localization.calendar&&o.localization.calendar.firstDay!=undefined&&o.culture!="default"){o.firstDayOfWeek=o.localization.calendar.firstDay}}catch(q){}}if(n=="views"){if(o.views.indexOf("month")==-1){o.view="year"}if(o.views.indexOf("year")==-1&&o.views.indexOf("month")==-1){o.view="decade"}o.render();return}if(n=="showFooter"){o.render()}if(n=="width"||n=="height"){o.updateSize();return}else{if(n=="theme"){c.jqx.utilities.setTheme(h,l,o.host)}else{if(n=="rowHeaderWidth"||n=="showWeekNumbers"){o.render()}else{o.view="month";o.render()}}}}})})(jqxBaseFramework);(function(c){c.jqx._jqxCalendar.cell=function(d){var a={dateTime:new c.jqx._jqxDateTimeInput.getDateTime(d),_date:d,getDate:function(){return this._date},setDate:function(e){this.dateTime=new c.jqx._jqxDateTimeInput.getDateTime(e);this._date=e},isToday:false,isWeekend:false,isOtherMonth:false,isVisible:true,isSelected:false,isHighlighted:false,element:null,row:-1,column:-1,tooltip:null};return a};c.jqx._jqxCalendar.monthView=function(t,l,s,a,o,q){var n={start:t,end:l,cells:s,rowCells:a,columnCells:o,element:q};return n}})(jqxBaseFramework);(function(c){c.jqx.jqxWidget("jqxDateTimeInput","",{});c.extend(c.jqx._jqxDateTimeInput.prototype,{defineInstance:function(){var a={value:c.jqx._jqxDateTimeInput.getDateTime(new Date()),minDate:c.jqx._jqxDateTimeInput.getDateTime(new Date()),maxDate:c.jqx._jqxDateTimeInput.getDateTime(new Date()),min:new Date(1900,0,1),max:new Date(2100,0,1),rowHeaderWidth:25,enableViews:true,views:["month","year","decade"],selectableDays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],change:null,changing:null,columnHeaderHeight:20,titleHeight:25,firstDayOfWeek:0,showWeekNumbers:false,showTimeButton:false,cookies:false,cookieoptions:null,showFooter:false,formatString:"dd/MM/yyyy",width:200,height:25,dayNameFormat:"firstTwoLetters",textAlign:"left",readonly:false,culture:"default",activeEditor:null,showCalendarButton:true,openDelay:250,closeDelay:300,closeCalendarAfterSelection:true,isEditing:false,enableBrowserBoundsDetection:false,dropDownHorizontalAlignment:"left",enableAbsoluteSelection:false,disabled:false,buttonSize:18,animationType:"slide",dropDownWidth:"200px",restrictedDates:new Array(),dropDownHeight:"205px",selectionMode:"default",renderMode:"full",rtl:false,timeRange:null,_editor:false,todayString:"Today",clearString:"Clear",popupZIndex:9999999999999,allowNullDate:true,changeType:null,placeHolder:"",enableHover:true,allowKeyboardDelete:true,localization:{backString:"Back",forwardString:"Forward",todayString:"Today",clearString:"Clear",calendar:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy\u0027-\u0027MM\u0027-\u0027dd\u0027T\u0027HH\u0027:\u0027mm\u0027:\u0027ss",ISO:"yyyy-MM-dd hh:mm:ss"}}},events:["valueChanged","textchanged","mousedown","mouseup","keydown","keyup","keypress","open","close","change"],aria:{"aria-valuenow":{name:"getDate",type:"date"},"aria-valuetext":{name:"getText",type:"string"},"aria-valuemin":{name:"min",type:"date"},"aria-valuemax":{name:"max",type:"date"},"aria-disabled":{name:"disabled",type:"boolean"}}};c.extend(true,this,a);this.value._setHours(0);this.value._setMinutes(0);this.value._setSeconds(0);this.value._setMilliseconds(0);this.minDate._setYear(1900);this.minDate._setMonth(1);this.minDate._setDay(1);this.minDate._setHours(1);this.minDate._setMinutes(1);this.minDate._setSeconds(1);this.minDate._setMilliseconds(1);this.maxDate._setYear(2100);this.maxDate._setMonth(1);this.maxDate._setDay(1);this.maxDate._setHours(1);this.maxDate._setMinutes(1);this.maxDate._setSeconds(1);this.maxDate._setMilliseconds(1);this.defaultMinDate=this.minDate;this.defaultMaxDate=this.maxDate;return a},createInstance:function(n){var v="";var s=this;if(!s.host.jqxCalendar){throw new Error("jqxDateTimeInput: Missing reference to jqxcalendar.js.")}if(s.host.attr("value")){v=true;var u=s.host.attr("value");if(s.selectionMode!="range"){var t=new Date(u);if(t!=undefined&&!isNaN(t)){s.value=c.jqx._jqxDateTimeInput.getDateTime(t)}}}if(s.value!=null&&s.value instanceof Date){s.value=c.jqx._jqxDateTimeInput.getDateTime(s.value)}else{if(s.value!=null&&typeof(s.value)=="string"){var t=new Date(s.value);if(t!=undefined&&!isNaN(t)){s.value=c.jqx._jqxDateTimeInput.getDateTime(t)}else{if(s.value.indexOf(",")>=0){s.value=s.value.replace(/\,/g,"/");var t=new Date(s.value);if(t!=undefined&&!isNaN(t)){s.value=c.jqx._jqxDateTimeInput.getDateTime(t)}}}}}this._initTimeRange();this._validateTimeRange();s.host.attr("data-role","input");s.render();c.jqx.aria(this);if(s.getDate()!=null){c.jqx.aria(this,"aria-label","Current focused date is "+s.getDate().toLocaleString())}else{c.jqx.aria(this,"aria-label","Current focused date is Null")}if(s.minDate!==s.defaultMinDate){s.min=s.minDate}if(s.maxDate!==s.defaultMaxDate){s.max=s.maxDate}s.setMaxDate(s.max,false);s.setMinDate(s.min,false);if(s.selectionMode=="range"){if(v){var u=s.host.attr("value");var o=u.substring(0,u.indexOf("-"));var q=u.substring(u.indexOf("-")+1);var a=new Date(o);var l=new Date(q);if(a!=undefined&&!isNaN(a)){if(l!=undefined&&!isNaN(l)){s.setRange(a,l)}}}else{if(s.getDate()!=null){s.setRange(s.getDate(),s.getDate())}}}},_validateTimeRange:function(){if(this.timeRange){var a=this.value.dateTime.getHours();var d=this.value.dateTime.getMinutes();if(a<=this.timeRange.minHour){this.value._setHours(this.timeRange.minHour);if(d<this.timeRange.minMinute){this.value._setMinutes(this.timeRange.minMinute);this._updateEditorsValue()}else{this._updateEditorsValue()}}if(a>=this.timeRange.maxHour){this.value._setHours(this.timeRange.maxHour);if(d>this.timeRange.maxMinute){this.value._setMinutes(this.timeRange.maxMinute);this._updateEditorsValue()}else{this._updateEditorsValue()}}}},_initTimeRange:function(){if(this.timeRange){if(this.timeRange.min){var o=null;if(this.timeRange.min.indexOf("AM")>=0||this.timeRange.min.indexOf("PM")>=0){o=this.timeRange.min.indexOf("AM")>=0?"AM":"PM"}var n=this.timeRange.min.split(":");var a=parseInt(n[0]);var h=parseInt(n[1]);if(o){this.timeRange.minDefaultHour=a;this.timeRange.minMeridian=o}if(o&&o=="PM"){a+=12}this.timeRange.minHour=a;this.timeRange.minMinute=h}if(this.timeRange.max){var o=null;if(this.timeRange.max.indexOf("AM")>=0||this.timeRange.max.indexOf("PM")>=0){o=this.timeRange.max.indexOf("AM")>=0?"AM":"PM"}var l=this.timeRange.max.split(":");var a=parseInt(l[0]);var h=parseInt(l[1]);if(o){this.timeRange.maxDefaultHour=a;this.timeRange.maxMeridian=o}if(o&&o=="PM"){a+=12}this.timeRange.maxHour=a;this.timeRange.maxMinute=h}}},_format:function(n,l,a){var h=false;try{if(Globalize!=undefined){h=true}}catch(o){}if(c.global){return c.global.format(n,l,this.culture)}else{if(h){try{var l=Globalize.format(n,l,this.culture);return l}catch(o){return Globalize.format(n,l)}}else{if(c.jqx.dataFormat){if(n instanceof Date){return c.jqx.dataFormat.formatdate(n,l,this.localization.calendar)}else{if(typeof n==="number"){return c.jqx.dataFormat.formatnumber(n,l,this.localization.calendar)}else{return c.jqx.dataFormat.formatdate(n,l,this.localization.calendar)}}}else{throw new Error("jqxDateTimeInput: Missing reference to globalize.js.")}}}},render:function(){var s=this;s._removeHandlers();s.element.innerHTML="";s.host.attr({role:"textbox"});s.id=c.jqx.utilities.createId();var z=c.jqx.utilities.createId();var t=c.jqx.utilities.createId();s._setSize();if(s.width==null){s.width=s.host.width();s.host.width(s.width)}s.touch=c.jqx.mobile.isTouchDevice();var B=c("<div class='jqx-max-size jqx-position-relative'></div>").appendTo(s.host);s.dateTimeInput=c("<input style='padding-left: 3px; padding-right: 3px;' class='jqx-position-absolute' id='input"+s.element.id+"' autocomplete='off' type='textarea'/>").appendTo(B);s.dateTimeInput.addClass(s.toThemeProperty("jqx-reset"));s.dateTimeInput.addClass(s.toThemeProperty("jqx-clear"));s.dateTimeInput.addClass(s.toThemeProperty("jqx-input-content"));s.dateTimeInput.addClass(s.toThemeProperty("jqx-widget-content"));s.dateTimeInput.addClass(s.toThemeProperty("jqx-rc-all"));s.dateTimeInput.attr("placeHolder",s.placeHolder);if(s.renderMode!="full"){s.dateTimeInput.remove()}var A=s.host.attr("name");if(A){s.dateTimeInput.attr("name",A)}if(s.host.attr("tabindex")){s.dateTimeInput.attr("tabindex",s.host.attr("tabindex"));s.host.removeAttr("tabindex")}if(s.rtl){s.dateTimeInput.css("direction","rtl");s.dateTimeInput.addClass("jqx-rtl")}s.calendarButton=c("<div style='height: 100%;' class='jqx-position-absolute'><div></div></div>").appendTo(B);if(!s.rtl){s.calendarButton.addClass(s.toThemeProperty("jqx-action-button"))}else{s.calendarButton.addClass(s.toThemeProperty("jqx-action-button-rtl"))}s.calendarButtonIcon=c(s.calendarButton.children()[0]);s.calendarButtonIcon.addClass(s.toThemeProperty("jqx-icon"));s.calendarButtonIcon.addClass(s.toThemeProperty("jqx-icon-calendar"));s.calendarButton.addClass(s.toThemeProperty("jqx-fill-state-normal"));if(!s.rtl){s.calendarButton.addClass(s.toThemeProperty("jqx-rc-r"))}else{s.calendarButton.addClass(s.toThemeProperty("jqx-rc-l"))}s.timeButton=c("<div style='height: 100%;' class='jqx-position-absolute'><div></div></div>").appendTo(B);if(!s.rtl){s.timeButton.addClass(s.toThemeProperty("jqx-action-button"))}else{s.timeButton.addClass(s.toThemeProperty("jqx-action-button-rtl"))}s.timeButtonIcon=c(s.timeButton.children()[0]);s.timeButtonIcon.addClass(s.toThemeProperty("jqx-icon"));s.timeButtonIcon.addClass(s.toThemeProperty("jqx-icon-time"));s.timeButton.addClass(s.toThemeProperty("jqx-fill-state-normal"));if(!s.rtl){s.timeButton.addClass(s.toThemeProperty("jqx-rc-r"))}else{s.timeButton.addClass(s.toThemeProperty("jqx-rc-l"))}var e=this;s._arrange();if(c.jqx._jqxCalendar!=null&&c.jqx._jqxCalendar!=undefined){try{var u="calendar"+s.id;var v=c(c.find("#"+u));if(v.length>0){v.remove()}c.jqx.aria(this,"aria-owns",u);c.jqx.aria(this,"aria-haspopup",true);c.jqx.aria(this,"aria-readonly",s.selectionMode=="range"?true:false);var C=c("<div style='overflow: hidden; background: transparent; position: absolute;' id='calendar"+s.id+"'><div id='innerCalendar"+s.id+"'></div><div id='innerTime"+s.id+"'></div></div>");if(c.jqx.utilities.getBrowser().browser=="opera"){C.hide()}C.appendTo(document.body);s.container=C;s.calendarContainer=c(c.find("#innerCalendar"+s.id)).jqxCalendar({restrictedDates:this.restrictedDates,changing:s.changing,change:s.change,enableViews:s.enableViews,selectableDays:s.selectableDays,views:s.views,rowHeaderWidth:s.rowHeaderWidth,titleHeight:s.titleHeight,columnHeaderHeight:s.columnHeaderHeight,_checkForHiddenParent:false,enableAutoNavigation:false,canRender:false,localization:s.localization,todayString:s.todayString,clearString:s.clearString,dayNameFormat:s.dayNameFormat,rtl:s.rtl,culture:s.culture,showFooter:s.showFooter,selectionMode:s.selectionMode,firstDayOfWeek:s.firstDayOfWeek,showWeekNumbers:s.showWeekNumbers,width:s.dropDownWidth,height:s.dropDownHeight,theme:s.theme});s.calendarContainer.css({position:"absolute",zIndex:s.popupZIndex,top:0,left:0});s.calendarContainer.addClass(s.toThemeProperty("jqx-popup"));if(c.jqx.browser.msie){s.calendarContainer.addClass(s.toThemeProperty("jqx-noshadow"))}s.timeContainer=c(c.find("#innerTime"+s.id));s.timeContainer.css({position:"absolute",zIndex:s.popupZIndex,top:0,left:0});s.timeContainer.addClass(s.toThemeProperty("jqx-popup"));if(c.jqx.browser.msie){s.timeContainer.addClass(s.toThemeProperty("jqx-noshadow"))}s._calendar=c.data(s.calendarContainer[0],"jqxCalendar").instance;var e=this;s._calendar.today=function(){e.today()};s._calendar.clear=function(){e.clear()};if(c.jqx.utilities.getBrowser().browser=="opera"){C.show()}C.height(parseInt(s.calendarContainer.height())+25);C.width(parseInt(s.calendarContainer.width())+25);if(s.selectionMode=="range"){s.readonly=true}if(s.animationType=="none"){s.container.css("display","none")}else{s.container.hide()}}catch(q){}}if(c.global){c.global.preferCulture(s.culture)}s.selectedText="";s._addHandlers();s.self=this;s.oldValue=s.getDate();s.items=new Array();s.editors=new Array();s._loadItems();s.editorText="";if(s.readonly==true){s.dateTimeInput.css("readonly",s.readonly)}s.dateTimeInput.css("text-align",s.textAlign);s.host.addClass(s.toThemeProperty("jqx-widget"));s.host.addClass(s.toThemeProperty("jqx-datetimeinput"));s.host.addClass(s.toThemeProperty("jqx-input"));s.host.addClass(s.toThemeProperty("jqx-overflow-hidden"));s.host.addClass(s.toThemeProperty("jqx-rc-all"));s.host.addClass(s.toThemeProperty("jqx-reset"));s.host.addClass(s.toThemeProperty("jqx-clear"));s.host.addClass(s.toThemeProperty("jqx-widget-content"));s.propertyChangeMap.disabled=function(l,f,h,d){if(d){l.host.addClass(e.toThemeProperty("jqx-input-disabled"));l.host.addClass(e.toThemeProperty("jqx-fill-state-disabled"))}else{l.host.removeClass(e.toThemeProperty("jqx-fill-state-disabled"));l.host.removeClass(e.toThemeProperty("jqx-input-disabled"))}c.jqx.aria(this,"aria-disabled",d)};if(s.disabled){s.host.addClass(s.toThemeProperty("jqx-input-disabled"));s.host.addClass(s.toThemeProperty("jqx-fill-state-disabled"));s.dateTimeInput.attr("disabled",true)}if(s.host.parents("form").length>0){s.addHandler(s.host.parents("form"),"reset",function(){setTimeout(function(){e.setDate(new Date())},10)})}if(s.cookies){var w=c.jqx.cookie.cookie("jqxDateTimeInput"+s.element.id);if(w!=null){s.setDate(new Date(w))}}if(c.jqx.browser.msie&&c.jqx.browser.version<8){if(s.host.parents(".jqx-window").length>0){var a=s.host.parents(".jqx-window").css("z-index");s.container.css("z-index",a+10);s.calendarContainer.css("z-index",a+10)}}if(s.culture!="default"){s._applyCulture()}if(s.value){if(s.calendarContainer.jqxCalendar("_isDisabled",s.value.dateTime)){s.dateTimeInput.addClass(s.toThemeProperty("jqx-input-invalid"))}else{s.dateTimeInput.removeClass(s.toThemeProperty("jqx-input-invalid"))}}},val:function(d){var a=this;if(arguments.length!=0){if(d==null){a.setDate(null)}if(a.selectionMode=="range"){a.setRange(arguments[0],arguments[1]);return a.getText()}if(d instanceof Date){a.setDate(d)}if(typeof(d)=="string"){if(d=="date"){return a.getDate()}a.setDate(d)}if(a._calendar.getDate()!=a.getDate()){a._calendar.setDate(a.getDate())}}return a.getText()},_setSize:function(){if(this.width!=null&&this.width.toString().indexOf("px")!=-1){this.host.width(this.width)}else{if(this.width!=undefined&&!isNaN(this.width)){this.host.width(this.width)}}if(this.height!=null&&this.height.toString().indexOf("px")!=-1){this.host.height(this.height)}else{if(this.height!=undefined&&!isNaN(this.height)){this.host.height(this.height)}}var f=false;if(this.width!=null&&this.width.toString().indexOf("%")!=-1){f=true;this.host.width(this.width)}if(this.height!=null&&this.height.toString().indexOf("%")!=-1){f=true;this.host.height(this.height)}var l=this;var h=function(){if(l.calendarContainer){l._arrange()}};if(f){if(this.calendarContainer){this._arrange();var a=this.host.width();if(this.dropDownWidth!="auto"){a=this.dropDownWidth}this.calendarContainer.jqxCalendar({width:a});this.container.width(parseInt(a)+25)}}c.jqx.utilities.resize(this.host,function(){h()})},_arrange:function(){if(this.height==null){this.height=27;this.host.height(27)}var s=parseInt(this.host.width());var a=parseInt(this.host.height());var l=this.buttonSize;var n=2;if(!this.showCalendarButton&&!this.showTimeButton){l=0;buttonHeight=0;this.calendarButton.hide();n=0}if(!this.showCalendarButton){this.calendarButton.hide()}else{this.calendarButton.show()}if(!this.showTimeButton){this.timeButton.hide()}else{this.timeButton.show()}var t=s-l-1*n;if(this.showTimeButton&&this.showCalendarButton){var t=s-2*l-1*n}else{if(this.showTimeButton||this.showCalendarButton){var t=s-l-1*n}}if(t>0){this.dateTimeInput[0].style.width=t+"px"}if(this.rtl){this.dateTimeInput[0].style.width=(-1+t+"px")}this.dateTimeInput[0].style.left="0px";this.dateTimeInput[0].style.top="0px";this.calendarButton[0].style.width=l+1+"px";this.calendarButton[0].style.left=1+t+"px";this.timeButton[0].style.width=l+1+"px";if(this.showCalendarButton){this.timeButton[0].style.left=1+this.calendarButton.width()+t+"px"}else{this.timeButton[0].style.left=1+t+"px"}if(this.renderMode!="full"){this.calendarButton[0].style.width="100%";this.calendarButton[0].style.left="0px";this.calendarButton.css("border","none");this.timeButton[0].style.width="100%";this.timeButton[0].style.left="0px";this.timeButton.css("border","none")}var q=this.dateTimeInput.height();if(q==0){q=parseInt(this.dateTimeInput.css("font-size"))+3;this.calendarButton.addClass(this.toThemeProperty("jqx-rc-all"));this.timeButton.addClass(this.toThemeProperty("jqx-rc-all"))}if(this.dateTimeInput[0].className.indexOf("jqx-rc-all")==-1){this.dateTimeInput.addClass(this.toThemeProperty("jqx-rc-all"))}var o=parseInt(a)/2-parseInt(q)/2;if(o>0){this.dateTimeInput[0].style.marginTop=parseInt(o)+"px"}if(this.rtl){this.calendarButton[0].style.width=l+"px";this.timeButton[0].style.width=l+"px";this.calendarButton.css("left","0px");if(this.showCalendarButton){this.timeButton.css("left",l+"px")}else{this.timeButton.css("left","0px")}this.dateTimeInput.css("left",this.calendarButton.width());if(this.showTimeButton&&this.showCalendarButton){this.dateTimeInput.css("left",this.timeButton.width()+this.calendarButton.width())}if(c.jqx.browser.msie&&c.jqx.browser.version<=8){this.dateTimeInput.css("left",1+this.calendarButton.width());if(this.showTimeButton&&this.showCalendarButton){this.dateTimeInput.css("left",1+this.timeButton.width()+this.calendarButton.width())}}}},_removeHandlers:function(){var a=this;this.removeHandler(c(document),"mousedown."+this.id);if(this.dateTimeInput){this.removeHandler(this.dateTimeInput,"keydown."+this.id);this.removeHandler(this.dateTimeInput,"blur");this.removeHandler(this.dateTimeInput,"focus");this.removeHandler(this.host,"focus");this.removeHandler(this.dateTimeInput,"mousedown");this.removeHandler(this.dateTimeInput,"mouseup");this.removeHandler(this.dateTimeInput,"keydown");this.removeHandler(this.dateTimeInput,"keyup");this.removeHandler(this.dateTimeInput,"keypress")}if(this.calendarButton!=null){this.removeHandler(this.calendarButton,"mousedown")}if(this.timeButton!=null){this.removeHandler(this.timeButton,"mousedown")}if(this.calendarContainer!=null){this.removeHandler(this.calendarContainer,"cellSelected");this.removeHandler(this.calendarContainer,"cellMouseDown")}this.removeHandler(c(window),"resize."+this.id)},isOpened:function(){var d=this;var a=c.data(document.body,"openedJQXCalendar"+this.id);if(a!=null&&a==d.calendarContainer){return true}return false},wheel:function(h,l){l.changeType="mouse";var f=0;if(!h){h=window.event}if(h.originalEvent&&h.originalEvent.wheelDelta){h.wheelDelta=h.originalEvent.wheelDelta}if(h.wheelDelta){f=h.wheelDelta/120}else{if(h.detail){f=-h.detail/3}}if(f){var a=l._handleDelta(f);if(!a){if(h.preventDefault){h.preventDefault()}h.returnValue=false;return a}else{return false}}if(h.preventDefault){h.preventDefault()}h.returnValue=false},_handleDelta:function(a){if(a<0){this.spinDown()}else{this.spinUp()}return false},focus:function(){try{var d=this;this._setSelectionStart(0);this._selectGroup(-1);this.dateTimeInput.focus();setTimeout(function(){d._setSelectionStart(0);d._selectGroup(-1);d.dateTimeInput.focus()},25)}catch(a){}},_addHandlers:function(){var f=this.element.id;var l=this.element;var h=this;if(this.host.parents()){this.addHandler(this.host.parents(),"scroll.datetimeinput"+this.element.id,function(e){var d=h.isOpened();if(d){h.close()}})}this.addHandler(this.host,"mouseenter",function(){if(!h.disabled&&h.enableHover){hovered=true;h.calendarButtonIcon.addClass(h.toThemeProperty("jqx-icon-calendar-hover"));h.calendarButton.addClass(h.toThemeProperty("jqx-fill-state-hover"))}});this.addHandler(this.host,"mouseleave",function(){if(!h.disabled&&h.enableHover){h.calendarButtonIcon.removeClass(h.toThemeProperty("jqx-icon-calendar-hover"));h.calendarButton.removeClass(h.toThemeProperty("jqx-fill-state-hover"))}});this.addHandler(this.host,"mousewheel",function(d){h.wheel(d,h)});this.addHandler(c(document),"mousedown."+this.id,this._closeOpenedCalendar,{me:this});if(c.jqx.mobile.isTouchDevice()){this.addHandler(c(document),c.jqx.mobile.getTouchEventName("touchstart")+"."+this.id,this._closeOpenedCalendar,{me:this})}this.addHandler(this.dateTimeInput,"keydown."+this.id,function(d){var e=c.data(document.body,"openedJQXCalendar"+h.id);if(e!=null&&e==h.calendarContainer){var n=h.handleCalendarKey(d,h);return n}});if(this.calendarContainer!=null){this.addHandler(this.calendarContainer,"keydown",function(d){if(d.keyCode==13){if(h.isOpened()){if(!h._calendar._viewAnimating&&h._calendar.view=="month"){h.hideCalendar("selected","keyboard");h.dateTimeInput.focus();return false}}return true}else{if(d.keyCode==9){if(h.isOpened()){h.hideCalendar("selected","keyboard");return true}}else{if(d.keyCode==27){if(h.isOpened()){h.hideCalendar(null,"keyboard");h.dateTimeInput.focus();return false}return true}}}h.timePopup=false;if(d.keyCode==84){h.timePopup=true}if(d.keyCode==115){if(h.isOpened()){h.hideCalendar("keyboard","keyboard");h.dateTimeInput.focus();return false}else{if(!h.isOpened()){h.showCalendar("keyboard","keyboard");h.dateTimeInput.focus();return false}}}if(d.altKey){if(d.keyCode==38){if(h.isOpened()){h.hideCalendar("keyboard","keyboard");h.dateTimeInput.focus();return false}}else{if(d.keyCode==40){if(!h.isOpened()){h.showCalendar("keyboard","keyboard");h.dateTimeInput.focus();return false}}}}});this.addHandler(this.calendarContainer,"cellSelected",function(d){if(h.closeCalendarAfterSelection){var e=c.data(document.body,"openedJQXCalendarValue");if(d.args.selectionType=="mouse"){if(h.selectionMode!="range"){h.hideCalendar("selected","mouse")}else{if(h._calendar._clicks==0){h.hideCalendar("selected","mouse")}}}}});this.addHandler(this.calendarContainer,"cellMouseDown",function(d){if(h.closeCalendarAfterSelection){if(h._calendar.value){c.data(document.body,"openedJQXCalendarValue",new c.jqx._jqxDateTimeInput.getDateTime(h._calendar.value.dateTime))}}})}this.addHandler(this.dateTimeInput,"blur",function(d){if(h.value!=null){h.isEditing=false;var e=h.value.dateTime.getDay();var n=h._oldDT;h._validateValue(true);if(d.stopPropagation){d.stopPropagation()}h._updateText();h._raiseEvent(9,d)}h.host.removeClass(h.toThemeProperty("jqx-fill-state-focus"))});this.addHandler(this.host,"focus",function(d){h.focus()});this.addHandler(this.dateTimeInput,"focus",function(d){if(h.value!=null){if(h.selectionMode!="range"){h._oldDT=new Date(h.value.dateTime)}else{h._oldDT=h.getRange()}var e=h._selection();h.isEditing=true;h._validateValue();h._updateText();h._setSelectionStart(0);h._selectGroup(-1,e);h.host.addClass(h.toThemeProperty("jqx-fill-state-focus"))}else{h._setSelectionStart(0);h._selectGroup(-1);h.host.addClass(h.toThemeProperty("jqx-fill-state-focus"))}if(d.stopPropagation){d.stopPropagation()}if(d.preventDefault){d.preventDefault();return false}});var a="mousedown";if(this.touch){a=c.jqx.mobile.getTouchEventName("touchstart")}this.addHandler(this.calendarButton,a,function(e){var d=h.container;var n=d.css("display")=="block";h.timePopup=false;h.calendarPopup=true;if(!h.disabled){if(!h.isanimating){if(n){h.hideCalendar();return false}else{h.showCalendar("mouse");e.preventDefault()}}}});this.addHandler(this.timeButton,a,function(e){var d=h.container;var n=d.css("display")=="block";h.timePopup=true;h.calendarPopup=false;if(!h.disabled){if(!h.isanimating){if(n){h.hideCalendar("mouse","mouse");return false}else{h.showCalendar("mouse");e.preventDefault()}}}});this.addHandler(this.dateTimeInput,"mousedown",function(d){return h._raiseEvent(2,d)});this.addHandler(this.dateTimeInput,"mouseup",function(d){return h._raiseEvent(3,d)});this.addHandler(this.dateTimeInput,"keydown",function(d){return h._raiseEvent(4,d)});this.addHandler(this.dateTimeInput,"keyup",function(d){return h._raiseEvent(5,d)});this.addHandler(this.dateTimeInput,"keypress",function(d){return h._raiseEvent(6,d)})},createID:function(){var a=Math.random()+"";a=a.replace(".","");a="99"+a;a=a/1;return"dateTimeInput"+a},setMaxDate:function(a,d){if(a==null){return}if(a!=null&&typeof(a)=="string"){a=new Date(a);if(a=="Invalid Date"){return}}this.maxDate=c.jqx._jqxDateTimeInput.getDateTime(a);if(this._calendar!=null){this._calendar.setMaxDate(a)}if(d!=false){if(this.getDate()!=null&&this.getDate()>a){this.setDate(a)}c.jqx.aria(this,"aria-valuemax",a);this._refreshValue();this._updateText()}},getMaxDate:function(){if(this.maxDate!=null&&this.maxDate!=undefined){return this.maxDate.dateTime}return null},setMinDate:function(a,d){if(a==null){return}if(a!=null&&typeof(a)=="string"){a=new Date(a);if(a=="Invalid Date"){return}}this.minDate=c.jqx._jqxDateTimeInput.getDateTime(a);if(this._calendar!=null){this._calendar.setMinDate(a)}if(d!=false){if(this.getDate()!=null&&this.getDate()<a){this.setDate(a)}c.jqx.aria(this,"aria-valuemin",a);this._refreshValue();this._updateText()}},getMinDate:function(){if(this.minDate!=null&&this.minDate!=undefined){return this.minDate.dateTime}return null},_applyCulture:function(){var e=false;try{if(Globalize!=undefined){e=true}}catch(f){}try{if(c.global){c.global.preferCulture(this.culture);this.localization.calendar=c.global.culture.calendar}else{if(e){var a=Globalize.culture(this.culture);this.localization.calendar=a.calendar}}this._loadItems();if(this._calendar!=null){this._calendar.culture=this.culture;this._calendar.localization=this.localization;this._calendar.render()}}catch(f){}},propertyMap:function(a){if(a=="value"){if(this.selectionMode!="range"){return this.getDate()}else{return this.getRange()}}return null},propertyChangedHandler:function(o,n,h,l){if(o.isInitialized==undefined||o.isInitialized==false){return}if(n=="restrictedDates"){o.calendarContainer.css({restrictedDates:l})}if(n=="popupZIndex"){o.calendarContainer.css({zIndex:l})}if(n=="showCalendarButton"){o._arrange()}if(n=="showTimeButton"){o._arrange();if(o.timePopupElement){o.timePopupElement.remove();o.timePopupElement=null}}if(n=="selectionMode"){o._calendar.selectionMode=l;o.refreshValue()}if(n=="min"){if(typeof(l)=="string"){o.setMinDate(new Date(l))}else{o.setMinDate(l)}}if(n=="max"){if(typeof(l)=="string"){o.setMaxDate(new Date(l))}else{o.setMaxDate(l)}}if(n=="value"){if(l!=null&&l instanceof Date){if(isNaN(l.getFullYear())||isNaN(l.getMonth())||isNaN(l.getDate())){this.value=h;return}l=c.jqx._jqxDateTimeInput.getDateTime(l)}else{if(l!=null&&typeof(l)=="string"){var a=new Date(l);if(a!=undefined&&!isNaN(a)){this.value=c.jqx._jqxDateTimeInput.getDateTime(a)}}}}if(n=="views"){o.calendarContainer.jqxCalendar({views:l})}if(n=="enableViews"){o.calendarContainer.jqxCalendar({enableViews:l})}if(n=="selectableDays"){o.calendarContainer.jqxCalendar({selectableDays:l})}if(n=="showFooter"){o.calendarContainer.jqxCalendar({showFooter:l})}if(n=="rtl"){o.calendarContainer.jqxCalendar({rtl:l});if(l){o.dateTimeInput.css("direction","rtl");o.dateTimeInput.addClass("jqx-rtl")}else{o.dateTimeInput.css("direction","ltr");o.dateTimeInput.removeClass("jqx-rtl")}}if(n=="todayString"||n=="clearString"){o.calendarContainer.jqxCalendar({clearString:o.clearString,todayString:o.todayString})}if(n=="dayNameFormat"){o.calendarContainer.jqxCalendar({dayNameFormat:l})}if(n=="firstDayOfWeek"){o.calendarContainer.jqxCalendar({firstDayOfWeek:l})}if(n=="showWeekNumbers"){o.calendarContainer.jqxCalendar({showWeekNumbers:l})}if(n=="culture"||n=="localization"){o._applyCulture()}else{if(n=="formatString"){o._loadItems()}}if(n=="theme"){c.jqx.utilities.setTheme(h,l,o.host);o.calendarContainer.jqxCalendar({theme:l})}if(n=="width"||n=="height"){o.refresh();return}o._setOption(n,l,h);if(n=="dropDownWidth"||n=="dropDownHeight"){o.calendarContainer.jqxCalendar({width:o.dropDownWidth,height:o.dropDownHeight});o._calendar.render();o.container.height(o.calendarContainer.height());o.container.width(o.calendarContainer.width())}},clear:function(){if(this.allowNullDate){if(this.selectionMode!="range"){this.setDate(null)}else{this._calendar._clicks=1;this.setRange(null,null)}this._calendar._clicks=0}else{if(this.selectionMode!="range"){this.setDate(me.getMinDate())}else{this._calendar._clicks=1;this.setRange(me.getMinDate(),me.getMinDate());this._calendar._clicks=0}}this.hideCalendar()},today:function(){var d=new Date();d.setHours(0,0,0,0);if(this.selectionMode!="range"){this.setDate(d)}else{this._calendar._clicks=0;var a=new Date();a.setHours(23,59,59,0);this.setRange(d,a);this._calendar._clicks=0}this.hideCalendar()},setDate:function(o){var n=this.getDate();if(o!=null&&typeof(o)=="string"){var l=o;if(o.toString().indexOf(",")>=0){o=o.replace(/\,/g,"/");o=new Date(o);if(o=="Invalid Date"){o=l}}if(o.toString().indexOf("-")>=0){o=o.replace(/\-/g,"/");o=new Date(o);if(o=="Invalid Date"){o=l}}if(o!=""){var q=o;if(Globalize!=undefined){o=Globalize.parseDate(q,this.formatString,this.culture)}else{if(c.jqx.dataFormat){o=c.jqx.dataFormat.parsedate(q,this.formatString,this.localization.calendar)}else{o=new Date(o)}}if(o=="Invalid Date"){return}if(o===null&&q!==null){if(q!="Invalid Date"){o=q}}}}if(o==null||o=="null"||o=="undefined"){if(!this.allowNullDate){o=this.min}}if(o=="Invalid Date"){o=null}if(o==null||o=="null"||o=="undefined"||o===""){if(this.value!=null){this.value=null;this._calendar.setDate(null);this._refreshValue();if(this.cookies){if(this.value!=null){c.jqx.cookie.cookie("jqxDateTimeInput"+this.element.id,this.value.dateTime.toString(),this.cookieoptions)}}this._setSelectionStart(0);this._selectGroup(-1);this._raiseEvent("0",o,n);this._raiseEvent("9",o,n)}return}if(o<this.getMinDate()||o>this.getMaxDate()){return}if(this.value==null){this.value=new c.jqx._jqxDateTimeInput.getDateTime(new Date());this.value._setHours(0);this.value._setMinutes(0);this.value._setSeconds(0);this.value._setMilliseconds(0)}if(o.getFullYear){this.value._setYear(o.getFullYear());this.value._setDay(1);this.value._setMonth(o.getMonth()+1);this.value._setHours(o.getHours());this.value._setMinutes(o.getMinutes());this.value._setSeconds(o.getSeconds());this.value._setMilliseconds(o.getMilliseconds());this.value._setDay(o.getDate())}this._validateTimeRange();this._refreshValue();if(this.cookies){if(this.value!=null){c.jqx.cookie.cookie("jqxDateTimeInput"+this.element.id,this.value.dateTime.toString(),this.cookieoptions)}}var a=this.getDate();var h=(a-n);if(h!=0){this._raiseEvent("0",o,n);this._raiseEvent("9",o,n);return true}},getDate:function(){if(this.value==undefined){return null}return new Date(this.value.dateTime)},getText:function(){return this.dateTimeInput.val()},setRange:function(e,f){if(e=="Invalid Date"){e=null}if(f=="Invalid Date"){f=null}if(e!=null&&typeof(e)=="string"){e=new Date(e);if(e=="Invalid Date"){return}}if(f!=null&&typeof(f)=="string"){f=new Date(f);if(f=="Invalid Date"){return}}if(e&&isNaN(e)&&e.toString()=="NaN"&&typeof(e)!="string"){return}if(f&&isNaN(f)&&f.toString()=="NaN"&&typeof(f)!="string"){return}this._calendar.setRange(e,f);if(f&&e&&(f.valueOf()!=e.valueOf())){this._range={from:e,to:f}}else{this._range=this._calendar.getRange()}var a=e;if(a!=null&&a.getFullYear){if(this.value==null){this.value=new c.jqx._jqxDateTimeInput.getDateTime(new Date());this.value._setHours(0);this.value._setMinutes(0);this.value._setSeconds(0);this.value._setMilliseconds(0)}this.value._setYear(a.getFullYear());this.value._setMonth(a.getMonth()+1);this.value._setHours(a.getHours());this.value._setMinutes(a.getMinutes());this.value._setSeconds(a.getSeconds());this.value._setMilliseconds(a.getMilliseconds());this.value._setDay(a.getDate())}this._refreshValue();if(this.value){this._raiseEvent("0",this.value.dateTime)}else{this._raiseEvent("0",null)}},getRange:function(){var a=this._calendar.getRange();if(this._range){var e=this._range.from;var f=this._range.to;if(f&&e&&(f.valueOf()!=e.valueOf())){if(a.from){a.from.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}if(a.to){a.to.setHours(f.getHours(),f.getMinutes(),f.getSeconds(),f.getMilliseconds())}}}return a},_validateValue:function(f){var a=false;for(var h=0;h<this.items.length;h++){var l=this.editors[h].value;switch(this.items[h].type){case"FORMAT_AMPM":if(l<0){l=0}else{if(l>1){l=1}}break;case"Character":break;case"Day":if(l<1){l=1}else{if(l>31){l=31}}break;case"FORMAT_hh":if(l<1){l=1}else{if(l>12){l=12}}break;case"FORMAT_HH":if(l<0){l=0}else{if(l>23){l=23}}break;case"Millisecond":if(l<0){l=0}else{if(l>999){l=999}}break;case"Minute":if(l<0){l=0}else{if(l>59){l=59}}break;case"Month":if(l<1){l=1}else{if(l>12){l=12}}break;case"ReadOnly":break;case"Second":if(l<0){l=0}else{if(l>59){l=59}}break;case"Year":if(l<this.minDate.year){l=this.minDate.year}else{if(l>this.maxDate.year){l=this.maxDate.year}}break}if(this.editors[h].value!=l){this.editors[h].value=l;a=true}}this.updateValue(f);if(this.value!=null&&f===true){if(this.value.dateTime>this.maxDate.dateTime){this._internalSetValue(this.maxDate);this._updateEditorsValue()}else{if(this.value.dateTime<this.minDate.dateTime){this._internalSetValue(this.minDate);this._updateEditorsValue()}}this._updateText()}},spinUp:function(){var h=this.value;if(h==null){return}if(this.activeEditor!=null){var a=this.editors.indexOf(this.activeEditor);if(a==-1){return}if(this.items[a].type=="Day"){if(this.value!=null){this.activeEditor.maxValue=this.value._daysInMonth(this.value.year,this.value.month)}}var l=this.activeEditor.positions;this.activeEditor.increaseValue(this.enableAbsoluteSelection);this.activeEditor.positions=l}if(this.isEditing){this.isEditing=false}this.updateValue();this.isEditing=true;this._updateText();var f=this.editors.indexOf(this.activeEditor);if(f>=0){this._selectGroup(f)}},spinDown:function(){var h=this.value;if(h==null){return}if(this.activeEditor!=null){var a=this.editors.indexOf(this.activeEditor);if(a==-1){return}if(this.items[a].type=="Day"){if(this.value!=null){this.activeEditor.maxValue=this.value._daysInMonth(this.value.year,this.value.month)}}var l=this.activeEditor.positions;this.activeEditor.decreaseValue(this.enableAbsoluteSelection);this.activeEditor.positions=l}if(this.isEditing){this.isEditing=false}this.updateValue();this.isEditing=true;this._updateText();var f=this.editors.indexOf(this.activeEditor);if(f>=0){this._selectGroup(f)}},_passKeyToCalendar:function(o){if(o.keyCode==13||o.keyCode==9){this.hideCalendar("selected","keyboard");return true}else{if(o.keyCode==27){var l=this.calendarContainer;var n=this._calendar;var h=this.closeCalendarAfterSelection;this.closeCalendarAfterSelection=false;n.setDate(this.value.dateTime);this.closeCalendarAfterSelection=h;this.hideCalendar()}}var h=this.closeCalendarAfterSelection;this.closeCalendarAfterSelection=false;var a=this._calendar._handleKey(o);this.closeCalendarAfterSelection=h;return a},handleCalendarKey:function(h,l){var o=c(h.target);var n=c.data(document.body,"openedJQXCalendar"+this.id);if(n!=null){if(n.length>0){var a=l._passKeyToCalendar(h);return a}}return true},_findPos:function(d){if(d==null){return}while(d&&(d.type=="hidden"||d.nodeType!=1||c.expr.filters.hidden(d))){d=d.nextSibling}var a=c(d).coord(true);return[a.left,a.top]},testOffset:function(n,q,u){var o=n.outerWidth();var a=n.outerHeight();var l=c(window).width()+c(window).scrollLeft();var s=c(window).height()+c(window).scrollTop();if(q.left+o>l){if(o>this.host.width()){var t=this.host.coord().left;var v=o-this.host.width();q.left=t-v+2}}if(q.left<0){q.left=parseInt(this.host.coord().left)+"px"}q.top-=Math.min(q.top,(q.top+a>s&&s>a)?Math.abs(a+u+23):0);return q},open:function(a){if(a=="time"){this.timePopup=true}else{this.timePopup=false}this.showCalendar()},close:function(a){this.hideCalendar()},_getBodyOffset:function(){var d=0;var a=0;if(c("body").css("border-top-width")!="0px"){d=parseInt(c("body").css("border-top-width"));if(isNaN(d)){d=0}}if(c("body").css("border-left-width")!="0px"){a=parseInt(c("body").css("border-left-width"));if(isNaN(a)){a=0}}return{left:a,top:d}},initTimePopup:function(){this.timePopupElement=c("<div style='border-style: solid; border-width: 1px;'></div>").appendTo(this.timeContainer);this.timePopupElement.addClass(this.toThemeProperty("jqx-widget-content jqx-widget jqx-date-time-input-popup"));var v="";v+="<table><tbody><tr><td><a class='increment-hour-column' href='javascript:;' data-action='incrementHour'><div class='jqx-icon-up'></div></a></td><td class='separator'>&nbsp;</td><td><a class='increment-minute-column' href='javascript:;' data-action='incrementMinute'><div class='jqx-icon-up'></div></a></td><td class='separator'>&nbsp;</td><td><a class='increment-second-column' href='javascript:;' data-action='incrementSecond'><div class='jqx-icon-up'></div></a></td><td class='separator'>&nbsp;</td><td><a class='increment-millisecond-column' href='javascript:;' data-action='incrementMSSecond'><div class='jqx-icon-up'></div></a></td><td class='separator'>&nbsp;</td><td class='increment-meridian-column'><a href='javascript:;' data-action='toggleMeridian'><div class='jqx-icon-up'></div></a></td></tr><tr><td><input type='text' class='jqx-timepicker-hour' maxlength='2'></td><td class='separator'>:</td><td><input type='text' class='jqx-timepicker-minute' maxlength='2'></td><td class='separator'>:</td><td><input type='text' class='jqx-timepicker-second' maxlength='2'></td><td class='separator'>:</td><td><input type='text' class='jqx-timepicker-millisecond' maxlength='3'></td><td class='separator'>&nbsp;</td><td><input type='text' class='jqx-timepicker-meridian' maxlength='2'></td></tr><tr><td><a class='decrement-hour-column' href='javascript:;' data-action='decrementHour'><div class='jqx-icon-down'></div></a></td><td class='separator'></td><td><a class='decrement-minute-column' href='javascript:;' data-action='decrementMinute'><div class='jqx-icon-down'></div></a></td><td class='separator'></td><td><a class='decrement-second-column' href='javascript:;' data-action='decrementSecond'><div class='jqx-icon-down'></div></a></td><td class='separator'></td><td><a class='decrement-millisecond-column' href='javascript:;' data-action='decrementMillisecond'><div class='jqx-icon-down'></div></a></td><td class='separator'>&nbsp;</td><td><a class='decrement-meridian-column' href='javascript:;' data-action='toggleMeridian'><div class='jqx-icon-down'></div></a></td></tr></tbody></table>";var E=this._getFormatValue(this.formatString);if(this.selectionMode!="range"){this.timePopupElement[0].innerHTML=v}else{this.timePopupElement[0].innerHTML="<table><tr><td>"+v+"</td><td>-</td><td>"+v+"</td></tr></table>"}this.timePopupElement.find(".jqx-icon-down").addClass(this.toThemeProperty("jqx-icon jqx-icon-arrow-down"));this.timePopupElement.find(".jqx-icon-up").addClass(this.toThemeProperty("jqx-icon jqx-icon-arrow-up"));var J=this.timePopupElement.find("input");J.addClass(this.toThemeProperty("jqx-input"));J.addClass(this.toThemeProperty("jqx-rc-all"));this.addHandler(J,"mousedown",function(d){d.stopPropagation()});var L=function(d){if(d.target.className.indexOf("hour")>=0){D._decrementHour(c(d.target))}if(d.target.className.indexOf("minute")>=0){D._decrementMinuteSecond(c(d.target))}if(d.target.className.indexOf("second")>=0){D._decrementMinuteSecond(c(d.target))}if(d.target.className.indexOf("millisecond")>=0){D._decrementMillisecond(c(d.target))}if(d.target.className.indexOf("meridian")>=0){D._decrementMeridian(c(d.target))}};var F=function(d){if(d.target.className.indexOf("hour")>=0){D._incrementHour(c(d.target))}if(d.target.className.indexOf("minute")>=0){D._incrementMinuteSecond(c(d.target))}if(d.target.className.indexOf("second")>=0){D._incrementMinuteSecond(c(d.target))}if(d.target.className.indexOf("millisecond")>=0){D._incrementMillisecond(c(d.target))}if(d.target.className.indexOf("meridian")>=0){D._incrementMeridian(c(d.target))}};var w=function(e,f){var d=0;if(!e){e=window.event}if(e.originalEvent&&e.originalEvent.wheelDelta){e.wheelDelta=e.originalEvent.wheelDelta}if(e.originalEvent&&e.originalEvent.deltaY!=undefined){d=-e.originalEvent.deltaY}if(e.wheelDelta){d=e.wheelDelta/120}else{if(e.detail){d=-e.detail/3}}if(d){if(document.activeElement==e.target&&e.target.nodeName.toLowerCase()=="input"){if(d<0){L(e)}else{F(e)}}if(e.preventDefault){e.preventDefault()}e.returnValue=false}if(e.preventDefault){e.preventDefault()}e.returnValue=false};this.addHandler(J,"wheel",function(d){w(d)});this.addHandler(J,"keydown",function(d){var e=c(d.target);if(d.ctrlKey){if(d.keyCode==38){if(D.isOpened()){D.hideCalendar("keyboard","keyboard");D.dateTimeInput.focus();return false}}else{if(d.keyCode==40){if(!D.isOpened()){D.showCalendar("keyboard","keyboard");D.dateTimeInput.focus();return false}}}}if(d.keyCode==40){L(d);d.preventDefault()}else{if(d.keyCode==38){F(d);d.preventDefault()}else{if(d.keyCode==13){d.preventDefault();D.hideCalendar("keyboard","keyboard");D.dateTimeInput.focus()}else{if(d.keyCode==27){d.preventDefault();D.hideCalendar("cancel");D.dateTimeInput.focus()}}}}});this.hourInput=c(J[0]);this.minuteInput=c(J[1]);this.secondInput=c(J[2]);this.mssecondInput=c(J[3]);this.meridianInput=c(J[4]);this.hourInput2=c(J[5]);this.minuteInput2=c(J[6]);this.secondInput2=c(J[7]);this.mssecondInput2=c(J[8]);this.meridianInput2=c(J[9]);var D=this;var B=this.timePopupElement.find(".increment-hour-column");this.hourIncrement=c(B[0]);this.hourIncrement2=c(B[1]);this.addHandler(J,"change",function(e){var f=c(e.target);if(f.val().length<=1){f.val("0"+c(e.target).val())}if(e.target.className.indexOf("hour")>=0){var d=parseInt(c(e.target).val());if(E.indexOf("HH")>=0){while(d>24){d=d-24}}else{while(d>12){d=d-12}}if(d<10){d="0"+d}if(f.val()!=d){f.val(d)}}if(e.target.className.indexOf("minute")>=0||e.target.className.indexOf("second")>=0){var d=parseInt(c(e.target).val());while(d>59){d--}if(d<10){d="0"+d}if(f.val()!=d){f.val(d)}}});this._incrementHour=function(e){var d=parseInt(e.val());d++;if(E.indexOf("HH")>=0){if(d>24){d=1}}else{if(d>12){d=1}}if(d<10){d="0"+d}e.val(d)};this._incrementMinuteSecond=function(e){var d=parseInt(e.val());d++;if(d>59){d=0}if(d<10){d="0"+d}e.val(d)};this._incrementMillisecond=function(e){var d=parseInt(e.val());d++;if(d>999){d=0}if(d<10){d="0"+d}e.val(d)};this._incrementMeridian=function(e){var d=e.val();if(d.toLowerCase().indexOf("a")>=0){d="PM"}else{d="AM"}e.val(d)};this._decrementHour=function(e){var d=parseInt(e.val());d--;if(E.indexOf("HH")>=0){if(d<0){d=23}}else{if(d<1){d=12}}if(d<10){d="0"+d}e.val(d)};this._decrementMinuteSecond=function(e){var d=parseInt(e.val());d--;if(d<0){d=59}if(d<10){d="0"+d}e.val(d)};this._decrementMillisecond=function(e){var d=parseInt(e.val());d--;if(d<0){d=999}if(d<10){d="0"+d}e.val(d)};this._decrementMeridian=function(e){var d=e.val();if(d.toLowerCase().indexOf("a")>=0){d="PM"}else{d="AM"}e.val(d)};this.addHandler(this.hourIncrement,"mousedown",function(d){d.stopPropagation();D._incrementHour(D.hourInput)});this.addHandler(this.hourIncrement2,"mousedown",function(d){d.stopPropagation();D._incrementHour(D.hourInput2)});var A=this.timePopupElement.find(".increment-minute-column");this.minuteIncrement=c(A[0]);this.minuteIncrement2=c(A[1]);this.addHandler(this.minuteIncrement,"mousedown",function(d){d.stopPropagation();D._incrementMinuteSecond(D.minuteInput)});this.addHandler(this.minuteIncrement2,"mousedown",function(d){d.stopPropagation();D._incrementMinuteSecond(D.minuteInput2)});var N=this.timePopupElement.find(".increment-second-column");this.secondIncrement=c(N[0]);this.secondIncrement2=c(N[1]);this.addHandler(this.secondIncrement,"mousedown",function(d){d.stopPropagation();D._incrementMinuteSecond(D.secondInput)});this.addHandler(this.secondIncrement2,"mousedown",function(d){d.stopPropagation();D._incrementMinuteSecond(D.secondInput2)});var M=this.timePopupElement.find(".increment-millisecond-column");this.millisecondsIncrement=c(M[0]);this.millisecondsIncrement2=c(M[1]);this.addHandler(this.millisecondsIncrement,"mousedown",function(d){d.stopPropagation();D._incrementMillisecond(D.mssecondInput)});this.addHandler(this.millisecondsIncrement2,"mousedown",function(d){d.stopPropagation();D._incrementMillisecond(D.mssecondInput2)});var H=this.timePopupElement.find(".increment-meridian-column");this.meridianIncrement=c(H[0]);this.meridianIncrement2=c(H[1]);this.addHandler(this.meridianIncrement,"mousedown",function(d){d.stopPropagation();D._incrementMeridian(D.meridianInput)});this.addHandler(this.meridianIncrement2,"mousedown",function(d){d.stopPropagation();D._incrementMeridian(D.meridianInput2)});var C=this.timePopupElement.find(".decrement-hour-column");this.hourDecrement=c(C[0]);this.hourDecrement2=c(C[1]);this.addHandler(this.hourDecrement,"mousedown",function(d){d.stopPropagation();D._decrementHour(D.hourInput)});this.addHandler(this.hourDecrement2,"mousedown",function(d){d.stopPropagation();D._decrementHour(D.hourInput2)});var G=this.timePopupElement.find(".decrement-minute-column");this.minuteDecrement=c(G[0]);this.minuteDecrement2=c(G[1]);this.addHandler(this.minuteDecrement,"mousedown",function(d){d.stopPropagation();D._decrementMinuteSecond(D.minuteInput)});this.addHandler(this.minuteDecrement2,"mousedown",function(d){d.stopPropagation();D._decrementMinuteSecond(D.minuteInput2)});var a=this.timePopupElement.find(".decrement-second-column");this.secondDecrement=c(a[0]);this.secondDecrement2=c(a[1]);this.addHandler(this.secondDecrement,"mousedown",function(d){d.stopPropagation();D._decrementMinuteSecond(D.secondInput)});this.addHandler(this.secondDecrement2,"mousedown",function(d){d.stopPropagation();D._decrementMinuteSecond(D.secondInput2)});var O=this.timePopupElement.find(".decrement-millisecond-column");this.millisecondsDecrement=c(O[0]);this.millisecondsDecrement2=c(O[1]);this.addHandler(this.millisecondsDecrement,"mousedown",function(d){d.stopPropagation();D._decrementMillisecond(D.mssecondInput)});this.addHandler(this.millisecondsDecrement2,"mousedown",function(d){d.stopPropagation();D._decrementMillisecond(D.mssecondInput2)});var K=this.timePopupElement.find(".decrement-meridian-column");this.meridianDecrement=c(K[0]);this.meridianDecrement2=c(K[1]);this.addHandler(this.meridianDecrement,"mousedown",function(d){d.stopPropagation();D._decrementMeridian(D.meridianInput)});this.addHandler(this.meridianDecrement2,"mousedown",function(d){d.stopPropagation();D._decrementMeridian(D.meridianInput2)});var z=this.timePopupElement.find("table");this.addHandler(this.timePopupElement,"mousedown",function(d){d.stopPropagation()});var I=function(e){var d=e.find("tr");if(E.indexOf("ss")==-1){D.secondInput.hide();D.secondInput2.hide();c(c(d[0]).children()[3]).hide();c(c(d[0]).children()[4]).hide();c(c(d[1]).children()[3]).hide();c(c(d[1]).children()[4]).hide();c(c(d[2]).children()[3]).hide();c(c(d[2]).children()[4]).hide()}if(E.indexOf("tt")==-1&&E.indexOf("hh")==-1){D.meridianInput.hide();D.meridianInput2.hide();c(c(d[0]).children()[7]).hide();c(c(d[0]).children()[8]).hide();c(c(d[1]).children()[7]).hide();c(c(d[1]).children()[8]).hide();c(c(d[2]).children()[7]).hide();c(c(d[2]).children()[8]).hide()}if(E.indexOf("zz")==-1){D.mssecondInput.hide();D.mssecondInput2.hide();c(c(d[0]).children()[5]).hide();c(c(d[0]).children()[6]).hide();c(c(d[1]).children()[5]).hide();c(c(d[1]).children()[6]).hide();c(c(d[2]).children()[5]).hide();c(c(d[2]).children()[6]).hide()}};if(z.length==1){I(z)}else{I(c(c(z)[1]));I(c(c(z)[2]))}},updateTimePopup:function(){var a=this._getFormatValue(this.formatString);if(this.selectionMode!="range"){var o=this.getDate();if(this.hourInput){if(o){var t=o.getHours();var l=o.getMinutes();var n=o.getHours();var q=o.getSeconds();var s=o.getMilliseconds()}else{var t=0;var l=0;var n=0;var q=0;var s=0}if(t>=12){n="PM";if(a.indexOf("HH")==-1){t-=12;if(t==0){t=12}}}else{n="AM"}if(this.meridianInput.css("display")!="none"){if(t==0){t=12}}if(t<10){t="0"+t}if(l<10){l="0"+l}if(q<10){q="0"+q}if(s<10){s="0"+s}this.hourInput.val(t);this.minuteInput.val(l);this.secondInput.val(q);this.mssecondInput.val(s);this.meridianInput.val(n)}}else{var o=this.getRange().from;if(this.hourInput){if(o){var t=o.getHours();var l=o.getMinutes();var n=o.getHours();var q=o.getSeconds();var s=o.getMilliseconds()}else{var t=0;var l=0;var n=0;var q=0;var s=0}if(t>=12){n="PM";if(a.indexOf("HH")==-1){t-=12;if(t==0){t=12}}}else{n="AM"}if(this.meridianInput.css("display")!="none"){if(t==0){t=12}}if(t<10){t="0"+t}if(l<10){l="0"+l}if(q<10){q="0"+q}if(s<10){s="0"+s}this.hourInput.val(t);this.minuteInput.val(l);this.secondInput.val(q);this.mssecondInput.val(s);this.meridianInput.val(n)}var o=this.getRange().to;if(this.hourInput2){if(o){var t=o.getHours();var l=o.getMinutes();var n=o.getHours();var q=o.getSeconds();var s=o.getMilliseconds()}else{var t=0;var l=0;var n=0;var q=0;var s=0}if(t>=12){n="PM";if(a.indexOf("HH")==-1){t-=12;if(t==0){t=12}}}else{n="AM"}if(this.meridianInput.css("display")!="none"){if(t==0){t=12}}if(t<10){t="0"+t}if(l<10){l="0"+l}if(q<10){q="0"+q}if(s<10){s="0"+s}this.hourInput2.val(t);this.minuteInput2.val(l);this.secondInput2.val(q);this.mssecondInput2.val(s);this.meridianInput2.val(n)}}},showCalendar:function(){var I=this.calendarContainer;var E=this._calendar;c.jqx.aria(this,"aria-expanded",true);if(this.showTimeButton){if(this.timePopup){if(!this.timePopupElement){this.initTimePopup()}this.calendarContainer.css("visibility","hidden");this.timeContainer.css("visibility","visible");this.updateTimePopup();var Q=this.timeContainer.find("input");var C=0;for(var z=0;z<Q.length;z++){if(Q[z].style.display!="none"){C+=50}}this.container.width(parseInt(C));if(!this.touch){setTimeout(function(){Q[0].focus();c(Q[0]).select()},150+this.openDelay)}}else{this.container.width(parseInt(this.calendarContainer.width())+25);this.timeContainer.css("visibility","hidden");this.calendarContainer.css("visibility","visible")}}if(this.value!=null){if(this.selectionMode!="range"){this._oldDT=new Date(this.value.dateTime)}else{this._oldDT=this.getRange()}}else{this._oldDT=null}if(!E.canRender){E.canRender=true;E.render()}var J=this.container;var F=this;var N=c(window).scrollTop();var M=c(window).scrollLeft();var H=parseInt(this._findPos(this.host[0])[1])+parseInt(this.host.outerHeight())-1+"px";var P,D=parseInt(Math.round(this.host.coord(true).left));P=D+"px";var a=c.jqx.mobile.isSafariMobileBrowser()||c.jqx.mobile.isWindowsPhone();if((a!=null&&a)){P=c.jqx.mobile.getLeftPos(this.element);H=c.jqx.mobile.getTopPos(this.element)+parseInt(this.host.outerHeight());if(c("body").css("border-top-width")!="0px"){H=parseInt(H)-this._getBodyOffset().top+"px"}if(c("body").css("border-left-width")!="0px"){P=parseInt(P)-this._getBodyOffset().left+"px"}}this.container.css("left",P);this.container.css("top",H);var R=this.closeCalendarAfterSelection;this.closeCalendarAfterSelection=false;this.isEditing=false;if(F.selectionMode=="default"){this._validateValue();this._updateText();var B=this.value!=null?this.value.dateTime:new Date();E.setDate(B)}this.closeCalendarAfterSelection=R;var S=false;if(this.dropDownHorizontalAlignment=="right"||this.rtl){var K=this.container.outerWidth();var A=Math.abs(K-this.host.outerWidth()+2);if(!this.rtl){A-=2}if(K>this.host.width()){var O=23;this.container.css("left",O+parseInt(Math.round(D))-A+"px")}else{this.container.css("left",25+parseInt(Math.round(D))+A+"px")}}if(this.enableBrowserBoundsDetection){var L=this.testOffset(I,{left:parseInt(this.container.css("left")),top:parseInt(H)},parseInt(this.host.outerHeight()));if(parseInt(this.container.css("top"))!=L.top){S=true;I.css("top",23);I.addClass(this.toThemeProperty("jqx-popup-up"))}else{I.css("top",0)}this.container.css("top",L.top);if(parseInt(this.container.css("left"))!=L.left){this.container.css("left",L.left)}}this._raiseEvent(7,I);if(this.animationType!="none"){this.container.css("display","block");var G=parseInt(I.outerHeight());I.stop();this.isanimating=true;this.opening=true;if(this.animationType=="fade"){I.css("margin-top",0);I.css("opacity",0);I.animate({opacity:1},this.openDelay,function(){F.isanimating=false;F.opening=false;c.data(document.body,"openedJQXCalendar"+F.id,I);F.calendarContainer.focus()});if(this.timePopup){this.timeContainer.css("margin-top",0);this.timeContainer.css("opacity",0);this.timeContainer.animate({opacity:1},this.openDelay,function(){F.isanimating=false;F.opening=false;c.data(document.body,"openedJQXCalendar"+F.id,I);F.timeContainer.focus()})}}else{I.css("opacity",1);if(this.timePopup){this.timeContainer.css("opacity",1)}if(S){I.css("margin-top",G)}else{I.css("margin-top",-G)}if(this.timePopup){if(S){this.timeContainer.css("margin-top",G)}else{this.timeContainer.css("margin-top",-G)}this.timeContainer.animate({"margin-top":0},this.openDelay,function(){F.isanimating=false;F.opening=false;c.data(document.body,"openedJQXCalendar"+F.id,I);F.timeContainer.focus()})}I.animate({"margin-top":0},this.openDelay,function(){F.isanimating=false;F.opening=false;c.data(document.body,"openedJQXCalendar"+F.id,I);F.calendarContainer.focus()})}}else{I.stop();F.isanimating=false;F.opening=false;I.css("opacity",1);I.css("margin-top",0);this.container.css("display","block");c.data(document.body,"openedJQXCalendar"+F.id,I);this.calendarContainer.focus();if(this.timePopup){this.timeContainer.stop();this.timeContainer.css("opacity",1);this.timeContainer.css("margin-top",0);this.timeContainer.focus()}}if(this.value==null){if(this._calendar&&this._calendar._getSelectedCell()){this._calendar._getSelectedCell().isSelected=false}}if(this.timePopup){this.timeButtonIcon.addClass(this.toThemeProperty("jqx-icon-time-pressed"));this.timeButton.addClass(this.toThemeProperty("jqx-fill-state-hover"));this.timeButton.addClass(this.toThemeProperty("jqx-fill-state-pressed"))}else{this.calendarButtonIcon.addClass(this.toThemeProperty("jqx-icon-calendar-pressed"));this.calendarButton.addClass(this.toThemeProperty("jqx-fill-state-hover"));this.calendarButton.addClass(this.toThemeProperty("jqx-fill-state-pressed"))}this.host.addClass(this.toThemeProperty("jqx-fill-state-focus"))},hideCalendar:function(A,t){if(t){this.changeType=t}var C=this.calendarContainer;var I=this.container;var s=this;c.jqx.aria(this,"aria-expanded",false);if(this.showTimeButton){if(this.timeContainer.css("visibility")!="hidden"&&A!="cancel"){if(this.selectionMode!="range"){var F=this.getDate();var D=parseInt(this.hourInput.val());var E=parseInt(this.minuteInput.val());var H=parseInt(this.secondInput.val());var a=parseInt(this.mssecondInput.val());var G=this.meridianInput.val();if(isNaN(D)){D=0}if(isNaN(E)){E=0}if(isNaN(H)){H=0}if(isNaN(a)){a=0}if(this.meridianInput.css("display")!="none"){if(G.toLowerCase().indexOf("p")>=0){if(D<12){D+=12}}if(G.toLowerCase().indexOf("a")>=0){if(D>=12){D-=12}}}if(!F){F=new Date()}F.setHours(D,E,H,a);this.setDate(F)}else{if(this.hourInput&&A!="selected"){var B=this.getRange();var D=parseInt(this.hourInput.val());var E=parseInt(this.minuteInput.val());var H=parseInt(this.secondInput.val());var a=parseInt(this.mssecondInput.val());var G=this.meridianInput.val();if(isNaN(D)){D=0}if(isNaN(E)){E=0}if(isNaN(H)){H=0}if(isNaN(a)){a=0}if(this.meridianInput.css("display")!="none"){if(G.toLowerCase().indexOf("p")>=0){if(D<12){D+=12}}if(G.toLowerCase().indexOf("a")>=0){if(D>=12){D-=12}}}var w=B.from;if(!w){w=new Date()}w.setHours(D,E,H,a);var D=parseInt(this.hourInput2.val());var E=parseInt(this.minuteInput2.val());var H=parseInt(this.secondInput2.val());var a=parseInt(this.mssecondInput2.val());var G=this.meridianInput2.val();if(E==""){E=0}if(H==""){H=0}if(a==""){a=0}if(this.meridianInput2.css("display")!="none"){if(G.toLowerCase().indexOf("p")>=0){if(D<12){D+=12}}if(G.toLowerCase().indexOf("a")>=0){if(D>=12){D-=12}}}var z=B.to;if(!z){z=new Date()}z.setHours(D,E,H,a);if(z.valueOf()<w.valueOf()){return false}this.setRange(w,z)}else{if(A=="selected"){return}}}}}c.data(document.body,"openedJQXCalendar"+this.id,null);if(this.animationType!="none"){var u=C.outerHeight();C.css("margin-top",0);if(this.showTimeButton){this.timeContainer.css("margin-top",0)}this.isanimating=true;var v=-u;if(parseInt(this.container.coord().top)<parseInt(this.host.coord().top)){v=u}if(this.animationType=="fade"){C.animate({opacity:0},this.closeDelay,function(){I.css("display","none");s.isanimating=false})}else{C.animate({"margin-top":v},this.closeDelay,function(){I.css("display","none");s.isanimating=false})}if(this.showTimeButton){if(this.animationType=="fade"){this.timeContainer.animate({opacity:0},this.closeDelay,function(){I.css("display","none");s.isanimating=false})}else{this.timeContainer.animate({"margin-top":v},this.closeDelay,function(){I.css("display","none");s.isanimating=false})}}}else{I.css("display","none")}if(A!=undefined){this._updateSelectedDate(A)}this.timeButtonIcon.removeClass(this.toThemeProperty("jqx-icon-time-pressed"));this.timeButton.removeClass(this.toThemeProperty("jqx-fill-state-hover"));this.timeButton.removeClass(this.toThemeProperty("jqx-fill-state-pressed"));this.calendarButtonIcon.removeClass(this.toThemeProperty("jqx-icon-calendar-pressed"));this.calendarButton.removeClass(this.toThemeProperty("jqx-fill-state-hover"));this.calendarButton.removeClass(this.toThemeProperty("jqx-fill-state-pressed"));this.host.removeClass(this.toThemeProperty("jqx-fill-state-focus"));this._raiseEvent(8,C)},_updateSelectedDate:function(){var o=this.value;if(o==null){o=new c.jqx._jqxDateTimeInput.getDateTime(new Date());o._setHours(0);o._setMinutes(0);o._setSeconds(0);o._setMilliseconds(0)}var v=o.hour;var w=o.minute;var B=o.second;var C=o.millisecond;if(this.selectionMode=="range"&&this._calendar.getRange().from==null){this.setDate(null);return}var A=new c.jqx._jqxDateTimeInput.getDateTime(this._calendar.value.dateTime);A._setHours(v);A._setMinutes(w);A._setSeconds(B);A._setMilliseconds(C);var a=this.setDate(A.dateTime);if(this.selectionMode=="range"&&!a&&this._oldDT){var u=this.getRange();var t=this._oldDT;var q=false;var s=false;var z=this._oldDT.from;var A=u.from;if(A!=null&&z){if(!(A.getFullYear()!=z.getFullYear()||A.getMonth()!=z.getMonth()||A.getDate()!=z.getDate()||A.getHours()!=z.getHours()||A.getMinutes()!=z.getMinutes()||A.getSeconds()!=z.getSeconds())){q=true}}var A=u.to;if(A!=null){z=this._oldDT.to;if(z){if(!(A.getFullYear()!=z.getFullYear()||A.getMonth()!=z.getMonth()||A.getDate()!=z.getDate()||A.getHours()!=z.getHours()||A.getMinutes()!=z.getMinutes()||A.getSeconds()!=z.getSeconds())){s=true}}}if(q&&s){return true}this._raiseEvent(0,{});this._raiseEvent(9,{})}},_closeOpenedCalendar:function(E){var B=c(E.target);var u=c.data(document.body,"openedJQXCalendar"+E.data.me.id);var C=false;c.each(B.parents(),function(){if(this.className&&this.className.indexOf){if(this.className.indexOf("jqx-calendar")!=-1){C=true;return false}if(this.className.indexOf("jqx-date-time-input-popup")!=-1){C=true;return false}if(this.className.indexOf("jqx-input")!=-1){return false}}});if(c(E.target).ischildof(E.data.me.host)){return true}if(E.target!=null&&(E.target.tagName=="B"||E.target.tagName=="b")){var t=E.data.me.host.coord();var q=E.data.me.host.width();var D=E.data.me.host.height();var s=parseInt(t.top);var z=parseInt(t.left);if(s<=E.pageY&&E.pageY<=s+D){if(z<=E.pageX&&E.pageX<=z+q){return true}}}if(u!=null&&!C){if(u.length>0){var w=u[0].id.toString();var A=w.toString().substring(13);var v=c(document).find("#"+A);var a=E.data.me.hideCalendar();if(a!==false){c.data(document.body,"openedJQXCalendar"+E.data.me.id,null)}}}},_loadItems:function(){if(this.value!=null){this.items=new Array();var e=this._getFormatValue(this.formatString);this.items=this._parseFormatValue(e);this.editors=new Array();for(var a=0;a<this.items.length;a++){var f=this.items[a].getDateTimeEditorByItemType(this.value,this);this.editors[a]=f}}this._updateEditorsValue();this._updateText()},_updateText:function(){var o=this;var n="";if(o.items.length==0&&o.value!=null){o._loadItems()}if(o.value!=null){if(o.items.length>=1){n=o.format(o.value,0,o.items.length)}var a=o.dateTimeInput.val();if(a!=n){o._raiseEvent(1,o.value)}}if(o.selectionMode=="range"){var q=o.getRange();fromText=o.format(o.value,0,o.items.length);if(q.to){var h=c.jqx._jqxDateTimeInput.getDateTime(q.from);fromText=o.format(h,0,o.items.length);var l=c.jqx._jqxDateTimeInput.getDateTime(q.to);toText=o.format(l,0,o.items.length);var n=fromText+" - "+toText;if(n==" - "){n=""}}else{n=""}}o.dateTimeInput.val(n)},format:function(n,l,o){var a="";for(var q=l;q<o;++q){var t=this.items[q].dateParser(n,this);if(this.isEditing&&this.items[q].type!="ReadOnly"){if(this.selectionMode!="range"){var s=this.items[q].type=="Day"&&this.items[q].format.length>2;if(this.items[q].type=="FORMAT_AMPM"){s=true;if(this.editors[q].value==0){t=this.editors[q].amString}else{t=this.editors[q].pmString}}if(!s){t=this.items[q].dateParserInEditMode(new Number(this.editors[q].value),"d"+this.editors[q].maxEditPositions,this);while(t.length<this.editors[q].maxEditPositions){t="0"+t}}}}a+=t}return a},_getFormatValueGroupLength:function(a){for(i=1;i<a.toString().length;++i){if(a.substring(i,i+1)!=a.substring(0,1)){return i}}return a.length},_parseFormatValue:function(l){var t=new Array();var o=l.toString();var q=0;while(o.length>0){var s=this._getFormatValueGroupLength(o);var n=null;switch(o.substring(0,1)){case":":case"/":s=1;n=c.jqx._jqxDateTimeInput.DateTimeFormatItem._create(o.substring(0,1),"ReadOnly",this.culture);break;case'"':case"'":var a=o.indexOf(o[0],1);n=c.jqx._jqxDateTimeInput.DateTimeFormatItem._create(o.substring(1,1+Math.max(1,a-1)),"ReadOnly",this.culture);s=Math.max(1,a+1);break;case"\\":if(o.length>=2){n=c.jqx._jqxDateTimeInput.DateTimeFormatItem._create(o.substring(1,1),"ReadOnly",this.culture);s=2}break;case"d":case"D":if(s>2){n=c.jqx._jqxDateTimeInput.DateTimeFormatItem._create(o.substring(0,s),"Day",this.culture)}else{n=c.jqx._jqxDateTimeInput.DateTimeFormatItem._create(o.substring(0,s),"Day",this.culture)}break;case"f":case"F":if(s>7){s=7}if(s>3){n=c.jqx._jqxDateTimeInput.DateTimeFormatItem._create(o.substring(0,s),"ReadOnly",this.culture)}else{n=c.jqx._jqxDateTimeInput.DateTimeFormatItem._create(o.substring(0,s),"Millisecond",this.culture)}break;case"g":n=c.jqx._jqxDateTimeInput.DateTimeFormatItem._create(o.substring(0,s),"ReadOnly",this.culture);break;case"h":n=c.jqx._jqxDateTimeInput.DateTimeFormatItem._create(o.substring(0,s),"FORMAT_hh",this.culture);break;case"H":n=c.jqx._jqxDateTimeInput.DateTimeFormatItem._create(o.substring(0,s),"FORMAT_HH",this.culture);break;case"m":n=c.jqx._jqxDateTimeInput.DateTimeFormatItem._create(o.substring(0,s),"Minute",this.culture);break;case"M":if(s>4){s=4}n=c.jqx._jqxDateTimeInput.DateTimeFormatItem._create(o.substring(0,s),"Month",this.culture);break;case"s":case"S":n=c.jqx._jqxDateTimeInput.DateTimeFormatItem._create(o.substring(0,s),"Second",this.culture);break;case"t":case"T":n=c.jqx._jqxDateTimeInput.DateTimeFormatItem._create(o.substring(0,s),"FORMAT_AMPM",this.culture);break;case"y":case"Y":if(s>1){n=c.jqx._jqxDateTimeInput.DateTimeFormatItem._create(o.substring(0,s),"Year",this.culture)}else{s=1;n=c.jqx._jqxDateTimeInput.DateTimeFormatItem._create(o.substring(0,1),dateTimeFormatInfo,"ReadOnly",this.culture)}break;case"z":n=c.jqx._jqxDateTimeInput.DateTimeFormatItem._create(o.substring(0,s),"ReadOnly",this.culture);break;default:s=1;n=c.jqx._jqxDateTimeInput.DateTimeFormatItem._create(o.substring(0,1),"ReadOnly",this.culture);break}t[q]=c.extend(true,{},n);o=o.substring(s);q++}return t},_getFormatValue:function(a){if(a==null||a.length==0){a="d"}if(a.length==1){switch(a.substring(0,1)){case"d":return this.localization.calendar.patterns.d;case"D":return this.localization.calendar.patterns.D;case"t":return this.localization.calendar.patterns.t;case"T":return this.localization.calendar.patterns.T;case"f":return this.localization.calendar.patterns.f;case"F":return this.localization.calendar.patterns.F;case"M":return this.localization.calendar.patterns.M;case"Y":return this.localization.calendar.patterns.Y;case"S":return this.localization.calendar.patterns.S}}if(a.length==2&&a.substring(0,1)=="%"){a=a.substring(1)}return a},_updateEditorsValue:function(){var o=this.value;if(o==null){return}var s=o.year;var q=o.day;var v=o.hour;var a=o.millisecond;var z=o.second;var w=o.minute;var t=o.month;if(this.items==null){return}for(var u=0;u<this.items.length;u++){switch(this.items[u].type){case"FORMAT_AMPM":var n=v%12;if(n==0){n=12}if(v>=0&&v<12){this.editors[u].value=0}else{this.editors[u].value=1}break;case"Day":this.editors[u].value=q;break;case"FORMAT_hh":var n=v%12;if(n==0){n=12}this.editors[u].value=n;break;case"FORMAT_HH":this.editors[u].value=v;break;case"Millisecond":this.editors[u].value=a;break;case"Minute":this.editors[u].value=w;break;case"Month":this.editors[u].value=t;break;case"Second":this.editors[u].value=z;break;case"Year":this.editors[u].value=s;break}}},updateValue:function(L){if(this.isEditing){return}if(this.items&&this.items.length==0){return}var ag=0;var Y=1;var aa=1;var aj=0;var ap=0;var N=0;var V=0;var O=1;var al=0;var ai=false;var ab=false;var Z=false;var aq=false;var ar=false;var ad=false;var P=false;var X=new Array();var ao=null;var M=0;for(var ac=0;ac<this.items.length;ac++){switch(this.items[ac].type){case"FORMAT_AMPM":al=this.editors[ac].value;ao=this.editors[ac];break;case"Character":break;case"Day":if(this.items[ac].format.length<3){aa=this.editors[ac].value;X[M++]=this.editors[ac];if(aa==0){aa=1}Z=true}break;case"FORMAT_hh":var U=this.editors[ac];aj=U.value;aq=true;break;case"FORMAT_HH":aj=this.editors[ac].value;aq=true;break;case"Millisecond":ap=this.editors[ac].value;P=true;break;case"Minute":V=this.editors[ac].value;ar=true;break;case"Month":O=this.editors[ac].value;ab=true;if(O==0){O=1}break;case"ReadOnly":break;case"Second":N=this.editors[ac].value;ad=true;break;case"Year":ai=true;Y=this.editors[ac].value;var R=this.editors[ac].getDateTimeItem().format;if(R.length<3){var Q="1900";if(Q.Length==4){var T=""+Q[0]+Q[1];var W;W=parseInt(T);Y=Y+(W*100)}}if(Y==0){Y=1}break}}var S=this.value!=null?new Date(this.value.dateTime):null;if(Y>0&&O>0&&aa>0&&V>=0&&aj>=0&&N>=0&&ap>=0){var a=this.value;if(a!=null){if(!ai){Y=a.year}if(!ab){O=a.month}if(!Z){aa=a.day}}try{if(O>12){O=12}if(O<1){O=1}if(L&&a._daysInMonth(Y,O)<=aa){aa=a._daysInMonth(Y,O);if(X!=null&&X.length>0){for(ac=0;ac<X.length;ac++){X[ac].value=aa}}}if(ao!=null){if(ao.value==0){if(aj>=12){aj-=12}}else{if(aj+12<24){aj+=12}}}var am=this.value.dateTime.getDate();this.value._setYear(parseInt(Y));this.value._setDay(aa);this.value._setMonth(O);if(aq){this.value._setHours(aj)}if(ar){this.value._setMinutes(V)}if(ad){this.value._setSeconds(N)}if(P){this.value._setMilliseconds(ap)}this._validateTimeRange()}catch(ak){this.value=a}if(S!=null){var af=this.value.dateTime.getFullYear()==S.getFullYear()&&this.value.dateTime.getDate()==S.getDate()&&this.value.dateTime.getMonth()==S.getMonth()&&this.value.dateTime.getHours()==S.getHours()&&this.value.dateTime.getMinutes()==S.getMinutes()&&this.value.dateTime.getSeconds()==S.getSeconds();if(!af){if(this.changing){var ah=this.changing(S,this.value.dateTime);if(ah){this.value=c.jqx._jqxDateTimeInput.getDateTime(ah)}}this._raiseEvent("0",this.value.dateTime);if(this.cookies){if(this.value!=null){c.jqx.cookie.cookie("jqxDateTimeInput"+this.element.id,this.value.dateTime.toString(),this.cookieoptions)}}if(this.change){this.change(this.value.dateTime)}}}}var an=this.editors.indexOf(this.activeEditor);var ae=this.items[an];if(this.value){if(this.calendarContainer.jqxCalendar("_isDisabled",this.value.dateTime)){this.dateTimeInput.addClass(this.toThemeProperty("jqx-input-invalid"))}else{this.dateTimeInput.removeClass(this.toThemeProperty("jqx-input-invalid"))}}},_internalSetValue:function(a){this.value._setYear(parseInt(a.year));this.value._setDay(a.day);this.value._setMonth(a.month);this.value._setHours(a.hour);this.value._setMinutes(a.minute);this.value._setSeconds(a.second);this.value._setMilliseconds(a.milisecond)},_raiseEvent:function(E,q,B){var s=this.events[E];var A={};A.owner=this;if(q==null){q={}}if(B==null){B=q}var t=q.charCode?q.charCode:q.keyCode?q.keyCode:0;var a=true;var u=this.readonly;var F=new c.Event(s);F.owner=this;F.args=A;F.args.date=this.getDate();if(E==9){F.args.type=this.changeType;this.changeType=null}this.element.value=this.dateTimeInput.val();if(E==9&&this.selectionMode!="range"){var D=F.args.date;if(this._oldDT){if(D!=null){if(!(D.getFullYear()!=this._oldDT.getFullYear()||D.getMonth()!=this._oldDT.getMonth()||D.getDate()!=this._oldDT.getDate()||D.getHours()!=this._oldDT.getHours()||D.getMinutes()!=this._oldDT.getMinutes()||D.getSeconds()!=this._oldDT.getSeconds())){return true}}c.jqx.aria(this,"aria-valuenow",this.getDate());c.jqx.aria(this,"aria-valuetext",this.getText());if(this.getDate()!=null){c.jqx.aria(this,"aria-label","Current focused date is "+this.getDate().toLocaleString())}else{c.jqx.aria(this,"aria-label","Current focused date is Null")}}F.args.oldValue=B;F.args.newValue=F.args.date;if(this._oldDT){F.args.oldValue=this._oldDT}}if(this.selectionMode=="range"){F.args.date=this.getRange();if(this._oldDT){var D=F.args.date.from;if(E==9){var v=false;var w=false;var C=this._oldDT.from;if(D!=null&&C){if(!(D.getFullYear()!=C.getFullYear()||D.getMonth()!=C.getMonth()||D.getDate()!=C.getDate()||D.getHours()!=C.getHours()||D.getMinutes()!=C.getMinutes()||D.getSeconds()!=C.getSeconds())){v=true}}var D=F.args.date.to;if(D!=null){C=this._oldDT.to;if(C){if(!(D.getFullYear()!=C.getFullYear()||D.getMonth()!=C.getMonth()||D.getDate()!=C.getDate()||D.getHours()!=C.getHours()||D.getMinutes()!=C.getMinutes()||D.getSeconds()!=C.getSeconds())){w=true}}}if(v&&w){return true}var v=F.args.date.from;if(v==null){v=""}else{v=v.toString()}var w=F.args.date.to;if(w==null){w=""}else{w=w.toString()}c.jqx.aria(this,"aria-valuenow",v+"-"+w);c.jqx.aria(this,"aria-valuetext",this.getText());if(v&&w){c.jqx.aria(this,"aria-label","Current focused range is "+v.toLocaleString()+"-"+w.toLocaleString())}}}F.args.oldValue=B;F.args.newValue=F.args.date;if(this._oldDT){F.args.oldValue=this._oldDT}}if(this.host.css("display")=="none"){return true}if(E!=2&&E!=3&&E!=4&&E!=5&&E!=6){a=this.host.trigger(F);if(F.stopPropagation){F.stopPropagation()}}var z=this;if(!u){if(E==2&&!this.disabled){setTimeout(function(){z.isEditing=true;if(this.selectionMode=="range"){z._selectGroup(-1)}else{z._selectGroup(-1)}},25)}}if(E==4){if(u||this.disabled){if(t==8||t==46){this.isEditing=false;if(this.allowKeyboardDelete){if(this.allowNullDate){this.setDate(null)}else{if(this.selectionMode!="range"){this.setDate(this.getMinDate())}else{this.setRange(this.getMinDate(),this.getMinDate())}}}}if(t==9){return true}if(!q.altKey){return false}}a=this._handleKeyDown(q,t)}else{if(E==5){if(t==9){return true}if(u||this.disabled){return false}}else{if(E==6){if(t==9){return true}if(u||this.disabled){return false}a=this._handleKeyPress(q,t)}}}return a},_doLeftKey:function(){if(this.activeEditor!=null){if(!this.isEditing){this.isEditing=true}var a=this.activeEditor;var h=false;var f=this.editors.indexOf(this.activeEditor);var l=f;if(this.enableAbsoluteSelection){if(f>=0&&this.activeEditor.positions>0){this.activeEditor.positions--;this._selectGroup(f);return}}while(f>0){this.activeEditor=this.editors[--f];this._selectGroup(f);if(this.items[f].type!="ReadOnly"){h=true;break}}if(!h){if(l>=0){this.activeEditor=this.editors[l]}}if(this.activeEditor!=null&&a!=this.activeEditor){if(this.items[f].type!="ReadOnly"){if(this.enableAbsoluteSelection){this.activeEditor.positions=this.activeEditor.maxEditPositions-1}else{this.activeEditor.positions=0}}}if(this.activeEditor!=a){this._validateValue();this._updateText();this._selectGroup(this.editors.indexOf(this.activeEditor));return true}else{return false}}},_doRightKey:function(){if(this.activeEditor!=null){if(!this.isEditing){this.isEditing=true}var a=this.activeEditor;var h=false;var f=this.editors.indexOf(this.activeEditor);var l=f;if(this.enableAbsoluteSelection){if(f>=0&&this.activeEditor.positions<this.activeEditor.maxEditPositions-1){this.activeEditor.positions++;this._selectGroup(f);return}}while(f<=this.editors.length-2){this.activeEditor=this.editors[++f];this._selectGroup(f);if(this.items[f].type!="ReadOnly"){if(this.items[f].type=="Day"&&this.items[f].format.length>2){break}h=true;break}}if(!h){if(l>=0){this.activeEditor=this.editors[l]}}if(this.activeEditor!=null&&this.activeEditor!=a){if(this.items[f].type!="ReadOnly"){this.activeEditor.positions=0}}if(this.activeEditor!=a){this._validateValue();this._updateText();this._selectGroup(this.editors.indexOf(this.activeEditor));return true}else{return false}}},_saveSelectedText:function(){var a=this._selection();var e="";var f=this.dateTimeInput.val();if(a.start>0||a.length>0){for(i=a.start;i<a.end;i++){e+=f[i]}}if(window.clipboardData){window.clipboardData.setData("Text",e)}return e},_selectWithAdvancePattern:function(){var l=this.editors.indexOf(this.activeEditor);var h=false;if(this.items[l].type!="ReadOnly"){h=true}if(!h){return}var o=this.activeEditor;if(o!=null){var n=o.positions==o.maxEditPositions;if(n){this.editorText="";var q=o.value;var a=false;switch(this.items[l].type){case"FORMAT_AMPM":if(q<0){q=0}else{if(q>1){q=1}}break;case"Character":break;case"Day":if(q<1){q=1}else{if(q>31){q=31}}break;case"FORMAT_hh":if(q<1){q=1}else{if(q>12){q=12}}break;case"FORMAT_HH":if(q<0){q=0}else{if(q>23){q=23}}break;case"Millisecond":if(q<0){q=0}else{if(q>99){q=99}}break;case"Minute":if(q<0){q=0}else{if(q>59){q=59}}break;case"Month":if(q<1){q=1}else{if(q>12){q=12}}break;case"ReadOnly":break;case"Second":if(q<0){q=0}else{if(q>59){q=59}}break;case"Year":if(q<this.minDate.year){q=this.minDate.year}else{if(q>this.maxDate.year){q=this.maxDate.year}}break}if(o.value!=q){a=true}if(!a){this.isEditing=false;this._validateValue();this._updateText();this.isEditing=true;this._doRightKey();return true}return false}}},_handleKeyPress:function(u,e){var q=this._selection();var D=this;var B=u.ctrlKey||u.metaKey;if((B&&e==97)||(B&&e==65)){return true}if(e==8){if(q.start>0){D._setSelectionStart(q.start)}return false}if(e==46){if(q.start<this.items.length){D._setSelectionStart(q.start)}return false}if(q.start>=0){this.changeType="keyboard";var A=String.fromCharCode(e);var t=parseInt(A);if(A=="p"||A=="a"||A=="A"||A=="P"){if(this.activeEditor.item.type=="FORMAT_AMPM"){if(this.activeEditor.value==0&&(A=="p"||A=="P")){this.spinUp()}else{if(this.activeEditor.value==1&&(A=="a"||A=="A")){this.spinDown()}}}}if(!isNaN(t)){if(this.container.css("display")=="block"){this.hideCalendar()}this.updateValue();this._updateText();var w=false;var v=this.editors.indexOf(this.activeEditor);var C=null;this.isEditing=true;if(v.type!="ReadOnly"){C=this.activeEditor}if(C!=null&&C.positions==0){this.editorText=""}if(this.activeEditor==null){this.activeEditor=this.editors[0]}if(this.activeEditor==null){return false}this.activeEditor.insert(A);if(C!=null&&this.editorText.length>=C.maxEditPositions){this.editorText=""}this.editorText+=A;var a=this._selectWithAdvancePattern();if(this.activeEditor.positions==this.activeEditor.maxEditPositions){var z=this._getLastEditableEditorIndex();if(this.editors.indexOf(this.activeEditor)==z&&a&&this.enableAbsoluteSelection){this.activeEditor.positions=this.activeEditor.maxEditPositions-1}else{this.activeEditor.positions=0}}w=true;this.updateValue();this._updateText();this._selectGroup(this.editors.indexOf(this.activeEditor));return false}}var s=this._isSpecialKey(e);return s},_getLastEditableEditorIndex:function(){var a=0;var d=this;for(itemIndex=this.items.length-1;itemIndex>=0;itemIndex--){if(this.items[itemIndex].type!="ReadOnly"){return itemIndex}}return -1},_handleKeyDown:function(w,e){var z=this;this.timePopup=false;if(e==84){this.timePopup=true}if(w.keyCode==115){if(z.isOpened()){z.hideCalendar("keyboard","keyboard");return false}else{if(!z.isOpened()){z.showCalendar("keyboard","keyboard");return false}}}if(w.altKey){if(w.keyCode==38){if(z.isOpened()){z.hideCalendar("keyboard","keyboard");return false}}else{if(w.keyCode==40){if(!z.isOpened()){z.showCalendar("keyboard","keyboard");return false}}}}else{if(w.ctrlKey){this.timePopup=true;if(w.keyCode==38){if(z.isOpened()){z.hideCalendar("keyboard","keyboard");return false}}else{if(w.keyCode==40){if(!z.isOpened()){z.showCalendar("keyboard","keyboard");return false}}}}}if(z.isOpened()){if(w.keyCode==9){z.hideCalendar("selected","keyboard");return true}return}var s=z._selection();var D=w.ctrlKey||w.metaKey;if((D&&e==99)||(D&&e==67)){z._saveSelectedText(w);return true}if((D&&e==122)||(D&&e==90)){return false}if((D&&e==118)||(D&&e==86)||(w.shiftKey&&e==45)){var t=z.val();var v=this;var C=c('<textarea style="position: absolute; left: -1000px; top: -1000px;"/>');c("body").append(C);C.select();setTimeout(function(){var d=C.val();v.setDate(d);C.remove()},100);return true}if(e==8||e==46){if(!w.altKey&&!D&&e==46){z.isEditing=false;if(z.allowKeyboardDelete){z.changeType="keyboard";if(z.allowNullDate){z.setDate(null)}else{if(z.selectionMode!="range"){z.setDate(z.getMinDate())}else{z.setRange(z.getMinDate(),z.getMinDate())}}}}else{if(z.activeEditor!=null){var A=z.editors.indexOf(z.activeEditor);if(z.activeEditor.positions>=0){var B=z._format(Number(z.activeEditor.value),"d"+z.activeEditor.maxEditPositions,z.culture);tmp=B;tmp=tmp.substring(0,z.activeEditor.positions)+"0"+tmp.substring(z.activeEditor.positions+1);if(parseInt(tmp)<z.activeEditor.minValue){tmp=z._format(Number(z.activeEditor.minValue),"d"+z.activeEditor.maxEditPositions,z.culture)}if(z.enableAbsoluteSelection){z.activeEditor.value=tmp}else{z.activeEditor.value=z.activeEditor.minValue}z._validateValue();z._updateText();z.changeType="keyboard";if(e==8){var q=this;if(z.enableAbsoluteSelection&&z.activeEditor.positions>0){setTimeout(function(){q.activeEditor.positions=q.activeEditor.positions-1;q._selectGroup(A)},10)}else{setTimeout(function(){q._doLeftKey()},10)}}else{z._selectGroup(A)}}else{z._doLeftKey()}}}return false}if(e==38){this.spinUp();z.changeType="keyboard";return false}else{if(e==40){this.spinDown();z.changeType="keyboard";return false}}if(e==9){if(w.shiftKey){var a=this._doLeftKey()}else{var a=this._doRightKey()}if(!a){return true}else{return false}}if(e==37){if(this._editor){var a=this._doLeftKey();if(!a){this.isEditing=false;this._validateValue()}return !a}else{var a=this._doLeftKey();return false}}else{if(e==39||e==191){if(this._editor){var a=this._doRightKey();if(!a){this.isEditing=false;this._validateValue()}return !a}else{var a=this._doRightKey();return false}}}var u=this._isSpecialKey(e);if(this.value==null&&(e>=48&&e<=57||e>=96&&e<=105)){z.changeType="keyboard";if(new Date()>=this.getMinDate()&&new Date()<=this.getMaxDate()){this.setDate(new Date())}else{this.setDate(this.getMaxDate())}}if(!c.jqx.browser.mozilla){return true}if(c.jqx.browser.mozilla&&c.jqx.browser.version>24){return true}return u},_isSpecialKey:function(a){if(a!=8&&a!=9&&a!=13&&a!=35&&a!=36&&a!=37&&a!=39&&a!=27&&a!=46){return false}return true},_selection:function(){if("selectionStart" in this.dateTimeInput[0]){var h=this.dateTimeInput[0];var e=h.selectionEnd-h.selectionStart;return{start:h.selectionStart,end:h.selectionEnd,length:e,text:h.value}}else{var n=document.selection.createRange();if(n==null){return{start:0,end:h.value.length,length:0}}var a=this.dateTimeInput[0].createTextRange();var l=a.duplicate();a.moveToBookmark(n.getBookmark());l.setEndPoint("EndToStart",a);var e=n.text.length;return{start:l.text.length,end:l.text.length+n.text.length,length:e,text:n.text}}},_selectGroup:function(o,a){if(this.host.css("display")=="none"){return}if(this.readonly){return}if(!a){var a=this._selection()}var u="";var A="";var z=null;for(var w=0;w<this.items.length;w++){A=this.items[w].dateParser(this.value,this);if(this.isEditing&&this.items[w].type!="ReadOnly"){var q=this.items[w].type=="Day"&&this.items[w].format.length>2;if(!q&&this.items[w].type!="FORMAT_AMPM"){A=this.items[w].dateParserInEditMode(new Number(this.editors[w].value),"d"+this.editors[w].maxEditPositions,this);while(A.length<this.editors[w].maxEditPositions){A="0"+A}}}u+=A;if(this.items[w].type=="ReadOnly"){continue}if(this.items[w].type=="Day"&&this.items[w].format.length>2){continue}if(o!=undefined&&o!=-1){if(w>=o){var n=u.length-A.length;var v=A.length;if(this.enableAbsoluteSelection){if(!isNaN(parseInt(A))&&this.isEditing&&o!=-1){v=1;n+=this.editors[w].positions}}if(n==this.dateTimeInput.val().length){n--}this._setSelection(n,n+v);z=this.editors[w];this.activeEditor=z;break}}else{if(u.length>=a.start){z=this.editors[w];this.activeEditor=z;var n=u.length-A.length;var v=1;if(this.enableAbsoluteSelection){if(!isNaN(parseInt(A))&&this.isEditing&&o!=-1){v=1;n+=this.editors[w].positions}}else{v=A.length}this._setSelection(n,n+v);break}}}if(w<this.items.length&&o==-1){if(this.items[w].type!="ReadOnly"){this.activeEditor.positions=0}}var s=this._selection();if(s.length==0){if(s.start>0){var t=this._getLastEditableEditorIndex();if(t>=0){}}}},_getLastEditableEditorIndex:function(){var a=-1;for(i=0;i<this.editors.length;i++){if(this.items[i].type=="ReadOnly"){continue}if(this.items[i].type=="Day"&&this.items[i].format.length>2){continue}a=i}return a},_setSelection:function(f,a){try{if("selectionStart" in this.dateTimeInput[0]){this.dateTimeInput[0].setSelectionRange(f,a)}else{var l=this.dateTimeInput[0].createTextRange();l.collapse(true);l.moveEnd("character",a);l.moveStart("character",f);l.select()}}catch(h){}},_setSelectionStart:function(a){this._setSelection(a,a)},destroy:function(){this.host.removeClass("jqx-rc-all");if(this.timePopupElement){this.timePopupElement.remove()}this._calendar.destroy();this.container.remove();this._removeHandlers();this.dateTimeInput.remove();this.host.remove()},refreshValue:function(){this._refreshValue()},refresh:function(a){if(a!=true){this._setSize();this._arrange()}},resize:function(d,a){this.width=d;this.height=a;this.refresh()},_setOption:function(a,f,e){if(a==="value"){if(this.selectionMode!="range"){this._oldDT=null}else{this._oldDT=null}this.value=f;this._refreshValue();this._raiseEvent(9,{type:null})}if(a=="maxDate"){this._calendar.maxDate=f;this._raiseEvent(9,{type:null})}if(a=="minDate"){this._calendar.minDate=f;this._raiseEvent(9,{type:null})}if(a=="showCalendarButton"){if(f){this.calendarButton.css("display","block")}else{this.calendarButton.css("display","none")}}if(a=="disabled"){this.dateTimeInput.attr("disabled",f)}if(a=="readonly"){this.readonly=f;this.dateTimeInput.css("readonly",f)}if(a=="textAlign"){this.dateTimeInput.css("text-align",f);this.textAlign=f}if(a=="width"){this.width=f;this.width=parseInt(this.width);this._arrange()}else{if(a=="height"){this.height=f;this.height=parseInt(this.height);this._arrange()}}},_refreshValue:function(){this._updateEditorsValue();this.updateValue();this._validateValue();this._updateText()}})})(jqxBaseFramework);(function(c){c.jqx._jqxDateTimeInput.DateTimeFormatItem={};c.extend(c.jqx._jqxDateTimeInput.DateTimeFormatItem,{_create:function(e,f,a){this.format=e;this.type=f;this.culture=a;return this},_itemValue:function(){switch(this.format.length){case 1:return 9;case 2:return 99;case 3:default:return 999}},_maximumValue:function(){switch(this.format.length){case 1:return 9;case 2:return 99;case 3:default:return 999}},dateParser:function(a,f){if(a==null){return""}var e=f._format(a.dateTime,this.format.length==1?"%"+this.format:this.format,this.culture);return e},dateParserInEditMode:function(f,h,a){if(f==null){return""}var l=a._format(f.toString(),h.length==1?"%"+h:h,this.culture);return l},getDateTimeEditorByItemType:function(B,J){switch(this.type){case"FORMAT_AMPM":var I=c.jqx._jqxDateTimeInput.AmPmEditor._createAmPmEditor(this.format,B.hour/12,J.localization.calendar.AM[0],J.localization.calendar.PM[0],this,J);var K=c.extend({},I);return K;case"Character":return null;case"Day":var E=B.year;var u=B.month;var v;if(this.format.length==3){v=J.localization.calendar.days.namesAbbr}else{if(this.format.length>3){v=J.localization.calendar.days.names}else{v=null}}var a=B.day;if(v!=null){a=B.dayOfWeek+1}var H=c.jqx._jqxDateTimeInput.DateEditor._createDayEditor(B,B.day,1,B._daysInMonth(E,u),this.format.length==1?1:2,2,v,this,J);var K=c.extend({},H);return K;case"FORMAT_hh":var L=B.hour%12;if(L==0){L=12}var w=c.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(L,1,12,this.format.length==1?1:2,2,this,J);var K=c.extend({},w);return K;case"FORMAT_HH":var G=c.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(B.hour,0,23,this.format.length==1?1:2,2,this,J);var K=c.extend({},G);return K;case"Millisecond":var D=c.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(B.millisecond/this._itemValue(),0,this._maximumValue(),this.format.length,this.format.length,this,J);var K=c.extend({},D);return K;case"Minute":var A=c.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(B.minute,0,59,this.format.length==1?1:2,2,this,J);var K=c.extend({},A);return K;case"Month":var F;if(this.format.length==3){F=J.localization.calendar.months.namesAbbr}else{if(this.format.length>3){F=J.localization.calendar.months.names}else{F=null}}var C=c.jqx._jqxDateTimeInput.DateEditor._createMonthEditor(B.month,this.format.length==2?2:1,F,this,J);var K=c.extend({},C);return K;case"ReadOnly":return c.jqx._jqxDateTimeInput.DisabledEditor._create(this.format.length,B.day,this,J);case"Second":var M=c.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(B.second,0,59,this.format.length==1?1:2,2,this,J);var K=c.extend({},M);return K;case"Year":var z=c.jqx._jqxDateTimeInput.DateEditor._createYearEditor(B.year,4,this,J);var K=c.extend({},z);return K}return null}})})(jqxBaseFramework);(function(c){c.jqx._jqxDateTimeInput.DateEditor=c.extend(c.jqx._jqxDateTimeInput.DateEditor,{formatValueLength:0,handleYears:false,handleDays:false,handleMonths:false,positions:0,value:0,minEditPositions:0,maxEditPositions:0,minValue:0,maxValue:0,item:null,dateTimeFormatInfo:null,days:null,dateTimeMonths:null,lastDayInput:null,minPositions:function(){if(this.handleYears){if(this.formatValueLength==4){if(this.positions<=1){return 1}else{if(this.positions>=4){return 4}}return this.positions}else{return this.minEditPositions}}return this.minEditPositions},initializeFields:function(l,h,a,n,o){this.minValue=l;this.maxValue=h;this.minEditPositions=a;this.maxEditPositions=n;this.updateActiveEditor(l);this.item=o},_createYearEditor:function(f,h,l,a){c.jqx._jqxDateTimeInput.DateEditor=c.extend(true,{},this);this.initializeFields(h<=4?0:0,h<4?99:9999,(h==2)?2:1,h>3?4:2,l);this.initializeYearEditor(f,h,l.culture);this.handleYears=true;this.that=a;return this},initializeYearEditor:function(h,l,f){this.formatValueLength=l;this.dateTimeFormatInfo=f;var a=h;a=Math.min(a,9999);a=Math.max(a,1);a=this.formatValueLength<4?a%100:a;this.updateActiveEditor(a);this.value=a},updateActiveEditor:function(a){this.value=a;this.positions=0},_createDayEditor:function(v,l,n,s,u,q,o,a,t){c.jqx._jqxDateTimeInput.DateEditor=c.extend(true,{},this);this.initializeFields(n,s,1,q,a);this.currentValue=v;this.value=l;this.days=o;this.handleDays=true;this.that=t;return this},getDayOfWeek:function(a){if(typeof this.currentValue==c.jqx._jqxDateTimeInput.DateTime){this.currentValue.dayOfWeek()}return a},defaultTextValue:function(){var h=this.value;var f=this.minEditPositions;var a=f;var l=this.that._format(this.value,"d"+a,"");return l},textValue:function(){if(this.handleDays){if(this.days==null){return this.defaultTextValue()}else{var a=(this.value%7)+1;a=this.getDayOfWeek(a);return this.days[a]}}else{if(this.handleMonths){if(this.dateTimeMonths==null||this.value<1||this.value>12){return this.defaultTextValue()}else{return this.dateTimeMonths[this.value-1]}}}return this.defaultTextValue()},defaultInsertString:function(q){if(q==null){return this.deleteValue()}if(q.length==0){return this.deleteValue()}var h=q.substring(0,1);if(isNaN(h)){return}var n=true;var o;var a=1;var l=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture);o=l;if(this.positions>=this.maxEditPositions){this.positions=0}o=o.substring(0,this.positions)+h+o.substring(this.positions+1);o=this.setValueByString(o,a);return true},setValueByString:function(e,a){e=this.fixValueString(e);var f=new Number(e);this.value=f;this.positions+=a;return e},fixValueString:function(a){if(a.length>this.maxEditPositions){a=a.substring(a.length-this.maxEditPositions)}return a},initializeValueString:function(d){var a;a="";if(this.hasDigits()){a=d}return a},deleteValue:function(){if(this.value==this.minValue&&this.hasDigits()==false){return false}this.updateActiveEditor(this.minValue);return true},hasDigits:function(){return this.positions>0},insert:function(a){if(this.handleDays){if(this.days!=null){var d=false;d=this.insertLongString(a,d);if(d){return d}d=this.insertShortString(a,d);if(d){return d}}if(this.value==1&&this.lastDayInput!=null&&this.lastDayInput.toString().length>0&&this.lastDayInput.toString()=="0"){this.value=0}this.lastDayInput=a;return this.defaultInsertString(a)}else{if(this.handleMonths){if(this.dateTimeMonths!=null){var d=false;d=this.insertLongString2(a,d);if(d){return d}d=this.insertShortString2(a,d);if(d){return d}}}}return this.defaultInsertString(a)},insertShortString:function(h,f){if(h.length==1){for(i=0;i<6;++i){var l=(this.value+i)%7+1;var a=this.days[l-1];if(a.substring(0,1)==h){this.updateActiveEditor(l);f=true;return f}}}return f},insertLongString:function(f,e){if(f.length>0){for(i=0;i<6;++i){var a=(this.value+i)%7+1;if(this.days[a-1]==f){this.updateActiveEditor(a);e=true;return e}}}return e},_createMonthEditor:function(n,o,a,h,l){c.jqx._jqxDateTimeInput.DateEditor=c.extend(true,{},this);this.initializeFields(1,12,o,2,h);this.dateTimeMonths=a;this.value=n;if(this.dateTimeMonths!=null&&this.dateTimeMonths[12]!=null&&this.dateTimeMonths[12].length>0){this.dateTimeMonths=null}this.handleMonths=true;this.that=l;return this},insertLongString2:function(a,d){if(a.length>0){for(i=0;i<11;++i){month=(this.value+i)%12+1;if(this.dateTimeMonths[month-1]==a){this.updateActiveEditor(month);d=true;return d}}}return d},insertShortString2:function(l,h){if(l.length==1){for(i=0;i<11;++i){var f=(this.value+i)%12+1;var a=this.dateTimeMonths[f-1];if(a.substring(0,1)==l){this.updateActiveEditor(f);h=true;return h}}}return h},correctMaximumValue:function(a){if(a>this.maxValue){a=this.minValue}return a},correctMinimumValue:function(a){if(a<this.minValue){a=this.maxValue}return a},increaseValue:function(l){var o=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture);var h=o.toString()[this.positions];h=parseInt(h)+1;if(h>9){h=0}if(!l){var a=this.value+1;a=this.correctMaximumValue(a);this.updateActiveEditor(a);return true}var n=o.substring(0,this.positions)+h+o.substring(this.positions+1);if(n!=this.value||this.hasDigits()){this.updateActiveEditor(n);return true}else{return false}},decreaseValue:function(l){var o=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture);var h=o.toString()[this.positions];h=parseInt(h)-1;if(h<0){h=9}if(!l){var a=this.value-1;a=this.correctMinimumValue(a);this.updateActiveEditor(a);return true}var n=o.substring(0,this.positions)+h+o.substring(this.positions+1);if(n!=this.value||this.hasDigits()){this.updateActiveEditor(n);return true}else{return false}},getDateTimeItem:function(){return this.item}})})(jqxBaseFramework);(function(c){c.jqx._jqxDateTimeInput.NumberEditor={};c.extend(c.jqx._jqxDateTimeInput.NumberEditor,{formatValueLength:0,positions:0,value:0,minEditPositions:0,maxEditPositions:0,minValue:0,maxValue:0,item:null,minPositions:function(){if(this.handleYears){if(this.formatValueLength==4){if(this.positions<=1){return 1}else{if(this.positions>=4){return 4}}return this.positions}else{return this.minEditPositions}}return this.minEditPositions},_createNumberEditor:function(n,o,l,a,q,s,t){c.jqx._jqxDateTimeInput.NumberEditor=c.extend(true,{},this);this.initializeFields(o,l,a,q,s);this.that=t;return this},initializeFields:function(l,h,a,n,o){this.minValue=l;this.maxValue=h;this.minEditPositions=a;this.maxEditPositions=n;this.updateActiveEditor(l);this.item=o},updateActiveEditor:function(a){this.value=a;this.positions=0},getDayOfWeek:function(a){if(typeof this.currentValue==c.jqx._jqxDateTimeInput.DateTime){this.currentValue.dayOfWeek()}return a},textValue:function(){var h=this.value;var f=this.minEditPositions;var a=f;var l=this.that._format(this.value,"d"+a,"");return l},insert:function(q){if(q==null){return this.deleteValue()}if(q.length==0){return this.deleteValue()}var h=q.substring(0,1);if(isNaN(h)){return}var n=true;var o;var a=1;var l=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture);o=l;if(this.positions>=this.maxEditPositions){this.positions=0}o=o.substring(0,this.positions)+h+o.substring(this.positions+1);o=this.setValueByString(o,a);return true},setValueByString:function(e,a){e=this.fixValueString(e);var f=new Number(e);this.value=f;this.positions+=a;return e},fixValueString:function(a){if(a.length>this.maxEditPositions){a=a.substring(a.length-this.maxEditPositions)}return a},initializeValueString:function(d){var a;a="";if(this.hasDigits()){a=d}return a},deleteValue:function(){if(this.value==this.minValue&&this.hasDigits()==false){return false}this.updateActiveEditor(this.minValue);return true},hasDigits:function(){return this.positions>0},correctMaximumValue:function(a){if(a>this.maxValue){a=this.minValue}return a},correctMinimumValue:function(a){if(a<this.minValue){a=this.maxValue}return a},increaseValue:function(l){var o=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture);var h=o.toString()[this.positions];h=parseInt(h)+1;if(h>9){h=0}if(!l){var a=this.value+1;a=this.correctMaximumValue(a);this.updateActiveEditor(a);return true}var n=o.substring(0,this.positions)+h+o.substring(this.positions+1);if(n!=this.value||this.hasDigits()){this.updateActiveEditor(n);return true}else{return false}},decreaseValue:function(l){var o=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture);var h=o.toString()[this.positions];h=parseInt(h)-1;if(h<0){h=9}if(!l){var a=this.value-1;a=this.correctMinimumValue(a);this.updateActiveEditor(a);return true}var n=o.substring(0,this.positions)+h+o.substring(this.positions+1);if(n!=this.value||this.hasDigits()){this.updateActiveEditor(n);return true}else{return false}},getDateTimeItem:function(){return this.item}})})(jqxBaseFramework);(function(c){c.jqx._jqxDateTimeInput.DisabledEditor={};c.extend(c.jqx._jqxDateTimeInput.DisabledEditor,{_create:function(h,q,l,a,n,o){this.format=h;this.value=-1;this.item=n;this.that=o;return this},textValue:function(){return""},insert:function(a){return false},deleteValue:function(){return false},increaseValue:function(){return false},decreaseValue:function(){return false},getDateTimeItem:function(){return this.item}})})(jqxBaseFramework);(function(c){c.jqx._jqxDateTimeInput.AmPmEditor={};c.extend(c.jqx._jqxDateTimeInput.AmPmEditor,{_createAmPmEditor:function(h,q,l,a,n,o){this.format=h;this.value=q;this.amString=l;this.pmString=a;this.item=n;this.that=o;if(l==a){this.amString="<"+l;this.pmString=">"+a}return this},textValue:function(){var a=this.amString;if(this.value!=0){a=this.pmString}if(this.format.length==1&&a.length>1){a=a.substring(0,1)}return a},insert:function(l){var o=l.toString();if(o.Length==0){return this.deleteValue()}var q=false;if(this.amString.Length>0&&this.pmString.Length>0){var h=amString[0];var a=o[0];var n=pmString[0];if(h.toString()==a.toString()){this.value=0;q=true}else{if(n.toString()==a.toString()){this.value=1;q=true}}}else{if(this.pmString.Length>0){this.value=1;q=true}else{if(this.amString.Length>0){this.value=0;q=true}}}return q},deleteValue:function(){var a=true;if(this.amString.Length==0&&this.pmString.Length!=0){if(this.value==0){return false}this.value=0}else{if(this.value==1){return false}this.value=1}return a},increaseValue:function(){this.value=1-this.value;return true},decreaseValue:function(){this.increaseValue();return true},getDateTimeItem:function(){return this.item}})})(jqxBaseFramework);(function(c){c.jqx._jqxDateTimeInput.getDateTime=function(d){var a={dateTime:new Date(d),daysPer4Years:1461,daysPerYear:365,daysToMonth365:{0:0,1:31,2:59,3:90,4:120,5:151,6:181,7:212,8:243,9:273,10:304,11:334,12:365},daysToMonth366:{0:0,1:31,2:60,3:91,4:121,5:152,6:182,7:213,8:244,9:274,10:305,11:335,12:366},maxValue:3155378976000000000,millisPerDay:86400000,millisPerHour:3600000,millisPerMinute:60000,millisPerSecond:1000,minTicks:0,minValue:0,ticksPerDay:864000000000,ticksPerHour:36000000000,ticksPerMillisecond:10000,ticksPerMinute:600000000,ticksPerSecond:10000000,hour:d.getHours(),minute:d.getMinutes(),day:d.getDate(),second:d.getSeconds(),month:1+d.getMonth(),year:d.getFullYear(),millisecond:d.getMilliseconds(),dayOfWeek:d.getDay(),isWeekend:function(h){if(h==undefined||h==null){h=this.dateTime}var f=h.getDay()%6==0;return f},dayOfYear:function(f){if(f==undefined||f==null){f=this.dateTime}var h=new Date(f.getFullYear(),0,1);return Math.ceil((f-h)/86400000)},_setDay:function(e){if(e==undefined||e==null){e=0}this.dateTime.setDate(e);this.day=this.dateTime.getDate()},_setMonth:function(e){if(e==undefined||e==null){e=0}this.dateTime.setMonth(e-1);this.month=1+this.dateTime.getMonth()},_setYear:function(e){if(e==undefined||e==null){e=0}this.dateTime.setFullYear(e);this.year=this.dateTime.getFullYear()},_setHours:function(e){if(e==undefined||e==null){e=0}this.dateTime.setHours(e);this.hour=this.dateTime.getHours()},_setMinutes:function(e){if(e==undefined||e==null){e=0}this.dateTime.setMinutes(e);this.minute=this.dateTime.getMinutes()},_setSeconds:function(e){if(e==undefined||e==null){e=0}this.dateTime.setSeconds(e);this.second=this.dateTime.getSeconds()},_setMilliseconds:function(e){if(e==undefined||e==null){e=0}this.dateTime.setMilliseconds(e);this.millisecond=this.dateTime.getMilliseconds()},_addDays:function(h){var n=this.dateTime;var l=n.getDate();n.setDate(n.getDate()+h);if(l===n.getDate()){n.setHours(n.getHours()+n.getTimezoneOffset()/60)}return n},_addWeeks:function(f){var h=this.dateTime;h.setDate(h.getDate()+7*f);return h},_addMonths:function(f){var h=this.dateTime;h.setMonth(h.getMonth()+f);return h},_addYears:function(f){var h=this.dateTime;h.setFullYear(h.getFullYear()+f);return h},_addHours:function(f){var h=this.dateTime;h.setHours(h.getHours()+f);return h},_addMinutes:function(f){var h=this.dateTime;h.setMinutes(h.getMinutes()+f);return h},_addSeconds:function(f){var h=this.dateTime;h.setSeconds(h.getSeconds()+f);return h},_addMilliseconds:function(f){var h=this.dateTime;h.setMilliseconds(h.getMilliseconds()+f);return h},_isLeapYear:function(e){if((e<1)||(e>9999)){throw"invalid year"}if((e%4)!=0){return false}if((e%100)==0){return((e%400)==0)}return true},_dateToTicks:function(o,l,q){if(((o>=1)&&(o<=9999))&&((l>=1)&&(l<=12))){var s=this._isLeapYear(o)?this.daysToMonth366:this.daysToMonth365;if((q>=1)&&(q<=(s[l]-s[l-1]))){var o=o-1;var n=((((((o*365)+(o/4))-(o/100))+(o/400))+s[l-1])+q)-1;return(n*864000000000)}}},_daysInMonth:function(l,h){if((h<1)||(h>12)){throw ("Invalid month.")}var n=this._isLeapYear(l)?this.daysToMonth366:this.daysToMonth365;return(n[h]-n[h-1])},_timeToTicks:function(o,h,n){var l=((o*3600)+(h*60))+n;return(l*10000000)},_equalDate:function(e){if(this.year==e.getFullYear()&&this.day==e.getDate()&&this.month==e.getMonth()+1){return true}return false}};return a}})(jqxBaseFramework);(function(c){c.jqx.jqxWidget("jqxDraw","",{});c.extend(c.jqx._jqxDraw.prototype,{defineInstance:function(){var f={renderEngine:""};c.extend(true,this,f);var a=["clear","on","off","removeElement","attr","getAttr","line","circle","rect","path","pieslice","text","measureText"];for(var h in a){this._addFn(c.jqx._jqxDraw.prototype,a[h])}},_addFn:function(a,e){if(a[e]){return}a[e]=function(){return this.renderer[e].apply(this.renderer,arguments)}},createInstance:function(a){},_initRenderer:function(a){return c.jqx.createRenderer(this,a)},_internalRefresh:function(){var h=this;if(c.jqx.isHidden(h.host)){return}if(!h.renderer){h.host.empty();h._initRenderer(h.host)}var a=h.renderer;if(!a){return}var f=a.getRect();h._render({x:1,y:1,width:f.width,height:f.height});if(a instanceof c.jqx.HTML5Renderer){a.refresh()}},_saveAsImage:function(h,a,n,l){return c.jqx._widgetToImage(this,h,a,n,l)},_render:function(f){var h=this;var a=h.renderer;h._plotRect=f},refresh:function(){this._internalRefresh()},getSize:function(){var a=this._plotRect;return{width:a.width,height:a.height}},saveAsPNG:function(a,h,f){return this._saveAsImage("png",a,h,f)},saveAsJPEG:function(a,h,f){return this._saveAsImage("jpeg",a,h,f)}})})(jqxBaseFramework);(function(c){c.jqx.toGreyScale=function(h){if(h.indexOf("#")==-1){return h}var f=c.jqx.cssToRgb(h);f[0]=f[1]=f[2]=Math.round(0.3*f[0]+0.59*f[1]+0.11*f[2]);var a=c.jqx.rgbToHex(f[0],f[1],f[2]);return"#"+a[0]+a[1]+a[2]},c.jqx.adjustColor=function(o,q){if(typeof(o)!="string"){return"#000000"}if(o.indexOf("#")==-1){return o}var n=c.jqx.cssToRgb(o);var s=c.jqx.rgbToHsl(n);s[2]=Math.min(1,s[2]*q);s[1]=Math.min(1,s[1]*q*1.1);n=c.jqx.hslToRgb(s);var o="#";for(var l=0;l<3;l++){var a=Math.round(n[l]);a=c.jqx.decToHex(a);if(a.toString().length==1){o+="0"}o+=a}return o.toUpperCase()};c.jqx.decToHex=function(a){return a.toString(16)};c.jqx.hexToDec=function(a){return parseInt(a,16)};c.jqx.rgbToHex=function(a,f,h){return[c.jqx.decToHex(a),c.jqx.decToHex(f),c.jqx.decToHex(h)]};c.jqx.hexToRgb=function(e,a,h){return[c.jqx.hexToDec(e),c.jqx.hexToDec(a),c.jqx.hexToDec(h)]};c.jqx.cssToRgb=function(a){if(a.indexOf("rgb")<=-1){return c.jqx.hexToRgb(a.substring(1,3),a.substring(3,5),a.substring(5,7))}return a.substring(4,a.length-1).split(",")};c.jqx.hslToRgb=function(o){var l=parseFloat(o[0]);var n=parseFloat(o[1]);var q=parseFloat(o[2]);if(n==0){r=g=b=q}else{var h=q<0.5?q*(1+n):q+n-q*n;var a=2*q-h;r=c.jqx.hueToRgb(a,h,l+1/3);g=c.jqx.hueToRgb(a,h,l);b=c.jqx.hueToRgb(a,h,l-1/3)}return[r*255,g*255,b*255]};c.jqx.hueToRgb=function(a,f,h){if(h<0){h+=1}if(h>1){h-=1}if(h<1/6){return a+(f-a)*6*h}else{if(h<1/2){return f}else{if(h<2/3){return a+(f-a)*(2/3-h)*6}}}return a};c.jqx.rgbToHsl=function(s){var z=parseFloat(s[0])/255;var t=parseFloat(s[1])/255;var q=parseFloat(s[2])/255;var l=Math.max(z,t,q),v=Math.min(z,t,q);var u,a,w=(l+v)/2;if(l==v){u=a=0}else{var h=l-v;a=w>0.5?h/(2-l-v):h/(l+v);switch(l){case z:u=(t-q)/h+(t<q?6:0);break;case t:u=(q-z)/h+2;break;case q:u=(z-t)/h+4;break}u/=6}return[u,a,w]};c.jqx.swap=function(h,a){var f=h;h=a;a=f};c.jqx.getNum=function(e){if(!c.isArray(e)){if(isNaN(e)){return 0}}else{for(var a=0;a<e.length;a++){if(!isNaN(e[a])){return e[a]}}}return 0};c.jqx._ptdist=function(l,a,n,h){return Math.sqrt((n-l)*(n-l)+(h-a)*(h-a))};c.jqx._ptrnd=function(a){if(!document.createElementNS){if(Math.round(a)==a){return a}return c.jqx._rnd(a,1,false,true)}var e=c.jqx._rnd(a,0.5,false,true);if(Math.abs(e-Math.round(e))!=0.5){return e>a?e-0.5:e+0.5}return e};c.jqx._ptRotate=function(s,a,t,l,o){var u=Math.sqrt(Math.pow(Math.abs(s-t),2)+Math.pow(Math.abs(a-l),2));var q=Math.asin((s-t)/u);var n=q+o;s=t+Math.cos(n)*u;a=l+Math.sin(n)*u;return{x:s,y:a}};c.jqx._rup=function(a){var e=Math.round(a);if(a>e){e++}return e};c.jqx.log=function(a,e){return Math.log(a)/(e?Math.log(e):1)};c.jqx._mod=function(l,n){var h=Math.abs(l>n?n:l);var a=1;if(h!=0){while(h*a<100){a*=10}}l=l*a;n=n*a;return(l%n)/a};c.jqx._rnd=function(n,a,l,o){if(isNaN(n)){return n}if(undefined===o){o=true}var q=n-((o==true)?n%a:c.jqx._mod(n,a));if(n==q){return q}if(l){if(n>q){q+=a}}else{if(q>n){q-=a}}return(a==1)?Math.round(q):q};c.jqx.commonRenderer={pieSlicePath:function(T,U,W,H,L,I,aa){if(!H){H=1}var R=Math.abs(L-I);var K=R>180?1:0;if(R>=360){I=L+359.99}var J=L*Math.PI*2/360;var V=I*Math.PI*2/360;var O=T,P=T,Y=U,Z=U;var Q=!isNaN(W)&&W>0;if(Q){aa=0}if(aa+W>0){if(aa>0){var S=R/2+L;var M=S*Math.PI*2/360;T+=aa*Math.cos(M);U-=aa*Math.sin(M)}if(Q){var a=W;O=T+a*Math.cos(J);Y=U-a*Math.sin(J);P=T+a*Math.cos(V);Z=U-a*Math.sin(V)}}var F=T+H*Math.cos(J);var G=T+H*Math.cos(V);var ab=U-H*Math.sin(J);var ac=U-H*Math.sin(V);var N="";var X=(Math.abs(Math.abs(I-L)-360)>0.02);if(Q){N="M "+P+","+Z;N+=" a"+W+","+W;N+=" 0 "+K+",1 "+(O-P)+","+(Y-Z);if(X){N+=" L"+F+","+ab}else{N+=" M"+F+","+ab}N+=" a"+H+","+H;N+=" 0 "+K+",0 "+(G-F)+","+(ac-ab);if(X){N+=" Z"}}else{N="M "+G+","+ac;N+=" a"+H+","+H;N+=" 0 "+K+",1 "+(F-G)+","+(ab-ac);if(X){N+=" L"+T+","+U;N+=" Z"}}return N},measureText:function(a,C,B,s,u){var D=u._getTextParts(a,C,B);var z=D.width;var G=D.height;if(false==s){G/=0.6}var F={};if(isNaN(C)){C=0}if(C==0){F={width:c.jqx._rup(z),height:c.jqx._rup(G)}}else{var v=C*Math.PI*2/360;var E=Math.abs(Math.sin(v));var w=Math.abs(Math.cos(v));var A=Math.abs(z*E+G*w);var t=Math.abs(z*w+G*E);F={width:c.jqx._rup(t),height:c.jqx._rup(A)}}if(s){F.textPartsInfo=D}return F},alignTextInRect:function(L,v,J,K,w,a,C,M,G,H){var A=G*Math.PI*2/360;var I=Math.sin(A);var B=Math.cos(A);var z=w*I;var D=w*B;if(C=="center"||C==""||C=="undefined"){L=L+J/2}else{if(C=="right"){L=L+J}}if(M=="center"||M=="middle"||M==""||M=="undefined"){v=v+K/2}else{if(M=="bottom"){v+=K-a/2}else{if(M=="top"){v+=a/2}}}H=H||"";var F="middle";if(H.indexOf("top")!=-1){F="top"}else{if(H.indexOf("bottom")!=-1){F="bottom"}}var E="center";if(H.indexOf("left")!=-1){E="left"}else{if(H.indexOf("right")!=-1){E="right"}}if(E=="center"){L-=D/2;v-=z/2}else{if(E=="right"){L-=D;v-=z}}if(F=="top"){L-=a*I;v+=a*B}else{if(F=="middle"){L-=a*I/2;v+=a*B/2}}L=c.jqx._rup(L);v=c.jqx._rup(v);return{x:L,y:v}}};c.jqx.svgRenderer=function(){};c.jqx.svgRenderer.prototype={_svgns:"http://www.w3.org/2000/svg",init:function(l){var n="<table id=tblChart cellspacing='0' cellpadding='0' border='0' align='left' valign='top'><tr><td colspan=2 id=tdTop></td></tr><tr><td id=tdLeft></td><td><div class='chartContainer' style='position:relative' onselectstart='return false;'></div></td></tr></table>";l.append(n);this.host=l;var q=l.find(".chartContainer");q[0].style.width=l.width()+"px";q[0].style.height=l.height()+"px";var a;try{var o=document.createElementNS(this._svgns,"svg");o.setAttribute("id","svgChart");o.setAttribute("version","1.1");o.setAttribute("width","100%");o.setAttribute("height","100%");o.setAttribute("overflow","hidden");q[0].appendChild(o);this.canvas=o}catch(e){return false}this._id=new Date().getTime();this.clear();this._layout();this._runLayoutFix();return true},getType:function(){return"SVG"},refresh:function(){},_runLayoutFix:function(){var a=this;this._fixLayout()},_fixLayout:function(){var l=c(this.canvas).position();var q=(parseFloat(l.left)==parseInt(l.left));var t=(parseFloat(l.top)==parseInt(l.top));if(c.jqx.browser.msie){var q=true,t=true;var o=this.host;var s=0,n=0;while(o&&o.position&&o[0].parentNode){var a=o.position();s+=parseFloat(a.left)-parseInt(a.left);n+=parseFloat(a.top)-parseInt(a.top);o=o.parent()}q=parseFloat(s)==parseInt(s);t=parseFloat(n)==parseInt(n)}if(!q){this.host.find("#tdLeft")[0].style.width="0.5px"}if(!t){this.host.find("#tdTop")[0].style.height="0.5px"}},_layout:function(){var a=c(this.canvas).offset();var e=this.host.find(".chartContainer");this._width=Math.max(c.jqx._rup(this.host.width())-1,0);this._height=Math.max(c.jqx._rup(this.host.height())-1,0);e[0].style.width=this._width;e[0].style.height=this._height;this._fixLayout()},getRect:function(){return{x:0,y:0,width:this._width,height:this._height}},getContainer:function(){var a=this.host.find(".chartContainer");return a},clear:function(){while(this.canvas.childElementCount>0){this.removeElement(this.canvas.firstElementChild)}this._defaultParent=undefined;this._defs=document.createElementNS(this._svgns,"defs");this._gradients={};this.canvas.appendChild(this._defs)},removeElement:function(a){if(undefined==a){return}this.removeHandler(a);try{while(a.firstChild){this.removeElement(a.firstChild)}if(a.parentNode){a.parentNode.removeChild(a)}else{this.canvas.removeChild(a)}}catch(f){var h=f}},_openGroups:[],beginGroup:function(){var e=this._activeParent();var a=document.createElementNS(this._svgns,"g");e.appendChild(a);this._openGroups.push(a);return a},endGroup:function(){if(this._openGroups.length==0){return}this._openGroups.pop()},_activeParent:function(){return this._openGroups.length==0?this.canvas:this._openGroups[this._openGroups.length-1]},createClipRect:function(h){var a=document.createElementNS(this._svgns,"clipPath");var l=document.createElementNS(this._svgns,"rect");this.attr(l,{x:h.x,y:h.y,width:h.width,height:h.height,fill:"none"});this._clipId=this._clipId||0;a.id="cl"+this._id+"_"+(++this._clipId).toString();a.appendChild(l);this._defs.appendChild(a);return a},getWindowHref:function(){var a=c.jqx.browser;if(a&&a.browser=="msie"&&a.version<10){return""}var e=window.location.href;if(!e){return e}e=e.replace(/([\('\)])/g,"\\$1");e=e.replace(/#.*$/,"");return e},setClip:function(a,f){var h="url("+this.getWindowHref()+"#"+f.id+")";return this.attr(a,{"clip-path":h})},_clipId:0,addHandler:function(h,a,f){if(c(h).on){c(h).on(a,f)}else{c(h).bind(a,f)}},removeHandler:function(h,a,f){if(c(h).off){c(h).off(a,f)}else{c(h).unbind(a,f)}},on:function(h,a,f){this.addHandler(h,a,f)},off:function(h,a,f){this.removeHandler(h,a,f)},shape:function(n,a){var l=document.createElementNS(this._svgns,n);if(!l){return undefined}for(var h in a){l.setAttribute(h,a[h])}this._activeParent().appendChild(l);return l},_getTextParts:function(I,C,B){var D={width:0,height:0,parts:[]};if(undefined===I){return D}var v=0.6;var H=I.toString().split("<br>");var a=this._activeParent();var z=document.createElementNS(this._svgns,"text");this.attr(z,B);for(var A=0;A<H.length;A++){var F=H[A];var E=z.ownerDocument.createTextNode(F);z.appendChild(E);a.appendChild(z);var J;try{J=z.getBBox()}catch(e){}var w=c.jqx._rup(J.width);var G=c.jqx._rup(J.height*v);z.removeChild(E);D.width=Math.max(D.width,w);D.height+=G+(A>0?4:0);D.parts.push({width:w,height:G,text:F})}a.removeChild(z);return D},_measureText:function(a,h,l,n){return c.jqx.commonRenderer.measureText(a,h,l,n,this)},measureText:function(a,f,h){return this._measureText(a,f,h,false)},text:function(T,ac,ad,ab,af,S,Q,R,Y,am,at){var ag=this._measureText(T,S,Q,true);var an=ag.textPartsInfo;var ap=an.parts;var ae;if(!Y){Y="center"}if(!am){am="center"}if(ap.length>1||R){ae=this.beginGroup()}if(R){var ao=this.createClipRect({x:c.jqx._rup(ac)-1,y:c.jqx._rup(ad)-1,width:c.jqx._rup(ab)+2,height:c.jqx._rup(af)+2});this.setClip(ae,ao)}var ah=this._activeParent();var h=0,al=0;var au=0.6;h=an.width;al=an.height;if(isNaN(ab)||ab<=0){ab=h}if(isNaN(af)||af<=0){af=al}var aa=ab||0;var U=af||0;if(!S||S==0){ad+=al;if(am=="center"||am=="middle"){ad+=(U-al)/2}else{if(am=="bottom"){ad+=U-al}}if(!ab){ab=h}if(!af){af=al}var ah=this._activeParent();var aj=0;for(var V=ap.length-1;V>=0;V--){var ai=document.createElementNS(this._svgns,"text");this.attr(ai,Q);this.attr(ai,{cursor:"default"});var W=ai.ownerDocument.createTextNode(ap[V].text);ai.appendChild(W);var a=ac;var ak=ap[V].width;var aq=ap[V].height;if(Y=="center"){a+=(aa-ak)/2}else{if(Y=="right"){a+=(aa-ak)}}this.attr(ai,{x:c.jqx._rup(a),y:c.jqx._rup(ad+aj),width:c.jqx._rup(ak),height:c.jqx._rup(aq)});ah.appendChild(ai);aj-=ap[V].height+4}if(ae){this.endGroup();return ae}return ai}var Z=c.jqx.commonRenderer.alignTextInRect(ac,ad,ab,af,h,al,Y,am,S,at);ac=Z.x;ad=Z.y;var X=this.shape("g",{transform:"translate("+ac+","+ad+")"});var ar=this.shape("g",{transform:"rotate("+S+")"});X.appendChild(ar);var aj=0;for(var V=ap.length-1;V>=0;V--){var w=document.createElementNS(this._svgns,"text");this.attr(w,Q);this.attr(w,{cursor:"default"});var W=w.ownerDocument.createTextNode(ap[V].text);w.appendChild(W);var a=0;var ak=ap[V].width;var aq=ap[V].height;if(Y=="center"){a+=(an.width-ak)/2}else{if(Y=="right"){a+=(an.width-ak)}}this.attr(w,{x:c.jqx._rup(a),y:c.jqx._rup(aj),width:c.jqx._rup(ak),height:c.jqx._rup(aq)});ar.appendChild(w);aj-=aq+4}ah.appendChild(X);if(ae){this.endGroup()}return X},line:function(o,l,q,n,a){var s=this.shape("line",{x1:o,y1:l,x2:q,y2:n});this.attr(s,a);return s},path:function(f,a){var h=this.shape("path");h.setAttribute("d",f);if(a){this.attr(h,a)}return h},rect:function(q,a,o,l,h){q=c.jqx._ptrnd(q);a=c.jqx._ptrnd(a);o=Math.max(1,c.jqx._rnd(o,1,false));l=Math.max(1,c.jqx._rnd(l,1,false));var n=this.shape("rect",{x:q,y:a,width:o,height:l});if(h){this.attr(n,h)}return n},circle:function(q,a,n,l){var o=this.shape("circle",{cx:q,cy:a,r:n});if(l){this.attr(o,l)}return o},pieSlicePath:function(s,a,l,o,n,q,t){return c.jqx.commonRenderer.pieSlicePath(s,a,l,o,n,q,t)},pieslice:function(n,q,s,v,t,z,o,w){var u=this.pieSlicePath(n,q,s,v,t,z,o);var a=this.shape("path");a.setAttribute("d",u);if(w){this.attr(a,w)}return a},attr:function(h,a){if(!h||!a){return}for(var f in a){if(f=="textContent"){h.textContent=a[f]}else{h.setAttribute(f,a[f])}}},removeAttr:function(h,a){if(!h||!a){return}for(var f in a){if(f=="textContent"){h.textContent=""}else{h.removeAttribute(a[f])}}},getAttr:function(a,e){return a.getAttribute(e)},_gradients:{},_toLinearGradient:function(v,s,q){var z="grd"+this._id+v.replace("#","")+(s?"v":"h");var A="url("+this.getWindowHref()+"#"+z+")";if(this._gradients[A]){return A}var w=document.createElementNS(this._svgns,"linearGradient");this.attr(w,{x1:"0%",y1:"0%",x2:s?"0%":"100%",y2:s?"100%":"0%",id:z});for(var u=0;u<q.length;u++){var t=q[u];var a=document.createElementNS(this._svgns,"stop");var o="stop-color:"+c.jqx.adjustColor(v,t[1]);this.attr(a,{offset:t[0]+"%",style:o});w.appendChild(a)}this._defs.appendChild(w);this._gradients[A]=true;return A},_toRadialGradient:function(v,q,s){var z="grd"+this._id+v.replace("#","")+"r"+(s!=undefined?s.key:"");var A="url("+this.getWindowHref()+"#"+z+")";if(this._gradients[A]){return A}var w=document.createElementNS(this._svgns,"radialGradient");if(s==undefined){this.attr(w,{cx:"50%",cy:"50%",r:"100%",fx:"50%",fy:"50%",id:z})}else{this.attr(w,{cx:s.x,cy:s.y,r:s.outerRadius,id:z,gradientUnits:"userSpaceOnUse"})}for(var u=0;u<q.length;u++){var t=q[u];var a=document.createElementNS(this._svgns,"stop");var o="stop-color:"+c.jqx.adjustColor(v,t[1]);this.attr(a,{offset:t[0]+"%",style:o});w.appendChild(a)}this._defs.appendChild(w);this._gradients[A]=true;return A}};c.jqx.vmlRenderer=function(){};c.jqx.vmlRenderer.prototype={init:function(e){var l="<div class='chartContainer' style=\"position:relative;overflow:hidden;\"><div>";e.append(l);this.host=e;var q=e.find(".chartContainer");q[0].style.width=e.width()+"px";q[0].style.height=e.height()+"px";var n=true;try{for(var o=0;o<document.namespaces.length;o++){if(document.namespaces[o].name=="v"&&document.namespaces[o].urn=="urn:schemas-microsoft-com:vml"){n=false;break}}}catch(a){return false}if(c.jqx.browser.msie&&parseInt(c.jqx.browser.version)<9&&(document.childNodes&&document.childNodes.length>0&&document.childNodes[0].data&&document.childNodes[0].data.indexOf("DOCTYPE")!=-1)){if(n){document.namespaces.add("v","urn:schemas-microsoft-com:vml")}this._ie8mode=true}else{if(n){document.namespaces.add("v","urn:schemas-microsoft-com:vml");document.createStyleSheet().cssText="v\\:* { behavior: url(#default#VML); display: inline-block; }"}}this.canvas=q[0];this._width=Math.max(c.jqx._rup(q.width()),0);this._height=Math.max(c.jqx._rup(q.height()),0);q[0].style.width=this._width+2;q[0].style.height=this._height+2;this._id=new Date().getTime();this.clear();return true},getType:function(){return"VML"},refresh:function(){},getRect:function(){return{x:0,y:0,width:this._width,height:this._height}},getContainer:function(){var a=this.host.find(".chartContainer");return a},clear:function(){while(this.canvas.childElementCount>0){this.removeHandler(this.canvas.firstElementChild);this.canvas.removeChild(this.canvas.firstElementChild)}this._gradients={};this._defaultParent=undefined},removeElement:function(a){if(a!=null){this.removeHandler(a);a.parentNode.removeChild(a)}},_openGroups:[],beginGroup:function(){var e=this._activeParent();var a=document.createElement("v:group");a.style.position="absolute";a.coordorigin="0,0";a.coordsize=this._width+","+this._height;a.style.left=0;a.style.top=0;a.style.width=this._width;a.style.height=this._height;e.appendChild(a);this._openGroups.push(a);return a},endGroup:function(){if(this._openGroups.length==0){return}this._openGroups.pop()},_activeParent:function(){return this._openGroups.length==0?this.canvas:this._openGroups[this._openGroups.length-1]},createClipRect:function(e){var a=document.createElement("div");a.style.height=(e.height+1)+"px";a.style.width=(e.width+1)+"px";a.style.position="absolute";a.style.left=e.x+"px";a.style.top=e.y+"px";a.style.overflow="hidden";this._clipId=this._clipId||0;a.id="cl"+this._id+"_"+(++this._clipId).toString();this._activeParent().appendChild(a);return a},setClip:function(a,e){},_clipId:0,addHandler:function(h,a,f){if(c(h).on){c(h).on(a,f)}else{c(h).bind(a,f)}},removeHandler:function(h,a,f){if(c(h).off){c(h).off(a,f)}else{c(h).unbind(a,f)}},on:function(h,a,f){this.addHandler(h,a,f)},off:function(h,a,f){this.removeHandler(h,a,f)},_getTextParts:function(a,D,C){var E={width:0,height:0,parts:[]};var v=0.6;var J=a.toString().split("<br>");var u=this._activeParent();var A=document.createElement("v:textbox");this.attr(A,C);u.appendChild(A);for(var B=0;B<J.length;B++){var G=J[B];var F=document.createElement("span");F.appendChild(document.createTextNode(G));A.appendChild(F);if(C&&C["class"]){F.className=C["class"]}var w=c(A);var z=c.jqx._rup(w.width());var H=c.jqx._rup(w.height()*v);if(H==0&&c.jqx.browser.msie&&parseInt(c.jqx.browser.version)<9){var I=w.css("font-size");if(I){H=parseInt(I);if(isNaN(H)){H=0}}}A.removeChild(F);E.width=Math.max(E.width,z);E.height+=H+(B>0?2:0);E.parts.push({width:z,height:H,text:G})}u.removeChild(A);return E},_measureText:function(a,h,l,n){if(Math.abs(h)>45){h=90}else{h=0}return c.jqx.commonRenderer.measureText(a,h,l,n,this)},measureText:function(a,f,h){return this._measureText(a,f,h,false)},text:function(W,af,ag,aa,P,Q,w,O,Y,ak){var X;if(w&&w.stroke){X=w.stroke}if(X==undefined){X="black"}var U=this._measureText(W,Q,w,true);var am=U.textPartsInfo;var ap=am.parts;var h=U.width;var aj=U.height;if(isNaN(aa)||aa==0){aa=h}if(isNaN(P)||P==0){P=aj}var ad;if(!Y){Y="center"}if(!ak){ak="center"}if(ap.length>0||O){ad=this.beginGroup()}if(O){var ao=this.createClipRect({x:c.jqx._rup(af),y:c.jqx._rup(ag),width:c.jqx._rup(aa),height:c.jqx._rup(P)});this.setClip(ad,ao)}var ah=this._activeParent();var Z=aa||0;var R=P||0;if(Math.abs(Q)>45){Q=90}else{Q=0}var ae=0,S=0;if(Y=="center"){ae+=(Z-h)/2}else{if(Y=="right"){ae+=(Z-h)}}if(ak=="center"){S=(R-aj)/2}else{if(ak=="bottom"){S=R-aj}}if(Q==0){ag+=aj+S;af+=ae}else{af+=h+ae;ag+=S}var ai=0,a=0;var an;for(var T=ap.length-1;T>=0;T--){var ab=ap[T];var ac=(h-ab.width)/2;if(Q==0&&Y=="left"){ac=0}else{if(Q==0&&Y=="right"){ac=h-ab.width}else{if(Q==90){ac=(aj-ab.width)/2}}}var al=ai-ab.height;S=Q==90?ac:al;ae=Q==90?al:ac;an=document.createElement("v:textbox");an.style.position="absolute";an.style.left=c.jqx._rup(af+ae);an.style.top=c.jqx._rup(ag+S);an.style.width=c.jqx._rup(ab.width);an.style.height=c.jqx._rup(ab.height);if(Q==90){an.style.filter="progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";an.style.height=c.jqx._rup(ab.height)+5}var V=document.createElement("span");V.appendChild(document.createTextNode(ab.text));if(w&&w["class"]){V.className=w["class"]}an.appendChild(V);ah.appendChild(an);ai-=ab.height+(T>0?2:0)}if(ad){this.endGroup();return ah}return an},shape:function(n,a){var l=document.createElement(this._createElementMarkup(n));if(!l){return undefined}for(var h in a){l.setAttribute(h,a[h])}this._activeParent().appendChild(l);return l},line:function(o,l,q,n,a){var t="M "+o+","+l+" L "+q+","+n+" X E";var s=this.path(t);this.attr(s,a);return s},_createElementMarkup:function(e){var a="<v:"+e+' style=""></v:'+e+">";if(this._ie8mode){a=a.replace('style=""','style="behavior: url(#default#VML);"')}return a},path:function(f,a){var h=document.createElement(this._createElementMarkup("shape"));h.style.position="absolute";h.coordsize=this._width+" "+this._height;h.coordorigin="0 0";h.style.width=parseInt(this._width);h.style.height=parseInt(this._height);h.style.left=0+"px";h.style.top=0+"px";h.setAttribute("path",f);this._activeParent().appendChild(h);if(a){this.attr(h,a)}return h},rect:function(q,a,o,n,h){q=c.jqx._ptrnd(q);a=c.jqx._ptrnd(a);o=c.jqx._rup(o);n=c.jqx._rup(n);var l=this.shape("rect",h);l.style.position="absolute";l.style.left=q;l.style.top=a;l.style.width=o;l.style.height=n;l.strokeweight=0;if(h){this.attr(l,h)}return l},circle:function(q,a,n,l){var o=this.shape("oval");q=c.jqx._ptrnd(q-n);a=c.jqx._ptrnd(a-n);n=c.jqx._rup(n);o.style.position="absolute";o.style.left=q;o.style.top=a;o.style.width=n*2;o.style.height=n*2;if(l){this.attr(o,l)}return o},updateCircle:function(h,n,a,l){if(n==undefined){n=parseFloat(h.style.left)+parseFloat(h.style.width)/2}if(a==undefined){a=parseFloat(h.style.top)+parseFloat(h.style.height)/2}if(l==undefined){l=parseFloat(h.width)/2}n=c.jqx._ptrnd(n-l);a=c.jqx._ptrnd(a-l);l=c.jqx._rup(l);h.style.left=n;h.style.top=a;h.style.width=l*2;h.style.height=l*2},pieSlicePath:function(V,W,Y,J,K,I,ac){if(!J){J=1}var T=Math.abs(K-I);var N=T>180?1:0;if(T>360){K=0;I=360}var L=K*Math.PI*2/360;var X=I*Math.PI*2/360;var Q=V,R=V,aa=W,ab=W;var S=!isNaN(Y)&&Y>0;if(S){ac=0}if(ac>0){var U=T/2+K;var M=U*Math.PI*2/360;V+=ac*Math.cos(M);W-=ac*Math.sin(M)}if(S){var a=Y;Q=c.jqx._ptrnd(V+a*Math.cos(L));aa=c.jqx._ptrnd(W-a*Math.sin(L));R=c.jqx._ptrnd(V+a*Math.cos(X));ab=c.jqx._ptrnd(W-a*Math.sin(X))}var G=c.jqx._ptrnd(V+J*Math.cos(L));var H=c.jqx._ptrnd(V+J*Math.cos(X));var ad=c.jqx._ptrnd(W-J*Math.sin(L));var ae=c.jqx._ptrnd(W-J*Math.sin(X));J=c.jqx._ptrnd(J);Y=c.jqx._ptrnd(Y);V=c.jqx._ptrnd(V);W=c.jqx._ptrnd(W);var Z=Math.round(K*65535);var O=Math.round((I-K)*65536);if(Y<0){Y=1}var P="";if(S){P="M"+Q+" "+aa;P+=" AE "+V+" "+W+" "+Y+" "+Y+" "+Z+" "+O;P+=" L "+H+" "+ae;Z=Math.round((K-I)*65535);O=Math.round(I*65536);P+=" AE "+V+" "+W+" "+J+" "+J+" "+O+" "+Z;P+=" L "+Q+" "+aa}else{P="M"+V+" "+W;P+=" AE "+V+" "+W+" "+J+" "+J+" "+Z+" "+O}P+=" X E";return P},pieslice:function(a,o,q,u,s,z,n,v){var t=this.pieSlicePath(a,o,q,u,s,z,n);var w=this.path(t,v);if(v){this.attr(w,v)}return w},_keymap:[{svg:"fill",vml:"fillcolor"},{svg:"stroke",vml:"strokecolor"},{svg:"stroke-width",vml:"strokeweight"},{svg:"stroke-dasharray",vml:"dashstyle"},{svg:"fill-opacity",vml:"fillopacity"},{svg:"stroke-opacity",vml:"strokeopacity"},{svg:"opacity",vml:"opacity"},{svg:"cx",vml:"style.left"},{svg:"cy",vml:"style.top"},{svg:"height",vml:"style.height"},{svg:"width",vml:"style.width"},{svg:"x",vml:"style.left"},{svg:"y",vml:"style.top"},{svg:"d",vml:"v"},{svg:"display",vml:"style.display"}],_translateParam:function(e){for(var a in this._keymap){if(this._keymap[a].svg==e){return this._keymap[a].vml}}return e},attr:function(l,a){if(!l||!a){return}for(var h in a){var n=this._translateParam(h);if(undefined==a[h]){continue}if(n=="fillcolor"&&a[h].indexOf("grd")!=-1){l.type=a[h]}else{if(n=="fillcolor"&&a[h]=="transparent"){l.style.filter="alpha(opacity=0)";l["-ms-filter"]="progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"}else{if(n=="opacity"||n=="fillopacity"){if(l.fill){l.fill.opacity=a[h]}}else{if(n=="textContent"){l.children[0].innerText=a[h]}else{if(n=="dashstyle"){l.dashstyle=a[h].replace(","," ")}else{if(n.indexOf("style.")==-1){l[n]=a[h]}else{l.style[n.replace("style.","")]=a[h]}}}}}}}},removeAttr:function(h,a){if(!h||!a){return}for(var f in a){h.removeAttribute(a[f])}},getAttr:function(a,f){var h=this._translateParam(f);if(h=="opacity"||h=="fillopacity"){if(a.fill){return a.fill.opacity}else{return 1}}if(h.indexOf("style.")==-1){return a[h]}return a.style[h.replace("style.","")]},_gradients:{},_toRadialGradient:function(h,a,f){return h},_toLinearGradient:function(t,o,a){if(this._ie8mode){return t}var w="grd"+t.replace("#","")+(o?"v":"h");var v="#"+w+"";if(this._gradients[v]){return v}var u=document.createElement(this._createElementMarkup("fill"));u.type="gradient";u.method="linear";u.angle=o?0:90;var z="";for(var s=0;s<a.length;s++){var q=a[s];if(q>0){z+=", "}z+=q[0]+"% "+c.jqx.adjustColor(t,q[1])}u.colors=z;var A=document.createElement(this._createElementMarkup("shapetype"));A.appendChild(u);A.id=w;this.canvas.appendChild(A);return v}};c.jqx.HTML5Renderer=function(){};c.jqx.ptrnd=function(a){if(Math.abs(Math.round(a)-a)==0.5){return a}var e=Math.round(a);if(e<a){e=e-1}return e+0.5};c.jqx.HTML5Renderer.prototype={init:function(e){try{this.host=e;this.host.append("<div class='chartContainer' style='position:relative' onselectstart='return false;'><canvas id='__jqxCanvasWrap' style='width:100%; height: 100%;'/></div>");this.canvas=e.find("#__jqxCanvasWrap");this.canvas[0].width=e.width();this.canvas[0].height=e.height();this.ctx=this.canvas[0].getContext("2d");this._elements={};this._maxId=0;this._gradientId=0;this._gradients={};this._currentPoint={x:0,y:0};this._lastCmd="";this._pos=0}catch(a){return false}return true},getType:function(){return"HTML5"},getContainer:function(){var a=this.host.find(".chartContainer");return a},getRect:function(){return{x:0,y:0,width:this.canvas[0].width-1,height:this.canvas[0].height-1}},beginGroup:function(){},endGroup:function(){},setClip:function(){},createClipRect:function(a){},addHandler:function(h,a,f){},removeHandler:function(h,a,f){},on:function(h,a,f){this.addHandler(h,a,f)},off:function(h,a,f){this.removeHandler(h,a,f)},clear:function(){this._elements={};this._maxId=0;this._renderers._gradients={};this._gradientId=0},removeElement:function(a){if(undefined==a){return}if(this._elements[a.id]){delete this._elements[a.id]}},shape:function(n,a){var l={type:n,id:this._maxId++};for(var h in a){l[h]=a[h]}this._elements[l.id]=l;return l},attr:function(h,a){for(var f in a){h[f]=a[f]}},removeAttr:function(h,a){for(var f in a){delete h[a[f]]}},rect:function(q,a,o,l,h){if(isNaN(q)){throw'Invalid value for "x"'}if(isNaN(a)){throw'Invalid value for "y"'}if(isNaN(o)){throw'Invalid value for "width"'}if(isNaN(l)){throw'Invalid value for "height"'}var n=this.shape("rect",{x:q,y:a,width:o,height:l});if(h){this.attr(n,h)}return n},path:function(h,a){var f=this.shape("path",a);this.attr(f,{d:h});return f},line:function(o,l,q,n,a){return this.path("M "+o+","+l+" L "+q+","+n,a)},circle:function(q,a,n,l){var o=this.shape("circle",{x:q,y:a,r:n});if(l){this.attr(o,l)}return o},pieSlicePath:function(s,a,l,o,n,q,t){return c.jqx.commonRenderer.pieSlicePath(s,a,l,o,n,q,t)},pieslice:function(a,o,q,t,s,w,n,v){var u=this.path(this.pieSlicePath(a,o,q,t,s,w,n),v);this.attr(u,{x:a,y:o,innerRadius:q,outerRadius:t,angleFrom:s,angleTo:w});return u},_getCSSStyle:function(n){var a=document.styleSheets;try{for(var l=0;l<a.length;l++){for(var o=0;a[l].cssRules&&o<a[l].cssRules.length;o++){if(a[l].cssRules[o].selectorText.indexOf(n)!=-1){return a[l].cssRules[o].style}}}}catch(e){}return{}},_getTextParts:function(J,D,C){var w="Arial";var I="10pt";var v="";if(C&&C["class"]){var H=this._getCSSStyle(C["class"]);if(H.fontSize){I=H.fontSize}if(H.fontFamily){w=H.fontFamily}if(H.fontWeight){v=H.fontWeight}}this.ctx.font=v+" "+I+" "+w;var E={width:0,height:0,parts:[]};var z=0.6;var a=J.toString().split("<br>");for(var B=0;B<a.length;B++){var F=a[B];var A=this.ctx.measureText(F).width;var u=document.createElement("span.jqxchart");u.font=this.ctx.font;u.textContent=F;document.body.appendChild(u);var G=u.offsetHeight*z;document.body.removeChild(u);E.width=Math.max(E.width,c.jqx._rup(A));E.height+=G+(B>0?4:0);E.parts.push({width:A,height:G,text:F})}return E},_measureText:function(a,h,l,n){return c.jqx.commonRenderer.measureText(a,h,l,n,this)},measureText:function(a,f,h){return this._measureText(a,f,h,false)},text:function(t,u,w,F,s,C,B,E,A,v,D){var a=this.shape("text",{text:t,x:u,y:w,width:F,height:s,angle:C,clip:E,halign:A,valign:v,rotateAround:D});if(B){this.attr(a,B)}a.fontFamily="Arial";a.fontSize="10pt";a.fontWeight="";a.color="#000000";if(B&&B["class"]){var G=this._getCSSStyle(B["class"]);a.fontFamily=G.fontFamily||a.fontFamily;a.fontSize=G.fontSize||a.fontSize;a.fontWeight=G.fontWeight||a.fontWeight;a.color=G.color||a.color}var z=this._measureText(t,0,B,true);this.attr(a,{textPartsInfo:z.textPartsInfo,textWidth:z.width,textHeight:z.height});if(F<=0||isNaN(F)){this.attr(a,{width:z.width})}if(s<=0||isNaN(s)){this.attr(a,{height:z.height})}return a},_toLinearGradient:function(q,a,l){if(this._renderers._gradients[q]){return q}var s=[];for(var n=0;n<l.length;n++){s.push({percent:l[n][0]/100,color:c.jqx.adjustColor(q,l[n][1])})}var o="gr"+this._gradientId++;this.createGradient(o,a?"vertical":"horizontal",s);return o},_toRadialGradient:function(o,a){if(this._renderers._gradients[o]){return o}var q=[];for(var l=0;l<a.length;l++){q.push({percent:a[l][0]/100,color:c.jqx.adjustColor(o,a[l][1])})}var n="gr"+this._gradientId++;this.createGradient(n,"radial",q);return n},createGradient:function(a,f,h){this._renderers.createGradient(this,a,f,h)},_renderers:{createGradient:function(a,h,l,n){a._gradients[h]={orientation:l,colorStops:n}},setStroke:function(f,a){var h=f.ctx;h.strokeStyle=a.stroke||"transparent";h.lineWidth=a["stroke-width"]||1;if(a["fill-opacity"]!=undefined){h.globalAlpha=a["fill-opacity"]}else{if(a.opacity!=undefined){h.globalAlpha=a.opacity}else{h.globalAlpha=1}}if(h.setLineDash){if(a["stroke-dasharray"]){h.setLineDash(a["stroke-dasharray"].split(","))}else{h.setLineDash([])}}},setFillStyle:function(C,z){var a=C.ctx;a.fillStyle="transparent";if(z["fill-opacity"]!=undefined){a.globalAlpha=z["fill-opacity"]}else{if(z.opacity!=undefined){a.globalAlpha=z.opacity}else{a.globalAlpha=1}}if(z.fill&&z.fill.indexOf("#")==-1&&C._gradients[z.fill]){var s=C._gradients[z.fill].orientation!="horizontal";var v=C._gradients[z.fill].orientation=="radial";var B=c.jqx.ptrnd(z.x);var q=c.jqx.ptrnd(z.y);var D=c.jqx.ptrnd(z.x+(s?0:z.width));var u=c.jqx.ptrnd(z.y+(s?z.height:0));var t;if((z.type=="circle"||z.type=="path"||z.type=="rect")&&v){x=c.jqx.ptrnd(z.x);y=c.jqx.ptrnd(z.y);r1=z.innerRadius||0;r2=z.outerRadius||z.r||0;if(z.type=="rect"){x+=z.width/2;y+=z.height/2}t=a.createRadialGradient(x,y,r1,x,y,r2)}if(!v){if(isNaN(B)||isNaN(D)||isNaN(q)||isNaN(u)){B=0;q=0;D=s?0:a.canvas.width;u=s?a.canvas.height:0}t=a.createLinearGradient(B,q,D,u)}var A=C._gradients[z.fill].colorStops;for(var w=0;w<A.length;w++){t.addColorStop(A[w].percent,A[w].color)}a.fillStyle=t}else{if(z.fill){a.fillStyle=z.fill}}},rect:function(e,a){if(a.width==0||a.height==0){return}e.fillRect(c.jqx.ptrnd(a.x),c.jqx.ptrnd(a.y),a.width,a.height);e.strokeRect(c.jqx.ptrnd(a.x),c.jqx.ptrnd(a.y),a.width,a.height)},circle:function(e,a){if(a.r==0){return}e.beginPath();e.arc(c.jqx.ptrnd(a.x),c.jqx.ptrnd(a.y),a.r,0,Math.PI*2,false);e.closePath();e.fill();e.stroke()},_parsePoint:function(f){var h=this._parseNumber(f);var a=this._parseNumber(f);return({x:h,y:a})},_parseNumber:function(h){var a=false;for(var n=this._pos;n<h.length;n++){if((h[n]>="0"&&h[n]<="9")||h[n]=="."||h[n]=="e"||(h[n]=="-"&&!a)||(h[n]=="-"&&n>=1&&h[n-1]=="e")){a=true;continue}if(!a&&(h[n]==" "||h[n]==",")){this._pos++;continue}break}var l=parseFloat(h.substring(this._pos,n));if(isNaN(l)){return undefined}this._pos=n;return l},_cmds:"mlcazq",_isRelativeCmd:function(a){return c.jqx.string.contains(this._cmds,a)},_parseCmd:function(e){for(var a=this._pos;a<e.length;a++){if(c.jqx.string.containsIgnoreCase(this._cmds,e[a])){this._pos=a+1;this._lastCmd=e[a];return this._lastCmd}if(e[a]==" "){this._pos++;continue}if(e[a]>="0"&&e[a]<="9"){this._pos=a;if(this._lastCmd==""){break}else{return this._lastCmd}}}return undefined},_toAbsolutePoint:function(a){return{x:this._currentPoint.x+a.x,y:this._currentPoint.y+a.y}},path:function(Z,u){var ad=u.d;this._pos=0;this._lastCmd="";var ai=undefined;this._currentPoint={x:0,y:0};Z.beginPath();var U=0;while(this._pos<ad.length){var W=this._parseCmd(ad);if(W==undefined){break}if(W=="M"||W=="m"){var Y=this._parsePoint(ad);if(Y==undefined){break}Z.moveTo(Y.x,Y.y);this._currentPoint=Y;if(ai==undefined){ai=Y}continue}if(W=="L"||W=="l"){var Y=this._parsePoint(ad);if(Y==undefined){break}Z.lineTo(Y.x,Y.y);this._currentPoint=Y;continue}if(W=="A"||W=="a"){var al=this._parseNumber(ad);var am=this._parseNumber(ad);var Q=this._parseNumber(ad)*(Math.PI/180);var a=this._parseNumber(ad);var an=this._parseNumber(ad);var ae=this._parsePoint(ad);if(this._isRelativeCmd(W)){ae=this._toAbsolutePoint(ae)}if(al==0||am==0){continue}var ak=this._currentPoint;var S={x:Math.cos(Q)*(ak.x-ae.x)/2+Math.sin(Q)*(ak.y-ae.y)/2,y:-Math.sin(Q)*(ak.x-ae.x)/2+Math.cos(Q)*(ak.y-ae.y)/2};var aj=Math.pow(S.x,2)/Math.pow(al,2)+Math.pow(S.y,2)/Math.pow(am,2);if(aj>1){al*=Math.sqrt(aj);am*=Math.sqrt(aj)}var aa=(a==an?-1:1)*Math.sqrt(((Math.pow(al,2)*Math.pow(am,2))-(Math.pow(al,2)*Math.pow(S.y,2))-(Math.pow(am,2)*Math.pow(S.x,2)))/(Math.pow(al,2)*Math.pow(S.y,2)+Math.pow(am,2)*Math.pow(S.x,2)));if(isNaN(aa)){aa=0}var T={x:aa*al*S.y/am,y:aa*-am*S.x/al};var ab={x:(ak.x+ae.x)/2+Math.cos(Q)*T.x-Math.sin(Q)*T.y,y:(ak.y+ae.y)/2+Math.sin(Q)*T.x+Math.cos(Q)*T.y};var ac=function(d){return Math.sqrt(Math.pow(d[0],2)+Math.pow(d[1],2))};var R=function(d,e){return(d[0]*e[0]+d[1]*e[1])/(ac(d)*ac(e))};var s=function(d,e){return(d[0]*e[1]<d[1]*e[0]?-1:1)*Math.acos(R(d,e))};var X=s([1,0],[(S.x-T.x)/al,(S.y-T.y)/am]);var ag=[(S.x-T.x)/al,(S.y-T.y)/am];var ah=[(-S.x-T.x)/al,(-S.y-T.y)/am];var v=s(ag,ah);if(R(ag,ah)<=-1){v=Math.PI}if(R(ag,ah)>=1){v=0}if(an==0&&v>0){v=v-2*Math.PI}if(an==1&&v<0){v=v+2*Math.PI}var R=(al>am)?al:am;var af=(al>am)?1:al/am;var V=(al>am)?am/al:1;Z.translate(ab.x,ab.y);Z.rotate(Q);Z.scale(af,V);Z.arc(0,0,R,X,X+v,1-an);Z.scale(1/af,1/V);Z.rotate(-Q);Z.translate(-ab.x,-ab.y);continue}if((W=="Z"||W=="z")&&ai!=undefined){Z.lineTo(ai.x,ai.y);this._currentPoint=ai;continue}if(W=="C"||W=="c"){var ao=this._parsePoint(ad);var ap=this._parsePoint(ad);var aq=this._parsePoint(ad);Z.bezierCurveTo(ao.x,ao.y,ap.x,ap.y,aq.x,aq.y);this._currentPoint=aq;continue}if(W=="Q"||W=="q"){var ao=this._parsePoint(ad);var ap=this._parsePoint(ad);Z.quadraticCurveTo(ao.x,ao.y,ap.x,ap.y);this._currentPoint=ap;continue}}Z.fill();Z.stroke();Z.closePath()},text:function(U,J){var V=c.jqx.ptrnd(J.x);var W=c.jqx.ptrnd(J.y);var K=c.jqx.ptrnd(J.width);var O=c.jqx.ptrnd(J.height);var P=J.halign;var aa=J.valign;var Q=J.angle;var af=J.rotateAround;var ac=J.textPartsInfo;var ad=ac.parts;var N=J.clip;if(N==undefined){N=true}U.save();if(!P){P="center"}if(!aa){aa="center"}if(N){U.rect(V,W,K,O);U.clip()}var w=J.textWidth;var Z=J.textHeight;var T=K||0;var R=O||0;U.fillStyle=J.color;U.font=J.fontWeight+" "+J.fontSize+" "+J.fontFamily;if(!Q||Q==0){W+=Z;if(aa=="center"||aa=="middle"){W+=(R-Z)/2}else{if(aa=="bottom"){W+=R-Z}}if(!K){K=w}if(!O){O=Z}var X=0;for(var S=ad.length-1;S>=0;S--){var M=ad[S];var h=V;var Y=ad[S].width;var ae=ad[S].height;if(P=="center"){h+=(T-Y)/2}else{if(P=="right"){h+=(T-Y)}}U.fillText(M.text,h,W+X);X-=M.height+(S>0?4:0)}U.restore();return}var a=c.jqx.commonRenderer.alignTextInRect(V,W,K,O,w,Z,P,aa,Q,af);V=a.x;W=a.y;var ab=Q*Math.PI*2/360;U.translate(V,W);U.rotate(ab);var X=0;var L=ac.width;for(var S=ad.length-1;S>=0;S--){var h=0;if(P=="center"){h+=(L-ad[S].width)/2}else{if(P=="right"){h+=(L-ad[S].width)}}U.fillText(ad[S].text,h,X);X-=ad[S].height+4}U.restore()}},refresh:function(){this.ctx.clearRect(0,0,this.canvas[0].width,this.canvas[0].height);for(var e in this._elements){var a=this._elements[e];this._renderers.setFillStyle(this,a);this._renderers.setStroke(this,a);this._renderers[this._elements[e].type](this.ctx,a)}}};c.jqx.createRenderer=function(n,h){var l=n;var a=l.renderer=null;if(document.createElementNS&&(l.renderEngine!="HTML5"&&l.renderEngine!="VML")){a=new c.jqx.svgRenderer();if(!a.init(h)){if(l.renderEngine=="SVG"){throw"Your browser does not support SVG"}return null}}if(a==null&&l.renderEngine!="HTML5"){a=new c.jqx.vmlRenderer();if(!a.init(h)){if(l.renderEngine=="VML"){throw"Your browser does not support VML"}return null}l._isVML=true}if(a==null&&(l.renderEngine=="HTML5"||l.renderEngine==undefined)){a=new c.jqx.HTML5Renderer();if(!a.init(h)){throw"Your browser does not support HTML5 Canvas"}}l.renderer=a;return a},c.jqx._widgetToImage=function(a,w,C,s,A,B){var u=a;if(!u){return false}if(C==undefined||C==""){C="image."+w}var t=u.renderEngine;var D=u.enableAnimations;u.enableAnimations=false;u.renderEngine="HTML5";if(u.renderEngine!=t){try{u.refresh()}catch(z){u.renderEngine=t;u.refresh();u.enableAnimations=D;return false}}var E=u.renderer.getContainer().find("canvas")[0];var v=true;if(c.isFunction(B)){v=B(a,E)}var e=true;if(v){e=c.jqx.exportImage(E,w,C,s,A)}if(u.renderEngine!=t){u.renderEngine=t;u.refresh();u.enableAnimations=D}return e};c.jqx.getByPriority=function(h){var a=undefined;for(var f=0;f<h.length&&a==undefined;f++){if(a==undefined&&h[f]!=undefined){a=h[f]}}return a};c.jqx.exportImage=function(F,v,E,K,B){if(!F){return false}var z=v.toLowerCase()==="pdf";if(z){v="jpeg"}if(E==undefined||E==""){E="image."+v}if(K==undefined||K==""){throw"Please specifiy export server"}var I=true;try{if(F){var D=F.toDataURL("image/"+v);if(z){if(!c.jqx.pdfExport){c.jqx.pdfExport={orientation:"portrait",paperSize:"a4"}}var C=595;switch(c.jqx.pdfExport.paperSize){case"legal":var C=612;if(c.jqx.pdfExport.orientation!=="portrait"){C=1008}break;case"letter":var C=612;if(c.jqx.pdfExport.orientation!=="portrait"){C=792}break;case"a3":var C=841;if(c.jqx.pdfExport.orientation!=="portrait"){C=1190}break;case"a4":var C=595;if(c.jqx.pdfExport.orientation!=="portrait"){C=842}break;case"a5":var C=420;if(c.jqx.pdfExport.orientation!=="portrait"){C=595}break}var A=c(F).width();var e=A*72/96;if(e>=C-20){e=C-20}var a=new pdfDataExport(c.jqx.pdfExport.orientation,"pt",c.jqx.pdfExport.paperSize);a.addImage(D,"JPEG",10,10,e,0);a.save(E);return}D=D.replace("data:image/"+v+";base64,","");if(B){c.ajax({dataType:"string",url:K,type:"POST",data:{content:D,fname:E},async:false,success:function(f,h,d){I=true},error:function(f,h,d){I=false}})}else{var G=document.createElement("form");G.method="POST";G.action=K;G.style.display="none";document.body.appendChild(G);var J=document.createElement("input");J.name="fname";J.value=E;J.style.display="none";var H=document.createElement("input");H.name="content";H.value=D;H.style.display="none";G.appendChild(J);G.appendChild(H);G.submit();document.body.removeChild(G);I=true}}}catch(w){I=false}return I}})(jqxBaseFramework);(function(c){jqxPlot=function(){};jqxPlot.prototype={get:function(a,h,f){return f!==undefined?a[h][f]:a[h]},min:function(a,n){var o=NaN;for(var q=0;q<a.length;q++){var l=this.get(a,q,n);if(isNaN(o)||l<o){o=l}}return o},max:function(a,n){var q=NaN;for(var o=0;o<a.length;o++){var l=this.get(a,o,n);if(isNaN(q)||l>q){q=l}}return q},sum:function(a,o){var n=0;for(var q=0;q<a.length;q++){var l=this.get(a,q,o);if(!isNaN(l)){n+=l}}return n},count:function(a,o){var n=0;for(var q=0;q<a.length;q++){var l=this.get(a,q,o);if(!isNaN(l)){n++}}return n},avg:function(a,e){return this.sum(a,e)/Math.max(1,count(a,e))},filter:function(a,h){if(!h){return a}var n=[];for(var l=0;l<a.length;l++){if(h(a[l])){n.push(a[l])}}return n},scale:function(C,v,u,z){if(isNaN(C)||C<Math.min(v.min,v.max)||C>Math.max(v.min,v.max)){return NaN}var a=NaN;var s=1;if(v.type===undefined||v.type!="logarithmic"){var t=Math.abs(v.max-v.min);if(!t){t=1}s=Math.abs(C-Math.min(v.min,v.max))/t}else{if(v.type==="logarithmic"){var B=v.base;if(isNaN(B)){B=10}var w=Math.min(v.min,v.max);if(w<=0){w=1}var q=Math.max(v.min,v.max);if(q<=0){q=1}var A=c.jqx.log(q,B);q=Math.pow(B,A);var D=c.jqx.log(w,B);w=Math.pow(B,D);var E=c.jqx.log(C,B);s=Math.abs(E-D)/(A-D)}}if(u.type==="logarithmic"){var B=u.base;if(isNaN(B)){B=10}var A=c.jqx.log(u.max,B);var D=c.jqx.log(u.min,B);if(u.flip){s=1-s}var E=Math.min(D,A)+s*Math.abs(A-D);a=Math.pow(B,E)}else{a=Math.min(u.min,u.max)+s*Math.abs(u.max-u.min);if(u.flip){a=Math.max(u.min,u.max)-a+u.min}}return a},axis:function(D,C,H){if(H<=1){return[C,D]}var L=D;var J=C;if(isNaN(H)||H<2){H=2}var P=0;while(Math.round(D)!=D&&Math.round(C)!=C&&P<10){D*=10;C*=10;P++}var G=(C-D)/H;while(P<10&&Math.round(G)!=G){D*=10;C*=10;G*=10;P++}var a=[1,2,5];var K=0;var B=0;while(true){var F=B%a.length;var M=Math.floor(B/a.length);var E=Math.pow(10,M)*a[F];F=(B+1)%a.length;M=Math.floor((B+1)/a.length);var I=Math.pow(10,M)*a[F];if(G>=E&&G<I){break}B++}var N=I;var A=[];var z=c.jqx._rnd(D,N,false);var O=P<=0?1:Math.pow(10,P);while(z<C+N){A.push(z/O);z+=N}return A}}})(jqxBaseFramework);(function(c){c.jqx.jqxWidget("jqxChart","",{});c.extend(c.jqx._jqxChart.prototype,{defineInstance:function(){c.extend(true,this,this._defaultSettings);this._createColorsCache()},_defaultSettings:{title:"Title",description:"Description",source:[],seriesGroups:[],categoryAxis:null,xAxis:{},valueAxis:null,renderEngine:"",enableAnimations:true,enableAxisTextAnimation:false,backgroundImage:"",background:"#FFFFFF",padding:{left:5,top:5,right:5,bottom:5},backgroundColor:"#FFFFFF",showBorderLine:true,borderLineWidth:1,borderLineColor:null,borderColor:null,titlePadding:{left:5,top:5,right:5,bottom:10},showLegend:true,legendLayout:null,enabled:true,colorScheme:"scheme01",animationDuration:500,showToolTips:true,toolTipShowDelay:500,toolTipDelay:500,toolTipHideDelay:4000,toolTipMoveDuration:300,toolTipFormatFunction:null,toolTipAlignment:"dataPoint",localization:null,columnSeriesOverlap:false,rtl:false,legendPosition:null,greyScale:false,axisPadding:5,enableCrosshairs:false,crosshairsColor:"#BCBCBC",crosshairsDashStyle:"2,2",crosshairsLineWidth:1,enableEvents:true,_itemsToggleState:[],_isToggleRefresh:false,_isSelectorRefresh:false,_sliders:[],_selectorRange:[],_rangeSelectorInstances:{},_resizeState:{},renderer:null,_isRangeSelectorInstance:false,drawBefore:null,draw:null,_renderData:{},enableSampling:true,samplingThreshold:5000},_defaultLineColor:"#BCBCBC",_touchEvents:{mousedown:c.jqx.mobile.getTouchEventName("touchstart"),click:c.jqx.mobile.getTouchEventName("touchstart"),mouseup:c.jqx.mobile.getTouchEventName("touchend"),mousemove:c.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave"},_getEvent:function(a){if(this._isTouchDevice){return this._touchEvents[a]}else{return a}},destroy:function(){this.host.remove()},createInstance:function(h){if(!c.jqx.dataAdapter){throw"jqxdata.js is not loaded"}var l=this;l._refreshOnDownloadComlete();l._isTouchDevice=c.jqx.mobile.isTouchDevice();l.addHandler(l.host,l._getEvent("mousemove"),function(o){if(l.enabled==false){return}if(!l._isRangeSelectorInstance){l.host.css("cursor","default")}var q=o.pageX||o.clientX||o.screenX;var d=o.pageY||o.clientY||o.screenY;var e=l.host.offset();if(l._isTouchDevice){var f=c.jqx.position(o);q=f.left;d=f.top}q-=e.left;d-=e.top;l.onmousemove(q,d)});l.addHandler(l.host,l._getEvent("mouseleave"),function(e){if(l.enabled==false){return}var o=l._mouseX;var d=l._mouseY;var f=l._plotRect;if(f&&o>=f.x&&o<=f.x+f.width&&d>=f.y&&d<=f.y+f.height){return}l._cancelTooltipTimer();l._hideToolTip(0);l._unselect()});l.addHandler(l.host,"click",function(o){if(l.enabled==false){return}var q=o.pageX||o.clientX||o.screenX;var d=o.pageY||o.clientY||o.screenY;var e=l.host.offset();if(l._isTouchDevice){var f=c.jqx.position(o);q=f.left;d=f.top}q-=e.left;d-=e.top;l._mouseX=q;l._mouseY=d;if(!isNaN(l._lastClickTs)){if((new Date()).valueOf()-l._lastClickTs<100){return}}this._hostClickTimer=setTimeout(function(){if(!l._isTouchDevice){l._cancelTooltipTimer();l._hideToolTip();l._unselect()}if(l._pointMarker&&l._pointMarker.element){var t=l.seriesGroups[l._pointMarker.gidx];var s=t.series[l._pointMarker.sidx];o.stopImmediatePropagation();l._raiseItemEvent("click",t,s,l._pointMarker.iidx)}},100)});var a=l.element.style;if(a){var n=false;if(a.width!=null){n|=a.width.toString().indexOf("%")!=-1}if(a.height!=null){n|=a.height.toString().indexOf("%")!=-1}if(n){c.jqx.utilities.resize(this.host,function(){if(l.timer){clearTimeout(l.timer)}var d=1;l.timer=setTimeout(function(){var e=l.enableAnimations;l.enableAnimations=false;l.refresh();l.enableAnimations=e},d)},false,true)}}},_refreshOnDownloadComlete:function(){var n=this;var l=this.source;if(l instanceof c.jqx.dataAdapter){var a=l._options;if(a==undefined||(a!=undefined&&!a.autoBind)){l.autoSync=false;l.dataBind()}var o=this.element.id;if(l.records.length==0){var q=function(){if(n.ready){n.ready()}n.refresh()};l.unbindDownloadComplete(o);l.bindDownloadComplete(o,q)}else{if(n.ready){n.ready()}}l.unbindBindingUpdate(o);l.bindBindingUpdate(o,function(){if(n._supressBindingRefresh){return}n.refresh()})}},propertyChangedHandler:function(n,l,a,h){if(this.isInitialized==undefined||this.isInitialized==false){return}if(l=="source"){this._refreshOnDownloadComlete()}this.refresh()},_initRenderer:function(a){if(!c.jqx.createRenderer){throw"Please include jqxdraw.js"}return c.jqx.createRenderer(this,a)},_internalRefresh:function(){var h=this;if(c.jqx.isHidden(h.host)){return}h._stopAnimations();if(!h.renderer||(!h._isToggleRefresh&&!h._isUpdate)){h._hideToolTip(0);h._isVML=false;h.host.empty();h._measureDiv=undefined;h._initRenderer(h.host)}var a=h.renderer;if(!a){return}var f=a.getRect();h._render({x:1,y:1,width:f.width,height:f.height});this._raiseEvent("refreshBegin",{instance:this});if(a instanceof c.jqx.HTML5Renderer){a.refresh()}h._isUpdate=false;this._raiseEvent("refreshEnd",{instance:this})},saveAsPNG:function(a,h,f){return this._saveAsImage("png",a,h,f)},saveAsJPEG:function(a,h,f){return this._saveAsImage("jpeg",a,h,f)},saveAsPDF:function(a,h,f){return this._saveAsImage("pdf",a,h,f)},_saveAsImage:function(o,a,t,s){var l=false;for(var q=0;q<this.seriesGroups.length&&!l;q++){var n=this._getXAxis(q);if(n&&n.rangeSelector){l=true}}return c.jqx._widgetToImage(this,o,a,t,s,l?this._selectorSaveAsImageCallback:undefined)},_selectorSaveAsImageCallback:function(I,Y){var L=I;for(var N=0;N<L.seriesGroups.length;N++){var S=L._getXAxis(N);if(!S||!S.rangeSelector||S.rangeSelector.renderTo){continue}var V=L._rangeSelectorInstances[N];if(!V){continue}var J=V.jqxChart("getInstance");var ab=J.renderEngine;var ac=J.renderer.getRect();var aa=J.renderer.getContainer().find("canvas")[0];var O=aa.getContext("2d");var R=L._sliders[N];var ae=L.seriesGroups[N].orientation=="horizontal";var ad=!ae?"width":"height";var U=ae?"width":"height";var P=!ae?"x":"y";var Z=ae?"x":"y";var X={};X[P]=R.startOffset+R.rect[P];X[Z]=R.rect[Z];X[ad]=R.endOffset-R.startOffset;X[U]=R.rect[U];var T=S.rangeSelector.colorSelectedRange||"blue";var a=S.rangeSelector.colorUnselectedRange||"white";var W=S.rangeSelector.colorRangeLine||"grey";var M=[];M.push(J.renderer.rect(X.x,X.y,X.width,X.height,{fill:T,opacity:0.1}));if(!ae){M.push(J.renderer.line(c.jqx._ptrnd(R.rect.x),c.jqx._ptrnd(R.rect.y),c.jqx._ptrnd(X.x),c.jqx._ptrnd(R.rect.y),{stroke:W,opacity:0.5}));M.push(J.renderer.line(c.jqx._ptrnd(X.x+X.width),c.jqx._ptrnd(R.rect.y),c.jqx._ptrnd(R.rect.x+R.rect.width),c.jqx._ptrnd(R.rect.y),{stroke:W,opacity:0.5}));M.push(J.renderer.line(c.jqx._ptrnd(X.x),c.jqx._ptrnd(R.rect.y),c.jqx._ptrnd(X.x),c.jqx._ptrnd(R.rect.y+R.rect.height),{stroke:W,opacity:0.5}));M.push(J.renderer.line(c.jqx._ptrnd(X.x+X.width),c.jqx._ptrnd(R.rect.y),c.jqx._ptrnd(X.x+X.width),c.jqx._ptrnd(R.rect.y+R.rect.height),{stroke:W,opacity:0.5}))}else{M.push(J.renderer.line(c.jqx._ptrnd(R.rect.x+R.rect.width),c.jqx._ptrnd(R.rect.y),c.jqx._ptrnd(R.rect.x+R.rect.width),c.jqx._ptrnd(X.y),{stroke:W,opacity:0.5}));M.push(J.renderer.line(c.jqx._ptrnd(R.rect.x+R.rect.width),c.jqx._ptrnd(X.y+X.height),c.jqx._ptrnd(R.rect.x+R.rect.width),c.jqx._ptrnd(R.rect.y+R.rect.height),{stroke:W,opacity:0.5}));M.push(J.renderer.line(c.jqx._ptrnd(R.rect.x),c.jqx._ptrnd(X.y),c.jqx._ptrnd(R.rect.x+R.rect.width),c.jqx._ptrnd(X.y),{stroke:W,opacity:0.5}));M.push(J.renderer.line(c.jqx._ptrnd(R.rect.x),c.jqx._ptrnd(X.y+X.height),c.jqx._ptrnd(R.rect.x+R.rect.width),c.jqx._ptrnd(X.y+X.height),{stroke:W,opacity:0.5}))}J.renderer.refresh();var H=O.getImageData(ac.x,ac.y,ac.width,ac.height);var K=Y.getContext("2d");K.putImageData(H,parseInt(V.css("left")),parseInt(V.css("top")),1,1,ac.width,ac.height);for(var Q=0;Q<M.length;Q++){J.renderer.removeElement(M[Q])}J.renderer.refresh()}return true},refresh:function(){this._internalRefresh()},update:function(){this._isUpdate=true;this._internalRefresh()},_seriesTypes:["line","stackedline","stackedline100","spline","stackedspline","stackedspline100","stepline","stackedstepline","stackedstepline100","area","stackedarea","stackedarea100","splinearea","stackedsplinearea","stackedsplinearea100","steparea","stackedsteparea","stackedsteparea100","rangearea","splinerangearea","steprangearea","column","stackedcolumn","stackedcolumn100","rangecolumn","scatter","stackedscatter","stackedscatter100","bubble","stackedbubble","stackedbubble100","pie","donut","candlestick","ohlc","waterfall","stackedwaterfall"],clear:function(){var e=this;for(var a in e._defaultSettings){e[a]=e._defaultSettings[a]}e.title="";e.description="";e.refresh()},_render:function(aK){var a2=this;var ay=a2.renderer;a2._colorsCache.clear();if(!a2._isToggleRefresh&&a2._isUpdate&&a2._renderData){a2._renderDataClone()}a2._renderData=[];ay.clear();a2._unselect();a2._hideToolTip(0);var a1=a2.backgroundImage;if(a1==undefined||a1==""){a2.host.css({"background-image":""})}else{a2.host.css({"background-image":(a1.indexOf("(")!=-1?a1:"url('"+a1+"')")})}a2._rect=aK;var aT=a2.padding||{left:5,top:5,right:5,bottom:5};var aY=ay.createClipRect(aK);var av=ay.beginGroup();ay.setClip(av,aY);var az=ay.rect(aK.x,aK.y,aK.width-2,aK.height-2);if(a1==undefined||a1==""){ay.attr(az,{fill:a2.backgroundColor||a2.background||"white"})}else{ay.attr(az,{fill:"transparent"})}if(a2.showBorderLine!=false){var aE=a2.borderLineColor==undefined?a2.borderColor:a2.borderLineColor;if(aE==undefined){aE=a2._defaultLineColor}var a0=this.borderLineWidth;if(isNaN(a0)||a0<0||a0>10){a0=1}ay.attr(az,{"stroke-width":a0,stroke:aE})}else{if(c.jqx.browser.msie&&c.jqx.browser.version<9){ay.attr(az,{"stroke-width":1,stroke:a2.backgroundColor||"white"})}}if(c.isFunction(a2.drawBefore)){a2.drawBefore(ay,aK)}var w={x:aT.left,y:aT.top,width:aK.width-aT.left-aT.right,height:aK.height-aT.top-aT.bottom};a2._paddedRect=w;var a6=a2.titlePadding||{left:2,top:2,right:2,bottom:2};var a3;if(a2.title&&a2.title.length>0){var an=a2.toThemeProperty("jqx-chart-title-text",null);a3=ay.measureText(a2.title,0,{"class":an});ay.text(a2.title,w.x+a6.left,w.y+a6.top,w.width-(a6.left+a6.right),a3.height,0,{"class":an},true,"center","center");w.y+=a3.height;w.height-=a3.height}if(a2.description&&a2.description.length>0){var am=a2.toThemeProperty("jqx-chart-title-description",null);a3=ay.measureText(a2.description,0,{"class":am});ay.text(a2.description,w.x+a6.left,w.y+a6.top,w.width-(a6.left+a6.right),a3.height,0,{"class":am},true,"center","center");w.y+=a3.height;w.height-=a3.height}if(a2.title||a2.description){w.y+=(a6.bottom+a6.top);w.height-=(a6.bottom+a6.top)}var a9={x:w.x,y:w.y,width:w.width,height:w.height};a2._plotRect=a9;a2._buildStats(a9);var aA=a2._isPieOnlySeries();var aW=a2.seriesGroups;var aG;var aI={xAxis:{},valueAxis:{}};for(var aS=0;aS<aW.length&&!aA;aS++){if(aW[aS].type=="pie"||aW[aS].type=="donut"){continue}var aQ=a2._getXAxis(aS);if(!aQ){throw"seriesGroup["+aS+"] is missing xAxis definition"}var aH=aQ==a2._getXAxis()?-1:aS;aI.xAxis[aH]=0}var al=a2.axisPadding;if(isNaN(al)){al=5}var aX={left:0,right:0,leftCount:0,rightCount:0};var aZ=[];for(aS=0;aS<aW.length;aS++){var aJ=aW[aS];if(aJ.type=="pie"||aJ.type=="donut"||aJ.spider==true||aJ.polar==true){aZ.push({width:0,position:0,xRel:0});continue}aG=aJ.orientation=="horizontal";var aQ=a2._getXAxis(aS);var aH=aQ==a2._getXAxis()?-1:aS;var a4=a2._getValueAxis(aS);var ar=a4==a2._getValueAxis()?-1:aS;var ao=!aG?a4.axisSize:aQ.axisSize;var a5={x:0,y:a9.y,width:a9.width,height:a9.height};var ap=aG?a2._getXAxis(aS).position:a4.position;if(!ao||ao=="auto"){if(aG){ao=this._renderXAxis(aS,a5,true,a9).width;if((aI.xAxis[aH]&1)==1){ao=0}else{if(ao>0){aI.xAxis[aH]|=1}}}else{ao=a2._renderValueAxis(aS,a5,true,a9).width;if((aI.valueAxis[ar]&1)==1){ao=0}else{if(ao>0){aI.valueAxis[ar]|=1}}}}if(ap!="left"&&a2.rtl==true){ap="right"}if(ap!="right"){ap="left"}if(aX[ap+"Count"]>0&&aX[ap]>0&&ao>0){aX[ap]+=al}aZ.push({width:ao,position:ap,xRel:aX[ap]});aX[ap]+=ao;aX[ap+"Count"]++}var aU=Math.max(1,Math.max(aK.width,aK.height));var aM={top:0,bottom:0,topCount:0,bottomCount:0};var h=[];for(aS=0;aS<aW.length;aS++){var aJ=aW[aS];if(aJ.type=="pie"||aJ.type=="donut"||aJ.spider==true||aJ.polar==true){h.push({height:0,position:0,yRel:0});continue}aG=aJ.orientation=="horizontal";var a4=this._getValueAxis(aS);var ar=a4==a2._getValueAxis()?-1:aS;var aQ=a2._getXAxis(aS);var aH=aQ==a2._getXAxis()?-1:aS;var aO=!aG?aQ.axisSize:a4.axisSize;var ap=aG?a4.position:aQ.position;if(!aO||aO=="auto"){if(aG){aO=a2._renderValueAxis(aS,{x:0,y:0,width:aU,height:0},true,a9).height;if((aI.valueAxis[ar]&2)==2){aO=0}else{if(aO>0){aI.valueAxis[ar]|=2}}}else{aO=a2._renderXAxis(aS,{x:0,y:0,width:aU,height:0},true).height;if((aI.xAxis[aH]&2)==2){aO=0}else{if(aO>0){aI.xAxis[aH]|=2}}}}if(ap!="top"){ap="bottom"}if(aM[ap+"Count"]>0&&aM[ap]>0&&aO>0){aM[ap]+=al}h.push({height:aO,position:ap,yRel:aM[ap]});aM[ap]+=aO;aM[ap+"Count"]++}a2._createAnimationGroup("series");var aV=(a2.showLegend!=false);var aL=!aV?{width:0,height:0}:a2._renderLegend(a2.legendLayout?a2._rect:w,true);if(this.legendLayout&&(!isNaN(this.legendLayout.left)||!isNaN(this.legendLayout.top))){aL={width:0,height:0}}if(w.height<aM.top+aM.bottom+aL.height||w.width<aX.left+aX.right){ay.endGroup();return}a9.height-=aM.top+aM.bottom+aL.height;a9.x+=aX.left;a9.width-=aX.left+aX.right;a9.y+=aM.top;var aC=[];if(!aA){var aF=a2._getXAxis().tickMarksColor||a2._defaultLineColor;for(aS=0;aS<aW.length;aS++){var aJ=aW[aS];if(aJ.polar==true||aJ.spider==true||aJ.type=="pie"||aJ.type=="donut"){continue}aG=aJ.orientation=="horizontal";var aH=a2._getXAxis(aS)==a2._getXAxis()?-1:aS;var ar=a2._getValueAxis(aS)==a2._getValueAxis()?-1:aS;var a5={x:a9.x,y:0,width:a9.width,height:h[aS].height};if(h[aS].position!="top"){a5.y=a9.y+a9.height+h[aS].yRel}else{a5.y=a9.y-h[aS].yRel-h[aS].height}if(aG){if((aI.valueAxis[ar]&4)==4){continue}if(!a2._isGroupVisible(aS)){continue}a2._renderValueAxis(aS,a5,false,a9);aI.valueAxis[ar]|=4}else{aC.push(a5);if((aI.xAxis[aH]&4)==4){continue}if(!a2._isGroupVisible(aS)){continue}a2._renderXAxis(aS,a5,false,a9);aI.xAxis[aH]|=4}}}if(aV){var aN=a2.legendLayout?a2._rect:w;var aq=w.x+c.jqx._ptrnd((w.width-aL.width)/2);var at=a9.y+a9.height+aM.bottom;var ao=w.width;var aO=aL.height;if(a2.legendLayout){if(!isNaN(a2.legendLayout.left)){aq=a2.legendLayout.left}if(!isNaN(a2.legendLayout.top)){at=a2.legendLayout.top}if(!isNaN(a2.legendLayout.width)){ao=a2.legendLayout.width}if(!isNaN(a2.legendLayout.height)){aO=a2.legendLayout.height}}if(aq+ao>aN.x+aN.width){ao=aN.x+aN.width-aq}if(at+aO>aN.y+aN.height){aO=aN.y+aN.height-at}a2._renderLegend({x:aq,y:at,width:ao,height:aO})}a2._hasHorizontalLines=false;if(!aA){for(aS=0;aS<aW.length;aS++){var aJ=aW[aS];if(aJ.polar==true||aJ.spider==true||aJ.type=="pie"||aJ.type=="donut"){continue}aG=aW[aS].orientation=="horizontal";var a5={x:a9.x-aZ[aS].xRel-aZ[aS].width,y:a9.y,width:aZ[aS].width,height:a9.height};if(aZ[aS].position!="left"){a5.x=a9.x+a9.width+aZ[aS].xRel}var aH=a2._getXAxis(aS)==a2._getXAxis()?-1:aS;var ar=a2._getValueAxis(aS)==a2._getValueAxis()?-1:aS;if(aG){aC.push(a5);if((aI.xAxis[aH]&8)==8){continue}if(!a2._isGroupVisible(aS)){continue}a2._renderXAxis(aS,a5,false,a9);aI.xAxis[aH]|=8}else{if((aI.valueAxis[ar]&8)==8){continue}if(!a2._isGroupVisible(aS)){continue}a2._renderValueAxis(aS,a5,false,a9);aI.valueAxis[ar]|=8}}}if(a9.width<=0||a9.height<=0){return}a2._plotRect={x:a9.x,y:a9.y,width:a9.width,height:a9.height};for(aS=0;aS<aW.length;aS++){this._drawPlotAreaLines(aS,true,{gridLines:false,tickMarks:false,alternatingBackground:true});this._drawPlotAreaLines(aS,false,{gridLines:false,tickMarks:false,alternatingBackground:true})}for(aS=0;aS<aW.length;aS++){this._drawPlotAreaLines(aS,true,{gridLines:true,tickMarks:true,alternatingBackground:false});this._drawPlotAreaLines(aS,false,{gridLines:true,tickMarks:true,alternatingBackground:false})}var aw=false;for(aS=0;aS<aW.length&&!aw;aS++){var aJ=aW[aS];if(aJ.annotations!==undefined||c.isFunction(aJ.draw)||c.isFunction(aJ.drawBefore)){aw=true;break}}var au=ay.beginGroup();if(!aw){var ax=ay.createClipRect({x:a9.x-2,y:a9.y,width:a9.width+4,height:a9.height});ay.setClip(au,ax)}for(aS=0;aS<aW.length;aS++){var aJ=aW[aS];var a8=false;for(var aD in a2._seriesTypes){if(a2._seriesTypes[aD]==aJ.type){a8=true;break}}if(!a8){throw'Invalid serie type "'+aJ.type+'"'}if(c.isFunction(aJ.drawBefore)){aJ.drawBefore(ay,aK,aS,this)}if(aJ.polar==true||aJ.spider==true){if(aJ.type.indexOf("pie")==-1&&aJ.type.indexOf("donut")==-1){a2._renderSpiderAxis(aS,a9)}}a2._renderAxisBands(aS,a9,true);a2._renderAxisBands(aS,a9,false)}for(aS=0;aS<aW.length;aS++){var aJ=aW[aS];if(a2._isColumnType(aJ.type)){a2._renderColumnSeries(aS,a9)}else{if(aJ.type.indexOf("pie")!=-1||aJ.type.indexOf("donut")!=-1){a2._renderPieSeries(aS,a9)}else{if(aJ.type.indexOf("line")!=-1||aJ.type.indexOf("area")!=-1){a2._renderLineSeries(aS,a9)}else{if(aJ.type.indexOf("scatter")!=-1||aJ.type.indexOf("bubble")!=-1){a2._renderScatterSeries(aS,a9)}else{if(aJ.type.indexOf("candlestick")!=-1||aJ.type.indexOf("ohlc")!=-1){a2._renderCandleStickSeries(aS,a9,aJ.type.indexOf("ohlc")!=-1)}}}}}if(aJ.annotations){if(!this._moduleAnnotations){throw"Please include 'jqxchart.annotations.js'"}for(var a=0;a<aJ.annotations.length;a++){a2._renderAnnotation(aS,aJ.annotations[a],a9)}}if(c.isFunction(aJ.draw)){a2.draw(ay,aK,aS,this)}}ay.endGroup();if(a2.enabled==false){var aP=ay.rect(aK.x,aK.y,aK.width,aK.height);ay.attr(aP,{fill:"#777777",opacity:0.5,stroke:"#00FFFFFF"})}if(c.isFunction(a2.draw)){a2.draw(ay,aK)}ay.endGroup();a2._startAnimation("series");var aB=false;for(var aS=0;aS<a2.seriesGroups.length&&!aB;aS++){var aQ=a2._getXAxis(aS);if(aQ&&aQ.rangeSelector){aB=true}}if(aB){if(!this._moduleRangeSelector){throw"Please include 'jqxchart.rangeselector.js'"}var a7=[];if(!this._isSelectorRefresh){a2.removeHandler(c(document),a2._getEvent("mousemove"),a2._onSliderMouseMove);a2.removeHandler(c(document),a2._getEvent("mousedown"),a2._onSliderMouseDown);a2.removeHandler(c(document),a2._getEvent("mouseup"),a2._onSliderMouseUp)}if(!a2._isSelectorRefresh){a2._rangeSelectorInstances={}}for(aS=0;aS<a2.seriesGroups.length;aS++){var aR=this._getXAxis(aS);if(a7.indexOf(aR)==-1){if(this._renderXAxisRangeSelector(aS,aC[aS])){a7.push(aR)}}}}},_isPieOnlySeries:function(){var a=this.seriesGroups;if(a.length==0){return false}for(var e=0;e<a.length;e++){if(a[e].type!="pie"&&a[e].type!="donut"){return false}}return true},_renderChartLegend:function(Y,ap,ab,av){var aD=this;var ao=aD.renderer;var aj={x:ap.x+3,y:ap.y+3,width:ap.width-6,height:ap.height-6};var an={width:aj.width,height:0};var al=0,am=0;var ay=20;var aC=0;var aG=10;var ad=10;var au=0;for(var ae=0;ae<Y.length;ae++){var ai=Y[ae].css;if(!ai){ai=aD.toThemeProperty("jqx-chart-legend-text",null)}ay=20;var ar=Y[ae].text;var aE=ao.measureText(ar,0,{"class":ai});if(aE.height>ay){ay=aE.height}if(aE.width>au){au=aE.width}if(av){if(ae!=0){am+=ay}if(am>aj.height){am=0;al+=au+2*ad+aG;au=aE.width;an.width=al+au}}else{if(al!=0){al+=ad}if(al+2*aG+aE.width>aj.width&&aE.width<aj.width){al=0;am+=ay;ay=20;aC=aj.width;an.height=am+ay}}var ah=false;if(aE.width>ap.width){ah=true;var ax=ap.width;var aa=ar;var t=aa.split(/\s+/).reverse();var aB=[];var aw="";var az=[];while(undefined!=(word=t.pop())){aB.push(word);aw=aB.join(" ");var aq=aD.renderer.measureText(aw,0,{"class":ai});if(aq.width>ax&&az.length>0){aB.pop();aB=[word];aw=aB.join(" ")}az.push({text:aw})}aE.width=0;var aK=0;for(var ak=0;ak<az.length;ak++){var X=az[ak].text;var aq=aD.renderer.measureText(X,0,{"class":ai});aE.width=Math.max(aE.width,aq.width);aK+=aE.height}aE.height=aK}var at=aj.x+al+aE.width<ap.x+ap.width&&aj.y+am+aE.height<ap.y+ap.height;if(aD.legendLayout){var at=aj.x+al+aE.width<aD._rect.x+aD._rect.width&&aj.y+am+aE.height<aD._rect.y+aD._rect.height}if(!ab&&at){var aF=Y[ae].seriesIndex;var aA=Y[ae].groupIndex;var aJ=Y[ae].itemIndex;var a=Y[ae].fillColor;var Z=Y[ae].lineColor;var aH=aD._isSerieVisible(aA,aF,aJ);var ac=ao.beginGroup();var af=aH?Y[ae].opacity:0.1;if(ah){var aa=ar;var ax=ap.width;var t=aa.split(/\s+/).reverse();var aB=[];var aw="";var aI=0;var az=[];while(undefined!=(word=t.pop())){aB.push(word);aw=aB.join(" ");var aq=aD.renderer.measureText(aw,0,{"class":ai});if(aq.width>ax&&az.length>0){aB.pop();aI+=aq.height;aB=[word];aw=aB.join(" ")}az.push({text:aw,dy:aI})}for(var ak=0;ak<az.length;ak++){var X=az[ak].text;aI=az[ak].dy;var aq=aD.renderer.measureText(X,0,{"class":ai});if(av){aD.renderer.text(X,aj.x+al+1.5*aG,aj.y+am+aI,aE.width,ay,0,{"class":ai},false,"left","center")}else{aD.renderer.text(X,aj.x+al+1.5*aG,aj.y+am+aI,aE.width,ay,0,{"class":ai},false,"center","center")}}var ag=ao.rect(aj.x+al,aj.y+am+aG/2+aI/2,aG,aG);if(av){am+=aI}aD.renderer.attr(ag,{fill:a,"fill-opacity":af,stroke:Z,"stroke-width":1,"stroke-opacity":Y[ae].opacity})}else{var ag=ao.rect(aj.x+al,aj.y+am+aG/2,aG,aG);aD.renderer.attr(ag,{fill:a,"fill-opacity":af,stroke:Z,"stroke-width":1,"stroke-opacity":Y[ae].opacity});if(av){aD.renderer.text(ar,aj.x+al+1.5*aG,aj.y+am,aE.width,aE.height+aG/2,0,{"class":ai},false,"left","center")}else{aD.renderer.text(ar,aj.x+al+1.5*aG,aj.y+am,aE.width,ay,0,{"class":ai},false,"center","center")}}aD.renderer.endGroup();aD._setLegendToggleHandler(aA,aF,aJ,ac)}if(av){}else{al+=aE.width+2*aG;if(aC<al){aC=al}}}if(ab){an.height=c.jqx._ptrnd(am+ay+5);an.width=c.jqx._ptrnd(aC);return an}},isSerieVisible:function(a,h,f){return this._isSerieVisible(a,h,f)},_isSerieVisible:function(a,q,n){while(this._itemsToggleState.length<a+1){this._itemsToggleState.push([])}var l=this._itemsToggleState[a];while(l.length<q+1){l.push(isNaN(n)?true:[])}var o=l[q];if(isNaN(n)){return o}if(!c.isArray(o)){l[q]=o=[]}while(o.length<n+1){o.push(true)}return o[n]},isGroupVisible:function(a){return this._isGroupVisible(a)},_isGroupVisible:function(a){var h=false;var l=this.seriesGroups[a].series;if(!l){return h}for(var n=0;n<l.length;n++){if(this._isSerieVisible(a,n)){h=true;break}}return h},_toggleSerie:function(l,u,q,t){var n=!this._isSerieVisible(l,u,q);if(t!=undefined){n=t}var a=this.seriesGroups[l];var o=a.series[u];this._raiseEvent("toggle",{state:n,seriesGroup:a,serie:o,elementIndex:q});if(isNaN(q)){this._itemsToggleState[l][u]=n}else{var s=this._itemsToggleState[l][u];if(!c.isArray(s)){s=[]}while(s.length<q){s.push(true)}s[q]=n}this._isToggleRefresh=true;this.update();this._isToggleRefresh=false},showSerie:function(a,h,f){this._toggleSerie(a,h,f,true)},hideSerie:function(a,h,f){this._toggleSerie(a,h,f,false)},_setLegendToggleHandler:function(a,t,n,q){var l=this.seriesGroups[a];var o=l.series[t];var u=o.enableSeriesToggle;if(u==undefined){u=l.enableSeriesToggle!=false}if(u){var s=this;this.renderer.addHandler(q,"click",function(d){s._toggleSerie(a,t,n)})}},_renderLegend:function(O,M){var E=this;var N=[];for(var a=0;a<E.seriesGroups.length;a++){var A=E.seriesGroups[a];if(A.showLegend==false){continue}for(var C=0;C<A.series.length;C++){var G=A.series[C];if(G.showLegend==false){continue}var s=E._getSerieSettings(a,C);var D;if(A.type=="pie"||A.type=="donut"){var I=E._getXAxis(a);var K=G.legendFormatSettings||A.legendFormatSettings||I.formatSettings||G.formatSettings||A.formatSettings;var F=G.legendFormatFunction||A.legendFormatFunction||I.formatFunction||G.formatFunction||A.formatFunction;var J=E._getDataLen(a);for(var B=0;B<J;B++){D=E._getDataValue(B,G.displayText,a);D=E._formatValue(D,K,F,a,C,B);var H=E._getColors(a,C,B);N.push({groupIndex:a,seriesIndex:C,itemIndex:B,text:D,css:G.displayTextClass,fillColor:H.fillColor,lineColor:H.lineColor,opacity:s.opacity})}continue}var K=G.legendFormatSettings||A.legendFormatSettings;var F=G.legendFormatFunction||A.legendFormatFunction;D=E._formatValue(G.displayText||G.dataField||"",K,F,a,C,NaN);var H=E._getSeriesColors(a,C);var L=this._get([G.legendFillColor,G.legendColor,H.fillColor]);var P=this._get([G.legendLineColor,G.legendColor,H.lineColor]);N.push({groupIndex:a,seriesIndex:C,text:D,css:G.displayTextClass,fillColor:L,lineColor:P,opacity:s.opacity})}}return E._renderChartLegend(N,O,M,(E.legendLayout&&E.legendLayout.flow=="vertical"))},_getInterval:function(a,f){var h=this._get([a.unitInterval,f]);if(!isNaN(a.step)){h=a.step*f}return h},_renderXAxis:function(aO,ax,ae,aP){var aM=this;var aD=aM._getXAxis(aO);var af=aM.seriesGroups[aO];var a=af.orientation=="horizontal";var ao={width:0,height:0};var ag=aM._getAxisSettings(aD);if(!aD||!ag.visible||af.type=="spider"){return ao}if(!aM._isGroupVisible(aO)||this._isPieGroup(aO)){return ao}var Z=aM._alignValuesWithTicks(aO);while(aM._renderData.length<aO+1){aM._renderData.push({})}if(aM.rtl){aD.flip=true}var av=a?ax.height:ax.width;var ay=aD.text;var aB=aM._calculateXOffsets(aO,av);var ac=aB.axisStats;var aL=aD.rangeSelector;var aq=0;if(aL){if(!this._moduleRangeSelector){throw"Please include 'jqxchart.rangeselector.js'"}aq=this._selectorGetSize(aD)}var ar=(a&&aD.position=="right")||(!a&&aD.position=="top");if(!ae&&aL){if(a){ax.width-=aq;if(aD.position!="right"){ax.x+=aq}}else{ax.height-=aq;if(aD.position=="top"){ax.y+=aq}}}var aK={rangeLength:aB.rangeLength,itemWidth:aB.itemWidth,intervalWidth:aB.intervalWidth,data:aB,settings:ag,isMirror:ar,rect:ax};aM._renderData[aO].xAxis=aK;var ap=ac.interval;if(isNaN(ap)){return ao}if(a){ag.title.angle-=90;ag.labels.angle-=90}var aI=this._getInterval(ag.gridLines,ap);var al=this._getInterval(ag.tickMarks,ap);var au=this._getInterval(ag.labels,ap);var ak;var aa=ac.min;var aC=ac.max;var ai=aB.padding;var ad=aD.flip==true||aM.rtl;if(aD.type=="date"){ag.gridLines.offsets=this._generateDTOffsets(aa,aC,av,ai,aI,ap,ac.dateTimeUnit,Z,NaN,false,ad);ag.tickMarks.offsets=this._generateDTOffsets(aa,aC,av,ai,al,ap,ac.dateTimeUnit,Z,NaN,false,ad);ak=this._generateDTOffsets(aa,aC,av,ai,au,ap,ac.dateTimeUnit,Z,NaN,true,ad)}else{ag.gridLines.offsets=this._generateOffsets(aa,aC,av,ai,aI,ap,Z,NaN,false,ad);ag.tickMarks.offsets=this._generateOffsets(aa,aC,av,ai,al,ap,Z,NaN,false,ad);ak=this._generateOffsets(aa,aC,av,ai,au,ap,Z,NaN,true,ad)}var aH=aM.renderer.getRect();var aJ=aH.width-ax.x-ax.width;var aF=aM._getDataLen(aO);var aG;if(aM._elementRenderInfo&&aM._elementRenderInfo.length>aO){aG=aM._elementRenderInfo[aO].xAxis}var aE=[];var am;if(ag.labels.formatFunction){am=ag.labels.formatFunction}var az;if(ag.labels.formatSettings){az=c.extend({},ag.labels.formatSettings)}if(aD.type=="date"){if(aD.dateFormat&&!am){if(az){az.dateFormat=az.dateFormat||aD.dateFormat}else{az={dateFormat:aD.dateFormat}}}else{if(!am&&(!az||(az&&!az.dateFormat))){am=this._getDefaultDTFormatFn(aD.baseUnit||"day")}}}for(var ah=0;ah<ak.length;ah++){var aj=ak[ah].value;var an=ak[ah].offset;var ab=undefined;if(aD.type!="date"&&ac.useIndeces&&aD.dataField){ab=Math.round(aj);aj=aM._getDataValue(ab,aD.dataField);if(aj==undefined){aj=""}}var ay=aM._formatValue(aj,az,am,aO,undefined,ab);if(ay==undefined||ay.toString()==""){if(isNaN(ab)){ab=ah}if(ab>=ac.filterRange.min&&ab<=ac.filterRange.max){ay=ac.useIndeces?(ac.min+ab).toString():(aj==undefined?"":aj.toString())}}var aQ={key:aj,text:ay,targetX:an,x:an};if(aG&&aG.itemOffsets[aj]){aQ.x=aG.itemOffsets[aj].x;aQ.y=aG.itemOffsets[aj].y}aE.push(aQ)}var at=aM._getAnimProps(aO);var aA=at.enabled&&aE.length<500?at.duration:0;if(aM.enableAxisTextAnimation==false){aA=0}var aw={items:aE,renderData:aK};var aN=aM._renderAxis(a,ar,ag,{x:ax.x,y:ax.y,width:ax.width,height:ax.height},aP,ap,false,true,aw,ae,aA);if(a){aN.width+=aq}else{aN.height+=aq}return aN},_animateAxisText:function(q,n){var u=q.items;var t=q.textSettings;for(var s=0;s<u.length;s++){var o=u[s];if(!o){continue}if(!o.visible){continue}var v=o.targetX;var a=o.targetY;if(!isNaN(o.x)&&!isNaN(o.y)){v=o.x+(v-o.x)*n;a=o.y+(a-o.y)*n}if(o.element){this.renderer.removeElement(o.element);o.element=undefined}o.element=this.renderer.text(o.text,v,a,o.width,o.height,t.angle,{"class":t.style},false,t.halign,t.valign,t.textRotationPoint)}},_getPolarAxisCoords:function(N,Q){var J=this.seriesGroups[N];var C=Q.x+c.jqx.getNum([J.offsetX,Q.width/2]);var D=Q.y+c.jqx.getNum([J.offsetY,Q.height/2]);var H=Math.min(Q.width,Q.height);var M=J.radius;if(this._isPercent(M)){M=parseFloat(M)/100*H/2}if(isNaN(M)){M=H/2*0.6}var K=this._alignValuesWithTicks(N);var E=this._get([J.startAngle,J.minAngle,0])-90;if(isNaN(E)){E=0}else{E=2*Math.PI*E/360}var F=this._get([J.endAngle,J.maxAngle,360])-90;if(isNaN(F)){F=2*Math.PI}else{F=2*Math.PI*F/360}if(E>F){var G=E;E=F;F=G}var a=c.jqx._rnd(Math.abs(E-F)/(Math.PI*2),0.001,true);var B=Math.PI*2*M*a;var L=this._calcGroupOffsets(N,Q).xoffsets;if(!L){return}var I=!(Math.abs(Math.abs(F-E)-Math.PI*2)>0.00001);if(J.spider){axisStats=this._getXAxisStats(N,this._getXAxis(N),B);var A=axisStats.interval;if(isNaN(A)||A==0){A=1}var O=(axisStats.max-axisStats.min)/A+(I?1:0);O=Math.round(O);if(O>2){var P=Math.cos(Math.abs(F-E)/2/O);P=c.jqx._rnd(P,0.01);if(P==0){P=1}var z=M/P;if(z>M&&K){M=z}}}M=c.jqx._ptrnd(M);return{x:C,y:D,r:M,adjR:this._get([z,M]),itemWidth:L.itemWidth,rangeLength:L.rangeLength,valuesOnTicks:K,startAngle:E,endAngle:F,isClosedCircle:I,axisSize:B}},_toPolarCoord:function(a,s,o,t){var v=Math.abs(a.startAngle-a.endAngle)/(Math.PI*2);var w=(o-s.x)*2*Math.PI*v/Math.max(1,s.width)+a.startAngle;var u=((s.height+s.y)-t)*a.r/Math.max(1,s.height);var n=a.x+u*Math.cos(w);var q=a.y+u*Math.sin(w);return{x:c.jqx._ptrnd(n),y:c.jqx._ptrnd(q)}},_renderSpiderAxis:function(br,aS){var bu=this;var aU=bu._getXAxis(br);var bT=this._getAxisSettings(aU);if(!aU||!bT.visible){return}var bO=bu.seriesGroups[br];var a4=bu._getPolarAxisCoords(br,aS);if(!a4){return}var ba=c.jqx._ptrnd(a4.x);var bb=c.jqx._ptrnd(a4.y);var aJ=a4.adjR;var bN=a4.startAngle;var a0=a4.endAngle;if(aJ<1){return}var bi=c.jqx._rnd(Math.abs(bN-a0)/(Math.PI*2),0.001,true);var aT=Math.PI*2*aJ*bi;var aY=a4.isClosedCircle;var bv=this._renderData[br].xoffsets;if(!bv.rangeLength){return}var a3=bv.axisStats.interval;if(isNaN(a3)||a3<1){a3=1}var bo=bO.orientation=="horizontal";var bL=(bo&&aU.position=="right")||(!bo&&aU.position=="top");while(bu._renderData.length<br+1){bu._renderData.push({})}var bm={rangeLength:bv.rangeLength,itemWidth:bv.itemWidth,data:bv,rect:aS,settings:bT};bu._renderData[br].xAxis=bm;bu._renderData[br].polarCoords=a4;var bV=true;for(var a5=0;a5<br;a5++){var bp=bu._renderData[a5].xAxis;var aZ=bu._renderData[a5].polarCoords;var bk=bu._getXAxis(a5);var a1=false;for(var a7 in a4){if(a4[a7]!=aZ[a7]){a1=true;break}}if(!a1||bk!=aU){bV=false}}var aW=bT.gridLines;var a2=bT.tickMarks;var bt=bT.labels;var bI=this._getInterval(aW,a3);var bQ=this._getInterval(a2,a3);var by=this._getInterval(bt,a3);var bf=bu._alignValuesWithTicks(br);var bH=bu.renderer;var bD;var bG=bv.axisStats;var bR=bG.min;var aL=bG.max;var a=this._getPaddingSize(bv.axisStats,aU,bf,aT,true,aY,false);var bC=aU.flip==true||bu.rtl;if(aU.type=="date"){aW.offsets=this._generateDTOffsets(bR,aL,aT,a,bI,a3,aU.baseUnit,true,0,false,bC);a2.offsets=this._generateDTOffsets(bR,aL,aT,a,bQ,a3,aU.baseUnit,true,0,false,bC);bD=this._generateDTOffsets(bR,aL,aT,a,by,a3,aU.baseUnit,true,0,true,bC)}else{aW.offsets=this._generateOffsets(bR,aL,aT,a,bI,a3,true,0,false,bC);a2.offsets=this._generateOffsets(bR,aL,aT,a,bQ,a3,true,0,false,bC);bD=this._generateOffsets(bR,aL,aT,a,by,a3,true,0,false,bC)}var bB=bu.renderer.getRect();var bX=bB.width-aS.x-aS.width;var bE=bu._getDataLen(br);var aK;if(bu._elementRenderInfo&&bu._elementRenderInfo.length>br){aK=bu._elementRenderInfo[br].xAxis}var bq=[];var bF=this._getDataLen(br);for(var a5=0;a5<bD.length;a5++){var bg=bD[a5].offset;var be=bD[a5].value;if(aU.type!="date"&&bG.useIndeces&&aU.dataField){var bW=Math.round(be);if(bW>=bF){continue}be=bu._getDataValue(bW,aU.dataField);if(be==undefined){be=""}}var bs=bu._formatValue(be,bt.formatSettings,bt.formatFunction,br,undefined,bW);if(bs==undefined||bs.toString()==""){bs=bG.useIndeces?(bG.min+a5).toString():(be==undefined?"":be.toString())}var aX={key:be,text:bs,targetX:bg,x:bg};if(aK&&aK.itemOffsets[be]){aX.x=aK.itemOffsets[be].x;aX.y=aK.itemOffsets[be].y}bq.push(aX)}var bU={items:bq,renderData:bm};var aR={stroke:aW.color,fill:"none","stroke-width":aW.width,"stroke-dasharray":aW.dashStyle||""};if(!bO.spider){if(bi==1){bH.circle(ba,bb,aJ,aR)}else{var bh=-bN/Math.PI*180;var bP=-a0/Math.PI*180;this.renderer.pieslice(ba,bb,0,aJ,Math.min(bh,bP),Math.max(bh,bP),undefined,aR)}}var a9=bq.length;var aQ=2*Math.PI/(a9);var bz=bN;var aV,bl;if(aW.visible&&bV){if(!bf&&!aY){aW.offsets.unshift({offset:-a.right})}for(var a5=0;a5<aW.offsets.length;a5++){var aP=aW.offsets[a5].offset;if(!bf){if(aY){aP+=a.right/2}else{aP+=a.right}}var bn=bz+aP*2*Math.PI*bi/Math.max(1,aT);if(bn-a0>0.01){continue}var aM=c.jqx._ptrnd(ba+aJ*Math.cos(bn));var aN=c.jqx._ptrnd(bb+aJ*Math.sin(bn));bH.line(ba,bb,aM,aN,aR)}}if(a2.visible&&bV){var a6=5;var aO={stroke:a2.color,fill:"none","stroke-width":a2.width,"stroke-dasharray":a2.dashStyle||""};if(!bf&&!aY){a2.offsets.unshift({offset:-a.right})}for(var a5=0;a5<a2.offsets.length;a5++){var aP=a2.offsets[a5].offset;if(!bf){if(aY){aP+=a.right/2}else{aP+=a.right}}var bn=bz+aP*2*Math.PI*bi/Math.max(1,aT);if(bn-a0>0.01){continue}var bJ={x:ba+aJ*Math.cos(bn),y:bb+aJ*Math.sin(bn)};var bK={x:ba+(aJ+a6)*Math.cos(bn),y:bb+(aJ+a6)*Math.sin(bn)};bH.line(c.jqx._ptrnd(bJ.x),c.jqx._ptrnd(bJ.y),c.jqx._ptrnd(bK.x),c.jqx._ptrnd(bK.y),aO)}}var bx=[];if(bO.spider){var bw=[];if(aU.type=="date"){bw=this._generateDTOffsets(bR,aL,aT,a,a3,a3,aU.baseUnit,true,0,false,bC)}else{bw=this._generateOffsets(bR,aL,aT,a,a3,a3,true,0,false,bC)}if(!bf&&!aY){bw.unshift({offset:-a.right})}for(var a5=0;a5<bw.length;a5++){var aP=bw[a5].offset;if(!bf){if(aY){aP+=a.right/2}else{aP+=a.right}}var bn=bz+aP*2*Math.PI*bi/Math.max(1,aT);if(bn-a0>0.01){continue}bx.push(bn)}bm.offsetAngles=bx}var bM=bu._renderSpiderValueAxis(br,aS,(bf?a4.adjR:a4.r),bx);if(!bM){bM=[]}if(bO.spider){if(!bf){for(var a5=0;a5<bM.length;a5++){bM[a5]=bM[a5]*a4.adjR/a4.r}}bM.push(aJ);this._renderSpiderLines(ba,bb,bM,a4,bx,aR)}if(bV&&bt.visible){bm.polarLabels=[];for(var a5=0;a5<bq.length;a5++){var aP=bq[a5].x;var bn=bz+aP*2*Math.PI*bi/Math.max(1,aT);bn=(360-bn/(2*Math.PI)*360)%360;if(bn<0){bn=360+bn}var bA=bH.measureText(bq[a5].text,0,{"class":bT.labels.style});var a8=(bf?a4.adjR:a4.r)+(a2.visible?7:2);var bj=bT.labels;var bS;if(bj.autoRotate){var bc=c.jqx._ptRotate(ba-bA.width/2,bb-a8-bA.height,ba,bb,-bn/180*Math.PI);var bd=c.jqx._ptRotate(ba+bA.width/2,bb-a8,ba,bb,-bn/180*Math.PI);bA.width=Math.abs(bc.x-bd.x);bA.height=Math.abs(bc.y-bd.y);bS={x:Math.min(bc.x,bd.x),y:Math.min(bc.y,bd.y)}}else{bS=this._adjustTextBoxPosition(ba,bb,bA,a8,bn,false,false,false)}bm.polarLabels.push({x:bS.x,y:bS.y,value:bq[a5].text});bH.text(bq[a5].text,bS.x,bS.y,bA.width,bA.height,bj.autoRotate?90-bn:bj.angle,{"class":bj.style},false,bj.halign,bj.valign)}}},_renderSpiderLines:function(K,M,a,H,N,Q){var E=this.renderer;var D=H.startAngle;var F=H.endAngle;var L=H.isClosedCircle;for(var C=0;C<a.length;C++){var O=a[C];var P=undefined,G=undefined;for(var B=0;B<N.length;B++){var A=N[B];var I=c.jqx._ptrnd(K+O*Math.cos(A));var J=c.jqx._ptrnd(M+O*Math.sin(A));if(P){E.line(P.x,P.y,I,J,Q)}P={x:I,y:J};if(!G){G={x:I,y:J}}}if(G&&L){E.line(P.x,P.y,G.x,G.y,Q)}}},_renderSpiderValueAxis:function(aQ,au,ag,ah){var aM=this;var aB=this.seriesGroups[aQ];var at=this._getPolarAxisCoords(aQ,au);if(!at){return}var ak=c.jqx._ptrnd(at.x);var am=c.jqx._ptrnd(at.y);ag=ag||at.r;var aO=at.startAngle;var aa=at.endAngle;var ac=c.jqx._rnd(Math.abs(aO-aa)/(Math.PI*2),0.001,true);if(ag<1){return}ag=c.jqx._ptrnd(ag);var aP=this._getValueAxis(aQ);settings=this._getAxisSettings(aP);if(!aP||false==settings.visible){return}var ao=this._stats.seriesGroups[aQ].mu;var ax=settings.labels;var ay=ax.formatSettings;var aS=aB.type.indexOf("stacked")!=-1&&aB.type.indexOf("100")!=-1;if(aS&&!ay){ay={sufix:"%"}}var aA=this._get([ax.step,ax.unitInterval/ao]);if(isNaN(aA)){aA=1}aA=Math.max(1,Math.round(aA));this._calcValueAxisItems(aQ,ag,aA);var aR=settings.gridLines;var aw=settings.tickMarks;var aE=this._getInterval(aR,ao);var aj=this._getInterval(aw,ao);var aK=settings.labels;var aL={stroke:aR.color,fill:"none","stroke-width":1,"stroke-dasharray":aR.dashStyle||""};var aH=this._renderData[aQ].valueAxis;var az=aH.items;if(az.length&&settings.line.visible){var aI=ak+Math.cos(aO)*ag;var a=am+Math.sin(aO)*ag;if(ah.indexOf(aO)==-1){var ae=c.extend({},aL);ae["stroke-width"]=settings.line.lineWidth;ae.stroke=settings.line.color;ae["stroke-dasharray"]=settings.line.dashStyle;this.renderer.line(ak,am,aI,a,ae)}}az=az.reverse();var ap=this.renderer;aH.polarLabels=[];for(var ab=0;ab<az.length-1;ab++){var ai=az[ab];if(isNaN(ai)){continue}var av=(aK.formatFunction)?aK.formatFunction(ai):this._formatNumber(ai,ay);var aN=ap.measureText(av,0,{"class":aK.style});var al=ak+(aP.showTickMarks!=false?3:2);var an=am-aH.itemWidth*ab-aN.height/2;var aC=aO;var aq=c.jqx._ptRotate(al,an,ak,am,aC);var ar=c.jqx._ptRotate(al+aN.width,an+aN.height,ak,am,aC);al=Math.min(aq.x,ar.x);an=Math.min(aq.y,ar.y);aN.width=Math.abs(aq.x-ar.x);aN.height=Math.abs(aq.y-ar.y);aH.polarLabels.push({x:al,y:an,value:av});ap.text(av,al,an,aN.width,aN.height,aK.autoRotate?(90+aO*180/Math.PI):aK.angle,{"class":aK.style},false,aK.halign,aK.valign)}var aF=aP.logarithmicScale==true;var aD=aF?az.length:aH.rangeLength;aIncrement=2*Math.PI/aD;var af=[];if(aR.visible||aB.spider){var aL={stroke:aR.color,fill:"none","stroke-width":1,"stroke-dasharray":aR.dashStyle||""};for(var ab=0;ab<aD;ab+=aE){var an=c.jqx._ptrnd(ag*ab/aD);if(aB.spider){af.push(an);continue}if(ac!=1){var aJ=-aO/Math.PI*180;var ad=-aa/Math.PI*180;this.renderer.pieslice(ak,am,0,an,Math.min(aJ,ad),Math.max(aJ,ad),undefined,aL)}else{ap.circle(ak,am,an,aL)}}}if(aw.visible){tickMarkSize=5;var aL={stroke:aw.color,fill:"none","stroke-width":1,"stroke-dasharray":aw.dashStyle||""};var aG=ak-Math.round(tickMarkSize/2);var aI=aG+tickMarkSize;for(var ab=0;ab<aD;ab+=aj){if(aR.visible&&(ab%aE)==0){continue}var an=c.jqx._ptrnd(am-ag*ab/aD);ap.line(c.jqx._ptrnd(aG),an,c.jqx._ptrnd(aI),an,aL)}}return af},_renderAxis:function(ak,ao,ab,at,aL,am,aD,a,ap,h,aK){if(ab.customDraw&&!h){return{width:NaN,height:NaN}}var aw=ab.title,aC=ab.labels,aJ=ab.gridLines,ar=ab.tickMarks,ac=ab.padding;var aB=ar.visible?ar.size:0;var aa=2;var al={width:0,height:0};var az={width:0,height:0};if(ak){al.height=az.height=at.height}else{al.width=az.width=at.width}if(!h&&ao){if(ak){at.x-=at.width}}var aE=ap.renderData;var aM=aE.itemWidth;if(aw.visible&&aw.text!=undefined&&aw!=""){var aA=aw.angle;var aI=this.renderer.measureText(aw.text,aA,{"class":aw.style});az.width=aI.width;az.height=aI.height;if(!h){this.renderer.text(aw.text,at.x+aw.offset.x+(ak?(!ao?aa+ac.left:-ac.right-aa+2*at.width-az.width):0),at.y+aw.offset.y+(!ak?(!ao?at.height-aa-az.height-ac.bottom:ac.top+aa):0),ak?az.width:at.width,!ak?az.height:at.height,aA,{"class":aw.style},true,aw.halign,aw.valign,aw.rotationPoint)}}var ag=0;var av=a?-aM/2:0;if(a&&!ak){aC.halign="center"}var ae=at.x;var af=at.y;var an=aC.textOffset;if(an){if(!isNaN(an.x)){ae+=an.x}if(!isNaN(an.y)){af+=an.y}}if(!ak){ae+=av;if(ao){af+=az.height>0?az.height+3*aa:2*aa;af+=aB-(a?aB:aB/4)}else{af+=a?aB:aB/4}af+=ac.top}else{ae+=ac.left+aa+(az.width>0?az.width+aa:0)+(ao?at.width-az.width:0);af+=av}var w=0;var ah=0;var ay=ap.items;aE.itemOffsets={};if(this._isToggleRefresh||!this._isUpdate){aK=0}var aF=false;var aG=0;for(var Z=0;Z<ay.length&&aC.visible;Z++,ag+=aM){if(!ay[Z]){continue}var au=ay[Z].text;if(!isNaN(ay[Z].targetX)){ag=ay[Z].targetX}var aI=this.renderer.measureText(au,aC.angle,{"class":aC.style});if(aI.width>ah){ah=aI.width}if(aI.height>w){w=aI.height}aG+=ak?w:ah;if(!h){if((ak&&ag>at.height+2)||(!ak&&ag>at.width+2)){break}var ai=ak?ae+(ao?(az.width==0?aB:aB-aa):0):ae+ag;var aj=ak?af+ag:af;aE.itemOffsets[ay[Z].key]={x:ai,y:aj};if(!aF){if(!isNaN(ay[Z].x)||!isNaN(ay[Z].y)&&aK){aF=true}}ay[Z].targetX=ai;ay[Z].targetY=aj;ay[Z].width=!ak?aM:at.width-ac.left-ac.right-2*aa-aB-((az.width>0)?az.width+aa:0);ay[Z].height=ak?aM:at.height-ac.top-ac.bottom-2*aa-aB-((az.height>0)?az.height+aa:0);ay[Z].visible=true}}aE.avgWidth=ay.length==0?0:aG/ay.length;if(!h){var ax={items:ay,textSettings:aC};if(isNaN(aK)||!aF){aK=0}this._animateAxisText(ax,aK==0?1:0);if(aK!=0){var aH=this;this._enqueueAnimation("series",undefined,undefined,aK,function(e,f,d){aH._animateAxisText(f,d)},ax)}}al.width+=2*aa+aB+az.width+ah+(ak&&az.width>0?aa:0);al.height+=2*aa+aB+az.height+w+(!ak&&az.height>0?aa:0);if(!ak){al.height+=ac.top+ac.bottom}else{al.width+=ac.left+ac.right}var aq={};if(!h&&ab.line.visible){var ad={stroke:ab.line.color,"stroke-width":ab.line.width,"stroke-dasharray":ab.line.dashStyle||""};if(ak){var ai=at.x+at.width+(ao?ac.left:-ac.right);ai=c.jqx._ptrnd(ai);this.renderer.line(ai,at.y,ai,at.y+at.height,ad)}else{var aj=c.jqx._ptrnd(at.y+(ao?at.height-ac.bottom:ac.top));this.renderer.line(c.jqx._ptrnd(at.x),aj,c.jqx._ptrnd(at.x+at.width+1),aj,ad)}}al.width=c.jqx._rup(al.width);al.height=c.jqx._rup(al.height);return al},_drawPlotAreaLines:function(af,Z,ah){var T=this.seriesGroups[af];var ak=T.orientation!="horizontal";if(!this._renderData||this._renderData.length<=af){return}var K=Z?"valueAxis":"xAxis";var N=this._renderData[af][K];if(!N){return}var ac=this._renderData.axisDrawState;if(!ac){ac=this._renderData.axisDrawState={}}var X="",ag;if(Z){X="valueAxis_"+((T.valueAxis)?af:"")+(ak?"swap":"");ag=this._getValueAxis(af)}else{X="xAxis_"+((T.xAxis||T.categoryAxis)?af:"")+(ak?"swap":"");ag=this._getXAxis(af)}if(ac[X]){ac=ac[X]}else{ac=ac[X]={}}if(!Z){ak=!ak}var M=N.settings;if(!M){return}if(M.customDraw){return}var O=M.gridLines,Y=M.tickMarks,P=M.padding;var ai=N.rect;var ae=this._plotRect;if(!O||!Y){return}var aa=0.5;var aj=[];var al={stroke:O.color,"stroke-width":O.width,"stroke-dasharray":O.dashStyle||""};var V=Z?ai.y+ai.height:ai.x;var ab=O.offsets;if(Z&&!ag.flip){ab=c.extend([],ab);ab=ab.reverse()}if(ab&&ab.length>0){for(var W=0;W<ab.length;W++){if(ak){Q=c.jqx._ptrnd(ai.y+ab[W].offset);if(Q<ai.y-aa){break}}else{Q=c.jqx._ptrnd(ai.x+ab[W].offset);if(Q>ai.x+ai.width+aa){break}}if(ah.gridLines&&O.visible!=false&&ac.gridLines!=true){if(ak){this.renderer.line(c.jqx._ptrnd(ae.x),Q,c.jqx._ptrnd(ae.x+ae.width),Q,al)}else{this.renderer.line(Q,c.jqx._ptrnd(ae.y),Q,c.jqx._ptrnd(ae.y+ae.height),al)}}aj[Q]=true;if(ah.alternatingBackground&&(O.alternatingBackgroundColor||O.alternatingBackgroundColor2)&&ac.alternatingBackground!=true){var ad=((W%2)==0)?O.alternatingBackgroundColor2:O.alternatingBackgroundColor;if(ad){var L;if(ak){L=this.renderer.rect(c.jqx._ptrnd(ae.x),V,c.jqx._ptrnd(ae.width-1),Q-V,al)}else{L=this.renderer.rect(V,c.jqx._ptrnd(ae.y),Q-V,c.jqx._ptrnd(ae.height),al)}this.renderer.attr(L,{"stroke-width":0,fill:ad,opacity:O.alternatingBackgroundOpacity||1})}V=Q}}}var al={stroke:Y.color,"stroke-width":Y.width,"stroke-dasharray":Y.dashStyle||""};if(ah.tickMarks&&Y.visible&&ac.tickMarks!=true){var R=Y.size;var ab=Y.offsets;for(var W=0;W<ab.length;W++){var Q=c.jqx._ptrnd((ak?ai.y+ab[W].offset:ai.x+ab[W].offset));if(aj[Q-1]){Q--}else{if(aj[Q+1]){Q++}}if(ak){if(Q>ai.y+ai.height+aa){break}}else{if(Q>ai.x+ai.width+aa){break}}var a=!N.isMirror?-R:R;if(ak){var S=ai.x+ai.width+(ag.position=="right"?P.left:-P.right);if(!Z){S=ai.x+(N.isMirror?P.left:-P.right+ai.width)}this.renderer.line(S,Q,S+a,Q,al)}else{var U=ai.y+(N.isMirror?ai.height:0);U+=N.isMirror?-P.bottom:P.top;U=c.jqx._ptrnd(U);this.renderer.line(Q,U,Q,U-a,al)}}}ac.tickMarks=ac.tickMarks||ah.tickMarks;ac.gridLines=ac.gridLines||ah.gridLines;ac.alternatingBackground=ac.alternatingBackground||ah.alternatingBackground},_calcValueAxisItems:function(N,R,L){var J=this._stats.seriesGroups[N];if(!J||!J.isValid){return false}var H=this.seriesGroups[N];var T=H.orientation=="horizontal";var P=this._getValueAxis(N);var K=P.valuesOnTicks!=false;var Q=P.dataField;var I=J.intervals;var D=R/I;var B=J.min;var E=J.mu;var S=P.logarithmicScale==true;var M=P.logarithmicScaleBase||10;var O=H.type.indexOf("stacked")!=-1&&H.type.indexOf("100")!=-1;if(S){E=!isNaN(P.unitInterval)?P.unitInterval:1}if(!K){I=Math.max(I-1,1)}while(this._renderData.length<N+1){this._renderData.push({})}this._renderData[N].valueAxis={};var F=this._renderData[N].valueAxis;F.itemWidth=F.intervalWidth=D;F.items=[];var G=F.items;for(var a=0;a<=I;a++){var C=0;if(S){if(O){C=J.max/Math.pow(M,I-a)}else{C=B*Math.pow(M,a)}}else{C=K?B+a*E:B+(a+0.5)*E}if(a%L!=0){G.push(NaN);continue}G.push(C)}F.rangeLength=S&&!O?J.intervals:(J.intervals)*E;if(P.flip!=true){G=G.reverse()}return true},_getDecimalPlaces:function(v,o,u){var n=0;if(isNaN(u)){u=10}for(var q=0;q<v.length;q++){var a=o===undefined?v[q]:v[q][o];if(isNaN(a)){continue}var t=a.toString();for(var s=0;s<t.length;s++){if(t[s]<"0"||t[s]>"9"){n=t.length-(s+1);if(n>=0){return Math.min(n,u)}}}if(n>0){a*=Math.pow(10,n)}while(Math.round(a)!=a&&n<u){n++;a*=10}}return n},_renderValueAxis:function(aC,al,X,aD){var Y=this.seriesGroups[aC];var a=Y.orientation=="horizontal";var ar=this._getValueAxis(aC);if(!ar){throw"SeriesGroup "+aC+" is missing valueAxis definition"}var ae={width:0,height:0};if(!this._isGroupVisible(aC)||this._isPieOnlySeries()||Y.type=="spider"){return ae}var U=ar.valuesOnTicks!=false;var ad=this._stats.seriesGroups[aC];var aA=ad.mu;var af=ar.logarithmicScale==true;var ai=ar.logarithmicScaleBase||10;if(af){aA=!isNaN(ar.unitInterval)?ar.unitInterval:1}if(aA==0){aA=1}if(isNaN(aA)){return ae}var aa=this._getAxisSettings(ar);var at=aa.title,ao=aa.labels;var av=this._get([ao.step,ao.unitInterval/aA]);if(isNaN(av)){av=1}av=Math.max(1,Math.round(av));if(!this._calcValueAxisItems(aC,(a?al.width:al.height),av)||!aa.visible){return ae}if(!a){at.angle=(!this.rtl?-90:90);if(at.rotationPoint=="centercenter"){if(at.valign=="top"){at.rotationPoint="rightcenter"}else{if(at.valign=="bottom"){at.rotationPoint="leftcenter"}}}}var az=this._renderData[aC].valueAxis;var aB=ao.formatSettings;var aF=Y.type.indexOf("stacked")!=-1&&Y.type.indexOf("100")!=-1;if(aF&&!aB){aB={sufix:"%"}}if(!ao.formatFunction&&(!aB||!aB.decimalPlaces)){aB=aB||{};aB.decimalPlaces=this._getDecimalPlaces([ad.min,ad.max,aA],undefined,3)}var au=[];var ax;if(this._elementRenderInfo&&this._elementRenderInfo.length>aC){ax=this._elementRenderInfo[aC].valueAxis}for(var Z=0;Z<az.items.length;Z++){var ab=az.items[Z];if(isNaN(ab)){au.push(undefined);continue}var am=(ao.formatFunction)?ao.formatFunction(ab):this._formatNumber(ab,aB);var aG={key:ab,text:am};if(ax&&ax.itemOffsets[ab]){aG.x=ax.itemOffsets[ab].x;aG.y=ax.itemOffsets[ab].y}au.push(aG)}if(af&&aA!=1){var aw=[];for(var Z=0;Z<au.length;Z++){if(Z%aA==0){aw.push(au[au.length-Z-1])}else{aw.push(undefined)}}au=aw.reverse()}var aE=aa.gridLines;var ay=af?aA:this._getInterval(aE,aA);var aj=a?al.width:al.height;var V=ad.logarithmic?ad.minPow:ad.min;var aq=ad.logarithmic?ad.maxPow:ad.max;var W=(ar.flip==true);if(aE.visible||ar.alternatingBackgroundColor||ar.alternatingBackgroundColor2){aE.offsets=this._generateOffsets(V,aq,aj,{left:0,right:0},ay,aA,true,0,false,!W);if(af&&!isNaN(aE.step)){var aw=[];for(var Z=0;Z<aE.offsets.length;Z+=aE.step){aw.push(aE.offsets[Z])}aE.offsets=aw}}var an=aa.tickMarks;var ac=af?aA:this._getInterval(an,aA);if(an.visible){an.offsets=this._generateOffsets(V,aq,aj,{left:0,right:0},ac,aA,true,0,false,!W);if(af&&!isNaN(an.step)){var aw=[];for(var Z=0;Z<an.offsets.length;Z+=an.step){aw.push(an.offsets[Z])}an.offsets=aw}}var ag=(a&&ar.position=="top")||(!a&&ar.position=="right")||(!a&&this.rtl&&ar.position!="left");var ak={items:au,renderData:az};var ah=this._getAnimProps(aC);var ap=ah.enabled&&au.length<500?ah.duration:0;if(this.enableAxisTextAnimation==false){ap=0}az.settings=aa;az.isMirror=ag;az.rect=al;return this._renderAxis(!a,ag,aa,al,aD,aA,af,U,ak,X,ap)},_generateOffsets:function(I,E,B,K,a,R,T,D,C,O){var P=[];var J=1;if(R<1){J=1000000;I*=J;E*=J;R*=J}var N=E-I;var L=B-K.left-K.right;if(N==0){if(C||T){P.push({offset:K.left+L/2,value:I/J})}else{P.push({offset:0,value:I/J})}return P}var H=L/N;var S=H*R;var Q=K.left;if(!T){if(!C){E+=R}}for(var F=I;F<=E;F+=R,Q+=S){P.push({offset:Q,value:F/J})}if(!T&&P.length>1){if(isNaN(D)){D=C?0:S/2}for(var F=0;F<P.length;F++){P[F].offset-=D;if(P[F].offset<=2){P[F].offset=0}if(P[F].offset>=B-2){P[F].offset=B}}}if(a>R){var G=[];var M=Math.round(a/R);for(var F=0;F<P.length;F++){if((F%M)==0){G.push({offset:P[F].offset,value:P[F].value})}}P=G}if(O){for(var F=0;F<P.length;F++){P[F].offset=B-P[F].offset}}return P},_generateDTOffsets:function(K,G,M,Q,L,aa,O,ab,a,P,W){if(!O){O="day"}var X=[];if(K>G){return X}if(K==G){if(P){X.push({offset:ab?M/2:Q.left,value:K})}else{if(ab){X.push({offset:M/2,value:K})}}return X}var U=M-Q.left-Q.right;var N=K;var T=Q.left;var Y=T;aa=Math.max(aa,1);var R=aa;var Z=Math.min(1,aa);if(aa>1&&O!="millisecond"){aa=1}while(c.jqx._ptrnd(Y)<=c.jqx._ptrnd(Q.left+U+(ab?0:Q.right))){X.push({offset:Y,value:N});var J=new Date(N.valueOf());if(O=="millisecond"){J.setMilliseconds(N.getMilliseconds()+aa)}else{if(O=="second"){J.setSeconds(N.getSeconds()+aa)}else{if(O=="minute"){J.setMinutes(N.getMinutes()+aa)}else{if(O=="hour"){var S=J.valueOf();J.setHours(N.getHours()+aa);if(S==J.valueOf()){J.setHours(N.getHours()+aa+1)}}else{if(O=="day"){J.setDate(N.getDate()+aa)}else{if(O=="month"){J.setMonth(N.getMonth()+aa)}else{if(O=="year"){J.setFullYear(N.getFullYear()+aa)}}}}}}}N=J;Y=T+(N.valueOf()-K.valueOf())*Z/(G.valueOf()-K.valueOf())*U}if(W){for(var H=0;H<X.length;H++){X[H].offset=M-X[H].offset}}if(R>1&&O!="millisecond"){var I=[];for(var H=0;H<X.length;H+=R){I.push({offset:X[H].offset,value:X[H].value})}X=I}if(!ab&&!P&&X.length>1){var I=[];I.push({offset:0,value:undefined});for(var H=1;H<X.length;H++){I.push({offset:X[H-1].offset+(X[H].offset-X[H-1].offset)/2,value:undefined})}var F=I.length;if(F>1){I.push({offset:I[F-1].offset+(I[F-1].offset-I[F-2].offset)})}else{I.push({offset:M,value:undefined})}X=I}if(L>aa){var I=[];var V=Math.round(L/R);for(var H=0;H<X.length;H++){if((H%V)==0){I.push({offset:X[H].offset,value:X[H].value})}}X=I}return X},_hasStackValueReversal:function(N,B){var L=this.seriesGroups[N];var K=-1!=L.type.indexOf("stacked");if(!K){return false}var Q=-1!=L.type.indexOf("waterfall");var D=this._getDataLen(N);var A=0;var I=false;var a=[];for(var F=0;F<L.series.length;F++){a[F]=this._isSerieVisible(N,F)}for(var E=0;E<D;E++){var H=(Q&&E!=0)?A:B;var O=0,C=0;var P=undefined;if(!Q){I=false}for(var G=0;G<L.series.length;G++){if(!a[G]){continue}val=this._getDataValueAsNumber(E,L.series[G].dataField,N);if(isNaN(val)){continue}if(L.series[G].summary){var M=this._getDataValue(E,L.series[G].summary,N);if(undefined!==M){continue}}var J=!I?val<B:val<0;I=true;if(P==undefined){P=J}if(J!=P){return true}P=J;A+=val}}return false},_getValueAxis:function(e){var a=e==undefined?this.valueAxis:this.seriesGroups[e].valueAxis||this.valueAxis;if(!a){a=this.valueAxis={}}return a},_buildStats:function(ap){var a={seriesGroups:[]};this._stats=a;for(var aI=0;aI<this.seriesGroups.length;aI++){var ax=this.seriesGroups[aI];a.seriesGroups[aI]={};var au=this._getXAxis(aI);var aM=this._getValueAxis(aI);var aK=this._getXAxisStats(aI,au,(ax.orientation=="vertical")?ap.width:ap.height);var aA=a.seriesGroups[aI];aA.isValid=true;var ao=(ax.orientation=="horizontal")?ap.width:ap.height;var am=aM.logarithmicScale==true;var an=aM.logarithmicScaleBase;if(isNaN(an)){an=10}var at=-1!=ax.type.indexOf("stacked");var aT=at&&-1!=ax.type.indexOf("100");var aq=-1!=ax.type.indexOf("range");var ag=ax.type.indexOf("waterfall")!=-1;if(ag&&!this._moduleWaterfall){throw"Please include 'jqxchart.waterfall.js'"}if(aT){aA.psums=[];aA.nsums=[]}var aH=NaN,ak=NaN;var aU=NaN,aS=NaN;var aJ=aM?aM.baselineValue:NaN;if(isNaN(aJ)){aJ=am&&!aT?1:0}var aR=false;if(aJ!=0&&at){aR=this._hasStackValueReversal(aI,aJ);if(aR){aJ=0}}if(at&&ag){aR=this._hasStackValueReversal(aI,aJ)}var ay=this._getDataLen(aI);var aV=0;var aF=NaN;var aN=[];if(ag){for(var aP=0;aP<ax.series.length;aP++){aN.push(NaN)}}var aE=NaN;for(var ad=0;ad<ay&&aA.isValid;ad++){if(au.rangeSelector){var aQ=au.dataField?this._getDataValue(ad,au.dataField,aI):ad;if(aQ&&aK.isDateTime){aQ=this._castAsDate(aQ,au.dateFormat)}if(aK.useIndeces){aQ=ad}if(aQ&&(aQ.valueOf()<aK.min.valueOf()||aQ.valueOf()>aK.max.valueOf())){continue}}var aD=aM.minValue;var av=aM.maxValue;if(aM.baselineValue){if(isNaN(aD)){aD=aJ}else{aD=Math.min(aJ,aD)}if(isNaN(av)){av=aJ}else{av=Math.max(aJ,av)}}var aG=0,aC=0;for(var aP=0;aP<ax.series.length;aP++){if(!this._isSerieVisible(aI,aP)){continue}var ar=NaN,ah=NaN,az=NaN;if(ax.type.indexOf("candle")!=-1||ax.type.indexOf("ohlc")!=-1){var aW=["Open","Low","Close","High"];for(var af in aW){var aO=this._getDataValueAsNumber(ad,ax.series[aP]["dataField"+aW[af]],aI);if(isNaN(aO)){continue}az=isNaN(ah)?aO:Math.min(az,aO);ah=isNaN(ah)?aO:Math.max(ah,aO)}}else{if(aq){var aB=this._getDataValueAsNumber(ad,ax.series[aP].dataFieldFrom,aI);var aw=this._getDataValueAsNumber(ad,ax.series[aP].dataFieldTo,aI);ah=Math.max(aB,aw);az=Math.min(aB,aw)}else{ar=this._getDataValueAsNumber(ad,ax.series[aP].dataField,aI);if(ag){if(this._isSummary(aI,ad)){var ae=this._getDataValue(ad,ax.series[aP].summary,aI);if(ae!==undefined){continue}}if(!at){if(isNaN(aN[aP])){aN[aP]=ar}else{ar+=aN[aP]}aN[aP]=ar}else{if(!isNaN(aE)){ar+=aE}aE=ar}}if(isNaN(ar)||(am&&ar<=0)){continue}az=ah=ar}}if((isNaN(av)||ah>av)&&((isNaN(aM.maxValue))?true:ah<=aM.maxValue)){av=ah}if((isNaN(aD)||az<aD)&&((isNaN(aM.minValue))?true:az>=aM.minValue)){aD=az}if(!isNaN(ar)&&at&&!ag){if(ar>aJ){aG+=ar}else{if(ar<aJ){aC+=ar}}}}if(!aT){if(!isNaN(aM.maxValue)){aG=Math.min(aM.maxValue,aG)}if(!isNaN(aM.minValue)){aC=Math.max(aM.minValue,aC)}}if(am&&aT){for(var aP=0;aP<ax.series.length;aP++){if(!this._isSerieVisible(aI,aP)){aF=0.01;continue}var ar=this._getDataValueAsNumber(ad,ax.series[aP].dataField,aI);if(isNaN(ar)||ar<=0){aF=0.01;continue}var aj=aG==0?0:ar/aG;if(isNaN(aF)||aj<aF){aF=aj}}}var aL=aG-aC;if(aV<aL){aV=aL}if(aT){aA.psums[ad]=aG;aA.nsums[ad]=aC}if(av>ak||isNaN(ak)){ak=av}if(aD<aH||isNaN(aH)){aH=aD}if(aG>aU||isNaN(aU)){aU=aG}if(aC<aS||isNaN(aS)){aS=aC}}if(aT){aU=aU==0?0:Math.max(aU,-aS);aS=aS==0?0:Math.min(aS,-aU)}if(aH==ak){if(aH==0){aH=-1;ak=1}else{if(aH<0){ak=0}else{if(!am){aH=0}else{if(aH==1){aH=aH/an;ak=ak*an}}}}}var ai={gmin:aH,gmax:ak,gsumP:aU,gsumN:aS,gbase:aJ,isLogAxis:am,logBase:an,minPercent:aF,gMaxRange:aV,isStacked:at,isStacked100:aT,isWaterfall:ag,hasStackValueReversal:aR,valueAxis:aM,valueAxisSize:ao};aA.context=ai}this._mergeCommonValueAxisStats();for(var ad=0;ad<a.seriesGroups.length;ad++){var aA=a.seriesGroups[ad];var al=this._calcOutputGroupStats(aA.context);for(var af in al){aA[af]=al[af]}delete aA.context}},_mergeCommonValueAxisStats:function(){var a={};for(var l=0;l<this.seriesGroups.length;l++){if(this.seriesGroups[l].valueAxis){continue}var n=this._stats.seriesGroups[l].context;if(isNaN(a.gmin)||a.gmin>n.gmin){a.gmin=n.gmin}if(isNaN(a.gmax)||a.gmax<n.gmax){a.gmax=n.gmax}if(isNaN(a.gsumP)||a.gsumP<n.gsumP){a.gsumP=n.gsumP}if(isNaN(a.gsumN)||a.gsumN<n.gsumN){a.gsumN=n.gsumN}if(isNaN(a.logBase)||a.logBase>n.logBase){a.logBase=n.logBase}if(isNaN(a.minPercent)||a.minPercent>n.minPercent){a.minPercent=n.minPercent}}for(var l=0;l<this.seriesGroups.length;l++){if(this.seriesGroups[l].valueAxis){continue}var q=this._stats.seriesGroups[l].context;for(var o in a){q[o]=a[o]}}},_calcOutputGroupStats:function(W){var aa=W.gmin,X=W.gmax,L=W.gsumP,J=W.gsumN,M=W.gbase,Z=W.isLogAxis,T=W.logBase,F=W.minPercent,S=W.gMaxRange,R=W.isStacked,V=W.isStacked100,Y=W.isWaterfall,O=W.hasStackValueReversal,N=W.valueAxis,a=W.valueAxisSize;var G=W.valueAxis.unitInterval;if(!G){G=this._calcInterval(R?J:aa,R?L:X,Math.max(a/80,2))}if(aa==X){aa=M;X=2*X}var U=NaN;var ab=0;var I=0;if(Z){if(V){U=0;var H=1;ab=I=c.jqx.log(100,T);while(H>F){H/=T;ab--;U++}aa=Math.pow(T,ab)}else{if(R&&!Y){X=Math.max(X,L)}I=c.jqx._rnd(c.jqx.log(X,T),1,true);X=Math.pow(T,I);ab=c.jqx._rnd(c.jqx.log(aa,T),1,false);aa=Math.pow(T,ab)}G=T}if(aa<J){J=aa}if(X>L){L=X}var P=Z?aa:c.jqx._rnd(R&&!Y?J:aa,G,false);var K=Z?X:c.jqx._rnd(R&&!Y?L:X,G,true);if(V&&K>100){K=100}if(V&&!Z){K=(K>0)?100:0;P=(P<0)?-100:0;G=N.unitInterval;if(isNaN(G)||G<=0||G>=100){G=10}if((100%G)!=0){for(;G>=1;G--){if((100%G)==0){break}}}}if(isNaN(K)||isNaN(P)||isNaN(G)){return{}}if(isNaN(U)){U=parseInt(((K-P)/(G==0?1:G)).toFixed())}if(Z&&!V){U=I-ab;S=Math.pow(T,U)}if(U<1){return{}}var Q={min:P,max:K,logarithmic:Z,logBase:T,base:Z?P:M,minPow:ab,maxPow:I,mu:G,maxRange:S,intervals:U,hasStackValueReversal:O};return Q},_getDataLen:function(a){var e=this.source;if(a!=undefined&&a!=-1&&this.seriesGroups[a].source){e=this.seriesGroups[a].source}if(e instanceof c.jqx.dataAdapter){e=e.records}if(e){return e.length}return 0},_getDataValue:function(n,a,h){var l=this.source;if(h!=undefined&&h!=-1){l=this.seriesGroups[h].source||l}if(l instanceof c.jqx.dataAdapter){l=l.records}if(!l||n<0||n>l.length-1){return undefined}if(c.isFunction(a)){return a(n,l)}return(a&&a!="")?l[n][a]:l[n]},_getDataValueAsNumber:function(n,a,l){var h=this._getDataValue(n,a,l);if(this._isDate(h)){return h.valueOf()}if(typeof(h)!="number"){h=parseFloat(h)}if(typeof(h)!="number"){h=undefined}return h},_isPieGroup:function(e){var a=this.seriesGroups[e];if(!a||!a.type){return false}return a.type.indexOf("pie")!=-1||a.type.indexOf("donut")!=-1},_renderPieSeries:function(S,U){var R=this._getDataLen(S);var Q=this.seriesGroups[S];var L=this._calcGroupOffsets(S,U).offsets;for(var F=0;F<Q.series.length;F++){var N=Q.series[F];if(N.customDraw){continue}var J=this._getSerieSettings(S,F);var P=N.colorScheme||Q.colorScheme||this.colorScheme;var D=this._getAnimProps(S,F);var V=D.enabled&&R<5000&&!this._isToggleRefresh&&this._isVML!=true?D.duration:0;if(c.jqx.mobile.isMobileBrowser()&&(this.renderer instanceof c.jqx.HTML5Renderer)){V=0}var s=this._get([N.minAngle,N.startAngle]);if(isNaN(s)||s<0||s>360){s=0}var G=this._get([N.maxAngle,N.endAngle]);if(isNaN(G)||G<0||G>360){G=360}var I={rect:U,minAngle:s,maxAngle:G,groupIndex:S,serieIndex:F,settings:J,items:[]};for(var a=0;a<R;a++){var K=L[F][a];if(!K.visible){continue}var E=K.fromAngle;var T=K.toAngle;var H=this.renderer.pieslice(K.x,K.y,K.innerRadius,K.outerRadius,E,V==0?T:E,K.centerOffset);this._setRenderInfo(S,F,a,{element:H});var O={displayValue:K.displayValue,itemIndex:a,visible:K.visible,x:K.x,y:K.y,innerRadius:K.innerRadius,outerRadius:K.outerRadius,fromAngle:E,toAngle:T,centerOffset:K.centerOffset};I.items.push(O)}this._animatePieSlices(I,0);var M=this;this._enqueueAnimation("series",undefined,undefined,V,function(e,d,f){M._animatePieSlices(d,f)},I)}},_sliceSortFunction:function(a,e){return a.fromAngle-e.fromAngle},_animatePieSlices:function(I,S){var N;if(this._elementRenderInfo&&this._elementRenderInfo.length>I.groupIndex&&this._elementRenderInfo[I.groupIndex].series&&this._elementRenderInfo[I.groupIndex].series.length>I.serieIndex){N=this._elementRenderInfo[I.groupIndex].series[I.serieIndex]}var P=360*S;var s=this.seriesGroups[I.groupIndex];var J=this._getLabelsSettings(I.groupIndex,I.serieIndex,NaN);var K=J.visible;var T=[];for(var C=0;C<I.items.length;C++){var H=I.items[C];if(!H.visible){continue}var G=H.fromAngle;var Q=H.fromAngle+S*(H.toAngle-H.fromAngle);if(N&&N[H.displayValue]){var L=N[H.displayValue].fromAngle;var R=N[H.displayValue].toAngle;G=L+(G-L)*S;Q=R+(Q-R)*S}T.push({index:C,from:G,to:Q})}if(N){T.sort(this._sliceSortFunction)}var F=NaN;for(var C=0;C<T.length;C++){var H=I.items[T[C].index];var E=this._getRenderInfo(I.groupIndex,I.serieIndex,H.itemIndex);var G=T[C].from;var Q=T[C].to;if(N){if(!isNaN(F)&&G>F){G=F}F=Q;if(C==T.length-1&&Q!=T[0].from){Q=I.maxAngle+T[0].from}}var D=this.renderer.pieSlicePath(H.x,H.y,H.innerRadius,H.outerRadius,G,Q,H.centerOffset);this.renderer.attr(E.element,{d:D});var O=this._getColors(I.groupIndex,I.serieIndex,H.itemIndex,"radialGradient",H.outerRadius);var a=I.settings;E.colors=O;E.settings=a;this.renderer.attr(E.element,{fill:O.fillColor,stroke:O.lineColor,"stroke-width":a.stroke,"fill-opacity":a.opacity,"stroke-opacity":a.opacity,"stroke-dasharray":"none"||a.dashStyle});var M=s.series[I.serieIndex];if(K){this._showPieLabel(I.groupIndex,I.serieIndex,H.itemIndex,J)}if(S==1){this._installHandlers(E.element,"pieslice",I.groupIndex,I.serieIndex,H.itemIndex)}}},_showPieLabel:function(ad,ac,N,S,ab){var Y=this._renderData[ad].offsets[ac][N];if(Y.elementInfo.labelElement){this.renderer.removeElement(Y.elementInfo.labelElement)}if(!S){S=this._getLabelsSettings(ad,ac,NaN)}if(!S.visible){return}var L=Y.fromAngle,s=Y.toAngle;var X=Math.abs(L-s);var O=X>180?1:0;if(X>360){L=0;s=360}var M=L*Math.PI*2/360;var aa=s*Math.PI*2/360;var Z=X/2+L;Z=Z%360;var K=Z*Math.PI*2/360;var a;if(S.autoRotate==true){a=Z<90||Z>270?360-Z:180-Z}var I=S.linesEnabled;var U=this._showLabel(ad,ac,N,{x:0,y:0,width:0,height:0},"center","center",true,false,false,a);var ae=S.radius||Y.outerRadius+Math.max(U.width,U.height);if(this._isPercent(ae)){ae=parseFloat(ae)/100*Math.min(this._plotRect.width,this._plotRect.height)/2}ae+=Y.centerOffset;if(isNaN(ab)){ab=0}ae+=ab;var R=this.seriesGroups[ad];var V=R.series[ac];var P=c.jqx.getNum([V.offsetX,R.offsetX,this._plotRect.width/2]);var Q=c.jqx.getNum([V.offsetY,R.offsetY,this._plotRect.height/2]);var af=this._plotRect.x+P;var ag=this._plotRect.y+Q;var T=this._adjustTextBoxPosition(af,ag,U,ae,Z,Y.outerRadius>ae,S.linesAngles!=false,S.autoRotate==true);var W={};Y.elementInfo.labelElement=this._showLabel(ad,ac,N,{x:T.x,y:T.y,width:U.width,height:U.height},"left","top",false,false,false,a,W);if(ae>Y.outerRadius+5&&I!=false){var J={lineColor:Y.elementInfo.colors.lineColor,stroke:Y.elementInfo.settings.stroke,opacity:Y.elementInfo.settings.opacity,dashStyle:Y.elementInfo.settings.dashStyle};Y.elementInfo.labelArrowPath=this._updateLebelArrowPath(Y.elementInfo.labelArrowPath,af,ag,ae,Y.outerRadius+ab,K,S.linesAngles!=false,J,W)}},_updateLebelArrowPath:function(G,B,E,C,z,D,a,F,J){var H=c.jqx._ptrnd(B+(C-0)*Math.cos(D));var v=c.jqx._ptrnd(E-(C-0)*Math.sin(D));var I=c.jqx._ptrnd(B+(z+2)*Math.cos(D));var w=c.jqx._ptrnd(E-(z+2)*Math.sin(D));var L=[];L.push({x:J.x+J.width/2,y:J.y});L.push({x:J.x+J.width/2,y:J.y+J.height});L.push({x:J.x,y:J.y+J.height/2});L.push({x:J.x+J.width,y:J.y+J.height/2});if(!a){L.push({x:J.x,y:J.y});L.push({x:J.x+J.width,y:J.y});L.push({x:J.x+J.width,y:J.y+J.height});L.push({x:J.x,y:J.y+J.height})}L=L.sort(function(d,e){return c.jqx._ptdist(d.x,d.y,B,E)-c.jqx._ptdist(e.x,e.y,B,E)});L=L.sort(function(d,e){return(Math.abs(d.x-B)+Math.abs(d.y-E))-(Math.abs(e.x-B)+Math.abs(e.y-E))});for(var A=0;A<L.length;A++){L[A].x=c.jqx._ptrnd(L[A].x);L[A].y=c.jqx._ptrnd(L[A].y)}H=L[0].x;v=L[0].y;var K="M "+H+","+v+" L"+I+","+w;if(a){K="M "+H+","+v+" L"+I+","+v+" L"+I+","+w}if(G){this.renderer.attr(G,{d:K})}else{G=this.renderer.path(K,{})}this.renderer.attr(G,{fill:"none",stroke:F.lineColor,"stroke-width":F.stroke,"stroke-opacity":F.opacity,"stroke-dasharray":"none"||F.dashStyle});return G},_adjustTextBoxPosition:function(L,M,E,K,w,O,J,D){var N=w*Math.PI*2/360;var H=c.jqx._ptrnd(L+K*Math.cos(N));var I=c.jqx._ptrnd(M-K*Math.sin(N));if(D){var G=E.width;var C=E.height;var h=Math.atan(C/G)%(Math.PI*2);var a=N%(Math.PI*2);var A=0,B=0;var F=0;if(a<=h){F=G/2*Math.cos(N)}else{if(a>=h&&a<Math.PI-h){F=(C/2)*Math.sin(N)}else{if(a>=Math.PI-h&&a<Math.PI+h){F=G/2*Math.cos(N)}else{if(a>=Math.PI+h&&a<2*Math.PI-h){F=C/2*Math.sin(N)}else{if(a>=2*Math.PI-h&&a<2*Math.PI){F=G/2*Math.cos(N)}}}}}K+=Math.abs(F)+3;var H=c.jqx._ptrnd(L+K*Math.cos(N));var I=c.jqx._ptrnd(M-K*Math.sin(N));H-=E.width/2;I-=E.height/2;return{x:H,y:I}}if(!O){if(!J){if(w>=0&&w<45||w>=315&&w<360){I-=E.height/2}else{if(w>=45&&w<135){I-=E.height;H-=E.width/2}else{if(w>=135&&w<225){I-=E.height/2;H-=E.width}else{if(w>=225&&w<315){H-=E.width/2}}}}}else{if(w>=90&&w<270){I-=E.height/2;H-=E.width}else{I-=E.height/2}}}else{H-=E.width/2;I-=E.height/2}return{x:H,y:I}},_isColumnType:function(a){return(a.indexOf("column")!=-1||a.indexOf("waterfall")!=-1)},_getColumnGroupsCount:function(o){var l=0;o=o||"vertical";var a=this.seriesGroups;for(var n=0;n<a.length;n++){var q=a[n].orientation||"vertical";if(this._isColumnType(a[n].type)&&q==o){l++}}return l},_getColumnGroupIndex:function(a){var s=0;var q=this.seriesGroups[a].orientation||"vertical";for(var n=0;n<a;n++){var l=this.seriesGroups[n];var o=l.orientation||"vertical";if(this._isColumnType(l.type)&&o==q){s++}}return s},_renderAxisBands:function(aN,au,al){var ax=al?this._getXAxis(aN):this._getValueAxis(aN);var aB=this.seriesGroups[aN];var az=al?undefined:aB.bands;if(!az){for(var ag=0;ag<aN;ag++){var aH=al?this._getXAxis(ag):this._getValueAxis(ag);if(aH==ax){return}}az=ax.bands}if(!c.isArray(az)){return}var aG=au;var aa=aB.orientation=="horizontal";if(aa){aG={x:au.y,y:au.x,width:au.height,height:au.width}}this._calcGroupOffsets(aN,aG);for(var ag=0;ag<az.length;ag++){var aP=az[ag];var ac=this._get([aP.minValue,aP.from]);var ay=this._get([aP.maxValue,aP.to]);var aC=al?this.getXAxisDataPointOffset(ac,aN):this.getValueAxisDataPointOffset(ac,aN);var ab=al?this.getXAxisDataPointOffset(ay,aN):this.getValueAxisDataPointOffset(ay,aN);var aw=Math.abs(aC-ab);var am;if(aB.polar||aB.spider){var aD=this._renderData[aN];var aO=aD.polarCoords;if(!al){var aq=this._toPolarCoord(aO,au,au.x,aD.baseOffset);var ar=this._toPolarCoord(aO,au,au.x,aC);var at=this._toPolarCoord(aO,au,au.x,ab);var aE=c.jqx._ptdist(aq.x,aq.y,ar.x,ar.y);var aF=c.jqx._ptdist(aq.x,aq.y,at.x,at.y);var aK=Math.round(-aO.startAngle*360/(2*Math.PI));var af=Math.round(-aO.endAngle*360/(2*Math.PI));if(aK>af){var an=aK;aK=af;af=an}if(aB.spider){var ap=aD.xAxis.offsetAngles;var ao="";var aj=[aF,aE];var av=ap;if(aO.isClosedCircle){av=c.extend([],ap);av.push(av[0])}for(var ak in aj){for(var ai=0;ai<av.length;ai++){var ad=ak==0?ai:ap.length-ai-1;var aJ=aO.x+aj[ak]*Math.cos(av[ad]);var aL=aO.y+aj[ak]*Math.sin(av[ad]);if(ao==""){ao+="M "}else{ao+=" L"}ao+=c.jqx._ptrnd(aJ)+","+c.jqx._ptrnd(aL)}if(ak==0){var aJ=aO.x+aj[1]*Math.cos(av[ad]);var aL=aO.y+aj[1]*Math.sin(av[ad]);ao+=" L"+c.jqx._ptrnd(aJ)+","+c.jqx._ptrnd(aL)}}ao+=" Z";am=this.renderer.path(ao)}else{am=this.renderer.pieslice(aO.x,aO.y,aE,aF,aK,af)}}else{if(aB.spider){p1=this.getPolarDataPointOffset(ac,this._stats.seriesGroups[aN].max,aN);p2=this.getPolarDataPointOffset(ay,this._stats.seriesGroups[aN].max,aN);var ao="M "+aO.x+","+aO.y;ao+=" L "+p1.x+","+p1.y;ao+=" L "+p2.x+","+p2.y;am=this.renderer.path(ao)}else{var aM={};var aI={x:Math.min(aC,ab),y:au.y,width:aw,height:au.height};this._columnAsPieSlice(aM,0,au,aO,aI);am=aM.element}}}else{var aQ={x:Math.min(aC,ab),y:aG.y,width:aw,height:aG.height};if(!al){aQ={x:aG.x,y:Math.min(aC,ab),width:aG.width,height:aw}}if(aa){var an=aQ.x;aQ.x=aQ.y;aQ.y=an;an=aQ.width;aQ.width=aQ.height;aQ.height=an}if(aw==0||aw==1){am=this.renderer.line(c.jqx._ptrnd(aQ.x),c.jqx._ptrnd(aQ.y),c.jqx._ptrnd(aQ.x+(aa?0:aQ.width)),c.jqx._ptrnd(aQ.y+(aa?aQ.height:0)))}else{am=this.renderer.rect(aQ.x,aQ.y,aQ.width,aQ.height)}}var a=aP.fillColor||aP.color||"#AAAAAA";var ae=aP.lineColor||a;var aA=aP.lineWidth;if(isNaN(aA)){aA=1}var ah=aP.opacity;if(isNaN(ah)||ah<0||ah>1){ah=1}this.renderer.attr(am,{fill:a,"fill-opacity":ah,stroke:ae,"stroke-opacity":ah,"stroke-width":aA,"stroke-dasharray":aP.dashStyle})}},_getColumnGroupWidth:function(s,z,a){var B=this.seriesGroups[s];var t=B.type.indexOf("stacked")!=-1;var C=t?1:B.series.length;var u=this._getColumnGroupsCount(B.orientation);if(isNaN(u)||0==u){u=1}var q=z.rangeLength>=1?z.itemWidth:a*0.9;var D=B.columnsMinWidth;if(isNaN(D)){D=1}if(!isNaN(B.columnsMaxWidth)){D=Math.min(B.columnsMaxWidth,D)}if(D>q&&z.length>0){q=Math.max(q,a*0.9/z.length)}var w=D;if(!t){var A=B.seriesGapPercent;if(isNaN(A)||A<0){A=10}A/=100;var E=D;E*=(1+A);w+=B.series.length*E}var v=Math.max(q/u,w);return{requiredWidth:w,availableWidth:q,targetWidth:v}},_getColumnSerieWidthAndOffset:function(ae,ad){var V=this.seriesGroups[ae];var a=V.series[ad];var af=V.orientation=="horizontal";var ag=this._plotRect;if(af){ag={x:ag.y,y:ag.x,width:ag.height,height:ag.width}}var T=this._calcGroupOffsets(ae,ag);if(!T||T.xoffsets.length==0){return}var W=true;var S=this._getColumnGroupsCount(V.orientation);if(V.type=="candlestick"||V.type=="ohlc"){S=1}var M=this._getColumnGroupIndex(ae);var K=this._getColumnGroupWidth(ae,T.xoffsets,af?ag.height:ag.width);var aa=0;var ac=K.targetWidth;if(this.columnSeriesOverlap==true||(Math.round(ac)>Math.round(K.availableWidth/S))){S=1;M=0}if(W){aa-=(ac*S)/2}aa+=ac*M;var J=V.columnsGapPercent;if(J<=0){J=0}if(isNaN(J)||J>=100){J=25}J/=100;var X=ac*J;if(X+K.requiredWidth>K.targetWidth){X=Math.max(0,K.targetWidth-K.requiredWidth)}if(Math.round(ac)>Math.round(K.availableWidth)){X=0}ac-=X;aa+=X/2;var Q=V.seriesGapPercent;if(isNaN(Q)||Q<0){Q=10}var U=V.type.indexOf("stacked")!=-1;var I=ac;if(!U){I/=V.series.length}var P=this._get([V.seriesGap,(ac*Q/100)/(V.series.length-1)]);if(V.polar==true||V.spider==true||U||V.series.length<=1){P=0}var R=P*(V.series.length-1);if(V.series.length>1&&R>ac-V.series.length*1){R=ac-V.series.length*1;P=R/Math.max(1,(V.series.length-1))}var ab=I-(R/V.series.length);var L=0;var Z=V.columnsMaxWidth;if(!isNaN(Z)){if(ab>Z){L=ab-Z;ab=Z}}var O=L/2;var Y=0;if(!U){var s=(ac-(ab*V.series.length)-R)/2;var N=Math.max(0,ad);Y=s+ab*ad+N*P}else{Y=L/2}return{width:ab,offset:aa+Y}},_renderColumnSeries:function(V,Y){var S=this.seriesGroups[V];if(!S.series||S.series.length==0){return}var T=this._getDataLen(V);var W=S.orientation=="horizontal";var J=Y;if(W){J={x:Y.y,y:Y.x,width:Y.height,height:Y.width}}var I=this._calcGroupOffsets(V,J);if(!I||I.xoffsets.length==0){return}var P;if(S.polar==true||S.spider==true){P=this._getPolarAxisCoords(V,J)}var F={groupIndex:V,rect:Y,vertical:!W,seriesCtx:[],renderData:I,polarAxisCoords:P};F.columnGroupWidth=this._getColumnGroupWidth(V,I.xoffsets,W?J.height:J.width);var U=this._getGroupGradientType(V);for(var s=0;s<S.series.length;s++){var O=S.series[s];if(O.customDraw){continue}var M=O.dataField;var a=this._getAnimProps(V,s);var Z=a.enabled&&!this._isToggleRefresh&&I.xoffsets.length<100?a.duration:0;var R=this._getColumnSerieWidthAndOffset(V,s);var G=this._isSerieVisible(V,s);var Q=this._getSerieSettings(V,s);var H=this._getColors(V,s,NaN,this._getGroupGradientType(V),4);var X=[];if(c.isFunction(O.colorFunction)&&!P){for(var K=I.xoffsets.first;K<=I.xoffsets.last;K++){X.push(this._getColors(V,s,K,U,4))}}var N={seriesIndex:s,serieColors:H,itemsColors:X,settings:Q,columnWidth:R.width,xAdjust:R.offset,isVisible:G};F.seriesCtx.push(N)}this._animColumns(F,Z==0?1:0);var L=this;this._enqueueAnimation("series",undefined,undefined,Z,function(e,d,f){L._animColumns(d,f)},F)},_getPercent:function(h,l,n,a){if(isNaN(h)){h=l}if(!isNaN(n)&&!isNaN(h)&&h<n){h=n}if(!isNaN(a)&&!isNaN(h)&&h>a){h=a}if(isNaN(h)){return NaN}return h},_getColumnVOffsets:function(aq,av,az,ad,ak,aB){var ao=this.seriesGroups[av];var Z=this._getPercent(ao.columnsTopWidthPercent,100,0,100);var aj=this._getPercent(ao.columnsBottomWidthPercent,100,0,100);if(Z==0&&aj==0){aj=100}var X=this._getPercent(ao.columnsNeckHeightPercent,NaN,0,100)/100;var ac=this._getPercent(ao.columnsNeckWidthPercent,100,0,100)/100;var am=[];var Y=NaN;for(var an=0;an<az.length;an++){var T=az[an];var au=T.seriesIndex;var aa=ao.series[au];var ap=aq.offsets[au][ad].from;var a=aq.offsets[au][ad].to;var ah=aq.xoffsets.data[ad];var ax;var aw=T.isVisible;if(!aw){a=ap}var aC=this._elementRenderInfo;if(aw&&aC&&aC.length>av&&aC[av].series.length>au){var ab=aq.xoffsets.xvalues[ad];ax=aC[av].series[au][ab];if(ax&&!isNaN(ax.from)&&!isNaN(ax.to)){ap=ax.from+(ap-ax.from)*aB;a=ax.to+(a-ax.to)*aB;ah=ax.xoffset+(ah-ax.xoffset)*aB}}if(!ax){a=ap+(a-ap)*(ak?1:aB)}if(isNaN(ap)){ap=isNaN(Y)?aq.baseOffset:Y}if(!isNaN(a)&&ak){Y=a}else{Y=ap}if(isNaN(a)){a=ap}var ae={from:ap,to:a,xOffset:ah};if(Z!=100||aj!=100){ae.funnel=true;ae.toWidthPercent=Z;ae.fromWidthPercent=aj}am.push(ae)}if(ak&&am.length>1&&!(this._elementRenderInfo&&this._elementRenderInfo.length>av)){var at=0,ar=0,W=-Infinity,ai=Infinity,V=Infinity,af=-Infinity;for(var U=0;U<am.length;U++){var T=az[U];if(T.isVisible){if(am[U].to>=am[U].from){ar+=am[U].to-am[U].from;V=Math.min(V,am[U].from);af=Math.max(af,am[U].to)}else{at+=am[U].from-am[U].to;W=Math.max(W,am[U].from);ai=Math.min(ai,am[U].to)}}}var s=at;var al=ar;at*=aB;ar*=aB;var aA=0,ay=0;for(var U=0;U<am.length;U++){if(am[U].to>=am[U].from){var ag=am[U].to-am[U].from;if(ag+ay>ar){ag=Math.max(0,ar-ay);am[U].to=am[U].from+ag}if(Z!=100||aj!=100){am[U].funnel=true;if(!isNaN(X)&&al*X>=ay){am[U].fromWidthPercent=ac*100}else{am[U].fromWidthPercent=(Math.abs(am[U].from-V)/al)*(Z-aj)+aj}if(!isNaN(X)&&al*X>=(0+(ay+ag))){am[U].toWidthPercent=ac*100}else{am[U].toWidthPercent=(Math.abs(am[U].to-V)/al)*(Z-aj)+aj}}ay+=ag}else{var ag=am[U].from-am[U].to;if(ag+aA>at){ag=Math.max(0,at-aA);am[U].to=am[U].from-ag}if(Z!=100||aj!=100){am[U].funnel=true;if(!isNaN(X)&&s*X>=aA){am[U].fromWidthPercent=ac*100}else{am[U].fromWidthPercent=(Math.abs(am[U].from-W)/s)*(Z-aj)+aj}if(!isNaN(X)&&s*X>=(0+(aA+ag))){am[U].toWidthPercent=ac*100}else{am[U].toWidthPercent=(Math.abs(am[U].to-W)/s)*(Z-aj)+aj}}aA+=ag}}}return am},_columnAsPieSlice:function(E,v,t,a){var D=this._toPolarCoord(t,v,a.x,a.y);var C=this._toPolarCoord(t,v,a.x,a.y+a.height);var u=c.jqx._ptdist(t.x,t.y,C.x,C.y);var z=c.jqx._ptdist(t.x,t.y,D.x,D.y);var F=v.width;var s=Math.abs(t.startAngle-t.endAngle)*180/Math.PI;var G=-((a.x-v.x)*s)/F;var A=-((a.x+a.width-v.x)*s)/F;var w=t.startAngle;w=360*w/(Math.PI*2);G-=w;A-=w;if(E){if(E.element!=undefined){var B=this.renderer.pieSlicePath(t.x,t.y,u,z,A,G,0);B+=" Z";this.renderer.attr(E.element,{d:B})}else{E.element=this.renderer.pieslice(t.x,t.y,u,z,A,G,0)}}return{fromAngle:A,toAngle:G,innerRadius:u,outerRadius:z}},_setRenderInfo:function(a,n,h,l){this._renderData[a].offsets[n][h].elementInfo=l},_getRenderInfo:function(a,h,f){return this._renderData[a].offsets[h][f].elementInfo||{}},_animColumns:function(aG,bh){var a7=this;var a6=aG.groupIndex;var aS=this.seriesGroups[a6];var a0=aG.renderData;var aV=aS.type.indexOf("waterfall")!=-1;var aI=this._getXAxis(a6);var aE=aS.type.indexOf("stacked")!=-1;var bg=aG.polarAxisCoords;var aU=this._getGroupGradientType(a6);var a4=aG.columnGroupWidth.targetWidth;var aW=-1;for(var aT=0;aT<aS.series.length;aT++){if(this._isSerieVisible(a6,aT)){aW=aT;break}}var aD=NaN,a3=NaN;for(var aT=0;aT<aG.seriesCtx.length;aT++){var aH=aG.seriesCtx[aT];if(isNaN(aD)||aD>aH.xAdjust){aD=aH.xAdjust}if(isNaN(a3)||a3<aH.xAdjust+aH.columnWidth){a3=aH.xAdjust+aH.columnWidth}}var a5=Math.abs(a3-aD);var aO=this._get([aS.columnsGapPercent,25])/100;if(isNaN(aO)<0||aO>=1){aO=0.25}var bf=aO*a5;var aX=aG.renderData.xoffsets;var ar=-1;var aw={};var at=aS.skipOverlappingPoints==true;for(var aP=aX.first;aP<=aX.last;aP++){var ao=aX.data[aP];if(isNaN(ao)){continue}if(ar!=-1&&Math.abs(ao-ar)<(a5-1+bf)&&at){continue}else{ar=ao}var aK=this._getColumnVOffsets(a0,a6,aG.seriesCtx,aP,aE,bh);var az=false;if(aV){for(var aQ=0;aQ<aS.series.length;aQ++){if(aS.series[aQ].summary&&aX.xvalues[aP][aS.series[aQ].summary]){az=true}}}for(var aQ=0;aQ<aG.seriesCtx.length;aQ++){var aH=aG.seriesCtx[aQ];var ba=aH.seriesIndex;var aM=aS.series[ba];var aY=aK[aQ].from;var aC=aK[aQ].to;var aA=aK[aQ].xOffset;var be=(aG.vertical?aG.rect.x:aG.rect.y)+aH.xAdjust;var aN=aH.settings;var a=aH.itemsColors.length!=0?aH.itemsColors[aP-a0.xoffsets.first]:aH.serieColors;var bd=this._isSerieVisible(a6,ba);if(!bd){continue}var ao=c.jqx._ptrnd(be+aA);var au={x:ao,width:aH.columnWidth};if(aK[aQ].funnel){au.fromWidthPercent=aK[aQ].fromWidthPercent;au.toWidthPercent=aK[aQ].toWidthPercent}var bc=true;if(aG.vertical){au.y=aY;au.height=aC-aY;if(au.height<0){au.y+=au.height;au.height=-au.height;bc=false}}else{au.x=aY<aC?aY:aC;au.width=Math.abs(aY-aC);bc=aY-aC<0;au.y=ao;au.height=aH.columnWidth}var a9=aY-aC;if(isNaN(a9)){continue}a9=Math.abs(a9);var aF=undefined;var bi=a7._getRenderInfo(a6,ba,aP);var a2=bi.element;var av=bi.labelElement;var ax=a2==undefined;if(av){a7.renderer.removeElement(av);av=undefined}if(!bg){if(aK[aQ].funnel){var aZ=this._getTrapezoidPath(c.extend({},au),aG.vertical,bc);if(ax){a2=this.renderer.path(aZ,{})}else{this.renderer.attr(a2,{d:aZ})}}else{if(ax){a2=this.renderer.rect(au.x,au.y,aG.vertical?au.width:0,aG.vertical?0:au.height)}else{if(aG.vertical==true){this.renderer.attr(a2,{x:au.x,y:au.y,height:a9})}else{this.renderer.attr(a2,{x:au.x,y:au.y,width:a9})}}}}else{var bb={element:a2};aF=this._columnAsPieSlice(bb,aG.rect,bg,au);a2=bb.element;var a=this._getColors(a6,ba,undefined,"radialGradient",aF.outerRadius)}if(a9<1&&(bh!=1||bg)){this.renderer.attr(a2,{display:"none"})}else{this.renderer.attr(a2,{display:"block"})}if(ax){this.renderer.attr(a2,{fill:a.fillColor,"fill-opacity":aN.opacity,"stroke-opacity":aN.opacity,stroke:a.lineColor,"stroke-width":aN.stroke,"stroke-dasharray":aN.dashStyle})}if(av){this.renderer.removeElement(av)}if(!bd||(a9==0&&bh<1)){bi={element:a2,labelElement:av};a7._setRenderInfo(a6,ba,aP,bi);continue}if(aV&&this._get([aM.showWaterfallLines,aS.showWaterfallLines])!=false){if(!aE||(aE&&aQ==aW)){var aR=aE?-1:aQ;if(bh==1&&!isNaN(a0.offsets[aQ][aP].from)&&!isNaN(a0.offsets[aQ][aP].to)){var ay=aw[aR];if(ay!=undefined){var aJ={x:ay.x,y:c.jqx._ptrnd(ay.y)};var aL={x:ao,y:aJ.y};var aq=aS.columnsTopWidthPercent/100;if(isNaN(aq)){aq=1}else{if(aq>1||aq<0){aq=1}}var a1=aS.columnsBottomWidthPercent/100;if(isNaN(a1)){a1=1}else{if(a1>1||a1<0){a1=1}}var a8=aG.vertical?au.width:au.height;aJ.x=aJ.x-a8/2+a8/2*aq;if(az){var bj=a8*aq/2;aL.x=aL.x+a8/2-(aI.flip?-bj:bj)}else{var bj=a8*a1/2;aL.x=aL.x+a8/2-(aI.flip?-bj:bj)}if(!aG.vertical){this._swapXY([aJ]);this._swapXY([aL])}this.renderer.line(aJ.x,aJ.y,aL.x,aL.y,{stroke:ay.color,"stroke-width":aN.stroke,"stroke-opacity":aN.opacity,"fill-opacity":aN.opacity,"stroke-dasharray":aN.dashStyle})}}}if(bh==1&&a9!=0){aw[aE?-1:aQ]={y:aC,x:(aG.vertical?au.x+au.width:au.y+au.height),color:a.lineColor}}}if(bg){var ap=this._toPolarCoord(bg,aG.rect,au.x+au.width/2,au.y);var a8=this._showLabel(a6,ba,aP,au,undefined,undefined,true);var aB=aF.outerRadius+10;labelOffset=this._adjustTextBoxPosition(bg.x,bg.y,a8,aB,(aF.fromAngle+aF.toAngle)/2,true,false,false);av=this._showLabel(a6,ba,aP,{x:labelOffset.x,y:labelOffset.y},undefined,undefined,false,false,false)}else{av=this._showLabel(a6,ba,aP,au,undefined,undefined,false,false,bc)}bi={element:a2,labelElement:av};a7._setRenderInfo(a6,ba,aP,bi);if(bh==1){this._installHandlers(a2,"column",a6,ba,aP)}}}},_getTrapezoidPath:function(t,s,u){var a="";var A=t.fromWidthPercent/100;var z=t.toWidthPercent/100;if(!s){var v=t.width;t.width=t.height;t.height=v;v=t.x;t.x=t.y;t.y=v}var q=t.x+t.width/2;var o=[{x:q-t.width*(!u?A:z)/2,y:t.y+t.height},{x:q-t.width*(!u?z:A)/2,y:t.y},{x:q+t.width*(!u?z:A)/2,y:t.y},{x:q+t.width*(!u?A:z)/2,y:t.y+t.height}];if(!s){this._swapXY(o)}a+="M "+c.jqx._ptrnd(o[0].x)+","+c.jqx._ptrnd(o[0].y);for(var w=1;w<o.length;w++){a+=" L "+c.jqx._ptrnd(o[w].x)+","+c.jqx._ptrnd(o[w].y)}a+=" Z";return a},_swapXY:function(a){for(var f=0;f<a.length;f++){var h=a[f].x;a[f].x=a[f].y;a[f].y=h}},_renderCandleStickSeries:function(R,T,s){var J=this;var O=J.seriesGroups[R];if(!O.series||O.series.length==0){return}var S=O.orientation=="horizontal";var H=T;if(S){H={x:T.y,y:T.x,width:T.height,height:T.width}}var I=J._calcGroupOffsets(R,H);if(!I||I.xoffsets.length==0){return}var G=H.width;var L;if(O.polar||O.spider){L=J._getPolarAxisCoords(R,H);G=2*L.r}var P=J._alignValuesWithTicks(R);var Q=J._getGroupGradientType(R);var N=[];for(var E=0;E<O.series.length;E++){N[E]=J._getColumnSerieWidthAndOffset(R,E)}for(var E=0;E<O.series.length;E++){if(!this._isSerieVisible(R,E)){continue}var a=J._getSerieSettings(R,E);var K=O.series[E];if(K.customDraw){continue}var M=c.isFunction(K.colorFunction)?undefined:J._getColors(R,E,NaN,Q);var F={rect:T,inverse:S,groupIndex:R,seriesIndex:E,symbolType:K.symbolType,symbolSize:K.symbolSize,"fill-opacity":a.opacity,"stroke-opacity":a.opacity,"stroke-width":a.stroke,"stroke-dasharray":a.dashStyle,gradientType:Q,colors:M,renderData:I,polarAxisCoords:L,columnsInfo:N,isOHLC:s,items:[],self:J};var D=J._getAnimProps(R,E);var U=D.enabled&&!J._isToggleRefresh&&I.xoffsets.length<5000?D.duration:0;J._animCandleStick(F,0);var C;J._enqueueAnimation("series",undefined,undefined,U,function(e,d,f){J._animCandleStick(d,f)},F)}},_animCandleStick:function(L,ai){var R=["Open","Low","Close","High"];var af=L.columnsInfo[L.seriesIndex].width;var ad=L.self.seriesGroups[L.groupIndex];var X=L.renderData.xoffsets;var K=-1;var Y=Math.abs(X.data[X.last]-X.data[X.first]);Y*=ai;var ah=NaN,P=NaN;for(var U=0;U<L.columnsInfo.length;U++){var W=L.columnsInfo[U];if(isNaN(ah)||ah>W.offset){ah=W.offset}if(isNaN(P)||P<W.offset+W.width){P=W.offset+W.width}}var Z=Math.abs(P-ah);var Q=ad.skipOverlappingPoints!=false;for(var T=X.first;T<=X.last;T++){var aa=X.data[T];if(isNaN(aa)){continue}if(K!=-1&&Math.abs(aa-K)<Z&&Q){continue}var O=Math.abs(X.data[T]-X.data[X.first]);if(O>Y){break}K=aa;var N=L.items[T]=L.items[T]||{};for(var U in R){var J=L.self._getDataValueAsNumber(T,ad.series[L.seriesIndex]["dataField"+R[U]],L.groupIndex);if(isNaN(J)){break}var ab=L.renderData.offsets[L.seriesIndex][T][R[U]];if(isNaN(ab)){break}N[R[U]]=ab}aa+=L.inverse?L.rect.y:L.rect.x;if(L.polarAxisCoords){var M=this._toPolarCoord(L.polarAxisCoords,this._plotRect,aa,ab);aa=M.x;ab=M.y}aa=c.jqx._ptrnd(aa);for(var ae in R){N[ae]=c.jqx._ptrnd(N[ae])}var ac=L.colors;if(!ac){ac=L.self._getColors(L.groupIndex,L.seriesIndex,T,L.gradientType)}if(!L.isOHLC){var a=N.lineElement;if(!a){a=L.inverse?this.renderer.line(N.Low,aa,N.High,aa):this.renderer.line(aa,N.Low,aa,N.High);this.renderer.attr(a,{fill:ac.fillColor,"fill-opacity":L["fill-opacity"],"stroke-opacity":L["fill-opacity"],stroke:ac.lineColor,"stroke-width":L["stroke-width"],"stroke-dasharray":L["stroke-dasharray"]});N.lineElement=a}var S=N.stickElement;aa-=af/2;if(!S){var ag=ac.fillColor;if(N.Close<=N.Open&&ac.fillColorAlt){ag=ac.fillColorAlt}S=L.inverse?this.renderer.rect(Math.min(N.Open,N.Close),aa,Math.abs(N.Close-N.Open),af):this.renderer.rect(aa,Math.min(N.Open,N.Close),af,Math.abs(N.Close-N.Open));this.renderer.attr(S,{fill:ag,"fill-opacity":L["fill-opacity"],"stroke-opacity":L["fill-opacity"],stroke:ac.lineColor,"stroke-width":L["stroke-width"],"stroke-dasharray":L["stroke-dasharray"]});N.stickElement=S}if(ai==1){this._installHandlers(S,"column",L.groupIndex,L.seriesIndex,T)}}else{var V="M"+aa+","+N.Low+" L"+aa+","+N.High+" M"+(aa-af/2)+","+N.Open+" L"+aa+","+N.Open+" M"+(aa+af/2)+","+N.Close+" L"+aa+","+N.Close;if(L.inverse){V="M"+N.Low+","+aa+" L"+N.High+","+aa+" M"+N.Open+","+(aa-af/2)+" L"+N.Open+","+aa+" M"+N.Close+","+aa+" L"+N.Close+","+(aa+af/2)}var a=N.lineElement;if(!a){a=this.renderer.path(V,{});this.renderer.attr(a,{fill:ac.fillColor,"fill-opacity":L["fill-opacity"],"stroke-opacity":L["fill-opacity"],stroke:ac.lineColor,"stroke-width":L["stroke-width"],"stroke-dasharray":L["stroke-dasharray"]});N.lineElement=a}if(ai==1){this._installHandlers(a,"column",L.groupIndex,L.seriesIndex,T)}}}},_renderScatterSeries:function(aH,an,al){var av=this.seriesGroups[aH];if(!av.series||av.series.length==0){return}var aG=av.type.indexOf("bubble")!=-1;var au=av.orientation=="horizontal";var aA=an;if(au){aA={x:an.y,y:an.x,width:an.height,height:an.width}}var az=this._calcGroupOffsets(aH,aA);if(!az||az.xoffsets.length==0){return}var ad=aA.width;var aJ;if(av.polar||av.spider){aJ=this._getPolarAxisCoords(aH,aA);ad=2*aJ.r}var a=this._alignValuesWithTicks(aH);var aw=this._getGroupGradientType(aH);if(!al){al="to"}for(var aF=0;aF<av.series.length;aF++){var X=this._getSerieSettings(aH,aF);var ag=av.series[aF];if(ag.customDraw){continue}var aq=ag.dataField;var aB=c.isFunction(ag.colorFunction);var af=this._getColors(aH,aF,NaN,aw);var s=NaN,ar=NaN;if(aG){for(var Y=az.xoffsets.first;Y<=az.xoffsets.last;Y++){var ao=this._getDataValueAsNumber(Y,(ag.radiusDataField||ag.sizeDataField),aH);if(typeof(ao)!="number"){throw"Invalid radiusDataField value at ["+Y+"]"}if(!isNaN(ao)){if(isNaN(s)||ao<s){s=ao}if(isNaN(ar)||ao>ar){ar=ao}}}}var aD=ag.minRadius||ag.minSymbolSize;if(isNaN(aD)){aD=ad/50}var am=ag.maxRadius||ag.maxSymbolSize;if(isNaN(am)){am=ad/25}if(aD>am){am=aD}var ae=ag.radius;if(isNaN(ae)&&!isNaN(ag.symbolSize)){ae=(ag.symbolType=="circle")?ag.symbolSize/2:ag.symbolSize}else{ae=5}var ak=this._getAnimProps(aH,aF);var ap=ak.enabled&&!this._isToggleRefresh&&az.xoffsets.length<5000?ak.duration:0;var at={groupIndex:aH,seriesIndex:aF,symbolType:ag.symbolType,symbolSize:ag.symbolSize,"fill-opacity":X.opacity,"stroke-opacity":X.opacity,"stroke-width":X.stroke,"stroke-dasharray":X.dashStyle,items:[],polarAxisCoords:aJ};for(var Y=az.xoffsets.first;Y<=az.xoffsets.last;Y++){var ao=this._getDataValueAsNumber(Y,aq,aH);if(typeof(ao)!="number"){continue}var ah=az.xoffsets.data[Y];var aj=az.xoffsets.xvalues[Y];var ai=az.offsets[aF][Y][al];if(ai<aA.y||ai>aA.y+aA.height){continue}if(isNaN(ah)||isNaN(ai)){continue}if(au){var aa=ah;ah=ai;ai=aa+an.y}else{ah+=an.x}var ac=ae;if(aG){var ay=this._getDataValueAsNumber(Y,(ag.radiusDataField||ag.sizeDataField),aH);if(typeof(ay)!="number"){continue}ac=aD+(am-aD)*(ay-s)/Math.max(1,ar-s);if(isNaN(ac)){ac=aD}}az.offsets[aF][Y].radius=ac;var aC=NaN,ab=NaN;var ax=0;var aK=this._elementRenderInfo;if(aj!=undefined&&aK&&aK.length>aH&&aK[aH].series.length>aF){var aI=aK[aH].series[aF][aj];if(aI&&!isNaN(aI.to)){aC=aI.to;ab=aI.xoffset;ax=ae;if(au){var aa=ab;ab=aC;aC=aa+an.y}else{ab+=an.x}if(aG){ax=aD+(am-aD)*(aI.valueRadius-s)/Math.max(1,ar-s);if(isNaN(ax)){ax=aD}}}}if(aB){af=this._getColors(aH,aF,Y,aw)}at.items.push({from:ax,to:ac,itemIndex:Y,fill:af.fillColor,stroke:af.lineColor,x:ah,y:ai,xFrom:ab,yFrom:aC})}this._animR(at,0);var aE=this;var Z;this._enqueueAnimation("series",undefined,undefined,ap,function(f,d,e){aE._animR(d,e)},at)}},_animR:function(a,B){var z=a.items;var H=a.symbolType||"circle";var F=a.symbolSize;for(var D=0;D<z.length;D++){var t=z[D];var v=t.x;var w=t.y;var G=Math.round((t.to-t.from)*B+t.from);if(!isNaN(t.yFrom)){w=t.yFrom+(w-t.yFrom)*B}if(!isNaN(t.xFrom)){v=t.xFrom+(v-t.xFrom)*B}if(a.polarAxisCoords){var u=this._toPolarCoord(a.polarAxisCoords,this._plotRect,v,w);v=u.x;w=u.y}v=c.jqx._ptrnd(v);w=c.jqx._ptrnd(w);G=c.jqx._ptrnd(G);var C=this._getRenderInfo(a.groupIndex,a.seriesIndex,z[D].itemIndex);var E=C.element;var A=C.labelElement;if(H=="circle"){if(!E){E=this.renderer.circle(v,w,G);this.renderer.attr(E,{fill:t.fill,"fill-opacity":a["fill-opacity"],"stroke-opacity":a["fill-opacity"],stroke:t.stroke,"stroke-width":a["stroke-width"],"stroke-dasharray":a["stroke-dasharray"]})}if(this._isVML){this.renderer.updateCircle(E,undefined,undefined,G)}else{this.renderer.attr(E,{r:G,cy:w,cx:v})}}else{if(E){this.renderer.removeElement(E)}E=this._drawSymbol(H,v,w,t.fill,a["fill-opacity"],t.stroke,a["stroke-opacity"]||a["fill-opacity"],a["stroke-width"],a["stroke-dasharray"],F||G)}if(A){this.renderer.removeElement(A)}A=this._showLabel(a.groupIndex,a.seriesIndex,t.itemIndex,{x:v-G,y:w-G,width:2*G,height:2*G});if(B>=1){this._installHandlers(E,"circle",a.groupIndex,a.seriesIndex,t.itemIndex)}this._setRenderInfo(a.groupIndex,a.seriesIndex,z[D].itemIndex,{element:E,labelElement:A})}},_showToolTip:function(ai,ak,T,ae,ar){var S=this;var al=S._getXAxis(T);var av=S._getValueAxis(T);if(S._ttEl&&T==S._ttEl.gidx&&ae==S._ttEl.sidx&&ar==S._ttEl.iidx){return}var am=S.seriesGroups[T];var ag=am.series[ae];var ao=S.enableCrosshairs&&!(am.polar||am.spider);if(S._pointMarker){ai=parseInt(S._pointMarker.x+5);ak=parseInt(S._pointMarker.y-5)}else{ao=false}var an=ao&&S.showToolTips==false;ai=c.jqx._ptrnd(ai);ak=c.jqx._ptrnd(ak);var R=S._ttEl==undefined;if(am.showToolTips==false||ag.showToolTips==false){return}var ap=S._get([ag.toolTipFormatSettings,am.toolTipFormatSettings,av.toolTipFormatSettings,S.toolTipFormatSettings]);var Y=S._get([ag.toolTipFormatFunction,am.toolTipFormatFunction,av.toolTipFormatFunction,S.toolTipFormatFunction]);var aj=S._getColors(T,ae,ar);var W=S._getDataValue(ar,al.dataField,T);if(al.dataField==undefined||al.dataField==""){W=ar}if(al.type=="date"){W=S._castAsDate(W,(ap?ap.dateFormat:undefined)||al.dateFormat)}var aa="";if(c.isFunction(Y)){var ah={};var ab=0;for(var au in ag){if(au.indexOf("dataField")==0){ah[au.substring(9,au.length).toLowerCase()]=S._getDataValue(ar,ag[au],T);ab++}}if(ab==0){ah=S._getDataValue(ar,undefined,T)}else{if(ab==1){ah=ah[""]}}aa=Y(ah,ar,ag,am,W,al)}else{aa=S._getFormattedValue(T,ae,ar,ap,Y);var at=this._getAxisSettings(al);var a=at.toolTipFormatSettings;var aq=at.toolTipFormatFunction;if(!aq&&!a&&al.type=="date"){aq=this._getDefaultDTFormatFn(al.baseUnit||"day")}var t=S._formatValue(W,a,aq,T,ae,ar);if(!S._isPieGroup(T)){var ad=(al.displayText||al.dataField||"");if(ad.length>0){aa=ad+": "+t+"<br>"+aa}else{aa=t+"<br>"+aa}}else{W=S._getDataValue(ar,ag.displayText||ag.dataField,T);t=S._formatValue(W,a,aq,T,ae,ar);aa=t+": "+aa}}if(!S._ttEl){S._ttEl={}}S._ttEl.sidx=ae;S._ttEl.gidx=T;S._ttEl.iidx=ar;rect=S.renderer.getRect();if(ao){var X=c.jqx._ptrnd(S._pointMarker.x);var Z=c.jqx._ptrnd(S._pointMarker.y);if(S._ttEl.vLine&&S._ttEl.hLine){S.renderer.attr(S._ttEl.vLine,{x1:X,x2:X});S.renderer.attr(S._ttEl.hLine,{y1:Z,y2:Z})}else{var ac=S.crosshairsColor||S._defaultLineColor;S._ttEl.vLine=S.renderer.line(X,S._plotRect.y,X,S._plotRect.y+S._plotRect.height,{stroke:ac,"stroke-width":S.crosshairsLineWidth||1,"stroke-dasharray":S.crosshairsDashStyle||""});S._ttEl.hLine=S.renderer.line(S._plotRect.x,Z,S._plotRect.x+S._plotRect.width,Z,{stroke:ac,"stroke-width":S.crosshairsLineWidth||1,"stroke-dasharray":S.crosshairsDashStyle||""})}}if(!an&&S.showToolTips!=false){var V=ag.toolTipClass||am.toolTipClass||this.toThemeProperty("jqx-chart-tooltip-text",null);var Q=ag.toolTipBackground||am.toolTipBackground||"#FFFFFF";var P=ag.toolTipLineColor||am.toolTipLineColor||aj.lineColor;var af=this.getItemCoord(T,ae,ar);var U=0;if(S._pointMarker&&S._pointMarker.element){U=ag.symbolSizeSelected;if(isNaN(U)){U=ag.symbolSize}if(isNaN(U)||U>50||U<0){U=am.symbolSize}if(isNaN(U)||U>50||U<0){U=8}}S._createTooltip(af,am,aa,{css:V,fill:Q,stroke:P,symbolSize:U})}},_fitTooltip:function(v,o,n,a,t){var u={};var w=2+t/2;var s=7;if(o.x-n.width-s-w>v.x&&o.y+o.height/2-n.height/2>v.y&&o.y+o.height/2+n.height/2<v.y+v.height){u.left={arrowLocation:"right",x:o.x-n.width-s-w,y:o.y+o.height/2-n.height/2,width:n.width+s,height:n.height}}if(o.x+o.width+n.width+s+w<v.x+v.width&&o.y+o.height/2-n.height/2>v.y&&o.y+o.height/2+n.height/2<v.y+v.height){u.right={arrowLocation:"left",x:o.x+o.width+w,y:o.y+o.height/2-n.height/2,width:n.width+s,height:n.height}}if(o.y-n.height-w-s>v.y&&o.x+o.width/2-n.width/2>v.x&&o.x+o.width/2+n.width/2<v.x+v.width){u.top={arrowLocation:"bottom",x:o.x+o.width/2-n.width/2,y:o.y-n.height-w-s,width:n.width,height:n.height+s}}if(o.y+o.height+n.height+s+w<v.y+v.height&&o.x+o.width/2-n.width/2>v.x&&o.x+o.width/2+n.width/2<v.x+v.width){u.bottom={arrowLocation:"top",x:o.x+o.width/2-n.width/2,y:o.y+o.height+w,width:n.width,height:n.height+s}}if(o.width>o.height||((a.type.indexOf("stackedcolumn")!=-1||a.type.indexOf("stackedwaterfall")!=-1)&&a.orientation!="horizontal")){if(u.left){return u.left}if(u.right){return u.right}}else{if(u.top){return u.top}if(u.bottom){return u.bottom}}for(var q in u){if(u[q]){return u[q]}}return{arrowLocation:""}},_createTooltip:function(J,W,a,R){var M=this;var G=W.type;var N=false;var K=M._ttEl.box;if(!K){N=true;K=M._ttEl.box=document.createElement("div");var ab=10000000;K.style.position="absolute";K.style.cursor="default";c(ae).css({"z-index":ab,"box-sizing":"content-box"});c(document.body).append(K);var ae=document.createElement("div");ae.id="arrowOuterDiv";ae.style.width="0px";ae.style.height="0px";ae.style.position="absolute";c(ae).css({"z-index":ab+1,"box-sizing":"content-box"});var Z=document.createElement("div");Z.id="arrowInnerDiv";Z.style.width="0px";Z.style.height="0px";Z.style.position="absolute";var H=document.createElement("div");H.id="contentDiv";H.style.position="absolute";c(H).css({"box-sizing":"content-box"});c(H).addClass("jqx-rc-all jqx-button");c(H).appendTo(c(K));c(ae).appendTo(c(K));c(Z).appendTo(c(K));c(Z).css({"z-index":ab+2,"box-sizing":"content-box"})}if(!a||a.length==0){c(K).fadeTo(0,0);return}H=c(K).find("#contentDiv")[0];ae=c(K).find("#arrowOuterDiv")[0];Z=c(K).find("#arrowInnerDiv")[0];H.style.backgroundColor=R.fill;H.style.borderColor=R.stroke;var U="<span class='"+R.css+"'>"+a+"</span>";c(H).html(U);var Q=this._measureHtml(U,"jqx-rc-all jqx-button");rect=M._plotRect;if(Q.width>rect.width||Q.height>rect.height){return}var S={width:Q.width,height:Q.height};arrowLocation="";var O=5;var L=7;var I=M._isColumnType(G);x=Math.max(J.x,rect.x);y=Math.max(J.y,rect.y);if(M.toolTipAlignment=="dataPoint"){if(G.indexOf("pie")!=-1||G.indexOf("donut")!=-1){var V=(J.fromAngle+J.toAngle)/2;V=V*(Math.PI/180);var aa=(!isNaN(J.innerRadius)&&J.innerRadius>0)?(J.innerRadius+J.outerRadius)/2:J.outerRadius*0.75;x=J.x=J.center.x+Math.cos(V)*aa;y=J.y=J.center.y-Math.sin(V)*aa;J.width=J.height=1}else{if(I&&(W.polar||W.spider)){J.width=J.height=1}}var P=this._fitTooltip(this._plotRect,J,S,W,R.symbolSize);if(P.arrowLocation!=""){arrowLocation=P.arrowLocation;x=P.x;y=P.y;S.width=P.width;S.height=P.height}}else{arrowLocation=""}if(arrowLocation=="top"||arrowLocation=="bottom"){S.height+=L;x-=L/2;if(arrowLocation=="bottom"){y-=L}}else{if(arrowLocation=="left"||arrowLocation=="right"){S.width+=L;y-=L/2;if(arrowLocation=="right"){x-=L}}}if(x+S.width>rect.x+rect.width){arrowLocation="";x=rect.x+rect.width-S.width}if(y+S.height>rect.y+rect.height){arrowLocation="";y=rect.y+rect.height-S.height}var Y={x:0,y:0},ac={x:0,y:0};c(H).css({width:Q.width,height:Q.height,left:0,top:0});ae.style["margin-top"]=ae.style["margin-left"]=0;Z.style["margin-top"]=Z.style["margin-left"]=0;H.style["margin-top"]=H.style["margin-left"]=0;var X=L+"px solid";var ad=L+"px solid transparent";switch(arrowLocation){case"left":Y={x:0,y:(Q.height-L)/2};contentPostion={x:L,y:0};H.style["margin-left"]=L+"px";ae.style["margin-left"]=0+"px";ae.style["margin-top"]=Y.y+"px";ae.style["border-left"]="";ae.style["border-right"]=X+" "+R.stroke;ae.style["border-top"]=ad;ae.style["border-bottom"]=ad;Z.style["margin-left"]=1+"px";Z.style["margin-top"]=Y.y+"px";Z.style["border-left"]="";Z.style["border-right"]=X+" "+R.fill;Z.style["border-top"]=ad;Z.style["border-bottom"]=ad;break;case"right":Y={x:S.width-L,y:(Q.height-L)/2};contentPostion={x:0,y:0};ae.style["margin-left"]=Y.x+"px";ae.style["margin-top"]=Y.y+"px";ae.style["border-left"]=X+" "+R.stroke;ae.style["border-right"]="";ae.style["border-top"]=ad;ae.style["border-bottom"]=ad;Z.style["margin-left"]=Y.x-1+"px";Z.style["margin-top"]=Y.y+"px";Z.style["border-left"]=X+" "+R.fill;Z.style["border-right"]="";Z.style["border-top"]=ad;Z.style["border-bottom"]=ad;break;case"top":Y={x:S.width/2-L/2,y:0};contentPostion={x:0,y:L};H.style["margin-top"]=contentPostion.y+"px";ae.style["margin-left"]=Y.x+"px";ae.style["border-top"]="";ae.style["border-bottom"]=X+" "+R.stroke;ae.style["border-left"]=ad;ae.style["border-right"]=ad;Z.style["margin-left"]=Y.x+"px";Z.style["margin-top"]=1+"px";Z.style["border-top"]="";Z.style["border-bottom"]=X+" "+R.fill;Z.style["border-left"]=ad;Z.style["border-right"]=ad;break;case"bottom":Y={x:S.width/2-L/2,y:S.height-L};contentPostion={x:0,y:0};ae.style["margin-left"]=Y.x+"px";ae.style["margin-top"]=Y.y+"px";ae.style["border-top"]=X+" "+R.stroke;ae.style["border-bottom"]="";ae.style["border-left"]=ad;ae.style["border-right"]=ad;Z.style["margin-left"]=Y.x+"px";Z.style["margin-top"]=Y.y-1+"px";Z.style["border-top"]=X+" "+R.fill;Z.style["border-bottom"]="";Z.style["border-left"]=ad;Z.style["border-right"]=ad;break}if(arrowLocation==""){c(ae).hide();c(Z).hide()}else{c(ae).show();c(Z).show()}c(K).css({width:S.width+"px",height:S.height+"px"});var T=M.host.coord();if(N){c(K).fadeOut(0,0);K.style.left=x+T.left+"px";K.style.top=y+T.top+"px"}c(K).clearQueue();c(K).animate({left:x+T.left,top:y+T.top,opacity:1},M.toolTipMoveDuration,"easeInOutCirc");c(K).fadeTo(400,1)},_measureHtml:function(l,n){var a=this._measureDiv;if(!a){this._measureDiv=a=document.createElement("div");a.style.position="absolute";a.style.cursor="default";a.style.overflow="hidden";a.style.display="none";c(a).addClass(n);this.host.append(a)}c(a).html(l);var h={width:c(a).width()+2,height:c(a).height()+2};if(c.jqx.browser&&c.jqx.browser.mozilla){h.height+=3}return h},_hideToolTip:function(a){if(!this._ttEl){return}if(this._ttEl.box){if(a==0){c(this._ttEl.box).hide()}else{c(this._ttEl.box).fadeOut()}}this._hideCrosshairs();this._ttEl.gidx=undefined},_hideCrosshairs:function(){if(!this._ttEl){return}if(this._ttEl.vLine){this.renderer.removeElement(this._ttEl.vLine);this._ttEl.vLine=undefined}if(this._ttEl.hLine){this.renderer.removeElement(this._ttEl.hLine);this._ttEl.hLine=undefined}},_get:function(a){return c.jqx.getByPriority(a)},_getAxisSettings:function(A){if(!A){return{}}var s=this;var t=A.gridLines||{};var a={visible:this._get([t.visible,A.showGridLines,true]),color:s._get([t.color,A.gridLinesColor,s._defaultLineColor]),unitInterval:s._get([t.unitInterval,t.interval,A.gridLinesInterval]),step:s._get([t.step,A.gridLinesStep]),dashStyle:s._get([t.dashStyle,A.gridLinesDashStyle]),width:s._get([t.lineWidth,1]),offsets:[],alternatingBackgroundColor:A.alternatingBackgroundColor,alternatingBackgroundColor2:A.alternatingBackgroundColor2,alternatingBackgroundOpacity:A.alternatingBackgroundOpacity};var C=A.tickMarks||{};var w={visible:this._get([C.visible,A.showTickMarks,true]),color:s._get([C.color,A.tickMarksColor,s._defaultLineColor]),unitInterval:s._get([C.unitInterval,C.interval,A.tickMarksInterval]),step:s._get([C.step,A.tickMarksStep]),dashStyle:s._get([C.dashStyle,A.tickMarksDashStyle]),width:s._get([C.lineWidth,1]),size:s._get([C.size,4]),offsets:[]};var B=A.title||{};var D={visible:s._get([B.visible,true]),text:s._get([A.description,B.text]),style:s._get([A.descriptionClass,B["class"],s.toThemeProperty("jqx-chart-axis-description",null)]),halign:s._get([A.horizontalDescriptionAlignment,B.horizontalAlignment,"center"]),valign:s._get([A.verticalDescriptionAlignment,B.verticalAlignment,"center"]),angle:0,rotationPoint:s._get([B.rotationPoint,"centercenter"]),offset:s._get([B.offset,{x:0,y:0}])};var v=A.line||{};var E={visible:s._get([v.visible,true]),color:s._get([v.color,a.color,s._defaultLineColor]),dashStyle:s._get([v.dashStyle,a.dashStyle,""]),width:s._get([v.lineWidth,1])};var u=A.padding||{};u={left:u.left||0,right:u.right||0,top:u.top||0,bottom:u.bottom||0};var z=this._getAxisLabelsSettings(A);var q={visible:this._get([A.visible,A.showValueAxis,A.showXAxis,A.showCategoryAxis,true]),customDraw:this._get([A.customDraw,false]),gridLines:a,tickMarks:w,line:E,title:D,labels:z,padding:u,toolTipFormatFunction:this._get([A.toolTipFormatFunction,A.formatFunction,z.formatFunction]),toolTipFormatSettings:this._get([A.toolTipFormatSettings,A.formatSettings,z.formatSettings])};return q},_getAxisLabelsSettings:function(h){var n=this;var a=h.labels||{};var l={visible:n._get([h.showLabels,a.visible,true]),unitInterval:n._get([a.unitInterval,a.interval,h.labelsInterval]),step:n._get([a.step,h.labelsStep]),angle:n._get([h.textRotationAngle,a.angle,0]),style:n._get([h["class"],a["class"],n.toThemeProperty("jqx-chart-axis-text",null)]),halign:n._get([h.horizontalTextAlignment,a.horizontalAlignment,"center"]),valign:n._get([h.verticalTextAlignment,a.verticalAlignment,"center"]),textRotationPoint:n._get([h.textRotationPoint,a.rotationPoint,"auto"]),textOffset:n._get([h.textOffset,a.offset,{x:0,y:0}]),autoRotate:n._get([h.labelsAutoRotate,a.autoRotate,false]),formatSettings:n._get([h.formatSettings,a.formatSettings,undefined]),formatFunction:n._get([h.formatFunction,a.formatFunction,undefined])};return l},_getLabelsSettings:function(a,A,D,J){var C=this.seriesGroups[a];var K=C.series[A];var z=isNaN(D)?undefined:this._getDataValue(D,K.dataField,a);var B=J||["Visible","Offset","Angle","HorizontalAlignment","VerticalAlignment","Class","BackgroundColor","BorderColor","BorderOpacity","Padding","Opacity","BackgroundOpacity","LinesAngles","LinesEnabled","AutoRotate","Radius"];var L={};for(var E=0;E<B.length;E++){var w=B[E];var H="labels"+w;var I="label"+w;var s=w.substring(0,1).toLowerCase()+w.substring(1);var G=undefined;if(C.labels&&typeof(C.labels)=="object"){G=C.labels[s]}if(K.labels&&typeof(K.labels)=="object"&&undefined!=K.labels[s]){G=K.labels[s]}G=this._get([K[H],K[I],G,C[H],C[I]]);if(c.isFunction(G)){L[s]=G(z,D,K,C)}else{L[s]=G}}L["class"]=L["class"]||this.toThemeProperty("jqx-chart-label-text",null);L.visible=this._get([L.visible,K.showLabels,C.showLabels,K.labels!=undefined?true:undefined,C.labels!=undefined?true:undefined]);var F=L.padding||1;L.padding={left:this._get([F.left,isNaN(F)?1:F]),right:this._get([F.right,isNaN(F)?1:F]),top:this._get([F.top,isNaN(F)?1:F]),bottom:this._get([F.bottom,isNaN(F)?1:F])};return L},_showLabel:function(a,Q,ak,ao,N,ai,al,ag,an,P,V){var ae=this.seriesGroups[a];var U=ae.series[Q];var T={width:0,height:0},W;if(isNaN(ak)){return}var h=this._getLabelsSettings(a,Q,ak);if(!h.visible){return al?T:undefined}if(ao.width<0||ao.height<0){return al?T:undefined}var aj=h.angle;if(!isNaN(P)){aj=P}var ah=h.offset||{};var O={x:ah.x,y:ah.y};if(isNaN(O.x)){O.x=0}if(isNaN(O.y)){O.y=0}N=N||h.horizontalAlignment||"center";ai=ai||h.verticalAlignment||"center";var ab=this._getFormattedValue(a,Q,ak,undefined,undefined,true);var S=ao.width;var w=ao.height;if(ag==true&&N!="center"){N=N=="right"?"left":"right"}if(an==true&&ai!="center"&&ai!="middle"){ai=ai=="top"?"bottom":"top";O.y*=-1}T=this.renderer.measureText(ab,aj,{"class":h["class"]});if(al){return T}var Y=0,ad=0;if(S>0){if(N==""||N=="center"){Y+=(S-T.width)/2}else{if(N=="right"){Y+=(S-T.width)}}}if(w>0){if(ai==""||ai=="center"){ad+=(w-T.height)/2}else{if(ai=="bottom"){ad+=(w-T.height)}}}Y+=ao.x+O.x;ad+=ao.y+O.y;var aa=this._plotRect;if(Y<=aa.x){Y=aa.x+2}if(ad<=aa.y){ad=aa.y+2}var af={width:Math.max(T.width,1),height:Math.max(T.height,1)};if(ad+af.height>=aa.y+aa.height){ad=aa.y+aa.height-(W?(af.height+W.height)/2:af.height)-2}if(Y+af.width>=aa.x+aa.width){Y=aa.x+aa.width-af.width-2}var am;var X=h.backgroundColor;var R=h.borderColor;var Z=h.padding;if(X||R){am=this.renderer.beginGroup();var ao=this.renderer.rect(Y-Z.left,ad-Z.top,T.width+Z.left+Z.right,T.height+Z.bottom+Z.bottom,{fill:X||"transparent","fill-opacity":h.backgroundOpacity||1,stroke:R||"transparent","stroke-opacity":h.borderOpacity,"stroke-width":1})}var ac=this.renderer.text(ab,Y,ad,T.width,T.height,aj,{"class":h["class"],opacity:h.opacity||1},false,"center","center");if(V){V.x=Y-Z.left;V.y=ad-Z.top;V.width=T.width+Z.left+Z.right;V.height=T.height+Z.bottom+Z.bottom}if(this._isVML){this.renderer.removeElement(ac);this.renderer.getContainer()[0].appendChild(ac)}if(am){this.renderer.endGroup()}return am||ac},_getAnimProps:function(a,o){var q=this.seriesGroups[a];var t=!isNaN(o)?q.series[o]:undefined;var u=this.enableAnimations==true;if(q.enableAnimations){u=q.enableAnimations==true}if(t&&t.enableAnimations){u=t.enableAnimations==true}var l=this.animationDuration;if(isNaN(l)){l=1000}var s=q.animationDuration;if(!isNaN(s)){l=s}if(t){var n=t.animationDuration;if(!isNaN(n)){l=n}}if(l>5000){l=1000}return{enabled:u,duration:l}},_isColorTransition:function(l,o,n,a){if(a-1<n.xoffsets.first){return false}var s=this._getColors(l,o,a,this._getGroupGradientType(l));var q=this._getColors(l,o,a-1,this._getGroupGradientType(l));return(s.fillColor!=q.fillColor)},_renderLineSeries:function(ba,at){var aE=this.seriesGroups[ba];if(!aE.series||aE.series.length==0){return}var a2=aE.type.indexOf("area")!=-1;var az=aE.type.indexOf("stacked")!=-1;var bf=az&&aE.type.indexOf("100")!=-1;var aL=aE.type.indexOf("spline")!=-1;var a1=aE.type.indexOf("step")!=-1;var av=aE.type.indexOf("range")!=-1;var aJ=aE.polar==true||aE.spider==true;if(aJ){a1=false}if(a1&&aL){return}var aS=this._getDataLen(ba);var aQ=at.width/aS;var aC=aE.orientation=="horizontal";var aO=this._getXAxis(ba).flip==true;var aU=at;if(aC){aU={x:at.y,y:at.x,width:at.height,height:at.width}}var aM=this._calcGroupOffsets(ba,aU);if(!aM||aM.xoffsets.length==0){return}if(!this._linesRenderInfo){this._linesRenderInfo={}}this._linesRenderInfo[ba]={};for(var a7=aE.series.length-1;a7>=0;a7--){var bd=this._getSerieSettings(ba,a7);var aF={groupIndex:ba,rect:aU,serieIndex:a7,swapXY:aC,isArea:a2,isSpline:aL,isRange:av,isPolar:aJ,settings:bd,segments:[],pointsLength:0};var bb=this._isSerieVisible(ba,a7);if(!bb){this._linesRenderInfo[ba][a7]=aF;continue}var aA=aE.series[a7];if(aA.customDraw){continue}var aW=c.isFunction(aA.colorFunction);var ao=aM.xoffsets.first;var aG=ao;var aw=this._getColors(ba,a7,NaN,this._getGroupGradientType(ba));var aR=false;var a0;do{var a=[];var ap=[];var a3=[];var au=-1;var a5=0,a6=0;var ar=NaN;var aK=NaN;var aD=NaN;if(aM.xoffsets.length<1){continue}var aq=this._getAnimProps(ba,a7);var ay=aq.enabled&&!this._isToggleRefresh&&aM.xoffsets.length<10000&&this._isVML!=true?aq.duration:0;var aY=ao;a0=false;var bg=this._getColors(ba,a7,ao,this._getGroupGradientType(ba));for(var aN=ao;aN<=aM.xoffsets.last;aN++){ao=aN;var aZ=aM.xoffsets.data[aN];var an=aM.xoffsets.xvalues[aN];if(isNaN(aZ)){continue}aZ=Math.max(aZ,1);a5=aZ;a6=aM.offsets[a7][aN].to;var aT=aM.offsets[a7][aN].from;if(isNaN(a6)||isNaN(aT)){if(aA.emptyPointsDisplay=="connect"){continue}else{if(aA.emptyPointsDisplay=="zero"){if(isNaN(a6)){a6=aM.baseOffset}if(isNaN(aT)){aT=aM.baseOffset}}else{a0=true;break}}}if(aW&&this._isColorTransition(ba,a7,aM,ao)){if(a.length>1){ao--;break}}var bh=this._elementRenderInfo;if(bh&&bh.length>ba&&bh[ba].series.length>a7){var be=bh[ba].series[a7][an];var aD=c.jqx._ptrnd(be?be.to:undefined);var aB=c.jqx._ptrnd(aU.x+(be?be.xoffset:undefined));a3.push(aC?{y:aB,x:aD,index:aN}:{x:aB,y:aD,index:aN})}aG=aN;if(bd.stroke<2){if(a6-aU.y<=1){a6=aU.y+1}if(aT-aU.y<=1){aT=aU.y+1}if(aU.y+aU.height-a6<=1){a6=aU.y+aU.height-1}if(aU.y+aU.height-aT<=1){aT=aU.y+aU.height-1}}if(!a2&&bf){if(a6<=aU.y){a6=aU.y+1}if(a6>=aU.y+aU.height){a6=aU.y+aU.height-1}if(aT<=aU.y){aT=aU.y+1}if(aT>=aU.y+aU.height){aT=aU.y+aU.height-1}}aZ=Math.max(aZ,1);a5=aZ+aU.x;if(aE.skipOverlappingPoints==true&&!isNaN(ar)&&Math.abs(ar-a5)<=1){continue}if(a1&&!isNaN(ar)&&!isNaN(aK)){if(aK!=a6){a.push(aC?{y:a5,x:c.jqx._ptrnd(aK)}:{x:a5,y:c.jqx._ptrnd(aK)})}}a.push(aC?{y:a5,x:c.jqx._ptrnd(a6),index:aN}:{x:a5,y:c.jqx._ptrnd(a6),index:aN});ap.push(aC?{y:a5,x:c.jqx._ptrnd(aT),index:aN}:{x:a5,y:c.jqx._ptrnd(aT),index:aN});ar=a5;aK=a6;if(isNaN(aD)){aD=a6}}if(a.length==0){ao++;continue}var aI=a[a.length-1].index;if(aW){aw=this._getColors(ba,a7,aI,this._getGroupGradientType(ba))}var a9=aU.x+aM.xoffsets.data[aY];var aV=aU.x+aM.xoffsets.data[aG];if(a2&&aE.alignEndPointsWithIntervals==true){var aP=aO?-1:1;if(a9>aU.x){a9=aU.x}if(aV<aU.x+aU.width){aV=aU.x+aU.width}if(aO){var aX=a9;a9=aV;aV=aX}}aV=c.jqx._ptrnd(aV);a9=c.jqx._ptrnd(a9);var a8=aM.baseOffset;aD=c.jqx._ptrnd(aD);var bc=c.jqx._ptrnd(a6)||a8;if(av){a=a.concat(ap.reverse())}aF.pointsLength+=a.length;var bi={lastItemIndex:aI,colorSettings:aw,pointsArray:a,pointsStart:a3,left:a9,right:aV,pyStart:aD,pyEnd:bc,yBase:a8,labelElements:[],symbolElements:[]};aF.segments.push(bi)}while(ao<aM.xoffsets.length-1||a0);this._linesRenderInfo[ba][a7]=aF}var ax=this._linesRenderInfo[ba];var aH=[];for(var aN in ax){aH.push(ax[aN])}aH=aH.sort(function(e,d){return e.serieIndex-d.serieIndex});if(a2&&az){aH.reverse()}for(var aN=0;aN<aH.length;aN++){var aF=aH[aN];this._animateLine(aF,ay==0?1:0);var a4=this;this._enqueueAnimation("series",undefined,undefined,ay,function(f,d,e){a4._animateLine(d,e)},aF)}},_animateLine:function(T,ah){var M=T.settings;var ad=T.groupIndex;var ac=T.serieIndex;var aa=this.seriesGroups[ad];var L=aa.series[ac];var W=this._getSymbol(ad,ac);var Q=this._getLabelsSettings(ad,ac,NaN,["Visible"]).visible;var U=true;if(T.isPolar){if(!isNaN(aa.endAngle)&&Math.round(Math.abs((isNaN(aa.startAngle)?0:aa.startAngle)-aa.endAngle))!=360){U=false}}var P=0;for(var af=0;af<T.segments.length;af++){var a=T.segments[af];var S=this._calculateLine(ad,T.pointsLength,P,a.pointsArray,a.pointsStart,a.yBase,ah,T.isArea,T.swapXY);P+=a.pointsArray.length;if(S==""){continue}var N=S.split(" ");var R=N.length;var ab=S;if(ab!=""){ab=this._buildLineCmd(S,T.isRange,a.left,a.right,a.pyStart,a.pyEnd,a.yBase,T.isArea,T.isPolar,U,T.isSpline,T.swapXY)}else{ab="M 0 0"}var Y=a.colorSettings;if(!a.pathElement){a.pathElement=this.renderer.path(ab,{"stroke-width":M.stroke,stroke:Y.lineColor,"stroke-opacity":M.opacity,"fill-opacity":M.opacity,"stroke-dasharray":M.dashStyle,fill:T.isArea?Y.fillColor:"none"});this._installHandlers(a.pathElement,"path",ad,ac,a.lastItemIndex)}else{this.renderer.attr(a.pathElement,{d:ab})}if(a.labelElements){for(var O=0;O<a.labelElements.length;O++){this.renderer.removeElement(a.labelElements[O])}a.labelElements=[]}if(a.symbolElements){for(var O=0;O<a.symbolElements.length;O++){this.renderer.removeElement(a.symbolElements[O])}a.symbolElements=[]}if(a.pointsArray.length==N.length){if(W!="none"||Q){var J=L.symbolSize;var K=T.rect;for(var O=0;O<N.length;O++){var I=N[O].split(",");I={x:parseFloat(I[0]),y:parseFloat(I[1])};if(I.x<K.x||I.x>K.x+K.width||I.y<K.y||I.y>K.y+K.height){continue}if(W!="none"){var V=this._getColors(ad,ac,a.pointsArray[O].index,this._getGroupGradientType(ad));var ae=this._drawSymbol(W,I.x,I.y,V.fillColorSymbol,M.opacity,V.lineColorSymbol,M.opacity,1,undefined,J);a.symbolElements.push(ae)}if(Q){var Z=(O>0?N[O-1]:N[O]).split(",");Z={x:parseFloat(Z[0]),y:parseFloat(Z[1])};var X=(O<N.length-1?N[O+1]:N[O]).split(",");X={x:parseFloat(X[0]),y:parseFloat(X[1])};I=this._adjustLineLabelPosition(ad,ac,a.pointsArray[O].index,I,Z,X);if(I){var ag=this._showLabel(ad,ac,a.pointsArray[O].index,{x:I.x,y:I.y,width:0,height:0});a.labelElements.push(ag)}}}}}if(ah==1&&W!="none"){for(var O=0;O<a.symbolElements.length;O++){if(isNaN(a.pointsArray[O].index)){continue}this._installHandlers(a.symbolElements[O],"symbol",ad,ac,a.pointsArray[O].index)}}}},_adjustLineLabelPosition:function(a,n,s,l,o,q){var u=this._showLabel(a,n,s,{width:0,height:0},"","",true);if(!u){return}var t={x:l.x-u.width/2,y:0};t.y=l.y-1.5*u.height;return t},_calculateLine:function(Q,a,I,K,L,R,S,H,U){var J=this.seriesGroups[Q];var M;if(J.polar==true||J.spider==true){M=this._getPolarAxisCoords(Q,this._plotRect)}var E="";var D=K.length;if(!H&&L.length==0){var F=a*S;D=F-I}var P=NaN;for(var C=0;C<D+1&&C<K.length;C++){if(C>0){E+=" "}var O=K[C].y;var N=K[C].x;var V=!H?O:R;var T=N;if(L&&L.length>C){V=L[C].y;T=L[C].x;if(isNaN(V)||isNaN(T)){V=O;T=N}}P=T;if(D<=K.length&&C>0&&C==D){T=K[C-1].x;V=K[C-1].y}if(U){N=c.jqx._ptrnd((N-V)*(H?S:1)+V);O=c.jqx._ptrnd(O)}else{N=c.jqx._ptrnd((N-T)*S+T);O=c.jqx._ptrnd((O-V)*S+V)}if(M){var G=this._toPolarCoord(M,this._plotRect,N,O);N=G.x;O=G.y}E+=N+","+O}return E},_buildLineCmd:function(F,B,J,a,L,D,M,w,N,G,K,O){var A=F;var E=O?M+","+J:J+","+M;var I=O?M+","+a:a+","+M;if(w&&!N&&!B){A=E+" "+F+" "+I}if(K){A=this._getBezierPoints(A)}var C=A.split(" ");if(C.length==0){return""}if(C.length==1){var z=C[0].split(",");return"M "+C[0]+" L"+(parseFloat(z[0])+1)+","+(parseFloat(z[1])+1)}var H=C[0].replace("M","");if(w&&!N){if(!B){A="M "+E+" L "+H+" "+A}else{A="M "+H+" L "+H+(K?"":(" L "+H+" "))+A}}else{if(!K){A="M "+H+" L "+H+" "+A}}if((N&&G)||B){A+=" Z"}return A},_getSerieSettings:function(o,w){var q=this.seriesGroups[o];var s=q.type.indexOf("area")!=-1;var t=q.type.indexOf("line")!=-1;var v=q.series[w];var a=v.dashStyle||q.dashStyle||"";var u=v.opacity||q.opacity;if(isNaN(u)||u<0||u>1){u=1}var n=v.lineWidth;if(isNaN(n)&&n!="auto"){n=q.lineWidth}if(n=="auto"||isNaN(n)||n<0||n>15){if(s){n=2}else{if(t){n=3}else{n=1}}}return{stroke:n,opacity:u,dashStyle:a}},_getColors:function(a,F,R,Q,T){var L=this.seriesGroups[a];var G=L.series[F];var S=this._get([G.useGradientColors,L.useGradientColors,L.useGradient,true]);var K=this._getSeriesColors(a,F,R);if(!K.fillColor){K.fillColor=D;K.fillColorSelected=c.jqx.adjustColor(D,1.1);K.fillColorAlt=c.jqx.adjustColor(D,4);K.fillColorAltSelected=c.jqx.adjustColor(D,3);K.lineColor=K.symbolColor=c.jqx.adjustColor(D,0.9);K.lineColorSelected=K.symbolColorSelected=c.jqx.adjustColor(D,0.9)}var N=[[0,1.4],[100,1]];var P=[[0,1],[25,1.1],[50,1.4],[100,1]];var I=[[0,1.3],[90,1.2],[100,1]];var M=NaN;if(!isNaN(T)){M=T==2?N:P}if(S){var E={};for(var C in K){E[C]=K[C]}K=E;if(Q=="verticalLinearGradient"||Q=="horizontalLinearGradient"){var O=Q=="verticalLinearGradient"?M||N:M||P;var J=["fillColor","fillColorSelected","fillColorAlt","fillColorAltSelected"];for(var H in J){var D=K[J[H]];if(D){K[J[H]]=this.renderer._toLinearGradient(D,Q=="verticalLinearGradient",O)}}}else{if(Q=="radialGradient"){var B;var M=N;if((L.type=="pie"||L.type=="donut"||L.polar)&&R!=undefined&&this._renderData[a]&&this._renderData[a].offsets[F]){B=this._renderData[a].offsets[F][R];M=I}K.fillColor=this.renderer._toRadialGradient(K.fillColor,M,B);K.fillColorSelected=this.renderer._toRadialGradient(K.fillColorSelected,M,B)}}}return K},_installHandlers:function(v,s,o,q,u){if(!this.enableEvents){return false}var n=this;var t=this.seriesGroups[o];var a=this.seriesGroups[o].series[q];var w=t.type.indexOf("line")!=-1||t.type.indexOf("area")!=-1;if(!w&&!(t.enableSelection==false||a.enableSelection==false)){this.renderer.addHandler(v,"mousemove",function(h){var l=n._selected;if(l&&l.isLineType&&l.linesUnselectMode=="click"&&!(l.group==o&&l.series==q)){return}var d=h.pageX||h.clientX||h.screenX;var e=h.pageY||h.clientY||h.screenY;var f=n.host.offset();d-=f.left;e-=f.top;if(n._mouseX==d&&n._mouseY==e){return}if(n._ttEl){if(n._ttEl.gidx==o&&n._ttEl.sidx==q&&n._ttEl.iidx==u){return}}n._startTooltipTimer(o,q,u)});this.renderer.addHandler(v,"mouseout",function(e){return;if(!isNaN(n._lastClickTs)&&(new Date()).valueOf()-n._lastClickTs<100){return}if(u!=undefined){n._cancelTooltipTimer()}if(w){return}var d=n._selected;if(d&&d.isLineType&&d.linesUnselectMode=="click"&&!(d.group==o&&d.series==q)){return}n._unselect()})}if(!(t.enableSelection==false||a.enableSelection==false)){this.renderer.addHandler(v,"mouseover",function(e){var d=n._selected;if(d&&d.isLineType&&d.linesUnselectMode=="click"&&!(d.group==o&&d.series==q)){return}n._select(v,s,o,q,u,u)})}this.renderer.addHandler(v,"click",function(d){clearTimeout(n._hostClickTimer);n._lastClickTs=(new Date()).valueOf();if(w&&(s!="symbol"&&s!="pointMarker")){return}if(n._isColumnType(t.type)){n._unselect()}if(isNaN(u)){return}d.stopImmediatePropagation();n._raiseItemEvent("click",t,a,u)})},_getHorizontalOffset:function(I,F,Q,R){var W=this._plotRect;var S=this._getDataLen(I);if(S==0){return{index:undefined,value:Q}}var K=this._calcGroupOffsets(I,this._plotRect);if(K.xoffsets.length==0){return{index:undefined,value:undefined}}var N=Q;var O=R;var L=this.seriesGroups[I];var P;if(L.polar||L.spider){P=this._getPolarAxisCoords(I,W)}var U=this._getXAxis(I).flip==true;var X,M,a,T;for(var E=K.xoffsets.first;E<=K.xoffsets.last;E++){var D=K.xoffsets.data[E];var V=K.offsets[F][E].to;var H=0;if(P){var G=this._toPolarCoord(P,W,D+W.x,V);D=G.x;V=G.y;H=c.jqx._ptdist(N,O,D,V)}else{if(L.orientation=="horizontal"){D+=W.y;var J=V;V=D;D=J;H=c.jqx._ptdist(N,O,D,V)}else{D+=W.x;H=Math.abs(N-D)}}if(isNaN(X)||X>H){X=H;M=E;a=D;T=V}}return{index:M,value:K.xoffsets.data[M],polarAxisCoords:P,x:a,y:T}},onmousemove:function(R,S){if(this._mouseX==R&&this._mouseY==S){return}this._mouseX=R;this._mouseY=S;if(!this._selected){return}var J=this._selected.group;var G=this._selected.series;var N=this.seriesGroups[J];var O=N.series[G];var Z=this._plotRect;if(this.renderer){Z=this.renderer.getRect();Z.x+=5;Z.y+=5;Z.width-=10;Z.height-=10}if(R<Z.x||R>Z.x+Z.width||S<Z.y||S>Z.y+Z.height){this._hideToolTip();this._unselect();return}var W=N.orientation=="horizontal";var Z=this._plotRect;if(N.type.indexOf("line")!=-1||N.type.indexOf("area")!=-1){var U=this._getHorizontalOffset(J,this._selected.series,R,S);var a=U.index;if(a==undefined){return}if(this._selected.item!=a){var I=this._linesRenderInfo[J][G].segments;var F=0;while(a>I[F].lastItemIndex){F++;if(F>=I.length){return}}var Y=I[F].pathElement;var H=I[F].lastItemIndex;this._unselect(false);this._select(Y,"path",J,G,a,H)}var P=this._getSymbol(this._selected.group,this._selected.series);if(P=="none"){P="circle"}var M=this._calcGroupOffsets(J,Z);var X=M.offsets[this._selected.series][a].to;var s=X;if(N.type.indexOf("range")!=-1){s=M.offsets[this._selected.series][a].from}var Q=W?R:S;if(!isNaN(s)&&Math.abs(Q-s)<Math.abs(Q-X)){S=s}else{S=X}if(isNaN(S)){return}R=U.value;if(W){var L=R;R=S;S=L+Z.y}else{R+=Z.x}if(U.polarAxisCoords){R=U.x;S=U.y}S=c.jqx._ptrnd(S);R=c.jqx._ptrnd(R);if(this._pointMarker&&this._pointMarker.element){this.renderer.removeElement(this._pointMarker.element);this._pointMarker.element=undefined}if(isNaN(R)||isNaN(S)){return}var T=this._getSeriesColors(J,G,a);var V=O.opacity;if(isNaN(V)||V<0||V>1){V=N.opacity}if(isNaN(V)||V<0||V>1){V=1}var K=O.symbolSizeSelected;if(isNaN(K)){K=O.symbolSize}if(isNaN(K)||K>50||K<0){K=N.symbolSize}if(isNaN(K)||K>50||K<0){K=8}if(this.showToolTips||this.enableCrosshairs){this._pointMarker={type:P,x:R,y:S,gidx:J,sidx:G,iidx:a};this._pointMarker.element=this._drawSymbol(P,R,S,T.fillColorSymbolSelected,V,T.lineColorSymbolSelected,V,1,undefined,K);this._installHandlers(this._pointMarker.element,"pointMarker",J,G,a)}this._startTooltipTimer(J,this._selected.series,a)}},_drawSymbol:function(z,u,w,F,t,v,C,B,G,a){var D;var A=a||6;var E=A/2;switch(z){case"none":return undefined;case"circle":D=this.renderer.circle(u,w,A/2);break;case"square":A=A-1;E=A/2;D=this.renderer.rect(u-E,w-E,A,A);break;case"diamond":var s="M "+(u-E)+","+(w)+" L"+(u)+","+(w-E)+" L"+(u+E)+","+(w)+" L"+(u)+","+(w+E)+" Z";D=this.renderer.path(s);break;case"triangle_up":case"triangle":var s="M "+(u-E)+","+(w+E)+" L "+(u+E)+","+(w+E)+" L "+(u)+","+(w-E)+" Z";D=this.renderer.path(s);break;case"triangle_down":var s="M "+(u-E)+","+(w-E)+" L "+(u)+","+(w+E)+" L "+(u+E)+","+(w-E)+" Z";D=this.renderer.path(s);break;case"triangle_left":var s="M "+(u-E)+","+(w)+" L "+(u+E)+","+(w+E)+" L "+(u+E)+","+(w-E)+" Z";D=this.renderer.path(s);break;case"triangle_right":var s="M "+(u-E)+","+(w-E)+" L "+(u-E)+","+(w+E)+" L "+(u+E)+","+(w)+" Z";D=this.renderer.path(s);break;default:D=this.renderer.circle(u,w,A)}this.renderer.attr(D,{fill:F,"fill-opacity":t,stroke:v,"stroke-width":B,"stroke-opacity":C,"stroke-dasharray":G||""});if(z!="circle"){this.renderer.attr(D,{r:A/2});if(z!="square"){this.renderer.attr(D,{x:u,y:w})}}return D},_getSymbol:function(l,s){var q=["circle","square","diamond","triangle_up","triangle_down","triangle_left","triangle_right"];var n=this.seriesGroups[l];var o=n.series[s];var a;if(o.symbolType!=undefined){a=o.symbolType}if(a==undefined){a=n.symbolType}if(a=="default"){return q[s%q.length]}else{if(a!=undefined){return a}}return"none"},_startTooltipTimer:function(n,o,v,q,s,z,t){this._cancelTooltipTimer();var a=this;var u=a.seriesGroups[n];var w=this.toolTipShowDelay||this.toolTipDelay;if(isNaN(w)||w>10000||w<0){w=500}if(this._ttEl||(true==this.enableCrosshairs&&false==this.showToolTips)){w=0}if(!isNaN(z)){w=z}clearTimeout(this._tttimerHide);if(isNaN(q)){q=a._mouseX}if(isNaN(s)){s=a._mouseY-3}if(w==0){a._showToolTip(q,s,n,o,v)}this._tttimer=setTimeout(function(){if(w!=0){a._showToolTip(q,s,n,o,v)}var d=a.toolTipHideDelay;if(!isNaN(t)){d=t}if(isNaN(d)){d=4000}a._tttimerHide=setTimeout(function(){a._hideToolTip();a._unselect()},d)},w)},_cancelTooltipTimer:function(){clearTimeout(this._tttimer)},_getGroupGradientType:function(a){var e=this.seriesGroups[a];if(e.type.indexOf("area")!=-1){return e.orientation=="horizontal"?"horizontalLinearGradient":"verticalLinearGradient"}else{if(this._isColumnType(e.type)||e.type.indexOf("candle")!=-1){if(e.polar){return"radialGradient"}return e.orientation=="horizontal"?"verticalLinearGradient":"horizontalLinearGradient"}else{if(e.type.indexOf("scatter")!=-1||e.type.indexOf("bubble")!=-1||this._isPieGroup(a)){return"radialGradient"}}}return undefined},_select:function(B,v,s,t,A,u){if(this._selected){if((this._selected.item!=A||this._selected.series!=t||this._selected.group!=s)){this._unselect()}else{return}}var w=this.seriesGroups[s];var a=w.series[t];if(w.enableSelection==false||a.enableSelection==false){return}var C=w.type.indexOf("line")!=-1&&w.type.indexOf("area")==-1;this._selected={element:B,type:v,group:s,series:t,item:A,iidxBase:u,isLineType:C,linesUnselectMode:a.linesUnselectMode||w.linesUnselectMode};var G=this._getColors(s,t,u||A,this._getGroupGradientType(s));var F=G.fillColorSelected;if(C){F="none"}var D=this._getSerieSettings(s,t);var E=(v=="symbol")?G.lineColorSymbolSelected:G.lineColorSelected;F=(v=="symbol")?G.fillColorSymbolSelected:F;var z=(v=="symbol")?1:D.stroke;if(this.renderer.getAttr(B,"fill")==G.fillColorAlt){F=G.fillColorAltSelected}this.renderer.attr(B,{stroke:E,fill:F,"stroke-width":z});if(w.type.indexOf("pie")!=-1||w.type.indexOf("donut")!=-1){this._applyPieSelect()}this._raiseItemEvent("mouseover",w,a,A)},_applyPieSelect:function(){var o=this;o._createAnimationGroup("animPieSlice");var l=this._selected;if(!l){return}var a=this.getItemCoord(l.group,l.series,l.item);if(!a){return}var n=this._getRenderInfo(l.group,l.series,l.item);var q={element:n,coord:a};this._enqueueAnimation("animPieSlice",undefined,undefined,300,function(f,s,e){var t=s.coord;var h=t.selectedRadiusChange*e;var d=o.renderer.pieSlicePath(t.center.x,t.center.y,t.innerRadius==0?0:(t.innerRadius+h),t.outerRadius+h,t.fromAngle,t.toAngle,t.centerOffset);o.renderer.attr(s.element.element,{d:d});o._showPieLabel(l.group,l.series,l.item,undefined,h)},q);o._startAnimation("animPieSlice")},_applyPieUnselect:function(){this._stopAnimations();var h=this._selected;if(!h){return}var a=this.getItemCoord(h.group,h.series,h.item);if(!a||!a.center){return}var f=this.renderer.pieSlicePath(a.center.x,a.center.y,a.innerRadius,a.outerRadius,a.fromAngle,a.toAngle,a.centerOffset);this.renderer.attr(h.element,{d:f});this._showPieLabel(h.group,h.series,h.item,undefined,0)},_unselect:function(){var s=this;if(s._selected){var t=s._selected.group;var u=s._selected.series;var C=s._selected.item;var w=s._selected.iidxBase;var z=s._selected.type;var A=s.seriesGroups[t];var a=A.series[u];var D=A.type.indexOf("line")!=-1&&A.type.indexOf("area")==-1;var G=s._getColors(t,u,w||C,s._getGroupGradientType(t));var F=G.fillColor;if(D){F="none"}var E=s._getSerieSettings(t,u);var v=(z=="symbol")?G.lineColorSymbol:G.lineColor;F=(z=="symbol")?G.fillColorSymbol:F;if(this.renderer.getAttr(s._selected.element,"fill")==G.fillColorAltSelected){F=G.fillColorAlt}var B=(z=="symbol")?1:E.stroke;s.renderer.attr(s._selected.element,{stroke:v,fill:F,"stroke-width":B});if(A.type.indexOf("pie")!=-1||A.type.indexOf("donut")!=-1){this._applyPieUnselect()}s._selected=undefined;if(!isNaN(C)){s._raiseItemEvent("mouseout",A,a,C)}}if(s._pointMarker){if(s._pointMarker.element){s.renderer.removeElement(s._pointMarker.element);s._pointMarker.element=undefined}s._pointMarker=undefined;s._hideCrosshairs()}},_raiseItemEvent:function(n,l,o,s){var q=o[n]||l[n];var a=0;for(;a<this.seriesGroups.length;a++){if(this.seriesGroups[a]==l){break}}if(a==this.seriesGroups.length){return}var t={event:n,seriesGroup:l,serie:o,elementIndex:s,elementValue:this._getDataValue(s,o.dataField,a)};if(q&&c.isFunction(q)){q(t)}this._raiseEvent(n,t)},_raiseEvent:function(h,l){var a=new c.Event(h);a.owner=this;l.event=h;a.args=l;var n=this.host.trigger(a);return n},_calcInterval:function(A,t,u){var a=Math.abs(t-A);var s=a/u;var w=[1,2,3,4,5,10,15,20,25,50,100];var C=[0.5,0.25,0.125,0.1];var B=0.1;var v=w;if(s<1){v=C;B=10}var q=0;do{q=0;if(s>=1){B*=10}else{B/=10}for(var z=1;z<v.length;z++){if(Math.abs(v[q]*B-s)>Math.abs(v[z]*B-s)){q=z}else{break}}}while(q==v.length-1);return v[q]*B},_renderDataClone:function(){if(!this._renderData||this._isToggleRefresh){return}var A=this._elementRenderInfo=[];if(this._isSelectorRefresh){return}for(var u=0;u<this._renderData.length;u++){var B=this._getXAxis(u).dataField;while(A.length<=u){A.push({})}var C=A[u];var w=this._renderData[u];if(!w.offsets){continue}if(w.valueAxis){C.valueAxis={itemOffsets:{}};for(var t in w.valueAxis.itemOffsets){C.valueAxis.itemOffsets[t]=w.valueAxis.itemOffsets[t]}}if(w.xAxis){C.xAxis={itemOffsets:{}};for(var t in w.xAxis.itemOffsets){C.xAxis.itemOffsets[t]=w.xAxis.itemOffsets[t]}}C.series=[];var v=C.series;var q=this._isPieGroup(u);for(var a=0;a<w.offsets.length;a++){v.push({});for(var z=0;z<w.offsets[a].length;z++){if(!q){v[a][w.xoffsets.xvalues[z]]={value:w.offsets[a][z].value,valueRadius:w.offsets[a][z].valueRadius,xoffset:w.xoffsets.data[z],from:w.offsets[a][z].from,to:w.offsets[a][z].to}}else{var s=w.offsets[a][z];v[a][s.displayValue]={value:s.value,x:s.x,y:s.y,fromAngle:s.fromAngle,toAngle:s.toAngle}}}}}},getPolarDataPointOffset:function(q,s,n){var o=this._renderData[n];if(!o){return{x:NaN,y:NaN}}var a=this.getValueAxisDataPointOffset(s,n);var t=this.getXAxisDataPointOffset(q,n);var l=this._toPolarCoord(o.polarCoords,o.xAxis.rect,t,a);return{x:l.x,y:l.y}},_getDataPointOffsetDiff:function(a,n,w,s,q,u,o){var t=this._getDataPointOffset(a,w,s,q,u,o);var v=this._getDataPointOffset(n,w,s,q,u,o);return Math.abs(t-v)},_getXAxisRenderData:function(h){if(h>=this._renderData.length){return}var a=this.seriesGroups[h];var l=this._renderData[h].xAxis;if(!l){return}if(a.xAxis==undefined){for(var n=0;n<=h;n++){if(this.seriesGroups[n].xAxis==undefined){break}}l=this._renderData[n].xAxis}return l},getXAxisDataPointOffset:function(u,s){var t=this.seriesGroups[s];if(isNaN(u)){return NaN}renderData=this._getXAxisRenderData(s);if(!renderData){return NaN}var A=renderData.data.axisStats;var v=A.min.valueOf();var E=A.max.valueOf();var z=E-v;if(z==0){z=1}if(u.valueOf()>E||u.valueOf()<v){return NaN}var D=this._getXAxis(s);var C=t.orientation=="horizontal"?"height":"width";var a=t.orientation=="horizontal"?"y":"x";var w=(u.valueOf()-v)/z;var q=renderData.rect[C]-renderData.data.padding.left-renderData.data.padding.right;if(t.polar||t.spider){var B=this._renderData[s].polarCoords;if(B.isClosedCircle){q=renderData.data.axisSize}}return this._plotRect[a]+renderData.data.padding.left+q*(D.flip?(1-w):w)},getValueAxisDataPointOffset:function(q,o){var a=this._getValueAxis(o);if(!a){return NaN}var n=this._renderData[o];if(!n){return NaN}var s=a.flip==true;var u=n.logBase;var t=n.scale;var w=n.gbase;var v=n.baseOffset;return this._getDataPointOffset(q,w,u,t,v,s)},_getDataPointOffset:function(n,s,q,a,o,t){var l;if(isNaN(n)){n=s}if(!isNaN(q)){l=(c.jqx.log(n,q)-c.jqx.log(s,q))*a}else{l=(n-s)*a}if(this._isVML){l=Math.round(l)}if(t){l=o+l}else{l=o-l}return l},_calcGroupOffsets:function(bl,aI){var a6=this.seriesGroups[bl];while(this._renderData.length<bl+1){this._renderData.push({})}if(this._renderData[bl]!=null&&this._renderData[bl].offsets!=undefined){return this._renderData[bl]}if(this._isPieGroup(bl)){return this._calcPieSeriesGroupOffsets(bl,aI)}var bi=this._getValueAxis(bl);if(!bi||!a6.series||a6.series.length==0){return this._renderData[bl]}var a4=bi.flip==true;var aC=bi.logarithmicScale==true;var aE=bi.logarithmicScaleBase||10;var av=[];var aU=a6.type.indexOf("stacked")!=-1;var bo=aU&&a6.type.indexOf("100")!=-1;var aK=a6.type.indexOf("range")!=-1;var h=this._isColumnType(a6.type);var a8=a6.type.indexOf("waterfall")!=-1;var be=this._getDataLen(bl);var bf=a6.baselineValue||bi.baselineValue||0;if(bo){bf=0}var aT=this._stats.seriesGroups[bl];if(!aT||!aT.isValid){return}var aO=aT.hasStackValueReversal;if(aO){bf=0}if(a8&&aU){if(aO){return}else{bf=aT.base}}if(bf>aT.max){bf=aT.max}if(bf<aT.min){bf=aT.min}var bg=(bo||aC)?aT.maxRange:aT.max-aT.min;var aF=aT.min;var a0=aT.max;var aG=aI.height/(aC?aT.intervals:bg);var aP=0;if(bo){if(aF*a0<0){bg/=2;aP=-(bg+bf)*aG}else{aP=-bf*aG}}else{aP=-(bf-aF)*aG}if(a4){aP=aI.y-aP}else{aP+=aI.y+aI.height}var aS=[];var aZ=[];var aw=[];var aJ,aQ;if(aC){aJ=c.jqx.log(a0,aE)-c.jqx.log(bf,aE);if(aU){aJ=aT.intervals;bf=bo?0:aF}aQ=aT.intervals-aJ;if(!a4){aP=aI.y+aJ/aT.intervals*aI.height}}aP=c.jqx._ptrnd(aP);var bp=(aF*a0<0)?aI.height/2:aI.height;var bk=[];var a=[];var aD=aU&&(h||aC);var aH=[];av=new Array(a6.series.length);for(var a3=0;a3<a6.series.length;a3++){av[a3]=new Array(be)}for(var a2=0;a2<be;a2++){if(!a8&&aU){a=[]}for(var a3=0;a3<a6.series.length;a3++){if(!aU&&aC){bk=[]}var aY=a6.series[a3];var aW=aY.dataField;var az=aY.dataFieldFrom;var aB=aY.dataFieldTo;var ba=aY.radiusDataField||aY.sizeDataField;av[a3][a2]={};var bm=this._isSerieVisible(bl,a3);if(a6.type.indexOf("candle")!=-1||a6.type.indexOf("ohlc")!=-1){var bq=["Open","Close","High","Low"];for(var aM in bq){var bh="dataField"+bq[aM];if(aY[bh]){av[a3][a2][bq[aM]]=this._getDataPointOffset(this._getDataValueAsNumber(a2,aY[bh],bl),bf,aC?aE:NaN,aG,aP,a4)}}continue}if(aU){while(a.length<=a2){a.push(0)}}var aA=NaN;if(aK){aA=this._getDataValueAsNumber(a2,az,bl);if(isNaN(aA)){aA=bf}}var aL=NaN;if(aK){aL=this._getDataValueAsNumber(a2,aB,bl)}else{aL=this._getDataValueAsNumber(a2,aW,bl)}var bn=this._getDataValueAsNumber(a2,ba,bl);if(aU){a[a2]+=bm?aL:0}if(!bm){aL=NaN}if(isNaN(aL)||(aC&&aL<=0)){av[a3][a2]={from:undefined,to:undefined};continue}var aN;if(aU){if(aD){aN=(aL>=bf)?aS:aZ}else{aL=a[a2]}}var aV=aG*(aL-bf);if(aK){aV=aG*(aL-aA)}if(aU&&aD){if(!aH[a2]){aH[a2]=true;aV=aG*(aL-bf)}else{aV=aG*aL}}if(aC){while(bk.length<=a2){bk.push({p:{value:0,height:0},n:{value:0,height:0}})}var a1=(aK||aK)?aA:bf;var a5=aL>a1?bk[a2].p:bk[a2].n;a5.value+=aL;if(bo){aL=a5.value/(aT.psums[a2]+aT.nsums[a2])*100;aV=(c.jqx.log(aL,aE)-aT.minPow)*aG}else{aV=c.jqx.log(a5.value,aE)-c.jqx.log(a1,aE);aV*=aG}aV-=a5.height;a5.height+=aV}var ax=aP;if(aK){var bd=0;if(aC){bd=(c.jqx.log(aA,aE)-c.jqx.log(bf,aE))*aG}else{bd=(aA-bf)*aG}ax+=a4?bd:-bd}if(aU){if(bo&&!aC){var a7=(aT.psums[a2]-aT.nsums[a2]);if(aL>bf){aV=(aT.psums[a2]/a7)*bp;if(aT.psums[a2]!=0){aV*=aL/aT.psums[a2]}}else{aV=(aT.nsums[a2]/a7)*bp;if(aT.nsums[a2]!=0){aV*=aL/aT.nsums[a2]}}}if(aD){if(isNaN(aN[a2])){aN[a2]=ax}ax=aN[a2]}}if(isNaN(aw[a2])){aw[a2]=0}var aX=aw[a2];aV=Math.abs(aV);var f=aV;if(aV>=1){h_new=this._isVML?Math.round(aV):c.jqx._ptrnd(aV)-1;if(Math.abs(aV-h_new)>0.5){aV=Math.round(aV)}else{aV=h_new}}aX+=aV-f;if(!aU){aX=0}if(Math.abs(aX)>0.5){if(aX>0){aV-=1;aX-=1}else{aV+=1;aX+=1}}aw[a2]=aX;if(a3==a6.series.length-1&&bo){var a9=0;for(var bb=0;bb<a3;bb++){a9+=Math.abs(av[bb][a2].to-av[bb][a2].from)}a9+=aV;if(a9<bp){if(aV>0.5){aV=c.jqx._ptrnd(aV+bp-a9)}else{var bb=a3-1;while(bb>=0){var aR=Math.abs(av[bb][a2].to-av[bb][a2].from);if(aR>1){if(av[bb][a2].from>av[bb][a2].to){av[bb][a2].from+=bp-a9}break}bb--}}}}if(a4){aV*=-1}var ay=aL<bf;if(aK){ay=aA>aL}var bj=isNaN(aA)?aL:{from:aA,to:aL};if(ay){if(aD){aN[a2]+=aV}av[a3][a2]={from:ax,to:ax+aV,value:bj,valueRadius:bn}}else{if(aD){aN[a2]-=aV}av[a3][a2]={from:ax,to:ax-aV,value:bj,valueRadius:bn}}}}var bc=this._renderData[bl];bc.baseOffset=aP;bc.gbase=bf;bc.logBase=aC?aE:NaN;bc.scale=aG;bc.offsets=!a8?av:this._applyWaterfall(av,be,bl,aP,bf,aC?aE:NaN,aG,a4,aU);bc.xoffsets=this._calculateXOffsets(bl,aI.width);return this._renderData[bl]},_isPercent:function(a){return(typeof(a)==="string"&&a.length>0&&a.indexOf("%")==a.length-1)},_calcPieSeriesGroupOffsets:function(at,aw){var ag=this;var al=this._getDataLen(at);var ak=this.seriesGroups[at];var af=this._renderData[at]={};var V=af.offsets=[];for(var ac=0;ac<ak.series.length;ac++){var Y=ak.series[ac];var X=this._get([Y.minAngle,Y.startAngle]);if(isNaN(X)||X<0||X>360){X=0}var a=this._get([Y.maxAngle,Y.endAngle]);if(isNaN(a)||a<0||a>360){a=360}var ar=a-X;var ai=Y.initialAngle||0;if(ai<X){ai=X}if(ai>a){ai=a}var av=Y.centerOffset||0;var Q=c.jqx.getNum([Y.offsetX,ak.offsetX,aw.width/2]);var R=c.jqx.getNum([Y.offsetY,ak.offsetY,aw.height/2]);var ah=Math.min(aw.width,aw.height)/2;var aj=ai;var aq=Y.radius;if(ag._isPercent(aq)){aq=parseFloat(aq)/100*ah}if(isNaN(aq)){aq=ah*0.4}var am=Y.innerRadius;if(ag._isPercent(am)){am=parseFloat(am)/100*ah}if(isNaN(am)||am>=aq){am=0}var au=Y.selectedRadiusChange;if(ag._isPercent(au)){au=parseFloat(au)/100*(aq-am)}if(isNaN(au)){au=0.1*(aq-am)}V.push([]);var ap=0;var ao=0;for(var W=0;W<al;W++){var s=this._getDataValueAsNumber(W,Y.dataField,at);if(isNaN(s)){continue}if(!this._isSerieVisible(at,ac,W)&&Y.hiddenPointsDisplay!=true){continue}if(s>0){ap+=s}else{ao+=s}}var aa=ap-ao;if(aa==0){aa=1}for(var W=0;W<al;W++){var s=this._getDataValueAsNumber(W,Y.dataField,at);if(isNaN(s)){V[ac].push({});continue}var Z=Y.displayText||Y.displayField;var an=this._getDataValue(W,Z,at);if(an==undefined){an=W}var S=0;var ae=this._isSerieVisible(at,ac,W);if(ae||Y.hiddenPointsDisplay==true){S=Math.abs(s)/aa*ar}var ab=aw.x+Q;var ad=aw.y+R;var U=av;if(c.isFunction(av)){U=av({seriesIndex:ac,seriesGroupIndex:at,itemIndex:W})}if(isNaN(U)){U=0}var T={key:at+"_"+ac+"_"+W,value:s,displayValue:an,x:ab,y:ad,fromAngle:aj,toAngle:aj+S,centerOffset:U,innerRadius:am,outerRadius:aq,selectedRadiusChange:au,visible:ae};V[ac].push(T);aj+=S}}return af},_isPointSeriesOnly:function(){for(var e=0;e<this.seriesGroups.length;e++){var a=this.seriesGroups[e];if(a.type.indexOf("line")==-1&&a.type.indexOf("area")==-1&&a.type.indexOf("scatter")==-1&&a.type.indexOf("bubble")==-1){return false}}return true},_hasColumnSeries:function(){var h=["column","ohlc","candlestick","waterfall"];for(var l=0;l<this.seriesGroups.length;l++){var a=this.seriesGroups[l];for(var n in h){if(a.type.indexOf(h[n])!=-1){return true}}}return false},_alignValuesWithTicks:function(a){var q=this._isPointSeriesOnly();var o=this.seriesGroups[a];var l=this._getXAxis(a);var n=l.valuesOnTicks==undefined?q:l.valuesOnTicks!=false;if(a==undefined){return n}if(o.valuesOnTicks==undefined){return n}return o.valuesOnTicks},_getYearsDiff:function(a,e){return e.getFullYear()-a.getFullYear()},_getMonthsDiff:function(a,e){return 12*(e.getFullYear()-a.getFullYear())+e.getMonth()-a.getMonth()},_getDateDiff:function(a,l,n,q){var o=0;if(n!="year"&&n!="month"){o=l.valueOf()-a.valueOf()}switch(n){case"year":o=this._getYearsDiff(a,l);break;case"month":o=this._getMonthsDiff(a,l);break;case"day":o/=(24*3600*1000);break;case"hour":o/=(3600*1000);break;case"minute":o/=(60*1000);break;case"second":o/=(1000);break;case"millisecond":break}if(n!="year"&&n!="month"&&q!=false){o=c.jqx._rnd(o,1,true)}return o},_getBestDTUnit:function(z,I,H,E,B){var C="day";var v=I.valueOf()-z.valueOf();if(v<1000){C="second"}else{if(v<3600000){C="minute"}else{if(v<86400000){C="hour"}else{if(v<2592000000){C="day"}else{if(v<31104000000){C="month"}else{C="year"}}}}}var a=[{key:"year",cnt:v/(1000*60*60*24*365)},{key:"month",cnt:v/(1000*60*60*24*30)},{key:"day",cnt:v/(1000*60*60*24)},{key:"hour",cnt:v/(1000*60*60)},{key:"minute",cnt:v/(1000*60)},{key:"second",cnt:v/1000},{key:"millisecond",cnt:v}];var w=-1;for(var A=0;A<a.length;A++){if(a[A].key==C){w=A;break}}var G=-1,u=-1;for(;w<a.length;w++){if(a[w].cnt/100>E){break}var F=this._estAxisInterval(z,I,H,E,a[w].key,B);var D=this._getDTIntCnt(z,I,F,a[w].key);if(G==-1||G<D){G=D;u=w}}C=a[u].key;return C},_getXAxisStats:function(af,Z,N){var ab=this._getDataLen(af);var aj=Z.type=="date"||Z.type=="time";if(aj&&!this._autoDateFormats){if(!this._autoDateFormats){this._autoDateFormats=[]}var W=this._testXAxisDateFormat();if(W){this._autoDateFormats.push(W)}}var Y=aj?this._castAsDate(Z.minValue,Z.dateFormat):this._castAsNumber(Z.minValue);var R=aj?this._castAsDate(Z.maxValue,Z.dateFormat):this._castAsNumber(Z.maxValue);if(this._selectorRange&&this._selectorRange[af]){var ae=this._selectorRange[af].min;if(!isNaN(ae)){Y=aj?this._castAsDate(ae,Z.dateFormat):this._castAsNumber(ae)}var ad=this._selectorRange[af].max;if(!isNaN(ad)){R=aj?this._castAsDate(ad,Z.dateFormat):this._castAsNumber(ad)}}var V=Y,P=R;var ag,T;var ai=Z.type==undefined||Z.type=="auto";var ac=(ai||Z.type=="basic");var U=0,ah=0;for(var Q=0;Q<ab&&Z.dataField;Q++){var X=this._getDataValue(Q,Z.dataField,af);X=aj?this._castAsDate(X,Z.dateFormat):this._castAsNumber(X);if(isNaN(X)){continue}if(aj){U++}else{ah++}if(isNaN(ag)||X<ag){ag=X}if(isNaN(T)||X>=T){T=X}}if(ai&&((!aj&&ah==ab)||(aj&&U==ab))){ac=false}if(ac){ag=0;T=Math.max(0,ab-1)}if(isNaN(V)){V=ag}if(isNaN(P)){P=T}if(aj){if(!this._isDate(V)){V=this._isDate(P)?P:new Date()}if(!this._isDate(P)){P=this._isDate(V)?V:new Date()}}else{if(isNaN(V)){V=0}if(isNaN(P)){P=ac?Math.max(0,ab-1):V}}if(ag==undefined){ag=V}if(T==undefined){T=P}var O=Z.rangeSelector;if(O){var M=O.minValue||V;if(M&&aj){M=this._castAsDate(M,O.dateFormat||Z.dateFormat)}var a=O.maxValue||P;if(a&&aj){a=this._castAsDate(a,O.dateFormat||Z.rangeSelector)}if(V<M){V=M}if(P<M){P=a}if(V>a){V=M}if(P>a){P=a}}var L=Z.unitInterval;var K,J;if(aj){K=Z.baseUnit;if(!K){K=this._getBestDTUnit(V,P,af,N)}J=K=="hour"||K=="minute"||K=="second"||K=="millisecond"}var L=Z.unitInterval;if(isNaN(L)||L<=0){L=this._estAxisInterval(V,P,af,N,K)}var S={min:V,max:P};var aa=this.seriesGroups[af];if(!aj&&(aa.polar||aa.spider)){V=c.jqx._rnd(V,L,false);P=c.jqx._rnd(P,L,true)}return{min:V,max:P,dsRange:{min:ag,max:T},filterRange:S,useIndeces:ac,isDateTime:aj,isTimeUnit:J,dateTimeUnit:K,interval:L}},_getDefaultDTFormatFn:function(a){var h=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];var f;if(a=="year"||a=="month"||a=="day"){f=function(d){return d.getDate()+"-"+h[d.getMonth()]+"-"+d.getFullYear()}}else{f=function(d){return d.getDate()+"-"+h[d.getMonth()]+"-"+d.getFullYear()+"<br>"+d.getHours()+":"+d.getMinutes()+":"+d.getSeconds()}}return f},_getDTIntCnt:function(o,t,s,a){var q=0;var n=new Date(o);var l=new Date(t);if(s<=0){return 1}while(n.valueOf()<l.valueOf()){if(a=="millisecond"){n.setMilliseconds(n.getMilliseconds()+s)}else{if(a=="second"){n.setSeconds(n.getSeconds()+s)}else{if(a=="minute"){n.setMinutes(n.getMinutes()+s)}else{if(a=="hour"){var u=n.valueOf();n.setHours(n.getHours()+s);if(u===n.valueOf()){n.setHours(n.getHours()+s+1)}}else{if(a=="day"){n.setDate(n.getDate()+s)}else{if(a=="month"){n.setMonth(n.getMonth()+s)}else{if(a=="year"){n.setFullYear(n.getFullYear()+s)}}}}}}}q++}return q},_estAxisInterval:function(C,z,t,F,w,E){if(isNaN(C)||isNaN(z)){return NaN}var D=[1,2,5,10,15,20,50,100,200,500];var A=0;var B=F/((!isNaN(E)&&E>0)?E:50);if(this._renderData&&this._renderData.length>t&&this._renderData[t].xAxis&&!isNaN(this._renderData[t].xAxis.avgWidth)){var a=Math.max(1,this._renderData[t].xAxis.avgWidth);if(a!=0&&isNaN(E)){B=0.9*F/a}}if(B<=1){return Math.abs(z-C)}var s=0;while(true){var u=A>=D.length?Math.pow(10,3+A-D.length):D[A];if(this._isDate(C)&&this._isDate(z)){s=this._getDTIntCnt(C,z,u,w)}else{s=(z-C)/u}if(s<=B){break}A++}var v=this.seriesGroups[t];if(v.spider||v.polar){if(2*u>z-C){u=z-C}}return u},_getPaddingSize:function(u,D,C,F,s,B,a){var A=u.min;var w=u.max;var G=u.interval;var E=u.dateTimeUnit;if(s){var v=(F/Math.max(1,w-A+G))*G;if(B){return{left:0,right:v}}else{if(C){return{left:0,right:0}}return{left:v/2,right:v/2}}}if(C&&!a){return{left:0,right:0}}if(this._isDate(A)&&this._isDate(w)){var t=this._getDTIntCnt(A,w,Math.min(G,w-A),E);var z=F/Math.max(2,t);return{left:z/2,right:z/2}}var t=Math.max(1,w-A);if(t==1){sz=F/4;return{left:sz,right:sz}}var z=F/(t+1);return{left:z/2,right:z/2}},_calculateXOffsets:function(ai,P){var Q=this.seriesGroups[ai];var ab=this._getXAxis(ai);var a=[];var ad=[];var ac=this._getDataLen(ai);var aj=this._getXAxisStats(ai,ab,P);var N=aj.min;var V=aj.max;var al=aj.isDateTime;var M=aj.isTimeUnit;var T=this._hasColumnSeries();var ak=Q.polar||Q.spider;var aa=this._get([Q.startAngle,Q.minAngle,0]);var R=this._get([Q.endAngle,Q.maxAngle,360]);var Y=ak&&!(Math.abs(Math.abs(R-aa)-360)>0.0001);var ae=this._alignValuesWithTicks(ai);var S=this._getPaddingSize(aj,ab,ae,P,ak,Y,T);var K=V-N;var W=aj.filterRange;if(K==0){K=1}var L=P-S.left-S.right;if(ak&&ae){S.left=S.right=0}var ag=-1,Z=-1;for(var X=0;X<ac;X++){var O=(ab.dataField===undefined)?X:this._getDataValue(X,ab.dataField,ai);if(aj.useIndeces){if(X<W.min||X>W.max){a.push(NaN);ad.push(undefined);continue}a.push(c.jqx._ptrnd(S.left+(X-N)/K*L));ad.push(O);if(ag==-1){ag=X}if(Z==-1||Z<X){Z=X}continue}O=al?this._castAsDate(O,ab.dateFormat):this._castAsNumber(O);if(isNaN(O)||O<W.min||O>W.max){a.push(NaN);ad.push(undefined);continue}var U=0;if(!al||(al&&M)){diffFromMin=O-N;U=(O-N)*L/K}else{U=(O.valueOf()-N.valueOf())/(V.valueOf()-N.valueOf())*L}U=c.jqx._ptrnd(S.left+U);a.push(U);ad.push(O);if(ag==-1){ag=X}if(Z==-1||Z<X){Z=X}}if(ab.flip==true){for(var X=0;X<a.length;X++){if(!isNaN(a[X])){a[X]=P-a[X]}}}if(M||al){K=this._getDateDiff(N,V,ab.baseUnit);K=c.jqx._rnd(K,1,false)}var af=Math.max(1,K);var ah=L/af;if(ag==Z&&af==1){a[ag]=S.left+L/2}if(this.enableSampling&&a.length>this.samplingThreshold){this._sampleXOffsets(P,a,ad,ag,Z)}return{axisStats:aj,data:a,xvalues:ad,first:ag,last:Z,length:Z==-1?0:Z-ag+1,itemWidth:ah,intervalWidth:ah*aj.interval,rangeLength:K,useIndeces:aj.useIndeces,padding:S,axisSize:L}},_sampleXOffsets:function(a,q,t,l,o){var o=NaN;for(var s=0;s<q.length;s++){var n=Math.round(q[s]);if(isNaN(n)){continue}if(!isNaN(o)&&Math.abs(q[o]-n)<1){continue}o=s}},_getXAxis:function(a){if(a==undefined||this.seriesGroups.length<=a){return this.categoryAxis||this.xAxis}return this.seriesGroups[a].categoryAxis||this.seriesGroups[a].xAxis||this.categoryAxis||this.xAxis},_isGreyScale:function(a,n){var h=this.seriesGroups[a];var l=h.series[n];if(l.greyScale==true){return true}else{if(l.greyScale==false){return false}}if(h.greyScale==true){return true}else{if(h.greyScale==false){return false}}return this.greyScale==true},_getSeriesColors:function(a,o,l){var q=this._getSeriesColorsInternal(a,o,l);if(this._isGreyScale(a,o)){for(var n in q){q[n]=c.jqx.toGreyScale(q[n])}}return q},_getColorFromScheme:function(a,u,E){var C="#000000";var s=this.seriesGroups[a];var z=s.series[u];if(this._isPieGroup(a)){var D=this._getDataLen(a);C=this._getItemColorFromScheme(z.colorScheme||s.colorScheme||this.colorScheme,u*D+E,a,u)}else{var t=0;for(var A=0;A<=a;A++){for(var B in this.seriesGroups[A].series){if(A==a&&B==u){break}else{t++}}}var v=this.colorScheme;if(s.colorScheme){v=s.colorScheme;sidex=seriesIndex}if(v==undefined||v==""){v=this.colorSchemes[0].name}if(!v){return C}for(var A=0;A<this.colorSchemes.length;A++){var w=this.colorSchemes[A];if(w.name==v){while(t>w.colors.length){t-=w.colors.length;if(++A>=this.colorSchemes.length){A=0}w=this.colorSchemes[A]}C=w.colors[t%w.colors.length]}}}return C},_createColorsCache:function(){this._colorsCache={get:function(a){if(this._store[a]){return this._store[a]}},set:function(a,e){if(this._size<10000){this._store[a]=e;this._size++}},clear:function(){this._store={};this._size=0},_size:0,_store:{}}},_getSeriesColorsInternal:function(s,C,E){var A=this.seriesGroups[s];var a=A.series[C];if(!c.isFunction(a.colorFunction)&&A.type!="pie"&&A.type!="donut"){E=NaN}var z=s+"_"+C+"_"+(isNaN(E)?"NaN":E);if(this._colorsCache.get(z)){return this._colorsCache.get(z)}var D={lineColor:"#222222",lineColorSelected:"#151515",lineColorSymbol:"#222222",lineColorSymbolSelected:"#151515",fillColor:"#222222",fillColorSelected:"#333333",fillColorSymbol:"#222222",fillColorSymbolSelected:"#333333",fillColorAlt:"#222222",fillColorAltSelected:"#333333"};var w;if(c.isFunction(a.colorFunction)){var v=!isNaN(E)?this._getDataValue(E,a.dataField,s):NaN;if(A.type.indexOf("range")!=-1&&!isNaN(E)){var B=this._getDataValue(E,a.dataFieldFrom,s);var t=this._getDataValue(E,a.dataFieldTo,s);v={from:B,to:t}}w=a.colorFunction(v,E,a,A);if(typeof(w)=="object"){for(var u in w){D[u]=w[u]}}else{D.fillColor=w}}else{for(var u in D){if(a[u]){D[u]=a[u]}}if(!a.fillColor&&!a.color){D.fillColor=this._getColorFromScheme(s,C,E)}else{a.fillColor=a.fillColor||a.color}}var q={fillColor:{baseColor:"fillColor",adjust:1},fillColorSelected:{baseColor:"fillColor",adjust:1.1},fillColorSymbol:{baseColor:"fillColor",adjust:1},fillColorSymbolSelected:{baseColor:"fillColorSymbol",adjust:2},fillColorAlt:{baseColor:"fillColor",adjust:4},fillColorAltSelected:{baseColor:"fillColor",adjust:3},lineColor:{baseColor:"fillColor",adjust:0.95},lineColorSelected:{baseColor:"lineColor",adjust:0.95},lineColorSymbol:{baseColor:"lineColor",adjust:1},lineColorSymbolSelected:{baseColor:"lineColorSelected",adjust:1}};for(var u in D){if(typeof(w)!="object"||!w[u]){if(a[u]){D[u]=a[u]}}}for(var u in D){if(typeof(w)!="object"||!w[u]){if(!a[u]){D[u]=c.jqx.adjustColor(D[q[u].baseColor],q[u].adjust)}}}this._colorsCache.set(z,D);return D},_getItemColorFromScheme:function(t,q,a,n){if(t==undefined||t==""){t=this.colorSchemes[0].name}for(var o=0;o<this.colorSchemes.length;o++){if(t==this.colorSchemes[o].name){break}}var s=0;while(s<=q){if(o==this.colorSchemes.length){o=0}var v=this.colorSchemes[o].colors.length;if(s+v<=q){s+=v;o++}else{var u=this.colorSchemes[o].colors[q-s];if(this._isGreyScale(a,n)&&u.indexOf("#")==0){u=c.jqx.toGreyScale(u)}return u}}},getColorScheme:function(e){for(var a=0;a<this.colorSchemes.length;a++){if(this.colorSchemes[a].name==e){return this.colorSchemes[a].colors}}return undefined},addColorScheme:function(f,h){for(var a=0;a<this.colorSchemes.length;a++){if(this.colorSchemes[a].name==f){this.colorSchemes[a].colors=h;return}}this.colorSchemes.push({name:f,colors:h})},removeColorScheme:function(e){for(var a=0;a<this.colorSchemes.length;a++){if(this.colorSchemes[a].name==e){this.colorSchemes.splice(a,1);break}}},colorSchemes:[{name:"scheme01",colors:["#307DD7","#AA4643","#89A54E","#71588F","#4198AF"]},{name:"scheme02",colors:["#7FD13B","#EA157A","#FEB80A","#00ADDC","#738AC8"]},{name:"scheme03",colors:["#E8601A","#FF9639","#F5BD6A","#599994","#115D6E"]},{name:"scheme04",colors:["#D02841","#FF7C41","#FFC051","#5B5F4D","#364651"]},{name:"scheme05",colors:["#25A0DA","#309B46","#8EBC00","#FF7515","#FFAE00"]},{name:"scheme06",colors:["#0A3A4A","#196674","#33A6B2","#9AC836","#D0E64B"]},{name:"scheme07",colors:["#CC6B32","#FFAB48","#FFE7AD","#A7C9AE","#888A63"]},{name:"scheme08",colors:["#3F3943","#01A2A6","#29D9C2","#BDF271","#FFFFA6"]},{name:"scheme09",colors:["#1B2B32","#37646F","#A3ABAF","#E1E7E8","#B22E2F"]},{name:"scheme10",colors:["#5A4B53","#9C3C58","#DE2B5B","#D86A41","#D2A825"]},{name:"scheme11",colors:["#993144","#FFA257","#CCA56A","#ADA072","#949681"]},{name:"scheme12",colors:["#105B63","#EEEAC5","#FFD34E","#DB9E36","#BD4932"]},{name:"scheme13",colors:["#BBEBBC","#F0EE94","#F5C465","#FA7642","#FF1E54"]},{name:"scheme14",colors:["#60573E","#F2EEAC","#BFA575","#A63841","#BFB8A3"]},{name:"scheme15",colors:["#444546","#FFBB6E","#F28D00","#D94F00","#7F203B"]},{name:"scheme16",colors:["#583C39","#674E49","#948658","#F0E99A","#564E49"]},{name:"scheme17",colors:["#142D58","#447F6E","#E1B65B","#C8782A","#9E3E17"]},{name:"scheme18",colors:["#4D2B1F","#635D61","#7992A2","#97BFD5","#BFDCF5"]},{name:"scheme19",colors:["#844341","#D5CC92","#BBA146","#897B26","#55591C"]},{name:"scheme20",colors:["#56626B","#6C9380","#C0CA55","#F07C6C","#AD5472"]},{name:"scheme21",colors:["#96003A","#FF7347","#FFBC7B","#FF4154","#642223"]},{name:"scheme22",colors:["#5D7359","#E0D697","#D6AA5C","#8C5430","#661C0E"]},{name:"scheme23",colors:["#16193B","#35478C","#4E7AC7","#7FB2F0","#ADD5F7"]},{name:"scheme24",colors:["#7B1A25","#BF5322","#9DA860","#CEA457","#B67818"]},{name:"scheme25",colors:["#0081DA","#3AAFFF","#99C900","#FFEB3D","#309B46"]},{name:"scheme26",colors:["#0069A5","#0098EE","#7BD2F6","#FFB800","#FF6800"]},{name:"scheme27",colors:["#FF6800","#A0A700","#FF8D00","#678900","#0069A5"]}],_formatValue:function(l,a,q,n,s,o){if(l==undefined){return""}if(this._isObject(l)&&!this._isDate(l)&&!q){return""}if(q){if(!c.isFunction(q)){return l.toString()}try{return q(l,o,s,n)}catch(e){return e.message}}if(this._isNumber(l)){return this._formatNumber(l,a)}if(this._isDate(l)){return this._formatDate(l,a)}if(a){return(a.prefix||"")+l.toString()+(a.sufix||"")}return l.toString()},_getFormattedValue:function(Q,P,F,H,R,M){var I=this.seriesGroups[Q];var K=I.series[P];var L="";var O=H,N=R;if(!N){N=K.formatFunction||I.formatFunction}if(!O){O=K.formatSettings||I.formatSettings}if(!K.formatFunction&&K.formatSettings){N=undefined}var J={},s=0;for(var T in K){if(T.indexOf("dataField")==0){J[T.substring(9).toLowerCase()]=this._getDataValue(F,K[T],Q);s++}}if(s==0){J=this._getDataValue(F,undefined,Q)}if(I.type.indexOf("waterfall")!=-1&&this._isSummary(Q,F)){J=this._renderData[Q].offsets[P][F].value;s=0}if(N&&c.isFunction(N)){try{return N(s==1?J[""]:J,F,K,I)}catch(G){return G.message}}if(s==1&&this._isPieGroup(Q)){return this._formatValue(J[""],O,N,Q,P,F)}if(s>0){var e=0;for(var T in J){if(e>0&&L!=""){L+="<br>"}var D="dataField"+(T.length>0?T.substring(0,1).toUpperCase()+T.substring(1):"");var E="displayText"+(T.length>0?T.substring(0,1).toUpperCase()+T.substring(1):"");var a=K[E]||K[D];var S=J[T];if(undefined!=S){S=this._formatValue(S,O,N,Q,P,F)}else{continue}if(M===true){L+=S}else{L+=a+": "+S}e++}}else{if(undefined!=J){L=this._formatValue(J,O,N,Q,P,F)}}return L||""},_isNumberAsString:function(a){if(typeof(a)!="string"){return false}a=c.trim(a);for(var h=0;h<a.length;h++){var f=a.charAt(h);if((f>="0"&&f<="9")||f==","||f=="."){continue}if(f=="-"&&h==0){continue}if((f=="("&&h==0)||(f==")"&&h==a.length-1)){continue}return false}return true},_castAsDate:function(a,o){if(a instanceof Date&&!isNaN(a)){return a}if(typeof(a)=="string"){var q;if(o){q=c.jqx.dataFormat.parsedate(a,o);if(this._isDate(q)){return q}}if(this._autoDateFormats){for(var l=0;l<this._autoDateFormats.length;l++){q=c.jqx.dataFormat.parsedate(a,this._autoDateFormats[l]);if(this._isDate(q)){return q}}}var n=this._detectDateFormat(a);if(n){q=c.jqx.dataFormat.parsedate(a,n);if(this._isDate(q)){this._autoDateFormats.push(n);return q}}q=new Date(a);if(this._isDate(q)){if(a.indexOf(":")==-1){q.setHours(0,0,0,0)}}return q}return undefined},_castAsNumber:function(a){if(a instanceof Date&&!isNaN(a)){return a.valueOf()}if(typeof(a)=="string"){if(this._isNumber(a)){a=parseFloat(a)}else{if(!/[a-zA-Z]/.test(a)){var e=new Date(a);if(e!=undefined){a=e.valueOf()}}}}return a},_isNumber:function(a){if(typeof(a)=="string"){if(this._isNumberAsString(a)){a=parseFloat(a)}}return typeof a==="number"&&isFinite(a)},_isDate:function(a){return a instanceof Date&&!isNaN(a.getDate())},_isBoolean:function(a){return typeof a==="boolean"},_isObject:function(a){return(a&&(typeof a==="object"||c.isFunction(a)))||false},_formatDate:function(a,f){var h=a.toString();if(f){if(f.dateFormat){h=c.jqx.dataFormat.formatDate(a,f.dateFormat)}h=(f.prefix||"")+h+(f.sufix||"")}return h},_formatNumber:function(v,F){if(!this._isNumber(v)){return v}F=F||{};var K=".";var a="";var J=this;if(J.localization){K=J.localization.decimalSeparator||J.localization.decimalseparator||K;a=J.localization.thousandsSeparator||J.localization.thousandsseparator||a}if(F.decimalSeparator){K=F.decimalSeparator}if(F.thousandsSeparator){a=F.thousandsSeparator}var w=F.prefix||"";var L=F.sufix||"";var C=F.decimalPlaces;if(isNaN(C)){C=this._getDecimalPlaces([v],undefined,3)}var z=F.negativeWithBrackets||false;var D=(v<0);if(D&&z){v*=-1}var G=v.toString();var I;var A=Math.pow(10,C);G=(Math.round(v*A)/A).toString();if(isNaN(G)){G=""}I=G.lastIndexOf(".");if(C>0){if(I<0){G+=K;I=G.length-1}else{if(K!=="."){G=G.replace(".",K)}}while((G.length-1-I)<C){G+="0"}}I=G.lastIndexOf(K);I=(I>-1)?I:G.length;var E=G.substring(I);var H=0;for(var B=I;B>0;B--,H++){if((H%3===0)&&(B!==I)&&(!D||(B>1)||(D&&z))){E=a+E}E=G.charAt(B-1)+E}G=E;if(D&&z){G="("+G+")"}return w+G+L},_defaultNumberFormat:{prefix:"",sufix:"",decimalSeparator:".",thousandsSeparator:",",decimalPlaces:2,negativeWithBrackets:false},_calculateControlPoints:function(B,C){var D=B[C],t=B[C+1],E=B[C+2],w=B[C+3],F=B[C+4],z=B[C+5];var u=0.4;var a=Math.sqrt(Math.pow(E-D,2)+Math.pow(w-t,2));var G=Math.sqrt(Math.pow(F-E,2)+Math.pow(z-w,2));var A=(a+G);if(A==0){A=1}var s=u*a/A;var v=u-s;return[E+s*(D-F),w+s*(t-z),E-v*(D-F),w-v*(t-z)]},_getBezierPoints:function(t){var u="";var n=[],s=[];var o=t.split(" ");for(var q=0;q<o.length;q++){var a=o[q].split(",");n.push(parseFloat(a[0]));n.push(parseFloat(a[1]));if(isNaN(n[n.length-1])||isNaN(n[n.length-2])){continue}}var v=n.length;if(v<=1){return""}else{if(v==2){u="M"+c.jqx._ptrnd(n[0])+","+c.jqx._ptrnd(n[1])+" L"+c.jqx._ptrnd(n[0]+1)+","+c.jqx._ptrnd(n[1]+1)+" ";return u}}for(var q=0;q<v-4;q+=2){s=s.concat(this._calculateControlPoints(n,q))}for(var q=2;q<v-5;q+=2){u+=" C"+c.jqx._ptrnd(s[2*q-2])+","+c.jqx._ptrnd(s[2*q-1])+" "+c.jqx._ptrnd(s[2*q])+","+c.jqx._ptrnd(s[2*q+1])+" "+c.jqx._ptrnd(n[q+2])+","+c.jqx._ptrnd(n[q+3])+" "}if(v<=4||(Math.abs(n[0]-n[2])<3||Math.abs(n[1]-n[3])<3)||this._isVML){u="M"+c.jqx._ptrnd(n[0])+","+c.jqx._ptrnd(n[1])+" L"+c.jqx._ptrnd(n[2])+","+c.jqx._ptrnd(n[3])+" "+u}else{u="M"+c.jqx._ptrnd(n[0])+","+c.jqx._ptrnd(n[1])+" Q"+c.jqx._ptrnd(s[0])+","+c.jqx._ptrnd(s[1])+" "+c.jqx._ptrnd(n[2])+","+c.jqx._ptrnd(n[3])+" "+u}if(v>=4&&(Math.abs(n[v-2]-n[v-4])<3||Math.abs(n[v-1]-n[v-3])<3||this._isVML)){u+=" L"+c.jqx._ptrnd(n[v-2])+","+c.jqx._ptrnd(n[v-1])+" "}else{if(v>=5){u+=" Q"+c.jqx._ptrnd(s[v*2-10])+","+c.jqx._ptrnd(s[v*2-9])+" "+c.jqx._ptrnd(n[v-2])+","+c.jqx._ptrnd(n[v-1])+" "}}return u},_animTickInt:50,_createAnimationGroup:function(a){if(!this._animGroups){this._animGroups={}}this._animGroups[a]={animations:[],startTick:NaN}},_startAnimation:function(d){var a=new Date();var h=a.getTime();this._animGroups[d].startTick=h;this._runAnimation();this._enableAnimTimer()},_enqueueAnimation:function(o,q,s,l,n,t,a){if(l<0){l=0}if(a==undefined){a="easeInOutSine"}this._animGroups[o].animations.push({key:q,properties:s,duration:l,fn:n,context:t,easing:a})},_stopAnimations:function(){clearTimeout(this._animtimer);this._animtimer=undefined;this._animGroups=undefined},_enableAnimTimer:function(){if(!this._animtimer){var a=this;this._animtimer=setTimeout(function(){a._runAnimation()},this._animTickInt)}},_runAnimation:function(M){if(this._animGroups){var J=new Date();var C=J.getTime();var N={};for(var A in this._animGroups){var K=this._animGroups[A].animations;var d=this._animGroups[A].startTick;var D=0;for(var a=0;a<K.length;a++){var I=K[a];var H=(C-d);if(I.duration>D){D=I.duration}var L=I.duration>0?H/I.duration:1;var B=L;if(I.easing&&I.duration!=0){B=c.easing[I.easing](L,H,0,1,I.duration)}if(L>1){L=1;B=1}if(I.fn){I.fn(I.key,I.context,B);continue}var E={};for(var A=0;A<I.properties.length;A++){var G=I.properties[A];var F=0;if(L==1){F=G.to}else{F=easeParecent*(G.to-G.from)+G.from}E[G.key]=F}this.renderer.attr(I.key,E)}if(d+D>C){N[A]=({startTick:d,animations:K})}}this._animGroups=N;if(this.renderer instanceof c.jqx.HTML5Renderer){this.renderer.refresh()}}this._animtimer=null;for(var A in this._animGroups){this._enableAnimTimer();break}},_fixCoords:function(h,a){var n=this.seriesGroups[a].orientation=="horizontal";if(!n){return h}var l=h.x;h.x=h.y;h.y=l+this._plotRect.y-this._plotRect.x;var l=h.width;h.width=h.height;h.height=l;return h},getItemCoord:function(Q,O,s){var I=this;if(I._isPieGroup(Q)&&(!I._isSerieVisible(Q,O,s)||!I._renderData||I._renderData.length<=Q)){return{x:NaN,y:NaN}}if(!I._isSerieVisible(Q,O)||!I._renderData||I._renderData.length<=Q){return{x:NaN,y:NaN}}var C=I.seriesGroups[Q];var J=C.series[O];var E=I._getItemCoord(Q,O,s);if(I._isPieGroup(Q)){if(isNaN(E.x)||isNaN(E.y)||isNaN(E.fromAngle)||isNaN(E.toAngle)){return{x:NaN,y:NaN}}var K=this._plotRect;var D=E.fromAngle*(Math.PI/180);var N=E.toAngle*(Math.PI/180);x1=K.x+E.center.x+Math.cos(D)*E.outerRadius;x2=K.x+E.center.x+Math.cos(N)*E.outerRadius;y1=K.y+E.center.y-Math.sin(D)*E.outerRadius;y2=K.y+E.center.y-Math.sin(N)*E.outerRadius;var L=Math.min(x1,x2);var G=Math.abs(x2-x1);var M=Math.min(y1,y2);var H=Math.abs(y2-y1);E={x:L,y:M,width:G,height:H,center:E.center,centerOffset:E.centerOffset,innerRadius:E.innerRadius,outerRadius:E.outerRadius,selectedRadiusChange:E.selectedRadiusChange,fromAngle:E.fromAngle,toAngle:E.toAngle};return E}if(C.type.indexOf("column")!=-1||C.type.indexOf("waterfall")!=-1){var a=this._getColumnSerieWidthAndOffset(Q,O);E.height=Math.abs(E.y.to-E.y.from);E.y=Math.min(E.y.to,E.y.from);E.x+=a.offset;E.width=a.width}else{if(C.type.indexOf("ohlc")!=-1||C.type.indexOf("candlestick")!=-1){var a=this._getColumnSerieWidthAndOffset(Q,O);var M=E.y;var A=Math.min(M.Open,M.Close,M.Low,M.High);var B=Math.max(M.Open,M.Close,M.Low,M.High);E.height=Math.abs(B-A);E.y=A;E.x+=a.offset;E.width=a.width}else{if(C.type.indexOf("line")!=-1||C.type.indexOf("area")!=-1){E.width=E.height=0;E.y=E.y.to}else{if(C.type.indexOf("bubble")!=-1||C.type.indexOf("scatter")!=-1){E.center={x:E.x,y:E.y.to};var P=E.y.radius;if(J.symbolType!="circle"&&J.symbolType!=undefined){P/=2}E.y=E.y.to;E.radius=P;E.width=2*P;E.height=2*P}}}}E=this._fixCoords(E,Q);if(C.polar||C.spider){var F=this._toPolarCoord(this._renderData[Q].polarCoords,this._plotRect,E.x,E.y);E.x=F.x;E.y=F.y;if(E.center){E.center=this._toPolarCoord(this._renderData[Q].polarCoords,this._plotRect,E.center.x,E.center.y)}}if(C.type.indexOf("bubble")!=-1||C.type.indexOf("scatter")!=-1){E.x-=P;E.y-=P}return E},_getItemCoord:function(a,v,D){var A=this.seriesGroups[a],t,u;if(!A||!this._renderData){return{x:NaN,y:NaN}}var z=A.series[v];if(!z){return{x:NaN,y:NaN}}var w=this._plotRect;if(this._isPieGroup(a)){var s=this._renderData[a].offsets[v][D];if(!s){return{x:NaN,y:NaN}}var C=(s.fromAngle+s.toAngle)/2*(Math.PI/180);t=w.x+s.x+Math.cos(C)*s.outerRadius;u=w.y+s.y-Math.sin(C)*s.outerRadius;return{x:t,y:u,center:{x:s.x,y:s.y},centerOffset:s.centerOffset,innerRadius:s.innerRadius,outerRadius:s.outerRadius,selectedRadiusChange:s.selectedRadiusChange,fromAngle:s.fromAngle,toAngle:s.toAngle}}else{t=w.x+this._renderData[a].xoffsets.data[D];u=this._renderData[a].offsets[v][D];if(isNaN(t)||!u){return{x:NaN,y:NaN}}}var q={};for(var B in u){q[B]=u[B]}return{x:t,y:q}},_detectDateFormat:function(o,s){var t={en_US_d:"M/d/yyyy",en_US_D:"dddd, MMMM dd, yyyy",en_US_t:"h:mm tt",en_US_T:"h:mm:ss tt",en_US_f:"dddd, MMMM dd, yyyy h:mm tt",en_US_F:"dddd, MMMM dd, yyyy h:mm:ss tt",en_US_M:"MMMM dd",en_US_Y:"yyyy MMMM",en_US_S:"yyyy\u0027-\u0027MM\u0027-\u0027dd\u0027T\u0027HH\u0027:\u0027mm\u0027:\u0027ss",en_CA_d:"dd/MM/yyyy",en_CA_D:"MMMM-dd-yy",en_CA_f:"MMMM-dd-yy h:mm tt",en_CA_F:"MMMM-dd-yy h:mm:ss tt",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff",de_DE_d:"dd.MM.yyyy",de_DE_D:"dddd, d. MMMM yyyy",de_DE_t:"HH:mm",de_DE_T:"HH:mm:ss",de_DE_f:"dddd, d. MMMM yyyy HH:mm",de_DE_F:"dddd, d. MMMM yyyy HH:mm:ss",de_DE_M:"dd MMMM",de_DE_Y:"MMMM yyyy",fr_FR_d:"dd/MM/yyyy",fr_FR_D:"dddd d MMMM yyyy",fr_FR_t:"HH:mm",fr_FR_T:"HH:mm:ss",fr_FR_f:"dddd d MMMM yyyy HH:mm",fr_FR_F:"dddd d MMMM yyyy HH:mm:ss",fr_FR_M:"d MMMM",fr_FR_Y:"MMMM yyyy",it_IT_d:"dd/MM/yyyy",it_IT_D:"dddd d MMMM yyyy",it_IT_t:"HH:mm",it_IT_T:"HH:mm:ss",it_IT_f:"dddd d MMMM yyyy HH:mm",it_IT_F:"dddd d MMMM yyyy HH:mm:ss",it_IT_M:"dd MMMM",it_IT_Y:"MMMM yyyy",ru_RU_d:"dd.MM.yyyy",ru_RU_D:"d MMMM yyyy '?.'",ru_RU_t:"H:mm",ru_RU_T:"H:mm:ss",ru_RU_f:"d MMMM yyyy '?.' H:mm",ru_RU_F:"d MMMM yyyy '?.' H:mm:ss",ru_RU_Y:"MMMM yyyy",cs_CZ_d:"d.M.yyyy",cs_CZ_D:"d. MMMM yyyy",cs_CZ_t:"H:mm",cs_CZ_T:"H:mm:ss",cs_CZ_f:"d. MMMM yyyy H:mm",cs_CZ_F:"d. MMMM yyyy H:mm:ss",cs_CZ_M:"dd MMMM",cs_CZ_Y:"MMMM yyyy",he_IL_d:"dd MMMM yyyy",he_IL_D:"dddd dd MMMM yyyy",he_IL_t:"HH:mm",he_IL_T:"HH:mm:ss",he_IL_f:"dddd dd MMMM yyyy HH:mm",he_IL_F:"dddd dd MMMM yyyy HH:mm:ss",he_IL_M:"dd MMMM",he_IL_Y:"MMMM yyyy",hr_HR_d:"d.M.yyyy.",hr_HR_D:"d. MMMM yyyy.",hr_HR_t:"H:mm",hr_HR_T:"H:mm:ss",hr_HR_f:"d. MMMM yyyy. H:mm",hr_HR_F:"d. MMMM yyyy. H:mm:ss",hr_HR_M:"d. MMMM",hu_HU_d:"yyyy.MM.dd.",hu_HU_D:"yyyy. MMMM d.",hu_HU_t:"H:mm",hu_HU_T:"H:mm:ss",hu_HU_f:"yyyy. MMMM d. H:mm",hu_HU_F:"yyyy. MMMM d. H:mm:ss",hu_HU_M:"MMMM d.",hu_HU_Y:"yyyy. MMMM",jp_JP_d:"gg y/M/d",jp_JP_D:"gg y'?'M'?'d'?'",jp_JP_t:"H:mm",jp_JP_T:"H:mm:ss",jp_JP_f:"gg y'?'M'?'d'?' H:mm",jp_JP_F:"gg y'?'M'?'d'?' H:mm:ss",jp_JP_M:"M'?'d'?'",jp_JP_Y:"gg y'?'M'?'",lt_LT_d:"yyyy.MM.dd",lt_LT_D:"yyyy 'm.' MMMM d 'd.'",lt_LT_t:"HH:mm",lt_LT_T:"HH:mm:ss",lt_LT_f:"yyyy 'm.' MMMM d 'd.' HH:mm",lt_LT_F:"yyyy 'm.' MMMM d 'd.' HH:mm:ss",lt_LT_M:"MMMM d 'd.'",lt_LT_Y:"yyyy 'm.' MMMM",sa_IN_d:"dd-MM-yyyy",sa_IN_D:"dd MMMM yyyy dddd",sa_IN_t:"HH:mm",sa_IN_T:"HH:mm:ss",sa_IN_f:"dd MMMM yyyy dddd HH:mm",sa_IN_F:"dd MMMM yyyy dddd HH:mm:ss",sa_IN_M:"dd MMMM",basic_y:"yyyy",basic_ym:"yyyy-MM",basic_d:"yyyy-MM-dd",basic_dhm:"yyyy-MM-dd hh:mm",basic_bhms:"yyyy-MM-dd hh:mm:ss",basic2_ym:"MM-yyyy",basic2_d:"MM-dd-yyyy",basic2_dhm:"MM-dd-yyyy hh:mm",basic2_dhms:"MM-dd-yyyy hh:mm:ss",basic3_ym:"yyyy/MM",basic3_d:"yyyy/MM/dd",basic3_dhm:"yyyy/MM/dd hh:mm",basic3_bhms:"yyyy/MM/dd hh:mm:ss",basic4_ym:"MM/yyyy",basic4_d:"MM/dd/yyyy",basic4_dhm:"MM/dd/yyyy hh:mm",basic4_dhms:"MM/dd/yyyy hh:mm:ss"};if(s){t=c.extend({},t,s)}var u=[];if(!c.isArray(o)){u.push(o)}else{u=o}for(var q in t){t[q]={format:t[q],count:0}}for(var n=0;n<u.length;n++){value=u[n];if(value==null||value==undefined){continue}for(var q in t){var v=c.jqx.dataFormat.parsedate(value,t[q].format);if(v!=null){t[q].count++}}}var a={key:undefined,count:0};for(var q in t){if(t[q].count>a.count){a.key=q;a.count=t[q].count}}return a.key?t[a.key].format:""},_testXAxisDateFormat:function(o){var a=this;var u=a._getXAxis(o);var v=a._getDataLen(o);var t={};if(a.localization&&a.localization.patterns){for(var n in a.localization.patterns){t["local_"+n]=a.localization.patterns[n]}}var q=[];for(var s=0;s<v&&s<10;s++){value=a._getDataValue(s,u.dataField,o);if(value==null||value==undefined){continue}q.push(value)}var w=a._detectDateFormat(q,t);return w}})})(jqxBaseFramework);(function(c){c.extend(c.jqx._jqxChart.prototype,{_moduleApi:true,getItemsCount:function(a,q){var n=this.seriesGroups[a];if(!this._isSerieVisible(a,q)){return 0}var l=this._renderData;if(!n||!l||l.length<=a){return 0}var o=n.series[q];if(!o){return 0}return l[a].offsets[q].length},getXAxisRect:function(a){var e=this._renderData;if(!e||e.length<=a){return undefined}if(!e[a].xAxis){return undefined}return e[a].xAxis.rect},getXAxisLabels:function(o){var w=[];var a=this._renderData;if(!a||a.length<=o){return w}a=a[o].xAxis;if(!a){return w}var q=this.seriesGroups[o];if(q.polar||q.spider){for(var v=0;v<a.polarLabels.length;v++){var s=a.polarLabels[v];w.push({offset:{x:s.x,y:s.y},value:s.value})}return w}var z=this._getXAxis(o);var t=this.getXAxisRect(o);var A=z.position=="top"||z.position=="right";var u=q.orientation=="horizontal";for(var v=0;v<a.data.length;v++){if(u){w.push({offset:{x:t.x+(A?0:t.width),y:t.y+a.data.data[v]},value:a.data.xvalues[v]})}else{w.push({offset:{x:t.x+a.data.data[v],y:t.y+(A?t.height:0)},value:a.data.xvalues[v]})}}return w},getValueAxisRect:function(a){var e=this._renderData;if(!e||e.length<=a){return undefined}if(!e[a].valueAxis){return undefined}return e[a].valueAxis.rect},getValueAxisLabels:function(o){var v=[];var n=this._renderData;if(!n||n.length<=o){return v}n=n[o].valueAxis;if(!n){return v}var a=this._getValueAxis(o);var w=a.position=="top"||a.position=="right";var q=this.seriesGroups[o];var t=q.orientation=="horizontal";if(q.polar||q.spider){for(var u=0;u<n.polarLabels.length;u++){var s=n.polarLabels[u];v.push({offset:{x:s.x,y:s.y},value:s.value})}return v}for(var u=0;u<n.items.length;u++){if(t){v.push({offset:{x:n.itemOffsets[n.items[u]].x+n.itemWidth/2,y:n.rect.y+(w?n.rect.height:0)},value:n.items[u]})}else{v.push({offset:{x:n.rect.x+n.rect.width,y:n.itemOffsets[n.items[u]].y+n.itemWidth/2},value:n.items[u]})}}return v},getPlotAreaRect:function(){return this._plotRect},getRect:function(){return this._rect},showToolTip:function(l,q,n,s,o){var a=this.getItemCoord(l,q,n);if(isNaN(a.x)||isNaN(a.y)){return}this._startTooltipTimer(l,q,n,a.x,a.y,s,o)},hideToolTip:function(a){if(isNaN(a)){a=0}var e=this;e._cancelTooltipTimer();setTimeout(function(){e._hideToolTip(0)},a)}})})(jqxBaseFramework);(function(c){c.extend(c.jqx._jqxChart.prototype,{_moduleRangeSelector:true,_renderXAxisRangeSelector:function(t,v){var I=this;I._isTouchDevice=c.jqx.mobile.isTouchDevice();var C=I.seriesGroups[t];var F=I._getXAxis(t);var z=F?F.rangeSelector:undefined;if(!I._isSelectorRefresh){var a=(z&&z.renderTo)?z.renderTo:I.host;a.find(".rangeSelector").remove()}if(!F||F.visible==false||C.type=="spider"){return false}if(!I._isGroupVisible(t)){return false}if(!z){return false}var D=C.orientation=="horizontal";if(z.renderTo){D=false}if(I.rtl){F.flip=true}var G=D?this.host.height():this.host.width();G-=4;var u=this._getXAxisStats(t,F,G);var A=F.position;if(z.renderTo&&z.position){A=z.position}if(!this._isSelectorRefresh){var w=z.renderTo;var H="<div class='rangeSelector jqx-disableselect' style='position: absolute; background-color: transparent;' onselectstart='return false;'></div>";var E=c(H).appendTo(w?w:this.renderer.getContainer());if(!w){var B=this.host.coord();B.top=0;B.left=0;selectorSize=this._selectorGetSize(F);if(!D){E.css("left",B.left+1);E.css("top",B.top+v.y+(A!="top"?v.height:-selectorSize));E.css("height",selectorSize);E.css("width",G)}else{E.css("left",B.left+1+v.x+(A!="right"?-selectorSize:v.width));E.css("top",B.top);E.css("height",G);E.css("width",selectorSize);v.height=selectorSize}}else{E.css({width:w.width(),height:w.height()});v.width=w.width();v.height=w.height()}this._refreshSelector(t,F,u,E,v,D)}this._isSelectorRefresh=false;return true},_refreshSelector:function(ac,ad,ae,M,af,ag){var ab={};var a=ad.rangeSelector;var Z=this.seriesGroups[ac];for(var U in a){ab[U]=a[U]}delete ab.padding;var N=ab.minValue;var W=ab.maxValue;if(undefined==N){N=Math.min(ae.min.valueOf(),ae.dsRange.min.valueOf())}if(undefined==W){W=Math.max(ae.max.valueOf(),ae.dsRange.max.valueOf())}if(this._isDate(ae.min)){N=new Date(N)}if(this._isDate(ae.max)){W=new Date(W)}var Y=ad.position;if(a.renderTo&&a.position){Y=a.position}ab.dataField=ad.dataField;delete ab.rangeSelector;ab.type=ad.type;ab.baseUnit=a.baseUnit||ad.baseUnit;ab.minValue=N;ab.maxValue=W;ab.flip=ad.flip;ab.position=Y;var aa=5;var P=2,O=2,R=2,J=2;if(!a.renderTo){P=ag?0:af.x;O=ag?0:this._rect.width-af.x-af.width;R=ag?af.y:aa;J=ag?this._paddedRect.height-this._plotRect.height:aa}var V=a.padding;if(V==undefined&&!a.renderTo){V={left:P,top:R,right:O,bottom:J}}else{V={left:((V&&V.left)?V.left:P),top:((V&&V.top)?V.top:R),right:((V&&V.right)?V.right:O),bottom:((V&&V.bottom)?V.bottom:J)}}var I=ad.rangeSelector.dataField;for(var U=0;undefined==I&&U<this.seriesGroups.length;U++){for(var L=0;undefined==I&&L<this.seriesGroups[U].series.length;L++){I=this.seriesGroups[U].series[L].dataField}}var X={padding:V,_isRangeSelectorInstance:true,title:a.title||"",description:a.description||"",titlePadding:a.titlePadding,colorScheme:a.colorScheme||this.colorScheme,backgroundColor:a.backgroundColor||this.backgroundColor||"transparent",backgroundImage:a.backgroundImage||"",showBorderLine:a.showBorderLine||(a.renderTo?true:false),borderLineWidth:a.borderLineWidth||this.borderLineWidth,borderLineColor:a.borderLineColor||this.borderLineColor,rtl:a.rtl||this.rtl,greyScale:a.greyScale||this.greyScale,renderEngine:this.renderEngine,showLegend:false,enableAnimations:false,enableEvents:false,showToolTips:false,source:this.source,xAxis:ab,seriesGroups:[{orientation:ag?"horizontal":"vertical",valueAxis:{visible:false},type:ad.rangeSelector.serieType||"area",skipOverlappingPoints:c.jqx.getByPriority([ad.rangeSelector.skipOverlappingPoints,true]),columnSeriesOverlap:c.jqx.getByPriority([ad.rangeSelector.columnSeriesOverlap,false]),columnsGapPercent:c.jqx.getByPriority([ad.rangeSelector.columnsGapPercent,25]),seriesGapPercent:c.jqx.getByPriority([ad.rangeSelector.seriesGapPercent,25]),series:[{dataField:I,opacity:0.8,lineWidth:1}]}]};if(!X.showBorderLine){X.borderLineWidth=1;X.borderLineColor=c.jqx.getByPriority([this.backgroundColor,this.background,"#FFFFFF"]);X.showBorderLine=true}var T=this;T._supressBindingRefresh=true;M.empty();M.jqxChart(X);T._rangeSelectorInstances[ac]=M;T._supressBindingRefresh=false;M.on(T._getEvent("mousemove"),function(){T._unselect();T._hideToolTip()});var S=M.jqxChart("getInstance");if(!S._plotRect){return}var K=S._paddedRect;K.height=S._plotRect.height;if(!ag&&Y=="top"){K.y+=S._renderData[0].xAxis.rect.height}else{if(ag){var Q=S._renderData[0].xAxis.rect.width;K.width-=Q;if(Y!="right"){K.x+=Q}}}T._createSliderElements(ac,M,K,a);this.addHandler(c(document),T._getEvent("mousemove")+"."+this.element.id,T._onSliderMouseMove,{self:this,groupIndex:ac,renderTo:M,swapXY:ag});this.addHandler(c(M),T._getEvent("mousedown"),this._onSliderMouseDown,{self:this,groupIndex:ac,renderTo:M,swapXY:ag});this.addHandler(c(document),T._getEvent("mouseup")+"."+this.element.id,T._onSliderMouseUp,{element:this.element.id,self:this,groupIndex:ac,renderTo:M,swapXY:ag})},_createSliderElements:function(K,z,w,v){z.find(".slider").remove();var L=v.colorSelectedRange||"blue";var E=v.colorUnselectedRange||"white";var J=c("<div class='slider' style='position: relative;'></div>");J.css({background:L,opacity:0.1,left:w.x,top:w.y,width:w.width,height:w.height});J.appendTo(z);while(this._sliders.length<K+1){this._sliders.push({})}var B="<div class='slider' style='position: absolute;  background: "+E+"; opacity: 0.5;'></div>";var I="<div class='slider' style='position: absolute; background: grey; opacity: 0.5;'></div>";var D="<div class='slider jqx-rc-all' style='position: absolute; background: white; border-style: solid; border-width: 1px; border-color: grey;'></div>";this._sliders[K]={element:J,host:z,_sliderInitialAbsoluteRect:{x:J.coord().left,y:J.coord().top,width:w.width,height:w.height},_hostInitialAbsolutePos:{x:z.coord().left,y:z.coord().top},getRect:function(){return{x:this.host.coord().left-this._hostInitialAbsolutePos.x+this._sliderInitialAbsoluteRect.x,y:this.host.coord().top-this._hostInitialAbsolutePos.y+this._sliderInitialAbsoluteRect.y,width:this._sliderInitialAbsoluteRect.width,height:this._sliderInitialAbsoluteRect.height}},rect:w,left:c(B),right:c(B),leftTop:c(I),rightTop:c(I),leftBorder:c(I),leftBar:c(D),rightBorder:c(I),rightBar:c(D)};this._sliders[K].left.appendTo(z);this._sliders[K].right.appendTo(z);this._sliders[K].leftTop.appendTo(z);this._sliders[K].rightTop.appendTo(z);this._sliders[K].leftBorder.appendTo(z);this._sliders[K].rightBorder.appendTo(z);this._sliders[K].leftBar.appendTo(z);this._sliders[K].rightBar.appendTo(z);var M=this._renderData[K].xAxis;var G=M.data.axisStats;var a=G.min.valueOf();var F=G.max.valueOf();var C=this._valueToOffset(K,a);var A=this._valueToOffset(K,F);if(C>A){var H=A;A=C;C=H}if(this.seriesGroups[K].orientation!="horizontal"){J.css({left:Math.round(w.x+C),top:w.y,width:Math.round(A-C),height:w.height})}else{J.css({top:Math.round(w.y+C),left:w.x,height:Math.round(A-C),width:w.width})}this._setSliderPositions(K,C,A)},_setSliderPositions:function(L,z,J){var a=this.seriesGroups[L];var M=this._getXAxis(L);var C=M.rangeSelector;var O=a.orientation=="horizontal";if(M.rangeSelector.renderTo){O=false}var H=M.position;if(C.renderTo&&C.position){H=C.position}var F=(O&&H=="right")||(!O&&H=="top");var D=this._sliders[L];var A=O?"top":"left";var K=O?"left":"top";var I=O?"height":"width";var B=O?"width":"height";var G=O?"y":"x";var E=O?"x":"y";var N=D.rect;D.left.css(A,N[G]);D.left.css(K,N[E]);D.left.css(I,z);D.left.css(B,N[B]);D.right.css(A,N[G]+J);D.right.css(K,N[E]);D.right.css(I,N[I]-J+1);D.right.css(B,N[B]);D.leftTop.css(A,N[G]);D.leftTop.css(K,N[E]+(((O&&H=="right")||(!O&&H!="top"))?0:N[B]));D.leftTop.css(I,z);D.leftTop.css(B,1);D.rightTop.css(A,N[G]+J);D.rightTop.css(K,N[E]+(((O&&H=="right")||(!O&&H!="top"))?0:N[B]));D.rightTop.css(I,N[I]-J+1);D.rightTop.css(B,1);D.leftBorder.css(A,N[G]+z);D.leftBorder.css(K,N[E]);D.leftBorder.css(I,1);D.leftBorder.css(B,N[B]);var w=N[B]/4;if(w>20){w=20}if(w<3){w=3}D.leftBar.css(A,N[G]+z-3);D.leftBar.css(K,N[E]+N[B]/2-w/2);D.leftBar.css(I,5);D.leftBar.css(B,w);D.rightBorder.css(A,N[G]+J);D.rightBorder.css(K,N[E]);D.rightBorder.css(I,1);D.rightBorder.css(B,N[B]);D.rightBar.css(A,N[G]+J-3);D.rightBar.css(K,N[E]+N[B]/2-w/2);D.rightBar.css(I,5);D.rightBar.css(B,w)},_resizeState:{},_onSliderMouseDown:function(a){a.stopImmediatePropagation();a.stopPropagation();var h=a.data.self;var f=h._sliders[a.data.groupIndex];if(!f){return}if(h._resizeState.state==undefined){h._testAndSetReadyResize(a)}if(h._resizeState.state!="ready"){return}c.jqx._rangeSelectorTarget=h;h._resizeState.state="resizing"},_valueToOffset:function(q,t){var s=this.seriesGroups[q];var C=this._sliders[q];var D=C.host.jqxChart("getInstance");var a=D._renderData[0].xAxis;var z=a.data.axisStats;var u=z.min.valueOf();var E=z.max.valueOf();var w=E-u;if(w==0){w=1}var B=this._getXAxis(q);var A=s.orientation=="horizontal"?"height":"width";var v=(t.valueOf()-u)/w;return C.getRect()[A]*(B.flip?(1-v):v)},_offsetToValue:function(a,C){var E=this._sliders[a];var s=this.seriesGroups[a];var D=this._getXAxis(a);var B=s.orientation=="horizontal"?"height":"width";var z=E.getRect()[B];if(z==0){z=1}var w=C/z;var F=E.host.jqxChart("getInstance");var t=F._renderData[0].xAxis;var A=t.data.axisStats;var v=A.min.valueOf();var G=A.max.valueOf();var u=C/z*(G-v)+v;if(D.flip==true){u=G-C/z*(G-v)}if(this._isDate(A.min)||this._isDate(A.max)){u=new Date(u)}else{if(D.dataField==undefined||A.useIndeces){u=Math.round(u)}if(u<A.min){u=A.min}if(u>A.max){u=A.max}}return u},_onSliderMouseUp:function(C){var H=c.jqx._rangeSelectorTarget;if(!H){return}var L=C.data.groupIndex;var Q=C.data.swapXY;var F=H._sliders[L];if(!F){return}if(H._resizeState.state!="resizing"){return}C.stopImmediatePropagation();C.stopPropagation();H._resizeState={};H.host.css("cursor","default");var K=!Q?"left":"top";var P=!Q?"width":"height";var D=!Q?"x":"y";var E=F.element.coord()[K];var N=E+(!Q?F.element.width():F.element.height());var O=F.getRect();var J=H._offsetToValue(L,E-O[D]);var B=H._offsetToValue(L,N-O[D]);var I=F.host.jqxChart("getInstance");var G=I._renderData[0].xAxis;var z=G.data.axisStats;if(!z.isTimeUnit&&(B.valueOf()-J.valueOf())>86400000){J.setHours(0,0,0,0);B.setDate(B.getDate()+1);B.setHours(0,0,0,0)}var M=H._getXAxis(L);if(M.flip){var A=J;J=B;B=A}H._selectorRange[L]={min:J,max:B};H._isSelectorRefresh=true;var a=H.enableAnimations;H._raiseEvent("rangeSelectionChanging",{instance:H,minValue:J,maxValue:B});H.enableAnimations=false;H.update();H.enableAnimations=a;H._raiseEvent("rangeSelectionChanged",{instance:H,minValue:J,maxValue:B})},_onSliderMouseMove:function(C){var I=C.data.self;var J=C.data.renderTo;var P=C.data.groupIndex;var F=I._sliders[P];var U=C.data.swapXY;if(!F){return}var S=F.getRect();var Q=F.element;var H=c.jqx.position(C);var E=Q.coord();var G=U?"left":"top";var L=!U?"left":"top";var R=U?"width":"height";var T=!U?"width":"height";var D=!U?"x":"y";if(I._resizeState.state=="resizing"){C.stopImmediatePropagation();C.stopPropagation();if(I._resizeState.side=="left"){var K=Math.round(H[L]-E[L]);var M=S[D];if(E[L]+K>=M&&E[L]+K<=M+S[T]){var O=parseInt(Q.css(L));var V=Math.max(2,(U?Q.height():Q.width())-K);Q.css(T,V);Q.css(L,O+K)}}else{if(I._resizeState.side=="right"){var W=U?Q.height():Q.width();var K=Math.round(H[L]-E[L]-W);var M=S[D];if(E[L]+W+K>=M&&E[L]+K+W<=M+S[T]){var V=Math.max(2,W+K);Q.css(T,V)}}else{if(I._resizeState.side=="move"){var W=U?Q.height():Q.width();var O=parseInt(Q.css(L));var K=Math.round(H[L]-I._resizeState.startPos);if(E[L]+K>=S[D]&&E[L]+K+W<=S[D]+S[T]){I._resizeState.startPos=H[L];Q.css(L,O+K)}}}}var a=parseInt(Q.css(L))-F.rect[D];var N=a+(U?Q.height():Q.width());I._setSliderPositions(P,a,N)}else{I._testAndSetReadyResize(C)}},_testAndSetReadyResize:function(I){var J=I.data.self;var z=I.data.renderTo;var a=I.data.groupIndex;var H=J._sliders[a];var D=I.data.swapXY;var v=H.getRect();var F=H.element;var E=c.jqx.position(I);var C=F.coord();var A=D?"left":"top";var K=!D?"left":"top";var B=D?"width":"height";var w=!D?"width":"height";var G=!D?"x":"y";var u=J._isTouchDevice?30:5;if(E[A]>=C[A]&&E[A]<=C[A]+v[B]){if(Math.abs(E[K]-C[K])<=u){z.css("cursor",D?"row-resize":"col-resize");J._resizeState={state:"ready",side:"left"}}else{if(Math.abs(E[K]-C[K]-(!D?F.width():F.height()))<=u){z.css("cursor",D?"row-resize":"col-resize");J._resizeState={state:"ready",side:"right"}}else{if(E[K]+u>C[K]&&E[K]-u<C[K]+(!D?F.width():F.height())){z.css("cursor","pointer");J._resizeState={state:"ready",side:"move",startPos:E[K]}}else{z.css("cursor","default");J._resizeState={}}}}}else{z.css("cursor","default");J._resizeState={}}},_selectorGetSize:function(a){if(a.rangeSelector.renderTo){return 0}return a.rangeSelector.size||this._paddedRect.height/3}})})(jqxBaseFramework);(function(c){c.extend(c.jqx._jqxChart.prototype,{_moduleAnnotations:true,_renderAnnotation:function(T,S,W){var Q=this.seriesGroups[T];var G=this.renderer;if(isNaN(T)){return}var O=this._get([this.getXAxisDataPointOffset(S.xValue,T),S.x]);var P=this._get([this.getValueAxisDataPointOffset(S.yValue,T),S.y]);var M=this._get([this.getXAxisDataPointOffset(S.xValue2,T),S.x2]);var U=this._get([this.getValueAxisDataPointOffset(S.yValue2,T),S.y2]);if(Q.polar||Q.spider){var F=this.getPolarDataPointOffset(S.xValue,S.yValue,T);if(F&&!isNaN(F.x)&&!isNaN(F.y)){O=F.x;P=F.y}else{O=S.x;P=S.y}}if(isNaN(P)||isNaN(O)){return false}if(Q.orientation=="horizontal"){var J=O;O=P;P=J;J=M;M=U;U=J}if(S.offset){if(!isNaN(S.offset.x)){O+=S.offset.x;M+=S.offset.x}if(!isNaN(S.offset.y)){P+=S.offset.y;U+=S.offset.y}}var H=this._get([S.width,M-O]);var K=this._get([S.height,U-P]);var V;switch(S.type){case"rect":V=G.rect(O,P,H,K);break;case"circle":V=G.rect(O,P,S.radius);break;case"line":V=G.rect(O,P,M,U);break;case"path":V=G.path(S.path);break}G.attr(V,{fill:S.fillColor,stroke:S.lineColor,opacity:this._get([S.fillOpacity,S.opacity]),"stroke-opacity":this._get([S.lineOpacity,S.opacity]),"stroke-width":S.lineWidth,"stroke-dasharray":S.dashStyle||"none"});var a;if(S.text){var N=S.text;var I=0,R=0;if(N.offset){if(!isNaN(N.offset.x)){I+=N.offset.x}if(!isNaN(N.offset.y)){R+=N.offset.y}}a=G.text(N.value,O+I,P+R,NaN,NaN,N.angle,{},N.clip===true,N.horizontalAlignment||"center",N.verticalAlignment||"center",N.rotationPoint||"centermiddle");G.attr(a,{fill:N.fillColor,stroke:N.lineColor,"class":N["class"]})}var X=["click","mouseenter","mouseleave"];var L=this;for(var D=0;D<X.length;D++){var E=this._getEvent(X[D])||X[D];if(V){this.renderer.addHandler(V,E,function(){L._raiseAnnotationEvent(S,E)})}if(a){this.renderer.addHandler(a,E,function(){L._raiseAnnotationEvent(S,E)})}}},_raiseAnnotationEvent:function(e,a){this._raiseEvent("annotation_"+a,{annotation:e})}})})(jqxBaseFramework);(function(c){c.extend(c.jqx._jqxChart.prototype,{_moduleWaterfall:true,_isSummary:function(h,n){var a=this.seriesGroups[h];for(var l=0;l<a.series.length;l++){if(undefined===a.series[l].summary){continue}summaryValue=this._getDataValue(n,a.series[l].summary,h);if(undefined!==summaryValue){return true}}return false},_applyWaterfall:function(S,R,aa,ab,P,Z,L,ac,Q){var U=this.seriesGroups[aa];if(S.length==0){return S}var J=ab;var af={};var ae=[];var ad=undefined;var I=[];for(var W=0;W<U.series.length;W++){I.push(this._isSerieVisible(aa,W))}var N={};for(var T=0;T<R;T++){var X=ab;var V=0;var Y=this._isSummary(aa,T);for(var W=0;W<S.length;W++){if(!I[W]){continue}var M=0;if(Y){M=X==ab?P:0;S[W][T].value=af[W];S[W][T].summary=true;ad=S[W][T].value<M;if(ac){ad=!ad}var K=0;if(!isNaN(Z)){K=this._getDataPointOffsetDiff(S[W][T].value+V,V==0?P:V,M||P,Z,L,ab,ac)}else{K=this._getDataPointOffsetDiff(S[W][T].value,M,M,NaN,L,ab,ac)}S[W][T].to=X+(ad?K:-K);S[W][T].from=X;if(Q){V+=S[W][T].value;X=S[W][T].to}continue}var a=Q?-1:W;if(isNaN(S[W][T].value)){continue}if(undefined===N[a]){M=P;N[a]=true}ad=S[W][T].value<M;if(ac){ad=!ad}var O=NaN,K=NaN;if(!Q){O=T==0?ab:S[W][ae[W]].to}else{O=J}var K=0;if(!isNaN(Z)){K=this._getDataPointOffsetDiff(S[W][T].value+(isNaN(af[a])?0:af[a]),isNaN(af[a])?P:af[a],M||P,Z,L,O,ac)}else{K=this._getDataPointOffsetDiff(S[W][T].value,M,M,NaN,L,ab,ac)}S[W][T].to=J=O+(ad?K:-K);S[W][T].from=O;if(isNaN(af[a])){af[a]=S[W][T].value}else{af[a]+=S[W][T].value}if(a==-1){if(isNaN(af[W])){af[W]=S[W][T].value}else{af[W]+=S[W][T].value}}if(!Q){ae[W]=T}}}return S}})})(jqxBaseFramework);(function(h){var e={defineInstance:function(){var a={width:350,height:350,radius:"50%",endAngle:270,startAngle:30,int64:false,value:0,min:0,max:220,disabled:false,ticksDistance:"20%",colorScheme:"scheme01",animationDuration:400,showRanges:true,easing:"easeOutCubic",labels:null,pointer:null,cap:null,caption:null,border:null,ticksMinor:null,ticksMajor:null,tickMode:"default",niceInterval:false,style:null,ranges:[],_radius:100,_border:null,_radiusDifference:2,_pointer:null,_labels:[],_cap:null,_ticks:[],_ranges:[],_gauge:null,_caption:null,_animationTimeout:10,renderer:null,_animations:[],aria:{"aria-valuenow":{name:"value",type:"number"},"aria-valuemin":{name:"min",type:"number"},"aria-valuemax":{name:"max",type:"number"},"aria-disabled":{name:"disabled",type:"boolean"}}};h.extend(true,this,a);return a},createInstance:function(c){var d=this;d.that=this;h.jqx.aria(d);d._radius=d.radius;d.endAngle=d.endAngle*Math.PI/180+Math.PI/2;d.startAngle=d.startAngle*Math.PI/180+Math.PI/2;if(d.int64==="s"){if(!h.jqx.longInt){throw new Error("jqxGauge: Missing reference to jqxdata.js")}h.jqx.longInt(d);d._value64=new h.jqx.math().fromString(d.value.toString(),10);d._min64=new h.jqx.math().fromString(d.min.toString(),10);d._max64=new h.jqx.math().fromString(d.max.toString(),10)}else{if(d.int64==="u"){try{BigNumber}catch(a){throw new Error("jqxGauge: Missing reference to bignumber.js")}d._value64=new BigNumber(d.value);d._min64=new BigNumber(d.min);d._max64=new BigNumber(d.max)}else{d.value=new Number(d.value)}}d._refresh();d.renderer.getContainer().css("overflow","hidden");if(d.int64!==false){d.setValue(d._value64,0)}else{d.setValue(d.value,0)}h.jqx.utilities.resize(d.host,function(){d._refresh()});d.host.addClass(d.toThemeProperty("jqx-widget"))},_validateEasing:function(){return !!h.easing[this.easing]},_validateProperties:function(){if(this.startAngle===this.endAngle){throw new Error("The end angle can not be equal to the start angle!")}if(!this._validateEasing()){this.easing="linear"}this.ticksDistance=this._validatePercentage(this.ticksDistance,"20%");this.border=this._borderConstructor(this.border,this);this.style=this.style||{fill:"#ffffff",stroke:"#E0E0E0"};this.ticksMinor=new this._tickConstructor(this.ticksMinor,this);this.ticksMajor=new this._tickConstructor(this.ticksMajor,this);this.cap=new this._capConstructor(this.cap,this);this.pointer=new this._pointerConstructor(this.pointer,this);this.labels=new this._labelsConstructor(this.labels,this);this.caption=new this._captionConstructor(this.caption,this);for(var a=0;a<this.ranges.length;a+=1){this.ranges[a]=new this._rangeConstructor(this.ranges[a],this)}},_hostInit:function(){var c=this._getScale(this.width,"width",this.host.parent()),o=this._getScale(this.height,"height",this.host.parent()),d=this._outerBorderOffset(),a=this.host,n;a.width(c);a.height(o);this.radius=n=(this._getScale(this._radius,"width",this.host)||c/2)-d;this._originalRadius=parseInt(this.radius,10)-this._radiusDifference;this._innerRadius=this._originalRadius;if(this.border){this._innerRadius-=this._getSize(this.border.size)}a[0].innerHTML="<div />";this._gaugeParent=a.children();this._gaugeParent.width(c);this._gaugeParent.height(o);this.renderer.init(this._gaugeParent)},_initRenderer:function(a){if(!h.jqx.createRenderer){throw"Please include a reference to jqxdraw.js"}return h.jqx.createRenderer(this,a)},_refresh:function(){var c=this;if(!c.renderer){c._isVML=false;c.host.empty();c._initRenderer(c.host)}var a=c.renderer;if(!a){return}if(c._ranges){h(c._ranges).remove()}if(c._pointer){h(c._pointer).remove()}if(c._labels){h(c._labels).remove()}if(c._cap){h(c._cap).remove()}if(c._ticks){h(c._ticks).remove()}if(c._border){h(c._border).remove()}if(c._caption){h(c._caption).remove()}c._caption=null;c._labels=[];c._cap=null;c._ticks=[];c._ranges=[];c._border=null;c._pointer=null;c._validateProperties();c._removeElements();c._hostInit();c._render();c.setValue(this.value,0)},val:function(a){if(arguments.length==0||typeof(a)=="object"){return this.value}this.setValue(a,0)},refresh:function(){this._refresh.apply(this,Array.prototype.slice(arguments))},_outerBorderOffset:function(){var a=parseInt(this.border.style["stroke-width"],10)||1;return a/2},_removeCollection:function(a){for(var c=0;c<a.length;c+=1){h(a[c]).remove()}a=[]},_render:function(){this._addBorder();this._addGauge();this._addRanges();this._addTicks();if(!this.niceInterval){this._addLabels()}this._addCaption();this._addPointer();this._addCap()},_addBorder:function(){if(!this.border.visible){return}var c=this.border.style.fill,a=this._outerBorderOffset();if(!c){c="#BABABA"}if(this.border.showGradient){if(c.indexOf("url")<0&&c.indexOf("#grd")<0){this._originalColor=c}else{c=this._originalColor}c=this.renderer._toLinearGradient(c,true,[[0,1],[25,1.1],[50,1.5],[100,1]])}this._border=this.renderer.circle(this._originalRadius+a,this._originalRadius+a,this._originalRadius);this.border.style.fill=c;this.renderer.attr(this._border,this.border.style)},_addGauge:function(){var a=this._originalRadius,d=this.renderer._toLinearGradient("#ffffff",[[3,2],[100,1]],true),c=this._outerBorderOffset();this._gauge=this.renderer.circle(a+c,a+c,this._innerRadius);this.renderer.attr(this._gauge,this.style)},_addCap:function(){var o="visible",d=this._outerBorderOffset();if(!this.cap.visible){o="hidden"}var c=this._originalRadius,n=this._getSize(this.cap.size),a;a=this.renderer.circle(c+d,c+d,n);this._capCenter=[c,c];this.renderer.attr(a,this.cap.style);h(a).css("visibility",o);this._cap=a},_addTicks:function(){var d=this;var a=this.ticksMinor,A=this.ticksMajor,t,c,s={};function u(n){d._drawTick({angle:d._getAngleByValue(n),distance:d._getDistance(d.ticksDistance),style:A.style,size:d._getSize(A.size),type:"major"})}function z(n){d._drawTick({angle:d._getAngleByValue(n),distance:d._getDistance(d.ticksDistance),style:a.style,size:d._getSize(a.size),type:"minor"})}function C(n){if(d.labels.visible){d._addLabel({angle:d._getAngleByValue(n),value:c>=1?n:new Number(n).toFixed(2),distance:d._getDistance(d._getLabelsDistance()),style:d.labels.className})}}if(d.int64==="s"){if(this.tickMode==="default"){t=new h.jqx.math().fromString((a.interval).toString(),10);if(this.niceInterval){c=this._getNiceInterval("radial")}else{c=new h.jqx.math().fromString((A.interval).toString(),10)}}else{startToEnd=this._max64.subtract(this._min64);t=startToEnd.div(new h.jqx.math().fromString((a.number).toString(),10));c=startToEnd.div(new h.jqx.math().fromString((A.number).toString(),10))}if(this.niceInterval){u(this._min64);C(this._min64);var B=this._min64.subtract(this._min64.modulo(c)).add(c);for(var v=B,w=B;v.lessThan(this._max64)||w.lessThan(this._max64);v=v.add(t),w=w.add(c)){if(w.lessThanOrEqual(this._max64)&&A.visible){u(w);s[w.toString()]=true;if(v.equals(B)){if(Math.abs(this._getAngleByValue(w)-this._getAngleByValue(this.min))*this._innerRadius>this._getMaxLabelSize()["height"]){C(w)}}else{if((w.add(c)).lessThan(this._max64)){C(w)}else{if(Math.abs(this._getAngleByValue(w)-this._getAngleByValue(this.max))*this._innerRadius>this._getMaxLabelSize()["height"]){C(w)}}}}if(!s[v.toString()]&&a.visible&&v.lessThanOrEqual(d._max64)){z(v)}}u(this._max64);C(this._max64)}else{for(var v=new h.jqx.math().fromString((d.min).toString(),10),w=new h.jqx.math().fromString((d.min).toString(),10);v.lessThanOrEqual(d._max64)||w.lessThanOrEqual(d._max64);v=v.add(t),w=w.add(c)){if(w.lessThanOrEqual(d._max64)&&A.visible){u(w);s[w.toString()]=true}if(!s[v.toString()]&&a.visible&&v.lessThanOrEqual(d._max64)){z(v)}}}}else{if(d.int64==="u"){if(this.tickMode==="default"){t=new BigNumber(a.interval);if(this.niceInterval){c=this._getNiceInterval("radial")}else{c=new BigNumber(A.interval)}}else{startToEnd=this._max64.subtract(this._min64);t=startToEnd.divide(new BigNumber(a.number));c=startToEnd.divide(new BigNumber(A.number))}if(this.niceInterval){u(this._min64);C(this._min64);var B=this._min64.subtract(this._min64.mod(c)).add(c);for(var v=B,w=B;v.compare(this._max64)===-1||w.compare(this._max64)===-1;v=v.add(t),w=w.add(c)){if(w.compare(this._max64)!==1&&A.visible){u(w);s[w.toString()]=true;if(v.compare(B)===0){if(Math.abs(this._getAngleByValue(w)-this._getAngleByValue(this.min))*this._innerRadius>this._getMaxLabelSize()["height"]){C(w)}}else{if((w.add(c)).compare(this._max64)===-1){C(w)}else{if(Math.abs(this._getAngleByValue(w)-this._getAngleByValue(this.max))*this._innerRadius>this._getMaxLabelSize()["height"]){C(w)}}}}if(!s[v.toString()]&&a.visible&&(v.compare(d._max64)!==1)){z(v)}}u(this._max64);C(this._max64)}else{for(var v=new BigNumber(d.min),w=new BigNumber(d.min);(v.compare(d._max64)!==1)||(w.compare(d._max64)!==1);v=v.add(t),w=w.add(c)){if((w.compare(d._max64)!==1)&&A.visible){u(w);s[w.toString()]=true}if(!s[v.toString()]&&a.visible&&(v.compare(d._max64)!==1)){z(v)}}}}else{if(this.tickMode==="default"){t=a.interval;if(this.niceInterval){c=this._getNiceInterval("radial")}else{c=A.interval}}else{startToEnd=this.max-this.min;t=startToEnd/a.number;c=startToEnd/A.number}if(this.niceInterval){u(this.min);C(this.min);var B=this.min-(this.min%c)+c;for(var v=B,w=B;v<this.max||w<this.max;v+=t,w+=c){if(w<=this.max&&A.visible){u(w);s[w.toFixed(5)]=true;if(v===B){if(Math.abs(this._getAngleByValue(w)-this._getAngleByValue(this.min))*this._innerRadius>this._getMaxLabelSize()["height"]){C(w)}}else{if(w+c<this.max){C(w)}else{if(Math.abs(this._getAngleByValue(w)-this._getAngleByValue(this.max))*this._innerRadius>this._getMaxLabelSize()["height"]){C(w)}}}}if(!s[v.toFixed(5)]&&a.visible&&v<=this.max){z(v)}}u(this.max);C(this.max)}else{for(var v=this.min,w=this.min;v<=this.max||w<=this.max;v+=t,w+=c){if(w<=this.max&&A.visible){u(w);s[w.toFixed(5)]=true}if(!s[v.toFixed(5)]&&a.visible&&v<=this.max){z(v)}}}}}this._handleTicksVisibility()},_handleTicksVisibility:function(){if(!this.ticksMinor.visible){this.host.children(".jqx-gauge-tick-minor").css("visibility","hidden")}else{this.host.children(".jqx-gauge-tick-minor").css("visibility","visible")}if(!this.ticksMajor.visible){this.host.children(".jqx-gauge-tick-major").css("visibility","hidden")}else{this.host.children(".jqx-gauge-tick-major").css("visibility","visible")}},_getSize:function(a){if(a.toString().indexOf("%")>=0){a=(parseInt(a,10)/100)*this._innerRadius}a=parseInt(a,10);return a},_getDistance:function(a){return this._getSize(a)+(this._originalRadius-this._innerRadius)},_drawTick:function(F){var v=this.that;var z=F.angle,C=F.distance,a=F.size,w=v._outerBorderOffset(),E=v._originalRadius,A=E-C,u=A-a,B=E+w+A*Math.sin(z),d=E+w+A*Math.cos(z),D=E+w+u*Math.sin(z),t=E+w+u*Math.cos(z),c;F.style["class"]=v.toThemeProperty("jqx-gauge-tick-"+F.type);if(v._isVML){B=Math.round(B);D=Math.round(D);d=Math.round(d);t=Math.round(t)}c=v.renderer.line(B,d,D,t,F.style);v._ticks.push(c)},_addRanges:function(){var c="visible";if(!this.showRanges){c="hidden"}else{var d=this.ranges;for(var a=0;a<d.length;a+=1){this._addRange(d[a],c)}}},_getMaxRangeSize:function(){var n,c=-1,a,o;for(var d=0;d<this.ranges.length;d+=1){a=this.ranges[d].startWidth;o=this.ranges[d].endWidth;if(a>c){c=a}if(o>c){c=o}}return c},_getRangeDistance:function(a,o){var c=this._getLabelsDistance(),n=this._getDistance(a),d=this._getMaxRangeSize();if(this.labels.position==="outside"){if(c<n+this._getMaxTickSize()){return this._getDistance(this.ticksDistance)+d/2+this._getSize(this.ticksMajor.size)}}else{if(this.labels.position==="inside"){if(c+this._getMaxTickSize()<n){return this._getSize(this.border.size)+this._originalRadius/20}}}return n},_addRange:function(z,F){var w=this.that;if((w.int64==="s"&&(z._startValue64.lessThan(w._min64)||z._endValue64.greaterThan(w._max64)))||(w.int64==="u"&&((z._startValue64.compare(w._min64)===-1)||(z._endValue64.compare(w._max64)===1)))||(w.int64===false&&(z.startValue<w.min||z.endValue>w.max))){return}var c=w.int64?w._getAngleByValue(z._startValue64):w._getAngleByValue(z.startValue),C=w.int64?w._getAngleByValue(z._endValue64):w._getAngleByValue(z.endValue);var v=w._originalRadius,G=v-w._getRangeDistance(z.startDistance,z.startWidth),K=v-w._getRangeDistance(z.endDistance,z.endWidth),A=z.startWidth,H=z.endWidth,B=w._outerBorderOffset(),D={x:v+B+G*Math.sin(c),y:v+B+G*Math.cos(c)},a={x:v+B+K*Math.sin(C),y:v+B+K*Math.cos(C)},J=w._getProjectionPoint(c,v+B,G,A),d=w._getProjectionPoint(C,v+B,K,H),E="default",I,z;if(Math.abs(C-c)>Math.PI){E="opposite"}if(w._isVML){I=w._rangeVMLRender(D,a,v,J,d,H,A,G,K,E)}else{I=w._rangeSVGRender(D,a,v,J,d,H,A,G,K,E)}z.style.visibility=F;z.style["class"]=w.toThemeProperty("jqx-gauge-range");z=w.renderer.path(I,z.style);w._ranges.push(z)},_rangeSVGRender:function(v,q,t,c,s,B,u,A,d,w){var a="",A=t-A,d=t-d,z=["0,1","0,0"];if(w==="opposite"){z=["1,1","1,0"]}a="M"+v.x+","+v.y+" ";a+="A"+(t-A)+","+(t-A)+" 100 "+z[0]+" "+q.x+","+q.y+" ";a+="L "+(s.x)+","+(s.y)+" ";a+="A"+(t-B-A)+","+(t-B-A)+" 100 "+z[1]+" "+(c.x)+","+(c.y)+" ";a+="L "+(v.x)+","+(v.y)+" ";a+="z";return a},_rangeVMLRender:function(E,H,M,c,L,I,G,D,B,O){M-=M-D+10;var F="",C=Math.floor(M+(G+I)/2),D=Math.floor(M-D),B=Math.floor(B),A={x:(c.x+L.x)/2,y:(c.y+L.y)/2},P=Math.sqrt((L.x-c.x)*(L.x-c.x)+(L.y-c.y)*(L.y-c.y)),d=Math.floor(A.x+Math.sqrt(M*M-(P/2)*(P/2))*(c.y-L.y)/P),z=Math.floor(A.y+Math.sqrt(M*M-(P/2)*(P/2))*(L.x-c.x)/P),a={x:(E.x+H.x)/2,y:(E.y+H.y)/2},N=Math.sqrt((H.x-E.x)*(H.x-E.x)+(H.y-E.y)*(H.y-E.y)),J=Math.floor(a.x+Math.sqrt(Math.abs(C*C-(N/2)*(N/2)))*(E.y-H.y)/N),K=Math.floor(a.y+Math.sqrt(Math.abs(C*C-(N/2)*(N/2)))*(H.x-E.x)/N);if(O==="opposite"){d=Math.floor(A.x-Math.sqrt(M*M-(P/2)*(P/2))*(c.y-L.y)/P);z=Math.floor(A.y-Math.sqrt(M*M-(P/2)*(P/2))*(L.x-c.x)/P);J=Math.floor(a.x-Math.sqrt(Math.abs(C*C-(N/2)*(N/2)))*(E.y-H.y)/N);K=Math.floor(a.y-Math.sqrt(Math.abs(C*C-(N/2)*(N/2)))*(H.x-E.x)/N)}M=Math.floor(M);H={x:Math.floor(H.x),y:Math.floor(H.y)};E={x:Math.floor(E.x),y:Math.floor(E.y)};c={x:Math.floor(c.x),y:Math.floor(c.y)};L={x:Math.floor(L.x),y:Math.floor(L.y)};F="m "+H.x+","+H.y;F+="at "+(J-C)+" "+(K-C)+" "+(C+J)+" "+(C+K)+" "+H.x+","+H.y+" "+E.x+","+E.y;F+="l "+c.x+","+c.y;F+="m "+H.x+","+H.y;F+="l "+L.x+","+L.y;F+="at "+(d-M)+" "+(z-M)+" "+(M+d)+" "+(M+z)+" "+L.x+","+L.y+" "+c.x+","+c.y;F+="qx "+c.x+" "+c.y;return F},_getProjectionPoint:function(a,n,c,d){var o={x:n+(c-d)*Math.sin(a),y:n+(c-d)*Math.cos(a)};return o},_addLabels:function(d){var n=this,o=n._getLabelInterval();if(n.labels.visible){var a=this._getDistance(this._getLabelsDistance()),c;if(n.int64==="s"){for(var q=new h.jqx.math().fromNumber(n.min.toString(),10);q.lessThanOrEqual(n._max64);q=q.add(o)){if(q.lessThan(n._min64)||q.greaterThan(n._max64)){break}this._addLabel({angle:this._getAngleByValue(q),value:q.toString(),distance:a,style:this.labels.className})}}else{if(n.int64==="u"){for(var q=new BigNumber(n.min);q.compare(n._max64)!==1;q=q.add(o)){if((q.compare(n._min64)===-1)||(q.compare(n._max64)===1)){break}this._addLabel({angle:this._getAngleByValue(q),value:q.toString(),distance:a,style:this.labels.className})}}else{for(var q=this.min;q<=this.max;q+=o){this._addLabel({angle:this._getAngleByValue(q),value:o>=1?q:new Number(q).toFixed(2),distance:a,style:this.labels.className})}}}}},_getLabelsDistance:function(){var a=this._getMaxLabelSize(),c=this._getDistance(this.labels.distance),d=this._getDistance(this.ticksDistance);a=a.width;if(this.labels.position==="inside"){return d+a-5}else{if(this.labels.position==="outside"){if(c<(d-a*1.5)){return c}return Math.max(d-a*1.5,0.6*a)}}return this.labels.distance},_addLabel:function(F){var z=this.that;var C=F.angle,D=z._originalRadius,c=D-F.distance,B=z.labels.offset,a=z.labels.formatValue,A=z._outerBorderOffset(),t=D+A+c*Math.sin(C)+B[0],v=D+A+c*Math.cos(C)+B[1],d=F.value,w=F.style||"",E,u;if(typeof a==="function"){d=a(d)}E=z.renderer.measureText(d,0,{"class":w});u=z.renderer.text(d,Math.round(t)-E.width/2,Math.round(v),E.width,E.height,0,{"class":this.toThemeProperty("jqx-gauge-label")});z._labels.push(u)},_addCaption:function(){if(this.caption.visible!==false){var o=this.that;var d=o.caption.value,n=o.toThemeProperty("jqx-gauge-caption"),s=o.caption.offset,a=o.renderer.measureText(d,0,{"class":n}),q=o._getPosition(this.caption.position,a,s),u=o.caption.style,t=o._outerBorderOffset(),c=o.renderer.text(d,q.left+t,q.top+t,a.width,a.height,0,{"class":n});this._caption=c}},_getPosition:function(q,o,a){var c=0,d=0,n=this._originalRadius;switch(q){case"left":c=(n-o.width)/2;d=n-o.height/2;break;case"right":c=n+(n-o.width)/2;d=n-o.height/2;break;case"bottom":c=(2*n-o.width)/2;d=(n+2*n-o.height)/2;break;default:c=(2*n-o.width)/2;d=(n+o.height)/2;break}return{left:c+a[0],top:d+a[1]}},_addPointer:function(){var o="visible";if(!this.pointer.visible){o="hidden"}var q=this._originalRadius,d=this._getSize(this.pointer.length),c=d*0.9,a=this._getAngleByValue(this.value),s=this.pointer.pointerType,n;n=this._computePointerPoints(this._getSize(this.pointer.width),a,d,s!=="default");this._pointer=this.renderer.path(n,this.pointer.style);h(this._pointer).css("visibility",o)},_computePointerPoints:function(n,c,a,d){if(!d){return this._computeArrowPoints(n,c,a)}else{return this._computeRectPoints(n,c,a)}},_computeArrowPoints:function(t,C,w){var D=this._originalRadius-0.5,v=Math.sin(C),a=Math.cos(C),z=this._outerBorderOffset(),d=D+z+w*v,u=D+z+w*a,A=D+z+t*a,E=D+z-t*v,B=D+z-t*a,F=D+z+t*v,c;if(this._isVML){A=Math.round(A);B=Math.round(B);E=Math.round(E);F=Math.round(F);d=Math.round(d);u=Math.round(u)}c="M "+A+","+E+" L "+B+","+F+" L "+d+","+u+"";return c},_computeRectPoints:function(a,D,d){var G=this._originalRadius,c=Math.sin(D),K=Math.cos(D),J=d,A=this._outerBorderOffset(),w=G+A-a*K+d*c,E=G+A+a*c+d*K,z=G+A+a*K+d*c,F=G+A-a*c+d*K,B=G+A+a*K,H=G+A-a*c,C=G+A-a*K,I=G+A+a*c,L;if(this._isVML){B=Math.round(B);C=Math.round(C);H=Math.round(H);I=Math.round(I);w=Math.round(w);E=Math.round(E);z=Math.round(z);F=Math.round(F)}L="M "+B+","+H+" L "+C+","+I+" L "+w+","+E+" "+z+","+F;return L},_getAngleByValue:function(L){var I=this,d=I.startAngle,K=d-I.endAngle,H,C,w,z,E;if(I.int64!==false){if(I.int64==="s"){L=new h.jqx.math().fromString(L.toString(),10)}else{L=new BigNumber(L)}H=I._min64;C=I._max64;w=C.subtract(H);z=L.subtract(H);if(I.int64==="u"){z=z.intPart()}var G=w.toString(),D,a=z.toString(),F;if(G.length>15){var J=G.length-15;G=G.slice(0,15)+"."+G.slice(15);D=parseFloat(G);if(a.length>J){var c=a.length-J;a=a.slice(0,c)+"."+a.slice(c)}else{if(a.length===J){a="0."+a}else{var A="0.";for(var B=0;B<J-a.length;B++){A+="0"}a=A+""+a}}F=parseFloat(a)}else{D=parseFloat(w.toString());F=parseFloat(z.toString())}E=K*F/D+d+Math.PI}else{H=I.min;C=I.max;w=C-H;z=L-H;E=K*z/w+d+Math.PI}return E},_setValue:function(c){var n=this;if((n.int64==="s"&&c.lessThanOrEqual(n._max64)&&c.greaterThanOrEqual(n._min64))||(n.int64==="u"&&c.compare(n._max64)!==1&&c.compare(n._min64)!==-1)||(n.int64===false&&c<=n.max&&c>=n.min)){var a=n._getAngleByValue(c),o=n.pointer.pointerType,d=n._computePointerPoints(n._getSize(n.pointer.width),a,n._getSize(n.pointer.length),o!=="default");if(n._isVML){if(n._pointer){h(n._pointer).remove()}n._pointer=n.renderer.path(d,n.pointer.style)}else{n.renderer.attr(n._pointer,{d:d})}if(n.int64!==false){n.value=c.toString();if(n.int64==="s"){n._value64=new h.jqx.math().fromString(n.value,10)}else{n._value64=new BigNumber(n.value)}}else{n.value=c}h.jqx.aria(n,"aria-valuenow",c.toString())}},resize:function(a,c){this.width=a;this.height=c;this.refresh()},propertyChangedHandler:function(n,d,a,c){if(c==a){return}if(d=="min"){if(n.int64==="s"){n._min64=new h.jqx.math().fromString(c.toString(),10)}else{if(n.int64==="u"){n._min64=new BigNumber(c)}else{this.min=parseInt(c)}}h.jqx.aria(n,"aria-valuemin",c)}if(d=="max"){if(n.int64==="s"){n._max64=new h.jqx.math().fromString(c.toString(),10)}else{if(n.int64==="u"){n._max64=new BigNumber(c)}else{this.max=parseInt(c)}}h.jqx.aria(n,"aria-valuemax",c)}if(d==="disabled"){if(c){this.disable()}else{this.enable()}h.jqx.aria(this,"aria-disabled",c)}else{if(d==="value"){this.value=a;this.setValue(c)}else{if(d==="startAngle"){this.startAngle=this.startAngle*Math.PI/180+Math.PI/2}else{if(d==="endAngle"){this.endAngle=this.endAngle*Math.PI/180+Math.PI/2}else{if(d==="colorScheme"){this.pointer.style=null;this.cap.style=null}else{if(d==="radius"){this._radius=c}}}}if(d!=="animationDuration"&&d!=="easing"){this._refresh()}}}if(this.renderer instanceof h.jqx.HTML5Renderer){this.renderer.refresh()}},_tickConstructor:function(a,d){if(this.host){return new this._tickConstructor(a,d)}a=a||{};this.size=d._validatePercentage(a.size,"10%");function c(o,n){if(d.int64===false){o[n]=parseFloat(a[n])}else{o[n]=a[n]}if(!o[n]){o[n]=5}}c(this,"interval");c(this,"number");this.style=a.style||{stroke:"#898989","stroke-width":1};if(typeof a.visible==="undefined"){this.visible=true}else{this.visible=a.visible}},_capConstructor:function(a,d){var c=d._getColorScheme(d.colorScheme)[0];if(this.host){return new this._capConstructor(a,d)}a=a||{};if(typeof a.visible==="undefined"){this.visible=true}else{this.visible=a.visible}this.size=d._validatePercentage(a.size,"4%");this.style=a.style||{fill:c,"stroke-width":"1px",stroke:c,"z-index":30}},_pointerConstructor:function(a,d){var c=d._getColorScheme(d.colorScheme)[0];if(this.host){return new this._pointerConstructor(a,d)}a=a||{};if(typeof a.visible==="undefined"){this.visible=true}else{this.visible=a.visible}this.pointerType=a.pointerType;if(this.pointerType!=="default"&&this.pointerType!=="rectangle"){this.pointerType="default"}this.style=a.style||{"z-index":0,stroke:c,fill:c,"stroke-width":1};this.length=d._validatePercentage(a.length,"70%");this.width=d._validatePercentage(a.width,"2%")},_labelsConstructor:function(a,c){if(this.host){return new this._labelsConstructor(a,c)}a=a||{};if(typeof a.visible==="undefined"){this.visible=true}else{this.visible=a.visible}this.offset=a.offset;if(!(this.offset instanceof Array)){this.offset=[0,-10]}if(!a.interval){a.interval=20}if(c.int64!==false){this.interval=a.interval;if(c.int64==="s"){this._interval64=new h.jqx.math().fromString(a.interval.toString(),10)}else{this._interval64=new BigNumber(a.interval)}}else{this.interval=parseFloat(a.interval)}if(!a.number){a.number=5}this.number=a.number;this.distance=c._validatePercentage(a.distance,"38%");this.position=a.position;if(this.position!=="inside"&&this.position!=="outside"){this.position="none"}this.formatValue=a.formatValue;if(typeof this.formatValue!=="function"){this.formatValue=function(d){return d}}},_captionConstructor:function(a,c){if(this.host){return new this._captionConstructor(a,c)}a=a||{};if(typeof a.visible==="undefined"){this.visible=true}else{this.visible=a.visible}this.value=a.value||"";this.position=a.position;if(this.position!=="bottom"&&this.position!=="top"&&this.position!=="left"&&this.position!=="right"){this.position="bottom"}this.offset=a.offset;if(!(this.offset instanceof Array)){this.offset=[0,0]}},_rangeConstructor:function(a,c){if(this.host){return new this._rangeConstructor(a,c)}a=a||{};this.startDistance=c._validatePercentage(a.startDistance,"5%");this.endDistance=c._validatePercentage(a.endDistance,"5%");this.style=a.style||{fill:"#000000",stroke:"#111111"};this.startWidth=parseFloat(a.startWidth,10);if(!this.startWidth){this.startWidth=10}this.startWidth=Math.max(this.startWidth,2);this.endWidth=parseFloat(a.endWidth,10);if(!this.endWidth){this.endWidth=10}this.endWidth=Math.max(this.endWidth,2);if(a.startValue===undefined){a.startValue=0}if(a.endValue===undefined){a.endValue=100}if(c.int64!==false){this.startValue=a.startValue;this.endValue=a.endValue;if(c.int64==="s"){this._startValue64=new h.jqx.math().fromString(a.startValue.toString(),10);this._endValue64=new h.jqx.math().fromString(a.endValue.toString(),10)}else{this._startValue64=new BigNumber(a.startValue);this._endValue64=new BigNumber(a.endValue)}}else{this.startValue=parseFloat(a.startValue,10);this.endValue=parseFloat(a.endValue,10)}},_borderConstructor:function(a,c){if(this.host){return new this._borderConstructor(a,c)}a=a||{};this.size=c._validatePercentage(a.size,"10%");this.style=a.style||{stroke:"#cccccc"};if(typeof a.showGradient==="undefined"){this.showGradient=true}else{this.showGradient=a.showGradient}if(typeof a.visible==="undefined"){this.visible=true}else{this.visible=a.visible}}};var l={_events:["valueChanging","valueChanged"],_animationTimeout:10,_schemes:[{name:"scheme01",colors:["#307DD7","#AA4643","#89A54E","#71588F","#4198AF"]},{name:"scheme02",colors:["#7FD13B","#EA157A","#FEB80A","#00ADDC","#738AC8"]},{name:"scheme03",colors:["#E8601A","#FF9639","#F5BD6A","#599994","#115D6E"]},{name:"scheme04",colors:["#D02841","#FF7C41","#FFC051","#5B5F4D","#364651"]},{name:"scheme05",colors:["#25A0DA","#309B46","#8EBC00","#FF7515","#FFAE00"]},{name:"scheme06",colors:["#0A3A4A","#196674","#33A6B2","#9AC836","#D0E64B"]},{name:"scheme07",colors:["#CC6B32","#FFAB48","#FFE7AD","#A7C9AE","#888A63"]},{name:"scheme08",colors:["#3F3943","#01A2A6","#29D9C2","#BDF271","#FFFFA6"]},{name:"scheme09",colors:["#1B2B32","#37646F","#A3ABAF","#E1E7E8","#B22E2F"]},{name:"scheme10",colors:["#5A4B53","#9C3C58","#DE2B5B","#D86A41","#D2A825"]},{name:"scheme11",colors:["#993144","#FFA257","#CCA56A","#ADA072","#949681"]},{name:"scheme12",colors:["#105B63","#EEEAC5","#FFD34E","#DB9E36","#BD4932"]},{name:"scheme13",colors:["#BBEBBC","#F0EE94","#F5C465","#FA7642","#FF1E54"]},{name:"scheme14",colors:["#60573E","#F2EEAC","#BFA575","#A63841","#BFB8A3"]},{name:"scheme15",colors:["#444546","#FFBB6E","#F28D00","#D94F00","#7F203B"]},{name:"scheme16",colors:["#583C39","#674E49","#948658","#F0E99A","#564E49"]},{name:"scheme17",colors:["#142D58","#447F6E","#E1B65B","#C8782A","#9E3E17"]},{name:"scheme18",colors:["#4D2B1F","#635D61","#7992A2","#97BFD5","#BFDCF5"]},{name:"scheme19",colors:["#844341","#D5CC92","#BBA146","#897B26","#55591C"]},{name:"scheme20",colors:["#56626B","#6C9380","#C0CA55","#F07C6C","#AD5472"]},{name:"scheme21",colors:["#96003A","#FF7347","#FFBC7B","#FF4154","#642223"]},{name:"scheme22",colors:["#5D7359","#E0D697","#D6AA5C","#8C5430","#661C0E"]},{name:"scheme23",colors:["#16193B","#35478C","#4E7AC7","#7FB2F0","#ADD5F7"]},{name:"scheme24",colors:["#7B1A25","#BF5322","#9DA860","#CEA457","#B67818"]},{name:"scheme25",colors:["#0081DA","#3AAFFF","#99C900","#FFEB3D","#309B46"]},{name:"scheme26",colors:["#0069A5","#0098EE","#7BD2F6","#FFB800","#FF6800"]},{name:"scheme27",colors:["#FF6800","#A0A700","#FF8D00","#678900","#0069A5"]}],_getScale:function(d,a,c){if(d&&d.toString().indexOf("%")>=0){d=parseInt(d,10)/100;return c[a]()*d}return parseInt(d,10)},_removeElements:function(){this.host.children(".chartContainer").remove();this.host.children("#tblChart").remove()},_getLabelInterval:function(){var c=this,a=c.labels,n;if(c.tickMode==="default"){if(c.niceInterval){n=c._getNiceInterval(c.widgetName==="jqxGauge"?"radial":"linear")}else{if(c.int64===false){n=a.interval}else{if(!a._interval64){a._interval64=c.int64==="s"?new h.jqx.math().fromNumber(a.interval):new BigNumber(a.interval)}n=a._interval64}}}else{if(c.int64===false){var d=c.max-c.min;n=d/a.number}else{var d=c._max64.subtract(c._min64);if(c.int64==="s"){n=d.div(new h.jqx.math().fromNumber(a.number))}else{n=d.divide(new BigNumber(a.number))}}}return n},_getMaxLabelSize:function(){var a=this.max,n=this.min;if(this._getLabelInterval().toString()<1){n=new Number(n).toFixed(2);a=new Number(a).toFixed(2)}var c=this.renderer.measureText(a,0,{"class":this.toThemeProperty("jqx-gauge-label")}),d=this.renderer.measureText(n,0,{"class":this.toThemeProperty("jqx-gauge-label")});if(d.width>c.width){return d}return c},disable:function(){this.disabled=true;this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"))},enable:function(){this.disabled=false;this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled"))},destroy:function(){var c=this;if(c._timeout){clearTimeout(this._timeout)}c._timeout=null;h.jqx.utilities.resize(c.host,null,true);c._removeElements();c.renderer.clear();c.renderer=null;var a=h.data(c.element,"jqxGauge");if(a){delete a.instance}c.host.children().remove();c._caption=null;c._caption=null;c._pointer=null;c._labels=[];c._cap=null;c._ticks=[];c._ranges=[];c._border=null;c._gauge=null;c._caption=null;c.renderer=null;c._animations=[];c.host.removeData();c.host.removeClass();c.host.remove();c.that=null;c.element=null;c._gaugeParent=null;delete c._gaugeParent;delete c.element;delete c.host},_validatePercentage:function(a,c){if(parseFloat(a)!==0&&(!a||!parseInt(a,10))){a=c}return a},_getColorScheme:function(c){var d;for(var a=0;a<this._schemes.length;a+=1){d=this._schemes[a];if(d.name===c){return d.colors}}return null},setValue:function(c,a){var d=this;if(!d.disabled){a=a||d.animationDuration||0;if(d.int64==="s"){if(typeof c==="number"){c=new h.jqx.math().fromNumber(c,10)}else{if(typeof c==="string"){c=new h.jqx.math().fromString(c,10)}}if(c.greaterThan(d._max64)){c=new h.jqx.math().fromString(d._max64.toString(),10)}if(c.lessThan(d._min64)){c=new h.jqx.math().fromString(d._min64.toString(),10)}d._animate(d._value64,c,a)}else{if(d.int64==="u"){c=new BigNumber(c);if(c.compare(d._max64)===1){c=new BigNumber(d._max64)}if(c.compare(d._min64)===-1){c=new BigNumber(d._min64)}d._animate(d._value64,c,a)}else{if(c>d.max){c=d.max}if(c<d.min){c=d.min}d._animate(d.value,c,a)}}h.jqx.aria(d,"aria-valuenow",c.toString())}},_animate:function(a,n,c){var d=this;if(d._timeout){d._endAnimation(d.int64?d._value64:d.value,false)}if(!c){d._endAnimation(n,true);return}d._animateHandler(a,n,0,c)},_animateHandler:function(a,o,c,d){var n=this;if(c<=d){this._timeout=setTimeout(function(){if(n.int64!==false){var q=o.subtract(a);if(n.int64==="s"){var s=new h.jqx.math().fromNumber((h.easing[n.easing](c/d,c,0,1,d))*100,10);n._value64=a.add(q.multiply(s).div(new h.jqx.math().fromNumber(100,10)))}else{var s=new BigNumber((h.easing[n.easing](c/d,c,0,1,d))*100);n._value64=a.add(q.multiply(s).divide(100))}n.value=n._value64.toString();n._setValue(n._value64)}else{n.value=a+(o-a)*h.easing[n.easing](c/d,c,0,1,d);n._setValue(n.value)}n._raiseEvent(0,{value:n.value.toString()});n._animateHandler(a,o,c+n._animationTimeout,d)},this._animationTimeout)}else{this._endAnimation(o,true)}},_endAnimation:function(c,a){clearTimeout(this._timeout);this._timeout=null;this._setValue(c);if(a){this._raiseEvent(1,{value:c.toString()})}},_getMaxTickSize:function(){return Math.max(this._getSize(this.ticksMajor.size),this._getSize(this.ticksMinor.size))},_raiseEvent:function(c,d){var a=h.Event(this._events[c]),n;a.args=d||{};n=this.host.trigger(a);return n},_getNiceInterval:function(P){function a(n){return Math.log(parseFloat(n))/Math.LN10}function D(){var n=Math.abs(M.startAngle-M.endAngle)*M._innerRadius;return Math.round(n)}var M=this,J="width";if(P==="linear"&&M.orientation==="vertical"){J="height"}var S=h.jqx.browser.msie?0:1;var T;if(M.labels.formatValue){var Q=h('<span class="'+M.toThemeProperty("jqx-gauge-label")+'" style="position: absolute; visibility: hidden;"></span>'),d=M.labels.formatValue(M.min),c=M.labels.formatValue(M.max);h("body").append(Q);Q.text(d);var B=Q[J]()+S;Q.text(c);var O=Q[J]()+S;Q.remove();var T=Math.max(O,B)}else{T=M._getMaxLabelSize()[J]}var L=1;if(P==="radial"){var H;if(M._innerRadius<50){H=0.3}else{if(M._innerRadius<150){H=0.6}else{if(M._innerRadius<250){H=0.7}else{H=1}}}L=8/Math.max(1,a(M._innerRadius))*H}else{var N=0;if(T>105){N=(T-105)/100}L=1.5+N}T*=L;var U;if(P==="radial"){U=D()}else{U=M._getScaleLength()}var R=Math.ceil(U/T),F,C,K,E,I,G;if(M.int64===false){F=M.max-M.min;C=Math.floor(a(F)-a(R));K=Math.pow(10,C);E=R*K;I;if(F<2*E){I=1}else{if(F<3*E){I=2}else{if(F<7*E){I=5}else{I=10}}}G=I*K}else{F=new BigNumber(M.max).subtract(new BigNumber(M.min));C=Math.floor(a(F.toString())-a(R));K=new BigNumber(10).pow(new BigNumber(C));E=new BigNumber(R).multiply(K);I;if(F.compare(new BigNumber(2*E))===-1){I=1}else{if(F.compare(new BigNumber(3*E))===-1){I=2}else{if(F.compare(new BigNumber(7*E))===-1){I=5}else{I=10}}}G=new BigNumber(I).multiply(K);if(M.int64==="s"){G=new h.jqx.math().fromString(G.toString())}}return G}},f={defineInstance:function(){var a={int64:false,value:-50,max:40,min:-60,width:100,height:300,pointer:{},labels:{},animationDuration:1000,showRanges:{},ticksMajor:{size:"15%",interval:5},ticksMinor:{size:"10%",interval:2.5},tickMode:"default",niceInterval:false,ranges:[],easing:"easeOutCubic",colorScheme:"scheme01",disabled:false,rangesOffset:0,background:{},ticksPosition:"both",rangeSize:"5%",scaleStyle:null,ticksOffset:null,scaleLength:"90%",orientation:"vertical",aria:{"aria-valuenow":{name:"value",type:"number"},"aria-valuemin":{name:"min",type:"number"},"aria-valuemax":{name:"max",type:"number"},"aria-disabled":{name:"disabled",type:"boolean"}},_originalColor:"",_width:null,_height:null,renderer:null};h.extend(true,this,a)},createInstance:function(){h.jqx.aria(this);this.host.css("overflow","hidden");this.host.addClass(this.toThemeProperty("jqx-widget"));var c=this;if(c.int64==="s"){if(!h.jqx.longInt){throw new Error("jqxLinearGauge: Missing reference to jqxdata.js")}h.jqx.longInt(c);c._value64=new h.jqx.math().fromString(c.value.toString(),10);c._min64=new h.jqx.math().fromString(c.min.toString(),10);c._max64=new h.jqx.math().fromString(c.max.toString(),10)}else{if(c.int64==="u"){try{BigNumber}catch(a){throw new Error("jqxLinearGauge: Missing reference to bignumber.js")}c._value64=new BigNumber(c.value);c._min64=new BigNumber(c.min);c._max64=new BigNumber(c.max)}}h.jqx.utilities.resize(this.host,function(){c.refresh(false,false)})},val:function(a){if(arguments.length==0||typeof(a)=="object"){return this.value}this.setValue(a,0)},_initRenderer:function(a){if(!h.jqx.createRenderer){throw"Please include a reference to jqxdraw.js"}return h.jqx.createRenderer(this,a)},refresh:function(a,c){var n=this;if(!n.renderer){n._isVML=false;n.host.empty();n._initRenderer(n.host)}var d=n.renderer;if(!d){return}n._validateProperties();n._reset();n._init();n._performLayout();n._render();if(c!==false){n.setValue(n.value,1)}},_getBorderSize:function(){var a=1,c;if(this._isVML){a=0}if(this.background){c=(parseInt(this.background.style["stroke-width"],10)||a)/2;if(this._isVML){return Math.round(c)}return c}return a},_validateProperties:function(){this.background=this._backgroundConstructor(this.background,this);this.ticksOffset=this.ticksOffset||this._getDefaultTicksOffset();this.rangesOffset=this.rangesOffset||0;this.rangeSize=this._validatePercentage(this.rangeSize,5);this.ticksOffset[0]=this._validatePercentage(this.ticksOffset[0],"5%");this.ticksOffset[1]=this._validatePercentage(this.ticksOffset[1],"5%");this.ticksMinor=this._tickConstructor(this.ticksMinor,this);this.ticksMajor=this._tickConstructor(this.ticksMajor,this);this.scaleStyle=this.scaleStyle||this.ticksMajor.style;this.labels=this._labelsConstructor(this.labels,this);this.pointer=this._pointerConstructor(this.pointer,this);for(var a=0;a<this.ranges.length;a+=1){this.ranges[a]=this._rangeConstructor(this.ranges[a],this)}},_getDefaultTicksOffset:function(){if(this.orientation==="horizontal"){return["5%","36%"]}return["36%","5%"]},_handleOrientation:function(){if(this.orientation==="vertical"){h.extend(this,linearVerticalGauge)}else{h.extend(this,linearHorizontalGauge)}},_reset:function(){this.host.empty()},_performLayout:function(){var a=parseInt(this.background.style["stroke-width"],10)||1;this._width-=a;this._height-=a;this.host.css("padding",a/2)},_init:function(){var a=this._getBorderSize(),c;this._width=this._getScale(this.width,"width",this.host.parent())-3;this._height=this._getScale(this.height,"height",this.host.parent())-3;this.element.innerHTML="<div/>";this.host.width(this._width);this.host.height(this._height);this.host.children().width(this._width);this.host.children().height(this._height);this.renderer.init(this.host.children());c=this.renderer.getContainer();c.width(this._width);c.height(this._height)},_render:function(){this._renderBackground();this._renderTicks();if(!this.niceInterval){this._renderLabels()}this._renderRanges();this._renderPointer()},_renderBackground:function(){if(!this.background.visible){return}var c=this.background.style,d=h.jqx._rup(this._getBorderSize()),n="rect",a;c=this._handleShapeOptions(c);if(this.background.backgroundType==="roundedRectangle"&&this._isVML){n="roundrect"}if(!this._Vml){c.x=d;c.y=d}a=this.renderer.shape(n,c);if(this._isVML){this._fixVmlRoundrect(a,c)}},_handleShapeOptions:function(a){var d=this.background.style.fill,c=this._getBorderSize();if(!d){d="#cccccc"}if(this.background.showGradient){if(d.indexOf("url")<0&&d.indexOf("#grd")<0){this._originalColor=d}else{d=this._originalColor}d=this.renderer._toLinearGradient(d,this.orientation==="horizontal",[[1,1.1],[90,1.5]])}this.background.style.fill=d;if(this.background.backgroundType==="roundedRectangle"){if(this._isVML){a.arcsize=this.background.borderRadius+"%"}else{a.rx=this.background.borderRadius;a.ry=this.background.borderRadius}}a.width=this._width-1;a.height=this._height-1;return a},_fixVmlRoundrect:function(a,c){var d=this._getBorderSize();a.style.position="absolute";a.style.left=d;a.style.top=d;a.style.width=this._width-1;a.style.height=this._height-1;a.strokeweight=0;delete c.width;delete c.height;delete c.arcsize;this.renderer.attr(a,c)},_renderTicks:function(){var d=this.ticksMinor,c=this.ticksMajor,t,o,q,s,u,a,n;if(this.int64==="s"){t=this._max64.subtract(this._min64);if(t.isNegative()){t=t.negate()}if(this.tickMode==="default"){if(this.niceInterval){o=this._getNiceInterval("linear")}else{o=c._interval64}q=d._interval64}else{o=t.div(new h.jqx.math().fromNumber(c.number));q=t.div(new h.jqx.math().fromNumber(d.number))}}else{if(this.int64==="u"){t=this._max64.subtract(this._min64).abs();if(this.tickMode==="default"){if(this.niceInterval){o=this._getNiceInterval("linear")}else{o=c._interval64}q=d._interval64}else{o=t.divide(new BigNumber(c.number));q=t.divide(new BigNumber(d.number))}}else{t=Math.abs(this.max-this.min);if(this.tickMode==="default"){if(this.niceInterval){o=this._getNiceInterval("linear")}else{o=c.interval}q=d.interval}else{o=t/c.number;q=t/d.number}}}a={size:this._getSize(c.size),style:c.style,visible:c.visible,interval:o,type:"major"};n={size:this._getSize(d.size),style:d.style,visible:d.visible,interval:q,checkOverlap:true,type:"minor"};if(this.ticksPosition==="near"||this.ticksPosition==="both"){this._ticksRenderHandler(a);this._ticksRenderHandler(n)}if(this.ticksPosition==="far"||this.ticksPosition==="both"){a.isFar=true;n.isFar=true;this._ticksRenderHandler(a);this._ticksRenderHandler(n)}this._renderConnectionLine()},_ticksRenderHandler:function(n){if(!n.visible){return}var a=this._getSize(this.ticksOffset[0],"width"),d=this._getSize(this.ticksOffset[1],"height"),o=this._getBorderSize(),c=this._calculateTickOffset()+this._getMaxTickSize();if(n.isFar){c+=n.size}this._drawTicks(n,o,c+o)},_drawTicks:function(a,t,d){var c=this,u=a.interval,o;function q(B){o=c._valueToCoordinates(B);if(!a.checkOverlap||!c._overlapTick(B)){c._renderTick(a.size,o,a.style,d);if(c.niceInterval&&c.labels.visible){var A,n,w;if(c.orientation==="vertical"){A="width";n="height";w=c._getSize(c.ticksOffset[1],"height")}else{A="height";n="width";w=c._getSize(c.ticksOffset[0],"width")}w+=t;var D=c._getMaxLabelSize()[A],E=c._getMaxLabelSize()[n],C=a.isFar?"far":"near",z;if(C==="near"){z=c._calculateTickOffset()-D+t+c._getSize(c.labels.offset)}else{z=c._calculateTickOffset()+2*c._getMaxTickSize()+D+t+c._getSize(c.labels.offset)}if(c.int64===false){if(B!==c.min&&Math.abs(c._valueToCoordinates(c.min)-o)<E){return}if(B!==c.max&&Math.abs(c._valueToCoordinates(c.max)-o)<E){return}}else{if(c.int64==="s"){if(B.equals(c._min64)===false&&Math.abs(c._valueToCoordinates(c._min64)-o)<E){return false}if(B.equals(c._max64)===false&&Math.abs(c._valueToCoordinates(c._max64)-o)<E){return}}else{if(c.int64==="u"){if(B.compare(c._min64)!==0&&Math.abs(c._valueToCoordinates(c._min64)-o)<E){return false}if(B.compare(c._max64)!==0&&Math.abs(c._valueToCoordinates(c._max64)-o)<E){return}}}}c._renderLabel(o,C,z,D,B)}}}if(c.niceInterval&&a.type==="major"){var v;if(c.int64==="s"){q(c._min64);v=c._min64.subtract(c._min64.modulo(u)).add(u);for(var s=v;s.lessThan(c._max64);s=s.add(u)){q(s)}q(c._max64)}else{if(c.int64==="u"){q(c._min64);v=c._min64.subtract(c._min64.mod(u)).add(u);for(var s=v;s.compare(c._max64)===-1;s=s.add(u)){q(s)}q(c._max64)}else{q(c.min);v=c.min-(c.min%u)+u;for(var s=v;s<=c.max;s+=u){q(s)}q(c.max)}}}else{if(c.int64==="s"){for(var s=new h.jqx.math().fromString(c._min64.toString(),10);s.lessThanOrEqual(c._max64);s=s.add(u)){q(s)}}else{if(c.int64==="u"){for(var s=new BigNumber(c._min64);s.compare(c._max64)!==1;s=s.add(u)){q(s)}}else{for(var s=c.min;s<=c.max;s+=u){q(s)}}}}},_calculateTickOffset:function(){var c=this._getSize(this.ticksOffset[0],"width"),d=this._getSize(this.ticksOffset[1],"height"),a=d;if(this.orientation==="vertical"){a=c}return a},_getInterval:function(d){var a=this,n;if(a.tickMode==="default"){if(a.int64!==false){n=a[d]._interval64}else{n=a[d].interval}}else{var c=a[d].number,o;if(a.int64!==false){o=a._max64.subtract(a._min64);if(a.int64==="s"){n=o.div(new h.jqx.math().fromNumber(c))}else{n=o.divide(new BigNumber(c))}}else{o=a.max-a.min;n=o/a[d].number}}return n},_overlapTick:function(a){var d=this._getInterval("ticksMajor"),c=this._getInterval("ticksMinor");if(this.int64==="s"){a=a.add(this._min64);if((a.modulo(c)).equals(a.modulo(d))){return true}else{return false}}else{if(this.int64==="u"){a=a.add(this._min64);if((a.mod(c)).compare(a.mod(d))===0){return true}else{return false}}else{a+=this.min;if(a%c===a%d){return true}return false}}},_renderConnectionLine:function(){if(!this.ticksMajor.visible&&!this.ticksMinor.visible){return}var o=this._getScaleLength(),q=this._getBorderSize(),d,a,c=this._getMaxTickSize(),n=c+q;if(this.int64!==false){d=this._valueToCoordinates(this._max64);a=this._valueToCoordinates(this._min64)}else{d=this._valueToCoordinates(this.max);a=this._valueToCoordinates(this.min)}if(this.orientation==="vertical"){n+=this._getSize(this.ticksOffset[0],"width");this.renderer.line(n,d,n,a,this.scaleStyle)}else{n+=this._getSize(this.ticksOffset[1],"height");this.renderer.line(d,n,a,n,this.scaleStyle)}},_getScaleLength:function(){return this._getSize(this.scaleLength,(this.orientation==="vertical"?"height":"width"))},_renderTick:function(o,a,n,c){var d=this._handleTickCoordinates(o,a,c);this.renderer.line(Math.round(d.x1),Math.round(d.y1),Math.round(d.x2),Math.round(d.y2),n)},_handleTickCoordinates:function(d,a,c){if(this.orientation==="vertical"){return{x1:c-d,x2:c,y1:a,y2:a}}return{x1:a,x2:a,y1:c-d,y2:c}},_getTickCoordinates:function(c,a){var d=this._handleTickCoordinates(c,0,this._calculateTickOffset());if(this.orientation==="vertical"){d=d.x1}else{d=d.y1}d+=c;return d},_renderLabels:function(){if(!this.labels.visible){return}var o=this._getSize(this.ticksOffset[0],"width"),d=this._getMaxTickSize(),a=this.labels.position,c="height",q=this._getBorderSize(),n=this._calculateTickOffset()+d,s;if(this.orientation==="vertical"){o=this._getSize(this.ticksOffset[1],"height");c="width"}s=this._getMaxLabelSize()[c];if(a==="near"||a==="both"){this._labelListRender(n-d-s+q,o+q,s,"near")}if(a==="far"||a==="both"){this._labelListRender(n+d+s+q,o+q,s,"far")}},_labelListRender:function(u,C,B,d){var z,c,w,a,s,v,A=this._getScaleLength();u+=this._getSize(this.labels.offset);if(this.int64!==false){s=this._max64.subtract(this._min64);if(this.tickMode==="default"){z=this.labels._interval64;if(this.int64==="s"){c=s.div(z).toNumber()}else{c=parseFloat((s).divide(z).toString())}}else{c=this.labels.number;if(this.int64==="s"){z=s.div(new h.jqx.math().fromNumber(c))}else{z=s.divide(c)}}a=(this.orientation==="vertical")?this._max64:this._min64}else{s=Math.abs(this.max-this.min);if(this.tickMode==="default"){z=this.labels.interval;c=s/z}else{c=this.labels.number;z=s/c}a=(this.orientation==="vertical")?this.max:this.min}w=A/c;for(var t=0;t<=c;t+=1){this._renderLabel(C,d,u,B,a);if(this.int64!==false){a=(this.orientation==="vertical")?a.subtract(z):a.add(z)}else{a+=(this.orientation==="vertical")?-z:z}C+=w}},_renderLabel:function(v,c,q,u,a){var s={"class":this.toThemeProperty("jqx-gauge-label")},t=this.labels.interval,d,w,o;o=this.labels.formatValue(a.toString(),c);w=this.renderer.measureText(o,0,s);if(this.orientation==="vertical"){d=(c==="near")?u-w.width:0;this.renderer.text(o,Math.round(q)+d-u/2,Math.round(v-w.height/2),w.width,w.height,0,s)}else{d=(c==="near")?u-w.height:0;this.renderer.text(o,Math.round(v-w.width/2),Math.round(q)+d-u/2,w.width,w.height,0,s)}},_renderRanges:function(){if(!this.showRanges){return}var c=(this.orientation==="vertical")?"width":"height",a=this._getSize(this.rangesOffset,c),d=this._getSize(this.rangeSize,c),o;for(var n=0;n<this.ranges.length;n+=1){o=this.ranges[n];o.size=d;this._renderRange(o,a)}},_renderRange:function(a,v){var A=this._getScaleLength(),w=this._getBorderSize(),z=this._getSize(this.ticksOffset[0],"width"),B=this._getSize(this.ticksOffset[1],"height"),s=this._getMaxTickSize(),c=this._getSize(a.size),t,C;if(this.int64!==false){t=this._valueToCoordinates(a._endValue64);C=a._startValue64;if(this.int64==="s"&&C.lessThan(this._min64)){C=new h.jqx.math().fromString(this._min64.toString(),10)}else{if(this.int64==="u"&&C.compare(this._min64)===-1){C=new BigNumber(this._min64)}}}else{t=this._valueToCoordinates(a.endValue);C=a.startValue;if(C<this.min){C=this.min}}var d=Math.abs(this._valueToCoordinates(C)-t),u,D;if(this.orientation==="vertical"){u=this.renderer.rect(z+s+v-c+w,t,a.size,d,a.style)}else{D=d;u=this.renderer.rect(this._valueToCoordinates(C),B+s+w,D,a.size,a.style)}this.renderer.attr(u,a.style)},_renderPointer:function(){if(!this.pointer.visible){return}if(this.pointer.pointerType==="default"){this._renderColumnPointer()}else{this._renderArrowPointer()}},_renderColumnPointer:function(){this._pointer=this.renderer.rect(0,0,0,0,this.pointer.style);this.renderer.attr(this._pointer,this.pointer.style);if(this.int64!==false){this._setValue(this._value64)}else{this._setValue(this.value)}},_renderArrowPointer:function(){var a=this._getArrowPathByValue(0);this._pointer=this.renderer.path(a,this.pointer.style)},_renderArrowPointerByValue:function(c){var a=this._getArrowPathByValue(c);this._pointer=this.renderer.path(a,this.pointer.style)},_getArrowPathByValue:function(s){var A=this._getBorderSize(),u=Math.ceil(this._valueToCoordinates(s))+A,C=A,B=Math.ceil(this._getSize(this.ticksOffset[0],"width")),D=Math.ceil(this._getSize(this.ticksOffset[1],"height")),z=Math.ceil(this._getSize(this.pointer.offset)),t=Math.ceil(this._getMaxTickSize()),a=Math.ceil(this._getSize(this.pointer.size)),w=Math.ceil(Math.sqrt((a*a)/3)),c,v,d;if(this.orientation==="vertical"){C+=B+t+z;v=(z>=0)?C+a:C-a;c="M "+C+" "+u+" L "+v+" "+(u-w)+" L "+v+" "+(u+w)}else{var E=this._getMaxLabelSize()["height"];C+=B+t+z+E;if(this._isVML){C-=2}d=u;u=C;C=d;v=u-a;c="M "+C+" "+u+" L "+(C-w)+" "+v+" L "+(C+w)+" "+v}return c},_setValue:function(a){if(this.pointer.pointerType==="default"){this._performColumnPointerLayout(a)}else{this._performArrowPointerLayout(a)}this.value=a},_performColumnPointerLayout:function(w){var B,v,a,q=this._valueToCoordinates(w),t=this._getBorderSize(),u=this._getSize(this.ticksOffset[0],"width"),z=this._getSize(this.ticksOffset[1],"height"),d=this._getMaxTickSize(),A=this._getSize(this.pointer.size),s=this._getSize(this.pointer.offset),c={};if(this.int64!==false){B=this._valueToCoordinates(this._min64)}else{B=this._valueToCoordinates(this.min)}a=Math.abs(B-q);if(this.orientation==="vertical"){v=u+d;c={left:v+s+1+t,top:q,height:a,width:A}}else{v=z+d;c={left:B,top:v+s-A-1+t,height:A,width:a}}this._setRectAttrs(c)},_performArrowPointerLayout:function(a){var c=this._getArrowPathByValue(a);if(this._isVML){if(this._pointer){h(this._pointer).remove()}this._renderArrowPointerByValue(a)}else{this.renderer.attr(this._pointer,{d:c})}},_setRectAttrs:function(a){if(!this._isVML){this.renderer.attr(this._pointer,{x:a.left});this.renderer.attr(this._pointer,{y:a.top});this.renderer.attr(this._pointer,{width:a.width});this.renderer.attr(this._pointer,{height:a.height})}else{this._pointer.style.top=a.top;this._pointer.style.left=a.left;this._pointer.style.width=a.width;this._pointer.style.height=a.height}},_valueToCoordinates:function(I){var w=this._getBorderSize(),B=this._getScaleLength(),A=this._getSize(this.ticksOffset[0],"width"),C=this._getSize(this.ticksOffset[1],"height"),c,F,D;if(this.int64!==false){c=I.subtract(this._min64);F=this._max64.subtract(this._min64);if(this.int64==="s"){if(c.isNegative()){c.negate()}if(F.isNegative()){F.negate()}}else{c=c.intPart().abs();F=F.abs()}var G=c.toString(),E=F.toString(),z,J;if(E.length>15){var H=E.length-15;E=E.slice(0,15)+"."+E.slice(15);J=parseFloat(E);if(G.length>H){var a=G.length-H;G=G.slice(0,a)+"."+G.slice(a)}else{if(G.length===H){G="0."+G}else{var d="0.";for(var v=0;v<H-G.length;v++){d+="0"}G=d+""+G}}z=parseFloat(G)}else{if(this.int64==="s"){z=c.toNumber();J=F.toNumber()}else{z=parseFloat(c.toString());J=parseFloat(F.toString())}}D=(z/J)*B}else{c=Math.abs(this.min-I);F=Math.abs(this.max-this.min);D=(c/F)*B}if(this.orientation==="vertical"){return this._height-D-(this._height-C-B)+w}return D+(this._width-A-B)+w},_getSize:function(c,a){a=a||(this.orientation==="vertical"?"width":"height");if(c.toString().indexOf("%")>=0){c=(parseInt(c,10)/100)*this["_"+a]}c=parseInt(c,10);return c},propertyChangedHandler:function(n,d,a,c){if(c==a){return}if(d=="min"){if(n.int64==="s"){n._min64=new h.jqx.math().fromString(c.toString(),10)}else{if(n.int64==="u"){n._min64=new BigNumber(c)}else{this.min=parseInt(c)}}h.jqx.aria(this,"aria-valuemin",c)}if(d=="max"){if(n.int64==="s"){n._max64=new h.jqx.math().fromString(c.toString(),10)}else{if(n.int64==="u"){n._max64=new BigNumber(c)}else{this.max=parseInt(c)}}h.jqx.aria(this,"aria-valuemax",c)}if(d==="disabled"){if(c){this.disable()}else{this.enable()}h.jqx.aria(this,"aria-disabled",c)}else{if(d==="value"){if(this._timeout!=undefined){clearTimeout(this._timeout);this._timeout=null}this.value=a;this.setValue(c)}else{if(d==="colorScheme"){this.pointer.style=null}else{if(d==="orientation"&&a!==c){var o=this.ticksOffset[0];this.ticksOffset[0]=this.ticksOffset[1];this.ticksOffset[1]=o}}if(d!=="animationDuration"&&d!=="easing"){this.refresh()}}}if(this.renderer instanceof h.jqx.HTML5Renderer){this.renderer.refresh()}},_backgroundConstructor:function(a,d){if(this.host){return new this._backgroundConstructor(a,d)}var c={rectangle:true,roundedRectangle:true};a=a||{};this.style=a.style||{stroke:"#cccccc",fill:null};if(a.visible||typeof a.visible==="undefined"){this.visible=true}else{this.visible=false}if(c[a.backgroundType]){this.backgroundType=a.backgroundType}else{this.backgroundType="roundedRectangle"}if(this.backgroundType==="roundedRectangle"){if(typeof a.borderRadius==="number"){this.borderRadius=a.borderRadius}else{this.borderRadius=15}}if(typeof a.showGradient==="undefined"){this.showGradient=true}else{this.showGradient=a.showGradient}},resize:function(a,c){this.width=a;this.height=c;this.refresh()},_tickConstructor:function(a,c){if(this.host){return new this._tickConstructor(a,c)}this.size=c._validatePercentage(a.size,"10%");if(a.interval){this.interval=a.interval}else{this.interval=5}if(c.int64==="s"){this._interval64=new h.jqx.math().fromString(this.interval.toString(),10)}else{if(c.int64==="u"){this._interval64=new BigNumber(this.interval)}else{this.interval=parseFloat(this.interval)}}if(a.number){this.number=a.number}else{this.number=5}this.style=a.style||{stroke:"#A1A1A1","stroke-width":"1px"};if(typeof a.visible==="undefined"){this.visible=true}else{this.visible=a.visible}},_labelsConstructor:function(a,c){if(this.host){return new this._labelsConstructor(a,c)}this.position=a.position;if(this.position!=="far"&&this.position!=="near"&&this.position!=="both"){this.position="both"}if(typeof a.formatValue==="function"){this.formatValue=a.formatValue}else{this.formatValue=function(d){return d}}this.visible=a.visible;if(this.visible!==false&&this.visible!==true){this.visible=true}if(a.interval){this.interval=a.interval}else{this.interval=10}if(c.int64==="s"){this._interval64=new h.jqx.math().fromString(this.interval.toString(),10)}else{if(c.int64==="u"){this._interval64=new BigNumber(this.interval)}else{this.interval=parseFloat(this.interval)}}if(a.number){this.number=a.number}else{this.number=10}this.offset=c._validatePercentage(a.offset,0)},_rangeConstructor:function(a,c){if(this.host){return new this._rangeConstructor(a,c)}if(a.startValue){this.startValue=a.startValue}else{this.startValue=c.min}if(a.endValue){this.endValue=a.endValue}else{this.endValue=c.max}if(c.int64==="s"){this._startValue64=new h.jqx.math().fromString(this.startValue.toString(),10);this._endValue64=new h.jqx.math().fromString(this.endValue.toString(),10);if(this._endValue64.lessThanOrEqual(this._startValue64)){this._endValue64=this._startValue64.add(new h.jqx.math().fromNumber(1,10));this.endValue=this._endValue64.toString()}}else{if(c.int64==="u"){this._startValue64=new BigNumber(this.startValue);this._endValue64=new BigNumber(this.endValue);if(this._endValue64.compare(this._startValue64)!==1){this._endValue64=this._startValue64.add(1);this.endValue=this._endValue64.toString()}}else{this.startValue=parseFloat(this.startValue);this.endValue=parseFloat(this.endValue);if(this.endValue<=this.startValue){this.endValue=this.startValue+1}}}this.style=a.style||{fill:"#dddddd",stroke:"#dddddd"}},_pointerConstructor:function(a,d){if(this.host){return new this._pointerConstructor(a,d)}var c=d._getColorScheme(d.colorScheme)[0];this.pointerType=a.pointerType;if(this.pointerType!=="default"&&this.pointerType!=="arrow"){this.pointerType="default"}this.style=a.style||{fill:c,stroke:c,"stroke-width":1};this.size=d._validatePercentage(a.size,"7%");this.visible=a.visible;if(this.visible!==true&&this.visible!==false){this.visible=true}this.offset=d._validatePercentage(a.offset,0)}};h.extend(e,l);h.extend(f,l);h.jqx.jqxWidget("jqxLinearGauge","",{});h.jqx.jqxWidget("jqxGauge","",{});h.extend(h.jqx._jqxGauge.prototype,e);h.extend(h.jqx._jqxLinearGauge.prototype,f)})(jqxBaseFramework);(function(c){c.jqx.jqxWidget("jqxCheckBox","",{});c.extend(c.jqx._jqxCheckBox.prototype,{defineInstance:function(){var a={animationShowDelay:300,animationHideDelay:300,width:null,height:null,boxSize:"13px",checked:false,hasThreeStates:false,disabled:false,enableContainerClick:true,locked:false,groupName:"",keyboardCheck:true,enableHover:true,hasInput:true,rtl:false,updated:null,disabledContainer:false,changeType:null,_canFocus:true,aria:{"aria-checked":{name:"checked",type:"boolean"},"aria-disabled":{name:"disabled",type:"boolean"}},events:["checked","unchecked","indeterminate","change"]};c.extend(true,this,a);return a},createInstance:function(a){this.render()},_addInput:function(){if(this.hasInput){if(this.input){this.input.remove()}var a=this.host.attr("name");this.input=c("<input type='hidden'/>");this.host.append(this.input);if(a){this.input.attr("name",a)}this.input.val(this.checked);this.host.attr("role","checkbox");c.jqx.aria(this)}},render:function(){this.init=true;var o=this;this.setSize();this.propertyChangeMap.width=function(s,e,f,d){o.setSize()};this.propertyChangeMap.height=function(s,e,f,d){o.setSize()};this._removeHandlers();if(this.checkbox){this.checkbox.remove();this.checkbox=null}if(this.checkMark){this.checkMark.remove();this.checkMark=null}if(this.box){this.box.remove();this.box=null}if(this.clear){this.clear.remove();this.clear=null}if(this.boxSize==null){this.boxSize=13}var h=parseInt(this.boxSize)+"px";var l="13px";var n=Math.floor((parseInt(this.boxSize)-13)/2);var a=n;n+="px";a+="px";if(this.boxSize!="13px"){this.checkbox=c('<div><div style="width: '+h+"; height: "+h+';"><span style="position: relative; left: '+n+"; top: "+a+"; width: "+l+"; height: "+l+';"></span></div></div>')}else{this.checkbox=c('<div><div style="width: '+h+"; height: "+h+';"><span style="width: '+h+"; height: "+h+';"></span></div></div>')}this.host.prepend(this.checkbox);if(!this.disabledContainer){if(!this.host.attr("tabIndex")){this.host.attr("tabIndex",0)}this.clear=c('<div style="clear: both;"></div>');this.host.append(this.clear)}this.checkMark=c(this.checkbox[0].firstChild.firstChild);this.box=this.checkbox;this.box.addClass(this.toThemeProperty("jqx-checkbox-default")+" "+this.toThemeProperty("jqx-fill-state-normal")+" "+this.toThemeProperty("jqx-rc-all"));if(this.disabled){this.disable()}if(!this.disabledContainer){this.host.addClass(this.toThemeProperty("jqx-widget"));this.host.addClass(this.toThemeProperty("jqx-checkbox"))}if(this.locked&&!this.disabledContainer){this.host.css("cursor","auto")}var q=this.element.getAttribute("checked");if(q=="checked"||q=="true"||q==true){this.checked=true}this._addInput();this._render();this._addHandlers();this.init=false},refresh:function(a){if(!a){this.setSize();this._render()}},resize:function(d,a){this.width=d;this.height=a;this.refresh()},setSize:function(){if(this.width!=null&&this.width.toString().indexOf("px")!=-1){this.host.width(this.width)}else{if(this.width!=undefined&&!isNaN(this.width)){this.host.width(this.width)}}if(this.height!=null&&this.height.toString().indexOf("px")!=-1){this.host.height(this.height)}else{if(this.height!=undefined&&!isNaN(this.height)){this.host.height(this.height)}}},_addHandlers:function(){var e=this;var f=c.jqx.mobile.isTouchDevice();var a="mousedown";if(f){a=c.jqx.mobile.getTouchEventName("touchend")}this.addHandler(this.box,a,function(d){if(!e.disabled&&!e.enableContainerClick&&!e.locked){e.changeType="mouse";e.toggle();if(e.updated){d.owner=e;e.updated(d,e.checked,e.oldChecked)}if(d.preventDefault){d.preventDefault()}return false}});if(!this.disabledContainer){this.addHandler(this.host,"keydown",function(d){if(!e.disabled&&!e.locked&&e.keyboardCheck){if(d.keyCode==32){if(!e._canFocus){return true}e.changeType="keyboard";e.toggle();if(e.updated){d.owner=e;e.updated(d,e.checked,e.oldChecked)}if(d.preventDefault){d.preventDefault()}return false}}});this.addHandler(this.host,a,function(d){if(!e.disabled&&e.enableContainerClick&&!e.locked){e.changeType="mouse";e.toggle();if(d.preventDefault){d.preventDefault()}if(e._canFocus){e.focus()}return false}});this.addHandler(this.host,"selectstart",function(d){if(!e.disabled&&e.enableContainerClick){if(d.preventDefault){d.preventDefault()}return false}});this.addHandler(this.host,"mouseup",function(d){if(!e.disabled&&e.enableContainerClick){if(d.preventDefault){d.preventDefault()}}});this.addHandler(this.host,"focus",function(d){if(!e.disabled&&!e.locked){if(!e._canFocus){return true}if(e.enableHover){e.box.addClass(e.toThemeProperty("jqx-checkbox-hover"))}e.box.addClass(e.toThemeProperty("jqx-fill-state-focus"));if(d.preventDefault){d.preventDefault()}e.hovered=true;return false}});this.addHandler(this.host,"blur",function(d){if(!e.disabled&&!e.locked){if(!e._canFocus){return true}if(e.enableHover){e.box.removeClass(e.toThemeProperty("jqx-checkbox-hover"))}e.box.removeClass(e.toThemeProperty("jqx-fill-state-focus"));if(d.preventDefault){d.preventDefault()}e.hovered=false;return false}});this.addHandler(this.host,"mouseenter",function(d){if(e.locked){e.host.css("cursor","arrow")}if(e.enableHover){if(!e.disabled&&e.enableContainerClick&&!e.locked){e.box.addClass(e.toThemeProperty("jqx-checkbox-hover"));e.box.addClass(e.toThemeProperty("jqx-fill-state-hover"));if(d.preventDefault){d.preventDefault()}e.hovered=true;return false}}});this.addHandler(this.host,"mouseleave",function(d){if(e.enableHover){if(!e.disabled&&e.enableContainerClick&&!e.locked){e.box.removeClass(e.toThemeProperty("jqx-checkbox-hover"));e.box.removeClass(e.toThemeProperty("jqx-fill-state-hover"));if(d.preventDefault){d.preventDefault()}e.hovered=false;return false}}});this.addHandler(this.box,"mouseenter",function(){if(e.locked){return}if(!e.disabled&&!e.enableContainerClick){e.box.addClass(e.toThemeProperty("jqx-checkbox-hover"));e.box.addClass(e.toThemeProperty("jqx-fill-state-hover"))}});this.addHandler(this.box,"mouseleave",function(){if(!e.disabled&&!e.enableContainerClick){e.box.removeClass(e.toThemeProperty("jqx-checkbox-hover"));e.box.removeClass(e.toThemeProperty("jqx-fill-state-hover"))}})}},focus:function(){try{this.host.focus()}catch(a){}},_removeHandlers:function(){var d=c.jqx.mobile.isTouchDevice();var a="mousedown";if(d){a="touchend"}if(this.box){this.removeHandler(this.box,a);this.removeHandler(this.box,"mouseenter");this.removeHandler(this.box,"mouseleave")}this.removeHandler(this.host,a);this.removeHandler(this.host,"mouseup");this.removeHandler(this.host,"selectstart");this.removeHandler(this.host,"mouseenter");this.removeHandler(this.host,"mouseleave");this.removeHandler(this.host,"keydown");this.removeHandler(this.host,"blur");this.removeHandler(this.host,"focus")},_render:function(){if(!this.disabled){if(this.enableContainerClick){this.host.css("cursor","pointer")}else{if(!this.init){this.host.css("cursor","auto")}}}else{this.disable()}if(this.rtl){this.box.addClass(this.toThemeProperty("jqx-checkbox-rtl"));this.host.addClass(this.toThemeProperty("jqx-rtl"))}this.updateStates()},_setState:function(d,a){if(this.checked!=d){this.checked=d;if(this.checked){this.checkMark[0].className=this.toThemeProperty("jqx-checkbox-check-checked")}else{if(this.checked==null){this.checkMark[0].className=this.toThemeProperty("jqx-checkbox-check-indeterminate")}else{this.checkMark[0].className=""}}}if(a===false||a===true){this.locked=a}},val:function(a){if(arguments.length==0||(a!=null&&typeof(a)=="object")){return this.checked}if(typeof a=="string"){if(a=="true"){this.check()}if(a=="false"){this.uncheck()}if(a==""){this.indeterminate()}}else{if(a==true){this.check()}if(a==false){this.uncheck()}if(a==null){this.indeterminate()}}return this.checked},check:function(){this.checked=true;var a=this;this.checkMark.removeClass();if(c.jqx.browser.msie||this.animationShowDelay==0){this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-checked"))}else{this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-checked"));this.checkMark.css("opacity",0);this.checkMark.stop().animate({opacity:1},this.animationShowDelay,function(){})}if(this.groupName!=null&&this.groupName.length>0){var d=c.find(this.toThemeProperty(".jqx-checkbox",true));c.each(d,function(){var e=c(this).jqxCheckBox("groupName");if(e==a.groupName&&this!=a.element){c(this).jqxCheckBox("uncheck")}})}this._raiseEvent("0",true);this._raiseEvent("3",{checked:true});if(this.input!=undefined){this.input.val(this.checked);c.jqx.aria(this,"aria-checked",this.checked)}},uncheck:function(){this.checked=false;var a=this;if(c.jqx.browser.msie||this.animationHideDelay==0){if(a.checkMark[0].className!=""){a.checkMark[0].className=""}}else{this.checkMark.css("opacity",1);this.checkMark.stop().animate({opacity:0},this.animationHideDelay,function(){if(a.checkMark[0].className!=""){a.checkMark[0].className=""}})}this._raiseEvent("1");this._raiseEvent("3",{checked:false});if(this.input!=undefined){this.input.val(this.checked);c.jqx.aria(this,"aria-checked",this.checked)}},indeterminate:function(){this.checked=null;this.checkMark.removeClass();if(c.jqx.browser.msie||this.animationShowDelay==0){this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-indeterminate"))}else{this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-indeterminate"));this.checkMark.css("opacity",0);this.checkMark.stop().animate({opacity:1},this.animationShowDelay,function(){})}this._raiseEvent("2");this._raiseEvent("3",{checked:null});if(this.input!=undefined){this.input.val(this.checked);c.jqx.aria(this,"aria-checked","undefined")}},toggle:function(){if(this.disabled){return}if(this.locked){return}if(this.groupName!=null&&this.groupName.length>0){if(this.checked!=true){this.checked=true;this.updateStates()}return}this.oldChecked=this.checked;if(this.checked==true){this.checked=this.hasThreeStates?null:false}else{this.checked=this.checked!=null}this.updateStates();if(this.input!=undefined){this.input.val(this.checked)}},updateStates:function(){if(this.checked){this.check()}else{if(this.checked==false){this.uncheck()}else{if(this.checked==null){this.indeterminate()}}}},disable:function(){this.disabled=true;if(this.checked==true){this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-disabled"))}else{if(this.checked==null){this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-indeterminate-disabled"))}}this.box.addClass(this.toThemeProperty("jqx-checkbox-disabled-box"));this.host.addClass(this.toThemeProperty("jqx-checkbox-disabled"));this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"));this.box.addClass(this.toThemeProperty("jqx-checkbox-disabled"));c.jqx.aria(this,"aria-disabled",this.disabled)},enable:function(){if(this.checked==true){this.checkMark.removeClass(this.toThemeProperty("jqx-checkbox-check-disabled"))}else{if(this.checked==null){this.checkMark.removeClass(this.toThemeProperty("jqx-checkbox-check-indeterminate-disabled"))}}this.box.removeClass(this.toThemeProperty("jqx-checkbox-disabled-box"));this.host.removeClass(this.toThemeProperty("jqx-checkbox-disabled"));this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled"));this.box.removeClass(this.toThemeProperty("jqx-checkbox-disabled"));this.disabled=false;c.jqx.aria(this,"aria-disabled",this.disabled)},destroy:function(){this.host.remove()},_raiseEvent:function(h,n){if(this.init){return}var q=this.events[h];var l=new c.Event(q);l.owner=this;if(!n){n={}}n.type=this.changeType;this.changeType=null;l.args=n;try{var a=this.host.trigger(l)}catch(o){}return a},propertyChangedHandler:function(a,l,f,h){if(this.isInitialized==undefined||this.isInitialized==false){return}if(l=="enableContainerClick"&&!a.disabled&&!a.locked){if(h){a.host.css("cursor","pointer")}else{a.host.css("cursor","auto")}}if(l=="rtl"){if(h){a.box.addClass(a.toThemeProperty("jqx-checkbox-rtl"));a.host.addClass(a.toThemeProperty("jqx-rtl"))}else{a.box.removeClass(a.toThemeProperty("jqx-checkbox-rtl"));a.host.removeClass(a.toThemeProperty("jqx-rtl"))}}if(l=="boxSize"){a.render()}if(l=="theme"){c.jqx.utilities.setTheme(f,h,a.host)}if(l=="checked"){if(h!=f){switch(h){case true:a.check();break;case false:a.uncheck();break;case null:a.indeterminate();break}}}if(l=="disabled"){if(h!=f){if(h){a.disable()}else{a.enable()}}}}})})(jqxBaseFramework);(function(c){c.jqx.jqxWidget("jqxButtonGroup","",{});c.extend(c.jqx._jqxButtonGroup.prototype,{defineInstance:function(){var a={mode:"default",roundedCorners:true,disabled:false,enableHover:false,orientation:"horizontal",width:null,height:null,_eventsMap:{mousedown:c.jqx.mobile.getTouchEventName("touchstart"),mouseup:c.jqx.mobile.getTouchEventName("touchend")},_events:["selected","unselected","buttonclick"],_buttonId:{},_selected:null,_pressed:null,rtl:false,_baseId:"group_button",aria:{"aria-disabled":{name:"disabled",type:"boolean"}}};c.extend(true,this,a);return a},createInstance:function(a){var d=this;d._isTouchDevice=c.jqx.mobile.isTouchDevice();c.jqx.aria(d);d.addHandler(d.host,"selectstart",function(e){if(!d.disabled){e.preventDefault()}})},refresh:function(){var a=this;if(a.width){if(a.width.toString()&&a.width.indexOf("%")>=0){a.element.style.width=a.width}else{a.host.width(a.width)}}if(a.height){a.host.height(a.height)}a._refreshButtons()},render:function(){this.refresh()},resize:function(){this.refresh()},_getEvent:function(f){var a=this;if(a._isTouchDevice){var e=a._eventsMap[f]||f;e+="."+a.element.id;return e}f+="."+a.element.id;return f},_refreshButtons:function(){var l=this;if(l.lastElement){l.lastElement.remove()}l.lastElement=c("<div style='clear: both;'></div>");var q=l.host.children(),n=q.length,h;switch(l.mode){case"radio":l.host.attr("role","radiogroup");break;case"checkbox":case"default":l.host.attr("role","group");break}var o=new Number(100/n).toFixed(2);for(var a=0;a<n;a+=1){h=c(q[a]);if(l.width){if(l.orientation==="horizontal"){h.css("width",o+"%");h.css("box-sizing","border-box");h.css("-moz-box-sizing","border-box");h.css("white-space","nowrap");h.css("text-overflow","ellipsis");h.css("overflow","hidden")}else{h.css("box-sizing","border-box");h.css("-moz-box-sizing","border-box");h.css("width","100%")}}l._refreshButton(h,a,n)}l.lastElement.appendTo(l.host)},_refreshButton:function(f,a,e){(function(h){var d=this;h=d._render(h);d._removeStyles(h);d._addStyles(h,a,e);d._performLayout(h);d._removeButtonListeners(h);d._addButtonListeners(h);d._handleButtonId(h,a);if(d.mode=="radio"){h.attr("role","radio")}else{h.attr("role","button")}h.attr("disabled",d.disabled);if(d.disabled){h.addClass(d.toThemeProperty("jqx-fill-state-disabled"))}else{h.removeClass(d.toThemeProperty("jqx-fill-state-disabled"))}}).apply(this,[f])},destroy:function(a){var l=this;var o=l.host.children(),n=o.length,h;for(var q=0;q<n;q+=1){h=c(o[q]);l._removeStyles(h);l._removeButtonListeners(h)}if(a!=false){l.host.remove()}},_render:function(a){var d=this;if(a[0].tagName.toLowerCase()==="button"){return d._renderFromButton(a)}else{return d._renderButton(a)}},_renderButton:function(a){var d;a.wrapInner("<div/>");return a},_removeStyles:function(a){var f=this;var e=f.toThemeProperty;f.host.removeClass("jqx-widget");f.host.removeClass("jqx-rc-all");a.removeClass(e.call(this,"jqx-fill-state-normal"));a.removeClass(e.call(this,"jqx-group-button-normal"));a.removeClass(e.call(this,"jqx-rc-tl"));a.removeClass(e.call(this,"jqx-rc-bl"));a.removeClass(e.call(this,"jqx-rc-tr"));a.removeClass(e.call(this,"jqx-rc-br"));a.css("margin-left",0)},_addStyles:function(o,a,l){var n=this;var h=this.toThemeProperty;n.host.addClass(h.call(this,"jqx-widget"));n.host.addClass(h.call(this,"jqx-rc-all"));n.host.addClass(h.call(this,"jqx-buttongroup"));o.addClass(h.call(this,"jqx-button"));o.addClass(h.call(this,"jqx-group-button-normal"));o.addClass(h.call(this,"jqx-fill-state-normal"));if(n.roundedCorners){if(a===0){n._addRoundedCorners(o,true)}else{if(a===l-1){n._addRoundedCorners(o,false)}}}if(n.orientation=="horizontal"){o.css("margin-left",-parseInt(o.css("border-left-width"),10))}else{o.css("margin-top",-parseInt(o.css("border-left-width"),10))}},_addRoundedCorners:function(a,h){var l=this;var f=l.toThemeProperty;if(l.orientation=="horizontal"){if(h){a.addClass(f.call(this,"jqx-rc-tl"));a.addClass(f.call(this,"jqx-rc-bl"))}else{a.addClass(f.call(this,"jqx-rc-tr"));a.addClass(f.call(this,"jqx-rc-br"))}}else{if(h){a.addClass(f.call(this,"jqx-rc-tl"));a.addClass(f.call(this,"jqx-rc-tr"))}else{a.addClass(f.call(this,"jqx-rc-bl"));a.addClass(f.call(this,"jqx-rc-br"))}}},_centerContent:function(d,a){d.css({"margin-top":(a.height()-d.height())/2,"margin-left":(a.width()-d.width())/2});return d},_renderFromButton:function(a){var l=a.val();if(l==""){l=a.html()}var f;var h=a[0].id;a.wrap("<div/>");f=a.parent();f.attr("style",a.attr("style"));a.remove();c.jqx.utilities.html(f,l);f[0].id=h;return f},_performLayout:function(a){if(this.orientation=="horizontal"){if(this.rtl){a.css("float","right")}else{a.css("float","left")}}else{a.css("float","none")}this._centerContent(c(a.children()),a)},_mouseEnterHandler:function(h){var a=h.data.self,l=c(h.currentTarget);if(a._isDisabled(l)||!a.enableHover){return}var e=a.toThemeProperty;l.addClass(e.call(a,"jqx-group-button-hover"));l.addClass(e.call(a,"jqx-fill-state-hover"))},_mouseLeaveHandler:function(h){var a=h.data.self,l=c(h.currentTarget);if(a._isDisabled(l)||!a.enableHover){return}var e=a.toThemeProperty;l.removeClass(e.call(a,"jqx-group-button-hover"));l.removeClass(e.call(a,"jqx-fill-state-hover"))},_mouseDownHandler:function(h){var a=h.data.self,l=c(h.currentTarget);if(a._isDisabled(l)){return}a._pressed=l;var e=a.toThemeProperty;l.addClass(e.call(a,"jqx-group-button-pressed"));l.addClass(e.call(a,"jqx-fill-state-pressed"))},_mouseUpHandler:function(e){var a=e.data.self,f=c(e.currentTarget);if(a._isDisabled(f)){return}a._handleSelection(f);a._pressed=null;f=a._buttonId[f[0].id];a._raiseEvent(2,{index:f.num,button:f.btn})},_isDisabled:function(a){if(!a||!a[0]){return false}return this._buttonId[a[0].id].disabled},_documentUpHandler:function(e){var a=e.data.self,f=a._pressed;if(f&&!a._buttonId[f[0].id].selected){f.removeClass(a.toThemeProperty("jqx-fill-state-pressed"));a._pressed=null}},_addButtonListeners:function(l){var f=this;var a=f.addHandler;var h=f._getEvent;a(l,h.call(f,"mouseenter"),f._mouseEnterHandler,{self:f});a(l,h.call(f,"mouseleave"),f._mouseLeaveHandler,{self:f});a(l,h.call(f,"mousedown"),f._mouseDownHandler,{self:f});a(l,h.call(f,"mouseup"),f._mouseUpHandler,{self:f});a(c(document),h.call(f,"mouseup"),f._documentUpHandler,{self:f})},_removeButtonListeners:function(l){var f=this;var a=f.removeHandler;var h=f._getEvent;a(l,h.call(f,"mouseenter"),f._mouseEnterHandler);a(l,h.call(f,"mouseleave"),f._mouseLeaveHandler);a(l,h.call(f,"mousedown"),f._mouseDownHandler);a(l,h.call(f,"mouseup"),f._mouseUpHandler);a(c(document),h.call(f,"mouseup"),f._documentUpHandler)},_handleSelection:function(a){var d=this;if(d.mode==="radio"){d._handleRadio(a)}else{if(d.mode==="checkbox"){d._handleCheckbox(a)}else{d._handleDefault(a)}}},_handleRadio:function(a){var h=this;var l=h._getSelectedButton();if(l&&l.btn[0].id!==a[0].id){h._unselectButton(l.btn,true)}for(var f in h._buttonId){h._buttonId[f].selected=true;h._unselectButton(h._buttonId[f].btn,false)}h._selectButton(a,true)},_handleCheckbox:function(f){var e=this;var a=e._buttonId[f[0].id];if(a.selected){e._unselectButton(a.btn,true)}else{e._selectButton(f,true)}},_handleDefault:function(a){var f=this;f._selectButton(a,false);for(var e in f._buttonId){f._buttonId[e].selected=true;f._unselectButton(f._buttonId[e].btn,false)}},_getSelectedButton:function(){var a=this;for(var d in a._buttonId){if(a._buttonId[d].selected){return a._buttonId[d]}}return null},_getSelectedButtons:function(){var f=this;var a=[];for(var e in f._buttonId){if(f._buttonId[e].selected){a.push(f._buttonId[e].num)}}return a},_getButtonByIndex:function(a){var l=this;var f;for(var h in l._buttonId){if(l._buttonId[h].num===a){return l._buttonId[h]}}return null},_selectButton:function(o,l){var n=this;var a=n._buttonId[o[0].id];if(a.selected){return}var h=n.toThemeProperty;a.btn.addClass(h.call(this,"jqx-group-button-pressed"));a.btn.addClass(h.call(this,"jqx-fill-state-pressed"));a.selected=true;if(l){n._raiseEvent(0,{index:a.num,button:a.btn})}c.jqx.aria(a.btn,"aria-checked",true)},_unselectButton:function(o,l){var n=this;var a=n._buttonId[o[0].id];if(!a.selected){return}var h=n.toThemeProperty;a.btn.removeClass(h.call(this,"jqx-group-button-pressed"));a.btn.removeClass(h.call(this,"jqx-fill-state-pressed"));a.selected=false;if(l){n._raiseEvent(1,{index:a.num,button:a.btn})}c.jqx.aria(a.btn,"aria-checked",false)},setSelection:function(a){var e=this;if(a===-1){e.clearSelection();return}if(e.mode==="checkbox"){if(typeof a==="number"){e._setSelection(a)}else{for(var f=0;f<a.length;f+=1){e._setSelection(a[f])}}}else{if(typeof a==="number"&&e.mode==="radio"){e._setSelection(a)}}},_setSelection:function(a){var e=this;var f=e._getButtonByIndex(a);if(f){e._handleSelection(f.btn)}},getSelection:function(){var a=this;if(a.mode==="radio"){if(a._getSelectedButton()){return a._getSelectedButton().num}}else{if(a.mode==="checkbox"){return a._getSelectedButtons()}}return undefined},disable:function(){var f=this;f.disabled=true;var e;for(var a in f._buttonId){e=f._buttonId[a];f.disableAt(e.num)}c.jqx.aria(f,"aria-disabled",true)},enable:function(){var f=this;f.disabled=false;var e;for(var a in f._buttonId){e=f._buttonId[a];f.enableAt(e.num)}c.jqx.aria(f,"aria-disabled",false)},disableAt:function(a){var e=this;var f=e._getButtonByIndex(a);if(!f.disabled){f.disabled=true;f.btn.addClass(e.toThemeProperty("jqx-fill-state-disabled"))}},enableAt:function(a){var e=this;var f=e._getButtonByIndex(a);if(f.disabled){f.disabled=false;f.btn.removeClass(e.toThemeProperty("jqx-fill-state-disabled"))}},_handleButtonId:function(a,n){var h=a[0].id,l={btn:a,num:n,selected:false},o;if(!h){h=this._baseId+a.index()}a[0].id=h;this._buttonId[h]=l;return h},_raiseEvent:function(e,f){var a=c.Event(this._events[e]);a.args=f;return this.host.trigger(a)},_unselectAll:function(){for(var a in this._buttonId){this._unselectButton(this._buttonId[a].btn,false)}},clearSelection:function(){this._unselectAll()},propertyChangedHandler:function(a,l,f,h){if(l=="theme"&&h!=null){c.jqx.utilities.setTheme(f,h,a.host)}if(l==="mode"){a._unselectAll();a.refresh();return}else{if(l==="disabled"){if(h){a.disable()}else{a.enable()}}else{a.refresh()}}}})})(jqxBaseFramework);(function(c){c.jqx.jqxWidget("jqxListBox","",{});c.extend(c.jqx._jqxListBox.prototype,{defineInstance:function(){var a={disabled:false,width:null,height:null,items:new Array(),multiple:false,selectedIndex:-1,selectedIndexes:new Array(),source:null,scrollBarSize:c.jqx.utilities.scrollBarSize,enableHover:true,enableSelection:true,visualItems:new Array(),groups:new Array(),equalItemsWidth:true,itemHeight:-1,visibleItems:new Array(),emptyGroupText:"Group",checkboxes:false,hasThreeStates:false,autoHeight:false,autoItemsHeight:false,roundedcorners:true,touchMode:"auto",displayMember:"",groupMember:"",valueMember:"",searchMember:"",searchMode:"startswithignorecase",incrementalSearch:true,incrementalSearchDelay:1000,incrementalSearchKeyDownDelay:300,allowDrag:false,allowDrop:true,dropAction:"default",touchModeStyle:"auto",keyboardNavigation:true,enableMouseWheel:true,multipleextended:false,selectedValues:new Array(),emptyString:"",rtl:false,rendered:null,renderer:null,dragStart:null,dragEnd:null,focusable:true,ready:null,_checkForHiddenParent:true,autoBind:true,_renderOnDemand:false,filterable:false,filterHeight:27,filterPlaceHolder:"Looking for",filterDelay:100,aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:["select","unselect","change","checkChange","dragStart","dragEnd","bindingComplete"]};c.extend(true,this,a);return a},createInstance:function(f){var a=this;if(c.jqx.utilities.scrollBarSize!=15){a.scrollBarSize=c.jqx.utilities.scrollBarSize}if(a.width==null){a.width=200}if(a.height==null){a.height=200}a.render();var e=a;c.jqx.utilities.resize(a.host,function(){e._updateSize()},false,a._checkForHiddenParent)},resize:function(d,a){this.width=d;this.height=a;this._updateSize()},render:function(){var o=this;var q=o.element.nodeName.toLowerCase();if(q=="select"||q=="ul"||q=="ol"){o.field=o.element;if(o.field.className){o._className=o.field.className}var u={title:o.field.title};if(o.field.id.length){u.id=o.field.id.replace(/[^\w]/g,"_")+"_jqxListBox"}else{u.id=c.jqx.utilities.createId()+"_jqxListBox"}var D=c("<div></div>",u);if(!o.width){o.width=c(o.field).width()}if(!o.height){o.height=c(o.field).outerHeight()}c(o.field).hide().after(D);var z=o.host.data();o.host=D;o.host.data(z);o.element=D[0];o.element.id=o.field.id;o.field.id=u.id;if(o._className){o.host.addClass(o._className);c(o.field).removeClass(o._className)}if(o.field.tabIndex){var C=o.field.tabIndex;o.field.tabIndex=-1;o.element.tabIndex=C}}o.element.innerHTML="";var o=o;var v=o.element.className;v+=" "+o.toThemeProperty("jqx-listbox");v+=" "+o.toThemeProperty("jqx-reset");v+=" "+o.toThemeProperty("jqx-rc-all");v+=" "+o.toThemeProperty("jqx-widget");v+=" "+o.toThemeProperty("jqx-widget-content");o.element.className=v;var w=false;if(o.width!=null&&o.width.toString().indexOf("%")!=-1){o.host.width(o.width);w=true}if(o.height!=null&&o.height.toString().indexOf("%")!=-1){o.host.height(o.height);if(o.host.height()==0){o.host.height(200)}w=true}if(o.width!=null&&o.width.toString().indexOf("px")!=-1){o.host.width(o.width)}else{if(o.width!=undefined&&!isNaN(o.width)){o.element.style.width=parseInt(o.width)+"px"}}if(o.height!=null&&o.height.toString().indexOf("px")!=-1){o.host.height(o.height)}else{if(o.height!=undefined&&!isNaN(o.height)){o.element.style.height=parseInt(o.height)+"px"}}if(o.multiple||o.multipleextended||o.checkboxes){c.jqx.aria(o,"aria-multiselectable",true)}else{c.jqx.aria(o,"aria-multiselectable",false)}var A="<div style='-webkit-appearance: none; background: transparent; outline: none; width:100%; height: 100%; align:left; border: 0px; padding: 0px; margin: 0px; left: 0px; top: 0px; valign:top; position: relative;'><div style='-webkit-appearance: none; border: none; background: transparent; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; align:left; left: 0px; top: 0px; valign:top; position: relative;'><div id='filter"+o.element.id+"' style='display: none; visibility: inherit; align:left; valign:top; left: 0px; top: 0px; position: absolute;'><input style='position: absolute;'/></div><div id='listBoxContent' style='-webkit-appearance: none; border: none; background: transparent; outline: none; border: none; padding: 0px; overflow: hidden; margin: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='verticalScrollBar"+o.element.id+"' style='visibility: inherit; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='horizontalScrollBar"+o.element.id+"' style='visibility: inherit; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='bottomRight' style='align:left; valign:top; left: 0px; top: 0px; border: none; position: absolute;'/></div></div>";o.host.attr("role","listbox");o.element.innerHTML=A;if(o._checkForHiddenParent){o._addInput();if(!o.host.attr("tabIndex")){o.host.attr("tabIndex",1)}}o.filter=c(o.element.firstChild.firstChild.firstChild);o.filterInput=c(o.filter[0].firstChild);o.filterInput.attr("placeholder",o.filterPlaceHolder);o.filterInput.addClass(o.toThemeProperty("jqx-widget jqx-listbox-filter-input jqx-input jqx-rc-all"));o.addHandler(o.filterInput,"keyup.textchange",function(d){if(d.keyCode==13){o._search(d)}else{if(o.filterDelay>0){if(o._filterTimer){clearTimeout(o._filterTimer)}o._filterTimer=setTimeout(function(){o._search(d)},o.filterDelay)}}d.stopPropagation()});var t=c(o.element.firstChild.firstChild.firstChild.nextSibling.nextSibling);if(!o.host.jqxButton){throw new Error("jqxListBox: Missing reference to jqxbuttons.js.");return}if(!t.jqxScrollBar){throw new Error("jqxListBox: Missing reference to jqxscrollbar.js.");return}var B=parseInt(o.host.height())/2;if(B==0){B=10}o.vScrollBar=t.jqxScrollBar({_initialLayout:true,vertical:true,rtl:o.rtl,theme:o.theme,touchMode:o.touchMode,largestep:B});var a=c(o.element.firstChild.firstChild.firstChild.nextSibling.nextSibling.nextSibling);o.hScrollBar=a.jqxScrollBar({_initialLayout:true,vertical:false,rtl:o.rtl,touchMode:o.touchMode,theme:o.theme});o.content=c(o.element.firstChild.firstChild.firstChild.nextSibling);o.content[0].id="listBoxContent"+o.element.id;o.bottomRight=c(o.element.firstChild.firstChild.firstChild.nextSibling.nextSibling.nextSibling.nextSibling).addClass(o.toThemeProperty("jqx-listbox-bottomright")).addClass(o.toThemeProperty("jqx-scrollbar-state-normal"));o.bottomRight[0].id="bottomRight"+o.element.id;o.vScrollInstance=c.data(o.vScrollBar[0],"jqxScrollBar").instance;o.hScrollInstance=c.data(o.hScrollBar[0],"jqxScrollBar").instance;if(o.isTouchDevice()){if(!(c.jqx.browser.msie&&c.jqx.browser.version<9)){var s=c("<div class='overlay' unselectable='on' style='z-index: 99; -webkit-appearance: none; border: none; background: black; opacity: 0.01; outline: none; border: none; padding: 0px; overflow: hidden; margin: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div>");o.content.parent().append(s);o.overlayContent=o.host.find(".overlay");if(o.filterable){o.overlayContent.css("top","30px")}}}o._updateTouchScrolling();o.host.addClass("jqx-disableselect");if(o.host.jqxDragDrop){jqxListBoxDragDrop()}},_highlight:function(a,f){var e=f.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return a.replace(new RegExp("("+e+")","ig"),function(h,d){return"<b>"+d+"</b>"})},_addInput:function(){var a=this.host.attr("name");if(a){this.host.attr("name","")}this.input=c("<input type='hidden'/>");this.host.append(this.input);this.input.attr("name",a)},_updateTouchScrolling:function(){var a=this;if(this.isTouchDevice()){a.enableHover=false;var d=this.overlayContent?this.overlayContent:this.content;this.removeHandler(c(d),c.jqx.mobile.getTouchEventName("touchstart")+".touchScroll");this.removeHandler(c(d),c.jqx.mobile.getTouchEventName("touchmove")+".touchScroll");this.removeHandler(c(d),c.jqx.mobile.getTouchEventName("touchend")+".touchScroll");this.removeHandler(c(d),"touchcancel.touchScroll");c.jqx.mobile.touchScroll(d,a.vScrollInstance.max,function(h,l){if(a.vScrollBar.css("visibility")!="hidden"){var n=a.vScrollInstance.value;a.vScrollInstance.setPosition(n+l);a._lastScroll=new Date()}if(a.hScrollBar.css("visibility")!="hidden"){var n=a.hScrollInstance.value;a.hScrollInstance.setPosition(n+h);a._lastScroll=new Date()}},this.element.id,this.hScrollBar,this.vScrollBar);if(a.vScrollBar.css("visibility")!="visible"&&a.hScrollBar.css("visibility")!="visible"){c.jqx.mobile.setTouchScroll(false,this.element.id)}else{c.jqx.mobile.setTouchScroll(true,this.element.id)}this._arrange()}},isTouchDevice:function(){var a=c.jqx.mobile.isTouchDevice();if(this.touchMode==true){if(this.touchDevice){return true}if(c.jqx.browser.msie&&c.jqx.browser.version<9){return false}this.touchDevice=true;a=true;c.jqx.mobile.setMobileSimulator(this.element)}else{if(this.touchMode==false){a=false}}if(a&&this.touchModeStyle!=false){this.scrollBarSize=c.jqx.utilities.touchScrollBarSize}if(a){this.host.addClass(this.toThemeProperty("jqx-touch"))}return a},beginUpdate:function(){this.updatingListBox=true},endUpdate:function(){this.updatingListBox=false;this._addItems();this._renderItems()},beginUpdateLayout:function(){this.updating=true},resumeUpdateLayout:function(){this.updating=false;this.vScrollInstance.value=0;this._render(false)},propertiesChangedHandler:function(a,f,e){a._cachedItemHtml=new Array();a.clearSelection();a.refresh()},propertyChangedHandler:function(a,t,q,s){if(this.isInitialized==undefined||this.isInitialized==false){return}if(a.batchUpdate&&t!="touchMode"&&t!="rtl"){return}if(t=="_renderOnDemand"){a._render(false,true);if(a.selectedIndex!=-1){var o=a.selectedIndex;a.selectedIndex=-1;a._stopEvents=true;a.selectIndex(o,false,true);if(a.selectedIndex==-1){a.selectedIndex=o}a._stopEvents=false}}if(t=="filterable"){a.refresh()}if(t=="filterHeight"){a._arrange()}if(t=="filterPlaceHolder"){a.filterInput.attr("placeholder",s)}if(t=="renderer"){a._cachedItemHtml=new Array();a.refresh()}if(t=="itemHeight"){a.refresh()}if(t=="source"||t=="checkboxes"){if(s==null&&q&&q.unbindBindingUpdate){q.unbindBindingUpdate(a.element.id);q.unbindDownloadComplete(a.element.id)}a.clearSelection();a.refresh()}if(t=="scrollBarSize"||t=="equalItemsWidth"){if(s!=q){a._updatescrollbars()}}if(t=="disabled"){a._renderItems();a.vScrollBar.jqxScrollBar({disabled:s});a.hScrollBar.jqxScrollBar({disabled:s})}if(t=="touchMode"||t=="rtl"){a._removeHandlers();a.vScrollBar.jqxScrollBar({touchMode:s});a.hScrollBar.jqxScrollBar({touchMode:s});if(t=="touchMode"){if(!(c.jqx.browser.msie&&c.jqx.browser.version<9)){var l=c("<div class='overlay' unselectable='on' style='z-index: 99; -webkit-appearance: none; border: none; background: black; opacity: 0.01; outline: none; border: none; padding: 0px; overflow: hidden; margin: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div>");a.content.parent().append(l);a.overlayContent=a.host.find(".overlay")}}if(a.filterable&&a.filterInput){if(t=="rtl"&&s){a.filterInput.addClass(a.toThemeProperty("jqx-rtl"))}else{if(t=="rtl"&&!s){a.filterInput.removeClass(a.toThemeProperty("jqx-rtl"))}}a._arrange()}a._updateTouchScrolling();a._addHandlers();a._render(false)}if(!this.updating){if(t=="width"||t=="height"){a._updateSize()}}if(t=="theme"){if(q!=s){a.hScrollBar.jqxScrollBar({theme:a.theme});a.vScrollBar.jqxScrollBar({theme:a.theme});a.host.removeClass();a.host.addClass(a.toThemeProperty("jqx-listbox"));a.host.addClass(a.toThemeProperty("jqx-widget"));a.host.addClass(a.toThemeProperty("jqx-widget-content"));a.host.addClass(a.toThemeProperty("jqx-reset"));a.host.addClass(a.toThemeProperty("jqx-rc-all"));a.refresh()}}if(t=="selectedIndex"){a.clearSelection();a.selectIndex(s,true)}if(t=="displayMember"||t=="valueMember"){if(q!=s){var n=a.selectedIndex;a.refresh();a.selectedIndex=n;a.selectedIndexes[n]=n}a._renderItems()}if(t=="autoHeight"){if(q!=s){a._render(false)}else{a._updatescrollbars();a._renderItems()}}if(a._checkForHiddenParent&&c.jqx.isHidden(a.host)){c.jqx.utilities.resize(this.host,function(){a._updateSize()},false,a._checkForHiddenParent)}},loadFromSelect:function(h){if(h==null){return}var q="#"+h;var o=c(q);if(o.length>0){var a=c.jqx.parseSourceTag(o[0]);var l=a.items;var n=a.index;this.source=l;this.fromSelect=true;this.clearSelection();this.selectedIndex=n;this.selectedIndexes[this.selectedIndex]=this.selectedIndex;this.refresh()}},invalidate:function(){this._cachedItemHtml=[];this._renderItems();this.virtualSize=null;this._updateSize()},refresh:function(f){var a=this;if(this.vScrollBar==undefined){return}this._cachedItemHtml=[];this.visibleItems=new Array();var e=function(h){if(h==true){if(a.selectedIndex!=-1){var d=a.selectedIndex;a.selectedIndex=-1;a._stopEvents=true;a.selectIndex(d,false,true);if(a.selectedIndex==-1){a.selectedIndex=d}a._stopEvents=false}}};if(this.itemswrapper!=null){this.itemswrapper.remove();this.itemswrapper=null}if(c.jqx.dataAdapter&&this.source!=null&&this.source._source){this.databind(this.source,f);e(f);return}if(this.autoBind||(!this.autoBind&&!f)){if(this.field){this.loadSelectTag()}this.items=this.loadItems(this.source)}this._render(false,f==true);e(f);this._raiseEvent("6")},loadSelectTag:function(){var a=c.jqx.parseSourceTag(this.field);this.source=a.items;if(this.selectedIndex==-1){this.selectedIndex=a.index}},_render:function(d,a){if(this._renderOnDemand){this.visibleItems=new Array();this.renderedVisibleItems=new Array();this._renderItems();return}this._addItems();this._renderItems();this.vScrollInstance.setPosition(0);this._cachedItemHtml=new Array();if(d==undefined||d){if(this.items!=undefined&&this.items!=null){if(this.selectedIndex>=0&&this.selectedIndex<this.items.length){this.selectIndex(this.selectedIndex,true,true,true)}}}if(this.allowDrag&&this._enableDragDrop){this._enableDragDrop();if(this.isTouchDevice()){this._removeHandlers();if(this.overlayContent){this.overlayContent.remove();this.overlayContent=null}this._updateTouchScrolling();this._addHandlers();return}}this._updateTouchScrolling();if(this.rendered){this.rendered()}if(this.ready){this.ready()}},_hitTest:function(o,h){if(this.filterable){h-=this.filterHeight;if(h<0){h=0}}var l=parseInt(this.vScrollInstance.value);var a=this._searchFirstVisibleIndex(h+l,this.renderedVisibleItems);if(this.renderedVisibleItems[a]!=undefined&&this.renderedVisibleItems[a].isGroup){return null}if(this.renderedVisibleItems.length>0){var n=this.renderedVisibleItems[this.renderedVisibleItems.length-1];if(n.height+n.top<h+l){return null}}a=this._searchFirstVisibleIndex(h+l);return this.visibleItems[a];return null},_searchFirstVisibleIndex:function(l,h){if(l==undefined){l=parseInt(this.vScrollInstance.value)}var o=0;if(h==undefined||h==null){h=this.visibleItems}var a=h.length;while(o<=a){mid=parseInt((o+a)/2);var n=h[mid];if(n==undefined){break}if(n.initialTop>l&&n.initialTop+n.height>l){a=mid-1}else{if(n.initialTop<l&&n.initialTop+n.height<=l){o=mid+1}else{return mid;break}}}return 0},_renderItems:function(){if(this.items==undefined||this.items.length==0){this.visibleItems=new Array();return}if(this.updatingListBox==true){return}var T=this.isTouchDevice();var aa=this.vScrollInstance;var az=this.hScrollInstance;var aA=parseInt(aa.value);var aB=parseInt(az.value);if(this.rtl){if(this.hScrollBar[0].style.visibility!="hidden"){aB=az.max-aB}}var af=this.items.length;var U=this.host.width();var W=parseInt(this.content[0].style.width);var aF=W+parseInt(az.max);var ap=parseInt(this.vScrollBar[0].style.width)+2;if(this.vScrollBar[0].style.visibility=="hidden"){ap=0}if(this.hScrollBar[0].style.visibility!="visible"){aF=W}var av=this._getVirtualItemsCount();var V=new Array();var ab=0;var ac=parseInt(this.element.style.height)+2;if(this.element.style.height.indexOf("%")!=-1){ac=this.host.outerHeight()}if(isNaN(ac)){ac=0}var am=0;var an=0;var a=0;if(aa.value==0||this.visibleItems.length==0){for(var ao=0;ao<this.items.length;ao++){var ai=this.items[ao];if(ai.visible){ai.top=-aA;ai.initialTop=-aA;if(!ai.isGroup&&ai.visible){this.visibleItems[an++]=ai;ai.visibleIndex=an-1}this.renderedVisibleItems[a++]=ai;ai.left=-aB;var aE=ai.top+ai.height;if(aE>=0&&ai.top-ai.height<=ac){V[ab++]={index:ao,item:ai}}aA-=ai.height}}}var au=aA>0?this._searchFirstVisibleIndex(this.vScrollInstance.value,this.renderedVisibleItems):0;var S=0;ab=0;var ah=this.vScrollInstance.value;var X=0;while(S<100+ac){var ai=this.renderedVisibleItems[au];if(ai==undefined){break}if(ai.visible){ai.left=-aB;var aE=ai.top+ai.height-ah;if(aE>=0&&ai.initialTop-ah-ai.height<=2*ac){V[ab++]={index:au,item:ai}}}au++;if(ai.visible){S+=ai.initialTop-ah+ai.height-S}X++;if(X>this.items.length-1){break}}if(this._renderOnDemand){return}var ar=this.toThemeProperty("jqx-listitem-state-normal")+" "+this.toThemeProperty("jqx-item");var ay=this.toThemeProperty("jqx-listitem-state-group");var R=this.toThemeProperty("jqx-listitem-state-disabled")+" "+this.toThemeProperty("jqx-fill-state-disabled");var ae=0;var at=this;for(var ao=0;ao<this.visualItems.length;ao++){var ad=this.visualItems[ao];var Y=function(){var e=ad[0].firstChild;if(at.checkboxes){e=ad[0].lastChild}if(e!=null){e.style.visibility="hidden";e.className=""}if(at.checkboxes){var d=ad.find(".chkbox");d.css({visibility:"hidden"})}};if(ao<V.length){var ai=V[ao].item;if(ai.initialTop-ah>=ac){Y();continue}var ag=c(ad[0].firstChild);if(this.checkboxes){ag=c(ad[0].lastChild)}if(ag.length==0){continue}if(ag[0]==null){continue}ag[0].className="";ag[0].style.display="block";ag[0].style.visibility="inherit";var aq="";if(!ai.isGroup&&!this.selectedIndexes[ai.index]>=0){aq=ar}else{aq=ay}if(ai.disabled||this.disabled){aq+=" "+R}if(this.roundedcorners){aq+=" "+this.toThemeProperty("jqx-rc-all")}if(T){aq+=" "+this.toThemeProperty("jqx-listitem-state-normal-touch")}ag[0].className=aq;if(this.renderer){if(!ai.key){ai.key=this.generatekey()}if(!this._cachedItemHtml){this._cachedItemHtml=new Array()}if(this._cachedItemHtml[ai.key]){if(ag[0].innerHTML!=this._cachedItemHtml[ai.key]){ag[0].innerHTML=this._cachedItemHtml[ai.key]}}else{var aj=this.renderer(ai.index,ai.label,ai.value);ag[0].innerHTML=aj;this._cachedItemHtml[ai.key]=ag[0].innerHTML}}else{if(this.itemHeight!==-1){var aw=2+2*parseInt(ag.css("padding-top"));ag[0].style.lineHeight=(ai.height-aw)+"px";ag.css("vertical-align","middle")}if(ai.html!=null&&ai.html.toString().length>0){ag[0].innerHTML=ai.html}else{if(ai.label!=null||ai.value!=null){if(ai.label!=null){if(ag[0].innerHTML!==ai.label){ag[0].innerHTML=ai.label}if(c.trim(ai.label)==""){ag[0].innerHTML=this.emptyString;if(this.emptyString==""){ag[0].style.height=(ai.height-8)+"px"}}if(!this.incrementalSearch&&!ai.disabled){if(this.searchString!=undefined&&this.searchString!=""){ag[0].innerHTML=this._highlight(ai.label.toString(),this.searchString)}}}else{if(ai.label===null){ag[0].innerHTML=this.emptyString;if(this.emptyString==""){ag[0].style.height=(ai.height-8)+"px"}}else{if(ag[0].innerHTML!==ai.value){ag[0].innerHTML=ai.value}else{if(ai.label==""){ag[0].innerHTML=" "}}}}}else{if(ai.label==""||ai.label==null){ag[0].innerHTML="";ag[0].style.height=(ai.height-8)+"px"}}}}ad[0].style.left=ai.left+"px";ad[0].style.top=ai.initialTop-ah+"px";ai.element=ag[0];if(ai.title){ag[0].title=ai.title}if(this.equalItemsWidth&&!ai.isGroup){if(am==0){var aD=parseInt(aF);var ak=parseInt(ag.outerWidth())-parseInt(ag.width());aD-=ak;var Z=1;if(Z!=null){Z=parseInt(Z)}else{Z=0}aD-=2*Z;am=aD;if(this.checkboxes&&this.hScrollBar[0].style.visibility=="hidden"){am-=18}}if(W>this.virtualSize.width){ag[0].style.width=am+"px";ai.width=am}else{ag[0].style.width=-4+this.virtualSize.width+"px";ai.width=this.virtualSize.width-4}}else{if(ag.width()<this.host.width()){ag.width(this.host.width()-2)}}if(this.rtl){ag[0].style.textAlign="right"}if(this.autoItemsHeight){ag[0].style.whiteSpace="pre-line";ag.width(am);ai.width=am}ae=0;if(this.checkboxes&&!ai.isGroup){if(ae==0){ae=(ai.height-16)/2;ae++}var aC=c(ad.children()[0]);aC[0].item=ai;if(!this.rtl){if(ag[0].style.left!="18px"){ag[0].style.left="18px"}}else{if(ag[0].style.left!="0px"){ag[0].style.left="0px"}}if(this.rtl){aC.css("left",8+ai.width+"px")}aC[0].style.top=ae+"px";aC[0].style.display="block";aC[0].style.visibility="inherit";var al=ai.checked;var ax=ai.checked?" "+this.toThemeProperty("jqx-checkbox-check-checked"):"";if(aC[0].firstChild&&aC[0].firstChild.firstChild&&aC[0].firstChild.firstChild.firstChild){if(aC[0].firstChild.firstChild){if(al){aC[0].firstChild.firstChild.firstChild.className=ax}else{if(al===false){aC[0].firstChild.firstChild.firstChild.className=""}else{if(al===null){aC[0].firstChild.firstChild.firstChild.className=this.toThemeProperty("jqx-checkbox-check-indeterminate")}}}}}if(c.jqx.ariaEnabled){if(al){ad[0].setAttribute("aria-selected",true)}else{ad[0].removeAttribute("aria-selected")}}}else{if(this.checkboxes){var aC=c(ad.children()[0]);aC.css({display:"none",visibility:"inherit"})}}if(!ai.disabled&&((!this.filterable&&this.selectedIndexes[ai.visibleIndex]>=0)||(ai.selected&&this.filterable))){ag.addClass(this.toThemeProperty("jqx-listitem-state-selected"));ag.addClass(this.toThemeProperty("jqx-fill-state-pressed"));if(c.jqx.ariaEnabled){ad[0].setAttribute("aria-selected",true);this._activeElement=ad[0]}}else{if(!this.checkboxes){if(c.jqx.ariaEnabled){ad[0].removeAttribute("aria-selected")}}}}else{Y()}}},generatekey:function(){var a=function(){return(((1+Math.random())*65536)|0).toString(16).substring(1)};return(a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a())},_calculateVirtualSize:function(F){if(this._renderOnDemand){return}var B=0;var D=2;var K=0;var C=document.createElement("span");if(this.equalItemsWidth){c(C).css("float","left")}C.style.whiteSpace="pre";var J=0;var I=undefined===F?this.host.outerHeight():F+2;document.body.appendChild(C);var M=this.items.length;var H=this.host.width();if(this.autoItemsHeight){H-=10;if(this.vScrollBar.css("visibility")!="hidden"){H-=20}}if(this.autoItemsHeight||this.renderer||this.groups.length>=1||(M>0&&this.items[0].html!=null&&this.items[0].html!="")){for(var K=0;K<M;K++){var w=this.items[K];if(w.isGroup&&(w.label==""&&w.html=="")){continue}if(!w.visible){continue}var N="";if(!w.isGroup){N+=this.toThemeProperty("jqx-listitem-state-normal jqx-rc-all")}else{N+=this.toThemeProperty("jqx-listitem-state-group jqx-rc-all")}N+=" "+this.toThemeProperty("jqx-fill-state-normal");if(this.isTouchDevice()){N+=" "+this.toThemeProperty("jqx-touch")}C.className=N;if(this.autoItemsHeight){C.style.whiteSpace="pre-line";var P=this.checkboxes?-20:0;C.style.width=(P+H)+"px"}if(this.renderer){var G=this.renderer(w.index,w.label,w.value);C.innerHTML=G}else{if(w.html!=null&&w.html.toString().length>0){C.innerHTML=w.html}else{if(w.label!=null||w.value!=null){if(w.label!=null){C.innerHTML=w.label;if(w.label==""){C.innerHTML="Empty"}}else{C.innerHTML=w.value}}}}var z=C.offsetHeight;var v=C.offsetWidth;if(this.itemHeight>-1){z=this.itemHeight}w.height=z;w.width=v;D+=z;B=Math.max(B,v);if(D<=I){J++}}}else{var D=0;var E=0;var O="";var a=0;var L=0;var A=-1;for(var K=0;K<M;K++){var w=this.items[K];if(w.isGroup&&(w.label==""&&w.html=="")){continue}if(!w.visible){continue}A++;var N="";if(A==0){N+=this.toThemeProperty("jqx-listitem-state-normal jqx-rc-all");N+=" "+this.toThemeProperty("jqx-fill-state-normal");N+=" "+this.toThemeProperty("jqx-widget");N+=" "+this.toThemeProperty("jqx-listbox");N+=" "+this.toThemeProperty("jqx-widget-content");if(this.isTouchDevice()){N+=" "+this.toThemeProperty("jqx-touch");N+=" "+this.toThemeProperty("jqx-listitem-state-normal-touch")}C.className=N;if(this.autoItemsHeight){C.style.whiteSpace="pre-line";var P=this.checkboxes?-20:0;C.style.width=(P+H)+"px"}if(w.html==null||(w.label==""||w.label==null)){C.innerHTML="Item"}else{if(w.html!=null&&w.html.toString().length>0){C.innerHTML=w.html}else{if(w.label!=null||w.value!=null){if(w.label!=null){if(w.label.toString().match(new RegExp("\\w"))!=null||w.label.toString().match(new RegExp("\\d"))!=null){C.innerHTML=w.label}else{C.innerHTML="Item"}}else{C.innerHTML=w.value}}}}var z=1+C.offsetHeight;if(this.itemHeight>-1){z=this.itemHeight}E=z}if(a!=undefined){L=a}if(w.html!=null&&w.html.toString().length>0){a=Math.max(a,w.html.toString().length);if(L!=a){O=w.html}}else{if(w.label!=null){a=Math.max(a,w.label.length);if(L!=a){O=w.label}}else{if(w.value!=null){a=Math.max(a,w.value.length);if(L!=a){O=w.value}}}}w.height=E;D+=E;if(D<=I){J++}}C.innerHTML=O;B=C.offsetWidth}D+=2;if(J<10){J=10}if(this.filterable){D+=this.filterHeight}C.parentNode.removeChild(C);return{width:B,height:D,itemsPerPage:J}},_getVirtualItemsCount:function(){if(this.virtualItemsCount==0){var a=parseInt(this.host.height())/5;if(a>this.items.length){a=this.items.length}return a}else{return this.virtualItemsCount}},_addItems:function(D){if(this._renderOnDemand){return}var z=this;if(z.updatingListBox==true){return}if(z.items==undefined||z.items.length==0){z.virtualSize={width:0,height:0,itemsPerPage:0};z._updatescrollbars();z.renderedVisibleItems=new Array();if(z.itemswrapper){z.itemswrapper.children().remove()}return}var N=z.host.height();if(D==false){var T=z._calculateVirtualSize(N);var O=T.itemsPerPage*2;if(z.autoHeight){O=z.items.length}z.virtualItemsCount=Math.min(O,z.items.length);var E=T.width;z.virtualSize=T;z._updatescrollbars();return}var H=this;var J=0;z.visibleItems=new Array();z.renderedVisibleItems=new Array();z._removeHandlers();if(z.allowDrag&&z._enableDragDrop){z.itemswrapper=null}if(z.itemswrapper==null){z.content[0].innerHTML="";z.itemswrapper=c('<div style="outline: 0 none; overflow:hidden; width:100%; position: relative;"></div>');z.itemswrapper[0].style.height=(2*N)+"px";z.content[0].appendChild(z.itemswrapper[0])}var T=z._calculateVirtualSize(N);var O=T.itemsPerPage*2;if(z.autoHeight){O=z.items.length}z.virtualItemsCount=Math.min(O,z.items.length);var z=this;var E=T.width;z.virtualSize=T;var S=Math.max(z.host.width(),17+T.width);z.itemswrapper[0].style.width=S+"px";var Q=0;var M="";var P=c.jqx.browser.msie&&c.jqx.browser.version<9;var C=P?' unselectable="on"':"";for(var L=Q;L<z.virtualItemsCount;L++){var A=z.items[L];var F="listitem"+L+z.element.id;M+="<div"+C+" role='option' id='"+F+"' class='jqx-listitem-element'>";if(z.checkboxes){M+='<div style="background-color: transparent; padding: 0; margin: 0; position: absolute; float: left; width: 16px; height: 16px;" class="chkbox">';var G='<div class="'+z.toThemeProperty("jqx-checkbox-default")+" "+z.toThemeProperty("jqx-fill-state-normal")+" "+z.toThemeProperty("jqx-rc-all")+'"><div style="cursor: pointer; width: 13px; height: 13px;">';var a=A.checked?" "+z.toThemeProperty("jqx-checkbox-check-checked"):"";G+='<span style="width: 13px; height: 13px;" class="checkBoxCheck'+a+'"></span>';G+="</div></div>";M+=G;M+="</div>"}M+="<span"+C+" style='white-space: pre; -ms-touch-action: none;'></span></div>"}if(H.WinJS){z.itemswrapper.html(M)}else{z.itemswrapper[0].innerHTML=M}var R=z.itemswrapper.children();for(var L=Q;L<z.virtualItemsCount;L++){var A=z.items[L];var B=c(R[L]);if(z.allowDrag&&z._enableDragDrop){B.addClass("draggable")}if(z.checkboxes){var K=c(B.children()[0]);B.css("float","left");var I=c(B[0].firstChild);I.css("float","left")}B[0].style.height=A.height+"px";B[0].style.top=J+"px";J+=A.height;z.visualItems[L]=B}z._addHandlers();z._updatescrollbars();if(z.autoItemsHeight){var T=z._calculateVirtualSize(N);var O=T.itemsPerPage*2;if(z.autoHeight){O=z.items.length}z.virtualItemsCount=Math.min(O,z.items.length);var z=this;var E=T.width;z.virtualSize=T;z._updatescrollbars()}if(c.jqx.browser.msie&&c.jqx.browser.version<8){z.host.attr("hideFocus",true);z.host.find("div").attr("hideFocus",true)}},_updatescrollbars:function(){var u=this;if(!u.virtualSize){return}var q=u.virtualSize.height;var v=u.virtualSize.width;var B=u.vScrollInstance;var C=u.hScrollInstance;u._arrange(false);var t=false;var a=u.host.outerWidth();var s=u.host.outerHeight();var F=0;if(v>a){F=u.hScrollBar.outerHeight()+2}if(q+F>s){var D=B.max;B.max=2+parseInt(q)+F-parseInt(s-2);if(u.vScrollBar[0].style.visibility!="inherit"){u.vScrollBar[0].style.visibility="inherit";t=true}if(D!=B.max){B._arrange()}}else{if(u.vScrollBar[0].style.visibility!="hidden"){u.vScrollBar[0].style.visibility="hidden";t=true;B.setPosition(0)}}var z=0;if(u.vScrollBar[0].style.visibility!="hidden"){z=u.scrollBarSize+6}var A=u.checkboxes?20:0;if(u.autoItemsHeight){u.hScrollBar[0].style.visibility="hidden"}else{if(v>=a-z-A){var w=C.max;if(u.vScrollBar[0].style.visibility=="inherit"){C.max=A+z+parseInt(v)-u.host.width()+4}else{C.max=A+parseInt(v)-u.host.width()+6}if(u.hScrollBar[0].style.visibility!="inherit"){u.hScrollBar[0].style.visibility="inherit";t=true}if(w!=C.max){C._arrange()}if(u.vScrollBar[0].style.visibility=="inherit"){B.max=2+parseInt(q)+u.hScrollBar.outerHeight()+2-parseInt(u.host.height())}}else{if(u.hScrollBar[0].style.visibility!="hidden"){u.hScrollBar[0].style.visibility="hidden";t=true}}}C.setPosition(0);if(t){u._arrange()}if(u.itemswrapper){u.itemswrapper[0].style.width=Math.max(0,Math.max(a-2,17+v))+"px";u.itemswrapper[0].style.height=Math.max(0,2*s)+"px"}var E=u.isTouchDevice();if(E){if(u.vScrollBar.css("visibility")!="visible"&&u.hScrollBar.css("visibility")!="visible"){c.jqx.mobile.setTouchScroll(false,u.element.id)}else{c.jqx.mobile.setTouchScroll(true,u.element.id)}}},clear:function(){this.source=null;this.clearSelection();this.refresh()},clearSelection:function(a){for(var d=0;d<this.selectedIndexes.length;d++){if(this.selectedIndexes[d]&&this.selectedIndexes[d]!=-1){this._raiseEvent("1",{index:d,type:"api",item:this.getVisibleItem(d),originalEvent:null})}this.selectedIndexes[d]=-1}this.selectedIndex=-1;this.selectedValue=null;this.selectedValues=new Array();if(a!=false){this._renderItems()}},unselectIndex:function(q,o){if(isNaN(q)){return}this.selectedIndexes[q]=-1;var h=false;for(var n=0;n<this.selectedIndexes.length;n++){var a=this.selectedIndexes[n];if(a!=-1&&a!=undefined){h=true}}if(!h){this.selectedValue=null;this.selectedIndex=-1;var l=this.getVisibleItem(q);if(l){if(this.selectedValues[l.value]){this.selectedValues[l.value]=null}}}if(o==undefined||o==true){this._renderItems();this._raiseEvent("1",{index:q,type:"api",item:this.getVisibleItem(q),originalEvent:null})}this._updateInputSelection();this._raiseEvent("2",{index:q,type:"api",item:this.getItem(q)})},getInfo:function(){var h=this;var l=this.getItems();var a=this.getVisibleItems();var f=function(){var q=h.vScrollInstance.value;if(h.filterable){q-=h.filterHeight}var d=new Array();for(var s=0;s<a.length;s++){var o=a[s];if(o){var t=o.initialTop;var e=o.height;var n=true;if(t+e-q<0||t-q>=h.host.height()){n=false}if(n){d.push(o)}}}return d}();return{items:l,visibleItems:a,viewItems:f}},getItem:function(f){if(f==-1||isNaN(f)||typeof(f)==="string"){if(f===-1){return null}return this.getItemByValue(f)}var a=null;var e=c.each(this.items,function(){if(this.index==f){a=this;return false}});return a},getVisibleItem:function(a){if(a==-1||isNaN(a)||typeof(a)==="string"){if(a===-1){return null}return this.getItemByValue(a)}return this.visibleItems[a]},getVisibleItems:function(){return this.visibleItems},checkIndex:function(a,o,l){if(!this.checkboxes){return}if(isNaN(a)){return}if(a<0||a>=this.visibleItems.length){return}if(this.visibleItems[a]!=null&&this.visibleItems[a].disabled){return}if(this.disabled){return}var n=this.getItem(a);if(this.groups.length>0||this.filterable){var n=this.getVisibleItem(a)}if(n!=null){var h=c(n.checkBoxElement);n.checked=true;if(o==undefined||o==true){this._updateCheckedItems()}}if(l==undefined||l==true){this._raiseEvent(3,{label:n.label,value:n.value,checked:true,item:n})}},getCheckedItems:function(){if(!this.checkboxes){return null}var a=new Array();if(this.items==undefined){return}c.each(this.items,function(){if(this.checked){a[a.length]=this}});return a},checkAll:function(a){if(!this.checkboxes){return}if(this.disabled){return}var d=this;c.each(this.items,function(){var e=this;if(a!==false&&e.checked!==true){d._raiseEvent(3,{label:e.label,value:e.value,checked:true,item:e})}this.checked=true});this._updateCheckedItems()},uncheckAll:function(a){if(!this.checkboxes){return}if(this.disabled){return}var d=this;c.each(this.items,function(){var e=this;if(a!==false&&e.checked!==false){this.checked=false;d._raiseEvent(3,{label:e.label,value:e.value,checked:false,item:e})}this.checked=false});this._updateCheckedItems()},uncheckIndex:function(a,o,l){if(!this.checkboxes){return}if(isNaN(a)){return}if(a<0||a>=this.visibleItems.length){return}if(this.visibleItems[a]!=null&&this.visibleItems[a].disabled){return}if(this.disabled){return}var n=this.getItem(a);if(this.groups.length>0||this.filterable){var n=this.getVisibleItem(a)}if(n!=null){var h=c(n.checkBoxElement);n.checked=false;if(o==undefined||o==true){this._updateCheckedItems()}}if(l==undefined||l==true){this._raiseEvent(3,{label:n.label,value:n.value,checked:false,item:n})}},indeterminateIndex:function(a,o,l){if(!this.checkboxes){return}if(isNaN(a)){return}if(a<0||a>=this.visibleItems.length){return}if(this.visibleItems[a]!=null&&this.visibleItems[a].disabled){return}if(this.disabled){return}var n=this.getItem(a);if(this.groups.length>0||this.filterable){var n=this.getVisibleItem(a)}if(n!=null){var h=c(n.checkBoxElement);n.checked=null;if(o==undefined||o==true){this._updateCheckedItems()}}if(l==undefined||l==true){this._raiseEvent(3,{checked:null})}},getSelectedIndex:function(){return this.selectedIndex},getSelectedItems:function(){var a=this.getVisibleItems();var f=this.selectedIndexes;var h=[];for(var l in f){if(f[l]!=-1){h[h.length]=a[l]}}return h},getSelectedItem:function(){var a=this.getSelectedItems();if(a&&a.length>0){return a[0]}return null},_updateCheckedItems:function(){var a=this.selectedIndex;this.clearSelection(false);var f=this.getCheckedItems();this.selectedIndex=a;this._renderItems();var e=c.data(this.element,"hoveredItem");if(e!=null){c(e).addClass(this.toThemeProperty("jqx-listitem-state-hover"));c(e).addClass(this.toThemeProperty("jqx-fill-state-hover"))}this._updateInputSelection()},getItemByValue:function(e){if(this.visibleItems==null){return}if(e&&e.value){e=e.value}if(this.itemsByValue){return this.itemsByValue[c.trim(e).split(" ").join("?")]}var a=this.visibleItems;for(var f=0;f<a.length;f++){if(a[f].value==e){return a[f];break}}},checkItem:function(d){if(d!=null){var a=this._getItemByParam(d);return this.checkIndex(a.visibleIndex,true)}return false},uncheckItem:function(d){if(d!=null){var a=this._getItemByParam(d);return this.uncheckIndex(a.visibleIndex,true)}return false},indeterminateItem:function(d){if(d!=null){var a=this._getItemByParam(d);return this.indeterminateIndex(a.visibleIndex,true)}return false},val:function(f){if(!this.input){return}var e=function(d){for(var h in d){if(d.hasOwnProperty(h)){return false}}if(typeof f=="number"){return false}if(typeof f=="date"){return false}if(typeof f=="boolean"){return false}if(typeof f=="string"){return false}return true};if(e(f)||arguments.length==0){return this.input.val()}var a=this.getItemByValue(f);if(a!=null){this.selectItem(a)}if(this.input){return this.input.val()}},selectItem:function(d){if(d!=null){if(d.index==undefined){var a=this.getItemByValue(d);if(a){d=a}}return this.selectIndex(d.visibleIndex,true)}return false},unselectItem:function(d){if(d!=null){if(d.index==undefined){var a=this.getItemByValue(d);if(a){d=a}}return this.unselectIndex(d.visibleIndex,true)}return false},selectIndex:function(C,a,I,H,z,J){if(isNaN(C)){return}var t=this.selectedIndex;if(this.filterable){this.selectedIndex=-1}if(C<-1||C>=this.visibleItems.length){return}if(this.visibleItems[C]!=null&&this.visibleItems[C].disabled){return}if(this.disabled){return}if(!this.multiple&&!this.multipleextended&&this.selectedIndex==C&&!H&&!this.checkboxes){if(this.visibleItems&&this.items&&this.visibleItems.length!=this.items.length){D=this.getVisibleItem(C);if(D){this.selectedValue=D.value;this.selectedValues[D.value]=D.value}}return}if(this.checkboxes){this._updateCheckedItems();var u=t;if(this.selectedIndex==C&&!this.multiple){u=-1}if(z==undefined){z="none"}var D=this.getItem(C);var K=this.getItem(u);if(this.visibleItems&&this.items&&this.visibleItems.length!=this.items.length){D=this.getVisibleItem(C);K=this.getVisibleItem(u)}this._raiseEvent("1",{index:u,type:z,item:K,originalEvent:J});this.selectedIndex=C;this.selectedIndexes[u]=-1;this.selectedIndexes[C]=C;if(D){this.selectedValue=D.value;this.selectedValues[D.value]=D.value}this._raiseEvent("0",{index:C,type:z,item:D,originalEvent:J});this._renderItems();return}this.focused=true;var v=false;if(this.selectedIndex!=C){v=true}var u=t;if(this.selectedIndex==C&&!this.multiple){u=-1}if(z==undefined){z="none"}var D=this.getItem(C);var K=this.getItem(u);if(this.visibleItems&&this.items&&this.visibleItems.length!=this.items.length){D=this.getVisibleItem(C);K=this.getVisibleItem(u)}if(H!=undefined&&H){this._raiseEvent("1",{index:u,type:z,item:K,originalEvent:J});this.selectedIndex=C;this.selectedIndexes[u]=-1;this.selectedIndexes[C]=C;if(D){this.selectedValue=D.value;this.selectedValues[D.value]=D.value}this._raiseEvent("0",{index:C,type:z,item:D,originalEvent:J})}else{var A=this;var G=function(n,d,f,e,h,l){A._raiseEvent("1",{index:d,type:f,item:e,originalEvent:l});A.selectedIndex=n;A.selectedIndexes=[];d=n;A.selectedIndexes[n]=n;A.selectedValues=new Array();if(h){A.selectedValues[h.value]=h.value}A._raiseEvent("0",{index:n,type:f,item:h,originalEvent:l})};var B=function(n,d,f,e,h,l){if(A.selectedIndexes[n]==undefined||A.selectedIndexes[n]==-1){A.selectedIndexes[n]=n;A.selectedIndex=n;if(h){A.selectedValues[h.value]=h.value;A._raiseEvent("0",{index:n,type:f,item:h,originalEvent:l})}}else{d=A.selectedIndexes[n];e=A.getVisibleItem(d);if(e){A.selectedValues[e.value]=null}A.selectedIndexes[n]=-1;A.selectedIndex=-1;A._raiseEvent("1",{index:d,type:f,item:e,originalEvent:l})}};if(this.multipleextended){if(!this._shiftKey&&!this._ctrlKey){if(z!="keyboard"&&z!="mouse"){B(C,u,z,K,D,J);A._clickedIndex=C}else{this.clearSelection(false);A._clickedIndex=C;G(C,u,z,K,D,J)}}else{if(this._ctrlKey){if(z=="keyboard"){this.clearSelection(false);A._clickedIndex=C}B(C,u,z,K,D,J)}else{if(this._shiftKey){if(A._clickedIndex==undefined){A._clickedIndex=u}var F=Math.min(A._clickedIndex,C);var w=Math.max(A._clickedIndex,C);this.clearSelection(false);for(var E=F;E<=w;E++){A.selectedIndexes[E]=E;A.selectedValues[A.getVisibleItem(E).value]=A.getVisibleItem(E).value;A._raiseEvent("0",{index:E,type:z,item:this.getVisibleItem(E),originalEvent:J})}if(z!="keyboard"){A.selectedIndex=A._clickedIndex}else{A.selectedIndex=C}}}}}else{if(this.multiple){B(C,u,z,K,D,J)}else{if(D){this.selectedValue=D.value}G(C,u,z,K,D,J)}}}if(I==undefined||I==true){this._renderItems()}if(a!=undefined&&a!=null&&a==true){this.ensureVisible(C)}this._raiseEvent("2",{index:C,item:D,oldItem:K,type:z,originalEvent:J});this._updateInputSelection();return v},_updateInputSelection:function(){this._syncSelection();var l=new Array();if(this.input){if(this.selectedIndex==-1){this.input.val("")}else{if(this.items){if(this.items[this.selectedIndex]!=undefined){this.input.val(this.items[this.selectedIndex].value);l.push(this.items[this.selectedIndex].value)}}}if(this.multiple||this.multipleextended||this.checkboxes){var a=!this.checkboxes?this.getSelectedItems():this.getCheckedItems();var f="";if(a){for(var h=0;h<a.length;h++){if(undefined!=a[h]){if(h==a.length-1){f+=a[h].value}else{f+=a[h].value+","}l.push(a[h].value)}}this.input.val(f)}}}if(this.field&&this.input){if(this.field.nodeName.toLowerCase()=="select"){c.each(this.field,function(e,d){c(this).removeAttr("selected");this.selected=l.indexOf(this.value)>=0;if(this.selected){c(this).attr("selected",true)}})}else{c.each(this.items,function(e,d){c(this.originalItem.originalItem).removeAttr("data-selected");this.selected=l.indexOf(this.value)>=0;if(this.selected){c(this.originalItem.originalItem).attr("data-selected",true)}})}}},isIndexInView:function(q){if(isNaN(q)){return false}if(!this.items){return false}if(q<0||q>=this.items.length){return false}var n=this.vScrollInstance.value;var o=0;if(this.filterable){o=this.filterHeight}var l=this.visibleItems[q];if(l==undefined){return true}var a=l.initialTop;var h=l.height;if(a-n<o||a-n+o+h>=this.host.outerHeight()){return false}return true},_itemsInPage:function(){var a=0;var d=this;if(this.items){c.each(this.items,function(){if((this.initialTop+this.height)>=d.content.height()){return false}a++})}return a},_firstItemIndex:function(){if(this.visibleItems!=null){if(this.visibleItems[0]){if(this.visibleItems[0].isGroup){return this._nextItemIndex(0)}else{return 0}}else{return 0}}return -1},_lastItemIndex:function(){if(this.visibleItems!=null){if(this.visibleItems[this.visibleItems.length-1]){if(this.visibleItems[this.visibleItems.length-1].isGroup){return this._prevItemIndex(this.visibleItems.length-1)}else{return this.visibleItems.length-1}}else{return this.visibleItems.length-1}}return -1},_nextItemIndex:function(a){for(indx=a+1;indx<this.visibleItems.length;indx++){if(this.visibleItems[indx]){if(!this.visibleItems[indx].disabled&&!this.visibleItems[indx].isGroup){return indx}}}return -1},_prevItemIndex:function(a){for(indx=a-1;indx>=0;indx--){if(this.visibleItems[indx]){if(!this.visibleItems[indx].disabled&&!this.visibleItems[indx].isGroup){return indx}}}return -1},clearFilter:function(){this.filterInput.val("");this._updateItemsVisibility("")},_search:function(f){var a=this;var e=a.filterInput.val();if(f.keyCode==9){return}if(a.searchMode=="none"||a.searchMode==null||a.searchMode=="undefined"){return}if(f.keyCode==16||f.keyCode==17||f.keyCode==20){return}if(f.keyCode==37||f.keyCode==39){return false}if(f.altKey||f.keyCode==18){return}if(f.keyCode>=33&&f.keyCode<=40){return}if(f.ctrlKey||f.metaKey||a.ctrlKey){if(f.keyCode!=88&&f.keyCode!=86){return}}if(e===a.searchString){return}a._updateItemsVisibility(e)},_updateItemsVisibility:function(n){var s=this.getItems();if(s==undefined){return{index:-1,matchItem:new Array()}}var q=this;var t=-1;var l=new Array();var o=0;c.each(s,function(f){var d="";if(!this.isGroup){if(this.searchLabel){d=this.searchLabel}else{if(this.label){d=this.label}else{if(this.value){d=this.value}else{if(this.title){d=this.title}else{d="jqxItem"}}}}d=d.toString();var e=false;switch(q.searchMode){case"containsignorecase":e=c.jqx.string.containsIgnoreCase(d,n);break;case"contains":e=c.jqx.string.contains(d,n);break;case"equals":e=c.jqx.string.equals(d,n);break;case"equalsignorecase":e=c.jqx.string.equalsIgnoreCase(d,n);break;case"startswith":e=c.jqx.string.startsWith(d,n);break;case"startswithignorecase":e=c.jqx.string.startsWithIgnoreCase(d,n);break;case"endswith":e=c.jqx.string.endsWith(d,n);break;case"endswithignorecase":e=c.jqx.string.endsWithIgnoreCase(d,n);break}if(!e){this.visible=false}if(e){l[o++]=this;this.visible=true;t=this.visibleIndex}if(n==""){this.visible=true;e=false}}});q.renderedVisibleItems=new Array();q.visibleItems=new Array();q.vScrollInstance.setPosition(0,true);q._addItems(false);q._renderItems();for(var v=0;v<q.items.length;v++){q.selectedIndexes[v]=-1}q.selectedIndex=-1;for(var u in q.selectedValues){var n=q.selectedValues[u];var a=q.getItemByValue(n);if(a){if(a.visible){q.selectedIndex=a.visibleIndex;q.selectedIndexes[a.visibleIndex]=a.visibleIndex}}}q._syncSelection()},_getMatches:function(h,o){if(h==undefined||h.length==0){return -1}if(o==undefined){o=0}var a=this.getItems();var l=this;var q=-1;var n=0;c.each(a,function(f){var d="";if(!this.isGroup){if(this.searchLabel){d=this.searchLabel.toString()}else{if(this.label){d=this.label.toString()}else{if(this.value){d=this.value.toString()}else{if(this.title){d=this.title.toString()}else{d="jqxItem"}}}}var e=false;switch(l.searchMode){case"containsignorecase":e=c.jqx.string.containsIgnoreCase(d,h);break;case"contains":e=c.jqx.string.contains(d,h);break;case"equals":e=c.jqx.string.equals(d,h);break;case"equalsignorecase":e=c.jqx.string.equalsIgnoreCase(d,h);break;case"startswith":e=c.jqx.string.startsWith(d,h);break;case"startswithignorecase":e=c.jqx.string.startsWithIgnoreCase(d,h);break;case"endswith":e=c.jqx.string.endsWith(d,h);break;case"endswithignorecase":e=c.jqx.string.endsWithIgnoreCase(d,h);break}if(e&&this.visibleIndex>=o){q=this.visibleIndex;return false}}});return q},findItems:function(l){var a=this.getItems();var n=this;var o=0;var h=new Array();c.each(a,function(f){var d="";if(!this.isGroup){if(this.label){d=this.label}else{if(this.value){d=this.value}else{if(this.title){d=this.title}else{d="jqxItem"}}}var e=false;switch(n.searchMode){case"containsignorecase":e=c.jqx.string.containsIgnoreCase(d,l);break;case"contains":e=c.jqx.string.contains(d,l);break;case"equals":e=c.jqx.string.equals(d,l);break;case"equalsignorecase":e=c.jqx.string.equalsIgnoreCase(d,l);break;case"startswith":e=c.jqx.string.startsWith(d,l);break;case"startswithignorecase":e=c.jqx.string.startsWithIgnoreCase(d,l);break;case"endswith":e=c.jqx.string.endsWith(d,l);break;case"endswithignorecase":e=c.jqx.string.endsWithIgnoreCase(d,l);break}if(e){h[o++]=this}}});return h},_syncSelection:function(){var e=this;if(e.filterable){if(e.items){for(var a=0;a<e.items.length;a++){var f=e.items[a];f.selected=false}}for(var a=0;a<e.visibleItems.length;a++){var f=e.visibleItems[a];if(e.selectedIndexes&&e.selectedIndexes[a]==f.visibleIndex){f.selected=true}}if(e.itemswrapper){e._renderItems()}}},_handleKeyDown:function(z){var a=z.keyCode;var C=this;var G=C.selectedIndex;var J=C.selectedIndex;var B=false;if(!this.keyboardNavigation||!this.enableSelection){return}if(this.filterInput&&z.target==this.filterInput[0]){return}var D=function(){if(C.multiple||C.checkboxes){C.clearSelection(false)}};if(z.altKey){a=-1}if(a==32&&this.checkboxes){var H=this.getItem(G);if(H!=null){C._updateItemCheck(H,G);z.preventDefault()}C._searchString="";C.selectIndex(H.visibleIndex,false,true,true,"keyboard",z);C._renderItems();return}if(C.incrementalSearch){var w=-1;if(!C._searchString){C._searchString=""}if((a==8||a==46)&&C._searchString.length>=1){C._searchString=C._searchString.substr(0,C._searchString.length-1)}var t=String.fromCharCode(a);var A=(!isNaN(parseInt(t)));var E=false;if((a>=65&&a<=97)||A||a==8||a==32||a==46){if(!z.shiftKey){t=t.toLocaleLowerCase()}var I=1+C.selectedIndex;if(a!=8&&a!=32&&a!=46){if(C._searchString.length>0&&C._searchString.substr(0,1)==t){I=1+C.selectedIndex}else{C._searchString+=t}}if(a==32){C._searchString+=" "}var L=this._getMatches(C._searchString,I);w=L;if(w==C._lastMatchIndex||w==-1){var L=this._getMatches(C._searchString,0);w=L}C._lastMatchIndex=w;if(w>=0){var F=function(){D();C.selectIndex(w,false,false,false,"keyboard",z);var d=C.isIndexInView(w);if(!d){C.ensureVisible(w)}else{C._renderItems()}};if(C._toSelectTimer){clearTimeout(C._toSelectTimer)}C._toSelectTimer=setTimeout(function(){F()},C.incrementalSearchKeyDownDelay)}E=true}if(C._searchTimer!=undefined){clearTimeout(C._searchTimer)}if(a==27||a==13){C._searchString=""}C._searchTimer=setTimeout(function(){C._searchString="";C._renderItems()},C.incrementalSearchDelay);if(w>=0){return}if(E){return false}}if(a==33){var v=C._itemsInPage();if(C.selectedIndex-v>=0){D();C.selectIndex(J-v,false,false,false,"keyboard",z)}else{D();C.selectIndex(C._firstItemIndex(),false,false,false,"keyboard",z)}C._searchString=""}if(a==32&&this.checkboxes){var H=this.getItem(G);if(H!=null){C._updateItemCheck(H,G);z.preventDefault()}C._searchString=""}if(a==36){D();C.selectIndex(C._firstItemIndex(),false,false,false,"keyboard",z);C._searchString=""}if(a==35){D();C.selectIndex(C._lastItemIndex(),false,false,false,"keyboard",z);C._searchString=""}if(a==34){var v=C._itemsInPage();if(C.selectedIndex+v<C.visibleItems.length){D();C.selectIndex(J+v,false,false,false,"keyboard",z)}else{D();C.selectIndex(C._lastItemIndex(),false,false,false,"keyboard",z)}C._searchString=""}if(a==38){C._searchString="";if(C.selectedIndex>0){var K=C._prevItemIndex(C.selectedIndex);if(K!=C.selectedIndex&&K!=-1){D();C.selectIndex(K,false,false,false,"keyboard",z)}else{return true}}else{return false}}else{if(a==40){C._searchString="";if(C.selectedIndex+1<C.visibleItems.length){var K=C._nextItemIndex(C.selectedIndex);if(K!=C.selectedIndex&&K!=-1){D();C.selectIndex(K,false,false,false,"keyboard",z)}else{return true}}else{return false}}}if(a==35||a==36||a==38||a==40||a==34||a==33){var u=C.isIndexInView(C.selectedIndex);if(!u){C.ensureVisible(C.selectedIndex)}else{C._renderItems()}return false}return true},_updateItemCheck:function(a,d){if(this.disabled){return}if(a.checked==true){a.checked=(a.hasThreeStates&&this.hasThreeStates)?null:false}else{a.checked=a.checked!=null}switch(a.checked){case true:this.checkIndex(d);break;case false:this.uncheckIndex(d);break;default:this.indeterminateIndex(d);break}},wheel:function(h,l){if(l.autoHeight||!l.enableMouseWheel){h.returnValue=true;return true}if(l.disabled){return true}var f=0;if(!h){h=window.event}if(h.originalEvent&&h.originalEvent.wheelDelta){h.wheelDelta=h.originalEvent.wheelDelta}if(h.wheelDelta){f=h.wheelDelta/120}else{if(h.detail){f=-h.detail/3}}if(f){var a=l._handleDelta(f);if(a){if(h.preventDefault){h.preventDefault()}if(h.originalEvent!=null){h.originalEvent.mouseHandled=true}if(h.stopPropagation!=undefined){h.stopPropagation()}}if(a){a=false;h.returnValue=a;return a}else{return false}}if(h.preventDefault){h.preventDefault()}h.returnValue=false},_handleDelta:function(e){var f=this.vScrollInstance.value;if(e<0){this.scrollDown()}else{this.scrollUp()}var a=this.vScrollInstance.value;if(f!=a){return true}return false},focus:function(){try{this.focused=true;this.host.focus();var d=this;setTimeout(function(){d.host.focus()},25)}catch(a){}},_removeHandlers:function(){var a=this;this.removeHandler(c(document),"keydown.listbox"+this.element.id);this.removeHandler(c(document),"keyup.listbox"+this.element.id);this.removeHandler(this.vScrollBar,"valueChanged");this.removeHandler(this.hScrollBar,"valueChanged");if(this._mousewheelfunc){this.removeHandler(this.host,"mousewheel",this._mousewheelfunc)}else{this.removeHandler(this.host,"mousewheel")}this.removeHandler(this.host,"keydown");this.removeHandler(this.content,"mouseleave");this.removeHandler(this.content,"focus");this.removeHandler(this.content,"blur");this.removeHandler(this.host,"focus");this.removeHandler(this.host,"blur");this.removeHandler(this.content,"mouseenter");this.removeHandler(this.content,"mouseup");this.removeHandler(this.content,"mousedown");this.removeHandler(this.content,"touchend");if(this._mousemovefunc){this.removeHandler(this.content,"mousemove",this._mousemovefunc)}else{this.removeHandler(this.content,"mousemove")}this.removeHandler(this.content,"selectstart");if(this.overlayContent){this.removeHandler(this.overlayContent,c.jqx.mobile.getTouchEventName("touchend"))}},_updateSize:function(){if(!this.virtualSize){this._oldheight=null;this.virtualSize=this._calculateVirtualSize()}var a=this;a._arrange();if(a.host.height()!=a._oldheight||a.host.width()!=a._oldwidth){var f=a.host.width()!=a._oldwidth;if(a.autoItemsHeight){a._render(false)}else{if(a.items){if(a.items.length>0&&a.virtualItemsCount*a.items[0].height<a._oldheight-2){a._render(false)}else{var e=a.vScrollInstance.value;a._updatescrollbars();a._renderItems();if(e<a.vScrollInstance.max){a.vScrollInstance.setPosition(e)}else{a.vScrollInstance.setPosition(a.vScrollInstance.max)}}}}a._oldwidth=a.host.width();a._oldheight=a.host.height()}},_addHandlers:function(){var n=this;this.focused=false;var a=false;var q=0;var u=null;var q=0;var B=0;var t=new Date();var w=this.isTouchDevice();this.addHandler(this.vScrollBar,"valueChanged",function(d){if(c.jqx.browser.msie&&c.jqx.browser.version>9){setTimeout(function(){n._renderItems()},1)}else{n._renderItems()}});this.addHandler(this.hScrollBar,"valueChanged",function(){n._renderItems()});if(this._mousewheelfunc){this.removeHandler(this.host,"mousewheel",this._mousewheelfunc)}this._mousewheelfunc=function(d){n.wheel(d,n)};this.addHandler(this.host,"mousewheel",this._mousewheelfunc);this.addHandler(c(document),"keydown.listbox"+this.element.id,function(d){n._ctrlKey=d.ctrlKey||d.metaKey;n._shiftKey=d.shiftKey});this.addHandler(c(document),"keyup.listbox"+this.element.id,function(d){n._ctrlKey=d.ctrlKey||d.metaKey;n._shiftKey=d.shiftKey});this.addHandler(this.host,"keydown",function(d){return n._handleKeyDown(d)});this.addHandler(this.content,"mouseleave",function(e){n.focused=false;var d=c.data(n.element,"hoveredItem");if(d!=null){c(d).removeClass(n.toThemeProperty("jqx-listitem-state-hover"));c(d).removeClass(n.toThemeProperty("jqx-fill-state-hover"));c.data(n.element,"hoveredItem",null)}});this.addHandler(this.content,"focus",function(d){if(!n.disabled){n.host.addClass(n.toThemeProperty("jqx-fill-state-focus"));n.focused=true}});this.addHandler(this.content,"blur",function(d){n.focused=false;n.host.removeClass(n.toThemeProperty("jqx-fill-state-focus"))});this.addHandler(this.host,"focus",function(d){if(!n.disabled){n.host.addClass(n.toThemeProperty("jqx-fill-state-focus"));n.focused=true}});this.addHandler(this.host,"blur",function(d){if(c.jqx.browser.msie&&c.jqx.browser.version<9&&n.focused){return}n.host.removeClass(n.toThemeProperty("jqx-fill-state-focus"));n.focused=false});this.addHandler(this.content,"mouseenter",function(d){n.focused=true});var A=c.jqx.utilities.hasTransform(this.host);if(this.enableSelection){var v=n.isTouchDevice()&&this.touchMode!==true;var s=!v?"mousedown":"touchend";var o=!v?"mouseup":"touchend";if(this.overlayContent){this.addHandler(this.overlayContent,c.jqx.mobile.getTouchEventName("touchend"),function(l){if(!n.enableSelection){return true}if(v){n._newScroll=new Date();if(n._newScroll-n._lastScroll<500){return true}}var e=c.jqx.mobile.getTouches(l);var d=e[0];if(d!=undefined){var D=n.host.offset();var f=parseInt(d.pageX);var h=parseInt(d.pageY);if(n.touchMode==true){if(d._pageX!=undefined){f=parseInt(d._pageX);h=parseInt(d._pageY)}}f=f-D.left;h=h-D.top;var C=n._hitTest(f,h);if(C!=null&&!C.isGroup){n._newScroll=new Date();if(n._newScroll-n._lastScroll<500){return false}if(n.checkboxes){n._updateItemCheck(C,C.visibleIndex);return}if(C.html.indexOf("href")!=-1){setTimeout(function(){n.selectIndex(C.visibleIndex,false,true,false,"mouse",l);n.content.trigger("click");return false},100)}else{n.selectIndex(C.visibleIndex,false,true,false,"mouse",l);if(l.preventDefault){l.preventDefault()}n.content.trigger("click");return false}}}})}else{var z=false;this.addHandler(this.content,s,function(l){if(!n.enableSelection){return true}z=true;if(v){n._newScroll=new Date();if(n._newScroll-n._lastScroll<500){return false}}n.focused=true;if(!n.isTouchDevice()&&n.focusable){n.host.focus()}if(l.target.id!=("listBoxContent"+n.element.id)&&n.itemswrapper[0]!=l.target){var d=l.target;var C=c(d).offset();var e=n.host.offset();if(A){var h=c.jqx.mobile.getLeftPos(d);var G=c.jqx.mobile.getTopPos(d);C.left=h;C.top=G;h=c.jqx.mobile.getLeftPos(n.element);G=c.jqx.mobile.getTopPos(n.element);e.left=h;e.top=G}var H=parseInt(C.top)-parseInt(e.top);var E=parseInt(C.left)-parseInt(e.left);var D=n._hitTest(E,H);if(D!=null&&!D.isGroup){var f=function(K,J){if(!n._shiftKey){n._clickedIndex=K.visibleIndex}if(!n.checkboxes){n.selectIndex(K.visibleIndex,false,true,false,"mouse",J)}else{E=20+J.pageX-C.left;if(n.rtl){var I=n.hScrollBar.css("visibility")!="hidden"?n.hScrollInstance.max:n.host.width();if(E<=n.host.width()-20){if(!n.allowDrag){n._updateItemCheck(K,K.visibleIndex);n.selectIndex(K.visibleIndex,false,true,false,"mouse",J)}else{setTimeout(function(){if(!n._dragItem){if(!z){n._updateItemCheck(K,K.visibleIndex);n.selectIndex(K.visibleIndex,false,true,false,"mouse",J)}}},200)}}}else{if(E+n.hScrollInstance.value>=20){if(!n.allowDrag){n._updateItemCheck(K,K.visibleIndex);n.selectIndex(K.visibleIndex,false,true,false,"mouse",J)}else{setTimeout(function(){if(!n._dragItem){if(!z){n._updateItemCheck(K,K.visibleIndex);n.selectIndex(K.visibleIndex,false,true,false,"mouse",J)}}},200)}}}}};if(!D.disabled){if(D.html.indexOf("href")!=-1){setTimeout(function(){f(D,l)},100)}else{f(D,l)}}}if(s=="mousedown"){var F=false;if(l.which){F=(l.which==3)}else{if(l.button){F=(l.button==2)}}if(F){return true}return false}}return true})}this.addHandler(this.content,"mouseup",function(d){n.vScrollInstance.handlemouseup(n,d);z=false});if(c.jqx.browser.msie){this.addHandler(this.content,"selectstart",function(d){return false})}}var w=this.isTouchDevice();if(this.enableHover&&!w){this._mousemovefunc=function(D){if(w){return true}if(!n.enableHover){return true}var h=c.jqx.browser.msie==true&&c.jqx.browser.version<9?0:1;if(D.target==null){return true}if(n.disabled){return true}n.focused=true;var d=n.vScrollInstance.isScrolling();if(!d&&D.target.id!=("listBoxContent"+n.element.id)){if(n.itemswrapper[0]!=D.target){var I=D.target;var f=c(I).offset();var J=n.host.offset();if(A){var C=c.jqx.mobile.getLeftPos(I);var G=c.jqx.mobile.getTopPos(I);f.left=C;f.top=G;C=c.jqx.mobile.getLeftPos(n.element);G=c.jqx.mobile.getTopPos(n.element);J.left=C;J.top=G}var H=parseInt(f.top)-parseInt(J.top);var F=parseInt(f.left)-parseInt(J.left);var l=n._hitTest(F,H);if(l!=null&&!l.isGroup&&!l.disabled){var e=c.data(n.element,"hoveredItem");if(e!=null){c(e).removeClass(n.toThemeProperty("jqx-listitem-state-hover"));c(e).removeClass(n.toThemeProperty("jqx-fill-state-hover"))}c.data(n.element,"hoveredItem",l.element);var E=c(l.element);E.addClass(n.toThemeProperty("jqx-listitem-state-hover"));E.addClass(n.toThemeProperty("jqx-fill-state-hover"))}}}};this.addHandler(this.content,"mousemove",this._mousemovefunc)}},_arrange:function(a){if(a==undefined){a=true}var h=this;var A=null;var C=null;var I=h.filterable?h.filterHeight:0;var G=function(d){d=h.host.height();if(d==0){d=200;h.host.height(d)}return d};if(h.width!=null&&h.width.toString().indexOf("px")!=-1){A=h.width}else{if(h.width!=undefined&&!isNaN(h.width)){A=h.width}}if(h.height!=null&&h.height.toString().indexOf("px")!=-1){C=h.height}else{if(h.height!=undefined&&!isNaN(h.height)){C=h.height}}if(h.width!=null&&h.width.toString().indexOf("%")!=-1){h.host.css("width",h.width);A=h.host.width()}if(h.height!=null&&h.height.toString().indexOf("%")!=-1){h.host.css("height",h.height);C=G(C)}if(A!=null){A=parseInt(A);if(parseInt(h.element.style.width)!=parseInt(h.width)){h.host.width(h.width)}}if(!h.autoHeight){if(C!=null){C=parseInt(C);if(parseInt(h.element.style.height)!=parseInt(h.height)){h.host.height(h.height);G(C)}}}else{if(h.virtualSize){if(h.hScrollBar.css("visibility")!="hidden"){h.host.height(h.virtualSize.height+parseInt(h.scrollBarSize)+3);h.height=h.virtualSize.height+parseInt(h.scrollBarSize)+3;C=h.height}else{h.host.height(h.virtualSize.height);h.height=h.virtualSize.height;C=h.virtualSize.height}}}var M=h.scrollBarSize;if(isNaN(M)){M=parseInt(M);if(isNaN(M)){M="17px"}else{M=M+"px"}}M=parseInt(M);var D=4;var K=2;var J=1;if(h.vScrollBar){if(h.vScrollBar[0].style.visibility!="hidden"){J=M+D}else{h.vScrollInstance.setPosition(0)}}else{return}if(h.hScrollBar){if(h.hScrollBar[0].style.visibility!="hidden"){K=M+D}else{h.hScrollInstance.setPosition(0)}}else{return}if(h.autoItemsHeight){h.hScrollBar[0].style.visibility="hidden";K=0}if(C==null){C=0}var z=parseInt(C)-D-M;if(z<0){z=0}if(parseInt(h.hScrollBar[0].style.height)!=M){if(parseInt(M)<0){M=0}h.hScrollBar[0].style.height=parseInt(M)+"px"}if(h.hScrollBar[0].style.top!=z+"px"){h.hScrollBar[0].style.top=z+"px";h.hScrollBar[0].style.left="0px"}var N=A-M-D;if(N<0){N=0}var E=N+"px";if(h.hScrollBar[0].style.width!=E){h.hScrollBar[0].style.width=E}if(J<=1){if(A>=2){h.hScrollBar[0].style.width=parseInt(A-2)+"px"}}if(M!=parseInt(h.vScrollBar[0].style.width)){h.vScrollBar[0].style.width=parseInt(M)+"px"}if((parseInt(C)-K)!=parseInt(h.vScrollBar[0].style.height)){var v=parseInt(C)-K;if(v<0){v=0}h.vScrollBar[0].style.height=v+"px"}if(A==null){A=0}var L=parseInt(A)-parseInt(M)-D+"px";if(L!=h.vScrollBar[0].style.left){if(parseInt(L)>=0){h.vScrollBar[0].style.left=L}h.vScrollBar[0].style.top="0px"}var F=h.vScrollInstance;F.disabled=h.disabled;if(a){F._arrange()}var B=h.hScrollInstance;B.disabled=h.disabled;if(a){B._arrange()}if((h.vScrollBar[0].style.visibility!="hidden")&&(h.hScrollBar[0].style.visibility!="hidden")){h.bottomRight[0].style.visibility="inherit";h.bottomRight[0].style.left=1+parseInt(h.vScrollBar[0].style.left)+"px";h.bottomRight[0].style.top=1+parseInt(h.hScrollBar[0].style.top)+"px";if(h.rtl){h.bottomRight.css({left:0})}h.bottomRight[0].style.width=parseInt(M)+3+"px";h.bottomRight[0].style.height=parseInt(M)+3+"px"}else{h.bottomRight[0].style.visibility="hidden"}if(parseInt(h.content[0].style.width)!=(parseInt(A)-J)){var H=parseInt(A)-J;if(H<0){H=0}h.content[0].style.width=H+"px"}if(h.rtl){h.vScrollBar.css({left:0+"px",top:"0px"});h.hScrollBar.css({left:h.vScrollBar.width()+2+"px"});if(h.vScrollBar[0].style.visibility!="hidden"){h.content.css("margin-left",4+h.vScrollBar.width())}else{h.content.css("margin-left",0);h.hScrollBar.css({left:"0px"})}if(h.filterable&&h.filterInput){h.filterInput.css({left:h.vScrollBar.width()+6+"px"})}}if(parseInt(h.content[0].style.height)!=(parseInt(C)-K)){var w=parseInt(C)-K;if(w<0){w=0}h.content[0].style.height=w+"px";h.content[0].style.top="0px"}if(I>0){h.content[0].style.top=I+"px";h.content[0].style.height=parseInt(h.content[0].style.height)-I+"px"}if(h.filterable){h.filterInput[0].style.height=(I-6)+"px";h.filterInput[0].style.top="3px";if(!h.rtl){h.filterInput[0].style.left=parseInt(h.content.css("left"))+3+"px"}h.filterInput[0].style.width=parseInt(h.content.css("width"))-7+"px";h.filter[0].style.display="block"}else{h.filter[0].style.display="none"}if(h.overlayContent){h.overlayContent.width(parseInt(A)-J);h.overlayContent.height(parseInt(C)-K)}},ensureVisible:function(s,q){if(isNaN(s)){var a=this.getItemByValue(s);if(a){s=a.index}}var u=this.isIndexInView(s);if(!u){if(s<0){return}if(this.autoHeight){var t=c.data(this.vScrollBar[0],"jqxScrollBar").instance;t.setPosition(0)}else{for(indx=0;indx<this.visibleItems.length;indx++){var a=this.visibleItems[indx];if(a.visibleIndex==s&&!a.isGroup){var t=c.data(this.vScrollBar[0],"jqxScrollBar").instance;var n=t.value;var A=!this.filterable?0:this.filterHeight+2;var v=this.hScrollBar.css("visibility")==="hidden";var w=v?0:this.scrollBarSize+4;if(a.initialTop<n){t.setPosition(a.initialTop);if(indx==0){t.setPosition(0)}}else{if(a.initialTop+a.height>n+this.host.height()-A){var z=this.host.height();if(this.filterable){t.setPosition(this.filterHeight+2+a.initialTop+a.height+2-z+w)}else{t.setPosition(a.initialTop+a.height+2-z+w);if(indx===this.visibleItems.length-1){t.setPosition(t.max)}}if(q){var n=t.value;var o=a.initialTop;if(this.filterable){o=this.filterHeight+2+a.initialTop}if(n+z<t.max){t.setPosition(o)}}}}break}}}}else{if(q){for(indx=0;indx<this.visibleItems.length;indx++){var a=this.visibleItems[indx];if(a.visibleIndex==s&&!a.isGroup){var n=this.vScrollInstance.value;var o=a.initialTop;if(this.filterable){o=this.filterHeight+2+a.initialTop}if(n+this.host.height()<this.vScrollInstance.max){this.vScrollInstance.setPosition(o)}}}}}this._renderItems()},scrollTo:function(d,a){if(this.vScrollBar.css("visibility")!="hidden"){this.vScrollInstance.setPosition(a)}if(this.hScrollBar.css("visibility")!="hidden"){this.hScrollInstance.setPosition(d)}},scrollDown:function(){if(this.vScrollBar.css("visibility")=="hidden"){return false}var a=this.vScrollInstance;if(a.value+a.largestep<=a.max){a.setPosition(a.value+a.largestep);return true}else{a.setPosition(a.max);return true}return false},scrollUp:function(){if(this.vScrollBar.css("visibility")=="hidden"){return false}var a=this.vScrollInstance;if(a.value-a.largestep>=a.min){a.setPosition(a.value-a.largestep);return true}else{if(a.value!=a.min){a.setPosition(a.min);return true}}return false},databind:function(v,t){this.records=new Array();var q=v._source?true:false;var u=new c.jqx.dataAdapter(v,{autoBind:false});if(q){u=v;v=v._source}var s=function(d){if(v.type!=undefined){u._options.type=v.type}if(v.formatdata!=undefined){u._options.formatData=v.formatdata}if(v.contenttype!=undefined){u._options.contentType=v.contenttype}if(v.async!=undefined){u._options.async=v.async}};var n=function(e,d){var C=function(L){var E=null;if(typeof L==="string"){var I=L;var H=L;var F=""}else{if(e.displayMember!=undefined&&e.displayMember!=""){var H=L[e.valueMember];var I=L[e.displayMember]}}var F="";if(e.groupMember){F=L[e.groupMember]}else{if(L&&L.group!=undefined){F=L.group}}if(e.searchMember){E=L[e.searchMember]}else{if(L&&L.searchLabel!=undefined){E=L.searchLabel}}if(!e.valueMember&&!e.displayMember){if(c.type(L)=="string"){I=H=L.toString()}}if(L&&L.label!=undefined){var I=L.label}if(L&&L.value!=undefined){var H=L.value}var G=false;if(L&&L.checked!=undefined){G=L.checked}var M="";if(L&&L.html!=undefined){M=L.html}var O=true;if(L&&L.visible!=undefined){O=L.visible}var N=false;if(L&&L.disabled!=undefined){N=L.disabled}var J=false;if(L&&L.hasThreeStates!=undefined){J=L.hasThreeStates}var K={};K.label=I;K.value=H;K.searchLabel=E;K.html=M;K.visible=O;K.originalItem=L;K.group=F;K.groupHtml="";K.disabled=N;K.checked=G;K.hasThreeStates=J;return K};if(d!=undefined){var B=u._changedrecords[0];if(B){c.each(u._changedrecords,function(){var F=this.index;var E=this.record;if(d!="remove"){var D=C(E)}switch(d){case"update":e.updateAt(D,F);break;case"add":e.insertAt(D,F);break;case"remove":e.removeAt(F);break}});return}}e.records=u.records;var z=e.records.length;var f=new Array();for(var A=0;A<z;A++){var w=e.records[A];var h=C(w);h.index=A;f[A]=h}e.items=e.loadItems(f,true);e._render();e._raiseEvent("6")};s(this);var l=this;switch(v.datatype){case"local":case"array":default:if(v.localdata!=null||c.isArray(v)){u.unbindBindingUpdate(this.element.id);if(this.autoBind||(!this.autoBind&&!t)){u.dataBind()}n(this);u.bindBindingUpdate(this.element.id,function(d){n(l,d)})}break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"csv":case"tab":if(v.localdata!=null){u.unbindBindingUpdate(this.element.id);if(this.autoBind||(!this.autoBind&&!t)){u.dataBind()}n(this);u.bindBindingUpdate(this.element.id,function(){n(l)});return}var a={};if(u._options.data){c.extend(u._options.data,a)}else{if(v.data){c.extend(a,v.data)}u._options.data=a}var o=function(){n(l)};u.unbindDownloadComplete(l.element.id);u.bindDownloadComplete(l.element.id,o);if(this.autoBind||(!this.autoBind&&!t)){u.dataBind()}}},loadItems:function(A,w){if(A==null){this.groups=new Array();this.items=new Array();this.visualItems=new Array();return}var K=this;var C=0;var H=0;var J=0;this.groups=new Array();this.items=new Array();this.visualItems=new Array();var G=new Array();this.itemsByValue=new Array();c.map(A,function(d){if(d==undefined){return null}var l=new c.jqx._jqxListBox.item();var q=d.group;var n=d.groupHtml;var o=d.title;var f=null;if(K.searchMember){f=d[K.searchMember]}else{if(d&&d.searchLabel!=undefined){f=d.searchLabel}}if(o==null||o==undefined){o=""}if(q==null||q==undefined){q=""}if(K.groupMember){q=d[K.groupMember]}if(n==null||n==undefined){n=""}if(!K.groups[q]){K.groups[q]={items:new Array(),index:-1,caption:q,captionHtml:n};C++;var h=C+"jqxGroup";K.groups[h]=K.groups[q];H++;K.groups.length=H}var e=K.groups[q];e.index++;e.items[e.index]=l;if(typeof d==="string"){l.label=d;l.value=d;if(arguments.length>1&&arguments[1]&&c.type(arguments[1])=="string"){l.label=d;l.value=arguments[1]}}else{if(d.label==null&&d.value==null&&d.html==null&&d.group==null&&d.groupHtml==null){l.label=d.toString();l.value=d.toString()}else{l.label=d.label;l.value=d.value;if(l.label===undefined){l.label=d.value}if(l.value===undefined){l.value=d.label}}}if(typeof d!="string"){if(d.label===undefined){if(K.displayMember!=""){if(d[K.displayMember]!=undefined){l.label=d[K.displayMember]}else{l.label=""}}}if(d.value===undefined){if(K.valueMember!=""){l.value=d[K.valueMember]}}}l.hasThreeStates=d.hasThreeStates!=undefined?d.hasThreeStates:true;l.originalItem=d;if(w){l.originalItem=d.originalItem}l.title=o;if(o&&l.value===undefined&&l.label===undefined){l.value=l.label=o}l.html=d.html||"";if(d.html&&d.html!=""){if(o&&o!=""){}}l.group=q;l.checked=d.checked||false;l.groupHtml=d.groupHtml||"";l.disabled=d.disabled||false;l.visible=d.visible!=undefined?d.visible:true;l.searchLabel=f;l.index=J;G[J]=l;J++;return l});var I=new Array();var v=0;if(this.fromSelect==undefined||this.fromSelect==false){for(var D=0;D<H;D++){var C=D+1;var z=C+"jqxGroup";var a=this.groups[z];if(a==undefined||a==null){break}if(D==0&&a.caption==""&&a.captionHtml==""&&H<=1){for(var E=0;E<a.items.length;E++){var u=a.items[E].value;if(a.items[E].value==undefined||a.items[E].value==null){u=E}this.itemsByValue[c.trim(u).split(" ").join("?")]=a.items[E]}return a.items}else{var B=new c.jqx._jqxListBox.item();B.isGroup=true;B.label=a.caption;if(a.caption==""&&a.captionHtml==""){a.caption=this.emptyGroupText;B.label=a.caption}B.html=a.captionHtml;I[v]=B;v++}for(var F=0;F<a.items.length;F++){I[v]=a.items[F];var u=a.items[F].value;if(a.items[F].value==""||a.items[F].value==null){u=v}K.itemsByValue[c.trim(u).split(" ").join("?")]=a.items[F];v++}}}else{var v=0;var L=new Array();c.each(G,function(){if(!L[this.group]){if(this.group!=""){var e=new c.jqx._jqxListBox.item();e.isGroup=true;e.label=this.group;I[v]=e;v++;L[this.group]=true}}I[v]=this;var d=this.value;if(this.value==""||this.value==null){d=v-1}K.itemsByValue[c.trim(d).split(" ").join("?")]=this;v++})}return I},_mapItem:function(d){var a=new c.jqx._jqxListBox.item();if(this.displayMember){if(d.label==undefined){d.label=d[this.displayMember]}if(d.value==undefined){d.value=d[this.valueMember]}}if(typeof d==="string"){a.label=d;a.value=d}else{if(typeof d==="number"){a.label=d.toString();a.value=d.toString()}else{a.label=d.label!==undefined?d.label:d.value;a.value=d.value!==undefined?d.value:d.label}}if(a.label==undefined&&a.value==undefined&&a.html==undefined){a.label=a.value=d}a.html=d.html||"";a.group=d.group||"";a.checked=d.checked||false;a.title=d.title||"";a.groupHtml=d.groupHtml||"";a.disabled=d.disabled||false;a.visible=d.visible||true;return a},addItem:function(a){return this.insertAt(a,this.items?this.items.length:0)},_getItemByParam:function(d){if(d!=null){if(d.index==undefined){var a=this.getItemByValue(d);if(a){d=a}}}return d},insertItem:function(e,a){var f=this._getItemByParam(e);return this.insertAt(f,a)},updateItem:function(f,e){var a=this._getItemByParam(e);if(a&&a.index!=undefined){return this.updateAt(f,a.index)}return false},updateAt:function(e,f){if(e!=null){var a=this._mapItem(e);this.itemsByValue[c.trim(a.value).split(" ").join("?")]=this.items[f];this.items[f].value=a.value;this.items[f].label=a.label;this.items[f].html=a.html;this.items[f].disabled=a.disabled}this._cachedItemHtml=[];this._renderItems();if(this.rendered){this.rendered()}},insertAt:function(a,u){if(a==null){return false}this._cachedItemHtml=[];if(this.items==undefined||this.items.length==0){this.source=new Array();this.refresh();var t=this._mapItem(a);t.index=0;this.items[this.items.length]=t;this._addItems(true);this._renderItems();if(this.rendered){this.rendered()}if(this.allowDrag&&this._enableDragDrop){this._enableDragDrop()}var n=t.value;if(t.value==""||t.value==null){n=u}this.itemsByValue[c.trim(n).split(" ").join("?")]=t;return false}var t=this._mapItem(a);if(u==-1||u==undefined||u==null||u>=this.items.length){t.index=this.items.length;this.items[this.items.length]=t}else{var z=new Array();var o=0;var v=false;var s=0;for(var A=0;A<this.items.length;A++){if(this.items[A].isGroup==false){if(s>=u&&!v){z[o++]=t;t.index=u;s++;v=true}}z[o]=this.items[A];if(!this.items[A].isGroup){z[o].index=s;s++}o++}this.items=z}var n=t.value;if(t.value==""||t.value==null){n=u}this.itemsByValue[c.trim(n).split(" ").join("?")]=t;this.visibleItems=new Array();this.renderedVisibleItems=new Array();var w=c.data(this.vScrollBar[0],"jqxScrollBar").instance;var q=w.value;w.setPosition(0);if((this.allowDrag&&this._enableDragDrop)||(this.virtualSize&&this.virtualSize.height<10+this.host.height())){this._addItems(true)}else{this._addItems(false)}if(this.groups.length>1){}this._renderItems();if(this.allowDrag&&this._enableDragDrop){this._enableDragDrop()}w.setPosition(q);if(this.rendered){this.rendered()}return true},removeAt:function(v){if(v<0||v>this.items.length-1){return false}if(v==undefined){return false}var C=this.items[v].height;var q=this.items[v].value;if(q==""||q==null){q=v}this.itemsByValue[c.trim(q).split(" ").join("?")]=null;if(this.groups.length>1){var w=new Array();for(var E=0;E<this.items.length;E++){if(!this.items[E].isGroup){w.push({item:this.items[E],key:E})}}if(w[v]){this.items.splice(w[v].key,1)}else{return false}}else{this.items.splice(v,1)}var D=new Array();var s=0;var A=false;var u=0;for(var E=0;E<this.items.length;E++){D[s]=this.items[E];if(!this.items[E].isGroup){D[s].index=u;u++}s++}this.items=D;var B=c.data(this.vScrollBar[0],"jqxScrollBar").instance;var B=c.data(this.vScrollBar[0],"jqxScrollBar").instance;var t=B.value;B.setPosition(0);this.visibleItems=new Array();this.renderedVisibleItems=new Array();if(this.items.length>0){if(this.virtualSize){this.virtualSize.height-=C;var a=this.virtualSize.itemsPerPage*2;if(this.autoHeight){a=this.items.length}this.virtualItemsCount=Math.min(a,this.items.length)}this._updatescrollbars()}else{this._addItems()}this._renderItems();if(this.allowDrag&&this._enableDragDrop){this._enableDragDrop()}if(this.vScrollBar.css("visibility")!="hidden"){B.setPosition(t)}else{B.setPosition(0)}this.itemsByValue=new Array();for(var z=0;z<this.items.length;z++){var q=this.items[z].value;if(this.items[z].value==""||this.items[z].value==null){q=z}this.itemsByValue[c.trim(q).split(" ").join("?")]=this.items[z]}if(this.rendered){this.rendered()}return true},removeItem:function(l,h){var n=this._getItemByParam(l);var a=-1;if(n&&n.index!=undefined&&h!==true){for(var o=0;o<this.items.length;o++){if(this.items[o].label==n.label&&this.items[o].value==n.value){a=o;break}}if(a!=-1){return this.removeAt(a)}}if(a==-1){return this.removeAt(n.index)}},getItems:function(){return this.items},disableItem:function(d){var a=this._getItemByParam(d);this.disableAt(a.index)},enableItem:function(d){var a=this._getItemByParam(d);this.enableAt(a.index)},disableAt:function(a){if(!this.items){return false}if(a<0||a>this.items.length-1){return false}this.items[a].disabled=true;this._renderItems();return true},enableAt:function(a){if(!this.items){return false}if(a<0||a>this.items.length-1){return false}this.items[a].disabled=false;this._renderItems();return true},destroy:function(){if(this.source&&this.source.unbindBindingUpdate){this.source.unbindBindingUpdate(this.element.id)}this._removeHandlers();this.vScrollBar.jqxScrollBar("destroy");this.hScrollBar.jqxScrollBar("destroy");this.vScrollBar.remove();this.hScrollBar.remove();this.content.remove();c.jqx.utilities.resize(this.host,null,true);var a=c.data(this.element,"jqxListBox");delete this.hScrollInstance;delete this.vScrollInstance;delete this.vScrollBar;delete this.hScrollBar;delete this.content;delete this.bottomRight;delete this.itemswrapper;delete this.visualItems;delete this.visibleItems;delete this.items;delete this.groups;delete this.renderedVisibleItems;delete this._mousewheelfunc;delete this._mousemovefunc;delete this._cachedItemHtml;delete this.itemsByValue;delete this._activeElement;delete this.source;delete this.events;if(this.input){this.input.remove();delete this.input}if(a){delete a.instance}this.host.removeData();this.host.removeClass();this.host.remove();this.element=null;delete this.element;this.host=null;delete this.set;delete this.get;delete this.call;delete this.host},_raiseEvent:function(h,o){if(this._stopEvents==true){return true}if(o==undefined){o={owner:null}}var n=this.events[h];args=o;args.owner=this;this._updateInputSelection();var l=new c.Event(n);l.owner=this;l.args=args;if(this.host!=null){var a=this.host.trigger(l)}return a}})})(jqxBaseFramework);(function(c){c.jqx.parseSourceTag=function(s){var t=new Array();var a=c(s).find("option");var E=c(s).find("optgroup");var u=false;if(a.length===0){a=c(s).find("li");if(a.length>0){u=true}}var C=null;var v=0;var C=-1;var w=this;var D=new Array();c.each(a,function(l){var h=E.find(this).length>0;var e=null;if(this.text!=null&&(this.label==null||this.label=="")){this.label=this.text}if(u===true){this.label=c(this).text();this.selected=c(this).attr("data-selected");this.checked=this.selected;this.value=c(this).attr("data-value")||l;this.disabled=c(this).attr("disabled")}var f={style:this.style.cssText,selected:this.selected,html:this.innerHTML,classes:this.className,disabled:this.disabled,value:this.value,label:this.label,title:this.title,originalItem:this};var d=c.jqx.browser.msie&&c.jqx.browser.version<8;if(d&&!u){if(f.value==""&&this.text!=null&&this.text.length>0){f.value=this.text}}if(h){e=E.find(this).parent()[0].label;f.group=e;if(!D[e]){D[e]=new Array();D.length++}D[e].push(f)}if(this.selected){C=l}f.checked=this.selected;if(f.label!==undefined){t.push(f)}});if(D.length>0){var q=new Array();for(var A in D){if(A==="indexOf"){continue}var z=null;for(var B=0;B<E.length;B++){if(A===E[B].label||E[B].text){z=E[B];break}}c.each(D[A],function(d,e){if(this.label!==undefined){q.push(this)}})}}if(q&&q.length>0){return{items:q,index:C}}else{return{items:t,index:C}}};c.jqx._jqxListBox.item=function(){var a={group:"",groupHtml:"",selected:false,isGroup:false,highlighted:false,value:null,label:"",html:null,visible:true,disabled:false,element:null,width:null,height:null,initialTop:null,top:null,left:null,title:"",index:-1,checkBoxElement:null,originalItem:null,checked:false,visibleIndex:-1};return a}})(jqxBaseFramework);(function(c){c.jqx.jqxWidget("jqxTree","",{});c.extend(c.jqx._jqxTree.prototype,{defineInstance:function(){var a={items:new Array(),width:null,height:null,easing:"easeInOutCirc",animationShowDuration:"fast",animationHideDuration:"fast",treeElements:new Array(),disabled:false,enableHover:true,keyboardNavigation:true,enableKeyboardNavigation:true,toggleMode:"dblclick",source:null,checkboxes:false,checkSize:13,toggleIndicatorSize:16,hasThreeStates:false,selectedItem:null,touchMode:"auto",allowDrag:true,allowDrop:true,searchMode:"startswithignorecase",incrementalSearch:true,incrementalSearchDelay:700,animationHideDelay:0,submitCheckedItems:false,dragStart:null,dragEnd:null,rtl:false,dropAction:"default",events:["expand","collapse","select","initialized","added","removed","checkChange","dragEnd","dragStart","itemClick"],aria:{"aria-activedescendant":{name:"getActiveDescendant",type:"string"},"aria-disabled":{name:"disabled",type:"boolean"}}};c.extend(true,this,a);return a},createInstance:function(l){var a=this;this.host.attr("role","tree");this.host.attr("data-role","treeview");this.enableKeyboardNavigation=this.keyboardNavigation;this.propertyChangeMap.disabled=function(o,e,n,d){if(a.disabled){a.host.addClass(a.toThemeProperty("jqx-tree-disabled"))}else{a.host.removeClass(a.toThemeProperty("jqx-tree-disabled"))}c.jqx.aria(a,"aria-disabled",d)};if(this.width!=null&&this.width.toString().indexOf("px")!=-1){this.host.width(this.width)}else{if(this.width!=undefined&&!isNaN(this.width)){this.host.width(this.width)}}if(this.height!=null&&this.height.toString().indexOf("px")!=-1){this.host.height(this.height)}else{if(this.height!=undefined&&!isNaN(this.height)){this.host.height(this.height)}}if(this.width!=null&&this.width.toString().indexOf("%")!=-1){this.host.width(this.width)}if(this.height!=null&&this.height.toString().indexOf("%")!=-1){this.host.height(this.height)}if(!this.host.attr("tabindex")){this.host.attr("tabIndex",1)}if(this.disabled){this.host.addClass(this.toThemeProperty("jqx-tree-disabled"));c.jqx.aria(this,"aria-disabled",true)}if(this.host.jqxDragDrop){jqxTreeDragDrop()}this.originalInnerHTML=this.element.innerHTML;this.createdTree=false;if(this.element.innerHTML.indexOf("UL")){var f=this.host.find("ul:first");if(f.length>0){this.createTree(f[0]);this.createdTree=true}}if(this.source!=null){var h=this.loadItems(this.source);this.element.innerHTML=h;var f=this.host.find("ul:first");if(f.length>0){this.createTree(f[0]);this.createdTree=true}}this._itemslength=this.items.length;if(!this.createdTree){if(this.host.find("ul").length==0){this.host.append(c("<ul></ul>"));var f=this.host.find("ul:first");if(f.length>0){this.createTree(f[0]);this.createdTree=true}this.createdTree=true}}if(this.createdTree==true){this._render();this._handleKeys()}this._updateCheckLayout()},checkItems:function(q,n){var s=this;if(q!=null){var t=0;var o=false;var a=0;var l=c(q.element).find("li");a=l.length;c.each(l,function(e){var d=s.itemMapping["id"+this.id].item;if(d.checked!=false){if(d.checked==null){o=true}t++}});if(q!=n){if(t==a){this.checkItem(q.element,true,"tree")}else{if(t>0){this.checkItem(q.element,null,"tree")}else{this.checkItem(q.element,false,"tree")}}}else{var u=n.checked;var l=c(n.element).find("li");c.each(l,function(){var d=s.itemMapping["id"+this.id].item;s.checkItem(this,u,"tree")})}this.checkItems(this._parentItem(q),n)}else{var u=n.checked;var l=c(n.element).find("li");c.each(l,function(){var d=s.itemMapping["id"+this.id].item;s.checkItem(this,u,"tree")})}},_getMatches:function(n,l){if(n==undefined||n.length==0){return -1}var q=this.items;var a=new Array();for(var o=0;o<q.length;o++){if(this._isVisible(q[o])&&!q[o].disabled){a.push(q[o])}}q=a;if(l!=undefined){q=q.slice(l)}var h=new Array();c.each(q,function(e){var d=this.label;if(!d){d=""}var f=c.jqx.string.startsWithIgnoreCase(d.toString(),n);if(f){h.push({id:this.id,element:this.element})}});return h},_handleKeys:function(){var a=this;this.addHandler(this.host,"keydown",function(J){var M=J.keyCode;if(a.keyboardNavigation||a.enableKeyboardNavigation){if(a.selectedItem!=null){var C=a.selectedItem.element;if(a.incrementalSearch&&(!(M>=33&&M<=40))){var L=-1;if(!a._searchString){a._searchString=""}if((M==8||M==46)&&a._searchString.length>=1){a._searchString=a._searchString.substr(0,a._searchString.length-1)}var F=String.fromCharCode(M);var z=(!isNaN(parseInt(F)));var A=false;if((M>=65&&M<=97)||z||M==8||M==32||M==46){if(!J.shiftKey){F=F.toLocaleLowerCase()}if(M!=8&&M!=32&&M!=46){if(!(a._searchString.length>0&&a._searchString.substr(0,1)==F)){a._searchString+=F}}if(M==32){a._searchString+=" "}a._searchTime=new Date();var u=a.selectedItem;if(u){var G=u.id;var B=-1;for(var D=0;D<a.items.length;D++){if(a.items[D].id==G){B=D+1;break}}var H=a._getMatches(a._searchString,B);if(H.length==0||(H.length>0&&H[0].id==G)){var H=a._getMatches(a._searchString)}}else{var H=a._getMatches(a._searchString)}if(H.length>0){var u=a.selectedItem;if(a.selectedItem&&a.selectedItem.id!=H[0].id){a.clearSelection();a.selectItem(H[0].element,"keyboard")}a._lastSearchString=a._searchString}}if(a._searchTimer!=undefined){clearTimeout(a._searchTimer)}if(M==27||M==13){a._searchString="";a._lastSearchString=""}a._searchTimer=setTimeout(function(){a._searchString="";a._lastSearchString=""},500);if(L>=0){return}if(A){return false}}switch(M){case 32:if(a.checkboxes){a.fromKey=true;var v=c(a.selectedItem.checkBoxElement).jqxCheckBox("checked");a.checkItem(a.selectedItem.element,!v,"tree");if(a.hasThreeStates){a.checkItems(a.selectedItem,a.selectedItem)}return false}return true;case 33:var E=a._getItemsOnPage();var w=a.selectedItem;for(var D=0;D<E;D++){w=a._prevVisibleItem(w)}if(w!=null){a.selectItem(w.element,"keyboard");a.ensureVisible(w.element)}else{a.selectItem(a._firstItem().element,"keyboard");a.ensureVisible(a._firstItem().element)}return false;case 34:var E=a._getItemsOnPage();var K=a.selectedItem;for(var D=0;D<E;D++){K=a._nextVisibleItem(K)}if(K!=null){a.selectItem(K.element,"keyboard");a.ensureVisible(K.element)}else{a.selectItem(a._lastItem().element,"keyboard");a.ensureVisible(a._lastItem().element)}return false;case 37:case 39:if((M==37&&!a.rtl)||(M==39&&a.rtl)){if(a.selectedItem.hasItems&&a.selectedItem.isExpanded){a.collapseItem(C)}else{var I=a._parentItem(a.selectedItem);if(I!=null){a.selectItem(I.element,"keyboard");a.ensureVisible(I.element)}}}if((M==39&&!a.rtl)||(M==37&&a.rtl)){if(a.selectedItem.hasItems){if(!a.selectedItem.isExpanded){a.expandItem(C)}else{var K=a._nextVisibleItem(a.selectedItem);if(K!=null){a.selectItem(K.element,"keyboard");a.ensureVisible(K.element)}}}}return false;case 13:if(a.selectedItem.hasItems){if(a.selectedItem.isExpanded){a.collapseItem(C)}else{a.expandItem(C)}}return false;case 36:a.selectItem(a._firstItem().element,"keyboard");a.ensureVisible(a._firstItem().element);return false;case 35:a.selectItem(a._lastItem().element,"keyboard");a.ensureVisible(a._lastItem().element);return false;case 38:var w=a._prevVisibleItem(a.selectedItem);if(w!=null){a.selectItem(w.element,"keyboard");a.ensureVisible(w.element)}return false;case 40:var K=a._nextVisibleItem(a.selectedItem);if(K!=null){a.selectItem(K.element,"keyboard");a.ensureVisible(K.element)}return false}}}})},_firstItem:function(){var n=null;var o=this;var h=this.host.find("ul:first");var l=c(h).find("li");for(i=0;i<=l.length-1;i++){var a=l[i];n=this.itemMapping["id"+a.id].item;if(o._isVisible(n)){return n}}return null},_lastItem:function(){var n=null;var o=this;var h=this.host.find("ul:first");var l=c(h).find("li");for(i=l.length-1;i>=0;i--){var a=l[i];n=this.itemMapping["id"+a.id].item;if(o._isVisible(n)){return n}}return null},_parentItem:function(e){if(e==null||e==undefined){return null}var f=e.parentElement;if(!f){return null}var a=null;c.each(this.items,function(){if(this.element==f){a=this;return false}});return a},_nextVisibleItem:function(d){if(d==null||d==undefined){return null}var a=d;while(a!=null){a=a.nextItem;if(this._isVisible(a)&&!a.disabled){return a}}return null},_prevVisibleItem:function(d){if(d==null||d==undefined){return null}var a=d;while(a!=null){a=a.prevItem;if(this._isVisible(a)&&!a.disabled){return a}}return null},_isVisible:function(d){if(d==null||d==undefined){return false}if(!this._isElementVisible(d.element)){return false}var a=this._parentItem(d);if(a==null){return true}if(a!=null){if(!this._isElementVisible(a.element)){return false}if(a.isExpanded){while(a!=null){a=this._parentItem(a);if(a!=null&&!this._isElementVisible(a.element)){return false}if(a!=null&&!a.isExpanded){return false}}}else{return false}}return true},_getItemsOnPage:function(){var n=0;var o=this.panel.jqxPanel("getVScrollPosition");var a=parseInt(this.host.height());var h=0;var l=this._firstItem();if(parseInt(c(l.element).height())>0){while(h<=a){h+=parseInt(c(l.element).outerHeight());n++}}return n},_isElementVisible:function(a){if(a==null){return false}if(c(a).css("display")!="none"&&c(a).css("visibility")!="hidden"){return true}return false},refresh:function(d){if(this.width!=null&&this.width.toString().indexOf("px")!=-1){this.host.width(this.width)}else{if(this.width!=undefined&&!isNaN(this.width)){this.host.width(this.width)}}if(this.height!=null&&this.height.toString().indexOf("px")!=-1){this.host.height(this.height)}else{if(this.height!=undefined&&!isNaN(this.height)){this.host.height(this.height)}}if(this.panel){if(this.width!=null&&this.width.toString().indexOf("%")!=-1){var a=this;this.panel.jqxPanel("width","100%");a.removeHandler(c(window),"resize.jqxtree"+a.element.id);a.addHandler(c(window),"resize.jqxtree"+a.element.id,function(){a._calculateWidth()})}else{this.panel.jqxPanel("width",this.host.width())}this.panel.jqxPanel("_arrange")}this._calculateWidth();if(c.jqx.isHidden(this.host)){var a=this;if(this._hiddenTimer){clearInterval(this._hiddenTimer)}this._hiddenTimer=setInterval(function(){if(!c.jqx.isHidden(a.host)){clearInterval(a._hiddenTimer);a._calculateWidth()}},100)}if(d!=true){if(this.checkboxes){this._updateCheckLayout(null)}}},resize:function(d,a){this.width=d;this.height=a;this.refresh()},loadItems:function(f){if(f==null){return}var a=this;this.items=new Array();var e="<ul>";c.map(f,function(d){if(d==undefined){return null}e+=a._parseItem(d)});e+="</ul>";return e},_parseItem:function(a){var t="";if(a==undefined){return null}var o=a.label;if(!a.label&&a.html){o=a.html}if(!o){o="Item"}if(typeof a==="string"){o=a}var s=false;if(a.expanded!=undefined&&a.expanded){s=true}var u=false;if(a.locked!=undefined&&a.locked){u=true}var w=false;if(a.selected!=undefined&&a.selected){w=true}var v=false;if(a.disabled!=undefined&&a.disabled){v=true}var n=false;if(a.checked!=undefined&&a.checked){n=true}var q=a.icon;var z=a.iconsize;t+="<li";if(s){t+=' item-expanded="true" '}if(u){t+=' item-locked="true" '}if(v){t+=' item-disabled="true" '}if(w){t+=' item-selected="true" '}if(z){t+=' item-iconsize="'+a.iconsize+'" '}if(q!=null&&q!=undefined){t+=' item-icon="'+q+'" '}if(a.label&&!a.html){t+=' item-label="'+o+'" '}if(a.value!=null){t+=' item-value="'+a.value+'" '}if(a.checked!=undefined){t+=' item-checked="'+n+'" '}var A="";if(a.id!=undefined){A=a.id;t+=' id="'+A+'" '}else{A=this.createID();t+=' id="'+A+'" '}t+=">"+o;if(a.items){t+=this.loadItems(a.items)}if(!this._valueList){this._valueList=new Array()}this._valueList[A]=a.value;t+="</li>";return t},ensureVisible:function(n){if(n==null||n==undefined){return}var o=this.panel.jqxPanel("getVScrollPosition");var l=this.panel.jqxPanel("getHScrollPosition");var a=parseInt(this.host.height());var h=c(n).position().top;if(h<=o||h>=a+o){this.panel.jqxPanel("scrollTo",l,h-a+c(n).outerHeight())}},_syncItems:function(d){this._visibleItems=new Array();var a=this;c.each(d,function(){var l=c(this);if(l.css("display")!="none"){var n=l.outerHeight();if(l.height()>0){var h=parseInt(l.offset().top);a._visibleItems[a._visibleItems.length]={element:this,top:h,height:n,bottom:h+n}}}})},hitTest:function(n,o){var t=this;var a=this;var q=null;var s=this.host.find(".jqx-item");this._syncItems(s);if(a._visibleItems){var u=parseInt(a.host.offset().left);var l=a.host.outerWidth();c.each(a._visibleItems,function(d){if(n>=u&&n<u+l){if(this.top+5<o&&o<this.top+this.height){var e=c(this.element).parents("li:first");if(e.length>0){q=a.getItem(e[0]);if(q!=null){q.height=this.height;q.top=this.top;return false}}}}})}return q},addBefore:function(a,e,f){return this.addBeforeAfter(a,e,true,f)},addAfter:function(a,e,f){return this.addBeforeAfter(a,e,false,f)},addBeforeAfter:function(u,a,s,v){var z=this;var w=new Array();if(a&&a.treeInstance!=undefined){a=a.element}if(!c.isArray(u)){w[0]=u}else{w=u}var C="";var t=this;c.each(w,function(){C+=t._parseItem(this)});var H=c(C);if(z.element.innerHTML.indexOf("UL")){var B=z.host.find("ul:first")}if(a==undefined&&a==null){B.append(H)}else{if(s){c(a).before(H)}else{c(a).after(H)}}var F=H;for(var A=0;A<F.length;A++){this._createItem(F[A]);var G=c(F[A]).find("li");if(G.length>0){for(var D=0;D<G.length;D++){this._createItem(G[D])}}}var E=function(d){t._refreshMapping(false);t._updateItemsNavigation();if(d&&t.allowDrag&&t._enableDragDrop){t._enableDragDrop()}if(t.selectedItem!=null){c(t.selectedItem.titleElement).addClass(t.toThemeProperty("jqx-fill-state-pressed"));c(t.selectedItem.titleElement).addClass(t.toThemeProperty("jqx-tree-item-selected"))}};if(v==false){E(true);this._raiseEvent("4",{items:this.getItems()});return}E(false);t._render();this._raiseEvent("4",{items:this.getItems()});if(t.checkboxes){t._updateCheckLayout(null)}},addTo:function(u,L,v){var z=this;var w=new Array();if(L&&L.treeInstance!=undefined){L=L.element}if(!c.isArray(u)){w[0]=u}else{w=u}var C="";var a=this;c.each(w,function(){C+=a._parseItem(this)});var J=c(C);if(z.element.innerHTML.indexOf("UL")){var B=z.host.find("ul:first")}if(L==undefined&&L==null){B.append(J)}else{L=c(L);var G=L.find("ul:first");if(G.length==0){ulElement=c("<ul></ul>");c(L).append(ulElement);G=L.find("ul:first");var K=z.itemMapping["id"+L[0].id].item;K.subtreeElement=G[0];K.hasItems=true;G.addClass(z.toThemeProperty("jqx-tree-dropdown"));if(a.rtl){G.addClass(z.toThemeProperty("jqx-tree-dropdown-rtl"))}G.append(J);var D=G.find("li:first");K.parentElement=D}else{G.append(J)}}var H=J;for(var A=0;A<H.length;A++){this._createItem(H[A]);var I=c(H[A]).find("li");if(I.length>0){for(var E=0;E<I.length;E++){this._createItem(I[E])}}}var F=function(d){a._refreshMapping(false);a._updateItemsNavigation();if(d&&a.allowDrag&&a._enableDragDrop){a._enableDragDrop()}if(a.selectedItem!=null){c(a.selectedItem.titleElement).addClass(a.toThemeProperty("jqx-fill-state-pressed"));c(a.selectedItem.titleElement).addClass(a.toThemeProperty("jqx-tree-item-selected"))}};if(v==false){F(true);this._raiseEvent("4",{items:this.getItems()});return}F(false);a._render();if(a.checkboxes){a._updateCheckLayout(null)}this._raiseEvent("4",{items:this.getItems()})},updateItem:function(s,l){var n=s.treeInstance!=undefined?s:this.getItem(s);if(!n){var t=s;s=l;l=t;var n=s.treeInstance!=undefined?s:this.getItem(s)}if(n){if(typeof(l)==="string"){l={label:l}}if(l.value){n.value=l.value}if(l.label){n.label=l.label;c.jqx.utilities.html(c(n.titleElement),l.label);var a=c.jqx.browser.msie&&c.jqx.browser.version<8;if(a){c(document.body).append(this._measureItem);this._measureItem.html(c(n.titleElement).text());var o=this._measureItem.width();if(n.icon){o+=20}if(c(c(n.titleElement).find("img")).length>0){o+=20}c(n.titleElement).css("max-width",o+"px");this._measureItem.remove()}}if(l.icon){if(c(n.element).children(".itemicon").length>0){c(n.element).find(".itemicon")[0].src=l.icon}else{var u=l.iconsize;if(!u){u=16}var q=c('<img width="'+u+'" height="'+u+'" style="float: left;" class="itemicon" src="'+l.icon+'"/>');c(n.titleElement).prepend(q);q.css("margin-right","4px");if(this.rtl){q.css("margin-right","0px");q.css("margin-left","4px");q.css("float","right")}}}if(l.expanded){this.expandItem(n)}if(l.disabled){this.disableItem(n)}if(l.selected){this.selectItem(n)}return true}return false},removeItem:function(a,s){if(a==undefined||a==null){return}if(a.treeInstance!=undefined){a=a.element}var q=this;var l=a.id;var t=-1;var o=this.getItem(a);if(o){t=this.items.indexOf(o);if(t!=-1){(function n(u){var w=-1;w=this.items.indexOf(u);if(w!=-1){this.items.splice(w,1)}var f=c(u.element).find("li");var h=f.length;var v=this;var e=new Array();if(h>0){c.each(f,function(A){var z=v.itemMapping["id"+this.id].item;e.push(z)});for(var d=0;d<e.length;d++){n.apply(this,[e[d]])}}}).apply(this,[o])}}if(this.host.find("#"+a.id).length>0){c(a).remove()}if(s==false){this._raiseEvent("5");return}q._updateItemsNavigation();if(q.allowDrag&&q._enableDragDrop){q._render(true,false)}else{q._render()}if(q.selectedItem!=null){if(q.selectedItem.element==a){c(q.selectedItem.titleElement).removeClass(q.toThemeProperty("jqx-fill-state-pressed"));c(q.selectedItem.titleElement).removeClass(q.toThemeProperty("jqx-tree-item-selected"));q.selectedItem=null}}this._raiseEvent("5");if(q.checkboxes){q._updateCheckLayout(null)}},clear:function(){this.items=new Array();this.itemMapping=new Array();var a=this.host.find("ul:first");if(a.length>0){a[0].innerHTML=""}this.selectedItem=null},disableItem:function(a){if(a==null){return false}if(a.treeInstance!=undefined){a=a.element}var d=this;c.each(d.items,function(){var e=this;if(e.element==a){e.disabled=true;c(e.titleElement).addClass(d.toThemeProperty("jqx-fill-state-disabled"));c(e.titleElement).addClass(d.toThemeProperty("jqx-tree-item-disabled"));if(d.checkboxes&&e.checkBoxElement){c(e.checkBoxElement).jqxCheckBox({disabled:true})}return false}})},_updateInputSelection:function(){if(this.input){if(this.selectedItem==null){this.input.val("")}else{var o=this.selectItem.value;if(o==null){o=this.selectedItem.label}this.input.val(o)}if(this.checkboxes){var a=this.getCheckedItems();if(this.submitCheckedItems){var h="";for(var n=0;n<a.length;n++){var l=a[n].value;if(l==null){l=a[n].label}if(n==a.length-1){h+=l}else{h+=l+","}}this.input.val(h)}}}},getCheckedItems:function(){var a=new Array();var d=this;c.each(d.items,function(){var e=this;if(e.checked){a.push(e)}});return a},getUncheckedItems:function(){var a=new Array();var d=this;c.each(d.items,function(){var e=this;if(!e.checked){a.push(e)}});return a},checkAll:function(){var a=this;c.each(a.items,function(){var d=this;if(!d.disabled){d.checked=true;c(d.checkBoxElement).jqxCheckBox("_setState",true)}});this._raiseEvent("6",{element:this,checked:true})},uncheckAll:function(){var a=this;c.each(a.items,function(){var d=this;if(!d.disabled){d.checked=false;c(d.checkBoxElement).jqxCheckBox("_setState",false)}});this._raiseEvent("6",{element:this,checked:false})},checkItem:function(o,l,a){if(o==null){return false}if(l===undefined){l=true}if(o.treeInstance!=undefined){o=o.element}var n=this;var q=false;var h=null;c.each(n.items,function(){var d=this;if(d.element==o&&!d.disabled){q=true;d.checked=l;h=d;c(d.checkBoxElement).jqxCheckBox({checked:l});return false}});if(q){this._raiseEvent("6",{element:o,checked:l});this._updateInputSelection()}if(a==undefined){if(h){if(this.hasThreeStates){this.checkItems(h,h)}}}},uncheckItem:function(a){this.checkItem(a,false)},enableItem:function(a){if(a==null){return false}if(a.treeInstance!=undefined){a=a.element}var d=this;c.each(d.items,function(){var e=this;if(e.element==a){e.disabled=false;c(e.titleElement).removeClass(d.toThemeProperty("jqx-fill-state-disabled"));c(e.titleElement).removeClass(d.toThemeProperty("jqx-tree-item-disabled"));if(d.checkboxes&&e.checkBoxElement){c(e.checkBoxElement).jqxCheckBox({disabled:false})}return false}})},enableAll:function(){var a=this;c.each(a.items,function(){var d=this;d.disabled=false;c(d.titleElement).removeClass(a.toThemeProperty("jqx-tree-item-disabled"));c(d.titleElement).removeClass(a.toThemeProperty("jqx-fill-state-disabled"));if(a.checkboxes&&d.checkBoxElement){c(d.checkBoxElement).jqxCheckBox({disabled:false})}})},lockItem:function(a){if(a==null){return false}var d=this;c.each(d.items,function(){var e=this;if(e.element==a){e.locked=true;return false}})},unlockItem:function(a){if(a==null){return false}var d=this;c.each(d.items,function(){var e=this;if(e.element==a){e.locked=false;return false}})},getItems:function(){return this.items},getItem:function(a){if(a==null||a==undefined){return null}if(this.itemMapping["id"+a.id]){var d=this.itemMapping["id"+a.id].item;return d}return null},isExpanded:function(a){if(a==null||a==undefined){return false}var d=this.itemMapping["id"+a.id].item;if(d!=null){return d.isExpanded}return false},isSelected:function(a){if(a==null||a==undefined){return false}var d=this.itemMapping["id"+a.id].item;if(d!=null){return d==this.selectedItem}return false},getPrevItem:function(f){var e=this.getItem(f);if(f.treeInstance!=undefined){e=f}var a=this._prevVisibleItem(e);return a},getNextItem:function(f){var e=this.getItem(f);if(f.treeInstance!=undefined){e=f}var a=this._nextVisibleItem(e);return a},getSelectedItem:function(a){return this.selectedItem},val:function(e){if(arguments.length==0||typeof(e)=="object"){return this.selectedItem}if(typeof e=="string"){var a=this.host.find("#"+e);if(a.length>0){var f=this.getItem(a[0]);this.selectItem(f)}}else{var f=this.getItem(e);this.selectItem(f)}},getActiveDescendant:function(){if(this.selectedItem){return this.selectedItem.element.id}return""},clearSelection:function(){this.selectItem(null)},selectItem:function(a,l){if(this.disabled){return}var h=this;if(a&&a.treeInstance!=undefined){a=a.element}if(a==null||a==undefined){if(h.selectedItem!=null){c(h.selectedItem.titleElement).removeClass(h.toThemeProperty("jqx-fill-state-pressed"));c(h.selectedItem.titleElement).removeClass(h.toThemeProperty("jqx-tree-item-selected"));h.selectedItem=null}return}if(this.selectedItem!=null&&this.selectedItem.element==a){return}var f=this.selectedItem!=null?this.selectedItem.element:null;if(f){c(f).removeAttr("aria-selected")}c.each(h.items,function(){var d=this;this.selected=false;if(!d.disabled){if(d.element==a){if(h.selectedItem==null||(h.selectedItem!=null&&h.selectedItem.titleElement!=d.titleElement)){if(h.selectedItem!=null){c(h.selectedItem.titleElement).removeClass(h.toThemeProperty("jqx-fill-state-pressed"));c(h.selectedItem.titleElement).removeClass(h.toThemeProperty("jqx-tree-item-selected"))}c(d.titleElement).addClass(h.toThemeProperty("jqx-fill-state-pressed"));c(d.titleElement).addClass(h.toThemeProperty("jqx-tree-item-selected"));h.selectedItem=d;this.selected=true;c(d.element).attr("aria-selected","true");c.jqx.aria(h,"aria-activedescendant",d.element.id)}}}});this._updateInputSelection();if(!l){l=null}this._raiseEvent("2",{element:a,prevElement:f,type:l})},collapseAll:function(){this.isUpdating=true;var e=this;var a=e.items;var f=this.animationHideDuration;this.animationHideDuration=0;c.each(a,function(){var d=this;if(d.isExpanded==true){e._collapseItem(e,d)}});setTimeout(function(){e.isUpdating=false;e._calculateWidth()},this.animationHideDuration);this.animationHideDuration=f},expandAll:function(){var d=this;this.isUpdating=true;var a=this.animationShowDuration;this.animationShowDuration=0;c.each(this.items,function(){var e=this;if(e.hasItems){d._expandItem(d,e)}});setTimeout(function(){d.isUpdating=false;d._calculateWidth()},this.animationShowDuration);this.animationShowDuration=a},collapseItem:function(a){if(a==null){return false}if(a.treeInstance!=undefined){a=a.element}var d=this;c.each(this.items,function(){var e=this;if(e.isExpanded==true&&e.element==a){d._collapseItem(d,e);return false}});return true},expandItem:function(a){if(a==null){return false}if(a.treeInstance!=undefined){a=a.element}var d=this;c.each(d.items,function(){var e=this;if(e.isExpanded==false&&e.element==a&&!e.disabled&&!e.locked){d._expandItem(d,e);if(e.parentElement){d.expandItem(e.parentElement)}}});return true},_getClosedSubtreeOffset:function(l){var a=c(l.subtreeElement);var f=-a.outerHeight();var h=-a.outerWidth();h=0;return{left:h,top:f}},_collapseItem:function(s,n,v,z){if(s==null||n==null){return false}if(n.disabled){return false}if(s.disabled){return false}if(s.locked){return false}var u=c(n.subtreeElement);var a=this._getClosedSubtreeOffset(n);var q=a.top;var w=a.left;$treeElement=c(n.element);var t=s.animationHideDelay;t=0;if(u.data("timer").show!=null){clearTimeout(u.data("timer").show);u.data("timer").show=null}var o=function(){n.isExpanded=false;if(s.checkboxes){var e=u.find(".chkbox");e.stop();e.css("opacity",1);u.find(".chkbox").animate({opacity:0},50)}var d=c(n.arrow);s._arrowStyle(d,"",n.isExpanded);u.slideUp(s.animationHideDuration,function(){n.isCollapsing=false;s._calculateWidth();var f=c(n.arrow);s._arrowStyle(f,"",n.isExpanded);u.hide();s._raiseEvent("1",{element:n.element})})};if(t>0){u.data("timer").hide=setTimeout(function(){o()},t)}else{o()}},_expandItem:function(o,a){if(o==null||a==null){return false}if(a.isExpanded){return false}if(a.locked){return false}if(a.disabled){return false}if(o.disabled){return false}var s=c(a.subtreeElement);if((s.data("timer"))!=null&&s.data("timer").hide!=null){clearTimeout(s.data("timer").hide)}var l=c(a.element);var n=0;var t=0;if(parseInt(s.css("top"))==n){a.isExpanded=true;return}var u=c(a.arrow);o._arrowStyle(u,"",a.isExpanded);if(o.checkboxes){var q=s.find(".chkbox");q.stop();q.css("opacity",0);q.animate({opacity:1},o.animationShowDuration)}s.slideDown(o.animationShowDuration,o.easing,function(){var d=c(a.arrow);a.isExpanded=true;o._arrowStyle(d,"",a.isExpanded);a.isExpanding=false;o._raiseEvent("0",{element:a.element});o._calculateWidth()});if(o.checkboxes){o._updateCheckItemLayout(a);if(a.subtreeElement){var v=c(a.subtreeElement).find("li");c.each(v,function(){var d=o.getItem(this);if(d!=null){o._updateCheckItemLayout(d)}})}}},_calculateWidth:function(){var l=this;var h=this.checkboxes?20:0;var n=0;if(this.isUpdating){return}c.each(this.items,function(){var s=c(this.element).height();if(s!=0){var d=c(this.titleElement).outerWidth()+10+h+(1+this.level)*20;n=Math.max(n,d);if(this.hasItems){var f=parseInt(c(this.titleElement).css("padding-top"));if(isNaN(f)){f=0}f=f*2;f+=2;var e=(f+c(this.titleElement).height())/2-17/2;if(c.jqx.browser.msie&&c.jqx.browser.version<9){c(this.arrow).css("margin-top","3px")}else{if(parseInt(e)>=0){c(this.arrow).css("margin-top",parseInt(e)+"px")}}}}});if(this.toggleIndicatorSize>16){n=n+this.toggleIndicatorSize-16}if(l.panel){if(n>this.host.width()){var a=n-this.host.width();var o=l.panel.jqxPanel("vScrollBar").css("visibility")!=="hidden"?10:0;a+=o;l.panel.jqxPanel({horizontalScrollBarMax:a})}else{l.panel.jqxPanel({horizontalScrollBarMax:0})}}this.host.find("ul:first").width(n);var q=this.host.width()-30;if(q>0){this.host.find("ul:first").css("min-width",q)}if(l.panel){l.panel.jqxPanel("_arrange")}},_arrowStyle:function(t,l,a){var q=this;if(t.length>0){t.removeClass();var n="";if(l=="hover"){n="-"+l}var o=a?"-expand":"-collapse";var s="jqx-tree-item-arrow"+o+n;t.addClass(q.toThemeProperty(s));if(!this.rtl){var o=!a?"-right":"-down";t.addClass(q.toThemeProperty("jqx-icon-arrow"+o+""))}if(this.rtl){t.addClass(q.toThemeProperty(s+"-rtl"));var o=!a?"-left":"-down";t.addClass(q.toThemeProperty("jqx-icon-arrow"+o+""))}}},_initialize:function(h,o){var l=this;var n=0;this.host.addClass(l.toThemeProperty("jqx-widget"));this.host.addClass(l.toThemeProperty("jqx-widget-content"));this.host.addClass(l.toThemeProperty("jqx-tree"));this._updateDisabledState();var a=c.jqx.browser.msie&&c.jqx.browser.version<8;c.each(this.items,function(){var d=this;$element=c(d.element);var f=null;if(l.checkboxes&&!d.hasItems&&d.checkBoxElement){c(d.checkBoxElement).css("margin-left","0px")}if(!a){if(!d.hasItems){if(!l.rtl){d.element.style.marginLeft=parseInt(l.toggleIndicatorSize)+"px"}else{d.element.style.marginRight=parseInt(l.toggleIndicatorSize)+"px"}var q=c(d.arrow);if(q.length>0){q.remove();d.arrow=null}return true}else{if(!l.rtl){d.element.style.marginLeft="0px"}else{d.element.style.marginRight="0px"}}}else{if(!d.hasItems&&c(d.element).find("ul").length>0){c(d.element).find("ul").remove()}}var q=c(d.arrow);if(q.length>0){q.remove()}f=c('<span style="height: 17px; border: none; background-color: transparent;" id="arrow'+$element[0].id+'"></span>');f.prependTo($element);if(!l.rtl){f.css("float","left")}else{f.css("float","right")}f.css("clear","both");f.width(l.toggleIndicatorSize);l._arrowStyle(f,"",d.isExpanded);var e=parseInt(c(this.titleElement).css("padding-top"));if(isNaN(e)){e=0}e=e*2;e+=2;var u=(e+c(this.titleElement).height())/2-17/2;if(c.jqx.browser.msie&&c.jqx.browser.version<9){f.css("margin-top","3px")}else{if(parseInt(u)>=0){f.css("margin-top",parseInt(u)+"px")}}$element.addClass(l.toThemeProperty("jqx-disableselect"));f.addClass(l.toThemeProperty("jqx-disableselect"));var t="click";var s=l.isTouchDevice();if(s){t=c.jqx.mobile.getTouchEventName("touchend")}l.addHandler(f,t,function(){if(!d.isExpanded){l._expandItem(l,d)}else{l._collapseItem(l,d)}return false});l.addHandler(f,"selectstart",function(){return false});l.addHandler(f,"mouseup",function(){if(!s){return false}});d.hasItems=c(d.element).find("li").length>0;d.arrow=f[0];if(!d.hasItems){f.css("visibility","hidden")}$element.css("float","none")})},_getOffset:function(a){var o=c(window).scrollTop();var l=c(window).scrollLeft();var t=c.jqx.mobile.isSafariMobileBrowser();var n=c(a).offset();var q=n.top;var s=n.left;if(t!=null&&t){return{left:s-l,top:q-o}}else{return c(a).offset()}},_renderHover:function(o,l,a){var n=this;if(!a){var h=c(l.titleElement);n.addHandler(h,"mouseenter",function(){if(!l.disabled&&n.enableHover&&!n.disabled){h.addClass(n.toThemeProperty("jqx-fill-state-hover"));h.addClass(n.toThemeProperty("jqx-tree-item-hover"))}});n.addHandler(h,"mouseleave",function(){if(!l.disabled&&n.enableHover&&!n.disabled){h.removeClass(n.toThemeProperty("jqx-fill-state-hover"));h.removeClass(n.toThemeProperty("jqx-tree-item-hover"))}})}},_updateDisabledState:function(){if(this.disabled){this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"))}else{this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled"))}},_addInput:function(){if(this.input==null){var a=this.host.attr("name");if(a){this.host.attr("name","")}this.input=c("<input type='hidden'/>");this.host.append(this.input);this.input.attr("name",a);this._updateInputSelection()}},render:function(){this._updateItemsNavigation();this._render()},_render:function(q,l){if(c.jqx.browser.msie&&c.jqx.browser.version<8){var o=this;c.each(this.items,function(){var w=c(this.element);var f=w.parent();var d=parseInt(this.titleElement.css("margin-left"))+this.titleElement[0].scrollWidth+13;w.css("min-width",d);var h=parseInt(f.css("min-width"));if(isNaN(h)){h=0}var e=w.css("min-width");if(h<parseInt(w.css("min-width"))){f.css("min-width",e)}this.titleElement[0].style.width=null})}var n=1000;var u=[5,5];var o=this;c.data(o.element,"animationHideDelay",o.animationHideDelay);c.data(document.body,"treeel",this);this._initialize();var t=this.isTouchDevice();if(t&&this.toggleMode=="dblclick"){this.toggleMode="click"}if(q==undefined||q==true){c.each(this.items,function(){o._updateItemEvents(o,this)})}if(this.allowDrag&&this._enableDragDrop&&(l==undefined||l==true)){this._enableDragDrop()}this._addInput();if(this.host.jqxPanel){if(this.host.find("#panel"+this.element.id).length>0){this.panel.jqxPanel({touchMode:this.touchMode});this.panel.jqxPanel("refresh");return}this.host.find("ul:first").wrap('<div style="background-color: transparent; overflow: hidden; width: 100%; height: 100%;" id="panel'+this.element.id+'"></div>');var v=this.host.find("div:first");var a="fixed";if(this.height==null||this.height=="auto"){a="verticalwrap"}if(this.width==null||this.width=="auto"){if(a=="fixed"){a="horizontalwrap"}else{a="wrap"}}v.jqxPanel({rtl:this.rtl,theme:this.theme,width:"100%",height:"100%",touchMode:this.touchMode,sizeMode:a});if(c.jqx.browser.msie&&c.jqx.browser.version<8){v.jqxPanel("content").css("left","0px")}v.data({nestedWidget:true});if(this.height==null||(this.height!=null&&this.height.toString().indexOf("%")!=-1)){if(this.isTouchDevice()){this.removeHandler(v,c.jqx.mobile.getTouchEventName("touchend")+".touchScroll touchcancel.touchScroll");this.removeHandler(v,c.jqx.mobile.getTouchEventName("touchmove")+".touchScroll");this.removeHandler(v,c.jqx.mobile.getTouchEventName("touchstart")+".touchScroll")}}var s=c.data(v[0],"jqxPanel").instance;if(s!=null){this.vScrollInstance=s.vScrollInstance;this.hScrollInstance=s.hScrollInstance}this.panelInstance=s;if(c.jqx.browser.msie&&c.jqx.browser.version<8){this.host.attr("hideFocus",true);this.host.find("div").attr("hideFocus",true);this.host.find("ul").attr("hideFocus",true)}v[0].className="";this.panel=v}this._raiseEvent("3",this)},focus:function(){try{this.host.focus()}catch(a){}},_updateItemEvents:function(n,a){var v=this.isTouchDevice();if(v){this.toggleMode=c.jqx.mobile.getTouchEventName("touchend")}var l=c(a.element);if(n.enableRoundedCorners){l.addClass(n.toThemeProperty("jqx-rc-all"))}var s=!v?"mousedown":c.jqx.mobile.getTouchEventName("touchend");if(n.touchMode===true){n.removeHandler(c(a.checkBoxElement),"mousedown")}n.removeHandler(c(a.checkBoxElement),s);n.addHandler(c(a.checkBoxElement),s,function(d){if(!n.disabled){if(!this.treeItem.disabled){this.treeItem.checked=!this.treeItem.checked;n.checkItem(this.treeItem.element,this.treeItem.checked,"tree");if(n.hasThreeStates){n.checkItems(this.treeItem,this.treeItem)}}}return false});var u=c(a.titleElement);n.removeHandler(l);var q=this.allowDrag&&this._enableDragDrop;if(!q){n.removeHandler(u)}else{n.removeHandler(u,"mousedown.item");n.removeHandler(u,"click");n.removeHandler(u,"dblclick");n.removeHandler(u,"mouseenter");n.removeHandler(u,"mouseleave")}n._renderHover(l,a,v);var t=c(a.subtreeElement);if(t.length>0){var o=a.isExpanded?"block":"none";t.css({overflow:"hidden",display:o});t.data("timer",{})}n.addHandler(u,"selectstart",function(d){return false});if(c.jqx.browser.opera){n.addHandler(u,"mousedown.item",function(d){return false})}if(n.toggleMode!="click"){n.addHandler(u,"click",function(d){n.selectItem(a.element,"mouse");if(n.panel!=null){n.panel.jqxPanel({focused:true})}u.focus();n._raiseEvent("9",{element:a.element})})}n.addHandler(u,n.toggleMode,function(d){if(t.length>0){clearTimeout(t.data("timer").hide)}if(n.panel!=null){n.panel.jqxPanel({focused:true})}n.selectItem(a.element,"mouse");if(a.isExpanding==undefined){a.isExpanding=false}if(a.isCollapsing==undefined){a.isCollapsing=false}if(t.length>0){if(!a.isExpanded){if(false==a.isExpanding){a.isExpanding=true;n._expandItem(n,a)}}else{if(false==a.isCollapsing){a.isCollapsing=true;n._collapseItem(n,a,true)}}return false}})},isTouchDevice:function(){if(this._isTouchDevice!=undefined){return this._isTouchDevice}var a=c.jqx.mobile.isTouchDevice();if(this.touchMode==true){a=true}else{if(this.touchMode==false){a=false}}this._isTouchDevice=a;return a},createID:function(){return c.jqx.utilities.createId()},createTree:function(a){if(a==null){return}var n=this;var h=c(a).find("li");var o=0;this.items=new Array();this.itemMapping=new Array();c(a).addClass(n.toThemeProperty("jqx-tree-dropdown-root"));if(this.rtl){c(a).addClass(n.toThemeProperty("jqx-tree-dropdown-root-rtl"))}if(this.rtl||c.jqx.browser.msie&&c.jqx.browser.version<8){this._measureItem=c("<span style='position: relative; visibility: hidden;'></span>");this._measureItem.addClass(this.toThemeProperty("jqx-widget"));this._measureItem.addClass(this.toThemeProperty("jqx-fill-state-normal"));this._measureItem.addClass(this.toThemeProperty("jqx-tree-item"));this._measureItem.addClass(this.toThemeProperty("jqx-item"));c(document.body).append(this._measureItem)}if(c.jqx.browser.msie&&c.jqx.browser.version<8){}for(var l=0;l<h.length;l++){this._createItem(h[l])}if(this.rtl||c.jqx.browser.msie&&c.jqx.browser.version<8){this._measureItem.remove()}this._updateItemsNavigation();this._updateCheckStates()},_updateCheckLayout:function(d){var a=this;if(!this.checkboxes){return}c.each(this.items,function(){if(this.level==d||d==undefined){a._updateCheckItemLayout(this)}})},_updateCheckItemLayout:function(a){if(this.checkboxes){if(c(a.titleElement).css("display")!="none"){var f=c(a.checkBoxElement);var e=c(a.titleElement).outerHeight()/2-1-parseInt(this.checkSize)/2;f.css("margin-top",e);if(!this.rtl){if(c.jqx.browser.msie&&c.jqx.browser.version<8){a.titleElement.css("margin-left",parseInt(this.checkSize)+25)}else{if(a.hasItems){f.css("margin-left",this.toggleIndicatorSize)}}}}}},_updateCheckStates:function(){var a=this;if(a.hasThreeStates){c.each(this.items,function(){a._updateCheckState(this)})}else{c.each(this.items,function(){if(this.checked==null){a.checkItem(this.element,false,"tree")}})}},_updateCheckState:function(n){if(n==null||n==undefined){return}var o=this;var q=0;var l=false;var a=0;var h=c(n.element).find("li");a=h.length;if(n.checked&&a>0){c.each(h,function(f){var d=o.itemMapping["id"+this.id].item;var e=d.element.getAttribute("item-checked");if(e==undefined||e==null||e=="true"||e==true){o.checkItem(d.element,true,"tree")}})}c.each(h,function(e){var d=o.itemMapping["id"+this.id].item;if(d.checked!=false){if(d.checked==null){l=true}q++}});if(a>0){if(q==a){this.checkItem(n.element,true,"tree")}else{if(q>0){this.checkItem(n.element,null,"tree")}else{this.checkItem(n.element,false,"tree")}}}},_updateItemsNavigation:function(){var h=this.host.find("ul:first");var l=c(h).find("li");var q=0;for(var o=0;o<l.length;o++){var a=l[o];if(this.itemMapping["id"+a.id]){var n=this.itemMapping["id"+a.id].item;if(!n){continue}n.prevItem=null;n.nextItem=null;if(o>0){if(this.itemMapping["id"+l[o-1].id]){n.prevItem=this.itemMapping["id"+l[o-1].id].item}}if(o<l.length-1){if(this.itemMapping["id"+l[o+1].id]){n.nextItem=this.itemMapping["id"+l[o+1].id].item}}}}},_applyTheme:function(q,l){var o=this;this.host.removeClass("jqx-tree-"+q);this.host.removeClass("jqx-widget-"+q);this.host.removeClass("jqx-widget-content-"+q);this.host.addClass(o.toThemeProperty("jqx-tree"));this.host.addClass(o.toThemeProperty("jqx-widget"));var a=this.host.find("ul:first");c(a).removeClass(o.toThemeProperty("jqx-tree-dropdown-root-"+q));c(a).addClass(o.toThemeProperty("jqx-tree-dropdown-root"));if(this.rtl){c(a).removeClass(o.toThemeProperty("jqx-tree-dropdown-root-rtl-"+q));c(a).addClass(o.toThemeProperty("jqx-tree-dropdown-root-rtl"))}var n=c(a).find("li");for(var s=0;s<n.length;s++){var t=n[s];c(t).children().each(function(){if(this.tagName=="ul"||this.tagName=="UL"){c(this).removeClass(o.toThemeProperty("jqx-tree-dropdown-"+q));c(this).addClass(o.toThemeProperty("jqx-tree-dropdown"));if(o.rtl){c(this).removeClass(o.toThemeProperty("jqx-tree-dropdown-rtl-"+q));c(this).addClass(o.toThemeProperty("jqx-tree-dropdown-rtl"))}return false}})}c.each(this.items,function(){var d=this;var e=c(d.element);e.removeClass(o.toThemeProperty("jqx-tree-item-li-"+q));e.addClass(o.toThemeProperty("jqx-tree-item-li"));if(this.rtl){e.removeClass(o.toThemeProperty("jqx-tree-item-li-"+q));e.addClass(o.toThemeProperty("jqx-tree-item-li"))}c(d.titleElement).removeClass(o.toThemeProperty("jqx-tree-item-"+q));c(d.titleElement).addClass(o.toThemeProperty("jqx-tree-item"));c(d.titleElement).removeClass("jqx-item-"+q);c(d.titleElement).addClass(o.toThemeProperty("jqx-item"));var f=c(d.arrow);if(f.length>0){o._arrowStyle(f,"",d.isExpanded)}if(d.checkBoxElement){c(d.checkBoxElement).jqxCheckBox({theme:l})}if(o.enableRoundedCorners){e.removeClass("jqx-rc-all-"+q);e.addClass(o.toThemeProperty("jqx-rc-all"))}});if(this.host.jqxPanel){this.panel.jqxPanel({theme:l})}},_refreshMapping:function(D,a){var E=this.host.find("li");var H=new Array();var s=new Array();var B=c.data(document.body,"treeItemsStorage");var w=this;for(var A=0;A<E.length;A++){var z=E[A];var F=c(z);var t=B[z.id];if(t==null){continue}s[s.length]=t;if(D==undefined||D==true){this._updateItemEvents(this,t)}t.level=F.parents("li").length;t.treeInstance=this;var u=null;var C=null;if(t.titleElement[0].className.indexOf("jqx-fill-state-pressed")!=-1){c(t.titleElement).removeClass(w.toThemeProperty("jqx-fill-state-pressed"));c(t.titleElement).removeClass(w.toThemeProperty("jqx-tree-item-selected"))}var G=F.children();G.each(function(){if(this.tagName=="ul"||this.tagName=="UL"){t.subtreeElement=this;c(this).addClass(w.toThemeProperty("jqx-tree-dropdown"));if(w.rtl){c(this).addClass(w.toThemeProperty("jqx-tree-dropdown-rtl"))}return false}});var v=F.parents();v.each(function(){if((this.tagName=="li"||this.tagName=="LI")){C=this.id;u=this;return false}});t.parentElement=u;t.parentId=C;t.hasItems=c(t.element).find("li").length>0;if(t!=null){H[A]={element:z,item:t};H["id"+z.id]=H[A]}}this.itemMapping=H;this.items=s},_createItem:function(am){if(am==null||am==undefined){return}var X=am.id;if(!X){X=this.createID()}var R=am;var ae=c(am);R.id=X;var ai=c.data(document.body,"treeItemsStorage");if(ai==undefined){ai=new Array()}var L=this.items.length;this.items[L]=new c.jqx._jqxTree.jqxTreeItem();this.treeElements[X]=this.items[L];ai[R.id]=this.items[L];c.data(document.body,"treeItemsStorage",ai);L=this.items.length;var ab=0;var M=this;var ak=null;ae.attr("role","treeitem");ae.children().each(function(){if(this.tagName=="ul"||this.tagName=="UL"){M.items[L-1].subtreeElement=this;c(this).addClass(M.toThemeProperty("jqx-tree-dropdown"));if(M.rtl){c(this).addClass(M.toThemeProperty("jqx-tree-dropdown-rtl"));c(this).css("clear","both")}return false}});ae.parents().each(function(){if((this.tagName=="li"||this.tagName=="LI")){ab=this.id;ak=this;return false}});var N=am.getAttribute("item-expanded");if(N==null||N==undefined||(N!="true"&&N!=true)){N=false}else{N=true}R.removeAttribute("item-expanded");var P=am.getAttribute("item-locked");if(P==null||P==undefined||(P!="true"&&P!=true)){P=false}else{P=true}R.removeAttribute("item-locked");var U=am.getAttribute("item-selected");if(U==null||U==undefined||(U!="true"&&U!=true)){U=false}else{U=true}R.removeAttribute("item-selected");var al=am.getAttribute("item-disabled");if(al==null||al==undefined||(al!="true"&&al!=true)){al=false}else{al=true}R.removeAttribute("item-disabled");var ag=am.getAttribute("item-checked");if(ag==null||ag==undefined||(ag!="true"&&ag!=true)){ag=false}else{ag=true}var K=am.getAttribute("item-title");if(K==null||K==undefined||(K!="true"&&K!=true)){K=false}R.removeAttribute("item-title");var V=am.getAttribute("item-icon");var T=am.getAttribute("item-iconsize");var af=am.getAttribute("item-label");var O=am.getAttribute("item-value");R.removeAttribute("item-icon");R.removeAttribute("item-iconsize");R.removeAttribute("item-label");R.removeAttribute("item-value");var W=this.items[L-1];W.id=X;if(W.value==undefined){if(this._valueList&&this._valueList[X]){W.value=this._valueList[X]}else{W.value=O}}W.icon=V;W.iconsize=T;W.parentId=ab;W.disabled=al;W.parentElement=ak;W.element=am;W.locked=P;W.selected=U;W.checked=ag;W.isExpanded=N;W.treeInstance=this;this.itemMapping[L-1]={element:R,item:W};this.itemMapping["id"+R.id]=this.itemMapping[L-1];var ah=false;var S=false;ah=false;if(this.rtl){c(W.element).css("float","right");c(W.element).css("clear","both")}if(!ah||!S){if(c(R.firstChild).length>0){if(W.icon){var T=W.iconsize;if(!T){T=16}var V=c('<img width="'+T+'" height="'+T+'" style="float: left;" class="itemicon" src="'+W.icon+'"/>');c(R).prepend(V);V.css("margin-right","4px");if(this.rtl){V.css("margin-right","0px");V.css("margin-left","4px");V.css("float","right")}}var an=R.innerHTML.indexOf("<ul");if(an==-1){an=R.innerHTML.indexOf("<UL")}if(an==-1){W.originalTitle=R.innerHTML;R.innerHTML='<div style="display: inline-block;">'+R.innerHTML+"</div>";W.titleElement=c(c(R)[0].firstChild)}else{var Z=R.innerHTML.substring(0,an);Z=c.trim(Z);W.originalTitle=Z;Z=c('<div style="display: inline-block;">'+Z+"</div>");var ac=c(R).find("ul:first");ac.remove();R.innerHTML="";c(R).prepend(Z);c(R).append(ac);W.titleElement=Z;if(this.rtl){Z.css("float","right");ac.css("padding-right","10px")}}if(c.jqx.browser.msie&&c.jqx.browser.version<8){c(c(R)[0].firstChild).css("display","inline-block");var ad=false;if(this._measureItem.parents().length==0){c(document.body).append(this._measureItem);ad=true}this._measureItem.css("min-width","20px");this._measureItem[0].innerHTML=(c(W.titleElement).text());var Q=this._measureItem.width();if(W.icon){Q+=20}if(c(c(item.titleElement).find("img")).length>0){Q+=20}c(c(R)[0].firstChild).css("max-width",Q+"px");if(ad){this._measureItem.remove()}}}else{W.originalTitle="Item";c(R).append(c("<span>Item</span>"));c(R.firstChild).wrap("<span/>");W.titleElement=c(R)[0].firstChild;if(c.jqx.browser.msie&&c.jqx.browser.version<8){c(R.firstChild).css("display","inline-block")}}}var a=c(W.titleElement);var Y=this.toThemeProperty("jqx-rc-all");if(this.allowDrag){a.addClass("draggable")}if(af==null||af==undefined){af=W.titleElement;W.label=c.trim(a.text())}else{W.label=af}c(R).addClass(this.toThemeProperty("jqx-tree-item-li"));if(this.rtl){c(R).addClass(this.toThemeProperty("jqx-tree-item-li-rtl"))}Y+=" "+this.toThemeProperty("jqx-tree-item")+" "+this.toThemeProperty("jqx-item");if(this.rtl){Y+=" "+this.toThemeProperty("jqx-tree-item-rtl")}a[0].className=a[0].className+" "+Y;W.level=c(am).parents("li").length;W.hasItems=c(am).find("li").length>0;if(this.rtl&&W.parentElement){if(!this.checkboxes){}}if(this.checkboxes){if(this.host.jqxCheckBox){var aa=c('<div style="position: absolute; width: 18px; height: 18px;" tabIndex=0 class="chkbox"/>');aa.width(parseInt(this.checkSize));aa.height(parseInt(this.checkSize));c(R).prepend(aa);if(this.rtl){aa.css("float","right");aa.css("position","static")}aa.jqxCheckBox({hasInput:false,checked:W.checked,boxSize:this.checkSize,animationShowDelay:0,animationHideDelay:0,disabled:al,theme:this.theme});if(!this.rtl){a.css("margin-left",parseInt(this.checkSize)+6)}else{var J=5;if(W.parentElement){aa.css("margin-right",J+5+"px")}else{aa.css("margin-right",J+"px")}}W.checkBoxElement=aa[0];aa[0].treeItem=W;var aj=a.outerHeight()/2-1-parseInt(this.checkSize)/2;aa.css("margin-top",aj);if(c.jqx.browser.msie&&c.jqx.browser.version<8){a.css("width","1%");a.css("margin-left",parseInt(this.checkSize)+25)}else{if(W.hasItems){if(!this.rtl){aa.css("margin-left",this.toggleIndicatorSize)}}}}else{throw new Error("jqxTree: Missing reference to jqxcheckbox.js.");return}}else{if(c.jqx.browser.msie&&c.jqx.browser.version<8){a.css("width","1%")}}if(al){this.disableItem(W.element)}if(U){this.selectItem(W.element)}if(c.jqx.browser.msie&&c.jqx.browser.version<8){c(R).css("margin","0px");c(R).css("padding","0px")}},destroy:function(){this.removeHandler(c(window),"resize.jqxtree"+this.element.id);this.host.removeClass();if(this.isTouchDevice()){this.removeHandler(this.panel,c.jqx.mobile.getTouchEventName("touchend")+".touchScroll touchcancel.touchScroll");this.removeHandler(this.panel,c.jqx.mobile.getTouchEventName("touchmove")+".touchScroll");this.removeHandler(this.panel,c.jqx.mobile.getTouchEventName("touchstart")+".touchScroll")}var d=this;var a=this.isTouchDevice();c.each(this.items,function(){var n=this;var q=c(this.element);var s=!a?"click":c.jqx.mobile.getTouchEventName("touchend");d.removeHandler(c(n.checkBoxElement),s);var l=c(n.titleElement);d.removeHandler(q);var o=d.allowDrag&&d._enableDragDrop;if(!o){d.removeHandler(l)}else{d.removeHandler(l,"mousedown.item");d.removeHandler(l,"click");d.removeHandler(l,"dblclick");d.removeHandler(l,"mouseenter");d.removeHandler(l,"mouseleave")}$arrowSpan=c(n.arrow);if($arrowSpan.length>0){d.removeHandler($arrowSpan,s);d.removeHandler($arrowSpan,"selectstart");d.removeHandler($arrowSpan,"mouseup");if(!a){d.removeHandler($arrowSpan,"mouseenter");d.removeHandler($arrowSpan,"mouseleave")}d.removeHandler(l,"selectstart")}if(c.jqx.browser.opera){d.removeHandler(l,"mousedown.item")}if(d.toggleMode!="click"){d.removeHandler(l,"click")}d.removeHandler(l,d.toggleMode)});if(this.panel){this.panel.jqxPanel("destroy");this.panel=null}this.host.remove()},_raiseEvent:function(h,o){if(o==undefined){o={owner:null}}var n=this.events[h];args=o;args.owner=this;var l=new c.Event(n);l.owner=this;l.args=args;var a=this.host.trigger(l);return a},propertyChangedHandler:function(w,n,A,q){if(this.isInitialized==undefined||this.isInitialized==false){return}if(n=="submitCheckedItems"){w._updateInputSelection()}if(n=="disabled"){w._updateDisabledState()}if(n=="theme"){w._applyTheme(A,q)}if(n=="keyboardNavigation"){w.enableKeyboardNavigation=q}if(n=="width"||n=="height"){w.refresh();w._initialize();w._calculateWidth();if(w.host.jqxPanel){var o="fixed";if(this.height==null||this.height=="auto"){o="verticalwrap"}if(this.width==null||this.width=="auto"){if(o=="fixed"){o="horizontalwrap"}else{o="wrap"}}w.panel.jqxPanel({sizeMode:o})}}if(n=="touchMode"){w._isTouchDevice=null;if(q){w.enableHover=false}w._render()}if(n=="source"||n=="checkboxes"){if(this.source!=null){var a=[];c.each(w.items,function(){if(this.isExpanded){a[a.length]={label:this.label,level:this.level}}});var u=w.loadItems(w.source);if(!w.host.jqxPanel){w.element.innerHTML=u}else{w.panel.jqxPanel("setcontent",u)}var v=w.disabled;var t=w.host.find("ul:first");if(t.length>0){w.createTree(t[0]);w._render()}var s=w;var z=s.animationShowDuration;s.animationShowDuration=0;w.disabled=false;if(a.length>0){c.each(w.items,function(){for(var e=0;e<a.length;e++){if(a[e].label==this.label&&a[e].level==this.level){var d=s.getItem(this.element);s._expandItem(s,d)}}})}w.disabled=v;s.animationShowDuration=z}}if(n=="hasThreeStates"){w._render();w._updateCheckStates()}if(n=="toggleIndicatorSize"){w._updateCheckLayout();w._render()}}})})(jqxBaseFramework);(function(c){c.jqx._jqxTree.jqxTreeItem=function(f,h,a){var l={label:null,id:f,parentId:h,parentElement:null,parentItem:null,disabled:false,selected:false,locked:false,checked:false,level:0,isExpanded:false,hasItems:false,element:null,subtreeElement:null,checkBoxElement:null,titleElement:null,arrow:null,prevItem:null,nextItem:null};return l}})(jqxBaseFramework);(function(c){c.jqx.jqxWidget("jqxDragDrop","",{});c.extend(c.jqx._jqxDragDrop.prototype,{defineInstance:function(){var a={restricter:"document",handle:false,feedback:"clone",opacity:0.6,revert:false,revertDuration:400,distance:5,disabled:false,tolerance:"intersect",data:null,dropAction:"default",dragZIndex:999999,appendTo:"parent",cursor:"move",onDragEnd:null,onDrag:null,onDragStart:null,onTargetDrop:null,onDropTargetEnter:null,onDropTargetLeave:null,initFeedback:null,dropTarget:null,isDestroyed:false,triggerEvents:true,_touchEvents:{mousedown:c.jqx.mobile.getTouchEventName("touchstart"),click:c.jqx.mobile.getTouchEventName("touchstart"),mouseup:c.jqx.mobile.getTouchEventName("touchend"),mousemove:c.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave"},_restricter:null,_zIndexBackup:0,_targetEnterFired:false,_oldOpacity:1,_feedbackType:undefined,_isTouchDevice:false,_events:["dragStart","dragEnd","dragging","dropTargetEnter","dropTargetLeave"]};c.extend(true,this,a);return a},createInstance:function(){this._createDragDrop()},_createDragDrop:function(){var f=c.data(document.body,"jqx-draggables")||1;this.appendTo=this._getParent();this._isTouchDevice=c.jqx.mobile.isTouchDevice();if((/(static|relative)/).test(this.host.css("position"))){if(!this.feedback||this.feedback==="original"){var e=this._getRelativeOffset(this.host);var a=this.appendTo.offset();if(this.appendTo.css("position")!="static"){a={left:0,top:0}}this.element.style.position="absolute";this.element.style.left=a.left+e.left+"px";this.element.style.top=a.top+e.top+"px"}}this._validateProperties();this._idHandler(f);if(this.disabled){this.disable()}if(typeof this.dropTarget==="string"){this.dropTarget=c(this.dropTarget)}this._refresh();f+=1;c.data(document.body,"jqx-draggables",f);this.host.addClass("jqx-draggable");if(!this.disabled){this.host.css("cursor",this.cursor)}},_getParent:function(){var a=this.appendTo;if(typeof this.appendTo==="string"){switch(this.appendTo){case"parent":a=this.host.parent();break;case"document":a=c(document);break;case"body":a=c(document.body);break;default:a=c(this.appendTo);break}}return a},_idHandler:function(a){if(!this.element.id){var d="jqx-draggable-"+a;this.element.id=d}},_refresh:function(){this._removeEventHandlers();this._addEventHandlers()},_getEvent:function(a){if(this._isTouchDevice){return this._touchEvents[a]}else{return a}},_validateProperties:function(){if(this.feedback==="clone"){this._feedbackType="clone"}else{this._feedbackType="original"}if(this.dropAction!=="default"){this.dropAction="nothing"}},_removeEventHandlers:function(){this.removeHandler(this.host,"dragstart");this.removeHandler(this.host,this._getEvent("mousedown")+".draggable."+this.element.id,this._mouseDown);this.removeHandler(c(document),this._getEvent("mousemove")+".draggable."+this.element.id,this._mouseMove);this.removeHandler(c(document),this._getEvent("mouseup")+".draggable."+this.element.id,this._mouseUp)},_addEventHandlers:function(){var a=this;this.addHandler(this.host,"dragstart",function(d){if(a.disabled){return true}var e=c.jqx.mobile.isTouchDevice();if(!e){d.preventDefault();return false}});this.addHandler(this.host,this._getEvent("mousedown")+".draggable."+this.element.id,this._mouseDown,{self:this});this.addHandler(c(document),this._getEvent("mousemove")+".draggable."+this.element.id,this._mouseMove,{self:this});this.addHandler(c(document),this._getEvent("mouseup")+".draggable."+this.element.id,this._mouseUp,{self:this});try{if(document.referrer!=""||window.frameElement){if(window.top!=null&&window.top!=window.self){var f="";if(window.parent&&document.referrer){f=document.referrer}if(f.indexOf(document.location.host)!=-1){var h=function(d){a._mouseUp(a)};if(window.top.document.addEventListener){window.top.document.addEventListener("mouseup",h,false)}else{if(window.top.document.attachEvent){window.top.document.attachEvent("onmouseup",h)}}}}}}catch(l){}},_mouseDown:function(h){var a=h.data.self,n=a._getMouseCoordinates(h),o=a._mouseCapture(h);a._originalPageX=n.left;a._originalPageY=n.top;if(a.disabled){return true}var l=false;if(!a._mouseStarted){a._mouseUp(h);l=true}if(o){a._mouseDownEvent=h}if(a._isTouchDevice){return true}if(h.which!==1||!o){return true}h.preventDefault();if(l==true){}},_mouseMove:function(d){var a=d.data.self;if(a.disabled){return true}if(a._mouseStarted){a._mouseDrag(d);if(d.preventDefault){d.preventDefault()}return false}if(a._mouseDownEvent&&a._isMovedDistance(d)){if(a._mouseStart(a._mouseDownEvent,d)){a._mouseStarted=true}else{a._mouseStarted=false}if(a._mouseStarted){a._mouseDrag(d)}else{a._mouseUp(d)}}return !a._mouseStarted},_mouseUp:function(d){var a;if(d.data&&d.data.self){a=d.data.self}else{a=this}if(a.disabled){return true}a._mouseDownEvent=false;a._movedDistance=false;if(a._mouseStarted){a._mouseStarted=false;a._mouseStop(d)}if(a.feedback&&a.feedback[0]&&a._feedbackType!=="original"&&typeof a.feedback.remove==="function"&&!a.revert){a.feedback.remove()}if(!a._isTouchDevice){return false}},cancelDrag:function(){var a=this.revertDuration;this.revertDuration=0;this._mouseDownEvent=false;this._movedDistance=false;this._mouseStarted=false;this._mouseStop();this.feedback.remove();this.revertDuration=a},_isMovedDistance:function(a){var d=this._getMouseCoordinates(a);if(this._movedDistance){return true}if(d.left>=this._originalPageX+this.distance||d.left<=this._originalPageX-this.distance||d.top>=this._originalPageY+this.distance||d.top<=this._originalPageY-this.distance){this._movedDistance=true;return true}return false},_getMouseCoordinates:function(a){if(this._isTouchDevice){var d=c.jqx.position(a);return{left:d.left,top:d.top}}else{return{left:a.pageX,top:a.pageY}}},destroy:function(){this._enableSelection(this.host);this.host.removeData("draggable").off(".draggable").removeClass("jqx-draggable jqx-draggable-dragging jqx-draggable-disabled");this._removeEventHandlers();this.isDestroyed=true;return this},_disableSelection:function(a){a.each(function(){c(this).attr("unselectable","on").css({"-ms-user-select":"none","-moz-user-select":"none","-webkit-user-select":"none","user-select":"none"}).each(function(){this.onselectstart=function(){return false}})})},_enableSelection:function(a){a.each(function(){c(this).attr("unselectable","off").css({"-ms-user-select":"text","-moz-user-select":"text","-webkit-user-select":"text","user-select":"text"}).each(function(){this.onselectstart=null})})},_mouseCapture:function(a){if(this.disabled){return false}if(!this._getHandle(a)){return false}this._disableSelection(this.host);return true},_getScrollParent:function(a){var d;if((c.jqx.browser.msie&&(/(static|relative)/).test(a.css("position")))||(/absolute/).test(a.css("position"))){d=a.parents().filter(function(){return(/(relative|absolute|fixed)/).test(c.css(this,"position",1))&&(/(auto|scroll)/).test(c.css(this,"overflow",1)+c.css(this,"overflow-y",1)+c.css(this,"overflow-x",1))}).eq(0)}else{d=a.parents().filter(function(){return(/(auto|scroll)/).test(c.css(this,"overflow",1)+c.css(this,"overflow-y",1)+c.css(this,"overflow-x",1))}).eq(0)}return(/fixed/).test(a.css("position"))||!d.length?c(document):d},_mouseStart:function(f){var h=this._getMouseCoordinates(f),l=this._getParentOffset(this.host);this.feedback=this._createFeedback(f);this._zIndexBackup=this.feedback.css("z-index");this.feedback[0].style.zIndex=this.dragZIndex;this._backupFeedbackProportions();this._backupeMargins();this._positionType=this.feedback.css("position");this._scrollParent=this._getScrollParent(this.feedback);this._offset=this.positionAbs=this.host.offset();this._offset={top:this._offset.top-this.margins.top,left:this._offset.left-this.margins.left};c.extend(this._offset,{click:{left:h.left-this._offset.left,top:h.top-this._offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset(),hostRelative:this._getRelativeOffset(this.host)});this.position=this._generatePosition(f);this.originalPosition=this._fixPosition();if(this.restricter){this._setRestricter()}this.feedback.addClass(this.toThemeProperty("jqx-draggable-dragging"));var a=this._raiseEvent(0,f);if(this.onDragStart&&typeof this.onDragStart==="function"){this.onDragStart(this.position)}this._mouseDrag(f,true);return true},_fixPosition:function(){var d=this._getRelativeOffset(this.host),a=this.position;a={left:this.position.left+d.left,top:this.position.top+d.top};return a},_mouseDrag:function(a,d){this.position=this._generatePosition(a);this.positionAbs=this._convertPositionTo("absolute");this.feedback[0].style.left=this.position.left+"px";this.feedback[0].style.top=this.position.top+"px";this._raiseEvent(2,a);if(this.onDrag&&typeof this.onDrag==="function"){this.onDrag(this.data,this.position)}this._handleTarget();return false},_over:function(a,n,l){if(this.dropTarget){var h=false,o=this;c.each(this.dropTarget,function(e,d){h=o._overItem(d,a,n,l);if(h.over){return false}})}return h},_overItem:function(l,u,s,o){l=c(l);var a=l.offset(),q=l.outerHeight(),t=l.outerWidth(),n;if(!l||l[0]===this.element){return}var n=false;switch(this.tolerance){case"intersect":if(u.left+s>a.left&&u.left<a.left+t&&u.top+o>a.top&&u.top<a.top+q){n=true}break;case"fit":if(s+u.left<=a.left+t&&u.left>=a.left&&o+u.top<=a.top+q&&u.top>=a.top){n=true}break}return{over:n,target:l}},_handleTarget:function(){if(this.dropTarget){var a=this.feedback.offset(),l=this.feedback.outerWidth(),h=this.feedback.outerHeight(),f=this._over(a,l,h);if(f.over){if(this._targetEnterFired&&f.target.length>0&&this._oldtarget&&this._oldtarget.length>0&&f.target[0]!=this._oldtarget[0]){this._raiseEvent(4,{target:this._oldtarget});if(this.onDropTargetLeave&&typeof this.onDropTargetLeave==="function"){this.onDropTargetLeave(this._oldtarget)}}if(!this._targetEnterFired||(f.target.length>0&&this._oldtarget&&this._oldtarget.length>0&&f.target[0]!=this._oldtarget[0])){this._targetEnterFired=true;this._raiseEvent(3,{target:f.target});if(this.onDropTargetEnter&&typeof this.onDropTargetEnter==="function"){this.onDropTargetEnter(f.target)}}this._oldtarget=f.target}else{if(this._targetEnterFired){this._targetEnterFired=false;this._raiseEvent(4,{target:this._oldtarget||f.target});if(this.onDropTargetLeave&&typeof this.onDropTargetLeave==="function"){this.onDropTargetLeave(this._oldtarget||f.target)}}}}},_mouseStop:function(h){var f=false,a=this._fixPosition(),l={width:this.host.outerWidth(),height:this.host.outerHeight()};this.feedback[0].style.opacity=this._oldOpacity;if(!this.revert){this.feedback[0].style.zIndex=this._zIndexBackup}this._enableSelection(this.host);if(this.dropped){f=this.dropped;this.dropped=false}if((!this.element||!this.element.parentNode)&&this.feedback==="original"){return false}this._dropElement(a);this.feedback.removeClass(this.toThemeProperty("jqx-draggable-dragging"));this._raiseEvent(1,h);if(this.onDragEnd&&typeof this.onDragEnd==="function"){this.onDragEnd(this.data)}if(this.onTargetDrop&&typeof this.onTargetDrop==="function"&&this._over(a,l.width,l.height).over){this.onTargetDrop(this._over(a,l.width,l.height).target)}this._revertHandler();return false},_dropElement:function(a){if(this.dropAction==="default"&&this.feedback&&this.feedback[0]!==this.element&&this.feedback!=="original"){if(!this.revert){if(!(/(fixed|absolute)/).test(this.host.css("position"))){this.host.css("position","relative");var d=this._getRelativeOffset(this.host);a=this.position;a.left-=d.left;a.top-=d.top;this.element.style.left=a.left+"px";this.element.style.top=a.top+"px"}}}},_revertHandler:function(){if(this.revert||(c.isFunction(this.revert)&&this.revert())){var a=this;if(this._feedbackType!="original"){if(this.feedback!=null){if(this.dropAction!="none"){c(this.feedback).animate({left:a.originalPosition.left-a._offset.hostRelative.left,top:a.originalPosition.top-a._offset.hostRelative.top},parseInt(this.revertDuration,10),function(){if(a.feedback&&a.feedback[0]&&a._feedbackType!=="original"&&typeof a.feedback.remove==="function"){a.feedback.remove()}})}else{if(a.feedback&&a.feedback[0]&&a._feedbackType!=="original"&&typeof a.feedback.remove==="function"){a.feedback.remove()}}}}else{this.element.style.zIndex=this.dragZIndex;c(this.host).animate({left:a.originalPosition.left-a._offset.hostRelative.left,top:a.originalPosition.top-a._offset.hostRelative.top},parseInt(this.revertDuration,10),function(){a.element.style.zIndex=a._zIndexBackup})}}},_getHandle:function(a){var d;if(!this.handle){d=true}else{c(this.handle,this.host).find("*").andSelf().each(function(){if(this==a.target){d=true}})}return d},_createFeedback:function(f){var a;if(typeof this._feedbackType==="function"){a=this._feedbackType()}else{if(this._feedbackType==="clone"){a=this.host.clone().removeAttr("id")}else{a=this.host}}if(!(/(absolute|fixed)/).test(a.css("position"))){a.css("position","absolute")}if(this.appendTo[0]!==this.host.parent()[0]||a[0]!==this.element){var e={};a.css({left:this.host.offset().left-this._getParentOffset(this.host).left+this._getParentOffset(a).left,top:this.host.offset().top-this._getParentOffset(this.host).top+this._getParentOffset(a).top});a.appendTo(this.appendTo)}if(typeof this.initFeedback==="function"){this.initFeedback(a)}return a},_getParentOffset:function(d){var d=d||this.feedback;this._offsetParent=d.offsetParent();var a=this._offsetParent.offset();if(this._positionType=="absolute"&&this._scrollParent[0]!==document&&c.contains(this._scrollParent[0],this._offsetParent[0])){a.left+=this._scrollParent.scrollLeft();a.top+=this._scrollParent.scrollTop()}if((this._offsetParent[0]==document.body)||(this._offsetParent[0].tagName&&this._offsetParent[0].tagName.toLowerCase()=="html"&&c.jqx.browser.msie)){a={top:0,left:0}}return{top:a.top+(parseInt(this._offsetParent.css("border-top-width"),10)||0),left:a.left+(parseInt(this._offsetParent.css("border-left-width"),10)||0)}},_getRelativeOffset:function(f){var e=this._scrollParent||f.parent();f=f||this.feedback;if(f.css("position")==="relative"){var a=this.host.position();return{top:a.top-(parseInt(f.css("top"),10)||0),left:a.left-(parseInt(f.css("left"),10)||0)}}else{return{top:0,left:0}}},_backupeMargins:function(){this.margins={left:(parseInt(this.host.css("margin-left"),10)||0),top:(parseInt(this.host.css("margin-top"),10)||0),right:(parseInt(this.host.css("margin-right"),10)||0),bottom:(parseInt(this.host.css("margin-bottom"),10)||0)}},_backupFeedbackProportions:function(){this.feedback[0].style.opacity=this.opacity;this._feedbackProportions={width:this.feedback.outerWidth(),height:this.feedback.outerHeight()}},_setRestricter:function(){if(this.restricter=="parent"){this.restricter=this.feedback[0].parentNode}if(this.restricter=="document"||this.restricter=="window"){this._handleNativeRestricter()}if(typeof this.restricter.left!=="undefined"&&typeof this.restricter.top!=="undefined"&&typeof this.restricter.height!=="undefined"&&typeof this.restricter.width!=="undefined"){this._restricter=[this.restricter.left,this.restricter.top,this.restricter.width,this.restricter.height]}else{if(!(/^(document|window|parent)$/).test(this.restricter)&&this.restricter.constructor!=Array){this._handleDOMParentRestricter()}else{if(this.restricter.constructor==Array){this._restricter=this.restricter}}}},_handleNativeRestricter:function(){this._restricter=[this.restricter==="document"?0:c(window).scrollLeft()-this._offset.relative.left-this._offset.parent.left,this.restricter==="document"?0:c(window).scrollTop()-this._offset.relative.top-this._offset.parent.top,(this.restricter==="document"?0:c(window).scrollLeft())+c(this.restricter==="document"?document:window).width()-this._feedbackProportions.width-this.margins.left,(this.restricter==="document"?0:c(window).scrollTop())+(c(this.restricter==="document"?document:window).height()||document.body.parentNode.scrollHeight)-this._feedbackProportions.height-this.margins.top]},_handleDOMParentRestricter:function(){var e=c(this.restricter),a=e[0];if(!a){return}var f=(c(a).css("overflow")!=="hidden");this._restricter=[(parseInt(c(a).css("borderLeftWidth"),10)||0)+(parseInt(c(a).css("paddingLeft"),10)||0),(parseInt(c(a).css("borderTopWidth"),10)||0)+(parseInt(c(a).css("paddingTop"),10)||0),(f?Math.max(a.scrollWidth,a.offsetWidth):a.offsetWidth)-(parseInt(c(a).css("borderLeftWidth"),10)||0)-(parseInt(c(a).css("paddingRight"),10)||0)-this._feedbackProportions.width-this.margins.left-this.margins.right,(f?Math.max(a.scrollHeight,a.offsetHeight):a.offsetHeight)-(parseInt(c(a).css("borderTopWidth"),10)||0)-(parseInt(c(a).css("paddingBottom"),10)||0)-this._feedbackProportions.height-this.margins.top-this.margins.bottom];this._restrictiveContainer=e},_convertPositionTo:function(h,n){if(!n){n=this.position}var l,a,d;if(h==="absolute"){l=1}else{l=-1}if(this._positionType==="absolute"&&!(this._scrollParent[0]!=document&&c.contains(this._scrollParent[0],this._offsetParent[0]))){a=this._offsetParent}else{a=this._scrollParent}d=(/(html|body)/i).test(a[0].tagName);return this._getPosition(n,l,d,a)},_getPosition:function(l,h,f,a){return{top:(l.top+this._offset.relative.top*h+this._offset.parent.top*h-(c.jqx.browser.safari&&c.jqx.browser.version<526&&this._positionType=="fixed"?0:(this._positionType=="fixed"?-this._scrollParent.scrollTop():(f?0:a.scrollTop()))*h)),left:(l.left+this._offset.relative.left*h+this._offset.parent.left*h-(c.jqx.browser.safari&&c.jqx.browser.version<526&&this._positionType=="fixed"?0:(this._positionType=="fixed"?-this._scrollParent.scrollLeft():f?0:a.scrollLeft())*h))}},_generatePosition:function(q){var a=this._positionType=="absolute"&&!(this._scrollParent[0]!=document&&c.contains(this._scrollParent[0],this._offsetParent[0]))?this._offsetParent:this._scrollParent,l=(/(html|body)/i).test(a[0].tagName);var s=this._getMouseCoordinates(q),t=s.left,u=s.top;if(this.originalPosition){var n;if(this.restricter){if(this._restrictiveContainer){var o=this._restrictiveContainer.offset();n=[this._restricter[0]+o.left,this._restricter[1]+o.top,this._restricter[2]+o.left,this._restricter[3]+o.top]}else{n=this._restricter}if(s.left-this._offset.click.left<n[0]){t=n[0]+this._offset.click.left}if(s.top-this._offset.click.top<n[1]){u=n[1]+this._offset.click.top}if(s.left-this._offset.click.left>n[2]){t=n[2]+this._offset.click.left}if(s.top-this._offset.click.top>n[3]){u=n[3]+this._offset.click.top}}}return{top:(u-this._offset.click.top-this._offset.relative.top-this._offset.parent.top+(c.jqx.browser.safari&&c.jqx.browser.version<526&&this._positionType=="fixed"?0:(this._positionType=="fixed"?-this._scrollParent.scrollTop():(l?0:a.scrollTop())))),left:(t-this._offset.click.left-this._offset.relative.left-this._offset.parent.left+(c.jqx.browser.safari&&c.jqx.browser.version<526&&this._positionType=="fixed"?0:(this._positionType=="fixed"?-this._scrollParent.scrollLeft():l?0:a.scrollLeft())))}},_raiseEvent:function(l,f){if(this.triggerEvents!=undefined&&this.triggerEvents==false){return}var a=this._events[l],h=c.Event(a),f=f||{};f.position=this.position;f.element=this.element;c.extend(f,this.data);f.feedback=this.feedback;h.args=f;return this.host.trigger(h)},disable:function(){this.disabled=true;this.host.addClass(this.toThemeProperty("jqx-draggable-disabled"));this._enableSelection(this.host)},enable:function(){this.disabled=false;this.host.removeClass(this.toThemeProperty("jqx-draggable-disabled"))},propertyChangedHandler:function(a,l,f,h){if(l==="dropTarget"){if(typeof h==="string"){a.dropTarget=c(h)}}else{if(l=="disabled"){if(h){a._enableSelection(a.host)}}else{if(l=="cursor"){a.host.css("cursor",a.cursor)}}}}})})(jqxBaseFramework);(function(c){jqxListBoxDragDrop=function(){c.extend(c.jqx._jqxListBox.prototype,{_hitTestBounds:function(w,v,t){var s=w.host.offset();var q=t-parseInt(s.top);var n=v-parseInt(s.left);var a=w._hitTest(n,q);if(q<0){return null}if(a!=null){var u=parseInt(s.left);var l=u+w.host.width();if(u<=v+a.width/2&&v<=l){return a}return null}if(w.items&&w.items.length>0){var o=w.items[w.items.length-1];if(w.groups.length<2){if(o.top+o.height+15>=q){return o}}}return null},_handleDragStart:function(e,f){var a=c.jqx.mobile.isTouchDevice();if(a){if(f.allowDrag){e.on(c.jqx.mobile.getTouchEventName("touchstart"),function(){c.jqx.mobile.setTouchScroll(false,f.element.id)})}}e.off("dragStart");e.on("dragStart",function(n){if(f.allowDrag&&!f.disabled){f.feedbackElement=c("<div style='z-index: 99999; position: absolute;'></div>");f.feedbackElement.addClass(f.toThemeProperty("jqx-listbox-feedback"));f.feedbackElement.appendTo(c(document.body));f.feedbackElement.hide();f.isDragging=true;f._dragCancel=false;var d=f._getMouseCoordinates(n);var o=f._hitTestBounds(f,d.left,d.top);var l=c.find(".jqx-listbox");f._listBoxes=l;c.each(f._listBoxes,function(){var h=c.data(this,"jqxListBox").instance;h._enableHover=h.enableHover;h.enableHover=false;c.jqx.mobile.setTouchScroll(false,f.element.id)});var q=function(){f._dragCancel=true;c(n.args.element).jqxDragDrop({triggerEvents:false});c(n.args.element).jqxDragDrop("cancelDrag");clearInterval(f._autoScrollTimer);c(n.args.element).jqxDragDrop({triggerEvents:true});c.each(f._listBoxes,function(){var h=c.data(this,"jqxListBox").instance;if(h._enableHover!=undefined){h.enableHover=h._enableHover;c.jqx.mobile.setTouchScroll(true,f.element.id)}})};if(o!=null&&!o.isGroup){f._dragItem=o;if(f.dragStart){var s=f.dragStart(o);if(s==false){q();return false}}if(o.disabled){q()}f._raiseEvent(4,{label:o.label,value:o.value,originalEvent:n.args})}else{if(o==null){q()}}}return false})},_handleDragging:function(d,a){d.off("dragging");d.on("dragging",function(l){var n=l.args;if(a._dragCancel){return}var h=a._getMouseCoordinates(l);var o=h;a._lastDraggingPosition=h;a._dragOverItem=null;a.feedbackElement.hide();c.each(a._listBoxes,function(){if(c.jqx.isHidden(c(this))){return true}var v=c(this).offset();var t=v.top+20;var B=c(this).height()+t-40;var z=v.left;var A=c(this).width();var s=z+A;var u=c.data(this,"jqxListBox").instance;var f=u._hitTestBounds(u,h.left,h.top);var w=u.vScrollInstance;if(f!=null){if(u.allowDrop&&!u.disabled){a._dragOverItem=f;if(f.element){a.feedbackElement.show();var e=c(f.element).offset().top+1;if(o.top>e+f.height/2){e=e+f.height}a.feedbackElement.css("top",e);a.feedbackElement.css("left",z);if(u.vScrollBar.css("visibility")!="visible"){a.feedbackElement.width(c(this).width())}else{a.feedbackElement.width(c(this).width()-20)}}}}if(h.left>=z&&h.left<s){if(n.position.top<t&&n.position.top>=t-30){clearInterval(u._autoScrollTimer);if(w.value!=0){a.feedbackElement.hide()}u._autoScrollTimer=setInterval(function(){var q=u.scrollUp();if(!q){clearInterval(u._autoScrollTimer)}},100)}else{if(n.position.top>B&&n.position.top<B+30){clearInterval(u._autoScrollTimer);if((u.vScrollBar.css("visibility")!="hidden")&&w.value!=w.max){a.feedbackElement.hide()}u._autoScrollTimer=setInterval(function(){var q=u.scrollDown();if(!q){clearInterval(u._autoScrollTimer)}},100)}else{clearInterval(u._autoScrollTimer)}}}else{if(a._dragOverItem==null){a.feedbackElement.hide()}clearInterval(u._autoScrollTimer)}})})},_handleDragEnd:function(f,a){var e=c.find(".jqx-listbox");f.off("dragEnd");f.on("dragEnd",function(G){clearInterval(a._autoScrollTimer);var v=c.jqx.mobile.isTouchDevice();var B=v?a._lastDraggingPosition:a._getMouseCoordinates(G);var F=c.find(".jqx-listbox");var E=null;a.feedbackElement.remove();if(a._dragCancel){G.stopPropagation();return}c.each(F,function(){if(c.jqx.isHidden(c(this))){return true}var l=parseInt(c(this).offset().left);var o=l+c(this).width();var h=c.data(this,"jqxListBox").instance;clearInterval(h._autoScrollTimer);if(h._enableHover!=undefined){h.enableHover=h._enableHover;c.jqx.mobile.setTouchScroll(true,a.element.id)}if(a._dragItem!=null){if(B.left+a._dragItem.width/2>=l&&B.left<o){var n=parseInt(c(this).offset().top);var q=n+c(this).height();if(B.top>=n&&B.top<=q){E=c(this)}}}});var I=a._dragItem;if(E!=null&&E.length>0){var w=c.data(E[0],"jqxListBox").instance;var A=w.allowDrop;if(A&&!w.disabled){var w=c.data(E[0],"jqxListBox").instance;var u=w._hitTestBounds(w,B.left,B.top);u=a._dragOverItem;if(u!=null&&!u.isGroup){var d=true;if(a.dragEnd){d=a.dragEnd(I,u,G.args);if(d==false){c(G.args.element).jqxDragDrop({triggerEvents:false});c(G.args.element).jqxDragDrop("cancelDrag");clearInterval(a._autoScrollTimer);c(G.args.element).jqxDragDrop({triggerEvents:true});if(G.preventDefault){G.preventDefault()}if(G.stopPropagation){G.stopPropagation()}return false}if(d==undefined){d=true}}if(d){var H=u.visibleIndex;var C=function(){var l=u.visibleIndex;for(var n=l-2;n<=l+2;n++){if(w.items&&w.items.length>n){var h=w.items[n];if(h!=null){if(h.value==I.value){return h.visibleIndex}}}}return l};if(w.dropAction!="none"){if(u.element){var t=c(u.element).offset().top+1}else{var t=c(w.element).offset().top+1}if(w.content.find(".draggable").length>0){w.content.find(".draggable").jqxDragDrop("destroy")}if(B.top>t+u.height/2){w.insertAt(a._dragItem,u.index+1)}else{w.insertAt(a._dragItem,u.index)}if(a.dropAction=="default"){if(I.visibleIndex>0){a.clearSelection();a.selectIndex(I.visibleIndex-1)}a.removeItem(I,true)}var z=C();w.clearSelection();w.selectIndex(z)}}}else{if(w.dropAction!="none"){if(w.content.find(".draggable").length>0){w.content.find(".draggable").jqxDragDrop("destroy")}if(a.dragEnd){var d=a.dragEnd(a._dragItem,null,G.args);if(d==false){c(G.args.element).jqxDragDrop({triggerEvents:false});c(G.args.element).jqxDragDrop("cancelDrag");clearInterval(a._autoScrollTimer);c(G.args.element).jqxDragDrop({triggerEvents:true});if(G.preventDefault){G.preventDefault()}if(G.stopPropagation){G.stopPropagation()}return false}if(d==undefined){d=true}}w.addItem(a._dragItem);if(w.dropAction=="default"){if(I.visibleIndex>0){a.selectIndex(I.visibleIndex-1)}a.removeItem(I,true)}w.clearSelection();w.selectIndex(w.items.length-1)}}}}else{if(a.dragEnd){var D=a.dragEnd(I,G.args);if(false==D){if(G.preventDefault){G.preventDefault()}if(G.stopPropagation){G.stopPropagation()}return false}}}if(I!=null){a._raiseEvent(5,{label:I.label,value:I.value,originalEvent:G.args})}return false})},_enableDragDrop:function(){if(this.allowDrag&&this.host.jqxDragDrop){var d=this.content.find(".draggable");if(d.length>0){var a=this;d.jqxDragDrop({cursor:"arrow",revertDuration:0,appendTo:"body",dragZIndex:99999,revert:true,initFeedback:function(n){var h=c('<span style="white-space: nowrap;" class="'+a.toThemeProperty("jqx-fill-state-normal")+'">'+n.text()+"</span>");c(document.body).append(h);var l=h.width();h.remove();n.width(l+5);n.addClass(a.toThemeProperty("jqx-fill-state-pressed"))}});this._autoScrollTimer=null;a._dragItem=null;a._handleDragStart(d,a);a._handleDragging(d,a);a._handleDragEnd(d,a)}}},_getMouseCoordinates:function(a){this._isTouchDevice=c.jqx.mobile.isTouchDevice();if(this._isTouchDevice){var d=c.jqx.position(a.args);return{left:d.left,top:d.top}}else{return{left:a.args.pageX,top:a.args.pageY}}}})};jqxTreeDragDrop=function(){c.extend(c.jqx._jqxTree.prototype,{_hitTestBounds:function(a,n,o){var s=this;var q=null;if(a._visibleItems){var t=parseInt(a.host.offset().left);var l=a.host.outerWidth();c.each(a._visibleItems,function(d){if(n>=t&&n<t+l){if(this.top+5<o&&o<this.top+this.height){var e=c(this.element).parents("li:first");if(e.length>0){q=a.getItem(e[0]);if(q!=null){q.height=this.height;q.top=this.top;return false}}}}})}return q},_handleDragStart:function(e,f){if(f._dragOverItem){f._dragOverItem.titleElement.removeClass(f.toThemeProperty("jqx-fill-state-hover"))}var a=c.jqx.mobile.isTouchDevice();if(a){if(f.allowDrag){e.on(c.jqx.mobile.getTouchEventName("touchstart"),function(){c.jqx.mobile.setTouchScroll(false,"panel"+f.element.id)})}}e.off("dragStart");e.on("dragStart",function(d){f.feedbackElement=c("<div style='z-index: 99999; position: absolute;'></div>");f.feedbackElement.addClass(f.toThemeProperty("jqx-listbox-feedback"));f.feedbackElement.appendTo(c(document.body));f.feedbackElement.hide();f._dragCancel=false;var l=d.args.position;var h=c.find(".jqx-tree");f._trees=h;c.each(h,function(){var q=c.data(this,"jqxTree").instance;var n=q.host.find(".draggable");q._syncItems(n);if(q.allowDrag&&!q.disabled){var s=c(d.target).parents("li:first");if(s.length>0){var o=q.getItem(s[0]);if(o){f._dragItem=o;if(q.dragStart){var t=q.dragStart(o);if(t==false){f._dragCancel=true;c(d.args.element).jqxDragDrop({triggerEvents:false});c(d.args.element).jqxDragDrop("cancelDrag");clearInterval(f._autoScrollTimer);c(d.args.element).jqxDragDrop({triggerEvents:q});return false}}q._raiseEvent(8,{label:o.label,value:o.value,originalEvent:d.args})}}}});return false})},_getMouseCoordinates:function(a){this._isTouchDevice=c.jqx.mobile.isTouchDevice();if(this._isTouchDevice){var d=c.jqx.position(a.args);return{left:d.left,top:d.top}}else{return{left:a.args.pageX,top:a.args.pageY}}},_handleDragging:function(d,a){var d=this.host.find(".draggable");d.off("dragging");d.on("dragging",function(n){var q=n.args;var t=q.position;var s=a._trees;if(a._dragCancel){return}if(a._dragOverItem){a._dragOverItem.titleElement.removeClass(a.toThemeProperty("jqx-fill-state-hover"))}var l=true;var o=a._getMouseCoordinates(n);a._lastDraggingPosition=o;c.each(s,function(){if(c.jqx.isHidden(c(this))){return true}var w=c(this).offset();var f=w.top+20;var B=c(this).height()+f-40;var z=w.left;var A=c(this).width();var e=z+A;var h=c.data(this,"jqxTree").instance;if(h.disabled||!h.allowDrop){return}var v=h.vScrollInstance;var D=h._hitTestBounds(h,o.left,o.top);if(D!=null){if(a._dragOverItem){a._dragOverItem.titleElement.removeClass(h.toThemeProperty("jqx-fill-state-hover"))}a._dragOverItem=D;if(D.element){a.feedbackElement.show();var C=D.top;var u=o.top;a._dropPosition="before";if(u>C+D.height/3){C=D.top+D.height/2;a._dragOverItem.titleElement.addClass(a.toThemeProperty("jqx-fill-state-hover"));a.feedbackElement.hide();a._dropPosition="inside"}if(u>(D.top+D.height)-D.height/3){C=D.top+D.height;a._dragOverItem.titleElement.removeClass(a.toThemeProperty("jqx-fill-state-hover"));a.feedbackElement.show();a._dropPosition="after"}a.feedbackElement.css("top",C);var z=-2+parseInt(D.titleElement.offset().left);a.feedbackElement.css("left",z);a.feedbackElement.width(c(D.titleElement).width()+12)}}if(o.left>=z&&o.left<e){if(o.top+20>=f&&o.top<=f+h.host.height()){l=false}if(o.top<f&&o.top>=f-30){clearInterval(h._autoScrollTimer);if(v.value!=0){a.feedbackElement.hide()}h._autoScrollTimer=setInterval(function(){var E=h.panelInstance.scrollUp();var F=h.host.find(".draggable");h._syncItems(F);if(!E){clearInterval(h._autoScrollTimer)}},100)}else{if(o.top>B&&o.top<B+30){clearInterval(h._autoScrollTimer);if(v.value!=v.max){a.feedbackElement.hide()}h._autoScrollTimer=setInterval(function(){var E=h.panelInstance.scrollDown();var F=h.host.find(".draggable");h._syncItems(F);if(!E){clearInterval(h._autoScrollTimer)}},100)}else{clearInterval(h._autoScrollTimer)}}}else{clearInterval(h._autoScrollTimer)}});if(l){if(a.feedbackElement){a.feedbackElement.hide()}}})},_handleDragEnd:function(d,a){d.off("dragEnd");d.on("dragEnd",function(I){var K=a.host.find(".draggable");clearInterval(a._autoScrollTimer);var D=I.args.position;var M=a._trees;var L=null;var A=c.jqx.mobile.isTouchDevice();var H=A?a._lastDraggingPosition:a._getMouseCoordinates(I);a.feedbackElement.remove();if(a._dragCancel){return false}if(a._dragOverItem){a._dragOverItem.titleElement.removeClass(a.toThemeProperty("jqx-fill-state-hover"))}c.each(M,function(){if(c.jqx.isHidden(c(this))){return true}var n=parseInt(c(this).offset().left);var f=n+c(this).width();var h=c.data(this,"jqxTree").instance;clearInterval(h._autoScrollTimer);if(a._dragItem!=null){if(H.left>=n&&H.left<f){var e=parseInt(c(this).offset().top);var l=e+c(this).height();if(H.top>=e&&H.top<=l){L=c(this)}}}});var u=a._dragItem;if(L!=null&&L.length>0){var C=L.jqxTree("allowDrop");if(C){var B=c.data(L[0],"jqxTree").instance;var z=a._dragOverItem;if(z!=null&&a._dragOverItem.treeInstance.element.id==B.element.id){var v=true;if(a.dragEnd){v=a.dragEnd(u,z,I.args,a._dropPosition,L);if(v==false){c(I.args.element).jqxDragDrop({triggerEvents:false});c(I.args.element).jqxDragDrop("cancelDrag");clearInterval(a._autoScrollTimer);c(I.args.element).jqxDragDrop({triggerEvents:true})}if(undefined==v){v=true}}if(v){var J=function(){var e=a._dragItem.treeInstance;e._refreshMapping();e._updateItemsNavigation();e._render(true,false);if(e.checkboxes){e._updateCheckStates()}a._dragItem.treeInstance=B;a._syncItems(a._dragItem.treeInstance.host.find(".draggable"))};if(B.dropAction!="none"){if(a._dragItem.id!=a._dragOverItem.id){if(a._dropPosition=="inside"){B._drop(a._dragItem.element,a._dragOverItem.element,-1,B);J()}else{var F=0;if(a._dropPosition=="after"){F++}B._drop(a._dragItem.element,a._dragOverItem.parentElement,F+c(a._dragOverItem.element).index(),B);J()}}}B._render(true,false);var w=B.host.find(".draggable");a._syncItems(w);a._dragOverItem=null;a._dragItem=null;B._refreshMapping();B._updateItemsNavigation();B.selectedItem=null;B.selectItem(u.element);if(B.checkboxes){B._updateCheckStates()}B._render(true,false)}}else{if(B.dropAction!="none"){if(B.allowDrop){var v=true;if(a.dragEnd){v=a.dragEnd(u,z,I.args,a._dropPosition,L);if(v==false){c(I.args.element).jqxDragDrop({triggerEvents:false});c(I.args.element).jqxDragDrop("cancelDrag");clearInterval(a._autoScrollTimer);c(I.args.element).jqxDragDrop({triggerEvents:true})}if(undefined==v){v=true}}if(v){a._dragItem.parentElement=null;B._drop(a._dragItem.element,null,-1,B);var G=a._dragItem.treeInstance;G._refreshMapping();G._updateItemsNavigation();if(G.checkboxes){G._updateCheckStates()}var w=G.host.find(".draggable");a._syncItems(w);a._dragItem.treeInstance=B;B.items[B.items.length]=a._dragItem;B._render(true,false);B._refreshMapping();B.selectItem(u.element);B._updateItemsNavigation();var w=B.host.find(".draggable");B._syncItems(w);if(B.checkboxes){B._updateCheckStates()}a._dragOverItem=null;a._dragItem=null}}}}}}else{if(a.dragEnd){var E=a.dragEnd(u,I.args);if(false==E){return false}}}if(u!=null){a._raiseEvent(7,{label:u.label,value:u.value,originalEvent:I.args})}return false})},_drop:function(q,a,s,u){if(c(a).parents("#"+q.id).length>0){return}if(a!=null){if(a.id==q.id){return}}var n=this;if(u.element.innerHTML.indexOf("UL")){var l=u.host.find("ul:first")}if(a==undefined&&a==null){if(s==undefined||s==-1){l.append(q)}else{if(l.children("li").eq(s).length==0){l.children("li").eq(s-1).after(q)}else{if(l.children("li").eq(s)[0].id!=q.id){l.children("li").eq(s).before(q)}}}}else{if(s==undefined||s==-1){a=c(a);var t=a.find("ul:first");if(t.length==0){ulElement=c("<ul></ul>");c(a).append(ulElement);t=a.find("ul:first");var o=u.itemMapping["id"+a[0].id].item;o.subtreeElement=t[0];o.hasItems=true;t.addClass(u.toThemeProperty("jqx-tree-dropdown"));t.append(q);q=t.find("li:first");o.parentElement=q}else{t.append(q)}}else{a=c(a);var t=a.find("ul:first");if(t.length==0){ulElement=c("<ul></ul>");c(a).append(ulElement);t=a.find("ul:first");if(a){var o=u.itemMapping["id"+a[0].id].item;o.subtreeElement=t[0];o.hasItems=true}t.addClass(u.toThemeProperty("jqx-tree-dropdown"));t.append(q);q=t.find("li:first");o.parentElement=q}else{if(t.children("li").eq(s).length==0){t.children("li").eq(s-1).after(q)}else{if(t.children("li").eq(s)[0].id!=q.id){t.children("li").eq(s).before(q)}}}}}},_enableDragDrop:function(){if(this.allowDrag&&this.host.jqxDragDrop){var e=this.host.find(".draggable");var f=this;if(e.length>0){e.jqxDragDrop({cursor:"arrow",revertDuration:0,appendTo:"body",dragZIndex:99999,revert:true,initFeedback:function(l){var d=c('<span style="white-space: nowrap;" class="'+f.toThemeProperty("jqx-fill-state-normal")+'">'+l.text()+"</span>");c(document.body).append(d);var h=d.width();d.remove();l.width(h+5);l.addClass(f.toThemeProperty("jqx-fill-state-pressed"))}});var a=e.jqxDragDrop("isDestroyed");if(a===true){e.jqxDragDrop("_createDragDrop")}this._autoScrollTimer=null;f._dragItem=null;f._handleDragStart(e,f);f._handleDragging(e,f);f._handleDragEnd(e,f)}}}})}})(jqxBaseFramework);(function(c){c.jqx.jqxWidget("jqxComboBox","",{});c.extend(c.jqx._jqxComboBox.prototype,{defineInstance:function(){var a={disabled:false,width:200,height:25,items:new Array(),selectedIndex:-1,selectedItems:new Array(),_selectedItems:new Array(),source:null,scrollBarSize:c.jqx.utilities.scrollBarSize,arrowSize:18,enableHover:true,enableSelection:true,visualItems:new Array(),groups:new Array(),equalItemsWidth:true,itemHeight:-1,visibleItems:new Array(),emptyGroupText:"Group",emptyString:"",openDelay:250,closeDelay:300,animationType:"default",dropDownWidth:"auto",dropDownHeight:"200px",autoDropDownHeight:false,enableBrowserBoundsDetection:false,dropDownHorizontalAlignment:"left",searchMode:"startswithignorecase",autoComplete:false,remoteAutoComplete:false,remoteAutoCompleteDelay:500,selectionMode:"default",minLength:2,displayMember:"",valueMember:"",groupMember:"",searchMember:"",keyboardSelection:true,renderer:null,autoOpen:false,checkboxes:false,promptText:"",placeHolder:"",rtl:false,listBox:null,validateSelection:null,showCloseButtons:true,renderSelectedItem:null,search:null,popupZIndex:100000,searchString:null,multiSelect:false,showArrow:true,_disabledItems:new Array(),touchMode:"auto",autoBind:true,aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:["open","close","select","unselect","change","checkChange","bindingComplete"]};c.extend(true,this,a);return a},createInstance:function(a){var d=this;this.host.attr("role","combobox");c.jqx.aria(this,"aria-autocomplete","both");if(c.jqx._jqxListBox==null||c.jqx._jqxListBox==undefined){throw new Error("jqxComboBox: Missing reference to jqxlistbox.js.")}c.jqx.aria(this);if(this.promptText!=""){this.placeHolder=this.promptText}this.render()},render:function(){var v=this;var t=v.element.nodeName.toLowerCase();if(t=="select"||t=="ul"||t=="ol"){v.field=v.element;if(v.field.className){v._className=v.field.className}var w={title:v.field.title};if(v.field.id.length){w.id=v.field.id.replace(/[^\w]/g,"_")+"_jqxComboBox"}else{w.id=c.jqx.utilities.createId()+"_jqxComboBox"}var H=c("<div></div>",w);if(!v.width){v.width=c(v.field).width()}if(!v.height){v.height=c(v.field).outerHeight()}c(v.field).hide().after(H);var A=v.host.data();v.host=H;v.host.data(A);v.element=H[0];v.element.id=v.field.id;v.field.id=w.id;if(v._className){v.host.addClass(v._className);c(v.field).removeClass(v._className)}if(v.field.tabIndex){var F=v.field.tabIndex;v.field.tabIndex=-1;v.element.tabIndex=F}var J=c.jqx.parseSourceTag(v.field);v.source=J.items;if(v.selectedIndex==-1){v.selectedIndex=J.index}}v.removeHandlers();v.isanimating=false;v.id=c.jqx.utilities.createId();v.element.innerHTML="";var E=c("<div style='background-color: transparent; -webkit-appearance: none; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; border: 0px; position: relative;'><div id='dropdownlistWrapper' style='padding: 0; margin: 0; border: none; background-color: transparent; float: left; width:100%; height: 100%; position: relative;'><div id='dropdownlistContent' style='padding: 0; margin: 0; border-top: none; border-bottom: none; float: left; position: absolute;'/><div id='dropdownlistArrow' role='button' style='padding: 0; margin: 0; border-left-width: 1px; border-bottom-width: 0px; border-top-width: 0px; border-right-width: 0px; float: right; position: absolute;'/></div></div>");v.comboStructure=E;if(c.jqx._jqxListBox==null||c.jqx._jqxListBox==undefined){throw"jqxComboBox: Missing reference to jqxlistbox.js."}v.touch=c.jqx.mobile.isTouchDevice();if(v.touchMode===true){v.touch=true}v.host.append(E);v.dropdownlistWrapper=v.host.find("#dropdownlistWrapper");v.dropdownlistArrow=v.host.find("#dropdownlistArrow");v.dropdownlistContent=v.host.find("#dropdownlistContent");v.dropdownlistContent.addClass(v.toThemeProperty("jqx-combobox-content"));v.dropdownlistContent.addClass(v.toThemeProperty("jqx-widget-content"));v.dropdownlistWrapper[0].id="dropdownlistWrapper"+v.element.id;v.dropdownlistArrow[0].id="dropdownlistArrow"+v.element.id;v.dropdownlistContent[0].id="dropdownlistContent"+v.element.id;v.dropdownlistContent.append(c('<input autocomplete="off" style="margin: 0; padding: 0; padding-left: 3px; padding-right: 3px; border: 0;" type="textarea"/>'));v.input=v.dropdownlistContent.find("input");v.input.addClass(v.toThemeProperty("jqx-combobox-input"));v.input.addClass(v.toThemeProperty("jqx-widget-content"));if(v.host.attr("tabindex")){v.input.attr("tabindex",v.host.attr("tabindex"));v.host.removeAttr("tabindex")}v._addInput();if(v.rtl){v.input.css({direction:"rtl"});v.dropdownlistContent.addClass(v.toThemeProperty("jqx-combobox-content-rtl"))}try{var e="listBox"+v.id;var C=c(c.find("#"+e));if(C.length>0){C.remove()}c.jqx.aria(this,"aria-owns",e);c.jqx.aria(this,"aria-haspopup",true);c.jqx.aria(this,"aria-multiline",false);if(v.listBoxContainer){v.listBoxContainer.jqxListBox("destroy")}if(v.container){v.container.remove()}var I=c("<div style='overflow: hidden; border: none; background-color: transparent; position: absolute;' id='listBox"+v.id+"'><div id='innerListBox"+v.id+"'></div></div>");I.hide();I.appendTo(document.body);v.container=I;v.listBoxContainer=c(c.find("#innerListBox"+v.id));var G=v.width;if(v.dropDownWidth!="auto"){G=v.dropDownWidth}if(v.dropDownHeight==null){v.dropDownHeight=200}v.container.width(parseInt(G)+25);v.container.height(parseInt(v.dropDownHeight)+25);v.addHandler(v.listBoxContainer,"bindingComplete",function(d){if(!v.listBox){v.listBox=c.data(v.listBoxContainer[0],"jqxListBox").instance}v._raiseEvent("6")});var B=true;v.listBoxContainer.jqxListBox({_checkForHiddenParent:false,allowDrop:false,allowDrag:false,checkboxes:v.checkboxes,emptyString:v.emptyString,autoBind:!v.remoteAutoComplete&&v.autoBind,renderer:v.renderer,rtl:v.rtl,itemHeight:v.itemHeight,selectedIndex:v.selectedIndex,incrementalSearch:false,width:G,scrollBarSize:v.scrollBarSize,autoHeight:v.autoDropDownHeight,height:v.dropDownHeight,groupMember:v.groupMember,searchMember:v.searchMember,displayMember:v.displayMember,valueMember:v.valueMember,source:v.source,theme:v.theme,rendered:function(){v.listBox=c.data(v.listBoxContainer[0],"jqxListBox").instance;if(v.remoteAutoComplete){if(v.autoDropDownHeight){v.container.height(v.listBox.virtualSize.height+25);v.listBoxContainer.height(v.listBox.virtualSize.height);v.listBox._arrange()}else{v.listBox._arrange();v.listBox.ensureVisible(0);v.listBox._renderItems();v.container.height(v.listBoxContainer.height()+25)}if(v.searchString!=undefined&&v.searchString.length>=v.minLength){var d=v.listBoxContainer.jqxListBox("items");if(d){if(d.length>0){if(!v.isOpened()){v.open()}}else{v.close()}}else{v.close()}}else{v.close()}}else{v.renderSelection("mouse");if(v.multiSelect){v.doMultiSelect(false)}}if(v.rendered){v.rendered()}}});v.listBoxContainer.css({position:"absolute",zIndex:v.popupZIndex,top:0,left:0});v.listBoxContainer.css("border-top-width","1px");v.listBoxContainer.addClass(v.toThemeProperty("jqx-popup"));if(c.jqx.browser.msie){v.listBoxContainer.addClass(v.toThemeProperty("jqx-noshadow"))}v.listBox=c.data(v.listBoxContainer[0],"jqxListBox").instance;v.listBox.enableSelection=v.enableSelection;v.listBox.enableHover=v.enableHover;v.listBox.equalItemsWidth=v.equalItemsWidth;v.listBox._arrange();v.addHandler(v.listBoxContainer,"unselect",function(d){if(!v.multiSelect){v._raiseEvent("3",{index:d.args.index,type:d.args.type,item:d.args.item})}});v.addHandler(v.listBoxContainer,"change",function(d){if(!v.multiSelect){v.selectedIndex=v.listBox.selectedIndex;v._raiseEvent("4",{index:d.args.index,type:d.args.type,item:d.args.item})}});if(v.animationType=="none"){v.container.css("display","none")}else{v.container.hide()}B=false}catch(z){throw z}var a=this;a.input.attr("disabled",a.disabled);var D=c.jqx.browser.msie&&c.jqx.browser.version<8;if(!D){a.input.attr("placeholder",a.placeHolder)}v.propertyChangeMap.disabled=function(l,f,h,d){if(d){l.host.addClass(a.toThemeProperty("jqx-combobox-state-disabled"));l.host.addClass(a.toThemeProperty("jqx-fill-state-disabled"));l.dropdownlistContent.addClass(a.toThemeProperty("jqx-combobox-content-disabled"))}else{l.host.removeClass(a.toThemeProperty("jqx-combobox-state-disabled"));l.host.removeClass(a.toThemeProperty("jqx-fill-state-disabled"));l.dropdownlistContent.removeClass(a.toThemeProperty("jqx-combobox-content-disabled"))}l.input.attr("disabled",l.disabled);c.jqx.aria(l,"aria-disabled",l.disabled);l.input.attr("disabled",l.disabled)};if(v.disabled){v.host.addClass(v.toThemeProperty("jqx-combobox-state-disabled"));v.host.addClass(v.toThemeProperty("jqx-fill-state-disabled"));v.dropdownlistContent.addClass(v.toThemeProperty("jqx-combobox-content-disabled"))}v.host.addClass(v.toThemeProperty("jqx-combobox-state-normal"));v.host.addClass(v.toThemeProperty("jqx-combobox"));v.host.addClass(v.toThemeProperty("jqx-rc-all"));v.host.addClass(v.toThemeProperty("jqx-widget"));v.host.addClass(v.toThemeProperty("jqx-widget-content"));v.dropdownlistArrowIcon=c("<div></div>");v.dropdownlistArrowIcon.addClass(v.toThemeProperty("jqx-icon-arrow-down"));v.dropdownlistArrowIcon.addClass(v.toThemeProperty("jqx-icon"));v.dropdownlistArrow.append(v.dropdownlistArrowIcon);v.dropdownlistArrow.addClass(v.toThemeProperty("jqx-combobox-arrow-normal"));v.dropdownlistArrow.addClass(v.toThemeProperty("jqx-fill-state-normal"));if(!v.rtl){v.dropdownlistArrow.addClass(v.toThemeProperty("jqx-rc-r"))}else{v.dropdownlistArrow.addClass(v.toThemeProperty("jqx-rc-l"))}v._setSize();v._updateHandlers();v.addHandler(v.input,"keyup.textchange",function(f){var d=v._search(f);if(v.cinput&&v.input){if(!v.displayMember){v.cinput[0].value=v.input[0].value}else{v._updateInputSelection()}}});if(c.jqx.browser.msie&&c.jqx.browser.version<8){if(v.host.parents(".jqx-window").length>0){var u=v.host.parents(".jqx-window").css("z-index");I.css("z-index",u+10);v.listBoxContainer.css("z-index",u+10)}}if(v.checkboxes){v.input.attr("readonly",true);c.jqx.aria(this,"aria-readonly",true)}else{c.jqx.aria(this,"aria-readonly",false)}if(!v.remoteAutoComplete){v.searchString=""}},_addInput:function(){var a=this.host.attr("name");this.cinput=c("<input type='hidden'/>");this.host.append(this.cinput);if(a){this.cinput.attr("name",a)}},_updateInputSelection:function(){if(this.cinput){var o=new Array();if(this.selectedIndex==-1){this.cinput.val("")}else{var l=this.getSelectedItem();if(l!=null){this.cinput.val(l.value);o.push(l.value)}else{this.cinput.val(this.dropdownlistContent.text())}}if(this.checkboxes||this.multiSelect){if(!this.multiSelect){var a=this.getCheckedItems()}else{var a=this.getSelectedItems()}var h="";if(a!=null){for(var n=0;n<a.length;n++){if(n==a.length-1){h+=a[n].value}else{h+=a[n].value+","}o.push(a[n].value)}}this.cinput.val(h)}if(this.field&&this.cinput){if(this.field.nodeName.toLowerCase()=="select"){c.each(this.field,function(e,d){c(this).removeAttr("selected");this.selected=o.indexOf(this.value)>=0;if(this.selected){c(this).attr("selected",true)}})}else{c.each(this.items,function(e,d){c(this.originalItem.originalItem).removeAttr("data-selected");this.selected=o.indexOf(this.value)>=0;if(this.selected){c(this.originalItem.originalItem).attr("data-selected",true)}})}}}},_search:function(A){var J=this;if(A.keyCode==9){return}if(J.searchMode=="none"||J.searchMode==null||J.searchMode=="undefined"){return}if(A.keyCode==16||A.keyCode==17||A.keyCode==20){return}if(J.checkboxes){return}if(J.multiSelect){var z=c("<span style='visibility: hidden; white-space: nowrap;'>"+J.input.val()+"</span>");z.addClass(J.toThemeProperty("jqx-widget"));c(document.body).append(z);var D=z.width()+15;z.remove();if(D>J.host.width()){D=J.host.width()}if(D<25){D=25}J.input.css("width",D+"px");if(J.selectedItems.length==0){J.input.css("width","100%");J.input.attr("placeholder",J.placeHolder)}else{J.input.attr("placeholder","")}var H=parseInt(this._findPos(J.host[0])[1])+parseInt(J.host.outerHeight())-1+"px";var w=c.jqx.mobile.isSafariMobileBrowser()||c.jqx.mobile.isWindowsPhone();if((w!=null&&w)){H=c.jqx.mobile.getTopPos(this.element)+parseInt(J.host.outerHeight());if(c("body").css("border-top-width")!="0px"){H=parseInt(H)-this._getBodyOffset().top+"px"}}J.container.css("top",H);var E=parseInt(J.host.height());J.dropdownlistArrow.height(E)}if(!J.isanimating){if(A.altKey&&A.keyCode==38){J.hideListBox("altKey");return false}if(A.altKey&&A.keyCode==40){if(!J.isOpened()){J.showListBox("altKey")}return false}}if(A.keyCode==37||A.keyCode==39){return false}if(A.altKey||A.keyCode==18){return}if(A.keyCode>=33&&A.keyCode<=40){return}if(A.ctrlKey||J.ctrlKey){if(A.keyCode!=88&&A.keyCode!=86){return}}var B=J.input.val();if(B.length==0&&!J.autoComplete){J.listBox.searchString=J.input.val();J.listBox.clearSelection();J.hideListBox("search");J.searchString=J.input.val();return}if(J.remoteAutoComplete){var a=this;var v=function(){a.listBox.vScrollInstance.value=0};if(B.length>=a.minLength){if(!A.ctrlKey&&!A.altKey){if(a.searchString!=B){var C=a.listBoxContainer.jqxListBox("source");if(C==null){a.listBoxContainer.jqxListBox({source:a.source})}if(J._searchTimer){clearTimeout(J._searchTimer)}if(A.keyCode!=13&&A.keyCode!=27){J._searchTimer=setTimeout(function(){v();if(a.autoDropDownHeight){a.listBox.autoHeight=true}a.searchString=a.input.val();if(a.search!=null){a.search(a.input.val())}else{throw"'search' function is not defined"}},J.remoteAutoCompleteDelay)}}a.searchString=B}}else{if(J._searchTimer){clearTimeout(J._searchTimer)}v();a.searchString="";a.listBoxContainer.jqxListBox({source:null})}return}var a=this;if(B===a.searchString){return}if(!(A.keyCode=="27"||A.keyCode=="13")){var L=J._updateItemsVisibility(B);var I=L.matchItems;var K=L.index;if(!J.autoComplete&&!J.removeAutoComplete){if(!J.multiSelect||(J.multiSelect&&K>=0)){J.listBox.selectIndex(K);var t=J.listBox.isIndexInView(K);if(!t){J.listBox.ensureVisible(K)}else{J.listBox._renderItems()}}}if(J.autoComplete&&I.length===0){J.hideListBox("search")}}if(A.keyCode=="13"){var G=J.container.css("display")=="block";if(G&&!J.isanimating){J.hideListBox("keyboard");J._oldvalue=J.listBox.selectedValue;return}}else{if(A.keyCode=="27"){var G=J.container.css("display")=="block";if(G&&!J.isanimating){if(!F.multiSelect){var u=J.listBox.getVisibleItem(J._oldvalue);if(u){var F=this;setTimeout(function(){if(F.autoComplete){F._updateItemsVisibility("")}F.listBox.selectIndex(u.index);F.renderSelection("api")},F.closeDelay)}else{J.clearSelection()}}else{F.input.val("");F.listBox.selectedValue=null}J.hideListBox("keyboard");J.renderSelection("api");A.preventDefault();return false}}else{if(!J.isOpened()&&!J.opening&&!A.ctrlKey){if(J.listBox.visibleItems&&J.listBox.visibleItems.length>0){if(J.input.val()!=J.searchString&&J.searchString!=undefined&&K!=-1){J.showListBox("search")}}}J.searchString=J.input.val();if(J.searchString==""){if(!J.listBox.itemsByValue[""]){K=-1;if(!J.multiSelect){J.clearSelection()}}}var u=J.listBox.getVisibleItem(K);if(u!=undefined){J._updateInputSelection()}}}},val:function(f){if(!this.input){return""}var e=function(d){for(var h in d){if(d.hasOwnProperty(h)){return false}}if(typeof f=="number"){return false}if(typeof f=="date"){return false}if(typeof f=="boolean"){return false}if(typeof f=="string"){return false}return true};if(e(f)||arguments.length==0){var a=this.getSelectedItem();if(a){return a.value}return this.input.val()}else{var a=this.getItemByValue(f);if(a!=null){this.selectItem(a)}else{this.input.val(f)}return this.input.val()}},focus:function(){var d=this;var a=function(){d.input.focus();var e=d.input.val();d._setSelection(0,e.length)};a();setTimeout(function(){a()},10)},_setSelection:function(f,a){try{if("selectionStart" in this.input[0]){this.input[0].focus();this.input[0].setSelectionRange(f,a)}else{var l=this.input[0].createTextRange();l.collapse(true);l.moveEnd("character",a);l.moveStart("character",f);l.select()}}catch(h){}},setContent:function(a){this.input.val(a)},_updateItemsVisibility:function(t){var w=this.getItems();if(w==undefined){return{index:-1,matchItem:new Array()}}var v=this;var A=-1;var s=new Array();var u=0;c.each(w,function(f){var d="";if(!this.isGroup){if(this.searchLabel){d=this.searchLabel}else{if(this.label){d=this.label}else{if(this.value){d=this.value}else{if(this.title){d=this.title}else{d="jqxItem"}}}}d=d.toString();var e=false;switch(v.searchMode){case"containsignorecase":e=c.jqx.string.containsIgnoreCase(d,t);break;case"contains":e=c.jqx.string.contains(d,t);break;case"equals":e=c.jqx.string.equals(d,t);break;case"equalsignorecase":e=c.jqx.string.equalsIgnoreCase(d,t);break;case"startswith":e=c.jqx.string.startsWith(d,t);break;case"startswithignorecase":e=c.jqx.string.startsWithIgnoreCase(d,t);break;case"endswith":e=c.jqx.string.endsWith(d,t);break;case"endswithignorecase":e=c.jqx.string.endsWithIgnoreCase(d,t);break}if(v.autoComplete&&!e){this.visible=false}if(e&&v.autoComplete){s[u++]=this;this.visible=true;A=this.visibleIndex}if(t==""&&v.autoComplete){this.visible=true;e=false}if(v.multiSelect){this.disabled=false;if(v.selectedItems.indexOf(this.value)>=0||v._disabledItems.indexOf(this.value)>=0){this.disabled=true;e=false}}if(!v.multiSelect){if(e&&!v.autoComplete){A=this.visibleIndex;return false}}else{if(e&&!v.autoComplete){if(A===-1){A=this.visibleIndex}return true}}}});this.listBox.searchString=t;var B=this;var z=function(){if(!B.multiSelect){return}var h=0;var d=false;var e=null;for(var f=0;f<B.listBox.items.length;f++){B.listBox.selectedIndexes[f]=-1;if(!B.listBox.items[f].disabled){if(d==false){e=B.listBox.items[f];h=e.visibleIndex;d=true}}}B.listBox.selectedIndex=-1;B.listBox.selectedIndex=h;B.listBox.selectedIndexes[h]=h;if(B.listBox.visibleItems.length>0){if(e){B.listBox.selectedValue=e.value}else{B.listBox.selectedValue=null}}else{B.listBox.selectedValue=null}B.listBox.ensureVisible(0)};if(!this.autoComplete){z();return{index:A,matchItems:s}}this.listBox.renderedVisibleItems=new Array();var F=this.listBox.vScrollInstance.value;this.listBox.vScrollInstance.value=0;this.listBox.visibleItems=new Array();this.listBox._renderItems();var C=this.listBox.selectedValue;var a=this.listBox.getItemByValue(C);if(!this.multiSelect){if(a){if(a.visible){this.listBox.selectedIndex=a.visibleIndex;for(var D=0;D<this.listBox.items.length;D++){this.listBox.selectedIndexes[D]=-1}this.listBox.selectedIndexes[a.visibleIndex]=a.visibleIndex}else{for(var D=0;D<this.listBox.items.length;D++){this.listBox.selectedIndexes[D]=-1}this.listBox.selectedIndex=-1}}}else{z()}this.listBox._renderItems();var q=this.listBox._calculateVirtualSize().height;if(q<F){F=0;this.listBox.vScrollInstance.refresh()}if(this.autoDropDownHeight){this._disableSelection=true;if(this.listBox.autoHeight!=this.autoDropDownHeight){this.listBoxContainer.jqxListBox({autoHeight:this.autoDropDownHeight})}this.container.height(q+25);this.listBox.invalidate();this._disableSelection=false}else{if(q<parseInt(this.dropDownHeight)){var E=this.listBox.hScrollBar[0].style.visibility=="hidden"?0:20;this.listBox.height=E+q;this.container.height(q+25+E);this.listBox.invalidate()}else{this.listBox.height=parseInt(this.dropDownHeight);this.container.height(parseInt(this.dropDownHeight)+25);this.listBox.invalidate()}}this.listBox.vScrollInstance.setPosition(F);return{index:A,matchItems:s}},findItems:function(l){var a=this.getItems();var n=this;var o=0;var h=new Array();c.each(a,function(f){var d="";if(!this.isGroup){if(this.label){d=this.label}else{if(this.value){d=this.value}else{if(this.title){d=this.title}else{d="jqxItem"}}}var e=false;switch(n.searchMode){case"containsignorecase":e=c.jqx.string.containsIgnoreCase(d,l);break;case"contains":e=c.jqx.string.contains(d,l);break;case"equals":e=c.jqx.string.equals(d,l);break;case"equalsignorecase":e=c.jqx.string.equalsIgnoreCase(d,l);break;case"startswith":e=c.jqx.string.startsWith(d,l);break;case"startswithignorecase":e=c.jqx.string.startsWithIgnoreCase(d,l);break;case"endswith":e=c.jqx.string.endsWith(d,l);break;case"endswithignorecase":e=c.jqx.string.endsWithIgnoreCase(d,l);break}if(e){h[o++]=this}}});return h},_resetautocomplete:function(){c.each(this.listBox.items,function(a){this.visible=true});this.listBox.vScrollInstance.value=0;this.listBox._addItems();this.listBox.autoHeight=false;this.listBox.height=this.dropDownHeight;this.container.height(parseInt(this.dropDownHeight)+25);this.listBoxContainer.height(parseInt(this.dropDownHeight));this.listBox._arrange();this.listBox._addItems();this.listBox._renderItems()},getItems:function(){var a=this.listBox.items;return a},getVisibleItems:function(){return this.listBox.getVisibleItems()},_setSize:function(){if(this.width!=null&&this.width.toString().indexOf("px")!=-1){this.host.width(this.width)}else{if(this.width!=undefined&&!isNaN(this.width)){this.host.width(this.width)}}if(this.height!=null&&this.height.toString().indexOf("px")!=-1){this.host.height(this.height)}else{if(this.height!=undefined&&!isNaN(this.height)){this.host.height(this.height)}}var f=false;if(this.width!=null&&this.width.toString().indexOf("%")!=-1){f=true;this.host.width(this.width)}if(this.height!=null&&this.height.toString().indexOf("%")!=-1){f=true;this.host.height(this.height)}if(f){var l=this;var a=this.host.width();if(this.dropDownWidth!="auto"){a=this.dropDownWidth}this.listBoxContainer.jqxListBox({width:a});this.container.width(parseInt(a)+25);this._arrange()}var l=this;var h=function(){if(l.multiSelect){l.host.height(l.height)}l._arrange();if(l.multiSelect){l.host.height("auto")}};l.oldWidth=l.host.width();l.oldHeight=l.host.height();c.jqx.utilities.resize(this.host,function(){var e=l.host.width();var d=l.host.height();if(e!=l.oldWidth||d!=l.oldHeight){h();l.hideListBox("api")}l.oldWidth=e;l.oldHeight=d})},isOpened:function(){var d=this;var a=c.data(document.body,"openedCombojqxListBox"+this.element.id);if(this.container.css("display")!="block"){return false}if(a!=null&&a==d.listBoxContainer){return true}return false},_updateHandlers:function(){var h=this;var f=false;this.removeHandlers();if(this.multiSelect){this.addHandler(this.dropdownlistContent,"click",function(d){if(d.target.href){return false}h.input.focus();setTimeout(function(){h.input.focus()},10)});this.addHandler(this.dropdownlistContent,"focus",function(d){if(d.target.href){return false}h.input.focus();setTimeout(function(){h.input.focus()},10)})}if(!this.touch){if(this.host.parents()){this.addHandler(this.host.parents(),"scroll.combobox"+this.element.id,function(e){var d=h.isOpened();if(d){h.close()}})}this.addHandler(this.host,"mouseenter",function(){if(!h.disabled&&h.enableHover){f=true;h.host.addClass(h.toThemeProperty("jqx-combobox-state-hover"));h.dropdownlistArrowIcon.addClass(h.toThemeProperty("jqx-icon-arrow-down-hover"));h.dropdownlistArrow.addClass(h.toThemeProperty("jqx-combobox-arrow-hover"));h.dropdownlistArrow.addClass(h.toThemeProperty("jqx-fill-state-hover"))}});this.addHandler(this.host,"mouseleave",function(){if(!h.disabled&&h.enableHover){h.host.removeClass(h.toThemeProperty("jqx-combobox-state-hover"));h.dropdownlistArrowIcon.removeClass(h.toThemeProperty("jqx-icon-arrow-down-hover"));h.dropdownlistArrow.removeClass(h.toThemeProperty("jqx-combobox-arrow-hover"));h.dropdownlistArrow.removeClass(h.toThemeProperty("jqx-fill-state-hover"));f=false}})}if(h.autoOpen){this.addHandler(this.host,"mouseenter",function(){var d=h.isOpened();if(!d&&h.autoOpen){h.open();h.host.focus()}});this.addHandler(c(document),"mousemove."+h.id,function(q){var s=h.isOpened();if(s&&h.autoOpen){var d=h.host.coord();var e=d.top;var n=d.left;var o=h.container.coord();var u=o.left;var t=o.top;canClose=true;if(q.pageY>=e&&q.pageY<=e+h.host.height()+2){if(q.pageX>=n&&q.pageX<n+h.host.width()){canClose=false}}if(q.pageY>=t&&q.pageY<=t+h.container.height()-20){if(q.pageX>=u&&q.pageX<u+h.container.width()){canClose=false}}if(canClose){h.close()}}})}var l="mousedown";if(this.touch){l=c.jqx.mobile.getTouchEventName("touchstart")}var a=function(d){if(!h.disabled){var n=h.container.css("display")=="block";if(!h.isanimating){if(n){h.hideListBox("api");if(!c.jqx.mobile.isTouchDevice()){h.input.focus();setTimeout(function(){h.input.focus()},10)}return true}else{if(h.autoDropDownHeight){h.container.height(h.listBoxContainer.height()+25);var e=h.listBoxContainer.jqxListBox("autoHeight");if(!e){h.listBoxContainer.jqxListBox({autoHeight:h.autoDropDownHeight});h.listBox._arrange();h.listBox.ensureVisible(0);h.listBox._renderItems();h.container.height(h.listBoxContainer.height()+25)}}h.showListBox("api");if(!c.jqx.mobile.isTouchDevice()){setTimeout(function(){h.input.focus()},10)}else{return true}}}}};this.addHandler(this.dropdownlistArrow,l,function(d){a(d)});this.addHandler(this.dropdownlistArrowIcon,l,function(d){});this.addHandler(this.host,"focus",function(){h.focus()});this.addHandler(this.input,"focus",function(d){h.focused=true;h.host.addClass(h.toThemeProperty("jqx-combobox-state-focus"));h.host.addClass(h.toThemeProperty("jqx-fill-state-focus"));h.dropdownlistContent.addClass(h.toThemeProperty("jqx-combobox-content-focus"));if(d.stopPropagation){d.stopPropagation()}});this.addHandler(this.input,"blur",function(){h.focused=false;if(!h.isOpened()&&!h.opening){if(h.selectionMode=="dropDownList"){h._selectOldValue()}h.host.removeClass(h.toThemeProperty("jqx-combobox-state-focus"));h.host.removeClass(h.toThemeProperty("jqx-fill-state-focus"));h.dropdownlistContent.removeClass(h.toThemeProperty("jqx-combobox-content-focus"))}if(h._searchTimer){clearTimeout(h._searchTimer)}});this.addHandler(c(document),"mousedown."+this.id,h.closeOpenedListBox,{me:this,listbox:this.listBox,id:this.id});if(this.touch){this.addHandler(c(document),c.jqx.mobile.getTouchEventName("touchstart")+"."+this.id,h.closeOpenedListBox,{me:this,listbox:this.listBox,id:this.id})}this.addHandler(this.host,"keydown",function(d){var o=h.container.css("display")=="block";h.ctrlKey=d.ctrlKey;if(h.host.css("display")=="none"){return true}if(d.keyCode=="13"||d.keyCode=="9"){if(o&&!h.isanimating){if(h.listBox.selectedIndex!=-1){h.renderSelection("mouse");var s=h.listBox.selectedIndex;var e=h.listBox.getVisibleItem(s);if(e){h.listBox.selectedValue=e.value}h._setSelection(h.input.val().length,h.input.val().length);h.hideListBox("keyboard")}if(d.keyCode=="13"){h._oldvalue=h.listBox.selectedValue}if(!h.keyboardSelection){h._raiseEvent("2",{index:h.selectedIndex,type:"keyboard",item:h.getItem(h.selectedIndex)})}if(d.keyCode=="9"){return true}return false}}if(d.keyCode==115){if(!h.isanimating){if(!h.isOpened()){h.showListBox("keyboard")}else{if(h.isOpened()){h.hideListBox("keyboard")}}}return false}if(d.altKey){if(h.host.css("display")=="block"){if(!h.isanimating){if(d.keyCode==38){if(h.isOpened()){h.hideListBox("altKey")}}else{if(d.keyCode==40){if(!h.isOpened()){h.showListBox("altKey")}}}}}}if(d.keyCode=="27"||d.keyCode=="9"){if(h.isOpened()&&!h.isanimating){if(d.keyCode=="27"){if(!h.multiSelect){var e=h.listBox.getItemByValue(h._oldvalue);if(e){setTimeout(function(){if(h.autoComplete){h._updateItemsVisibility("")}h.listBox.selectIndex(e.index);h.renderSelection("api")},h.closeDelay)}else{h.clearSelection()}}else{h.listBox.selectedValue=null;h.input.val("")}}h.hideListBox("keyboard");if(d.keyCode=="9"){return true}h.renderSelection("api");d.preventDefault();return false}}var q=d.keyCode;if(o&&!h.disabled&&q!=8){return h.listBox._handleKeyDown(d)}else{if(!h.disabled&&!o){var q=d.keyCode;if(q==33||q==34||q==35||q==36||q==38||q==40){return h.listBox._handleKeyDown(d)}}}if(q===8&&h.multiSelect){if(h.input.val().length===0){var n=h.selectedItems[h.selectedItems.length-1];h.selectedItems.pop();h._selectedItems.pop();if(n){h._raiseEvent("3",{index:n.index,type:"keyboard",item:n});h._raiseEvent("4",{index:n.index,type:"keyboard",item:n})}h.listBox.selectedValue=null;h.doMultiSelect();return false}}});this.addHandler(this.listBoxContainer,"checkChange",function(d){h.renderSelection("mouse");h._updateInputSelection();h._raiseEvent(5,{label:d.args.label,value:d.args.value,checked:d.args.checked,item:d.args.item})});this.addHandler(this.listBoxContainer,"select",function(d){if(!h.disabled){if(d.args.type!="keyboard"||h.keyboardSelection){h.renderSelection(d.args.type);if(!h.multiSelect){h._raiseEvent("2",{index:d.args.index,type:d.args.type,item:d.args.item})}if(d.args.type=="mouse"){h._oldvalue=h.listBox.selectedValue;if(!h.checkboxes){h.hideListBox("mouse");if(!h.touch){h.input.focus()}else{return false}}}}}});if(this.listBox!=null&&this.listBox.content!=null){this.addHandler(this.listBox.content,"click",function(d){if(!h.disabled){if(h.listBox.itemswrapper){if(d.target===h.listBox.itemswrapper[0]){return true}}if(d.target&&d.target.className){if(d.target.className.indexOf("jqx-fill-state-disabled")>=0){return true}}h.renderSelection("mouse");h._oldvalue=h.listBox.selectedValue;if(!h.touch&&!h.ishiding){if(!h.checkboxes){h.hideListBox("mouse");h.input.focus()}}if(h.touch===true){if(!h.checkboxes){h.hideListBox("mouse")}}}})}},_selectOldValue:function(){var a=this;if(a.listBox.selectedIndex==-1){if(!a.multiSelect){var d=a.listBox.getItemByValue(a._oldvalue);if(d){setTimeout(function(){if(a.autoComplete){a._updateItemsVisibility("")}a.listBox.selectIndex(d.index);a.renderSelection("api")},a.closeDelay)}else{a.clearSelection();a.listBox.selectIndex(0);a.renderSelection("api")}}else{a.listBox.selectedValue=null;a.input.val("")}}else{a.renderSelection("api")}},removeHandlers:function(){var d=this;if(this.dropdownlistWrapper!=null){this.removeHandler(this.dropdownlistWrapper,"mousedown")}if(this.dropdownlistContent){this.removeHandler(this.dropdownlistContent,"click");this.removeHandler(this.dropdownlistContent,"focus")}this.removeHandler(this.host,"keydown");this.removeHandler(this.host,"focus");if(this.input!=null){this.removeHandler(this.input,"focus");this.removeHandler(this.input,"blur")}this.removeHandler(this.host,"mouseenter");this.removeHandler(this.host,"mouseleave");this.removeHandler(c(document),"mousemove."+d.id);if(this.listBoxContainer){this.removeHandler(this.listBoxContainer,"checkChange");this.removeHandler(this.listBoxContainer,"select")}if(this.host.parents()){this.removeHandler(this.host.parents(),"scroll.combobox"+this.element.id)}if(this.dropdownlistArrowIcon&&this.dropdownlistArrow){var a="mousedown";if(this.touch){a=c.jqx.mobile.getTouchEventName("touchstart")}this.removeHandler(this.dropdownlistArrowIcon,a);this.removeHandler(this.dropdownlistArrow,a)}},getItem:function(a){var d=this.listBox.getItem(a);return d},getItemByValue:function(d){var a=this.listBox.getItemByValue(d);return a},getVisibleItem:function(a){var d=this.listBox.getVisibleItem(a);return d},renderSelection:function(o){if(o==undefined||o=="none"){return}if(this._disableSelection===true){return}if(this.listBox==null){return}if(this.multiSelect){return}var n=this.listBox.visibleItems[this.listBox.selectedIndex];if(this.autoComplete&&!this.checkboxes){if(this.listBox.selectedValue!==undefined){var n=this.getItemByValue(this.listBox.selectedValue)}}if(this.checkboxes){var t=this.getCheckedItems();if(t!=null&&t.length>0){n=t[0]}else{n=null}}if(n==null){var v=c.jqx.browser.msie&&c.jqx.browser.version<8;this.input.val("");this.input.attr("value","");if(!v){this.input.attr("placeholder",this.placeHolder)}this._updateInputSelection();return}this.selectedIndex=this.listBox.selectedIndex;var w=c("<span></span>");if(n.label!=undefined&&n.label!=null&&n.label.toString().length>0){c.jqx.utilities.html(w,n.label)}else{if(n.value!=undefined&&n.value!=null&&n.value.toString().length>0){c.jqx.utilities.html(w,n.value)}else{if(n.title!=undefined&&n.title!=null&&n.title.toString().length>0){c.jqx.utilities.html(w,n.title)}else{c.jqx.utilities.html(w,this.emptyString)}}}var z=w.outerHeight();if(this.checkboxes){var s=this.getCheckedItems();var q="";for(var u=0;u<s.length;u++){if(u==s.length-1){q+=s[u].label}else{q+=s[u].label+", "}}this.input.val(q)}else{this.input.val(w.text())}w.remove();this._updateInputSelection();if(this.renderSelectedItem){var a=this.renderSelectedItem(this.listBox.selectedIndex,n);if(a!=undefined){this.input[0].value=a}}this.input.attr("value",this.input.val());if(this.listBox&&this.listBox._activeElement){c.jqx.aria(this,"aria-activedescendant",this.listBox._activeElement.id)}},dataBind:function(){this.listBoxContainer.jqxListBox({source:this.source});this.renderSelection("mouse");if(this.source==null){this.clearSelection()}},clear:function(){this.listBoxContainer.jqxListBox({source:null});this.clearSelection()},clearSelection:function(a){this.selectedIndex=-1;this.listBox.clearSelection();this.input.val("");if(this.multiSelect){this.listBox.selectedValue="";this.selectedItems=new Array();this._selectedItems=new Array();this.doMultiSelect(false)}},unselectIndex:function(l,h){if(isNaN(l)){return}if(this.autoComplete){this._updateItemsVisibility("")}this.listBox.unselectIndex(l,h);this.renderSelection("mouse");if(this.multiSelect){if(l>=0){var a=this.getItem(l);var f=this.selectedItems.indexOf(a.value);if(f>=0){if(a.value===this.listBox.selectedValue){this.listBox.selectedValue=null}this.selectedItems.splice(f,1);this._selectedItems.splice(f,1)}}this.doMultiSelect(false)}},selectIndex:function(a,h,f,l){if(this.autoComplete){this._updateItemsVisibility("")}this.listBox.selectIndex(a,h,f,l);this.renderSelection("mouse");this.selectedIndex=a;if(this.multiSelect){this.doMultiSelect()}},selectItem:function(a){if(this.autoComplete){this._updateItemsVisibility("")}if(this.listBox!=undefined){this.listBox.selectedIndex=-1;this.listBox.selectItem(a);this.selectedIndex=this.listBox.selectedIndex;this.renderSelection("mouse");if(this.multiSelect){this.doMultiSelect(false)}}},unselectItem:function(e){if(this.autoComplete){this._updateItemsVisibility("")}if(this.listBox!=undefined){this.listBox.unselectItem(e);this.renderSelection("mouse");if(this.multiSelect){var a=this.getItemByValue(e);if(a){var f=this.selectedItems.indexOf(a.value);if(f>=0){if(a.value===this.listBox.selectedValue){this.listBox.selectedValue=null}this.selectedItems.splice(f,1);this._selectedItems.splice(f,1)}}this.doMultiSelect(false)}}},checkItem:function(a){if(this.autoComplete){this._updateItemsVisibility("")}if(this.listBox!=undefined){this.listBox.checkItem(a)}},uncheckItem:function(a){if(this.autoComplete){this._updateItemsVisibility("")}if(this.listBox!=undefined){this.listBox.uncheckItem(a)}},indeterminateItem:function(a){if(this.autoComplete){this._updateItemsVisibility("")}if(this.listBox!=undefined){this.listBox.indeterminateItem(a)}},getSelectedValue:function(){return this.listBox.selectedValue},getSelectedIndex:function(){if(!this.multiSelect){return this.listBox.selectedIndex}else{if(this.remoteAutoComplete&&this.multiSelect&&this._selectedItems.length>0){return this.getSelectedItems()[0].index}if(this._selectedItems&&this._selectedItems.length>0){return this.getSelectedItems()[0].index}}},getSelectedItem:function(){if(!this.multiSelect){return this.getVisibleItem(this.listBox.selectedIndex)}else{if(this.remoteAutoComplete&&this.multiSelect&&this._selectedItems.length>0){return this.getSelectedItems()[0]}if(this._selectedItems&&this._selectedItems.length>0){return this.getSelectedItems()[0]}return null}},getSelectedItems:function(){if(this.remoteAutoComplete&&this.multiSelect){return this._selectedItems}var d=new Array();var a=this;c.each(this.selectedItems,function(){var e=a.getItemByValue(this);if(e){d.push(e)}else{var e=a._selectedItems[this];if(e){d.push(e)}}});return d},getCheckedItems:function(){return this.listBox.getCheckedItems()},checkIndex:function(a){this.listBox.checkIndex(a)},uncheckIndex:function(a){this.listBox.uncheckIndex(a)},indeterminateIndex:function(a){this.listBox.indeterminateIndex(a)},checkAll:function(){this.listBox.checkAll();this.renderSelection("mouse")},uncheckAll:function(){this.listBox.uncheckAll();this.renderSelection("mouse")},insertAt:function(d,a){if(d==null){return false}return this.listBox.insertAt(d,a)},addItem:function(a){return this.listBox.addItem(a)},removeAt:function(d){var a=this.listBox.removeAt(d);this.renderSelection("mouse");return a},removeItem:function(d){var a=this.listBox.removeItem(d);this.renderSelection("mouse");return a},updateItem:function(f,e){var a=this.listBox.updateItem(f,e);this.renderSelection("mouse");return a},updateAt:function(e,f){var a=this.listBox.updateAt(e,f);this.renderSelection("mouse");return a},ensureVisible:function(a){return this.listBox.ensureVisible(a)},disableAt:function(a){var d=this.getVisibleItem(a);if(d){this._disabledItems.push(d.value)}return this.listBox.disableAt(a)},enableAt:function(a){var d=this.getVisibleItem(a);if(d){this._disabledItems.splice(this._disabledItems.indexOf(d.value),1)}return this.listBox.enableAt(a)},disableItem:function(a){var a=this.getVisibleItem(a);if(a){this._disabledItems.push(a.value)}return this.listBox.disableItem(a)},enableItem:function(a){var a=this.getVisibleItem(a);if(a){this._disabledItems.splice(this._disabledItems.indexOf(a.value),1)}return this.listBox.enableItem(a)},_findPos:function(d){while(d&&(d.type=="hidden"||d.nodeType!=1||c.expr.filters.hidden(d))){d=d.nextSibling}if(d){var a=c(d).coord(true);return[a.left,a.top]}},testOffset:function(n,q,u){var o=n.outerWidth();var a=n.outerHeight();var l=c(window).width()+c(window).scrollLeft();var s=c(window).height()+c(window).scrollTop();if(q.left+o>l){if(o>this.host.width()){var t=this.host.coord().left;var v=o-this.host.width();q.left=t-v+2}}if(q.left<0){q.left=parseInt(this.host.coord().left)+"px"}q.top-=Math.min(q.top,(q.top+a>s&&s>a)?Math.abs(a+u+23):0);return q},open:function(){if(!this.isOpened()&&!this.opening){this.showListBox("api")}},close:function(){if(this.isOpened()){this.hideListBox("api")}},_getBodyOffset:function(){var d=0;var a=0;if(c("body").css("border-top-width")!="0px"){d=parseInt(c("body").css("border-top-width"));if(isNaN(d)){d=0}}if(c("body").css("border-left-width")!="0px"){a=parseInt(c("body").css("border-left-width"));if(isNaN(a)){a=0}}return{left:a,top:d}},showListBox:function(H){if(this.listBox.items&&this.listBox.items.length==0){return}if(H=="search"&&!this.autoComplete&&!this.remoteAutoComplete){if(this.autoDropDownHeight){this.container.height(this.listBoxContainer.height()+25)}}if(this.autoComplete||this.multiSelect&&!this.remoteAutoComplete){if(H!="search"){this._updateItemsVisibility("");if(this.multiSelect){var D=this.getVisibleItems();for(var z=0;z<D.length;z++){if(!D[z].disabled){this.ensureVisible(z);break}}}}}if(this.remoteAutoComplete){this.listBox.clearSelection()}if(H!="search"){this._oldvalue=this.listBox.selectedValue}c.jqx.aria(this,"aria-expanded",true);if(this.dropDownWidth=="auto"&&this.width!=null&&this.width.indexOf&&this.width.indexOf("%")!=-1){if(this.listBox.host.width()!=this.host.width()){var B=this.host.width();this.listBoxContainer.jqxListBox({width:B});this.container.width(parseInt(B)+25)}}var E=this;var K=this.listBoxContainer;var a=this.listBox;var N=c(window).scrollTop();var M=c(window).scrollLeft();var G=parseInt(this._findPos(this.host[0])[1])+parseInt(this.host.outerHeight())-1+"px";var O,C=parseInt(Math.round(this.host.coord(true).left));O=C+"px";var w=c.jqx.mobile.isSafariMobileBrowser()||c.jqx.mobile.isWindowsPhone();this.ishiding=false;var L=c.jqx.utilities.hasTransform(this.host);if(L||(w!=null&&w)){O=c.jqx.mobile.getLeftPos(this.element);G=c.jqx.mobile.getTopPos(this.element)+parseInt(this.host.outerHeight());if(c("body").css("border-top-width")!="0px"){G=parseInt(G)-this._getBodyOffset().top+"px"}if(c("body").css("border-left-width")!="0px"){O=parseInt(O)-this._getBodyOffset().left+"px"}}this.host.addClass(this.toThemeProperty("jqx-combobox-state-selected"));this.dropdownlistArrowIcon.addClass(this.toThemeProperty("jqx-icon-arrow-down-selected"));this.dropdownlistArrow.addClass(this.toThemeProperty("jqx-combobox-arrow-selected"));this.dropdownlistArrow.addClass(this.toThemeProperty("jqx-fill-state-pressed"));this.host.addClass(this.toThemeProperty("jqx-combobox-state-focus"));this.host.addClass(this.toThemeProperty("jqx-fill-state-focus"));this.dropdownlistContent.addClass(this.toThemeProperty("jqx-combobox-content-focus"));this.container.css("left",O);this.container.css("top",G);a._arrange();var P=true;var Q=false;if(this.dropDownHorizontalAlignment=="right"||this.rtl){var I=this.container.outerWidth();var A=Math.abs(I-this.host.width());if(I>this.host.width()){this.container.css("left",25+parseInt(Math.round(C))-A+"px")}else{this.container.css("left",25+parseInt(Math.round(C))+A+"px")}}if(this.enableBrowserBoundsDetection){var J=this.testOffset(K,{left:parseInt(this.container.css("left")),top:parseInt(G)},parseInt(this.host.outerHeight()));if(parseInt(this.container.css("top"))!=J.top){Q=true;K.css("top",23);K.addClass(this.toThemeProperty("jqx-popup-up"))}else{K.css("top",0)}this.container.css("top",J.top);this.container.css("top",J.top);if(parseInt(this.container.css("left"))!=J.left){this.container.css("left",J.left)}}if(this.animationType=="none"){this.container.css("display","block");c.data(document.body,"openedCombojqxListBoxParent",E);c.data(document.body,"openedCombojqxListBox"+E.element.id,K);K.css("margin-top",0);K.css("opacity",1)}else{this.container.css("display","block");var F=K.outerHeight();K.stop();if(this.animationType=="fade"){K.css("margin-top",0);K.css("opacity",0);K.animate({opacity:1},this.openDelay,function(){E.isanimating=false;E.opening=false;c.data(document.body,"openedCombojqxListBoxParent",E);c.data(document.body,"openedCombojqxListBox"+E.element.id,K)})}else{K.css("opacity",1);if(Q){K.css("margin-top",F)}else{K.css("margin-top",-F)}this.isanimating=true;this.opening=true;K.animate({"margin-top":0},this.openDelay,function(){E.isanimating=false;E.opening=false;c.data(document.body,"openedCombojqxListBoxParent",E);c.data(document.body,"openedCombojqxListBox"+E.element.id,K)})}}a._renderItems();if(!Q){this.host.addClass(this.toThemeProperty("jqx-rc-b-expanded"));K.addClass(this.toThemeProperty("jqx-rc-t-expanded"));this.dropdownlistArrow.addClass(this.toThemeProperty("jqx-rc-b-expanded"))}else{this.host.addClass(this.toThemeProperty("jqx-rc-t-expanded"));K.addClass(this.toThemeProperty("jqx-rc-b-expanded"));this.dropdownlistArrow.addClass(this.toThemeProperty("jqx-rc-t-expanded"))}K.addClass(this.toThemeProperty("jqx-fill-state-focus"));this._raiseEvent("0",a)},doMultiSelect:function(u){if(this.checkboxes){this.multiSelect=false}var s=this;if(!this.multiSelect){var o=s.dropdownlistContent.find(".jqx-button");var t="mousedown";if(this.touch){t=c.jqx.mobile.getTouchEventName("touchstart")}this.removeHandler(o,t);this.removeHandler(o.find(".jqx-icon-close"),t);o.remove();this.selectedItems=new Array();this._selectedItems=new Array();return}if(this.validateSelection){var a=this.validateSelection(this.listBox.selectedValue);if(!a){return}}var n=this.selectedItems;if(this.listBox.selectedValue){if(this.selectedItems.indexOf(this.listBox.selectedValue)===-1){var l=this.getItemByValue(this.listBox.selectedValue);if(l&&l.visible){this.selectedItems.push(this.listBox.selectedValue);this._selectedItems.push(l);this._raiseEvent("2",{index:l.index,item:l});this._raiseEvent("4",{index:l.index,item:l})}}this.listBox.selectedIndex=0}var q=this.listBox.items;if(!q){return}for(var v=0;v<q.length;v++){q[v].disabled=false;if(this.selectedItems.indexOf(q[v].value)>=0||this._disabledItems.indexOf(this.value)>=0){q[v].disabled=true}}this.listBox._renderItems();this.searchString="";this.input.val("");var q="";var t="mousedown";var o=s.dropdownlistContent.find(".jqx-button");if(this.touch){t=c.jqx.mobile.getTouchEventName("touchstart")}this.removeHandler(o,t);this.removeHandler(o.find(".jqx-icon-close"),t);o.remove();s.input.detach();if(this.selectedItems.length>0){s.input.css("width","25px");s.input.attr("placeholder","")}else{s.input.css("width","100%");s.input.attr("placeholder",this.placeHolder)}c.each(this.selectedItems,function(e){var A=s.getItemByValue(this);if(!A||s.remoteAutoComplete){A=s._selectedItems[e]}var w=c('<div style="overflow: hidden; float: left;"></div>');w.addClass(s.toThemeProperty("jqx-button"));w.addClass(s.toThemeProperty("jqx-combobox-multi-item"));w.addClass(s.toThemeProperty("jqx-fill-state-normal"));w.addClass(s.toThemeProperty("jqx-rc-all"));if(A){var h=A.label;if(s.renderSelectedItem){var f=s.renderSelectedItem(e,A);if(f){h=f}}if(w[0].innerHTML==""){w[0].innerHTML='<a data-value="'+A.value+'" style="float: left;" href="#">'+h+"</a>"}if(s.rtl){w[0].innerHTML='<a data-value="'+A.value+'" style="float: right;" href="#">'+h+"</a>"}var z=!s.rtl?"right":"left";if(s.showCloseButtons){var d='<div style="position: relative; overflow: hidden; float: '+z+'; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -7px; float: none; width: 16px; height: 16px;" class="'+s.toThemeProperty("jqx-icon-close")+'"></div></div>';if(c.jqx.browser.msie&&c.jqx.browser.version<8){d='<div style="position: relative; overflow: hidden; float: left; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -7px; float: none; width: 16px; height: 16px;" class="'+s.toThemeProperty("jqx-icon-close")+'"></div></div>'}if(s.rtl){var d='<div style="position: relative; overflow: hidden; float: '+z+'; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-top: -7px; float: none; width: 16px; height: 16px;" class="'+s.toThemeProperty("jqx-icon-close")+'"></div></div>';if(c.jqx.browser.msie&&c.jqx.browser.version<8){d='<div style="position: relative; overflow: hidden; float: left; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-top: -7px; float: none; width: 16px; height: 16px;" class="'+s.toThemeProperty("jqx-icon-close")+'"></div></div>'}}w[0].innerHTML+=d}}else{if(w[0].innerHTML==""){w[0].innerHTML='<a href="#"></a>'}}s.dropdownlistContent.append(w)});s.dropdownlistContent.append(s.input);s.input.val("");if(u!==false){s.input.focus();setTimeout(function(){s.input.focus()},10)}var o=s.dropdownlistContent.find(".jqx-button");if(this.touchMode===true){t="mousedown"}this.addHandler(o,t,function(e){if(e.target.className.indexOf("jqx-icon-close")>=0){return true}if(s.disabled){return true}var d=c(e.target).attr("data-value");var f=s.getItemByValue(d);if(f){s.listBox.selectedValue=null;s.listBox.clearSelection()}s.listBox.scrollTo(0,0);s.open();if(e.preventDefault){e.preventDefault()}if(e.stopPropagation){e.stopPropagation()}return false});this.addHandler(o.find(".jqx-icon-close"),t,function(w){if(s.disabled){return}var f=c(w.target).parent().parent().find("a").attr("data-value");var z=s.getItemByValue(f);if(z||(s.remoteAutoComplete&&!z&&s.selectedItems.indexOf(f)>=0)){s.listBox.selectedValue=null;var e=s.selectedItems.indexOf(f);var A=z&&z.index>=0?z.index:e;if(e>=0){s.selectedItems.splice(e,1);var h=s._selectedItems[e];if(!h){h=z}s._selectedItems.splice(e,1);s._raiseEvent("3",{index:A,type:"mouse",item:h});s._raiseEvent("4",{index:A,type:"mouse",item:h});s.doMultiSelect()}else{for(var d=0;d<s.selectedItems.length;d++){var h=s.selectedItems[d];if(h==f){s.selectedItems.splice(d,1);s._selectedItems.splice(d,1);s._raiseEvent("3",{index:A,type:"mouse",item:z});s._raiseEvent("4",{index:A,type:"mouse",item:z});s.doMultiSelect();break}}}}});s.dropdownlistArrow.height(this.host.height());s._updateInputSelection()},hideListBox:function(l){var o=this.listBoxContainer;var n=this.listBox;var t=this.container;if(this.container[0].style.display=="none"){return}c.jqx.aria(this,"aria-expanded",false);if(l=="keyboard"||l=="mouse"){this.listBox.searchString=""}if(l=="keyboard"||l=="mouse"&&this.multiSelect){this.doMultiSelect()}var s=this;c.data(document.body,"openedCombojqxListBox"+this.element.id,null);if(this.animationType=="none"){this.opening=false;this.container.css("display","none")}else{if(!this.ishiding){var a=o.outerHeight();o.css("margin-top",0);o.stop();this.opening=false;this.isanimating=true;var q=-a;if(parseInt(this.container.coord().top)<parseInt(this.host.coord().top)){q=a}if(this.animationType=="fade"){o.css({opacity:1});o.animate({opacity:0},this.closeDelay,function(){s.isanimating=false;t.css("display","none");s.ishiding=false})}else{o.animate({"margin-top":q},this.closeDelay,function(){s.isanimating=false;t.css("display","none");s.ishiding=false})}}}this.ishiding=true;this.host.removeClass(this.toThemeProperty("jqx-combobox-state-selected"));this.dropdownlistArrowIcon.removeClass(this.toThemeProperty("jqx-icon-arrow-down-selected"));this.dropdownlistArrow.removeClass(this.toThemeProperty("jqx-combobox-arrow-selected"));this.dropdownlistArrow.removeClass(this.toThemeProperty("jqx-fill-state-pressed"));if(!this.focused){this.host.removeClass(this.toThemeProperty("jqx-combobox-state-focus"));this.host.removeClass(this.toThemeProperty("jqx-fill-state-focus"));this.dropdownlistContent.removeClass(this.toThemeProperty("jqx-combobox-content-focus"))}this.host.removeClass(this.toThemeProperty("jqx-rc-b-expanded"));o.removeClass(this.toThemeProperty("jqx-rc-t-expanded"));this.host.removeClass(this.toThemeProperty("jqx-rc-t-expanded"));o.removeClass(this.toThemeProperty("jqx-rc-b-expanded"));o.removeClass(this.toThemeProperty("jqx-fill-state-focus"));this.dropdownlistArrow.removeClass(this.toThemeProperty("jqx-rc-t-expanded"));this.dropdownlistArrow.removeClass(this.toThemeProperty("jqx-rc-b-expanded"));this._raiseEvent("1",n)},closeOpenedListBox:function(n){var o=n.data.me;var a=c(n.target);var q=n.data.listbox;if(q==null){return true}if(c(n.target).ischildof(n.data.me.host)){return}var l=o;var h=false;c.each(a.parents(),function(){if(this.className!="undefined"){if(this.className.indexOf){if(this.className.indexOf("jqx-listbox")!=-1){h=true;return false}if(this.className.indexOf("jqx-combobox")!=-1){if(o.element.id==this.id){h=true}return false}}}});if(q!=null&&!h){if(o.isOpened()){o.hideListBox("api");o.input.blur()}}return true},loadFromSelect:function(a){this.listBox.loadFromSelect(a);this.clearSelection()},refresh:function(a){this._setSize();this._arrange();if(this.listBox){this.renderSelection()}},resize:function(){this._setSize();this._arrange()},_arrange:function(){var t=parseInt(this.host.width());var a=parseInt(this.host.height());var s=this.arrowSize;var q=this.arrowSize;var n=1;if(!this.showArrow){q=0;s=0;this.dropdownlistArrow.hide();n=0;this.host.css("cursor","arrow")}var v=t-q-1*n;if(v>0){this.dropdownlistContent[0].style.width=v+"px"}if(this.rtl){this.dropdownlistContent[0].style.width=(-1+v+"px")}this.dropdownlistContent[0].style.height=a+"px";this.dropdownlistContent[0].style.left="0px";this.dropdownlistContent[0].style.top="0px";this.dropdownlistArrow[0].style.width=q+1+"px";this.dropdownlistArrow[0].style.height=a+"px";this.dropdownlistArrow[0].style.left=1+v+"px";this.input[0].style.width="100%";if(!this.multiSelect){this.input.height(a)}var u=this.input.height();if(u==0){u=parseInt(this.input.css("font-size"))+3}if(this.input[0].className.indexOf("jqx-rc-all")==-1){this.input.addClass(this.toThemeProperty("jqx-rc-all"))}var l=parseInt(a)/2-parseInt(u)/2;if(l>0){}if(this.rtl){this.dropdownlistArrow.css("left","0px");this.dropdownlistContent.css("left",this.dropdownlistArrow.width());if(c.jqx.browser.msie&&c.jqx.browser.version<=8){this.dropdownlistContent.css("left",1+this.dropdownlistArrow.width())}}if(this.multiSelect){this.input.css("float","left");this.dropdownlistWrapper.parent().css("height","auto");this.dropdownlistContent.css("height","auto");this.dropdownlistWrapper.css("height","auto");this.dropdownlistContent.css("position","relative");this.dropdownlistContent.css("cursor","text");this.host.css("height","auto");this.host.css("min-height",this.height);this.dropdownlistContent.css("min-height",this.height);var a=parseInt(this.host.height());this.dropdownlistArrow.height(a);var o=parseInt(this.host.css("min-height"));var l=parseInt(o)/2-parseInt(u)/2;if(l>0){this.input.css("margin-top",l)}}},destroy:function(){if(this.source&&this.source.unbindBindingUpdate){this.source.unbindBindingUpdate(this.element.id);this.source.unbindBindingUpdate(this.listBoxContainer[0].id);this.source.unbindDownloadComplete(this.element.id);this.source.unbindDownloadComplete(this.listBoxContainer[0].id)}c.jqx.utilities.resize(this.host,null,true);this.removeHandler(this.listBoxContainer,"select");this.removeHandler(this.listBoxContainer,"unselect");this.removeHandler(this.listBoxContainer,"change");this.removeHandler(this.listBoxContainer,"bindingComplete");this.removeHandler(this.dropdownlistWrapper,"selectstart");this.removeHandler(this.dropdownlistWrapper,"mousedown");this.removeHandler(this.host,"keydown");this.removeHandler(this.listBoxContainer,"select");this.removeHandler(this.listBox.content,"click");this.removeHandlers();this.removeHandler(this.input,"keyup.textchange");this.listBoxContainer.jqxListBox("destroy");this.listBoxContainer.remove();this.host.removeClass();this.removeHandler(c(document),"mousedown."+this.id,this.closeOpenedListBox);if(this.touch){this.removeHandler(c(document),c.jqx.mobile.getTouchEventName("touchstart")+"."+this.id)}this.cinput.remove();delete this.cinput;this.dropdownlistArrow.remove();delete this.dropdownlistArrow;this.dropdownlistArrowIcon.remove();delete this.dropdownlistArrowIcon;delete this.dropdownlistWrapper;delete this.listBoxContainer;delete this.input;delete this.dropdownlistContent;delete this.comboStructure;this.container.remove();delete this.listBox;delete this.container;var a=c.data(this.element,"jqxComboBox");if(a){delete a.instance}this.host.removeData();this.host.remove();delete this.host;delete this.set;delete this.get;delete this.call;delete this.element},_raiseEvent:function(h,o){if(o==undefined){o={owner:null}}var n=this.events[h];args=o;args.owner=this;var l=new c.Event(n);l.owner=this;if(h==2||h==3||h==4||h==5){l.args=o}var a=this.host.trigger(l);return a},propertyChangedHandler:function(a,o,h,l){if(a.isInitialized==undefined||a.isInitialized==false){return}if(o=="itemHeight"){a.listBoxContainer.jqxListBox({itemHeight:l})}if(o=="renderSelectedItem"){a.renderSelection("mouse")}if(o=="renderer"){a.listBoxContainer.jqxListBox({renderer:l})}if(o=="enableSelection"){a.listBoxContainer.jqxListBox({enableSelection:l})}if(o=="enableHover"){a.listBoxContainer.jqxListBox({enableHover:l})}if(o==="touchMode"){a.listBoxContainer.jqxListBox({touchMode:l});a.touch=c.jqx.mobile.isTouchDevice();if(a.touchMode===true){a.touch=true}a._updateHandlers()}if(o=="multiSelect"){if(l){a.doMultiSelect(false)}else{a.doMultiSelect(false);a.dropdownlistWrapper.parent().css("height","100%");a.dropdownlistContent.css("height","100");a.dropdownlistWrapper.css("height","100");a.dropdownlistContent.css("position","relative");a.host.css("min-height",null);a._setSize();a._arrange()}}if(o=="showArrow"){a._arrange();if(a.multiSelect){a.doMultiSelect(false)}}if(o=="placeHolder"){a.input.attr("placeholder",a.placeHolder)}if(o=="popupZIndex"){a.listBoxContainer.css({zIndex:a.popupZIndex})}if(o=="promptText"){a.placeHolder=l}if(o=="autoOpen"){a._updateHandlers()}if(o=="renderer"){a.listBox.renderer=a.renderer}if(o=="itemHeight"){a.listBox.itemHeight=l}if(o=="source"){a.input.val("");a.listBoxContainer.jqxListBox({source:a.source});a.renderSelection("mouse");if(a.source==null){a.clearSelection()}if(a.multiSelect){a.selectedItems=new Array();a._selectedItems=new Array();a.doMultiSelect(false)}}if(o=="rtl"){if(l){a.dropdownlistArrow.css("float","left");a.dropdownlistContent.css("float","right")}else{a.dropdownlistArrow.css("float","right");a.dropdownlistContent.css("float","left")}a.listBoxContainer.jqxListBox({rtl:a.rtl})}if(o=="displayMember"||o=="valueMember"){a.listBoxContainer.jqxListBox({displayMember:a.displayMember,valueMember:a.valueMember});a.renderSelection("mouse")}if(o=="autoDropDownHeight"){a.listBoxContainer.jqxListBox({autoHeight:a.autoDropDownHeight});if(a.autoDropDownHeight){a.container.height(a.listBoxContainer.height()+25)}else{a.listBoxContainer.jqxListBox({height:a.dropDownHeight});a.container.height(parseInt(a.dropDownHeight)+25)}a.listBox._arrange();a.listBox._updatescrollbars()}if(o=="dropDownHeight"){if(!a.autoDropDownHeight){a.listBoxContainer.jqxListBox({height:a.dropDownHeight});a.container.height(parseInt(a.dropDownHeight)+25)}}if(o=="dropDownWidth"||o=="scrollBarSize"){var n=a.width;if(a.dropDownWidth!="auto"){n=a.dropDownWidth}a.listBoxContainer.jqxListBox({width:n,scrollBarSize:a.scrollBarSize});a.container.width(parseInt(n)+25)}if(o=="autoComplete"){a._resetautocomplete()}if(o=="checkboxes"){a.listBoxContainer.jqxListBox({checkboxes:a.checkboxes});if(a.checkboxes){a.input.attr("readonly",true);c.jqx.aria(a,"aria-readonly",true)}else{c.jqx.aria(a,"aria-readonly",false)}}if(o=="theme"&&l!=null){a.listBoxContainer.jqxListBox({theme:l});a.listBoxContainer.addClass(a.toThemeProperty("jqx-popup"));if(c.jqx.browser.msie){a.listBoxContainer.addClass(a.toThemeProperty("jqx-noshadow"))}c.jqx.utilities.setTheme(h,l,a.host)}if(o=="rtl"){a.render();a.refresh()}if(o=="width"||o=="height"){a._setSize();if(o=="width"){if(a.dropDownWidth=="auto"){var n=a.host.width();a.listBoxContainer.jqxListBox({width:n});a.container.width(parseInt(n)+25)}}a._arrange()}if(o=="selectedIndex"){a.listBox.selectIndex(l);a.renderSelection("mouse")}}})})(jqxBaseFramework);(function(c){c.jqx.jqxWidget("jqxDropDownList","",{});c.extend(c.jqx._jqxDropDownList.prototype,{defineInstance:function(){var a={disabled:false,width:null,height:null,items:new Array(),selectedIndex:-1,source:null,scrollBarSize:15,arrowSize:19,enableHover:true,enableSelection:true,visualItems:new Array(),groups:new Array(),equalItemsWidth:true,itemHeight:-1,visibleItems:new Array(),emptyGroupText:"Group",checkboxes:false,openDelay:250,closeDelay:300,animationType:"default",autoOpen:false,dropDownWidth:"auto",dropDownHeight:"200px",autoDropDownHeight:false,keyboardSelection:true,enableBrowserBoundsDetection:false,dropDownHorizontalAlignment:"left",displayMember:"",valueMember:"",groupMember:"",searchMember:"",searchMode:"startswithignorecase",incrementalSearch:true,incrementalSearchDelay:700,renderer:null,placeHolder:"Please Choose:",promptText:"Please Choose:",emptyString:"",rtl:false,selectionRenderer:null,listBox:null,popupZIndex:9999999999999,renderMode:"default",touchMode:"auto",_checkForHiddenParent:true,autoBind:true,focusable:true,filterable:false,filterHeight:27,filterPlaceHolder:"Looking for",filterDelay:100,aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:["open","close","select","unselect","change","checkChange","bindingComplete"]};c.extend(true,this,a);return a},createInstance:function(a){this.render()},render:function(){var e=this;if(!e.width){e.width=200}if(!e.height){e.height=25}var t=e.element.nodeName.toLowerCase();if(t=="select"||t=="ul"||t=="ol"){e.field=e.element;if(e.field.className){e._className=e.field.className}var z={title:e.field.title};if(e.field.id.length){z.id=e.field.id.replace(/[^\w]/g,"_")+"_jqxDropDownList"}else{z.id=c.jqx.utilities.createId()+"_jqxDropDownList"}var G=c("<div></div>",z);if(!e.width){e.width=c(e.field).width()}if(!e.height){e.height=c(e.field).outerHeight()}c(e.field).hide().after(G);var B=e.host.data();e.host=G;e.host.data(B);e.element=G[0];e.element.id=e.field.id;e.field.id=z.id;if(e._className){e.host.addClass(e._className);c(e.field).removeClass(e._className)}if(e.field.tabIndex){var E=e.field.tabIndex;e.field.tabIndex=-1;e.element.tabIndex=E}var a=c.jqx.parseSourceTag(e.field);e.source=a.items;if(e.selectedIndex==-1){e.selectedIndex=a.index}}e.element.innerHTML="";e.isanimating=false;e.id=e.element.id||c.jqx.utilities.createId();e.host.attr("role","combobox");c.jqx.aria(e,"aria-autocomplete","both");c.jqx.aria(e,"aria-readonly",false);var D="<div style='background-color: transparent; -webkit-appearance: none; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; border: 0px; position: relative;'><div id='dropdownlistWrapper' style='overflow: hidden; outline: none; background-color: transparent; border: none; float: left; width:100%; height: 100%; position: relative;'><div id='dropdownlistContent' unselectable='on' style='outline: none; background-color: transparent; border: none; float: left; position: relative;'></div><div id='dropdownlistArrow' unselectable='on' style='background-color: transparent; border: none; float: right; position: relative;'><div unselectable='on'></div></div></div></div>";if(c.jqx._jqxListBox==null||c.jqx._jqxListBox==undefined){throw new Error("jqxDropDownList: Missing reference to jqxlistbox.js.")}if(e.host.attr("tabindex")){}else{e.host.attr("tabindex",0)}var w=e;e.touch=c.jqx.mobile.isTouchDevice();e.comboStructure=D;e.element.innerHTML=D;e.dropdownlistWrapper=c(e.element.firstChild.firstChild);e.dropdownlistArrow=c(e.dropdownlistWrapper[0].firstChild.nextSibling);e.arrow=c(e.dropdownlistArrow[0].firstChild);e.dropdownlistContent=c(e.dropdownlistWrapper[0].firstChild);e.dropdownlistContent.addClass(e.toThemeProperty("jqx-dropdownlist-content jqx-disableselect"));if(e.rtl){e.dropdownlistContent.addClass(e.toThemeProperty("jqx-rtl jqx-dropdownlist-content-rtl"))}e.addHandler(e.dropdownlistWrapper,"selectstart",function(){return false});e.dropdownlistWrapper[0].id="dropdownlistWrapper"+e.element.id;e.dropdownlistArrow[0].id="dropdownlistArrow"+e.element.id;e.dropdownlistContent[0].id="dropdownlistContent"+e.element.id;e._addInput();if(e.promptText!="Please Choose:"){e.placeHolder=e.promptText}var u=e.toThemeProperty("jqx-widget")+" "+e.toThemeProperty("jqx-dropdownlist-state-normal")+" "+e.toThemeProperty("jqx-rc-all")+" "+e.toThemeProperty("jqx-fill-state-normal");e.element.className+=" "+u;e._firstDiv=c(e.element.firstChild);try{var s="listBox"+e.id;var C=c(c.find("#"+s));if(C.length>0){C.remove()}c.jqx.aria(e,"aria-owns",s);c.jqx.aria(e,"aria-haspopup",true);var H=c("<div style='overflow: hidden; background-color: transparent; border: none; position: absolute;' id='listBox"+e.id+"'><div id='innerListBox"+e.id+"'></div></div>");H.hide();H.appendTo(document.body);e.container=H;e.listBoxContainer=c(c.find("#innerListBox"+e.id));var F=e.width;if(e.dropDownWidth!="auto"){F=e.dropDownWidth}if(F==null){F=e.host.width();if(F==0){F=e.dropDownWidth}}if(e.dropDownHeight==null){e.dropDownHeight=200}var w=e;e.container.width(parseInt(F)+25);e.container.height(parseInt(e.dropDownHeight)+25);e.addHandler(e.listBoxContainer,"bindingComplete",function(d){if(!e.listBox){e.listBox=c.data(e.listBoxContainer[0],"jqxListBox").instance}if(e.selectedIndex!=e.listBoxContainer.jqxListBox("selectedIndex")){e.listBox=c.data(e.listBoxContainer[0],"jqxListBox").instance;e.listBoxContainer.jqxListBox({selectedIndex:e.selectedIndex});e.renderSelection("mouse")}else{e.renderSelection("mouse")}e._raiseEvent("6")});e.listBoxContainer.jqxListBox({filterHeight:e.filterHeight,filterPlaceHolder:e.filterPlaceHolder,filterDelay:e.filterDelay,filterable:e.filterable,allowDrop:false,allowDrag:false,autoBind:e.autoBind,_checkForHiddenParent:false,focusable:e.focusable,touchMode:e.touchMode,checkboxes:e.checkboxes,rtl:e.rtl,_renderOnDemand:true,emptyString:e.emptyString,itemHeight:e.itemHeight,width:F,searchMode:e.searchMode,incrementalSearch:e.incrementalSearch,incrementalSearchDelay:e.incrementalSearchDelay,groupMember:e.groupMember,searchMember:e.searchMember,displayMember:e.displayMember,valueMember:e.valueMember,height:e.dropDownHeight,autoHeight:e.autoDropDownHeight,scrollBarSize:e.scrollBarSize,selectedIndex:e.selectedIndex,source:e.source,theme:e.theme,rendered:function(){if(e.selectedIndex!=e.listBoxContainer.jqxListBox("selectedIndex")){e.listBox=c.data(e.listBoxContainer[0],"jqxListBox").instance;e.listBoxContainer.jqxListBox({selectedIndex:e.selectedIndex});e.renderSelection("mouse")}else{e.renderSelection("mouse")}},renderer:e.renderer});e.listBoxContainer.css({position:"absolute",zIndex:e.popupZIndex,top:0,left:0});e.listBox=c.data(e.listBoxContainer[0],"jqxListBox").instance;e.listBox.enableSelection=e.enableSelection;e.listBox.enableHover=e.enableHover;e.listBox.equalItemsWidth=e.equalItemsWidth;e.listBox.selectIndex(e.selectedIndex);e.listBox._arrange();e.listBoxContainer.addClass(e.toThemeProperty("jqx-popup"));if(c.jqx.browser.msie){e.listBoxContainer.addClass(e.toThemeProperty("jqx-noshadow"))}e.addHandler(e.listBoxContainer,"unselect",function(d){e._raiseEvent("3",{index:d.args.index,type:d.args.type,item:d.args.item})});e.addHandler(e.listBoxContainer,"change",function(d){if(d.args){if(d.args.type!="keyboard"){e._raiseEvent("4",{index:d.args.index,type:d.args.type,item:d.args.item})}else{if(d.args.type=="keyboard"){if(!e.isOpened()){e._raiseEvent("4",{index:e.selectedIndex,type:"keyboard",item:e.getItem(e.selectedIndex)})}}}}});if(e.animationType=="none"){e.container.css("display","none")}else{e.container.hide()}}catch(A){if(console){console.log(A)}}var e=e;e.propertyChangeMap.disabled=function(l,f,h,d){if(d){l.host.addClass(e.toThemeProperty("jqx-dropdownlist-state-disabled"));l.host.addClass(e.toThemeProperty("jqx-fill-state-disabled"));l.dropdownlistContent.addClass(e.toThemeProperty("jqx-dropdownlist-content-disabled"))}else{l.host.removeClass(e.toThemeProperty("jqx-dropdownlist-state-disabled"));l.host.removeClass(e.toThemeProperty("jqx-fill-state-disabled"));l.dropdownlistContent.removeClass(e.toThemeProperty("jqx-dropdownlist-content-disabled"))}c.jqx.aria(l,"aria-disabled",l.disabled)};if(e.disabled){e.host.addClass(e.toThemeProperty("jqx-dropdownlist-state-disabled"));e.host.addClass(e.toThemeProperty("jqx-fill-state-disabled"));e.dropdownlistContent.addClass(e.toThemeProperty("jqx-dropdownlist-content-disabled"))}e.arrow.addClass(e.toThemeProperty("jqx-icon-arrow-down"));e.arrow.addClass(e.toThemeProperty("jqx-icon"));if(e.renderMode==="simple"){e.arrow.remove();e.host.removeClass(e.toThemeProperty("jqx-fill-state-normal"));e.host.removeClass(e.toThemeProperty("jqx-rc-all"))}e._updateHandlers();e._setSize();e._arrange();if(e.listBox){e.renderSelection()}if(c.jqx.browser.msie&&c.jqx.browser.version<8){if(e.host.parents(".jqx-window").length>0){var v=e.host.parents(".jqx-window").css("z-index");H.css("z-index",v+10);e.listBoxContainer.css("z-index",v+10)}}},resize:function(d,a){this.width=d;this.height=a;this._setSize();this._arrange()},val:function(f){if(!this.dropdownlistContent){return""}var e=function(d){for(var h in d){if(d.hasOwnProperty(h)){return false}}if(typeof f=="number"){return false}if(typeof f=="date"){return false}if(typeof f=="boolean"){return false}if(typeof f=="string"){return false}return true};if(this.input&&(e(f)||arguments.length==0)){return this.input.val()}var a=this.getItemByValue(f);if(a!=null){this.selectItem(a)}if(this.input){return this.input.val()}},focus:function(){try{var e=this;var f=function(){e.host.focus();if(e._firstDiv){e._firstDiv.focus()}};f();setTimeout(function(){f()},10)}catch(a){}},_addInput:function(){var a=this.host.attr("name");this.input=c("<input type='hidden'/>");this.host.append(this.input);if(a){this.input.attr("name",a)}},getItems:function(){if(!this.listBox){return new Array()}return this.listBox.items},getVisibleItems:function(){return this.listBox.getVisibleItems()},_setSize:function(){if(this.width!=null&&this.width.toString().indexOf("px")!=-1){this.host.width(this.width)}else{if(this.width!=undefined&&!isNaN(this.width)){this.host.width(this.width)}}if(this.height!=null&&this.height.toString().indexOf("px")!=-1){this.host.height(this.height)}else{if(this.height!=undefined&&!isNaN(this.height)){this.host.height(this.height)}}var f=false;if(this.width!=null&&this.width.toString().indexOf("%")!=-1){f=true;this.host.width(this.width)}if(this.height!=null&&this.height.toString().indexOf("%")!=-1){f=true;this.host.height(this.height)}var l=this;var h=function(){l._arrange();if(l.dropDownWidth=="auto"){var d=l.host.width();l.listBoxContainer.jqxListBox({width:d});l.container.width(parseInt(d)+25)}};if(f){var a=this.host.width();if(this.dropDownWidth!="auto"){a=this.dropDownWidth}this.listBoxContainer.jqxListBox({width:a});this.container.width(parseInt(a)+25)}c.jqx.utilities.resize(this.host,function(){h()},false,this._checkForHiddenParent)},isOpened:function(){var d=this;var a=c.data(document.body,"openedJQXListBox"+this.id);if(a!=null&&a==d.listBoxContainer){return true}return false},_updateHandlers:function(){var f=this;var e=false;this.removeHandlers();if(!this.touch){this.addHandler(this.host,"mouseenter",function(){if(!f.disabled&&f.enableHover&&f.renderMode!=="simple"){e=true;f.host.addClass(f.toThemeProperty("jqx-dropdownlist-state-hover"));f.arrow.addClass(f.toThemeProperty("jqx-icon-arrow-down-hover"));f.host.addClass(f.toThemeProperty("jqx-fill-state-hover"))}});this.addHandler(this.host,"mouseleave",function(){if(!f.disabled&&f.enableHover&&f.renderMode!=="simple"){f.host.removeClass(f.toThemeProperty("jqx-dropdownlist-state-hover"));f.host.removeClass(f.toThemeProperty("jqx-fill-state-hover"));f.arrow.removeClass(f.toThemeProperty("jqx-icon-arrow-down-hover"));e=false}})}if(this.host.parents()){this.addHandler(this.host.parents(),"scroll.dropdownlist"+this.element.id,function(h){var d=f.isOpened();if(d){f.close()}})}var a="mousedown";if(this.touch){a=c.jqx.mobile.getTouchEventName("touchstart")}this.addHandler(this.dropdownlistWrapper,a,function(d){if(!f.disabled){var h=f.container.css("display")=="block";if(!f.isanimating){if(h){f.hideListBox();return false}else{f.showListBox();if(!f.focusable){if(d.preventDefault){d.preventDefault()}}else{f.focus()}}}}});if(f.autoOpen){this.addHandler(this.host,"mouseenter",function(){var d=f.isOpened();if(!d&&f.autoOpen){f.open();f.host.focus()}});c(document).on("mousemove."+f.id,function(s){var t=f.isOpened();if(t&&f.autoOpen){var d=f.host.coord();var n=d.top;var o=d.left;var q=f.container.coord();var v=q.left;var u=q.top;canClose=true;if(s.pageY>=n&&s.pageY<=n+f.host.height()){if(s.pageX>=o&&s.pageX<o+f.host.width()){canClose=false}}if(s.pageY>=u&&s.pageY<=u+f.container.height()){if(s.pageX>=v&&s.pageX<v+f.container.width()){canClose=false}}if(canClose){f.close()}}})}if(this.touch){this.addHandler(c(document),c.jqx.mobile.getTouchEventName("touchstart")+"."+this.id,f.closeOpenedListBox,{me:this,listbox:this.listBox,id:this.id})}else{this.addHandler(c(document),"mousedown."+this.id,f.closeOpenedListBox,{me:this,listbox:this.listBox,id:this.id})}this.addHandler(this.host,"keydown",function(d){var h=f.container.css("display")=="block";if(f.host.css("display")=="none"){return true}if(d.keyCode=="13"||d.keyCode=="9"){if(!f.isanimating){if(h){f.renderSelection();if(d.keyCode=="13"&&f.focusable){f._firstDiv.focus()}f.hideListBox();if(!f.keyboardSelection){f._raiseEvent("2",{index:f.selectedIndex,type:"keyboard",item:f.getItem(f.selectedIndex)})}if(d.keyCode=="13"){f._raiseEvent("4",{index:f.selectedIndex,type:"keyboard",item:f.getItem(f.selectedIndex)})}}if(h&&d.keyCode!="9"){return false}return true}}if(d.keyCode==115){if(!f.isanimating){if(!f.isOpened()){f.showListBox()}else{if(f.isOpened()){f.hideListBox()}}}return false}if(d.altKey){if(f.host.css("display")=="block"){if(d.keyCode==38){if(f.isOpened()){f.hideListBox();return true}}else{if(d.keyCode==40){if(!f.isOpened()){f.showListBox();return true}}}}}if(d.keyCode=="27"){if(!f.ishiding){if(f.isOpened()){f.hideListBox();if(f.tempSelectedIndex!=undefined){f.selectIndex(f.tempSelectedIndex)}}return true}}if(!f.disabled){f._kbnavigated=f.listBox._handleKeyDown(d);return f._kbnavigated}});this.addHandler(this.listBoxContainer,"checkChange",function(d){f.renderSelection();f._updateInputSelection();f._raiseEvent(5,{label:d.args.label,value:d.args.value,checked:d.args.checked,item:d.args.item})});this.addHandler(this.listBoxContainer,"select",function(d){if(!f.disabled){if(!d.args){return}if(d.args.type=="keyboard"&&!f.isOpened()){f.renderSelection()}if(d.args.type!="keyboard"||f.keyboardSelection){f.renderSelection();f._raiseEvent("2",{index:d.args.index,type:d.args.type,item:d.args.item,originalEvent:d.args.originalEvent});if(d.args.type=="mouse"){if(!f.checkboxes){f.hideListBox();if(f._firstDiv&&f.focusable){f._firstDiv.focus()}}}}}});if(this.listBox){if(this.listBox.content){this.addHandler(this.listBox.content,"click",function(d){if(!f.disabled){if(f.listBox.itemswrapper&&d.target===f.listBox.itemswrapper[0]){return true}f.renderSelection("mouse");if(!f.touch){if(!f.ishiding){if(!f.checkboxes){f.hideListBox();if(f._firstDiv&&f.focusable){f._firstDiv.focus()}}}}if(!f.keyboardSelection){if(f._kbnavigated===false){if(f.tempSelectedIndex!=f.selectedIndex){f._raiseEvent("4",{index:f.selectedIndex,type:"mouse",item:f.getItem(f.selectedIndex)})}f._kbnavigated=true}if(f._oldSelectedInd==undefined){f._oldSelectedIndx=f.selectedIndex}if(f.selectedIndex!=f._oldSelectedIndx){f._raiseEvent("2",{index:f.selectedIndex,type:"keyboard",item:f.getItem(f.selectedIndex)});f._oldSelectedIndx=f.selectedIndex}}}})}}this.addHandler(this.host,"focus",function(d){if(f.renderMode!=="simple"){f.host.addClass(f.toThemeProperty("jqx-dropdownlist-state-focus"));f.host.addClass(f.toThemeProperty("jqx-fill-state-focus"))}});this.addHandler(this.host,"blur",function(){if(f.renderMode!=="simple"){f.host.removeClass(f.toThemeProperty("jqx-dropdownlist-state-focus"));f.host.removeClass(f.toThemeProperty("jqx-fill-state-focus"))}});this.addHandler(this._firstDiv,"focus",function(d){if(f.renderMode!=="simple"){f.host.addClass(f.toThemeProperty("jqx-dropdownlist-state-focus"));f.host.addClass(f.toThemeProperty("jqx-fill-state-focus"))}});this.addHandler(this._firstDiv,"blur",function(){if(f.renderMode!=="simple"){f.host.removeClass(f.toThemeProperty("jqx-dropdownlist-state-focus"));f.host.removeClass(f.toThemeProperty("jqx-fill-state-focus"))}})},removeHandlers:function(){var d=this;var a="mousedown";if(this.touch){a=c.jqx.mobile.getTouchEventName("touchstart")}this.removeHandler(this.dropdownlistWrapper,a);if(this.listBox){if(this.listBox.content){this.removeHandler(this.listBox.content,"click")}}this.removeHandler(this.host,"loadContent");this.removeHandler(this.listBoxContainer,"checkChange");this.removeHandler(this.host,"keydown");this.removeHandler(this.host,"focus");this.removeHandler(this.host,"blur");this.removeHandler(this._firstDiv,"focus");this.removeHandler(this._firstDiv,"blur");this.removeHandler(this.host,"mouseenter");this.removeHandler(this.host,"mouseleave");this.removeHandler(c(document),"mousemove."+d.id)},getItem:function(a){var d=this.listBox.getItem(a);return d},getItemByValue:function(d){var a=this.listBox.getItemByValue(d);return a},selectItem:function(a){if(this.listBox!=undefined){this.listBox.selectItem(a);this.selectedIndex=this.listBox.selectedIndex;this.renderSelection("mouse")}},unselectItem:function(a){if(this.listBox!=undefined){this.listBox.unselectItem(a);this.renderSelection("mouse")}},checkItem:function(a){if(this.listBox!=undefined){this.listBox.checkItem(a)}},uncheckItem:function(a){if(this.listBox!=undefined){this.listBox.uncheckItem(a)}},indeterminateItem:function(a){if(this.listBox!=undefined){this.listBox.indeterminateItem(a)}},renderSelection:function(){if(this.listBox==null){return}if(this.height&&this.height.toString().indexOf("%")!=-1){this._arrange()}var C=this.listBox.visibleItems[this.listBox.selectedIndex];if(this.filterable){if(this.listBox.selectedIndex==-1){for(var O in this.listBox.selectedValues){var I=this.listBox.selectedValues[O];var R=this.listBox.getItemByValue(I);if(R){C=R}}}}var z=this;if(this.checkboxes){var w=this.getCheckedItems();if(w!=null&&w.length>0){C=w[0]}else{C=null}}if(C==null){var K=c('<span unselectable="on" style="color: inherit; border: none; background-color: transparent;"></span>');K.appendTo(c(document.body));K.addClass(this.toThemeProperty("jqx-widget"));K.addClass(this.toThemeProperty("jqx-listitem-state-normal"));K.addClass(this.toThemeProperty("jqx-item"));c.jqx.utilities.html(K,this.placeHolder);var B=this.dropdownlistContent.css("padding-top");var a=this.dropdownlistContent.css("padding-bottom");K.css("padding-top",B);K.css("padding-bottom",a);var D=K.outerHeight();K.remove();K.removeClass();c.jqx.utilities.html(this.dropdownlistContent,K);var L=this.host.height();if(this.height!=null&&this.height!=undefined){if(this.height.toString().indexOf("%")===-1){L=parseInt(this.height)}}var N=parseInt((parseInt(L)-parseInt(D))/2);if(N>0){this.dropdownlistContent.css("margin-top",N+"px");this.dropdownlistContent.css("margin-bottom",N+"px")}if(this.selectionRenderer){c.jqx.utilities.html(this.dropdownlistContent,this.selectionRenderer(K,-1,"",""));this.dropdownlistContent.css("margin-top","0px");this.dropdownlistContent.css("margin-bottom","0px");this._updateInputSelection()}else{this._updateInputSelection()}this.selectedIndex=this.listBox.selectedIndex;if(this.width==="auto"){this._arrange()}if(this.focusable&&this.isOpened()){this.focus()}return}this.selectedIndex=this.listBox.selectedIndex;var K=c(document.createElement("span"));K[0].setAttribute("unselectable","on");try{K[0].style.color="inherit"}catch(A){}K[0].style.borderWidth="0px";K[0].style.backgroundColor="transparent";K.appendTo(c(document.body));K.addClass(this.toThemeProperty("jqx-widget jqx-listitem-state-normal jqx-item"));var E=false;try{if(C.html!=undefined&&C.html!=null&&C.html.toString().length>0){c.jqx.utilities.html(K,C.html)}else{if(C.label!=undefined&&C.label!=null&&C.label.toString().length>0){c.jqx.utilities.html(K,C.label)}else{if(C.label===null||C.label===""){E=true;c.jqx.utilities.html(K,"")}else{if(C.value!=undefined&&C.value!=null&&C.value.toString().length>0){c.jqx.utilities.html(K,C.value)}else{if(C.title!=undefined&&C.title!=null&&C.title.toString().length>0){c.jqx.utilities.html(K,C.title)}else{if(C.label==""||C.label==null){E=true;c.jqx.utilities.html(K,"")}}}}}}}catch(G){var H=G}var B=this.dropdownlistContent[0].style.paddingTop;var a=this.dropdownlistContent[0].style.paddingBottom;if(B===""){B="0px"}if(a===""){a="0px"}K[0].style.paddingTop=B;K[0].style.paddingBottom=a;var D=K.outerHeight();if(D===0){D=16}if((C.label==""||C.label==null)&&E){c.jqx.utilities.html(K,"")}var Q=this.width&&this.width.toString().indexOf("%")<=0;K.remove();K.removeClass();if(this.selectionRenderer){c.jqx.utilities.html(this.dropdownlistContent,this.selectionRenderer(K,C.index,C.label,C.value));if(this.focusable&&this.isOpened()){this.focus()}}else{if(this.checkboxes){var M=this.getCheckedItems();var J="";for(var F=0;F<M.length;F++){if(F==M.length-1){J+=M[F].label}else{J+=M[F].label+","}}K.text(J);if(Q){K.css("max-width",this.host.width()-30)}K.css("overflow","hidden");K.css("display","block");if(!this.rtl){if(Q){K.css("width",this.host.width()-30)}}K.css("text-overflow","ellipsis");K.css("padding-bottom",1+parseInt(a));this.dropdownlistContent.html(K);if(this.focusable&&this.isOpened()){this.focus()}}else{var P=this.host.width()-this.arrowSize-3;if(this.width&&this.width!=="auto"){if(Q){if(!this.rtl){K.css("max-width",P+"px")}}K[0].style.overflow="hidden";K[0].style.display="block";K[0].style.paddingTop=(1+parseInt(a))+"px";if(!this.rtl){if(Q){if(P<0){P=0}K[0].style.width=P+"px"}}K[0].style.textOverflow="ellipsis"}this.dropdownlistContent[0].innerHTML=K[0].innerHTML;if(this.focusable&&this.isOpened()){this.focus()}}}var L=this.host.height();if(this.height!=null&&this.height!=undefined){if(this.height.toString().indexOf("%")===-1){L=parseInt(this.height)}}var N=parseInt((parseInt(L)-parseInt(D))/2);if(N>=0){this.dropdownlistContent[0].style.marginTop=N+"px";this.dropdownlistContent[0].style.marginBottom=N+"px"}if(this.selectionRenderer){this.dropdownlistContent[0].style.marginTop="0px";this.dropdownlistContent[0].style.marginBottom="0px"}if(this.dropdownlistContent&&this.input){this._updateInputSelection()}if(this.listBox&&this.listBox._activeElement){c.jqx.aria(this,"aria-activedescendant",this.listBox._activeElement.id)}if(this.width==="auto"){this._arrange()}},_updateInputSelection:function(){if(this.input){var q=new Array();if(this.selectedIndex==-1){this.input.val("")}else{var l=this.getSelectedItem();if(l!=null){this.input.val(l.value);q.push(l.value)}else{this.input.val(this.dropdownlistContent.text())}}if(this.checkboxes){var a=this.getCheckedItems();var h="";if(a!=null){for(var o=0;o<a.length;o++){var n=a[o].value;if(n==undefined){continue}if(o==a.length-1){h+=n}else{h+=n+","}q.push(n)}}this.input.val(h)}}if(this.field&&this.input){if(this.field.nodeName.toLowerCase()=="select"){c.each(this.field,function(e,d){c(this).removeAttr("selected");this.selected=q.indexOf(this.value)>=0;if(this.selected){c(this).attr("selected",true)}})}else{c.each(this.items,function(e,d){c(this.originalItem.originalItem).removeAttr("data-selected");this.selected=q.indexOf(this.value)>=0;if(this.selected){c(this.originalItem.originalItem).attr("data-selected",true)}})}}},setContent:function(a){c.jqx.utilities.html(this.dropdownlistContent,a);this._updateInputSelection()},dataBind:function(){this.listBoxContainer.jqxListBox({source:this.source});this.renderSelection("mouse");if(this.source==null){this.clearSelection()}},clear:function(){this.listBoxContainer.jqxListBox({source:null});this.clearSelection()},clearSelection:function(a){this.selectedIndex=-1;this._updateInputSelection();this.listBox.clearSelection();this.renderSelection();if(!this.selectionRenderer){c.jqx.utilities.html(this.dropdownlistContent,this.placeHolder)}},unselectIndex:function(a,d){if(isNaN(a)){return}this.listBox.unselectIndex(a,d);this.renderSelection()},selectIndex:function(a,h,f,l){this.listBox.selectIndex(a,h,f,l,"api")},getSelectedIndex:function(){return this.selectedIndex},getSelectedItem:function(){return this.listBox.getVisibleItem(this.selectedIndex)},getCheckedItems:function(){return this.listBox.getCheckedItems()},checkIndex:function(a){this.listBox.checkIndex(a)},uncheckIndex:function(a){this.listBox.uncheckIndex(a)},indeterminateIndex:function(a){this.listBox.indeterminateIndex(a)},checkAll:function(){this.listBox.checkAll();this.renderSelection("mouse")},uncheckAll:function(){this.listBox.uncheckAll();this.renderSelection("mouse")},addItem:function(a){return this.listBox.addItem(a)},insertAt:function(d,a){if(d==null){return false}return this.listBox.insertAt(d,a)},removeAt:function(d){var a=this.listBox.removeAt(d);this.renderSelection("mouse");return a},removeItem:function(d){var a=this.listBox.removeItem(d);this.renderSelection("mouse");return a},updateItem:function(f,e){var a=this.listBox.updateItem(f,e);this.renderSelection("mouse");return a},updateAt:function(e,f){var a=this.listBox.updateAt(e,f);this.renderSelection("mouse");return a},ensureVisible:function(a){return this.listBox.ensureVisible(a)},disableAt:function(a){return this.listBox.disableAt(a)},enableAt:function(a){return this.listBox.enableAt(a)},disableItem:function(a){return this.listBox.disableItem(a)},enableItem:function(a){return this.listBox.enableItem(a)},_findPos:function(d){while(d&&(d.type=="hidden"||d.nodeType!=1||c.expr.filters.hidden(d))){d=d.nextSibling}var a=c(d).coord(true);return[a.left,a.top]},testOffset:function(n,q,u){var o=n.outerWidth();var a=n.outerHeight();var l=c(window).width()+c(window).scrollLeft();var s=c(window).height()+c(window).scrollTop();if(q.left+o>l){if(o>this.host.width()){var t=this.host.coord().left;var v=o-this.host.width();q.left=t-v+2}}if(q.left<0){q.left=parseInt(this.host.coord().left)+"px"}q.top-=Math.min(q.top,(q.top+a>s&&s>a)?Math.abs(a+u+22):0);return q},open:function(){this.showListBox()},close:function(){this.hideListBox()},_getBodyOffset:function(){var d=0;var a=0;if(c("body").css("border-top-width")!="0px"){d=parseInt(c("body").css("border-top-width"));if(isNaN(d)){d=0}}if(c("body").css("border-left-width")!="0px"){a=parseInt(c("body").css("border-left-width"));if(isNaN(a)){a=0}}return{left:a,top:d}},showListBox:function(){c.jqx.aria(this,"aria-expanded",true);if(this.listBox._renderOnDemand){this.listBoxContainer.jqxListBox({_renderOnDemand:false})}if(this.dropDownWidth=="auto"&&this.width!=null&&this.width.indexOf&&(this.width.indexOf("%")!=-1||this.width.indexOf("auto")!=-1)){if(this.listBox.host.width()!=this.host.width()){var H=this.host.width();this.listBoxContainer.jqxListBox({width:H});this.container.width(parseInt(H)+25)}}var s=this;var G=this.listBoxContainer;var A=this.listBox;var v=c(window).scrollTop();var C=c(window).scrollLeft();var z=parseInt(this._findPos(this.host[0])[1])+parseInt(this.host.outerHeight())-1+"px";var E,D=parseInt(Math.round(this.host.coord(true).left));E=D+"px";var t=c.jqx.mobile.isSafariMobileBrowser()||c.jqx.mobile.isWindowsPhone();if(this.listBox==null){return}this.ishiding=false;if(!this.keyboardSelection){this.listBox.selectIndex(this.selectedIndex);this.listBox.ensureVisible(this.selectedIndex)}this.tempSelectedIndex=this.selectedIndex;if(this.autoDropDownHeight){this.container.height(this.listBoxContainer.height()+25)}if((t!=null&&t)){E=c.jqx.mobile.getLeftPos(this.element);z=c.jqx.mobile.getTopPos(this.element)+parseInt(this.host.outerHeight());if(c("body").css("border-top-width")!="0px"){z=parseInt(z)-this._getBodyOffset().top+"px"}if(c("body").css("border-left-width")!="0px"){E=parseInt(E)-this._getBodyOffset().left+"px"}}G.stop();if(this.renderMode!=="simple"){this.host.addClass(this.toThemeProperty("jqx-dropdownlist-state-selected"));this.host.addClass(this.toThemeProperty("jqx-fill-state-pressed"));this.arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down-selected"))}this.container.css("left",E);this.container.css("top",z);A._arrange();var F=true;var a=false;if(this.dropDownHorizontalAlignment=="right"||this.rtl){var w=this.container.outerWidth();var I=Math.abs(w-this.host.width());if(w>this.host.width()){this.container.css("left",25+parseInt(Math.round(D))-I+"px")}else{this.container.css("left",25+parseInt(Math.round(D))+I+"px")}}if(this.enableBrowserBoundsDetection){var B=this.testOffset(G,{left:parseInt(this.container.css("left")),top:parseInt(z)},parseInt(this.host.outerHeight()));if(parseInt(this.container.css("top"))!=B.top){a=true;G.css("top",23);G.addClass(this.toThemeProperty("jqx-popup-up"))}else{G.css("top",0)}this.container.css("top",B.top);if(parseInt(this.container.css("left"))!=B.left){this.container.css("left",B.left)}}if(this.animationType=="none"){this.container.css("display","block");c.data(document.body,"openedJQXListBoxParent",s);c.data(document.body,"openedJQXListBox"+this.id,G);G.css("margin-top",0);G.css("opacity",1);A._renderItems();s._raiseEvent("0",A)}else{this.container.css("display","block");s.isanimating=true;if(this.animationType=="fade"){G.css("margin-top",0);G.css("opacity",0);G.animate({opacity:1},this.openDelay,function(){c.data(document.body,"openedJQXListBoxParent",s);c.data(document.body,"openedJQXListBox"+s.id,G);s.ishiding=false;s.isanimating=false;A._renderItems();s._raiseEvent("0",A)})}else{G.css("opacity",1);var u=G.outerHeight();if(a){G.css("margin-top",u)}else{G.css("margin-top",-u)}G.animate({"margin-top":0},this.openDelay,function(){c.data(document.body,"openedJQXListBoxParent",s);c.data(document.body,"openedJQXListBox"+s.id,G);s.ishiding=false;s.isanimating=false;A._renderItems();s._raiseEvent("0",A)})}}if(!a){this.host.addClass(this.toThemeProperty("jqx-rc-b-expanded"));G.addClass(this.toThemeProperty("jqx-rc-t-expanded"))}else{this.host.addClass(this.toThemeProperty("jqx-rc-t-expanded"));G.addClass(this.toThemeProperty("jqx-rc-b-expanded"))}if(this.renderMode!=="simple"){G.addClass(this.toThemeProperty("jqx-fill-state-focus"));this.host.addClass(this.toThemeProperty("jqx-dropdownlist-state-focus"));this.host.addClass(this.toThemeProperty("jqx-fill-state-focus"))}},hideListBox:function(){c.jqx.aria(this,"aria-expanded",false);var l=this.listBoxContainer;var h=this.listBox;var q=this.container;var o=this;c.data(document.body,"openedJQXListBox"+this.id,null);if(this.animationType=="none"){this.container.css("display","none")}else{if(!o.ishiding){l.stop();var a=l.outerHeight();l.css("margin-top",0);o.isanimating=true;var n=-a;if(parseInt(this.container.coord().top)<parseInt(this.host.coord().top)){n=a}if(this.animationType=="fade"){l.css({opacity:1});l.animate({opacity:0},this.closeDelay,function(){q.css("display","none");o.isanimating=false;o.ishiding=false})}else{l.animate({"margin-top":n},this.closeDelay,function(){q.css("display","none");o.isanimating=false;o.ishiding=false})}}}this.ishiding=true;this.host.removeClass(this.toThemeProperty("jqx-dropdownlist-state-selected"));this.host.removeClass(this.toThemeProperty("jqx-fill-state-pressed"));this.arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down-selected"));this.host.removeClass(this.toThemeProperty("jqx-rc-b-expanded"));l.removeClass(this.toThemeProperty("jqx-rc-t-expanded"));this.host.removeClass(this.toThemeProperty("jqx-rc-t-expanded"));l.removeClass(this.toThemeProperty("jqx-rc-b-expanded"));l.removeClass(this.toThemeProperty("jqx-fill-state-focus"));this.host.removeClass(this.toThemeProperty("jqx-dropdownlist-state-focus"));this.host.removeClass(this.toThemeProperty("jqx-fill-state-focus"));this._raiseEvent("1",h)},closeOpenedListBox:function(n){var o=n.data.me;var a=c(n.target);var q=n.data.listbox;if(q==null){return true}if(c(n.target).ischildof(n.data.me.host)){return true}if(!o.isOpened()){return true}if(c(n.target).ischildof(o.listBoxContainer)){return true}var l=o;var h=false;c.each(a.parents(),function(){if(this.className!="undefined"){if(this.className.indexOf){if(this.className.indexOf("jqx-listbox")!=-1){h=true;return false}if(this.className.indexOf("jqx-dropdownlist")!=-1){if(o.element.id==this.id){h=true}return false}}}});if(q!=null&&!h&&o.isOpened()){o.hideListBox()}return true},clearFilter:function(){this.listBox.clearFilter()},loadFromSelect:function(a){this.listBox.loadFromSelect(a)},refresh:function(a){if(a!==true){this._setSize();this._arrange();if(this.listBox){this.renderSelection()}}},_arrange:function(){var n=this;var t=parseInt(n.host.width());var a=parseInt(n.host.height());var q=n.arrowSize;var o=n.arrowSize;var l=3;var v=t-o-2*l;if(v>0&&n.width!=="auto"){n.dropdownlistContent[0].style.width=v+"px"}else{if(v<=0){n.dropdownlistContent[0].style.width="0px"}}if(n.width==="auto"){n.dropdownlistContent.css("width","auto");t=n.dropdownlistContent.width()+o+2*l;n.host.width(t)}n.dropdownlistContent[0].style.height=a+"px";n.dropdownlistContent[0].style.left="0px";n.dropdownlistContent[0].style.top="0px";n.dropdownlistArrow[0].style.width=o+"px";if(n.width&&n.width.toString().indexOf("%")>=0){var s=(o*100)/t;var u=(v*100)/t;n.dropdownlistArrow[0].style.width=s+"%";n.dropdownlistContent[0].style.width=u+"%"}n.dropdownlistArrow[0].style.height=a+"px";if(n.rtl){n.dropdownlistArrow.css("float","left");n.dropdownlistContent.css("float","right")}},destroy:function(){c.jqx.utilities.resize(this.host,null,true);this.removeHandler(this.listBoxContainer,"select");this.removeHandler(this.listBoxContainer,"unselect");this.removeHandler(this.listBoxContainer,"change");this.removeHandler(this.dropdownlistWrapper,"selectstart");this.removeHandler(this.dropdownlistWrapper,"mousedown");this.removeHandler(this.host,"keydown");this.removeHandler(this.listBoxContainer,"select");this.removeHandler(this.listBox.content,"click");this.removeHandler(this.listBoxContainer,"bindingComplete");if(this.host.parents()){this.removeHandler(this.host.parents(),"scroll.dropdownlist"+this.element.id)}this.removeHandlers();this.listBoxContainer.jqxListBox("destroy");this.listBoxContainer.remove();this.host.removeClass();this.removeHandler(c(document),"mousedown."+this.id,this.closeOpenedListBox);if(this.touch){this.removeHandler(c(document),c.jqx.mobile.getTouchEventName("touchstart")+"."+this.id)}this.dropdownlistArrow.remove();delete this.dropdownlistArrow;delete this.dropdownlistWrapper;delete this.listBoxContainer;delete this.input;delete this.arrow;delete this.dropdownlistContent;delete this.listBox;delete this._firstDiv;this.container.remove();delete this.container;var a=c.data(this.element,"jqxDropDownList");if(a){delete a.instance}this.host.removeData();this.host.remove();delete this.comboStructure;delete this.host;delete this.element},_raiseEvent:function(h,o){if(o==undefined){o={owner:null}}var n=this.events[h];args=o;args.owner=this;var l=new c.Event(n);l.owner=this;if(h==2||h==3||h==4||h==5){l.args=o}var a=this.host.trigger(l);return a},propertyChangedHandler:function(a,o,h,l){if(a.isInitialized==undefined||a.isInitialized==false){return}if(o=="filterable"){a.listBoxContainer.jqxListBox({filterable:l})}if(o=="filterHeight"){a.listBoxContainer.jqxListBox({filterHeight:l})}if(o=="filterPlaceHolder"){a.listBoxContainer.jqxListBox({filterPlaceHolder:l})}if(o=="filterDelay"){a.listBoxContainer.jqxListBox({filterDelay:l})}if(o=="enableSelection"){a.listBoxContainer.jqxListBox({enableSelection:l})}if(o=="enableHover"){a.listBoxContainer.jqxListBox({enableHover:l})}if(o=="autoOpen"){a._updateHandlers()}if(o=="emptyString"){a.listBox.emptyString=a.emptyString}if(o=="itemHeight"){a.listBoxContainer.jqxListBox({itemHeight:l})}if(o=="renderer"){a.listBoxContainer.jqxListBox({renderer:l})}if(o=="rtl"){if(l){a.dropdownlistArrow.css("float","left");a.dropdownlistContent.css("float","right")}else{a.dropdownlistArrow.css("float","right");a.dropdownlistContent.css("float","left")}a.listBoxContainer.jqxListBox({rtl:a.rtl})}if(o=="source"){a.listBoxContainer.jqxListBox({source:a.source});a.listBox.selectedIndex=-1;a.listBox.selectIndex(this.selectedIndex);a.renderSelection();if(l==null){a.clear()}}if(o=="displayMember"||o=="valueMember"){a.listBoxContainer.jqxListBox({displayMember:a.displayMember,valueMember:a.valueMember});a.renderSelection()}if(o=="placeHolder"){a.renderSelection()}if(o=="theme"&&l!=null){a.listBoxContainer.jqxListBox({theme:l});a.listBoxContainer.addClass(a.toThemeProperty("jqx-popup"));c.jqx.utilities.setTheme(h,l,a.host)}if(o=="autoDropDownHeight"){a.listBoxContainer.jqxListBox({autoHeight:a.autoDropDownHeight});if(a.autoDropDownHeight){a.container.height(a.listBoxContainer.height()+25)}else{a.listBoxContainer.jqxListBox({height:a.dropDownHeight});a.container.height(parseInt(a.dropDownHeight)+25)}a.listBox._arrange();a.listBox._updatescrollbars()}if(o=="searchMode"){a.listBoxContainer.jqxListBox({searchMode:a.searchMode})}if(o=="incrementalSearch"){a.listBoxContainer.jqxListBox({incrementalSearch:a.incrementalSearch})}if(o=="incrementalSearchDelay"){a.listBoxContainer.jqxListBox({incrementalSearchDelay:a.incrementalSearchDelay})}if(o=="dropDownHeight"){if(!a.autoDropDownHeight){a.listBoxContainer.jqxListBox({height:a.dropDownHeight});a.container.height(parseInt(a.dropDownHeight)+25)}}if(o=="dropDownWidth"||o=="scrollBarSize"){var n=a.width;if(a.dropDownWidth!="auto"){n=a.dropDownWidth}a.listBoxContainer.jqxListBox({width:n,scrollBarSize:a.scrollBarSize});a.container.width(parseInt(n)+25)}if(o=="width"||o=="height"){if(l!=h){this.refresh();if(o=="width"){if(a.dropDownWidth=="auto"){var n=a.host.width();a.listBoxContainer.jqxListBox({width:n});a.container.width(parseInt(n)+25)}}}}if(o=="checkboxes"){a.listBoxContainer.jqxListBox({checkboxes:a.checkboxes})}if(o=="selectedIndex"){if(a.listBox!=null){a.listBox.selectIndex(parseInt(l));a.renderSelection()}}}})})(jqxBaseFramework);(function(f){f.jqx.jqxWidget("jqxWindow","",{});f.extend(f.jqx._jqxWindow.prototype,{defineInstance:function(){var a={height:"auto",width:200,minHeight:50,maxHeight:600,minWidth:50,maxWidth:800,showCloseButton:true,disabled:false,autoOpen:true,keyboardCloseKey:"esc",title:"",content:"",draggable:true,resizable:true,animationType:"fade",closeAnimationDuration:250,showAnimationDuration:250,isModal:false,position:"center",closeButtonSize:16,closeButtonAction:"hide",modalOpacity:0.3,dragArea:null,okButton:null,cancelButton:null,dialogResult:{OK:false,Cancel:false,None:true},collapsed:false,showCollapseButton:false,collapseAnimationDuration:150,collapseButtonSize:16,rtl:false,keyboardNavigation:true,headerHeight:null,_events:["created","closed","moving","moved","open","collapse","expand","open","close","resize"],initContent:null,enableResize:true,restricter:null,autoFocus:true,closing:null,_invalidArgumentExceptions:{invalidHeight:"Invalid height!",invalidWidth:"Invalid width!",invalidMinHeight:"Invalid minHeight!",invalidMaxHeight:"Invalid maxHeight!",invalidMinWidth:"Invalid minWidth!",invalidMaxWidth:"Invalid maxWidth",invalidKeyCode:"Invalid keyCode!",invalidAnimationType:"Invalid animationType!",invalidCloseAnimationDuration:"Invalid closeAnimationDuration!",invalidShowAnimationDuration:"Invalid showAnimationDuration!",invalidPosition:"Invalid position!",invalidCloseButtonSize:"Invalid closeButtonSize!",invalidCollapseButtonSize:"Invalid collapseButtonSize!",invalidCloseButtonAction:"Invalid cluseButtonAction!",invalidModalOpacity:"Invalid modalOpacity!",invalidDragArea:"Invalid dragArea!",invalidDialogResult:"Invalid dialogResult!",invalidIsModal:"You can have just one modal window!"},_enableResizeCollapseBackup:null,_enableResizeBackup:undefined,_heightBeforeCollapse:null,_minHeightBeforeCollapse:null,_mouseDown:false,_isDragging:false,_rightContentWrapper:null,_leftContentWrapper:null,_headerContentWrapper:null,_closeButton:null,_collapseButton:null,_title:null,_content:null,_mousePosition:{},_windowPosition:{},_modalBackground:null,_SCROLL_WIDTH:21,_visible:true,modalBackgroundZIndex:12990,modalZIndex:18000,zIndex:9001,_touchEvents:{mousedown:f.jqx.mobile.getTouchEventName("touchstart"),mouseup:f.jqx.mobile.getTouchEventName("touchend"),mousemove:f.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave",click:f.jqx.mobile.getTouchEventName("touchstart")}};f.extend(true,this,a);return a},createInstance:function(){this.host.attr("role","dialog");this.host.removeAttr("data-bind");this.host.detach();f(document.body).append(this.host);var c=this;var a=function(){var s=parseInt(f(c.restricter).css("padding-top"));var t=parseInt(f(c.restricter).css("padding-left"));var q=parseInt(f(c.restricter).css("padding-bottom"));var n=parseInt(f(c.restricter).css("padding-right"));var o=f(c.restricter).coord();c.dragArea={left:t+o.left,top:s+o.top,width:1+n+f(c.restricter).width(),height:1+q+f(c.restricter).height()}};if(this.restricter){a()}if(this.restricter){this.addHandler(f(window),"resize."+this.element.id,function(){a()});this.addHandler(f(window),"orientationchanged."+this.element.id,function(){a()});this.addHandler(f(window),"orientationchange."+this.element.id,function(){a()})}this._isTouchDevice=f.jqx.mobile.isTouchDevice();this._validateProperties();this._createStructure();this._refresh();if(!this.autoOpen){this.host.css("display","none")}if(f.jqx.browser.msie){this.host.addClass(this.toThemeProperty("jqx-noshadow"))}if(!this.isModal){this._fixWindowZIndex()}this._setStartupSettings();this._positionWindow();this._raiseEvent(0);if(this.autoOpen){this._performLayout();var d=this;if(this.isModal){this._fixWindowZIndex("modal-show")}if(d.initContent){d.initContent();d._contentInitialized=true}this._raiseEvent(7);this._raiseEvent(9)}},refresh:function(){this._performLayout()},_setStartupSettings:function(){if(this.disabled){this.disable()}if(this.collapsed){this.collapsed=false;this.collapse(0)}if(!this.autoOpen){this.hide(null,0.001,true);this._visible=false}if(this.title!==null&&this.title!==""){this.setTitle(this.title)}if(this.content!==null&&this.content!==""){this.setContent(this.content)}this.title=this._headerContentWrapper.html();this.content=this._content.html()},_fixWindowZIndex:function(c){var v=f.data(document.body,"jqxwindows-list")||[],a=this.zIndex,s;if(!this.isModal){if(this._indexOf(this.host,v)<0){v.push(this.host)}f.data(document.body,"jqxwindows-list",v);if(v.length>1){var u=v[v.length-2];if(u.css("z-index")=="auto"){a=this.zIndex+v.length+1}else{a=parseInt(u.css("z-index"),10)+1}}}else{if(v){v=this._removeFromArray(this.host,v);f.data(document.body,"jqxwindows-list",v)}var t=f.data(document.body,"jqxwindows-modallist");if(!t){if(c=="modal-show"){var o=new Array();o.push(this.host);f.data(document.body,"jqxwindows-modallist",o);t=o}else{f.data(document.body,"jqxwindows-modallist",new Array());t=new Array()}}else{if(c=="modal-show"){t.push(this.host)}else{var q=t.indexOf(this.host);if(q!=-1){t.splice(q,1)}}}a=this.modalZIndex;var d=this;f.each(t,function(n){if(this.data()){if(this.data().jqxWindow){var w=this.data().jqxWindow.instance;w._modalBackground.css("z-index",a);w.host.css("z-index",a+1);a+=2}}});f.data(document.body,"jqxwindow-modal",this.host);return}this.host.css("z-index",a);this._sortByStyle("z-index",v)},_validateProperties:function(){try{this._validateSize();this._validateAnimationProperties();this._validateInteractionProperties();this._validateModalProperties();if(!this.position){throw new Error(this._invalidArgumentExceptions.invalidPosition)}if(isNaN(this.closeButtonSize)||parseInt(this.closeButtonSize)<0){throw new Error(this._invalidArgumentExceptions.invalidCloseButtonSize)}if(isNaN(this.collapseButtonSize)||parseInt(this.collapseButtonSize)<0){throw new Error(this._invalidArgumentExceptions.invalidCollapseButtonSize)}}catch(a){alert(a)}},_validateModalProperties:function(){if(this.modalOpacity<0||this.modalOpacity>1){throw new Error(this._invalidArgumentExceptions.invalidModalOpacity)}if(this.isModal&&!this._singleModalCheck()){throw new Error(this._invalidArgumentExceptions.invalidIsModal)}},_validateSize:function(){this._validateSizeLimits();if(this.height!=="auto"&&isNaN(parseInt(this.height))){throw new Error(this._invalidArgumentExceptions.invalidHeight)}if(this.width!=="auto"&&isNaN(parseInt(this.width))){throw new Error(this._invalidArgumentExceptions.invalidWidth)}if(this.height!=="auto"&&this.height<this.minHeight){this.height=this.minHeight}if(this.width<this.minWidth){this.width=this.minWidth}if(this.height!=="auto"&&this.height>this.maxHeight){this.height=this.maxHeight}if(this.width>this.maxWidth){this.width=this.maxWidth}if(this.dragArea===null){return}if(this.dragArea&&((this.dragArea.height!==null&&this.host.height()>this.dragArea.height)||(parseInt(this.height,10)>this.dragArea.height))||(this.dragArea.width!==null&&this.width>this.dragArea.width)||(this.maxHeight>this.dragArea.height||this.maxWidth>this.dragArea.width)){}},_validateSizeLimits:function(){if(this.maxHeight==null){this.maxHeight=9999}if(this.minWidth==null){this.minWidth=0}if(this.maxWidth==null){this.maxWidth=9999}if(this.minHeight==null){this.minHeight=0}if(isNaN(parseInt(this.minHeight))){throw new Error(this._invalidArgumentExceptions.invalidMinHeight)}if(isNaN(parseInt(this.maxHeight))){throw new Error(this._invalidArgumentExceptions.invalidMaxHeight)}if(isNaN(parseInt(this.minWidth))){throw new Error(this._invalidArgumentExceptions.invalidMinWidth)}if(isNaN(parseInt(this.maxWidth))){throw new Error(this._invalidArgumentExceptions.invalidMaxWidth)}if(this.minHeight>this.maxHeight){throw new Error(this._invalidArgumentExceptions.invalidMinHeight)}if(this.minWidth>this.maxWidth){throw new Error(this._invalidArgumentExceptions.invalidMinWidth)}},_validateAnimationProperties:function(){if(this.animationType!=="fade"&&this.animationType!=="slide"&&this.animationType!=="combined"&&this.animationType!=="none"){throw new Error(this._invalidArgumentExceptions.invalidAnimationType)}if(isNaN(parseInt(this.closeAnimationDuration),10)||this.closeAnimationDuration<0){throw new Error(this._invalidArgumentExceptions.invalidCloseAnimationDuration)}if(isNaN(parseInt(this.showAnimationDuration),10)||this.showAnimationDuration<0){throw new Error(this._invalidArgumentExceptions.invalidShowAnimationDuration)}},_validateInteractionProperties:function(){if(parseInt(this.keyCode,10)<0||parseInt(this.keyCode,10)>130&&this.keyCode!=="esc"){throw new Error(this._invalidArgumentExceptions.invalidKeyCode)}if(this.dragArea!==null&&(typeof this.dragArea.width==="undefined"||typeof this.dragArea.height==="undefined"||typeof this.dragArea.left==="undefined"||typeof this.dragArea.top==="undefined")){throw new Error(this._invalidArgumentExceptions.invalidDragArea)}if(!this.dialogResult||(!this.dialogResult.OK&&!this.dialogResult.Cancel&&!this.dialogResult.None)){throw new Error(this._invalidArgumentExceptions.invalidDialogResult)}if(this.closeButtonAction!=="hide"&&this.closeButtonAction!=="close"){throw new Error(this._invalidArgumentExceptions.invalidCloseButtonAction)}},_singleModalCheck:function(){var c=f.data(document.body,"jqxwindows-list")||[],a=c.length;while(a){a-=1;if(f(c[a].attr("id")).length>0){if(f(c[a].attr("id")).jqxWindow("isModal")){return false}}}return true},_createStructure:function(){var a=this.host.children("DIV");if(a.length===1){this._header=f("<div>"+this.host.attr("caption")+"</div>");this.host.prepend(this._header);this.host.attr("caption","");this._content=f(a[0])}else{if(a.length===2){this._header=f(a[0]);this._content=f(a[1])}else{throw new Error("Invalid structure!")}}},_refresh:function(){this._render();this._addStyles();this._performLayout();this._removeEventHandlers();this._addEventHandlers();this._initializeResize()},_render:function(){this._addHeaderWrapper();this._addCloseButton();this._addCollapseButton();this._removeModal();this._makeModal()},_addHeaderWrapper:function(){if(!this._headerContentWrapper){this._header.wrapInner('<div style="float:left;"></div>');this._headerContentWrapper=this._header.children(0);if(this.headerHeight!==null){this._header.height(this.headerHeight)}}},_addCloseButton:function(){if(!this._closeButton){this._closeButtonWrapper=f('<div class="'+this.toThemeProperty("jqx-window-close-button-background")+'"></div>');this._closeButton=f('<div style="width: 100%; height: 100%;" class="'+this.toThemeProperty("jqx-window-close-button")+" "+this.toThemeProperty("jqx-icon-close")+'"></div>');this._closeButtonWrapper.append(this._closeButton);this._header.append(this._closeButtonWrapper)}},_addCollapseButton:function(){if(!this._collapseButton){this._collapseButtonWrapper=f('<div class="'+this.toThemeProperty("jqx-window-collapse-button-background")+'"></div>');this._collapseButton=f('<div style="width: 100%; height: 100%;" class="'+this.toThemeProperty("jqx-window-collapse-button")+" "+this.toThemeProperty("jqx-icon-arrow-up")+'"></div>');this._collapseButtonWrapper.append(this._collapseButton);this._header.append(this._collapseButtonWrapper)}},_removeModal:function(){if(!this.isModal&&typeof this._modalBackground==="object"&&this._modalBackground!==null&&this._modalBackground.length>=1){f("."+this.toThemeProperty("jqx-window-modal")).remove();this._modalBackground=null}},focus:function(){try{this.host.focus();var a=this;setTimeout(function(){a.host.focus()},10)}catch(c){}},_makeModal:function(){if(this.isModal&&(!this._modalBackground||this._modalBackground.length<1)){var a=f.data(document.body,"jqxwindows-list");if(a){this._removeFromArray(this.host,a);f.data(document.body,"jqxwindows-list",a)}this._modalBackground=f("<div></div>");this._modalBackground.addClass(this.toThemeProperty("jqx-window-modal"));this._setModalBackgroundStyles();f(document.body).append(this._modalBackground);this.addHandler(this._modalBackground,this._getEvent("click"),function(){return false});var c=this;var d=function(o,n){var q=f(o).parents().get();for(j=0;j<q.length;j++){if(f(q[j]).is(n)){return true}}return false};this.addHandler(this._modalBackground,"mouseup",function(n){c._stopResizing(c);n.preventDefault()});this.addHandler(this._modalBackground,"mousedown",function(n){var o=c._getTabbables();if(o.length>0){o[0].focus(1);setTimeout(function(){o[0].focus(1)},100)}n.preventDefault();return false});this.addHandler(f(document),"keydown.window"+this.element.id,function(o){if(o.keyCode!==9){return}var t=f.data(document.body,"jqxwindows-modallist");if(t.length>1){if(t[t.length-1][0]!=c.element){return}}var q=c._getTabbables();var n=null;var s=null;if(q.length>0){n=q[0];s=q[q.length-1]}if(o.target==c.element){return}if(n==null){return}if(!d(o.target,c.host)){n.focus(1);return false}if(o.target===s&&!o.shiftKey){n.focus(1);return false}else{if(o.target===n&&o.shiftKey){s.focus(1);return false}}})}},_addStyles:function(){this.host.addClass(this.toThemeProperty("jqx-rc-all"));this.host.addClass(this.toThemeProperty("jqx-window"));this.host.addClass(this.toThemeProperty("jqx-popup"));if(f.jqx.browser.msie){this.host.addClass(this.toThemeProperty("jqx-noshadow"))}this.host.addClass(this.toThemeProperty("jqx-widget"));this.host.addClass(this.toThemeProperty("jqx-widget-content"));this._header.addClass(this.toThemeProperty("jqx-window-header"));this._content.addClass(this.toThemeProperty("jqx-window-content"));this._header.addClass(this.toThemeProperty("jqx-widget-header"));this._content.addClass(this.toThemeProperty("jqx-widget-content"));this._header.addClass(this.toThemeProperty("jqx-disableselect"));this._header.addClass(this.toThemeProperty("jqx-rc-t"));this._content.addClass(this.toThemeProperty("jqx-rc-b"));if(!this.host.attr("tabindex")){this.element.tabIndex=0;this.host.children().css("tab-index",0)}this.host.attr("hideFocus","true").css("outline","none")},_performHeaderLayout:function(){this._handleHeaderButtons();this._header.css("position","relative");if(this.rtl){this._headerContentWrapper.css("direction","rtl");this._headerContentWrapper.css("float","right")}else{this._headerContentWrapper.css("direction","ltr");this._headerContentWrapper.css("float","left")}this._performHeaderCloseButtonLayout();this._performHeaderCollapseButtonLayout();this._centerElement(this._headerContentWrapper,this._header,"y","margin");if(this.headerHeight){this._centerElement(this._closeButtonWrapper,this._header,"y","margin");this._centerElement(this._collapseButtonWrapper,this._header,"y","margin")}},_handleHeaderButtons:function(){if(!this._closeButtonWrapper){return}if(!this.showCloseButton){this._closeButtonWrapper.css("visibility","hidden")}else{this._closeButtonWrapper.css("visibility","visible");this._closeButtonWrapper.width(this.closeButtonSize);this._closeButtonWrapper.height(this.closeButtonSize)}if(!this.showCollapseButton){this._collapseButtonWrapper.css("visibility","hidden")}else{this._collapseButtonWrapper.css("visibility","visible");this._collapseButtonWrapper.width(this.collapseButtonSize);this._collapseButtonWrapper.height(this.collapseButtonSize)}},_performHeaderCloseButtonLayout:function(){if(!this._closeButtonWrapper){return}var a=parseInt(this._header.css("padding-right"),10);if(!isNaN(a)){this._closeButtonWrapper.width(this._closeButton.width());if(!this.rtl){this._closeButtonWrapper.css("margin-right",a);this._closeButtonWrapper.css("margin-left","0px")}else{this._closeButtonWrapper.css("margin-left",a);this._closeButtonWrapper.css("margin-right","0px")}}if(!this.rtl){this._closeButtonWrapper.css({position:"absolute",right:"0px",left:""})}else{this._closeButtonWrapper.css({position:"absolute",left:"0px",right:""})}},_performHeaderCollapseButtonLayout:function(){if(!this._closeButtonWrapper){return}var a=parseInt(this._header.css("padding-right"),10);if(!isNaN(a)){this._collapseButtonWrapper.width(this.collapseButtonSize);this._collapseButtonWrapper.height(this.collapseButtonSize);if(!this.rtl){this._collapseButtonWrapper.css("margin-right",a);this._collapseButtonWrapper.css("margin-left","0px")}else{this._collapseButtonWrapper.css("margin-left",a);this._collapseButtonWrapper.css("margin-right","0px")}}if(!this.rtl){this._collapseButtonWrapper.css({position:"absolute",right:(this.showCloseButton)?this._closeButton.outerWidth(true):0,left:""})}else{this._collapseButtonWrapper.css({position:"absolute",left:(this.showCloseButton)?this._closeButton.outerWidth(true):0,right:""})}this._centerElement(this._collapseButton,this._collapseButton.parent(),"y")},_performWidgetLayout:function(){var a;if(this.width!=="auto"){this.host.css("width",this.width)}if(!this.collapsed){if(this.height!=="auto"){this.host.height(this.height)}else{this.host.height(this.host.height())}this.host.css("min-height",this.minHeight)}this._setChildrenLayout();a=this._validateMinSize();this.host.css({"max-height":this.maxHeight,"min-width":this.minWidth,"max-width":this.maxWidth});if(!a){this._setChildrenLayout()}},_setChildrenLayout:function(){this._header.width(this.host.width()-(this._header.outerWidth(true)-this._header.width()));this._content.width(this.host.width()-(this._content.outerWidth(true)-this._content.width()));this._content.height(this.host.height()-this._header.outerHeight(true)-(this._content.outerHeight(true)-this._content.height()))},_validateMinSize:function(){var d=true;if(this.minHeight<this._header.height()){this.minHeight=this._header.height();d=false}var a=this._header.children(0).outerWidth(true),n=this._header.children(1).outerWidth(true),c=a+n;if(this.minWidth<100){this.minWidth=Math.min(c,100);d=false}return d},_centerElement:function(a,d,n,c){if(typeof d.left==="number"&&typeof d.top==="number"&&typeof d.height==="number"&&typeof d.width==="number"){this._centerElementInArea(a,d,n)}else{this._centerElementInParent(a,d,n,c)}},_centerElementInParent:function(z,d,u,w){u=u.toLowerCase();if(w){w+="-"}else{w=""}if(u.indexOf("y")>=0){var v=z.outerHeight(true),s=d.height(),t=(Math.max(0,s-v))/2;z.css(w+"top",t+"px")}if(u.indexOf("x")>=0){var a=z.outerWidth(true);var c=d.width();var q=(Math.max(0,c-a))/2;z.css(w+"left",q+"px")}},_centerElementInArea:function(u,v,s){s=s.toLowerCase();if(s.indexOf("y")>=0){var t=u.outerHeight(true);var o=v.height;var q=(o-t)/2;u.css("top",q+v.top+"px")}if(s.indexOf("x")>=0){var a=u.outerWidth(true);var c=v.width;var d=(c-a)/2;u.css("left",d+v.left+"px")}},_removeEventHandlers:function(){this.removeHandler(this._header,this._getEvent("mousedown"));this.removeHandler(this._header,this._getEvent("mousemove"));this.removeHandler(this._header,"focus");this.removeHandler(f(document),this._getEvent("mousemove")+"."+this.host.attr("id"));this.removeHandler(f(document),this._getEvent("mouseup")+"."+this.host.attr("id"));this.removeHandler(this.host,"keydown");this.removeHandler(this._closeButton,this._getEvent("click"));this.removeHandler(this._closeButton,this._getEvent("mouseenter"));this.removeHandler(this._closeButton,this._getEvent("mouseleave"));this.removeHandler(this._collapseButton,this._getEvent("click"));this.removeHandler(this._collapseButton,this._getEvent("mouseenter"));this.removeHandler(this._collapseButton,this._getEvent("mouseleave"));this.removeHandler(this.host,this._getEvent("mousedown"));this.removeHandler(f(this.okButton),this._getEvent("click"),this._setDialogResultHandler);this.removeHandler(f(this.cancelButton),this._getEvent("click"),this._setDialogResultHandler);this.removeHandler(this._header,this._getEvent("mouseenter"));this.removeHandler(this._header,this._getEvent("mouseleave"));this.removeHandler(this.host,"resizing",this._windowResizeHandler)},_removeFromArray:function(d,a){var c=this._indexOf(d,a);if(c>=0){return a.splice(this._indexOf(d,a),1)}else{return a}},_sortByStyle:function(s,c){for(var n=0;n<c.length;n++){for(var q=c.length-1;q>n;q--){var a=c[q],d=c[q-1],o;if(parseInt(a.css(s),10)<parseInt(d.css(s),10)){o=a;c[q]=d;c[q-1]=o}}}},_initializeResize:function(){if(this.resizable){var a=this;this.initResize({target:this.host,alsoResize:a._content,maxWidth:a.maxWidth,minWidth:a.minWidth,maxHeight:a.maxHeight,minHeight:a.minHeight,indicatorSize:10,resizeParent:a.dragArea})}},_removeResize:function(){this.removeResize()},_getEvent:function(a){if(this._isTouchDevice){return this._touchEvents[a]}else{return a}},_addEventHandlers:function(){this._addDragDropHandlers();this._addCloseHandlers();this._addCollapseHandlers();this._addFocusHandlers();this._documentResizeHandlers();this._closeButtonHover();this._collapseButtonHover();this._addDialogButtonsHandlers();this._addHeaderHoverEffect();this._addResizeHandlers();var a=this;this.addHandler(this._header,this._getEvent("mousemove"),function(c){a._addHeaderCursorHandlers(a)})},_addResizeHandlers:function(){var a=this;this.addHandler(this.host,"resizing",this._windowResizeHandler,{self:this})},_windowResizeHandler:function(a){var c=a.data.self;c._header.width(c.host.width()-(c._header.outerWidth(true)-c._header.width()));c.width=a.args.width;c.height=a.args.height},_addHeaderHoverEffect:function(){var a=this;this.addHandler(this._header,this._getEvent("mouseenter"),function(){f(this).addClass(a.toThemeProperty("jqx-window-header-hover"))});this.addHandler(this._header,this._getEvent("mouseleave"),function(){f(this).removeClass(a.toThemeProperty("jqx-window-header-hover"))})},_addDialogButtonsHandlers:function(){if(this.okButton){this.addHandler(f(this.okButton),this._getEvent("click"),this._setDialogResultHandler,{self:this,result:"ok"})}if(this.cancelButton){this.addHandler(f(this.cancelButton),this._getEvent("click"),this._setDialogResultHandler,{self:this,result:"cancel"})}},_documentResizeHandlers:function(){var a=this;if(this.isModal){this.addHandler(f(window),"resize.window"+this.element.id,function(){if(typeof a._modalBackground==="object"&&a._modalBackground!==null){if(a.isOpen()){a._modalBackground.hide()}if(!a.restricter){a._modalBackground.width(a._getDocumentSize().width);a._modalBackground.height(a._getDocumentSize().height)}else{a._modalBackground.css("left",a.dragArea.left);a._modalBackground.css("top",a.dragArea.top);a._modalBackground.width(a.dragArea.width);a._modalBackground.height(a.dragArea.height)}if(a.isOpen()){a._modalBackground.show()}}})}},_setDialogResultHandler:function(a){var c=a.data.self;c._setDialogResult(a.data.result);c.closeWindow()},_setDialogResult:function(a){this.dialogResult.OK=false;this.dialogResult.None=false;this.dialogResult.Cancel=false;a=a.toLowerCase();switch(a){case"ok":this.dialogResult.OK=true;break;case"cancel":this.dialogResult.Cancel=true;break;default:this.dialogResult.None=true}},_getDocumentSize:function(){var d=f.jqx.browser.msie&&f.jqx.browser.version<9;var c=d?4:0;var a=c;if(document.body.scrollHeight>document.body.clientHeight&&d){c=this._SCROLL_WIDTH}if(document.body.scrollWidth>document.body.clientWidth&&d){a=this._SCROLL_WIDTH}return{width:f(document).width()-c,height:f(document).height()-a}},_closeButtonHover:function(){var a=this;this.addHandler(this._closeButton,this._getEvent("mouseenter"),function(){a._closeButton.addClass(a.toThemeProperty("jqx-window-close-button-hover"))});this.addHandler(this._closeButton,this._getEvent("mouseleave"),function(){a._closeButton.removeClass(a.toThemeProperty("jqx-window-close-button-hover"))})},_collapseButtonHover:function(){var a=this;this.addHandler(this._collapseButton,this._getEvent("mouseenter"),function(){a._collapseButton.addClass(a.toThemeProperty("jqx-window-collapse-button-hover"))});this.addHandler(this._collapseButton,this._getEvent("mouseleave"),function(){a._collapseButton.removeClass(a.toThemeProperty("jqx-window-collapse-button-hover"))})},_setModalBackgroundStyles:function(){if(this.isModal){this._modalBackground.fadeTo(0,this.modalOpacity);this._modalBackground.css({position:"absolute",top:"0px",left:"0px",width:this._getDocumentSize().width,height:this._getDocumentSize().height,"z-index":this.modalBackgroundZIndex});if(!this.autoOpen){this._modalBackground.css("display","none")}}},_addFocusHandlers:function(){var a=this;this.addHandler(this.host,this._getEvent("mousedown"),function(){if(!a.isModal){a.bringToFront()}})},_indexOf:function(c,a){for(var d=0;d<a.length;d++){if(a[d][0]===c[0]){return d}}return -1},_addCloseHandlers:function(){var a=this;this.addHandler(this._closeButton,this._getEvent("click"),function(c){return a._closeWindow(c)});if(this.keyboardCloseKey!=="none"){if(typeof this.keyboardCloseKey!=="number"&&this.keyboardCloseKey.toLowerCase()==="esc"){this.keyboardCloseKey=27}}this.addHandler(this.host,"keydown",function(c){if(c.keyCode===a.keyboardCloseKey&&a.keyboardCloseKey!=null&&a.keyboardCloseKey!="none"){a._closeWindow(c)}else{a._handleKeys(c)}},{self:this});this.addHandler(this.host,"keyup",function(o){if(!a.keyboardNavigation){return}if(a._moved){var c=a.host.coord();var d=c.left;var n=c.top;a._raiseEvent(3,d,n,d,n);a._moved=false}})},_handleKeys:function(z){if(!this.keyboardNavigation){return}if(!this._headerFocused){return}if(f(document.activeElement).ischildof(this._content)){return}var A=z.ctrlKey;var d=z.keyCode;var s=this.host.coord();var t=s.left;var q=s.top;var w=this._getDraggingArea();var v=this.host.width();var c=this.host.height();var a=true;var u=10;switch(d){case 37:if(!A){if(this.draggable){if(t-u>=0){this.move(t-u,q)}}}else{if(this.resizable){this.resize(v-u,c)}}a=false;break;case 38:if(!A){if(this.draggable){if(q-u>=0){this.move(t,q-u)}}}else{if(this.resizable){this.resize(v,c-u)}}a=false;break;case 39:if(!A){if(this.draggable){if(t+v+u<=w.width){this.move(t+u,q)}}}else{if(this.resizable){this.resize(v+u,c)}}a=false;break;case 40:if(!A){if(this.draggable){if(q+c+u<=w.height){this.move(t,q+u)}}}else{if(this.resizable){this.resize(v,c+u)}}a=false;break}if(!a){if(z.preventDefault){z.preventDefault()}if(z.stopPropagation){z.stopPropagation()}}return a},_addCollapseHandlers:function(){var a=this;this.addHandler(this._collapseButton,this._getEvent("click"),function(){if(!a.collapsed){a.collapse()}else{a.expand()}})},_closeWindow:function(a){this.closeWindow();return false},_addHeaderCursorHandlers:function(a){if(a.resizeArea&&a.resizable&&!a.collapsed){a._header.css("cursor",a._resizeWrapper.css("cursor"));return}else{if(a.draggable){a._header.css("cursor","move");return}}a._header.css("cursor","default");if(a._resizeWrapper&&a._resizeWrapper.length>0){a._resizeWrapper.css("cursor","default")}},_addDragDropHandlers:function(){if(this.draggable){var n=this;this.addHandler(this.host,"focus",function(){n._headerFocused=true});this.addHandler(this.host,"blur",function(){n._headerFocused=false});this.addHandler(this._header,"focus",function(){n._headerFocused=true;return false});this.addHandler(this._header,this._getEvent("mousedown"),function(q,s,o){if(s){q.pageX=s}if(o){q.pageY=o}n._headerMouseDownHandler(n,q);return true});this.addHandler(this._header,"dragstart",function(o){if(o.preventDefault){o.preventDefault()}return false});this.addHandler(this._header,this._getEvent("mousemove"),function(o){return n._headerMouseMoveHandler(n,o)});this.addHandler(f(document),this._getEvent("mousemove")+"."+this.host.attr("id"),function(o){return n._dragHandler(n,o)});this.addHandler(f(document),this._getEvent("mouseup")+"."+this.host.attr("id"),function(o){return n._dropHandler(n,o)});try{if(document.referrer!=""||window.frameElement){var a=null;if(window.top!=null&&window.top!=window.self){if(window.parent&&document.referrer){a=document.referrer}}if(a&&a.indexOf(document.location.host)!=-1){var c=function(o){n._dropHandler(n,o)};if(window.top.document.addEventListener){window.top.document.addEventListener("mouseup",c,false)}else{if(window.top.document.attachEvent){window.top.document.attachEvent("onmouseup",c)}}}}}catch(d){}}},_headerMouseDownHandler:function(n,d){if(!n.isModal){n.bringToFront()}if(n._resizeDirection==null){var c=f.jqx.mobile.getTouches(d);var a=c[0];var o=f.jqx.position(d);n._mousePosition.x=o.left;n._mousePosition.y=o.top;n._mouseDown=true;n._isDragging=false}},_headerMouseMoveHandler:function(q,d){if(q._mouseDown&&!q._isDragging){var c=f.jqx.mobile.getTouches(d);var a=c[0];var n=a.pageX,o=a.pageY;var s=f.jqx.position(d);n=s.left;o=s.top;if((n+3<q._mousePosition.x||n-3>q._mousePosition.x)||(o+3<q._mousePosition.y||o-3>q._mousePosition.y)){q._isDragging=true;q._mousePosition={x:n,y:o};q._windowPosition={x:q.host.coord().left,y:q.host.coord().top};f(document.body).addClass(q.toThemeProperty("jqx-disableselect"))}if(q._isTouchDevice){d.preventDefault();return true}return false}if(q._isDragging){if(q._isTouchDevice){d.preventDefault();return true}return false}return true},_dropHandler:function(o,c){var q=true;if(o._isDragging&&!o.isResizing&&!o._resizeDirection){var s=parseInt(o.host.css("left"),10),a=parseInt(o.host.css("top"),10),d=(o._isTouchDevice)?0:c.pageX,n=(o._isTouchDevice)?0:c.pageY;o.enableResize=o._enableResizeBackup;o._enableResizeBackup="undefined";o._raiseEvent(3,s,a,d,n);q=false;if(c.preventDefault!="undefined"){c.preventDefault()}if(c.originalEvent!=null){c.originalEvent.mouseHandled=true}if(c.stopPropagation!="undefined"){c.stopPropagation()}}o._isDragging=false;o._mouseDown=false;f(document.body).removeClass(o.toThemeProperty("jqx-disableselect"));return q},_dragHandler:function(c,z){if(c._isDragging&&!c.isResizing&&!c._resizeDirection){var d=(c._isTouchDevice)?z.originalEvent.which:z.which;if(typeof c._enableResizeBackup==="undefined"){c._enableResizeBackup=c.enableResize}c.enableResize=false;if(d===0&&f.jqx.browser.msie&&f.jqx.browser.version<8){return c._dropHandler(c,z)}var t=f.jqx.mobile.getTouches(z);var u=t[0];var s=f.jqx.position(z);var v=s.left,w=s.top,A=v-c._mousePosition.x,B=w-c._mousePosition.y,C=c._windowPosition.x+A,a=c._windowPosition.y+B;c.move(C,a,z);z.preventDefault();return false}return true},_validateCoordinates:function(s,a,d,c){var n=this._getDraggingArea();s=(s<n.left)?n.left:s;a=(a<n.top)?n.top:a;var q=this.host.outerWidth(true);var o=this.host.outerHeight(true);if(s+q>=n.width+n.left-2*c){s=n.width+n.left-q-c}if(a+o>=n.height+n.top-d){a=n.height+n.top-o-d}return{x:s,y:a}},_performLayout:function(){this._performHeaderLayout();this._performWidgetLayout()},_parseDragAreaAttributes:function(){if(this.dragArea!==null){this.dragArea.height=parseInt(this.dragArea.height,10);this.dragArea.width=parseInt(this.dragArea.width,10);this.dragArea.top=parseInt(this.dragArea.top,10);this.dragArea.left=parseInt(this.dragArea.left,10)}},_positionWindow:function(){this._parseDragAreaAttributes();if(this.position instanceof Array&&this.position.length===2&&typeof this.position[0]==="number"&&typeof this.position[1]==="number"){this.host.css({left:this.position[0],top:this.position[1]})}else{if(this.position instanceof Object){if(this.position.left){this.host.offset(this.position)}else{if(this.position.x!==undefined&&this.position.y!=undefined){this.host.css({left:this.position.x,top:this.position.y})}else{if(this.position.center){this._centerElement(this.host,this.position.center,"xy");var a=this.position.center.coord();var c=parseInt(this.host.css("left"));var d=parseInt(this.host.css("top"));this.host.css({left:c+a.left,top:d+a.top})}}}}else{this._positionFromLiteral()}}},_getDraggingArea:function(){var a={};a.left=((this.dragArea&&this.dragArea.left)?this.dragArea.left:0);a.top=((this.dragArea&&this.dragArea.top)?this.dragArea.top:0);a.width=((this.dragArea&&this.dragArea.width)?this.dragArea.width:this._getDocumentSize().width);a.height=((this.dragArea&&this.dragArea.height)?this.dragArea.height:this._getDocumentSize().height);return a},_positionFromLiteral:function(){if(!(this.position instanceof Array)){this.position=this.position.split(",")}var c=this.position.length,a=this._getDraggingArea();while(c){c-=1;this.position[c]=this.position[c].replace(/ /g,"");switch(this.position[c]){case"top":this.host.css("top",a.top);break;case"left":this.host.css("left",a.left);break;case"bottom":this.host.css("top",a.height-this.host.height()+a.top);break;case"right":this.host.css("left",a.left+a.width-this.host.width());break;default:if(!this.dragArea){a=f(window)}this._centerElement(this.host,a,"xy");break}}},_raiseEvent:function(c){var d=this._events[c],a=f.Event(d),n={};if(c===2||c===3){n.x=arguments[1];n.y=arguments[2];n.pageX=arguments[3];n.pageY=arguments[4]}if(d==="closed"||d==="close"){n.dialogResult=this.dialogResult}a.args=n;return this.host.trigger(a)},destroy:function(){this.removeHandler(f(window),"resize.window"+this.element.id);this._removeEventHandlers();this._destroy()},_destroy:function(){if(this.restricter){this.removeHandler(f(window),"resize."+this.element.id);this.removeHandler(f(window),"orientationchanged."+this.element.id);this.removeHandler(f(window),"orientationchange."+this.element.id)}this.host.remove();if(this._modalBackground!==null){this._modalBackground.remove()}},_toClose:function(a,c){return((a&&c[0]===this.element)||(c[0]!==this.element&&typeof c[0]==="object"))},propertyChangedHandler:function(n,d,a,c){this._validateProperties();switch(d){case"rtl":this._performLayout();break;case"dragArea":this._positionWindow();break;case"collapseButtonSize":this._performLayout();break;case"closeButtonSize":this._performLayout();break;case"isModal":this._refresh();this._fixWindowZIndex();break;case"keyboardCloseKey":this._removeEventHandlers();this._addEventHandlers();break;case"disabled":if(c){this.disable()}else{this.disabled=true;this.enable()}break;case"showCloseButton":case"showCollapseButton":this._performLayout();break;case"height":this._performLayout();break;case"width":this._performLayout();break;case"title":this.setTitle(c);this.title=c;break;case"content":this.setContent(c);break;case"draggable":this._removeEventHandlers();this._addEventHandlers();this._removeResize();this._initializeResize();break;case"resizable":this.enableResize=c;if(c){this._initializeResize()}else{this._removeResize()}break;case"position":this._positionWindow();break;case"modalOpacity":this._setModalBackgroundStyles();break;case"okButton":if(c){this._addDialogButtonsHandlers()}else{this.removeHandler(this.okButton)}break;case"cancelButton":if(c){this._addDialogButtonsHandlers()}else{this.removeHandler(this.cancelButton)}break;case"collapsed":if(c){if(!a){this.collapsed=false;this.collapse(0)}}else{if(a){this.collapsed=true;this.expand(0)}}case"theme":f.jqx.utilities.setTheme(a,c,this.host);break;case"enableResize":return;case"maxWidth":case"maxHeight":case"minWidth":case"minHeight":n._performLayout();n._removeResize();n._initializeResize();return;default:return}},collapse:function(d){if(!this.collapsed&&!this.host.is(":animated")){if(this.host.css("display")=="none"){return}var o=this,c=this._header.outerHeight(true),a=parseInt(this._header.css("border-bottom-width"),10),n=parseInt(this._header.css("margin-bottom"),10),d=!isNaN(parseInt(d))?d:this.collapseAnimationDuration;if(!isNaN(a)){c-=2*a}if(!isNaN(n)){c+=n}this._heightBeforeCollapse=this.host.height();this._minHeightBeforeCollapse=this.host.css("min-height");this.host.css("min-height",c);this.host.animate({height:c},d,function(){o.collapsed=true;o._collapseButton.addClass(o.toThemeProperty("jqx-window-collapse-button-collapsed"));o._collapseButton.addClass(o.toThemeProperty("jqx-icon-arrow-down"));o._content.css("display","none");o._raiseEvent(5);o._raiseEvent(9);f.jqx.aria(o,"aria-expanded",false)})}},expand:function(a){if(this.collapsed&&!this.host.is(":animated")){var c=this,a=!isNaN(parseInt(a))?a:this.collapseAnimationDuration;this.host.animate({height:this._heightBeforeCollapse},a,function(){c.collapsed=false;c.host.css("min-height",c._minHeightBeforeCollapse);c._collapseButton.removeClass(c.toThemeProperty("jqx-window-collapse-button-collapsed"));c._collapseButton.removeClass(c.toThemeProperty("jqx-icon-arrow-down"));c._content.css("display","block");c._raiseEvent(6);c._performWidgetLayout();c._raiseEvent(9);f.jqx.aria(c,"aria-expanded",true)})}},closeAll:function(a){var a=true;var c=f.data(document.body,"jqxwindows-list"),d=c.length,n=f.data(document.body,"jqxwindow-modal")||[];while(d){d-=1;if(this._toClose(a,c[d])){c[d].jqxWindow("closeWindow","close");c.splice(d,1)}}if(this._toClose(a,n)){n.jqxWindow("closeWindow","close");f.data(document.body,"jqxwindow-modal",[])}f.data(document.body,"jqxwindows-list",c)},setTitle:function(a){f.jqx.utilities.html(this._headerContentWrapper,a);this.title=a;this._performLayout()},setContent:function(c){this._contentInitialized=false;var d=this._content,a=false;while(!a){d.css("height","auto");d.css("width","auto");if(d.is(".jqx-window")){a=true}else{d=d.parent()}}f.jqx.utilities.html(this._content,c);this._performLayout()},disable:function(){this.disabled=true;this._removeEventHandlers();this._header.addClass(this.toThemeProperty("jqx-window-header-disabled"));this._closeButton.addClass(this.toThemeProperty("jqx-window-close-button-disabled"));this._collapseButton.addClass(this.toThemeProperty("jqx-window-collapse-button-disabled"));this._content.addClass(this.toThemeProperty("jqx-window-content-disabled"));this.host.addClass(this.toThemeProperty("jqx-window-disabled"));this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"));this._removeResize()},enable:function(){if(this.disabled){this._addEventHandlers();this._header.removeClass(this.toThemeProperty("jqx-window-header-disabled"));this._content.removeClass(this.toThemeProperty("jqx-window-content-disabled"));this._closeButton.removeClass(this.toThemeProperty("jqx-window-close-button-disabled"));this._collapseButton.removeClass(this.toThemeProperty("jqx-window-collapse-button-disabled"));this.host.removeClass(this.toThemeProperty("jqx-window-disabled"));this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled"));this.disabled=false;this._initializeResize()}},isOpen:function(){return this._visible},closeWindow:function(a){var c=this;a=(typeof a==="undefined")?this.closeButtonAction:a;this.hide(function(){if(a==="close"){c._destroy()}})},bringToFront:function(){var o=f.data(document.body,"jqxwindows-list");if(this.isModal){o=f.data(document.body,"jqxwindows-modallist");this._fixWindowZIndex("modal-hide");this._fixWindowZIndex("modal-show");return}var a=o[o.length-1],c=parseInt(a.css("z-index"),10),n=this._indexOf(this.host,o);for(var q=o.length-1;q>n;q-=1){var d=parseInt(o[q].css("z-index"),10)-1;o[q].css("z-index",d)}this.host.css("z-index",c);this._sortByStyle("z-index",o)},hide:function(a,c,n){if(this.closing){var d=this.closing();if(d==false){return}}c=c||this.closeAnimationDuration;switch(this.animationType){case"none":this.host.css("display","none");break;case"fade":this.host.fadeOut(c,function(){if(a instanceof Function){a()}});case"slide":this.host.slideUp(c,function(){if(a instanceof Function){a()}});case"combined":this.host.hide(c,function(){if(a instanceof Function){a()}})}this._visible=false;if(this.isModal){this._modalBackground.hide();this._fixWindowZIndex("modal-hide")}if(n!==true){this._raiseEvent(1);this._raiseEvent(8)}},open:function(a,c){this.show(a,c)},close:function(a,c,d){this.hide(a,c,d)},show:function(a,c){this._setDialogResult("none");c=c||this.showAnimationDuration;switch(this.animationType){case"none":this.host.css("display","block");break;case"fade":this.host.fadeIn(c,function(){if(a instanceof Function){a()}});break;case"slide":this.host.slideDown(c,function(){if(a instanceof Function){a()}});break;case"combined":this.host.show(c,function(){if(a instanceof Function){a()}});break}if(this.isModal){this._modalBackground.show();this._fixWindowZIndex("modal-show")}var d=this;if(!this._visible){if(c>150&&this.animationType!="none"){setTimeout(function(){if(!d._contentInitialized){if(d.initContent){d.initContent();d._contentInitialized=true}}d._raiseEvent(7);d._raiseEvent(9)},c-150)}else{if(!d._contentInitialized){if(d.initContent){d.initContent();d._contentInitialized=true}}this._raiseEvent(7);d._raiseEvent(9)}}this._visible=true;this._performLayout();if(this.autoFocus){var n=function(){if(!d._isTouchDevice){d._content.focus()}};n();setTimeout(function(){n()},100)}},_getTabbables:function(){var a=this._content.find("*");var c=new Array();f.each(a,function(){if(h(this)){c[c.length]=this}});return c},move:function(a,c,C,z){var A=0,B=0,s,v,w,a=parseInt(a,10),c=parseInt(c,10);if(f.jqx.browser.msie){if(f(window).width()>f(document).width()&&!this.dragArea){B=this._SCROLL_WIDTH}if(f(window).height()<f(document).height()&&document.documentElement.clientWidth>document.documentElement.scrollWidth&&!this.dragArea){A=this._SCROLL_WIDTH}}s=this._validateCoordinates(a,c,B,A);if(parseInt(this.host.css("left"),10)!==s.x||parseInt(this.host.css("top"),10)!==s.y){if(C){var t=f.jqx.mobile.getTouches(C);var u=t[0];var d=f.jqx.position(C);v=d.left;w=d.top}if(v==undefined){v=a}if(w==undefined){w=c}if(z!==false){this._raiseEvent(2,s.x,s.y,v,w)}}this.element.style.left=s.x+"px";this.element.style.top=s.y+"px";this._moved=true}});function l(n,q){var a=n.nodeName.toLowerCase();if("area"===a){var c=n.parentNode,d=c.name,o;if(!n.href||!d||c.nodeName.toLowerCase()!=="map"){return false}o=f("img[usemap=#"+d+"]")[0];return !!o&&e(o)}return(/input|select|textarea|button|object/.test(a)?!n.disabled:"a"==a?n.href||q:q)&&e(n)}function e(a){return !f(a).parents().andSelf().filter(function(){return f.css(this,"visibility")==="hidden"||f.expr.filters.hidden(this)}).length}function h(a){var d=f.attr(a,"tabindex"),c=isNaN(d);return(c||d>=0)&&l(a,!c)}}(jqxBaseFramework));(function(c){var d=(function(a){return{resizeConfig:function(){this.resizeTarget=null;this.resizeIndicatorSize=5;this.resizeTargetChildren=null;this.isResizing=false;this.resizeArea=false;this.minWidth=1;this.maxWidth=100;this.minHeight=1;this.maxHeight=100;this.resizeParent=null;this.enableResize=true;this._cursorBackup;this._resizeEvents=["resizing","resized","resize"];this._resizeMouseDown=false;this._resizeCurrentMode=null;this._mouseResizePosition={};this._resizeMethods=null;this._SCROLL_WIDTH=21},_resizeExceptions:{invalidTarget:"Invalid target!",invalidMinHeight:"Invalid minimal height!",invalidMaxHeight:"Invalid maximum height!",invalidMinWidth:"Invalid minimum width!",invalidMaxWidth:"Invalid maximum width!",invalidIndicatorSize:"Invalid indicator size!",invalidSize:"Invalid size!"},removeResize:function(){if(this.resizeTarget){var h=a(this.resizeTarget.children(".jqx-resize"));h.detach();var l=h.children();this._removeResizeEventListeners();for(var n=0;n<l.length;n+=1){a(l[n]).detach();this.resizeTarget.append(l[n])}h.remove()}},initResize:function(e){this.resizeConfig();this.resizeTarget=a(e.target);this.resizeIndicatorSize=e.indicatorSize||10;this.maxWidth=e.maxWidth||100;this.minWidth=e.minWidth||1;this.maxHeight=e.maxHeight||100;this.minHeight=e.minHeight||1;this.resizeParent=e.resizeParent;this._parseResizeParentProperties();this._validateResizeProperties();this._validateResizeTargetDimensions();this._getChildren(this.resizeTarget.maxWidth,this.resizeTarget.minWidth,this.resizeTarget.maxHeight,this.resizeTarget.minHeight,e.alsoResize);this._refreshResize();this._cursorBackup=this.resizeTarget.css("cursor");if(this._cursorBackup==="auto"){this._cursorBackup="default"}},_validateResizeTargetDimensions:function(){this.resizeTarget.maxWidth=this.maxWidth;this.resizeTarget.minWidth=((3*this.resizeIndicatorSize>this.minWidth)?3*this.resizeIndicatorSize:this.minWidth);this.resizeTarget.maxHeight=this.maxHeight;this.resizeTarget.minHeight=((3*this.resizeIndicatorSize>this.minHeight)?3*this.resizeIndicatorSize:this.minHeight)},_parseResizeParentProperties:function(){if(this.resizeParent){this.resizeParent.left=parseInt(this.resizeParent.left,10);this.resizeParent.top=parseInt(this.resizeParent.top,10);this.resizeParent.width=parseInt(this.resizeParent.width,10);this.resizeParent.height=parseInt(this.resizeParent.height,10)}},_getChildren:function(n,s,o,l,t){this.resizeTargetChildren=a(t);this.resizeTargetChildren.toArray();var q=this.resizeTargetChildren.length;while(q){q-=1;this.resizeTargetChildren[q]=a(this.resizeTargetChildren[q])}},_refreshResize:function(){this._renderResize();this._performResizeLayout();this._removeResizeEventListeners();this._addResizeEventHandlers()},_renderResize:function(){this.resizeTarget.wrapInner(a("<div></div>"));this._resizeWrapper=this.resizeTarget.children(0);this._resizeWrapper.addClass("jqx-resize");this._resizeWrapper.addClass("jqx-rc-all");this._resizeWrapper.css("z-index",8000)},_performResizeLayout:function(){this._resizeWrapper.height(this.resizeTarget.height());this._resizeWrapper.width(this.resizeTarget.width())},_removeResizeEventListeners:function(){var e=this.resizeTarget.attr("id");this.removeHandler(this._resizeWrapper,"mousemove.resize"+e);this.removeHandler(this._resizeWrapper,"mousedown.resize"+e);this.removeHandler(a(document),"mousemove.resize"+e);this.removeHandler(a(document),"mouseup.resize"+e)},_addResizeEventHandlers:function(){var h=this.resizeTarget.attr("id");var o=this;this.addHandler(this._resizeWrapper,"mousemove.resize."+h,function(e){o._resizeCursorChangeHandler(o,e)});this.addHandler(this._resizeWrapper,"mousedown.resize."+h,function(e){o._resizeMouseDownHandler(o,e)});this.addHandler(a(document),"mousemove.resize."+h,function(e){return o._resizeHandler(o,e)});this.addHandler(a(document),"mouseup.resize."+h,function(e){o._stopResizing(o,e)});try{if(document.referrer!=""||window.frameElement){var l=function(e){o._stopResizing(o,e)};if(window.top.document.addEventListener){window.top.document.addEventListener("mouseup",l,false)}else{if(window.top.document.attachEvent){window.top.document.attachEvent("onmouseup",l)}}}}catch(n){}},_stopResizing:function(h,f){if(h.enableResize){if(h.isResizing){h._raiseResizeEvent(1)}h._resizeMouseDown=false;h.isResizing=false;h._resizeDirection=null;if(h.resizeTarget){h.resizeTarget.removeClass("jqx-disableselect")}}if(h._cursorBackup=="undefined"){h._cursorBackup="default"}if(h._resizeWrapper){h._resizeWrapper.css("cursor",h._cursorBackup)}},_resizeHandler:function(h,f){if(h.enableResize&&!h.collapsed){if(h.isResizing&&h._resizeDirection){if(f.which===0&&a.jqx.browser.msie&&a.jqx.browser.version<9){h._stopResizing(f)}h._performResize(f.pageX,f.pageY);return false}else{return h._resizeCaptureCursor(f.pageX,f.pageY)}}},_resizeCaptureCursor:function(f,h){if(this._resizeMouseDown&&!this.isResizing&&this._resizeDirection){if((f+3<this._mouseResizePosition.x||f-3>this._mouseResizePosition.x)||(h+3<this._mouseResizePosition.y||h-3>this._mouseResizePosition.y)){this._changeCursor(f-parseInt(this.resizeTarget.css("left")),h-parseInt(this.resizeTarget.css("top")));this._mouseResizePosition={x:f,y:h};this._prepareResizeMethods(this._resizeDirection);this._resizeBackupData();this.isResizing=true;this.resizeTarget.addClass("jqx-disableselect");return false}}},_resizeBackupData:function(){this.resizeTarget.lastWidth=this.resizeTarget.width();this.resizeTarget.lastHeight=this.resizeTarget.height();this.resizeTarget.x=parseInt(this.resizeTarget.css("left"),10);this.resizeTarget.y=parseInt(this.resizeTarget.css("top"),10);this._resizeBackupChildrenSize()},_resizeBackupChildrenSize:function(){var h=this.resizeTargetChildren.length,f;while(h){h-=1;f=this.resizeTargetChildren[h];this.resizeTargetChildren[h].lastWidth=f.width();this.resizeTargetChildren[h].lastHeight=f.height()}},_performResize:function(h,l){var n=h-this._mouseResizePosition.x,o=l-this._mouseResizePosition.y;if(this._resizeDirection){this._resize(this.resizeTarget,n,o)}},_resizeCursorChangeHandler:function(h,f){if(h.enableResize&&!h.collapsed){if(!h.isResizing){h._changeCursor(f.pageX-parseInt(h.resizeTarget.css("left")),f.pageY-parseInt(h.resizeTarget.css("top")))}}},_resizeMouseDownHandler:function(h,f){if(h.enableResize){if(h._resizeDirection!==null){h._resizeMouseDown=true;h._mouseResizePosition.x=f.pageX;h._mouseResizePosition.y=f.pageY;f.preventDefault()}}},_validateResizeProperties:function(){try{if(!this.resizeTarget||this.resizeTarget.length!==1){throw new Error(this._resizeExceptions.invalidTarget)}if(this.minHeight<0||isNaN(parseInt(this.minHeight))){throw new Error(this._resizeExceptions.invalidMinHeight)}if(this.maxHeight<=0||isNaN(parseInt(this.maxHeight))){throw new Error(this._resizeExceptions.invalidMaxHeight)}if(this.minWidth<0||isNaN(parseInt(this.minWidth))){throw new Error(this._resizeExceptions.invalidMinWidth)}if(this.maxWidth<0||isNaN(parseInt(this.maxWidth))){throw new Error(this._resizeExceptions.invalidMaxWidth)}if(this.resizeIndicatorSize<0||isNaN(parseInt(this.resizeIndicatorSize))){throw new Error(this._resizeExceptions.invalidIndicatorSize)}if(this.minHeight>this.maxHeight||this.minWidth>this.maxWidth){throw new Error(this._resizeExceptions.invalidSize)}}catch(e){alert(e)}},_changeCursor:function(h,f){if(this.isResizing||this._resizeMouseDown){return}this.resizeArea=true;if(h<=this.resizeIndicatorSize&&h>=0&&f<=this.resizeIndicatorSize&&f>0){this._resizeWrapper.css("cursor","nw-resize");this._resizeDirection="topleft"}else{if(f<=this.resizeIndicatorSize&&f>0&&h>=this.resizeTarget.width()-this.resizeIndicatorSize){this._resizeWrapper.css("cursor","ne-resize");this._resizeDirection="topright"}else{if(f>=this.resizeTarget.height()-this.resizeIndicatorSize&&f<this.resizeTarget.height()&&h<=this.resizeIndicatorSize&&h>=0){this._resizeWrapper.css("cursor","sw-resize");this._resizeDirection="bottomleft"}else{if(f>=this.resizeTarget.height()-this.resizeIndicatorSize&&f<this.resizeTarget.height()&&h>=this.resizeTarget.width()-this.resizeIndicatorSize&&h<this.resizeTarget.width()){this._resizeWrapper.css("cursor","se-resize");this._resizeDirection="bottomright"}else{if(h<=this.resizeIndicatorSize&&h>=0){this._resizeWrapper.css("cursor","e-resize");this._resizeDirection="left"}else{if(f<=this.resizeIndicatorSize&&f>0){this._resizeWrapper.css("cursor","n-resize");this._resizeDirection="top"}else{if(f>=this.resizeTarget.height()-this.resizeIndicatorSize&&f<this.resizeTarget.height()){this._resizeWrapper.css("cursor","n-resize");this._resizeDirection="bottom"}else{if(h>=this.resizeTarget.width()-this.resizeIndicatorSize&&h<this.resizeTarget.width()){this._resizeWrapper.css("cursor","e-resize");this._resizeDirection="right"}else{this._resizeWrapper.css("cursor",this._cursorBackup);this._resizeDirection=null;this.resizeArea=false}}}}}}}}},_prepareResizeMethods:function(e){this._resizeMethods=[];if(e.indexOf("left")>=0){this._resizeMethods.push(this._resizeLeft)}if(e.indexOf("top")>=0){this._resizeMethods.push(this._resizeTop)}if(e.indexOf("right")>=0){this._resizeMethods.push(this._resizeRight)}if(e.indexOf("bottom")>=0){this._resizeMethods.push(this._resizeBottom)}},_validateResize:function(n,s,l,o,q){if(l==="horizontal"||l==="both"){return this._validateWidth(n,o,q)}else{if(l==="vertical"||l==="both"){return this._validateHeight(s,o,q)}}return{result:false,fix:0}},_getParent:function(){if(this.resizeParent!==null&&this.resizeParent!=="undefined"&&this.resizeParent.height&&this.resizeParent.width&&this.resizeParent.top&&this.resizeParent.left){return this.resizeParent}return{left:0,top:0,width:a(document).width(),height:a(document).height()}},_validateHeight:function(u,o,q){var n=0,v=2,w=false,s=u,t=this._getParent();if(a(window).width()>a(document).width()&&a.jqx.browser.msie&&t.height===a(document).height()){n=this._SCROLL_WIDTH}if(q==="bottom"&&(u+o.position().top+n+v>t.height+t.top)){return{fix:t.height-o.position().top-n-v+t.top,result:false}}if(q==="top"&&o.lastHeight-u+o.y<t.top){return{fix:u+(o.lastHeight-u+o.y)-t.top,result:false}}if(u<o.minHeight){return{fix:o.minHeight,result:false}}if(u>o.maxHeight){return{fix:o.maxHeight,result:false}}return{result:true,fix:u}},_validateWidth:function(o,q,s){var n=0,v=2,w=false,t=o,u=this._getParent();if(a(window).height()<a(document).height()&&a.jqx.browser.msie&&document.documentElement.clientWidth>=document.documentElement.scrollWidth&&u.width===a(document).width()){n=this._SCROLL_WIDTH}if(s==="right"&&(o+q.position().left+n+v>u.width+u.left)){return{fix:u.width-q.position().left-n-v+u.left,result:false}}if(s==="left"&&(q.lastWidth-o+q.x<u.left)){return{fix:o+(q.lastWidth-o+q.x)-u.left,result:false}}if(o<q.minWidth){return{fix:q.minWidth,result:false}}if(o>q.maxWidth){return{fix:q.maxWidth,result:false}}return{result:true,fix:o}},_resize:function(q,u,v){var n=this._resizeDirection;var o=this._resizeMethods.length;for(var s=0;s<o;s++){if(this._resizeMethods[s] instanceof Function){var t={element:q,x:u,y:v,self:this};this._resizeMethods[s](t)}}this._performResizeLayout()},resize:function(n,s){if(this.resizable){var o=n-this.host.width();var q=s-this.host.height();var l="right";if(q!=0){l="bottom"}this._resizeDirection=l;this._prepareResizeMethods(this._resizeDirection);this._resizeBackupData();this.isResizing=true;this._resize(this.resizeTarget,o,q);this.isResizing=false}},_setResizeChildrenSize:function(q,o){var l=this.resizeTargetChildren.length;while(l){l--;if(o==="width"){var n=this.resizeTargetChildren[l].lastWidth-(this.resizeTarget.lastWidth-q);if(n<this.resizeTarget.maxWidth&&n>0){this.resizeTargetChildren[l].width(n)}}else{var s=this.resizeTargetChildren[l].lastHeight-(this.resizeTarget.lastHeight-q);if(s<this.resizeTarget.maxHeight&&s>0){this.resizeTargetChildren[l].height(s)}}}},_resizeRight:function(l){var h=l.element.lastWidth+l.x,n=l.self._validateResize(h,0,"horizontal",l.element,"right");if(!n.result){h=n.fix}if(l.element.width()!==h){l.self._setResizeChildrenSize(h,"width");l.element.width(h);l.self._raiseResizeEvent(0)}return h},_resizeLeft:function(l){var h=l.element.lastWidth-l.x,n=l.self._validateResize(h,0,"horizontal",l.element,"left"),o=l.element.x+l.x;if(!n.result){o=l.element.x+(l.element.lastWidth-n.fix);h=n.fix;return}if(l.element.width()!==h){l.self._setResizeChildrenSize(h,"width");l.element.width(h);l.element.css("left",o);l.self._raiseResizeEvent(0)}return h},_resizeBottom:function(h){var l=h.element.lastHeight+h.y,n=h.self._validateResize(0,l,"vertical",h.element,"bottom");if(!n.result){l=n.fix}if(h.element.height()!==l){h.self._setResizeChildrenSize(l,"height");h.element.height(l);h.self._raiseResizeEvent(0)}return l},_resizeTop:function(l){var n=l.element.lastHeight-l.y,o=l.self._validateResize(0,n,"vertical",l.element,"top"),h=l.element.y+l.y;if(!o.result){h=l.element.y+(l.element.lastHeight-o.fix);n=o.fix;return}if(l.element.height()!==n){l.self._setResizeChildrenSize(n,"height");l.element.height(n);l.element.css("top",h);l.self._raiseResizeEvent(0)}return n},_raiseResizeEvent:function(o){var q=this._resizeEvents[o],n=a.Event(q),s={};s.width=parseInt(this.resizeTarget[0].style.width);s.height=parseInt(this.resizeTarget[0].style.height);n.args=s;if(o==0){var q=this._resizeEvents[2],l=a.Event(q);l.args=s;this.resizeTarget.trigger(l)}return this.resizeTarget.trigger(n)}}}(jqxBaseFramework));c.extend(c.jqx._jqxWindow.prototype,d)}(jqxBaseFramework));(function(c){c.jqx.jqxWidget("jqxDocking","",{});c.extend(c.jqx._jqxDocking.prototype,{defineInstance:function(){var a={orientation:"horizontal",mode:"default",floatingWindowOpacity:0.3,panelsRoundedCorners:true,disabled:false,width:"auto",height:"auto",windowsMode:null,cookies:false,cookieOptions:{},windowsOffset:5,rtl:false,keyboardNavigation:false,_windowOptions:{},_draggedFired:false,_dragging:false,_draggingItem:null,_panels:[],_windows:[],_indicator:null,_events:["dragEnd","dragStart"]};c.extend(true,this,a);return a},createInstance:function(){if(!this.host.jqxWindow){throw new Error("jqxDocking: Missing reference to jqxwindow.js.")}this._refresh(true);if(this.disabled){this.disabled=false;this.disable()}},refresh:function(a){if(a==true){return}this._performLayout()},_refresh:function(d){this._render();this._removeClasses();this._addClasses();this._setWindowsOptions(true);this._performLayout();this._cookieHandler();this._cookieExporter();this._removeEventListeners();this._addEventListeners();var a=c.Event("resize");this.host.trigger(a)},resize:function(){this._refresh()},_addClasses:function(){this.host.addClass("jqx-docking");for(var a=0;a<this._panels.length;a+=1){this._panels[a].addClass(this.toThemeProperty("jqx-docking-panel"));if(this.panelsRoundedCorners){this._panels[a].addClass(this.toThemeProperty("jqx-rc-all"))}}for(var a=0;a<this._windows.length;a+=1){this._windows[a].addClass(this.toThemeProperty("jqx-docking-window"))}},_removeClasses:function(){this.host.removeClass("jqx-docking");for(var a=0;a<this._panels.length;a+=1){this._panels[a].removeClass(this.toThemeProperty("jqx-docking-panel"));this._panels[a].removeClass(this.toThemeProperty("jqx-rc-all"))}for(var a=0;a<this._windows.length;a+=1){this._windows[a].removeClass(this.toThemeProperty("jqx-docking-window"))}},_render:function(){var a=this.host.children("div"),e;for(var f=0;f<a.length;f+=1){this._panels.push(c(a[f]));this._renderWindows(c(a[f]))}},focus:function(a){if(this.focusedWindow){c(this.focusedWindow).removeClass(this.toThemeProperty("jqx-fill-state-focus"))}if(!c.isEmptyObject(a)&&c.type(a)==="string"&&c("#"+a).length>0){this.focusedWindow=c("#"+a)[0]}else{this.focusedWindow=this._windows[0][0]}c(this.focusedWindow).addClass(this.toThemeProperty("jqx-fill-state-focus"));this.host.focus()},_renderWindows:function(a){var h=a.children("div");for(var n=0;n<h.length;n+=1){this._windows.push(c(h[n]));c(h[n]).jqxWindow({keyboardNavigation:false,rtl:this.rtl,theme:this.theme,enableResize:false,width:c(h[n]).css("width"),maxWidth:Number.MAX_VALUE});c(h[n]).detach();a.append(c(h[n]))}a.append('<div class="spacer" style="clear: both;"></div>');var l=this;if(this.keyboardNavigation){var o=function(d){if(d.keyCode===13){if(l.focusedWindow&&c(l.focusedWindow).jqxWindow("showCollapseButton")){c(l.focusedWindow).jqxWindow("_collapseButton").trigger("click")}}else{if((l.focusedWindow&&d.keyCode===27&&c(l.focusedWindow).jqxWindow("keyboardCloseKey")==="esc")||(l.focusedWindow&&c(l.focusedWindow).jqxWindow("keyboardCloseKey")==d.keyCode)){c(l.focusedWindow).jqxWindow("closeWindow",d)}}if(d.keyCode===9){if(l.focusedWindow==null){l.focusedWindow=l._windows[0];c(l.focusedWindow).focus();d.stopPropagation()}else{var f=-1;c.each(l._windows,function(s,q){if(this[0]==l.focusedWindow){f=s}});if(d.shiftKey){f--}else{f++}if(f>=l._windows.length||f<0){c(l.focusedWindow).removeClass(l.toThemeProperty("jqx-fill-state-focus"));l.focusedWindow=null;d.stopPropagation();return true}var e=l._windows[f];if(!e){e=l._windows[0]}c(l.focusedWindow).removeClass(l.toThemeProperty("jqx-fill-state-focus"));l.focusedWindow=e[0];c(l.focusedWindow).focus()}c(l.focusedWindow).addClass(l.toThemeProperty("jqx-fill-state-focus"));if(d.preventDefault){d.preventDefault();d.stopPropagation()}}};c.each(l._windows,function(e,d){var f=c(this);l.removeHandler(f,"focus");l.removeHandler(f,"blur");l.removeHandler(f,"mousedown");l.addHandler(f,"mousedown",function(q){if(l.focusedWindow){c(l.focusedWindow).removeClass(l.toThemeProperty("jqx-fill-state-focus"))}l.focusedWindow=f[0];c(l.focusedWindow).addClass(l.toThemeProperty("jqx-fill-state-focus"));c(l.focusedWindow).focus()});l.addHandler(f,"focus",function(q){if(l.focusedWindow){c(l.focusedWindow).removeClass(l.toThemeProperty("jqx-fill-state-focus"))}l.focusedWindow=f[0];c(l.focusedWindow).addClass(l.toThemeProperty("jqx-fill-state-focus"))});l.addHandler(f,"blur",function(q){if(c(document.activeElement).ischildof(c(f))){return true}c(f).removeClass(l.toThemeProperty("jqx-fill-state-focus"))});l.removeHandler(f,"keydown");l.addHandler(f,"keydown",function(q){o(q)})});this.removeHandler(this.host,"keydown");this.addHandler(this.host,"keydown",function(d){o(d)});this.removeHandler(this.host,"blur");this.addHandler(this.host,"blur",function(d){if(l.focusedWindow){c(l.focusedWindow).removeClass(l.toThemeProperty("jqx-fill-state-focus"));l.focusedWindow=null}})}},_performLayout:function(){this.host.css("width",this.width);this.host.css("height",this.height);this._performWindowsLayout();this._performPanelsLayout();this._performWindowsLayout()},_performPanelsLayout:function(){var a,f=this.host.width(),l=0;for(var h=0;h<this._panels.length;h+=1){a=this._panels[h];a.css("height","auto");a.css("min-width","auto");if(this.orientation==="vertical"){a.css("width","auto");a.css("float","none")}else{l+=this._handleHorizontalSize(a,l,f);if(h>0){a.css("margin-left",-this.windowsOffset)}}a.css("min-width",a.width())}if(this.orientation==="horizontal"){if(l<f){this._fillContainer(f,l)}}},_handleHorizontalSize:function(a,q,h){var n=h/this._panels.length,o,l=(a.outerWidth()-a.width());a.css("float","left");if(a.css("width")==="auto"||parseInt(a.css("width"),10)===0){a.width(n-l)}if(q+a.outerWidth()>=h){if(q+n<h){o=n-l;a.css("min-width",o);a.width(o)}else{o=a.width()-((q+a.outerWidth())-h);a.css("min-width",o);a.width(o)}}return a.outerWidth()},_fillContainer:function(h,a){var n=this._panels.length,l=this._panels[n-1],o=h-a+l.width();if(c.jqx.browser.msie&&c.jqx.browser.version<9){o-=this._panels.length}l.width(o)},_performWindowsLayout:function(){var a;for(var d=0;d<this._windows.length;d+=1){a=this._getWindowOptions(this._windows[d]);if(this._windows[d].ischildof(this.host)){if(a){if(a.mode!=="floating"){this._windows[d].css("margin",this.windowsOffset);this._windows[d].css("position","static")}}else{if(this.mode!=="floating"){this._windows[d].css("position","static");this._windows[d].css("margin",this.windowsOffset)}}}this._setWindowSize(this._windows[d],a)}},_setWindowSize:function(e,f){if(f.mode!=="floating"){if(e.ischildof(this.host)){var a=e.parent().width()-(e.outerWidth()-e.width())-2*this.windowsOffset;if(this.orientation==="vertical"){e.jqxWindow("width",a)}else{e.jqxWindow("width",a)}}}this._setWindowOption(e,"size",{width:e.width(),height:e.height()})},_setWindowsOptions:function(a){for(var l=0;l<this._windows.length;l+=1){var h,q=this._windows[l].attr("id"),o=this._getWindowOptions(q);if(!a){var n="TEDX"}h=null;if(this.windowsMode&&this.windowsMode.hasOwnProperty(q)){h=this.windowsMode[q];this._setWindowOption(this._windows[l],"mode",h)}else{if(typeof o!=="undefined"&&typeof o.mode==="undefined"){h=this.mode;this._setWindowOption(this._windows[l],"mode",h)}}if(a){this._setWindowOption(this._windows[l],"resizable",true);if(h=="floating"){this._windows[l].jqxWindow({enableResize:true})}else{this._windows[l].jqxWindow({enableResize:false})}this._setWindowOption(this._windows[l],"size",{height:this._windows[l].height(),width:this._windows[l].width()})}}},_removeEventListeners:function(){for(var a=0;a<this._windows.length;a+=1){this.removeHandler(this._windows[a],"moving",this._itemDragging);this.removeHandler(this._windows[a],"moved",this._itemDrop);this.removeHandler(this._windows[a],"resized",this._itemResized);this.removeHandler(this._windows[a],"collapse",this._collapsed);this.removeHandler(this._windows[a],"expand",this._expanded)}},_addEventListeners:function(){for(var a=0;a<this._windows.length;a+=1){this._addEventListenersTo(this._windows[a])}var d=this;c.jqx.utilities.resize(this.host,function(){d._performLayout()})},_addEventListenersTo:function(a){this.addHandler(a,"moving",this._itemDragging,{self:this});this.addHandler(a,"moved",this._itemDrop,{self:this});this.addHandler(a,"resized",this._itemResized,{self:this});this.addHandler(a,"collapse",this._collapsed,{self:this});this.addHandler(a,"expand",this._expanded,{self:this})},_itemDragging:function(h){var o=h.data.self,l=c(h.target),n=o._getWindowOptions(l);l.removeClass(o.toThemeProperty("jqx-docking-window"));l.css("margin","0px");if(!o._dragging){o._prepareForDragging(l)}if(n.mode==="floating"){return}var a={x:h.args.pageX,y:h.args.pageY},q=o._getMouseOverPanel(a);if(q){o._mouseOverPanel(q,a)}else{o._mouseLeavePanel()}if(!o._draggedFired){o._raiseEvent(1,{window:c(l).attr("id")});o._draggedFired=true}return true},_prepareForDragging:function(d){this._dragging=true;var a={parent:d.parent(),next:d.next(),prev:d.prev()};this._setWindowOption(d,"lastPosition",a);d.detach();c(document.body).append(d);this._setDraggingStyles(d);this._draggingItem=d},_setDraggingStyles:function(a){a.css({position:"absolute",left:a.offset().left,top:a.offset().top});a.fadeTo(0,this.floatingWindowOpacity)},_getMouseOverPanel:function(q){var n,a,h,l;for(var o=0;o<this._panels.length;o+=1){if(this._isMouseOverItem(this._panels[o],q,false)){return this._panels[o]}}return null},_mouseOverPanel:function(o,a){if(this._dragging){var l=o.children("div"),n=this._getHoverWindow(a,l);if(n==="indicator"){return}var h=this._centerOffset(n,a);this._handleIndicator(o,n,h)}},_getHoverWindow:function(t,o){var q,a,l,n;if(this._isMouseOverItem(this._indicator,t,true)){return"indicator"}for(var s=0;s<o.length;s+=1){if(this._isMouseOverItem(c(o[s]),t,true)){return c(o[s])}}return null},_centerOffset:function(l,a){if(l){var n={x:l.offset().left,y:l.offset().top},h=l.height(),o=l.width(),q;q=n.y+h/2;if(a.y>q){return"next"}return"prev"}return"all"},_handleIndicator:function(l,h,f){var a=this._getIndicator(h);if(f==="all"){if(this.orientation==="vertical"){a.insertBefore(l.children(".spacer"))}else{l.append(a)}}else{if(f==="prev"){a.insertBefore(h)}else{a.insertAfter(h)}}this._resizeIndicator(a,l)},_getIndicator:function(){var a=this._indicator;if(!a){a=c('<div class="'+this.toThemeProperty("jqx-docking-drop-indicator")+'"></div>')}this._indicator=a;this._indicator.css("margin",this.windowsOffset);if(this.orientation==="vertical"){this._indicator.css("float","left")}return a},_resizeIndicator:function(d,a){if(this.orientation==="horizontal"){d.width(a.width()-(d.outerWidth(true)-d.width()));d.height(this._draggingItem.height())}else{d.width(this._draggingItem.width());d.height(this._draggingItem.height())}},_mouseLeavePanel:function(a){if(this._indicator){this._indicator.remove();this._indicator=null}},_itemDrop:function(e){var a=e.data.self,f=c(e.currentTarget);a._dragging=false;if(a._indicator){f.detach();f.insertAfter(a._indicator);a._indicator.remove();a._dropFixer(f)}else{a._dropHandler(f)}f.fadeTo(0,1);f.focus();a._indicator=null;a._cookieExporter();a._draggedFired=false;a._raiseEvent(0,{window:f.attr("id")})},_dropFixer:function(a){a.css("position","static");a.addClass(this.toThemeProperty("jqx-docking-window"));a.css("margin",this.windowsOffset);a.jqxWindow("enableResize",false);if(this.orientation==="horizontal"){this._fixWindowSize(a)}},_dropHandler:function(d){var a=this._getWindowOptions(d);if(this.mode==="docked"){this._dropDocked(d)}else{this._dropFloating(d)}},_dropDocked:function(e){var f=this._getWindowOptions(e),a=f.lastPosition;e.detach();if(a.next[0]){e.insertBefore(a.next)}else{if(a.prev[0]){e.insertAfter(a.prev)}else{a.parent.append(e)}}this._dropFixer(e)},_fixWindowSize:function(a){c(a).jqxWindow({width:a.parent().width()-(a.outerWidth()-a.width())-2*parseInt(this.windowsOffset,10)})},_itemResized:function(e){var a=e.data.self,f=c(e.currentTarget);a._setWindowOption(f,"size",{width:e.args.width,height:e.args.height});a._cookieExporter()},_dropFloating:function(d){var a;if(!c(d).jqxWindow("collapsed")){a=this._getWindowOptions(d);c(d).jqxWindow("enableResize",a.resizable)}c(document.body).append(d);this._restoreWindowSize(d)},_restoreWindowSize:function(d){var a=this._getWindowOptions(d);c(d).jqxWindow({width:a.size.width})},_isMouseOverItem:function(l,s,t){if(!l){return false}var a=l.outerWidth(true),o=l.outerHeight(true),v=l.width(),n=l.height(),q=l.offset().top,u=l.offset().left;if(t){q-=(o-n)/2;u-=(a-v)/2;v=a;n=o}if((u<=s.x&&u+v>=s.x)&&(q<=s.y&&q+n+2*this._draggingItem.height()/3>=s.y)){return true}return false},_cookieHandler:function(){if(this.cookies){var a=c.jqx.cookie.cookie("jqxDocking"+this.element.id);if(a!==null){this.importLayout(a);layoutImported=true}}},_cookieExporter:function(){if(this.cookies){c.jqx.cookie.cookie("jqxDocking"+this.element.id,this.exportLayout(),this.cookieOptions)}},_indexOf:function(f,e){for(var a=0;a<e.length;a+=1){if(f[0]===e[a][0]){return a}}return -1},_exportFixed:function(){var n=[],h="",a,l;for(var o=0;o<this._panels.length;o+=1){h+='"panel'+o+'": {';a=this._panels[o].children();for(var q=0;q<a.length;q+=1){l=c(a[q]);if(l.attr("id")){n.push(l);h+='"'+l.attr("id")+'":{"collapsed":'+l.jqxWindow("collapsed")+"},"}}if(a.length>1){h=h.substring(0,h.length-1)}h+="},"}h=h.substring(0,h.length-1);return{JSON:h,children:n}},_exportFloating:function(l){var f="",h;f+='"floating":{';for(var a=0;a<this._windows.length;a+=1){h=c(this._windows[a]);if(this._indexOf(h,l)===-1){f+='"'+h.attr("id")+'":{"x":"'+h.css("left")+'","y":"'+h.css("top")+'","width":"'+h.jqxWindow("width")+'","height":"'+h.jqxWindow("height")+'","collapsed":'+h.jqxWindow("collapsed")+"},"}}if(f.substring(f.length-1,f.length)===","){f=f.substring(0,f.length-1)}f+="}";return f},_importFixed:function(a){for(var d in a){if(d!=="orientation"&&d!=="floating"&&a.hasOwnProperty(d)){order=d.substring(d.length-1,d.length);order=parseInt(order,10);children=a[d];for(var d in children){c("#"+d).css("position","static");if(children[d].collapsed){(function(e){setTimeout(function(){c("#"+e).jqxWindow("collapsed",true)},0)}(d))}this._panels[order].append(c("#"+d));if(this.orientation==="horizontal"){this._fixWindowSize(c("#"+d))}}}}},_importFloating:function(n){var h=n.floating,o,a;for(var l in h){if(h.hasOwnProperty(l)){c("#"+l).css("position","absolute");c(document.body).append(c("#"+l));a=this._dragging;c("#"+l).jqxWindow("move",h[l].x,h[l].y);this._dragging=a;c("#"+l).jqxWindow("width",h[l].width);c("#"+l).jqxWindow("height",h[l].height);c("#"+l).jqxWindow("enableResize",true);this._setWindowsOptions(true);(function(d){setTimeout(function(){c("#"+d).jqxWindow("collapsed",h[d].collapsed)},0)}(l));c("#"+l).fadeTo(0,1)}}},_getWindowOptions:function(a){if(typeof a==="object"&&a!==null){if(a.length>0){a=a.attr("id")}else{a=a.id}}return this._windowOptions[a]},_setWindowOption:function(f,a,e){if(typeof f==="object"&&f!==null){if(f.length>0){f=f.attr("id")}else{f=f.id}}if(typeof this._windowOptions[f]==="undefined"){this._windowOptions[f]={}}this._windowOptions[f][a]=e;if(a==="mode"){this.setWindowMode(f,e)}},_expanded:function(d){var a=d.data.self;a._cookieExporter()},_collapsed:function(d){var a=d.data.self;a._cookieExporter()},_raiseEvent:function(a){var d=c.Event(this._events[a]);d.args=arguments[1];return this.host.trigger(d)},_moveWindow:function(n,q,a){var o=q.children();var h=null;var l=0;c.each(o,function(d){if(c(this).css("position")=="static"){if(l==a&&this!=n[0]){h=this}l++}});if(l<=a){n.appendTo(q)}else{if(h!=null){n.insertBefore(h)}}n.css("position","static")},propertyChangedHandler:function(a,l,f,h){switch(l){case"rtl":c.each(a._windows,function(){this.jqxWindow({rtl:h})});break;case"theme":c.each(a._windows,function(){this.jqxWindow({theme:h})});break;case"orientation":case"height":case"width":a._performLayout();a._cookieExporter();break;case"panelsRoundedCorners":a._removeClasses();a._addClasses();break;case"disabled":if(h){a.disabled=false;a.disable()}else{a.disabled=true;a.enable()}break;case"windowsMode":case"mode":a._setWindowsOptions(false);break;case"cookies":a._cookieExporter();break;case"windowsOffset":a._performLayout();break}},destroy:function(){this._removeEventListeners();this.host.remove();this.windowsMode=null;this.cookieOptions=null;this._windowOptions=null;this._panels=null;this._windows=null;this._events=null},disable:function(){if(!this.disabled){this.disabled=true;this._removeEventListeners();for(var a=0;a<this._windows.length;a+=1){this._windows[a][0].style.opacity="";c(this._windows[a]).jqxWindow("disable")}}},enable:function(){if(this.disabled){this.disabled=false;this._addEventListeners();for(var a=0;a<this._windows.length;a+=1){c(this._windows[a]).jqxWindow("enable")}}},move:function(h,o,a){var o=this._panels[o];if(!o){return}var l=c(o.children(".spacer")),n;l.detach();h=c("#"+h);n=this._getWindowOptions(h);if(n.mode==="floating"){return}else{this._moveWindow(h,o,a)}o.append(l);this._cookieExporter();this._dropFixer(h)},exportLayout:function(){var d="{",a=this._exportFixed();d+=a.JSON+","+this._exportFloating(a.children)+',"orientation": "'+this.orientation+'"';d+="}";return d},importLayout:function(e){try{var h=c.parseJSON(e),a,n;this.orientation=h.orientation;this._performLayout();this._importFixed(h);this._importFloating(h)}catch(l){alert("Invalid JSON string.")}},setWindowMode:function(f,e){var f=c("#"+f),a=this._getWindowOptions(f);if(e==="floating"){f.css("position","absolute");this._windowOptions[f.attr("id")]["mode"]=e}else{if(a.mode==="floating"&&f.css("position")==="absolute"){if(a.lastPosition){this._dropDocked(f)}else{this._panels[0].append(f);this._dropFixer(f)}}}this._windowOptions[f.attr("id")]["mode"]=e},hideCloseButton:function(a){c("#"+a).jqxWindow("showCloseButton",false)},showCloseButton:function(a){c("#"+a).jqxWindow("showCloseButton",true)},hideCollapseButton:function(a){c("#"+a).jqxWindow("showCollapseButton",false)},showCollapseButton:function(a){c("#"+a).jqxWindow("showCollapseButton",true)},expandWindow:function(a,d){c("#"+a).jqxWindow("expand",d)},collapseWindow:function(a,d){c("#"+a).jqxWindow("collapse",d)},setWindowProperty:function(f,a,e){c("#"+f).jqxWindow(a,e)},getWindowProperty:function(d,a){return c("#"+d).jqxWindow(a)},setWindowPosition:function(h,a,f){var h=c("#"+h),l=this._getWindowOptions(h);if(l.mode==="floating"){h.css("position","absolute");c(h).jqxWindow("move",a,f,null,false)}},hideAllCloseButtons:function(){for(var a=0;a<this._windows.length;a+=1){this._windows[a].jqxWindow("showCloseButton",false)}},hideAllCollapseButtons:function(){for(var a=0;a<this._windows.length;a+=1){this._windows[a].jqxWindow("showCollapseButton",false)}},showAllCloseButtons:function(){for(var a=0;a<this._windows.length;a+=1){this._windows[a].jqxWindow("showCloseButton",true)}},showAllCollapseButtons:function(){for(var a=0;a<this._windows.length;a+=1){this._windows[a].jqxWindow("showCollapseButton",true)}},pinWindow:function(a){c("#"+a).jqxWindow("draggable",false)},unpinWindow:function(a){c("#"+a).jqxWindow("draggable",true)},setDraggingMode:function(d){var a=c("#"+d);this._prepareForDragging(a);a.fadeTo(0,1)},enableWindowResize:function(a){a=c("#"+a);if(a.css("position")==="absolute"){this._setWindowOption(a,"resizable",true);a.jqxWindow("enableResize",true)}},disableWindowResize:function(a){a=c("#"+a);this._setWindowOption(a,"resizable",false);a.jqxWindow("enableResize",false)},addWindow:function(l,h,n,o){var a="#"+l;c(a).jqxWindow({keyboardNavigation:false,rtl:this.rtl,theme:this.theme,enableResize:false,width:c(a).css("width"),maxWidth:Number.MAX_VALUE});this._panels[0].append(c(a));this._windows.push(c(a));if(h){this._setWindowOption(c(a),"mode",h)}else{this._setWindowOption(c(a),"mode",this.mode)}this._setWindowOption(c(a),"resizable",true);this._setWindowOption(c(a),"size",{width:c(a).width(),height:c(a).height()});if(h=="floating"){c(a).jqxWindow({enableResize:true})}else{c(a).jqxWindow({enableResize:false})}if(this._panels[n]!=null){this._setWindowOption(c(a),"size",{width:this._panels[n].width(),height:this._panels[n].height()})}this._addEventListenersTo(c(a));if(typeof n!=="undefined"&&typeof o!=="undefined"){this.move(l,n,o)}this._dropFixer(c(a))},closeWindow:function(a){c("#"+a).jqxWindow("closeWindow")}})})(jqxBaseFramework);(function(c){c.jqx.jqxWidget("jqxDockPanel","",{});c.extend(c.jqx._jqxDockPanel.prototype,{defineInstance:function(){var a={width:null,height:null,lastchildfill:true,disabled:false,events:["layout"]};c.extend(true,this,a);return a},createInstance:function(d){var a=this;this.host.addClass(this.toThemeProperty("jqx-dockpanel"));this.host.addClass(this.toThemeProperty("jqx-rc-all"));this.childrenCount=c(this.host).children().length;this.host.wrapInner('<div style="overflow: hidden; width: 100%; height: 100%;" class="innerContainer"></div>');this.$wrapper=this.host.find(".innerContainer");this.$wrapper.css("position","relative");this.sizeCache=new Array();this.performLayout();c.jqx.utilities.resize(this.host,function(){a.refresh()})},render:function(){if(this.width!=null&&this.width.toString().indexOf("px")!=-1){this.host.width(this.width)}else{if(this.width!=undefined&&!isNaN(this.width)){this.host.width(this.width)}}if(this.height!=null&&this.height.toString().indexOf("px")!=-1){this.host.height(this.height)}else{if(this.height!=undefined&&!isNaN(this.height)){this.host.height(this.height)}}this.sizeCache=new Array();this.performLayout()},resize:function(d,a){this.width=d;this.height=a;this.render()},performLayout:function(){if(this.disabled){return}var q=this.childrenCount;var s=0;var t=0;var a=0;var l=0;var o=this;var n={width:this.host.width(),height:this.host.height()};if(this.sizeCache.length<this.$wrapper.children().length){c.each(this.$wrapper.children(),function(f){var d=c(this);d.css("position","absolute");var e={width:d.css("width"),height:d.css("height")};o.sizeCache[f]=e})}c.each(this.$wrapper.children(),function(h){var e=this.getAttribute("dock");if(e==undefined){e="left"}if(h==q-1&&o.lastchildfill){e="fill"}var f=c(this);f.css("position","absolute");f.css("width",o.sizeCache[h].width);f.css("height",o.sizeCache[h].height);var u={width:f.outerWidth(),height:f.outerHeight()};var d={x:a,y:l,width:Math.max(0,n.width-(a+s)),height:Math.max(0,n.height-(l+t))};if(h<q){switch(e){case"left":a+=u.width;d.width=u.width;break;case"top":l+=u.height;d.height=u.height;break;case"right":s+=u.width;d.x=Math.max(0,(n.width-s));d.width=u.width;break;case"bottom":t+=u.height;d.y=Math.max(0,(n.height-t));d.height=u.height;break}}f.css("left",d.x);f.css("top",d.y);f.css("width",d.width);f.css("height",d.height)});this._raiseevent(0)},destroy:function(){c.jqx.utilities.resize(this.host,null,true);this.host.remove()},_raiseevent:function(h,o,l){if(this.isInitialized!=undefined&&this.isInitialized==true){var q=this.events[h];var n=new c.Event(q);n.previousValue=o;n.currentValue=l;n.owner=this;var a=this.host.trigger(n);return a}},propertyChangedHandler:function(l,h,a,f){if(!this.isInitialized){return}l.render()},refresh:function(){this.render()}})})(jqxBaseFramework);(function(c){c.jqx.jqxWidget("jqxMaskedInput","",{});c.extend(c.jqx._jqxMaskedInput.prototype,{defineInstance:function(){var a={value:null,mask:"99999",width:null,height:25,textAlign:"left",readOnly:false,cookies:false,promptChar:"_",inputMode:"advanced",rtl:false,disabled:false,events:["valueChanged","textchanged","mousedown","mouseup","keydown","keyup","keypress","change"],aria:{"aria-valuenow":{name:"value",type:"string"},"aria-disabled":{name:"disabled",type:"boolean"}}};c.extend(true,this,a);return a},createInstance:function(a){this.render()},render:function(){var l=this;l.host.attr({role:"textbox"});l.host.attr("data-role","input");var h=l.host.attr("value");if(h!=undefined&&h!=""){l.value=h}c.jqx.aria(this);c.jqx.aria(this,"aria-multiline",false);c.jqx.aria(this,"aria-readonly",l.readOnly);l.host.addClass(l.toThemeProperty("jqx-input"));l.host.addClass(l.toThemeProperty("jqx-rc-all"));l.host.addClass(l.toThemeProperty("jqx-widget"));l.host.addClass(l.toThemeProperty("jqx-widget-content"));maskEditor=this;if(l.element.nodeName.toLowerCase()=="div"){l.element.innerHTML="";l.maskbox=c("<input autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' type='textarea'/>").appendTo(l.host)}else{l.maskbox=l.host;l.maskbox.attr("autocomplete","off");l.maskbox.attr("autocorrect","off");l.maskbox.attr("autocapitalize","off");l.maskbox.attr("spellcheck",false)}l.maskbox.addClass(l.toThemeProperty("jqx-reset"));l.maskbox.addClass(l.toThemeProperty("jqx-input-content"));l.maskbox.addClass(l.toThemeProperty("jqx-widget-content"));var a=l.host.attr("name");if(a){l.maskbox.attr("name",a)}if(l.rtl){l.maskbox.addClass(l.toThemeProperty("jqx-rtl"))}var n=this;l.propertyChangeMap.disabled=function(q,e,f,d){if(d){q.maskbox.addClass(n.toThemeProperty("jqx-input-disabled"))}else{q.maskbox.removeClass(n.toThemeProperty("jqx-input-disabled"))}};if(l.disabled){l.maskbox.addClass(l.toThemeProperty("jqx-input-disabled"));l.maskbox.attr("disabled",true);l.host.addClass(l.toThemeProperty("jqx-fill-state-disabled"))}l.selectedText="";l.self=this;l.oldValue=l._value();l.items=new Array();l._initializeLiterals();l._render();if(l.value!=null){l.inputValue(l.value.toString())}var n=this;if(l.host.parents("form").length>0){l.host.parents("form").on("reset",function(){setTimeout(function(){n.clearValue()},10)})}l.addHandlers();if(l.cookies){var o=c.jqx.cookie.cookie("maskedInput."+l.element.id);if(o){l.val(o)}}},addHandlers:function(){var e=this;if(c.jqx.mobile.isTouchDevice()){}var a="";var f=function(l,q){var n=String.fromCharCode(q);var d=parseInt(n);var o=true;if(!isNaN(d)){o=true;var s=this.maskbox.val().toString().length;if(s>=this.items.length&&this._selection().length==0){o=false}}if(!l.ctrlKey&&!l.shiftKey&&!l.metaKey){if(q>=65&&q<=90){o=false}}return o};this.addHandler(this.maskbox,"blur",function(d){if(e.inputMode=="simple"){e._exitSimpleInputMode(d,e,false,a);return false}if(e.rtl){e.maskbox.css("direction","ltr")}e.host.removeClass(e.toThemeProperty("jqx-fill-state-focus"));if(e.maskbox.val()!=a){e._raiseEvent(7,{type:"keyboard"});if(e.cookies){c.jqx.cookie.cookie("maskedInput."+e.element.id,e.maskbox.val())}}});this.addHandler(this.maskbox,"focus",function(d){a=e.maskbox.val();if(e.inputMode=="simple"){e.maskbox[0].value=e._getEditValue();c.data(e.maskbox,"simpleInputMode",true);return false}if(e.rtl){e.maskbox.css("direction","rtl")}e.host.addClass(e.toThemeProperty("jqx-fill-state-focus"))});this.addHandler(this.host,"keydown",function(l){var d=e.readOnly;var n=l.charCode?l.charCode:l.keyCode?l.keyCode:0;if(d||e.disabled){return false}if(e.inputMode!="simple"){var o=e._handleKeyDown(l,n);if(!o){if(l.preventDefault){l.preventDefault()}if(l.stopPropagation){l.stopPropagation()}}return o}else{return f.call(e,l,n)}});this.addHandler(this.host,"keyup",function(h){var d=e.readOnly;var l=h.charCode?h.charCode:h.keyCode?h.keyCode:0;if(d||e.disabled){return true}if(e.inputMode=="simple"){return f.call(e,h,l)}else{if(h.preventDefault){h.preventDefault()}if(h.stopPropagation){h.stopPropagation()}return false}});this.addHandler(this.host,"keypress",function(l){var d=e.readOnly;var n=l.charCode?l.charCode:l.keyCode?l.keyCode:0;if(d||e.disabled){return true}if(e.inputMode=="simple"){return f.call(e,l,n)}else{var o=e._handleKeyPress(l,n);if(!o){if(l.preventDefault){l.preventDefault()}if(l.stopPropagation){l.stopPropagation()}}return o}})},focus:function(){try{this.maskbox.focus()}catch(a){}},_exitSimpleInputMode:function(D,q,v,B){if(q==undefined){q=D.data}if(q==null){return}if(v==undefined){if(D.target!=null&&q.element!=null){if((D.target.id!=undefined&&D.target.id.toString().length>0&&q.host.find("#"+D.target.id).length>0)||D.target==q.element){return}}var z=q.host.offset();var A=z.left;var w=z.top;var C=q.host.width();var s=q.host.height();var a=c(D.target).offset();if(a.left>=A&&a.left<=A+C){if(a.top>=w&&a.top<=w+s){return}}}if(q.disabled||q.readOnly){return}var t=c.data(q.maskbox,"simpleInputMode");if(t==null){return}var u=q.maskbox[0].value;q.val(u);c.data(q.maskbox,"simpleInputMode",null);return false},_getString:function(){var f="";for(var a=0;a<this.items.length;a++){var e=this.items[a].character;if((this.items[a].character==this.promptChar)&&(this.promptChar!=this.items[a].defaultCharacter)){f+=this.items[a].defaultCharacter}else{f+=e}}return f},_initializeLiterals:function(){if(this.mask==undefined||this.mask==null){this.items=new Array();return}this.mask=this.mask.toString();var v=this.mask.length;for(var s=0;s<v;s++){var q=this.mask.substring(s,s+1);var o="";var w=false;if(q=="["){for(var u=s;u<v;u++){var t=this.mask.substring(u,u+1);if(t=="]"){break}}o="("+this.mask.substring(s,u+1)+")";s=u;w=true}if(q=="#"){o="(\\d|[+]|[-])";w=true}else{if(q=="9"||q=="0"){o="\\d";w=true}else{if(q=="$"){w=false}else{if(q=="/"||q==":"){w=false}else{if(q=="A"||q=="a"){o="\\w";w=true}else{if(q=="c"||q=="C"){o=".";w=true}else{if(q=="L"||q=="l"){o="([a-zA-Z])";w=true}}}}}}}var a=this;var n=function(e,f,d){n.character=e;n.regex=f;n.canEdit=d;n.defaultCharacter=a.promptChar};if(w){n(this.promptChar,o,w)}else{n(q,o,w)}this.items.push(n)}},setRegex:function(h,f,a,l){if((h==null||h==undefined)||(f==null||f==undefined)){return}if(h<this.items.length){this.items[h].regex=f;if(a!=null&&a!=undefined){this.items[h].canEdit=a}if(l!=null&&l!=undefined){this.items[h].defaultCharacter=l}}},_match:function(f,a){var e=new RegExp(a,"i");return e.test(f)},_raiseEvent:function(l,u){var t=this.events[l];var s={};s.owner=this;var q=u.charCode?u.charCode:u.keyCode?u.keyCode:0;var a=true;var n=this.readOnly;var o=new c.Event(t);o.owner=this;s.value=this.inputValue();s.text=this.maskedValue();if(l==7){s.type=u.type;if(s.type==undefined){s.type=null}}o.args=s;if(l<2||l>6){a=this.host.trigger(o)}return a},_handleKeyPress:function(e,a){var f=this._isSpecialKey(a,e);return f},_insertKey:function(q,e){var o=this._selection();var a=this;if(o.start>=0&&o.start<this.items.length){var n=String.fromCharCode(q);if(q>=65&&q<=90){if(!e.shiftKey){n=n.toLowerCase()}}var l=false;c.each(this.items,function(f,t){if(f<o.start){return}var d=a.items[f];if(!d.canEdit){return}if(a._match(n,d.regex)){if(!l&&o.length>0){for(var h=o.start;h<o.end;h++){if(a.items[h].canEdit){a.items[h].character=a.promptChar}}var s=a._getString();a.maskedValue(s);l=true}d.character=n;var s=a._getString();a.maskedValue(s);if(o.start<a.items.length){a._setSelectionStart(f+1)}return false}else{return false}})}},_deleteSelectedText:function(){var f=this._selection();var a=false;if(f.start>0||f.length>0){for(i=f.start;i<f.end;i++){if(i<this.items.length&&this.items[i].canEdit&&this.items[i].character!=this.promptChar){this.items[i].character=this.promptChar;a=true}}var e=this._getString();this.maskedValue(e);return a}},_saveSelectedText:function(){var a=this._selection();var e="";if(a.start>0||a.length>0){for(i=a.start;i<a.end;i++){if(this.items[i].canEdit){e+=this.items[i].character}}}if(window.clipboardData){window.clipboardData.setData("Text",e)}else{var f=c('<textarea style="position: absolute; left: -1000px; top: -1000px;"/>');f.val(e);c("body").append(f);f.select();setTimeout(function(){document.designMode="off";f.select();f.remove()},100)}return e},_pasteSelectedText:function(){var n=this._selection();var a="";var v=0;var o=n.start;var q="";var s=this;var w=function(d){if(d!=s.selectedText&&d.length>0){s.selectedText=d;if(s.selectedText==null||s.selectedText==undefined){return}}if(n.start>=0||n.length>0){for(i=n.start;i<s.items.length;i++){if(s.items[i].canEdit){if(v<s.selectedText.length){s.items[i].character=s.selectedText[v];v++;o=1+i}}}}var e=s._getString();s.maskedValue(e);if(o<s.items.length){s._setSelectionStart(o)}else{s._setSelectionStart(s.items.length)}};if(window.clipboardData){q=window.clipboardData.getData("Text");w(q)}else{var u=c('<textarea style="position: absolute; left: -1000px; top: -1000px;"/>');c("body").append(u);u.select();var t=this;setTimeout(function(){var d=u.val();w(d);u.remove()},100)}},_handleKeyDown:function(t,e){var q=this._selection();if(e>=96&&e<=105){e=e-48}var A=t.ctrlKey||t.metaKey;if((A&&e==97)||(A&&e==65)){return true}if((A&&e==120)||(A&&e==88)){this.selectedText=this._saveSelectedText(t);this._deleteSelectedText(t);if(c.jqx.browser.msie){return false}return true}if((A&&e==99)||(A&&e==67)){this.selectedText=this._saveSelectedText(t);if(c.jqx.browser.msie){return false}return true}if((A&&e==122)||(A&&e==90)){return false}if((A&&e==118)||(A&&e==86)||(t.shiftKey&&e==45)){this._pasteSelectedText();if(c.jqx.browser.msie){return false}return true}if(q.start>=0&&q.start<this.items.length){var w=String.fromCharCode(e);var a=this.items[q.start]}if(e==8){if(q.length==0){for(u=this.items.length-1;u>=0;u--){if(this.items[u].canEdit&&u<q.end&&this.items[u].character!=this.promptChar){this._setSelection(u,u+1);break}}}q=this._selection();var v=this._deleteSelectedText();if(q.start>0||q.length>0){if(q.start<=this.items.length){if(v){this._setSelectionStart(q.start)}else{this._setSelectionStart(q.start-1)}}}return false}if(e==190){var B=q.start;for(var u=B;u<this.items.length;u++){if(this.items[u].character=="."){this._setSelectionStart(u+1);break}}}if(e==191){var B=q.start;for(var u=B;u<this.items.length;u++){if(this.items[u].character=="/"){this._setSelectionStart(u+1);break}}}if(e==189){var B=q.start;for(var u=B;u<this.items.length;u++){if(this.items[u].character=="-"){this._setSelectionStart(u+1);break}}}if(e==46){if(q.length==0){for(var u=0;u<this.items.length;u++){if(this.items[u].canEdit&&u>=q.start&&this.items[u].character!=this.promptChar){this._setSelection(u,u+1);break}}}var C=q;q=this._selection();var z=this._deleteSelectedText();if(q.start>=0||q.length>=0){if(q.start<this.items.length){if(q.length<=1){if(C.end!=q.end){this._setSelectionStart(q.end)}else{this._setSelectionStart(q.end+1)}}else{this._setSelectionStart(q.start)}}}return false}this._insertKey(e,t);var s=this._isSpecialKey(e,t);return s},_isSpecialKey:function(a,d){if(a==189||a==9||a==13||a==35||a==36||a==37||a==39||a==46){return true}if((a===16&&d.shiftKey)||d.ctrlKey||d.metaKey){return true}return false},_selection:function(){if("selectionStart" in this.maskbox[0]){var h=this.maskbox[0];var e=h.selectionEnd-h.selectionStart;return{start:h.selectionStart,end:h.selectionEnd,length:e,text:h.value}}else{var n=document.selection.createRange();if(n==null){return{start:0,end:h.value.length,length:0}}var a=this.maskbox[0].createTextRange();var l=a.duplicate();a.moveToBookmark(n.getBookmark());l.setEndPoint("EndToStart",a);var e=n.text.length;return{start:l.text.length,end:l.text.length+n.text.length,length:e,text:n.text}}},_setSelection:function(e,a){if("selectionStart" in this.maskbox[0]){this.maskbox[0].focus();this.maskbox[0].setSelectionRange(e,a)}else{var f=this.maskbox[0].createTextRange();f.collapse(true);f.moveEnd("character",a);f.moveStart("character",e);f.select()}},_setSelectionStart:function(a){this._setSelection(a,a)},refresh:function(a){if(!a){this._render()}},resize:function(d,a){this.width=d;this.height=a;this.refresh()},_render:function(){var u=parseInt(this.host.css("border-left-width"));var o=parseInt(this.host.css("border-left-width"));var q=parseInt(this.host.css("border-left-width"));var t=parseInt(this.host.css("border-left-width"));var l=parseInt(this.host.css("height"))-q-t;var s=parseInt(this.host.css("width"))-u-o;if(this.width!=null&&this.width.toString().indexOf("px")!=-1){s=this.width}else{if(this.width!=undefined&&!isNaN(this.width)){s=this.width}}if(this.height!=null&&this.height.toString().indexOf("px")!=-1){l=this.height}else{if(this.height!=undefined&&!isNaN(this.height)){l=this.height}}s=parseInt(s);l=parseInt(l);if(this.maskbox[0]!=this.element){this.maskbox.css({"border-left-width":0,"border-right-width":0,"border-bottom-width":0,"border-top-width":0})}this.maskbox.css("text-align",this.textAlign);var a=this.maskbox.css("font-size");if(!isNaN(l)){this.maskbox.css("height",parseInt(a)+4+"px")}if(!isNaN(s)){this.maskbox.css("width",s-2)}var n=parseInt(l)-2*parseInt(q)-2*parseInt(t)-parseInt(a);if(isNaN(n)){n=0}if(!isNaN(l)){this.host.height(l)}if(!isNaN(s)){this.host.width(s)}if(this.maskbox[0]!=this.element){var v=n/2;if(c.jqx.browser.msie&&c.jqx.browser.version<8){v=n/4}this.maskbox.css("padding-right","0px");this.maskbox.css("padding-left","0px");this.maskbox.css("padding-top",v);this.maskbox.css("padding-bottom",n/2)}this.maskbox[0].value=this._getString();if(this.width){if(this.width.toString().indexOf("%")>=0){this.element.style.width=this.width}if(this.height.toString().indexOf("%")>=0){this.element.style.height=this.height}}},destroy:function(){this.host.remove()},maskedValue:function(a){if(a===undefined){return this._value()}this.value=a;this._refreshValue();if(this.oldValue!==a){this._raiseEvent(1,a);this.oldValue=a;this._raiseEvent(0,a)}return this},_value:function(){var a=this.maskbox.val();return a},propertyChangedHandler:function(l,h,a,f){if(this.isInitialized==undefined||this.isInitialized==false){return}if(h=="rtl"){if(l.rtl){l.maskbox.addClass(l.toThemeProperty("jqx-rtl"))}else{l.maskbox.removeClass(l.toThemeProperty("jqx-rtl"))}}if(h==="value"){if(f==undefined||f==null){f=""}if(f===""){this.clear()}else{f=f.toString();this.inputValue(f)}l._raiseEvent(7,f)}if(h==="theme"){c.jqx.utilities.setTheme(a,f,this.host)}if(h=="disabled"){if(f){l.maskbox.addClass(l.toThemeProperty("jqx-input-disabled"));l.host.addClass(l.toThemeProperty("jqx-fill-state-disabled"));l.maskbox.attr("disabled",true)}else{l.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled"));l.host.removeClass(this.toThemeProperty("jqx-input-disabled"));l.maskbox.attr("disabled",false)}c.jqx.aria(l,"aria-disabled",f)}if(h=="readOnly"){this.readOnly=f}if(h=="promptChar"){for(i=0;i<l.items.length;i++){if(l.items[i].character==l.promptChar){l.items[i].character=f;l.items[i].defaultCharacter=f}}l.promptChar=f}if(h=="textAlign"){l.maskbox.css("text-align",f);l.textAlign=f}if(h=="mask"){l.mask=f;l.items=new Array();l._initializeLiterals();l.value=l._getString();l._refreshValue()}if(h=="width"){l.width=f;l._render()}else{if(h=="height"){l.height=f;l._render()}}},_value:function(){var a=this.value;return a},_getEditStringLength:function(){var a="";for(i=0;i<this.items.length;i++){if(this.items[i].canEdit){a+=this.items[i].character}}return a.length},_getEditValue:function(){var a="";for(i=0;i<this.items.length;i++){if(this.items[i].canEdit&&this.items[i].character!=this.promptChar){a+=this.items[i].character}}return a},parseValue:function(l){if(l==undefined||l==null){return null}var o=l.toString();var h="";var a=0;for(m=0;m<o.length;m++){var n=o.substring(m,m+1);for(i=a;i<this.items.length;i++){if(this.items[i].canEdit&&this._match(n,this.items[i].regex)){h+=n;a=i;break}}}return h},clear:function(){this.clearValue()},clearValue:function(){this.inputValue("",true)},val:function(a){if(a!=undefined&&typeof a!="object"){if(typeof a==="number"&&isFinite(a)){a=a.toString()}this.maskedValue(a)}return this.maskbox[0].value},inputValue:function(h,q){if(h==undefined||h==null){var l="";for(var n=0;n<this.items.length;n++){if(this.items[n].canEdit){l+=this.items[n].character}}return l}else{var a=0;h=h.toString();for(var n=0;n<this.items.length;n++){if(this.items[n].canEdit){if(this._match(h.substring(a,a+1),this.items[n].regex)){this.items[n].character=h.substring(a,a+1);a++}else{if(q){this.items[n].character=this.promptChar;a++}}}}var o=this._getString();this.maskedValue(o);return this.inputValue()}},_refreshValue:function(){var e=this.maskedValue();var a=0;for(var f=0;f<this.items.length;f++){if(e.length>a){if(this.items[f].canEdit&&this.items[f].character!=e[a]){if((this._match(e[a],this.items[f].regex)||e[a]==this.promptChar)&&e[a].length==1){this.items[f].character=e[a]}}a++}}this.value=this._getString();e=this.value;this.maskbox[0].value=e;c.jqx.aria(this,"aria-valuenow",e)}})})(jqxBaseFramework);(function(c){c.jqx.jqxWidget("jqxMenu","",{});c.extend(c.jqx._jqxMenu.prototype,{defineInstance:function(){var a={items:new Array(),mode:"horizontal",width:null,height:null,minimizeWidth:"auto",easing:"easeInOutSine",animationShowDuration:200,animationHideDuration:200,autoCloseInterval:0,animationHideDelay:100,animationShowDelay:100,menuElements:new Array(),autoSizeMainItems:false,autoCloseOnClick:true,autoCloseOnMouseLeave:true,enableRoundedCorners:true,disabled:false,autoOpenPopup:true,enableHover:true,autoOpen:true,autoGenerate:true,clickToOpen:false,showTopLevelArrows:false,touchMode:"auto",source:null,popupZIndex:17000,rtl:false,keyboardNavigation:false,lockFocus:false,title:"",events:["shown","closed","itemclick","initialized","open","close"]};c.extend(true,this,a);return a},createInstance:function(l){var a=this;this.host.attr("role","menubar");c.jqx.utilities.resize(this.host,function(){a.refresh()},false,this.mode!="popup");if(this.minimizeWidth!="auto"&&this.minimizeWidth!=null&&this.width&&this.width.toString().indexOf("%")==-1){c(window).resize(function(){a.refresh()})}this.host.css("outline","none");if(this.source){if(this.source!=null){var h=this.loadItems(this.source);this.element.innerHTML=h}}this._tmpHTML=this.element.innerHTML;if(this.element.innerHTML.indexOf("UL")){var f=this.host.find("ul:first");if(f.length>0){this._createMenu(f[0])}}this.host.data("autoclose",{});this._render();this.setSize();if(c.jqx.browser.msie&&c.jqx.browser.version<8){this.host.attr("hideFocus",true)}},focus:function(){try{this.host.focus();if(this.mode==="popup"){var h=this.host.closest("div.jqx-menu-wrapper");h.focus()}if(this.keyboardNavigation){var l=this;var f=function(){if(!c.jqx.isHidden(c(l.items[0].element))){c(l.items[0].element).addClass(l.toThemeProperty("jqx-fill-state-focus"));l.activeItem=l.items[0]}else{var d=l._nextVisibleItem(l.items[0],0);if(d){c(d.element).addClass(l.toThemeProperty("jqx-fill-state-focus"));l.activeItem=d}}};if(!this.activeItem){f()}else{if(!c.jqx.isHidden(c(this.activeItem.element))){c(this.activeItem.element).addClass(this.toThemeProperty("jqx-fill-state-focus"))}else{c(this.activeItem.element).removeClass(this.toThemeProperty("jqx-fill-state-focus"));f()}}}}catch(a){}},loadItems:function(l,f){if(l==null){return}if(l.length==0){return""}var a=this;this.items=new Array();var h='<ul class="jqx-menu-ul">';if(f){h='<ul class="jqx-menu-ul" style="width:'+f+';">'}c.map(l,function(d){if(d==undefined){return null}h+=a._parseItem(d)});h+="</ul>";return h},_parseItem:function(h){var o="";if(h==undefined){return null}var a=h.label;if(!h.label&&h.html){a=h.html}if(!a){a="Item"}if(typeof h==="string"){a=h}var l=false;if(h.selected!=undefined&&h.selected){l=true}var n=false;if(h.disabled!=undefined&&h.disabled){n=true}o+="<li";if(n){o+=' item-disabled="true" '}if(h.label&&!h.html){o+=' item-label="'+a+'" '}if(h.value!=null){o+=' item-value="'+h.value+'" '}if(h.id!=undefined){o+=' id="'+h.id+'" '}o+=">"+a;if(h.items){if(h.subMenuWidth){o+=this.loadItems(h.items,h.subMenuWidth)}else{o+=this.loadItems(h.items)}}o+="</li>";return o},setSize:function(){if(this.width!=null&&this.width.toString().indexOf("%")!=-1){this.host.width(this.width)}else{if(this.width!=null&&this.width.toString().indexOf("px")!=-1){this.host.width(this.width)}else{if(this.width!=undefined&&!isNaN(this.width)){this.host.width(this.width)}}}if(this.height!=null&&this.height.toString().indexOf("%")!=-1){this.host.height(this.height)}else{if(this.height!=null&&this.height.toString().indexOf("px")!=-1){this.host.height(this.height)}else{if(this.height!=undefined&&!isNaN(this.height)){this.host.height(this.height)}}}if(this.height===null){this.host.height("auto")}var h=this;if(this.minimizeWidth!=null&&this.mode!="popup"){var l=c(window).width();if(!c.jqx.response){var n=false;if(navigator.userAgent.match(/Windows|Linux|MacOS/)){var a=navigator.userAgent.indexOf("Windows Phone")>=0||navigator.userAgent.indexOf("WPDesktop")>=0||navigator.userAgent.indexOf("IEMobile")>=0||navigator.userAgent.indexOf("ZuneWP7")>=0;if(!a){n=true}}var q=this.minimizeWidth;if(n&&this.minimizeWidth=="auto"){return}}if(this.minimizeWidth=="auto"&&c.jqx.response){var o=new c.jqx.response();if(o.device.type=="Phone"||o.device.type=="Tablet"){if(!this.minimized){this.minimize()}}}else{if((l<q)&&!this.minimized){this.minimize()}else{if(this.minimized&&l>=q){this.restore()}}}}},minimize:function(){if(this.minimized){return}var q=this;this.host.addClass(this.toThemeProperty("jqx-menu-minimized"));this.minimized=true;this._tmpMode=this.mode;this.mode="simple";var l=this.host.closest("div.jqx-menu-wrapper");l.remove();c("#menuWrapper"+this.element.id).remove();c.each(this.items,function(){var e=this;var f=c(e.element);var h=c(e.subMenuElement);var d=h.closest("div.jqx-menu-popup");d.remove()});if(this.source){var s=this.loadItems(this.source);this.element.innerHTML=s;this._tmpHTML=this.element.innerHTML}this.element.innerHTML=this._tmpHTML;if(this.element.innerHTML.indexOf("UL")){var n=this.host.find("ul:first");if(n.length>0){this._createMenu(n[0])}}this._render();var t=this.host.find("ul:first");t.wrap('<div class="jqx-menu-wrapper" style="z-index:'+this.popupZIndex+'; padding: 0px; display: none; margin: 0px; height: auto; width: auto; position: absolute; top: 0; left: 0; display: block; visibility: visible;"></div>');var l=t.closest("div.jqx-menu-wrapper");l[0].id="menuWrapper"+this.element.id;l.detach();l.appendTo(c(document.body));l.addClass(this.toThemeProperty("jqx-widget"));l.addClass(this.toThemeProperty("jqx-menu"));l.addClass(this.toThemeProperty("jqx-menu-minimized"));l.addClass(this.toThemeProperty("jqx-widget-header"));t.children().hide();l.hide();l.find("ul").addClass(this.toThemeProperty("jqx-menu-ul-minimized"));this.minimizedItem=c("<div></div>");this.minimizedItem.addClass(this.toThemeProperty("jqx-item"));this.minimizedItem.addClass(this.toThemeProperty("jqx-menu-item-top"));this.addHandler(l,"keydown",function(d){return q.handleKeyDown(d)});this.minimizedItem.addClass(this.toThemeProperty("jqx-menu-minimized-button"));this.minimizedItem.prependTo(this.host);this.titleElement=c("<div>"+this.title+"</div>");this.titleElement.addClass(this.toThemeProperty("jqx-item"));this.titleElement.addClass(this.toThemeProperty("jqx-menu-title"));this.titleElement.prependTo(this.host);c("<div style='clear:both;'></div>").insertAfter(this.minimizedItem);q.minimizedHidden=true;var a=function(d){q.minimizedHidden=true;q.minimizedItem.show();var e=false;if(q.minimizedItem.css("float")=="right"){e=true}l.animate({left:!e?-l.outerWidth():q.host.coord().left+q.host.width()+l.width(),opacity:0},q.animationHideDuration,function(){l.find("ul:first").children().hide();l.hide()})};var o=function(d){if(q.minimizedHidden){l.find("ul:first").children().show();q.minimizedHidden=false;l.show();l.css("opacity",0);l.css("left",-l.outerWidth());var e=false;var f=l.width();if(q.minimizedItem.css("float")=="right"){l.css("left",q.host.coord().left+q.host.width()+f);e=true}l.css("top",q.host.coord().top+q.host.height());l.animate({left:!e?q.host.coord().left:q.host.coord().left+q.host.width()-f,opacity:0.95},q.animationShowDuration,function(){})}else{a(d)}q._raiseEvent("2",{type:"mouse",item:q.minimizedItem[0],event:d});q.setSize()};this.addHandler(c(window),"orientationchange.jqxmenu"+this.element.id,function(d){setTimeout(function(){if(!q.minimizedHidden){var f=l.width();var e=false;var f=l.width();if(q.minimizedItem.css("float")=="right"){e=true}l.css("top",q.host.coord().top+q.host.height());l.css({left:!e?q.host.coord().left:q.host.coord().left+q.host.width()-f})}},25)});this.addHandler(this.minimizedItem,"click",function(d){o(d)})},restore:function(){if(!this.minimized){return}this.host.find("ul").removeClass(this.toThemeProperty("jqx-menu-ul-minimized"));this.host.removeClass(this.toThemeProperty("jqx-menu-minimized"));this.minimized=false;this.mode=this._tmpMode;if(this.minimizedItem){this.minimizedItem.remove()}var e=c("#menuWrapper"+this.element.id);e.remove();if(this.source){var a=this.loadItems(this.source);this.element.innerHTML=a;this._tmpHTML=a}this.element.innerHTML=this._tmpHTML;if(this.element.innerHTML.indexOf("UL")){var f=this.host.find("ul:first");if(f.length>0){this._createMenu(f[0])}}this.setSize();this._render()},isTouchDevice:function(){if(this._isTouchDevice!=undefined){return this._isTouchDevice}var a=c.jqx.mobile.isTouchDevice();if(this.touchMode==true){a=true}else{if(this.touchMode==false){a=false}}if(a){this.host.addClass(this.toThemeProperty("jqx-touch"));c(".jqx-menu-item").addClass(this.toThemeProperty("jqx-touch"))}this._isTouchDevice=a;return a},refresh:function(a){if(!a){this.setSize()}},resize:function(d,a){this.width=d;this.height=a;this.refresh()},_closeAll:function(e){var h=e!=null?e.data:this;var a=h.items;c.each(a,function(){var d=this;if(d.hasItems==true){if(d.isOpen){h._closeItem(h,d)}}});if(h.mode=="popup"){if(e!=null){var l=h._isRightClick(e);if(!l){h.close()}}}},closeItem:function(f){if(f==null){return false}var a=f;var l=document.getElementById(a);var h=this;c.each(h.items,function(){var d=this;if(d.isOpen==true&&d.element==l){h._closeItem(h,d);if(d.parentId){h.closeItem(d.parentId)}}});return true},openItem:function(f){if(f==null){return false}var a=f;var l=document.getElementById(a);var h=this;c.each(h.items,function(){var d=this;if(d.isOpen==false&&d.element==l){h._openItem(h,d);if(d.parentId){h.openItem(d.parentId)}}});return true},_getClosedSubMenuOffset:function(o){var a=c(o.subMenuElement);var h=-a.outerHeight();var l=-a.outerWidth();var n=o.level==0&&this.mode=="horizontal";if(n){l=0}else{h=0}switch(o.openVerticalDirection){case"up":case"center":h=a.outerHeight();break}switch(o.openHorizontalDirection){case this._getDir("left"):if(n){l=0}else{l=a.outerWidth()}break;case"center":if(n){l=0}else{l=a.outerWidth()}break}return{left:l,top:h}},_closeItem:function(t,a,A,E){if(t==null||a==null){return false}var v=c(a.subMenuElement);var F=a.level==0&&this.mode=="horizontal";var B=this._getClosedSubMenuOffset(a);var s=B.top;var C=B.left;var w=c(a.element);var u=v.closest("div.jqx-menu-popup");if(u!=null){var z=t.animationHideDelay;if(E==true){z=0}if(v.data("timer")&&v.data("timer").show!=null){clearTimeout(v.data("timer").show);v.data("timer").show=null}var q=function(){a.isOpen=false;if(F){v.stop().animate({top:s},t.animationHideDuration,function(){c(a.element).removeClass(t.toThemeProperty("jqx-fill-state-pressed"));c(a.element).removeClass(t.toThemeProperty("jqx-menu-item-top-selected"));c(a.element).removeClass(t.toThemeProperty("jqx-rc-b-expanded"));u.removeClass(t.toThemeProperty("jqx-rc-t-expanded"));var d=c(a.arrow);if(d.length>0&&t.showTopLevelArrows){d.removeClass();if(a.openVerticalDirection=="down"){d.addClass(t.toThemeProperty("jqx-menu-item-arrow-down"));d.addClass(t.toThemeProperty("jqx-icon-arrow-down"))}else{d.addClass(t.toThemeProperty("jqx-menu-item-arrow-up"));d.addClass(t.toThemeProperty("jqx-icon-arrow-up"))}}c.jqx.aria(c(a.element),"aria-expanded",false);u.css({display:"none"});if(t.animationHideDuration==0){v.css({top:s})}t._raiseEvent("1",a)})}else{if(!c.jqx.browser.msie){}v.stop().animate({left:C},t.animationHideDuration,function(){if(t.animationHideDuration==0){v.css({left:C})}if(a.level>0){c(a.element).removeClass(t.toThemeProperty("jqx-fill-state-pressed"));c(a.element).removeClass(t.toThemeProperty("jqx-menu-item-selected"));var d=c(a.arrow);if(d.length>0){d.removeClass();if(a.openHorizontalDirection!="left"){d.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("right")));d.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("right")))}else{d.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("left")));d.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("left")))}}}else{c(a.element).removeClass(t.toThemeProperty("jqx-fill-state-pressed"));c(a.element).removeClass(t.toThemeProperty("jqx-menu-item-top-selected"));var d=c(a.arrow);if(d.length>0){d.removeClass();if(a.openHorizontalDirection!="left"){d.addClass(t.toThemeProperty("jqx-menu-item-arrow-top-"+t._getDir("right")));d.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("right")))}else{d.addClass(t.toThemeProperty("jqx-menu-item-arrow-top-"+t._getDir("left")));d.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("left")))}}}c.jqx.aria(c(a.element),"aria-expanded",false);u.css({display:"none"});t._raiseEvent("1",a)})}};if(z>0){if(v.data("timer")){v.data("timer").hide=setTimeout(function(){q()},z)}}else{q()}if(A!=undefined&&A){var D=v.children();c.each(D,function(){if(t.menuElements[this.id]&&t.menuElements[this.id].isOpen){var d=c(t.menuElements[this.id].subMenuElement);t._closeItem(t,t.menuElements[this.id],true,true)}})}}},getSubItems:function(l,n){if(l==null){return false}var o=this;var u=new Array();if(n!=null){c.extend(u,n)}var t=l;var q=this.menuElements[t];var a=c(q.subMenuElement);var s=a.find(".jqx-menu-item");c.each(s,function(){u[this.id]=o.menuElements[this.id];var d=o.getSubItems(this.id,u);c.extend(u,d)});return u},disable:function(h,o){if(h==null){return}var q=h;var l=this;if(this.menuElements[q]){var n=this.menuElements[q];n.disabled=o;var a=c(n.element);n.element.disabled=o;c.each(a.children(),function(){this.disabled=o});if(o){a.addClass(l.toThemeProperty("jqx-menu-item-disabled"));a.addClass(l.toThemeProperty("jqx-fill-state-disabled"))}else{a.removeClass(l.toThemeProperty("jqx-menu-item-disabled"));a.removeClass(l.toThemeProperty("jqx-fill-state-disabled"))}}},getItem:function(d){if(this.menuElements[d]){var a=this.menuElements[d];return a}return null},disableItem:function(a){this.disable(a,true)},hideItem:function(d){if(this.menuElements[d]){var a=this.menuElements[d];c(a.element).hide()}},showItem:function(d){if(this.menuElements[d]){var a=this.menuElements[d];c(a.element).show()}},enableItem:function(a){this.disable(a,false)},_setItemProperty:function(h,q,l){if(h==null){return}var a=h;var n=this;if(this.menuElements[a]){var o=this.menuElements[a];if(o[q]){o[q]=l}}},setItemOpenDirection:function(t,u,s){if(t==null){return}var a=t;var o=this;var q=c.jqx.browser.msie&&c.jqx.browser.version<8;if(this.menuElements[a]){var l=this.menuElements[a];if(u!=null){l.openHorizontalDirection=u;if(l.hasItems&&l.level>0){var n=c(l.element);if(n!=undefined){var v=c(l.arrow);if(l.arrow==null){v=c('<span id="arrow'+n[0].id+'"></span>');if(!q){v.prependTo(n)}else{v.appendTo(n)}l.arrow=v[0]}v.removeClass();if(l.openHorizontalDirection=="left"){v.addClass(o.toThemeProperty("jqx-menu-item-arrow-"+o._getDir("left")));v.addClass(o.toThemeProperty("jqx-icon-arrow-"+o._getDir("left")))}else{v.addClass(o.toThemeProperty("jqx-menu-item-arrow-"+o._getDir("right")));v.addClass(o.toThemeProperty("jqx-icon-arrow-"+o._getDir("right")))}v.css("visibility","visible");if(!q){v.css("display","block");v.css("float","right")}else{v.css("display","inline-block");v.css("float","none")}}}}if(s!=null){l.openVerticalDirection=s;var v=c(l.arrow);var n=c(l.element);if(!o.showTopLevelArrows){return}if(n!=undefined){if(l.arrow==null){v=c('<span id="arrow'+n[0].id+'"></span>');if(!q){v.prependTo(n)}else{v.appendTo(n)}l.arrow=v[0]}v.removeClass();if(l.openVerticalDirection=="down"){v.addClass(o.toThemeProperty("jqx-menu-item-arrow-down"));v.addClass(o.toThemeProperty("jqx-icon-arrow-down"))}else{v.addClass(o.toThemeProperty("jqx-menu-item-arrow-up"));v.addClass(o.toThemeProperty("jqx-icon-arrow-up"))}v.css("visibility","visible");if(!q){v.css("display","block");v.css("float","right")}else{v.css("display","inline-block");v.css("float","none")}}}}},_getSiblings:function(h){var f=new Array();var a=0;for(var l=0;l<this.items.length;l++){if(this.items[l]==h){continue}if(this.items[l].parentId==h.parentId&&this.items[l].hasItems){f[a++]=this.items[l]}}return f},_openItem:function(u,v,w){if(u==null||v==null){return false}if(v.isOpen){return false}if(v.disabled){return false}if(u.disabled){return false}var D=u.popupZIndex;if(w!=undefined){D=w}var K=u.animationHideDuration;u.animationHideDuration=0;u._closeItem(u,v,true,true);u.animationHideDuration=K;c(v.element).focus();var J=[5,5];var a=c(v.subMenuElement);if(a!=null){a.stop()}if(a.data("timer")&&a.data("timer").hide!=null){clearTimeout(a.data("timer").hide)}var A=a.closest("div.jqx-menu-popup");var H=c(v.element);var G=v.level==0?this._getOffset(v.element):H.position();if(v.level>0&&this.hasTransform){var z=parseInt(H.coord().top)-parseInt(this._getOffset(v.element).top);G.top+=z}if(v.level==0&&this.mode=="popup"){G=H.coord()}var F=v.level==0&&this.mode=="horizontal";var N=F?G.left:this.menuElements[v.parentId]!=null&&this.menuElements[v.parentId].subMenuElement!=null?parseInt(c(c(this.menuElements[v.parentId].subMenuElement).closest("div.jqx-menu-popup")).outerWidth())-J[0]:parseInt(a.outerWidth());A.css({visibility:"visible",display:"block",left:N,top:F?G.top+H.outerHeight():G.top,zIndex:D});a.css("display","block");if(this.mode!="horizontal"&&v.level==0){var L=this._getOffset(this.element);A.css("left",-1+L.left+this.host.outerWidth());a.css("left",-a.outerWidth())}else{var M=this._getClosedSubMenuOffset(v);a.css("left",M.left);a.css("top",M.top)}A.css({height:parseInt(a.outerHeight())+parseInt(J[1])+"px"});var B=0;var I=0;switch(v.openVerticalDirection){case"up":if(F){a.css("top",a.outerHeight());B=J[1];var E=parseInt(a.parent().css("padding-bottom"));if(isNaN(E)){E=0}if(E>0){A.addClass(this.toThemeProperty("jqx-menu-popup-clear"))}a.css("top",a.outerHeight()-E);A.css({display:"block",top:G.top-A.outerHeight(),zIndex:D})}else{B=J[1];a.css("top",a.outerHeight());A.css({display:"block",top:G.top-A.outerHeight()+J[1]+H.outerHeight(),zIndex:D})}break;case"center":if(F){a.css("top",0);A.css({display:"block",top:G.top-A.outerHeight()/2+J[1],zIndex:D})}else{a.css("top",0);A.css({display:"block",top:G.top+H.outerHeight()/2-A.outerHeight()/2+J[1],zIndex:D})}break}switch(v.openHorizontalDirection){case this._getDir("left"):if(F){A.css({left:G.left-(A.outerWidth()-H.outerWidth()-J[0])})}else{I=0;a.css("left",A.outerWidth());A.css({left:G.left-(A.outerWidth())+2*v.level})}break;case"center":if(F){A.css({left:G.left-(A.outerWidth()/2-H.outerWidth()/2-J[0]/2)})}else{A.css({left:G.left-(A.outerWidth()/2-H.outerWidth()/2-J[0]/2)});a.css("left",A.outerWidth())}break}if(F){if(parseInt(a.css("top"))==B){v.isOpen=true;return}}else{if(parseInt(a.css("left"))==I){v.isOpen==true;return}}c.each(u._getSiblings(v),function(){u._closeItem(u,this,true,true)});var C=c.data(u.element,"animationHideDelay");u.animationHideDelay=C;if(this.autoCloseInterval>0){if(this.host.data("autoclose")!=null&&this.host.data("autoclose").close!=null){clearTimeout(this.host.data("autoclose").close)}if(this.host.data("autoclose")!=null){this.host.data("autoclose").close=setTimeout(function(){u._closeAll()},this.autoCloseInterval)}}if(a.data("timer")){a.data("timer").show=setTimeout(function(){if(A!=null){if(F){a.stop();a.css("left",I);if(!c.jqx.browser.msie){}H.addClass(u.toThemeProperty("jqx-fill-state-pressed"));H.addClass(u.toThemeProperty("jqx-menu-item-top-selected"));if(v.openVerticalDirection=="down"){c(v.element).addClass(u.toThemeProperty("jqx-rc-b-expanded"));A.addClass(u.toThemeProperty("jqx-rc-t-expanded"))}else{c(v.element).addClass(u.toThemeProperty("jqx-rc-t-expanded"));A.addClass(u.toThemeProperty("jqx-rc-b-expanded"))}var d=c(v.arrow);if(d.length>0&&u.showTopLevelArrows){d.removeClass();if(v.openVerticalDirection=="down"){d.addClass(u.toThemeProperty("jqx-menu-item-arrow-down-selected"));d.addClass(u.toThemeProperty("jqx-icon-arrow-down"))}else{d.addClass(u.toThemeProperty("jqx-menu-item-arrow-up-selected"));d.addClass(u.toThemeProperty("jqx-icon-arrow-up"))}}if(u.animationShowDuration==0){a.css({top:B});v.isOpen=true;u._raiseEvent("0",v);c.jqx.aria(c(v.element),"aria-expanded",true)}else{a.animate({top:B},u.animationShowDuration,u.easing,function(){v.isOpen=true;c.jqx.aria(c(v.element),"aria-expanded",true);u._raiseEvent("0",v)})}}else{a.stop();a.css("top",B);if(!c.jqx.browser.msie){}if(v.level>0){H.addClass(u.toThemeProperty("jqx-fill-state-pressed"));H.addClass(u.toThemeProperty("jqx-menu-item-selected"));var d=c(v.arrow);if(d.length>0){d.removeClass();if(v.openHorizontalDirection!="left"){d.addClass(u.toThemeProperty("jqx-menu-item-arrow-"+u._getDir("right")+"-selected"));d.addClass(u.toThemeProperty("jqx-icon-arrow-"+u._getDir("right")))}else{d.addClass(u.toThemeProperty("jqx-menu-item-arrow-"+u._getDir("left")+"-selected"));d.addClass(u.toThemeProperty("jqx-icon-arrow-"+u._getDir("left")))}}}else{H.addClass(u.toThemeProperty("jqx-fill-state-pressed"));H.addClass(u.toThemeProperty("jqx-menu-item-top-selected"));var d=c(v.arrow);if(d.length>0){d.removeClass();if(v.openHorizontalDirection!="left"){d.addClass(u.toThemeProperty("jqx-menu-item-arrow-"+u._getDir("right")+"-selected"));d.addClass(u.toThemeProperty("jqx-icon-arrow-"+u._getDir("right")))}else{d.addClass(u.toThemeProperty("jqx-menu-item-arrow-"+u._getDir("left")+"-selected"));d.addClass(u.toThemeProperty("jqx-icon-arrow-"+u._getDir("left")))}}}if(!c.jqx.browser.msie){}if(u.animationShowDuration==0){a.css({left:I});u._raiseEvent("0",v);v.isOpen=true;c.jqx.aria(c(v.element),"aria-expanded",true)}else{a.animate({left:I},u.animationShowDuration,u.easing,function(){u._raiseEvent("0",v);v.isOpen=true;c.jqx.aria(c(v.element),"aria-expanded",true)})}}}},this.animationShowDelay)}},_getDir:function(a){switch(a){case"left":return !this.rtl?"left":"right";case"right":return this.rtl?"left":"right"}return"left"},_applyOrientation:function(l,t){var o=this;var q=0;o.host.removeClass(o.toThemeProperty("jqx-menu-horizontal"));o.host.removeClass(o.toThemeProperty("jqx-menu-vertical"));o.host.removeClass(o.toThemeProperty("jqx-menu"));o.host.removeClass(o.toThemeProperty("jqx-widget"));o.host.addClass(o.toThemeProperty("jqx-widget"));o.host.addClass(o.toThemeProperty("jqx-menu"));if(l!=undefined&&t!=undefined&&t=="popup"){if(o.host.parent().length>0&&o.host.parent().parent().length>0&&o.host.parent().parent()[0]==document.body){var n=c.data(document.body,"jqxMenuOldHost"+o.element.id);if(n!=null){var s=o.host.closest("div.jqx-menu-wrapper");s.remove();s.appendTo(n);o.host.css("display","block");o.host.css("visibility","visible");s.css("display","block");s.css("visibility","visible")}}}else{if(l==undefined&&t==undefined){c.data(document.body,"jqxMenuOldHost"+o.element.id,o.host.parent()[0])}}if(o.autoOpenPopup){if(o.mode=="popup"){o.addHandler(c(document),"contextmenu."+o.element.id,function(d){return false});o.addHandler(c(document),"mousedown.menu"+o.element.id,function(d){o._openContextMenu(d)})}else{o.removeHandler(c(document),"contextmenu."+o.element.id);o.removeHandler(c(document),"mousedown.menu"+o.element.id)}}else{o.removeHandler(c(document),"contextmenu."+o.element.id);o.removeHandler(c(document),"mousedown.menu"+o.element.id);o.addHandler(c(document),"contextmenu."+o.element.id,function(d){if(d.target&&d.target.className.indexOf&&d.target.className.indexOf("jqx-menu")>=0){return false}})}if(o.rtl){o.host.addClass(o.toThemeProperty("jqx-rtl"))}switch(o.mode){case"horizontal":o.host.addClass(o.toThemeProperty("jqx-widget-header"));o.host.addClass(o.toThemeProperty("jqx-menu-horizontal"));c.each(o.items,function(){var d=this;$element=c(d.element);var e=c(d.arrow);e.removeClass();if(d.hasItems&&d.level>0){var e=c('<span style="border: none; background-color: transparent;" id="arrow'+$element[0].id+'"></span>');e.prependTo($element);e.css("float",o._getDir("right"));e.addClass(o.toThemeProperty("jqx-menu-item-arrow-"+o._getDir("right")));e.addClass(o.toThemeProperty("jqx-icon-arrow-"+o._getDir("right")));d.arrow=e[0]}if(d.level==0){c(d.element).css("float",o._getDir("left"));if(!d.ignoretheme&&d.hasItems&&o.showTopLevelArrows){var e=c('<span style="border: none; background-color: transparent;" id="arrow'+$element[0].id+'"></span>');var f=c.jqx.browser.msie&&c.jqx.browser.version<8;if(d.arrow==null){if(!f){e.prependTo($element)}else{e.appendTo($element)}}else{e=c(d.arrow)}if(d.openVerticalDirection=="down"){e.addClass(o.toThemeProperty("jqx-menu-item-arrow-down"));e.addClass(o.toThemeProperty("jqx-icon-arrow-down"))}else{e.addClass(o.toThemeProperty("jqx-menu-item-arrow-up"));e.addClass(o.toThemeProperty("jqx-icon-arrow-up"))}e.css("visibility","visible");if(!f){e.css("display","block");e.css("float","right")}else{e.css("display","inline-block")}d.arrow=e[0]}else{if(!d.ignoretheme&&d.hasItems&&!o.showTopLevelArrows){if(d.arrow!=null){var e=c(d.arrow);e.remove();d.arrow=null}}}q=Math.max(q,$element.height())}});break;case"vertical":case"popup":case"simple":o.host.addClass(o.toThemeProperty("jqx-menu-vertical"));c.each(o.items,function(){var d=this;$element=c(d.element);if(d.hasItems&&!d.ignoretheme){if(d.arrow){c(d.arrow).remove()}if(o.mode=="simple"){return true}var e=c('<span style="border: none; background-color: transparent;" id="arrow'+$element[0].id+'"></span>');e.prependTo($element);e.css("float","right");if(d.level==0){e.addClass(o.toThemeProperty("jqx-menu-item-arrow-top-"+o._getDir("right")));e.addClass(o.toThemeProperty("jqx-icon-arrow-"+o._getDir("right")))}else{e.addClass(o.toThemeProperty("jqx-menu-item-arrow-"+o._getDir("right")));e.addClass(o.toThemeProperty("jqx-icon-arrow-"+o._getDir("right")))}d.arrow=e[0]}$element.css("float","none")});if(o.mode=="popup"){o.host.addClass(o.toThemeProperty("jqx-widget-content"));o.host.wrap('<div tabindex=0 class="jqx-menu-wrapper" style="z-index:'+o.popupZIndex+'; border: none; background-color: transparent; padding: 0px; margin: 0px; position: absolute; top: 0; left: 0; display: block; visibility: visible;"></div>');var s=o.host.closest("div.jqx-menu-wrapper");o.host.addClass(o.toThemeProperty("jqx-popup"));s[0].id="menuWrapper"+o.element.id;s.appendTo(c(document.body));o.addHandler(s,"keydown",function(d){return o.handleKeyDown(d)})}else{o.host.addClass(o.toThemeProperty("jqx-widget-header"))}if(o.mode=="popup"){var a=o.host.height();o.host.css("position","absolute");o.host.css("top","0");o.host.css("left","0");if(o.mode!="simple"){o.host.height(a);o.host.css("display","none")}}break}var u=o.isTouchDevice();if(o.autoCloseOnClick){o.removeHandler(c(document),"mousedown.menu"+o.element.id,o._closeAfterClick);o.addHandler(c(document),"mousedown.menu"+o.element.id,o._closeAfterClick,o);if(u){o.removeHandler(c(document),c.jqx.mobile.getTouchEventName("touchstart")+".menu"+o.element.id,o._closeAfterClick,o);o.addHandler(c(document),c.jqx.mobile.getTouchEventName("touchstart")+".menu"+o.element.id,o._closeAfterClick,o)}}},_getBodyOffset:function(){var d=0;var a=0;if(c("body").css("border-top-width")!="0px"){d=parseInt(c("body").css("border-top-width"));if(isNaN(d)){d=0}}if(c("body").css("border-left-width")!="0px"){a=parseInt(c("body").css("border-left-width"));if(isNaN(a)){a=0}}return{left:a,top:d}},_getOffset:function(u){var s=c.jqx.mobile.isSafariMobileBrowser();var l=c(u).coord(true);var n=l.top;var o=l.left;if(c("body").css("border-top-width")!="0px"){n=parseInt(n)+this._getBodyOffset().top}if(c("body").css("border-left-width")!="0px"){o=parseInt(o)+this._getBodyOffset().left}var t=c.jqx.mobile.isWindowsPhone();var q=c.jqx.mobile.isTouchDevice();if(this.hasTransform||(s!=null&&s)||t||q){var a={left:c.jqx.mobile.getLeftPos(u),top:c.jqx.mobile.getTopPos(u)};return a}else{return{left:o,top:n}}},_isRightClick:function(d){var a;if(!d){var d=window.event}if(d.which){a=(d.which==3)}else{if(d.button){a=(d.button==2)}}return a},_openContextMenu:function(e){var f=this;var a=f._isRightClick(e);if(a){f.open(parseInt(e.clientX)+5,parseInt(e.clientY)+5)}},close:function(){var f=this;var e=c.data(this.element,"contextMenuOpened"+this.element.id);if(e){var a=this.host;c.each(f.items,function(){var d=this;if(d.hasItems){f._closeItem(f,d)}});c.each(f.items,function(){var h=this;if(h.isOpen==true){$submenu=c(h.subMenuElement);var d=$submenu.closest("div.jqx-menu-popup");d.hide(this.animationHideDuration)}});this.host.hide(this.animationHideDuration);c.data(f.element,"contextMenuOpened"+this.element.id,false);f._raiseEvent("1",f);f._raiseEvent("5")}},open:function(f,h){if(this.mode=="popup"){var l=0;if(this.host.css("display")=="block"){this.close();l=this.animationHideDuration}var a=this;if(f==undefined||f==null){f=0}if(h==undefined||h==null){h=0}setTimeout(function(){a.host.show(a.animationShowDuration);a.host.css("visibility","visible");c.data(a.element,"contextMenuOpened"+a.element.id,true);a._raiseEvent("0",a);a._raiseEvent("4",{left:f,top:h});a.host.css("z-index",9999);if(f!=undefined&&h!=undefined){a.host.css({left:f,top:h})}a.focus()},l)}},_renderHover:function(l,f,a){var h=this;if(!f.ignoretheme){this.addHandler(l,"mouseenter",function(){h.hoveredItem=f;if(!f.disabled&&!f.separator&&h.enableHover&&!h.disabled){if(f.level>0){l.addClass(h.toThemeProperty("jqx-fill-state-hover"));l.addClass(h.toThemeProperty("jqx-menu-item-hover"))}else{l.addClass(h.toThemeProperty("jqx-fill-state-hover"));l.addClass(h.toThemeProperty("jqx-menu-item-top-hover"))}}});this.addHandler(l,"mouseleave",function(){if(!f.disabled&&!f.separator&&h.enableHover&&!h.disabled){if(f.level>0){l.removeClass(h.toThemeProperty("jqx-fill-state-hover"));l.removeClass(h.toThemeProperty("jqx-menu-item-hover"))}else{l.removeClass(h.toThemeProperty("jqx-fill-state-hover"));l.removeClass(h.toThemeProperty("jqx-menu-item-top-hover"))}}})}},_closeAfterClick:function(f){var a=f!=null?f.data:this;var e=false;if(a.autoCloseOnClick){c.each(c(f.target).parents(),function(){if(this.className.indexOf){if(this.className.indexOf("jqx-menu")!=-1){e=true;return false}}});if(!e){f.data=a;a._closeAll(f)}}},_autoSizeHorizontalMenuItems:function(){var d=this;if(d.autoSizeMainItems&&this.mode=="horizontal"){var a=this.maxHeight;if(parseInt(a)>parseInt(this.host.height())){a=parseInt(this.host.height())}a=parseInt(this.host.height());c.each(this.items,function(){var o=this;$element=c(o.element);if(o.level==0&&a>0){var A=$element.children().length>0?parseInt($element.children().height()):$element.height();var v=d.host.find("ul:first");var u=parseInt(v.css("padding-top"));var n=parseInt(v.css("margin-top"));var s=a-2*(n+u);var t=parseInt(s)/2-A/2;var z=parseInt(t);var q=parseInt(t);$element.css("padding-top",z);$element.css("padding-bottom",q);if(parseInt($element.outerHeight())>s){var w=1;$element.css("padding-top",z-w);z=z-w}}})}c.each(this.items,function(){var h=this;$element=c(h.element);if(h.hasItems&&h.level>0){if(h.arrow){var l=c(h.arrow);var n=c(h.element).height();if(n>15){l.css("margin-top",(n-15)/2)}}}})},_nextVisibleItem:function(f,e){if(f==null||f==undefined){return null}var a=f;while(a!=null){a=a.nextItem;if(this._isVisible(a)&&!a.disabled&&a.type!=="separator"){if(this.minimized){return a}if(e!=undefined){if(a&&a.level!=e){continue}}return a}}return null},_prevVisibleItem:function(f,e){if(f==null||f==undefined){return null}var a=f;while(a!=null){a=a.prevItem;if(this._isVisible(a)&&!a.disabled&&a.type!=="separator"){if(this.minimized){return a}if(e!=undefined){if(a&&a.level!=e){continue}}return a}}return null},_parentItem:function(e){if(e==null||e==undefined){return null}var f=e.parentElement;if(!f){return null}var a=null;c.each(this.items,function(){if(this.element==f){a=this;return false}});return a},_isElementVisible:function(a){if(a==null){return false}if(c(a).css("display")!="none"&&c(a).css("visibility")!="hidden"){return true}return false},_isVisible:function(d){if(d==null||d==undefined){return false}if(!this._isElementVisible(d.element)){return false}var a=this._parentItem(d);if(a==null){return true}if(this.minimized){return true}if(a!=null){if(!this._isElementVisible(a.element)){return false}if(a.isOpen||this.minimized){while(a!=null){a=this._parentItem(a);if(a!=null&&!this._isElementVisible(a.element)){return false}if(a!=null&&!a.isOpen){return false}}}else{return false}}return true},_render:function(q,o){if(this.disabled){this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"));this.host.addClass(this.toThemeProperty("jqx-menu-disabled"))}if(this.host.attr("tabindex")==undefined){this.host.attr("tabindex",0)}var l=this.popupZIndex;var t=[5,5];var n=this;c.data(n.element,"animationHideDelay",n.animationHideDelay);var s=this.isTouchDevice();var u=s&&(c.jqx.mobile.isWindowsPhone()||navigator.userAgent.indexOf("Touch")>=0);var a=false;if(navigator.platform.toLowerCase().indexOf("win")!=-1){if(navigator.userAgent.indexOf("Windows Phone")>=0||navigator.userAgent.indexOf("WPDesktop")>=0||navigator.userAgent.indexOf("IEMobile")>=0||navigator.userAgent.indexOf("ZuneWP7")>=0){this.touchDevice=true}else{if(navigator.userAgent.indexOf("Touch")>=0){var v=("MSPointerDown" in window);if(v||c.jqx.mobile.isWindowsPhone()||navigator.userAgent.indexOf("ARM")>=0){a=true;u=true;n.clickToOpen=true;n.autoCloseOnClick=false;n.enableHover=false}}}}c.data(document.body,"menuel",this);this.hasTransform=c.jqx.utilities.hasTransform(this.host);this._applyOrientation(q,o);this.removeHandler(this.host,"blur");this.removeHandler(this.host,"focus");this.addHandler(this.host,"blur",function(d){if(n.keyboardNavigation){if(n.activeItem){if(n.mode==="popup"){if(document.activeElement&&document.activeElement.className.indexOf("jqx-menu-wrapper")>=0){return}}c(n.activeItem.element).removeClass(n.toThemeProperty("jqx-fill-state-focus"));n.activeItem=null}}});this.addHandler(this.host,"focus",function(e){if(n.keyboardNavigation){if(!n.activeItem){if(n.hoveredItem){c(n.hoveredItem.element).addClass(n.toThemeProperty("jqx-fill-state-focus"));n.activeItem=n.hoveredItem}else{var d=function(){if(!c.jqx.isHidden(c(n.items[0].element))){c(n.items[0].element).addClass(n.toThemeProperty("jqx-fill-state-focus"));n.activeItem=n.items[0]}else{var f=n._nextVisibleItem(n.items[0],0);if(f){c(f.element).addClass(n.toThemeProperty("jqx-fill-state-focus"));n.activeItem=f}}};if(!n.activeItem){d()}else{if(!c.jqx.isHidden(c(n.activeItem.element))){c(n.activeItem.element).addClass(n.toThemeProperty("jqx-fill-state-focus"))}else{c(n.activeItem.element).removeClass(n.toThemeProperty("jqx-fill-state-focus"));d()}}}}}});this.removeHandler(this.host,"keydown");n.handleKeyDown=function(D){if(n.keyboardNavigation){if(D.target.nodeName.toLowerCase()==="input"){return true}var e=null;var h=null;c.each(n.items,function(){var w=this;if(this.disabled){return true}if(this.element.className.indexOf("pressed")>=0){h=this}if(this.element.className.indexOf("focus")>=0){e=this;return false}});if(!e&&h){e=h}if(!e){c(n.items[0].element).addClass(n.toThemeProperty("jqx-fill-state-focus"));n.activeItem=n.items[0];e=n.activeItem}var K=false;if(D.keyCode==27){D.data=n;n._closeAll(D);if(e){var E=e;while(E!=null){if(E.parentItem){E=E.parentItem}else{c(n.activeItem.element).removeClass(n.toThemeProperty("jqx-fill-state-focus"));n.activeItem=E;c(n.activeItem.element).addClass(n.toThemeProperty("jqx-fill-state-focus"));E=E.parentItem}}}K=true}if(D.keyCode==13){if(e){K=true;n._raiseEvent("2",{item:e.element,event:D,type:"keyboard"});var d=e.anchor!=null?c(e.anchor):null;if(d!=null&&d.length>0){var C=d.attr("href");var J=d.attr("target");if(C!=null){if(J!=null){window.open(C,J)}else{window.location=C}}}D.preventDefault();D.stopPropagation();c(e.element).focus()}}var A=function(z){if(z==null){return new Array()}var M=new Array();var w=0;for(var N=0;N<n.items.length;N++){if(n.items[N].parentId==z.parentId){M[w++]=n.items[N]}}return M};var I="";switch(D.keyCode){case 40:I="down";break;case 38:I="up";break;case 39:I="right";break;case 37:I="left";break}if(e&&e.openHorizontalDirection==="left"&&I==="left"){I="right"}if(e&&e.openHorizontalDirection==="left"&&I==="right"){I="left"}if(e&&e.openVerticalDirection==="top"&&I==="top"){I="bottom"}if(e&&e.openVerticalDirection==="top"&&I==="bottom"){I="top"}if(n.rtl){if(I==="right"){I="left"}else{if(I==="left"){I="right"}}}if(I==="right"&&!n.minimized){if(D.altKey&&(e.level!=0&&e.hasItems||n.mode!="horizontal")){n._openItem(n,e)}else{var G=n._nextVisibleItem(e,0);var B=n._nextVisibleItem(e);var H=A(B);if(!G){G=B}if(G&&((G.parentId===e.parentId&&G.level==0&&n.mode=="horizontal")||(B.id==H[0].id&&B.level!=0))){if(B.id==H[0].id&&((e.level!=0)||(e.level==0&&n.mode!="horizontal"))){G=B}c(G.element).addClass(n.toThemeProperty("jqx-fill-state-focus"));c(e.element).removeClass(n.toThemeProperty("jqx-fill-state-focus"));n.activeItem=G}}D.preventDefault();D.stopPropagation()}if(I==="left"&&!n.minimized){if(D.altKey&&((e.level!=0&&n.mode!=="horizontal")||(e.level>1&&n.mode==="horizontal")||(e.level==1&&e.hasItems&&n.mode==="horizontal"))){if(e.hasItems){n._closeItem(n,e)}else{if(e.parentItem){n._closeItem(n,e.parentItem);c(e.parentItem.element).addClass(n.toThemeProperty("jqx-fill-state-focus"));c(e.element).removeClass(n.toThemeProperty("jqx-fill-state-focus"));n.activeItem=e.parentItem}}}else{var G=n._prevVisibleItem(e,0);var F=e.parentItem;if(G&&(G.parentId===e.parentId&&G.level==0&&n.mode=="horizontal")){c(G.element).addClass(n.toThemeProperty("jqx-fill-state-focus"));c(e.element).removeClass(n.toThemeProperty("jqx-fill-state-focus"));n.activeItem=G}else{if(!(F&&F.level==0&&n.mode=="horizontal")&&F&&F.level==e.level-1){c(F.element).addClass(n.toThemeProperty("jqx-fill-state-focus"));c(e.element).removeClass(n.toThemeProperty("jqx-fill-state-focus"));n.activeItem=F}}}D.preventDefault();D.stopPropagation()}if(I==="down"){if(D.altKey){if(e.level==0&&e.hasItems){n._openItem(n,e)}if(n.minimized){if(n.minimizedHidden){n.minimizedItem.trigger("click")}}}else{var G=n._nextVisibleItem(e,e.level);var H=A(G);if(n.minimized&&G){c(G.element).addClass(n.toThemeProperty("jqx-fill-state-focus"));c(e.element).removeClass(n.toThemeProperty("jqx-fill-state-focus"));n.activeItem=G}else{if(G&&(G.parentId===e.parentId||(G.id==H[0].id&&n.mode=="horizontal"))){if(!(G.level==0&&n.mode=="horizontal")){c(G.element).addClass(n.toThemeProperty("jqx-fill-state-focus"));c(e.element).removeClass(n.toThemeProperty("jqx-fill-state-focus"));n.activeItem=G}}if(n.mode==="horizontal"&&e.level===0&&e.isOpen&&e.hasItems){var G=n._nextVisibleItem(e);c(G.element).addClass(n.toThemeProperty("jqx-fill-state-focus"));c(e.element).removeClass(n.toThemeProperty("jqx-fill-state-focus"));n.activeItem=G}}}D.preventDefault();D.stopPropagation()}else{if(I==="up"){if(D.altKey){if(e.parentItem&&e.parentItem.level==0){n._closeItem(n,e.parentItem);c(e.parentItem.element).addClass(n.toThemeProperty("jqx-fill-state-focus"));c(e.element).removeClass(n.toThemeProperty("jqx-fill-state-focus"));n.activeItem=e.parentItem}else{if(e.parentItem===null&&e.level===0&&n.mode==="horizontal"){n._closeItem(n,e)}}if(n.minimized){if(!n.minimizedHidden){n.minimizedItem.trigger("click")}}}else{var G=n._prevVisibleItem(e,e.level);var H=A(e);if(n.minimized&&G){c(G.element).addClass(n.toThemeProperty("jqx-fill-state-focus"));c(e.element).removeClass(n.toThemeProperty("jqx-fill-state-focus"));n.activeItem=G}else{if(G&&(G.parentId===e.parentId||(G.id==e.parentId&&G.level==0&&n.mode=="horizontal"))){if(!(G.level==0&&n.mode==="horizontal"&&e.level===0)){c(G.element).addClass(n.toThemeProperty("jqx-fill-state-focus"));c(e.element).removeClass(n.toThemeProperty("jqx-fill-state-focus"));n.activeItem=G}}else{if(e&&e.id==H[0].id&&e.parentItem&&e.parentItem.level===0&&n.mode==="horizontal"){var G=e.parentItem;c(G.element).addClass(n.toThemeProperty("jqx-fill-state-focus"));c(e.element).removeClass(n.toThemeProperty("jqx-fill-state-focus"));n.activeItem=G}}}}D.preventDefault();D.stopPropagation()}}if(D.keyCode==9){var G=D.shiftKey?n._prevVisibleItem(e):n._nextVisibleItem(e);if(G){c(G.element).addClass(n.toThemeProperty("jqx-fill-state-focus"));c(e.element).removeClass(n.toThemeProperty("jqx-fill-state-focus"));n.activeItem=G;D.preventDefault();D.stopPropagation()}else{if(n.lockFocus){var H=new Array();var L=0;for(var f=0;f<n.items.length;f++){if(n.items[f]==e){continue}if(n.items[f].parentId==e.parentId){H[L++]=n.items[f]}}if(H.length>0){if(D.shiftKey){c(H[H.length-1].element).addClass(n.toThemeProperty("jqx-fill-state-focus"));n.activeItem=H[H.length-1]}else{c(H[0].element).addClass(n.toThemeProperty("jqx-fill-state-focus"));n.activeItem=H[0]}c(e.element).removeClass(n.toThemeProperty("jqx-fill-state-focus"))}D.preventDefault();D.stopPropagation()}else{if(e){c(e.element).removeClass(n.toThemeProperty("jqx-fill-state-focus"));n.activeItem=null}}}}}else{return true}};this.addHandler(this.host,"keydown",function(d){n.handleKeyDown(d)});if(n.enableRoundedCorners){this.host.addClass(n.toThemeProperty("jqx-rc-all"))}c.each(this.items,function(){var d=this;var w=c(d.element);w.attr("role","menuitem");if(n.enableRoundedCorners){w.addClass(n.toThemeProperty("jqx-rc-all"))}n.removeHandler(w,"click");n.addHandler(w,"click",function(D){if(d.disabled){return}if(n.disabled){return}if(n.keyboardNavigation){if(n.activeItem){c(n.activeItem.element).removeClass(n.toThemeProperty("jqx-fill-state-focus"))}n.activeItem=d;c(d.element).addClass(n.toThemeProperty("jqx-fill-state-focus"));if(n.minimized){D.stopPropagation()}}n._raiseEvent("2",{type:"mouse",item:d.element,event:D});if(!n.autoOpen){if(d.level>0){if(n.autoCloseOnClick&&!s&&!n.clickToOpen){D.data=n;n._closeAll(D)}}}else{if(n.autoCloseOnClick&&!s&&!n.clickToOpen){if(d.closeOnClick){D.data=n;n._closeAll(D)}}}if(s&&n.autoCloseOnClick){D.data=n;if(!d.hasItems){n._closeAll(D)}}if(D.target.tagName!="A"&&D.target.tagName!="a"){var F=d.anchor!=null?c(d.anchor):null;if(F!=null&&F.length>0){var G=F.attr("href");var E=F.attr("target");if(G!=null){if(E!=null){window.open(G,E)}else{window.location=G}}}}});n.removeHandler(w,"mouseenter");n.removeHandler(w,"mouseleave");if(!u&&n.mode!="simple"){n._renderHover(w,d,s)}if(d.subMenuElement!=null){var h=c(d.subMenuElement);if(n.mode=="simple"){h.show();return true}h.wrap('<div class="jqx-menu-popup '+n.toThemeProperty("jqx-menu-popup")+'" style="border: none; background-color: transparent; z-index:'+l+'; padding: 0px; margin: 0px; position: absolute; top: 0; left: 0; display: block; visibility: hidden;"><div style="background-color: transparent; border: none; position:absolute; overflow:hidden; left: 0; top: 0; right: 0; width: 100%; height: 100%;"></div></div>');h.css({overflow:"hidden",position:"absolute",left:0,display:"inherit",top:-h.outerHeight()});h.data("timer",{});if(d.level>0){h.css("left",-h.outerWidth())}else{if(n.mode=="horizontal"){h.css("left",0)}}l++;var e=c(d.subMenuElement).closest("div.jqx-menu-popup").css({width:parseInt(c(d.subMenuElement).outerWidth())+parseInt(t[0])+"px",height:parseInt(c(d.subMenuElement).outerHeight())+parseInt(t[1])+"px"});var C=w.closest("div.jqx-menu-popup");if(C.length>0){var B=h.css("margin-left");var z=h.css("margin-right");var A=h.css("padding-left");var f=h.css("padding-right");e.appendTo(C);h.css("margin-left",B);h.css("margin-right",z);h.css("padding-left",A);h.css("padding-right",f)}else{var B=h.css("margin-left");var z=h.css("margin-right");var A=h.css("padding-left");var f=h.css("padding-right");e.appendTo(c(document.body));h.css("margin-left",B);h.css("margin-right",z);h.css("padding-left",A);h.css("padding-right",f)}if(!n.clickToOpen){if(s||u){n.removeHandler(w,c.jqx.mobile.getTouchEventName("touchstart"));n.addHandler(w,c.jqx.mobile.getTouchEventName("touchstart"),function(D){clearTimeout(h.data("timer").hide);if(h!=null){h.stop()}if(d.level==0&&!d.isOpen&&n.mode!="popup"){D.data=n;n._closeAll(D)}if(!d.isOpen){n._openItem(n,d)}else{n._closeItem(n,d,true)}return false})}if(!u){n.addHandler(w,"mouseenter",function(){if(n.autoOpen||(d.level>0&&!n.autoOpen)){clearTimeout(h.data("timer").hide)}if(d.parentId&&d.parentId!=0){if(n.menuElements[d.parentId]){var D=n.menuElements[d.parentId].isOpen;if(!D){return}}}if(n.autoOpen||(d.level>0&&!n.autoOpen)){n._openItem(n,d)}return false});n.addHandler(w,"mousedown",function(){if(!n.autoOpen&&d.level==0){clearTimeout(h.data("timer").hide);if(h!=null){h.stop()}if(!d.isOpen){n._openItem(n,d)}else{n._closeItem(n,d,true)}}});n.addHandler(w,"mouseleave",function(G){if(n.autoCloseOnMouseLeave){clearTimeout(h.data("timer").hide);var D=c(d.subMenuElement);var H={left:parseInt(G.pageX),top:parseInt(G.pageY)};var E={left:parseInt(D.coord().left),top:parseInt(D.coord().top),width:parseInt(D.outerWidth()),height:parseInt(D.outerHeight())};var F=true;if(E.left-5<=H.left&&H.left<=E.left+E.width+5){if(E.top<=H.top&&H.top<=E.top+E.height){F=false}}if(F){n._closeItem(n,d,true)}}});n.removeHandler(e,"mouseenter");n.addHandler(e,"mouseenter",function(){clearTimeout(h.data("timer").hide)});n.removeHandler(e,"mouseleave");n.addHandler(e,"mouseleave",function(D){if(n.autoCloseOnMouseLeave){clearTimeout(h.data("timer").hide);clearTimeout(h.data("timer").show);if(h!=null){h.stop()}n._closeItem(n,d,true)}})}}else{n.removeHandler(w,"mousedown");n.addHandler(w,"mousedown",function(D){clearTimeout(h.data("timer").hide);if(h!=null){h.stop()}if(d.level==0&&!d.isOpen){D.data=n;n._closeAll(D)}if(!d.isOpen){n._openItem(n,d)}else{n._closeItem(n,d,true)}})}}});if(this.mode=="simple"){this._renderSimpleMode()}this._autoSizeHorizontalMenuItems();this._raiseEvent("3",this)},_renderSimpleMode:function(){this.host.show()},createID:function(){var a=Math.random()+"";a=a.replace(".","");a="99"+a;a=a/1;while(this.items[a]){a=Math.random()+"";a=a.replace(".","");a=a/1}return"menuItem"+a},_createMenu:function(R,O){if(R==null){return}if(O==undefined){O=true}if(O==null){O=true}var H=this;var B=c(R).find("li");var F=0;this.itemMapping=new Array();for(var L=0;L<B.length;L++){var J=B[L];var D=c(J);if(J.className.indexOf("jqx-menu")==-1&&this.autoGenerate==false){continue}var G=J.id;if(!G){G=this.createID()}if(O){J.id=G;this.items[F]=new c.jqx._jqxMenu.jqxMenuItem();this.menuElements[G]=this.items[F]}F+=1;var C=0;var a=this;var M=D.children();M.each(function(){if(!O){this.className="";if(a.autoGenerate){c(a.items[F-1].subMenuElement)[0].className="";if(!a.minimized){c(a.items[F-1].subMenuElement).addClass(a.toThemeProperty("jqx-widget-content"))}c(a.items[F-1].subMenuElement).addClass(a.toThemeProperty("jqx-menu-dropdown"));c(a.items[F-1].subMenuElement).addClass(a.toThemeProperty("jqx-popup"))}}if(this.className.indexOf("jqx-menu-dropdown")!=-1){if(O){a.items[F-1].subMenuElement=this}return false}else{if(a.autoGenerate&&(this.tagName=="ul"||this.tagName=="UL")){if(O){a.items[F-1].subMenuElement=this}this.className="";if(!a.minimized){c(this).addClass(a.toThemeProperty("jqx-widget-content"))}c(this).addClass(a.toThemeProperty("jqx-menu-dropdown"));c(this).addClass(a.toThemeProperty("jqx-popup"));c(this).attr("role","menu");if(a.rtl){c(this).addClass(a.toThemeProperty("jqx-rc-l"))}else{c(this).addClass(a.toThemeProperty("jqx-rc-r"))}c(this).addClass(a.toThemeProperty("jqx-rc-b"));return false}}});var z=D.parents();z.each(function(){if(this.className.indexOf("jqx-menu-item")!=-1){C=this.id;return false}else{if(a.autoGenerate&&(this.tagName=="li"||this.tagName=="LI")){C=this.id;return false}}});var P=false;var Q=J.getAttribute("type");var S=J.getAttribute("ignoretheme")||J.getAttribute("data-ignoretheme");if(S){if(S=="true"||S==true){S=true}}else{S=false}if(!Q){Q=J.type}else{if(Q=="separator"){var P=true}}if(!P){if(C){Q="sub"}else{Q="top"}}var N=this.items[F-1];if(O){N.id=G;N.parentId=C;N.type=Q;N.separator=P;N.element=B[L];var K=D.children("a");N.disabled=J.getAttribute("item-disabled")=="true"?true:false;N.level=D.parents("li").length;N.anchor=K.length>0?K:null;if(N.anchor){c(N.anchor).attr("tabindex",-1)}}N.ignoretheme=S;var I=this.menuElements[C];if(I!=null){if(I.ignoretheme){N.ignoretheme=I.ignoretheme;S=I.ignoretheme}N.parentItem=I;N.parentElement=I.element}if(this.autoGenerate){if(Q=="separator"){D.removeClass();D.addClass(this.toThemeProperty("jqx-menu-item-separator"));D.attr("role","separator")}else{if(!S){D[0].className="";if(this.rtl){D.addClass(this.toThemeProperty("jqx-rtl"))}if(N.level>0&&!a.minimized){D.addClass(this.toThemeProperty("jqx-item"));D.addClass(this.toThemeProperty("jqx-menu-item"))}else{D.addClass(this.toThemeProperty("jqx-item"));D.addClass(this.toThemeProperty("jqx-menu-item-top"))}}}}if(N.disabled){D.addClass(a.toThemeProperty("jqx-menu-item-disabled"));D.addClass(a.toThemeProperty("jqx-fill-state-disabled"))}this.itemMapping[L]={element:B[L],item:N};this.itemMapping["id"+B[L].id]=this.itemMapping[L];if(O&&!S){N.hasItems=D.find("li").length>0;if(N.hasItems){if(N.element){c.jqx.aria(c(N.element),"aria-haspopup",true);if(!N.subMenuElement.id){N.subMenuElement.id=c.jqx.utilities.createId()}c.jqx.aria(c(N.element),"aria-owns",N.subMenuElement.id)}}}}for(var E=0;E<B.length;E++){var A=B[E];if(this.itemMapping["id"+A.id]){var N=this.itemMapping["id"+A.id].item;if(!N){continue}N.prevItem=null;N.nextItem=null;if(E>0){if(this.itemMapping["id"+B[E-1].id]){N.prevItem=this.itemMapping["id"+B[E-1].id].item}}if(E<B.length-1){if(this.itemMapping["id"+B[E+1].id]){N.nextItem=this.itemMapping["id"+B[E+1].id].item}}}}},destroy:function(){var a=this;c.jqx.utilities.resize(a.host,null,true);var e=a.host.closest("div.jqx-menu-wrapper");a.removeHandler(e,"keydown");e.remove();a.removeHandler(c("#menuWrapper"+a.element.id),"keydown");c("#menuWrapper"+a.element.id).remove();a.removeHandler(a.host,"keydown");a.removeHandler(a.host,"focus");a.removeHandler(a.host,"blur");a.removeHandler(c(document),"mousedown.menu"+a.element.id,a._closeAfterClick);a.removeHandler(c(document),"mouseup.menu"+a.element.id,a._closeAfterClick);a.removeHandler(c(document),"contextmenu."+a.element.id);a.removeHandler(a.host,"contextmenu."+a.element.id);c.data(document.body,"jqxMenuOldHost"+a.element.id,null);if(a.isTouchDevice()){a.removeHandler(c(document),c.jqx.mobile.getTouchEventName("touchstart")+".menu"+a.element.id,a._closeAfterClick,this)}if(c(window).off){c(window).off("resize.menu"+a.element.id)}c.each(a.items,function(){var l=this;var n=c(l.element);a.removeHandler(n,"click");a.removeHandler(n,"selectstart");a.removeHandler(n,"mouseenter");a.removeHandler(n,"mouseleave");a.removeHandler(n,"mousedown");a.removeHandler(n,"mouseleave");var o=c(l.subMenuElement);var d=o.closest("div.jqx-menu-popup");d.remove();delete this.subMenuElement;delete this.element});c.data(document.body,"menuel",null);delete a.menuElements;a.items=new Array();delete a.items;var f=c.data(a.element,"jqxMenu");if(f){delete f.instance}a.host.removeClass();a.host.remove();delete a.host;delete a.element},_raiseEvent:function(h,o){if(o==undefined){o={owner:null}}var n=this.events[h];args=o;args.owner=this;var l=new c.Event(n);if(h=="2"){args=o.item;args.owner=this;args.clickType=o.type;c.extend(l,o.event);l.type="itemclick"}l.owner=this;l.args=args;var a=this.host.trigger(l);return a},propertyChangedHandler:function(a,t,n,o){if(this.isInitialized==undefined||this.isInitialized==false){return}if(t=="disabled"){if(a.disabled){a.host.addClass(a.toThemeProperty("jqx-fill-state-disabled"));a.host.addClass(a.toThemeProperty("jqx-menu-disabled"))}else{a.host.removeClass(a.toThemeProperty("jqx-fill-state-disabled"));a.host.removeClass(a.toThemeProperty("jqx-menu-disabled"))}}if(o==n){return}if(t=="touchMode"){this._isTouchDevice=null;a._render(o,n)}if(t==="width"||t==="height"){a.setSize();if(a.mode==="popup"){var s=this.host.closest("div.jqx-menu-wrapper");s[t](o);var l=this.host[0].id;c("#"+l)[t](o)}return}if(t=="source"){if(a.source!=null){var u=a.loadItems(a.source);a.element.innerHTML=u;var q=a.host.find("ul:first");if(q.length>0){a.refresh();a._createMenu(q[0]);a._render()}}}if(t=="autoCloseOnClick"){if(o==false){a.removeHandler(c(document),"mousedown.menu"+this.element.id,a._closeAll)}else{a.addHandler(c(document),"mousedown.menu"+this.element.id,a,a._closeAll)}}else{if(t=="mode"||t=="width"||t=="height"||t=="showTopLevelArrows"){a.refresh();if(t=="mode"){a._render(o,n)}else{a._applyOrientation()}}else{if(t=="theme"){c.jqx.utilities.setTheme(n,o,a.host)}}}}})})(jqxBaseFramework);(function(c){c.jqx._jqxMenu.jqxMenuItem=function(f,h,l){var a={id:f,parentId:h,parentItem:null,anchor:null,type:l,disabled:false,level:0,isOpen:false,hasItems:false,element:null,subMenuElement:null,arrow:null,openHorizontalDirection:"right",openVerticalDirection:"down",closeOnClick:true};return a}})(jqxBaseFramework);(function(c){c.jqx.jqxWidget("jqxExpander","",{});c.extend(c.jqx._jqxExpander.prototype,{defineInstance:function(){var a={width:"auto",height:"auto",expanded:true,expandAnimationDuration:259,collapseAnimationDuration:250,animationType:"slide",toggleMode:"click",showArrow:true,arrowPosition:"right",headerPosition:"top",disabled:false,initContent:null,rtl:false,easing:"easeInOutSine",aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:["expanding","expanded","collapsing","collapsed","resize"]};c.extend(true,this,a);return a},createInstance:function(a){this._isTouchDevice=c.jqx.mobile.isTouchDevice();c.jqx.aria(this);this._cachedHTMLStructure=this.host.html();this.render()},expand:function(){if(this.disabled==false&&this.expanded==false&&this._expandChecker==1){var a=this;this._expandChecker=0;this._raiseEvent("0");this._header.removeClass(this.toThemeProperty("jqx-fill-state-normal"));this._header.addClass(this.toThemeProperty("jqx-fill-state-pressed"));this._header.addClass(this.toThemeProperty("jqx-expander-header-expanded"));if(this.headerPosition=="top"){this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down"));this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down-hover"));this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-up-hover"));this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down-selected"));this._arrow.removeClass(this.toThemeProperty("jqx-expander-arrow-top"));this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up"));this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up-selected"));this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-bottom"));this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-expanded"))}else{if(this.headerPosition=="bottom"){this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-up"));this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-up-selected"));this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down-hover"));this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-up-hover"));this._arrow.removeClass(this.toThemeProperty("jqx-expander-arrow-bottom"));this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down"));this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-top"));this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-expanded-top"))}}switch(this.animationType){case"slide":if(this.headerPosition=="top"){this._content.slideDown(this.expandAnimationDuration,this.easing,function(){a.expanded=true;c.jqx.aria(a._header,"aria-expanded",true);c.jqx.aria(a._content,"aria-hidden",false);a._raiseEvent("1");if(a.initContent&&a._initialized==false){a.initContent();a._initialized=true}})}else{if(this.headerPosition=="bottom"){this._content.css({display:"inherit",height:0});if(c.jqx.browser.msie&&c.jqx.browser.version<8){this._content.css("display","block")}if(this._cntntEmpty==true){this._content.animate({height:0},this.expandAnimationDuration,this.easing,function(){a.expanded=true;c.jqx.aria(a._header,"aria-expanded",true);c.jqx.aria(a._content,"aria-hidden",false);a._raiseEvent("1");if(a.initContent&&a._initialized==false){a.initContent();a._initialized=true}})}else{this._content.animate({height:this._contentHeight},this.expandAnimationDuration,this.easing,function(){a.expanded=true;c.jqx.aria(a._header,"aria-expanded",true);c.jqx.aria(a._content,"aria-hidden",false);a._raiseEvent("1");if(a.initContent&&a._initialized==false){a.initContent();a._initialized=true}})}}}break;case"fade":this._content.fadeIn(this.expandAnimationDuration,this.easing,function(){a.expanded=true;c.jqx.aria(a._header,"aria-expanded",true);c.jqx.aria(a._content,"aria-hidden",false);a._raiseEvent("1");if(a.initContent&&a._initialized==false){a.initContent();a._initialized=true}});break;case"none":this._content.css("display","inherit");this.expanded=true;c.jqx.aria(a._header,"aria-expanded",true);c.jqx.aria(a._content,"aria-hidden",false);this._raiseEvent("1");if(this.initContent&&this._initialized==false){this.initContent();this._initialized=true}break}}},collapse:function(){if(this.disabled==false&&this.expanded==true&&this._expandChecker==0){var a=this;this._expandChecker=1;this._raiseEvent("2");this._header.removeClass(this.toThemeProperty("jqx-fill-state-pressed"));this._header.removeClass(this.toThemeProperty("jqx-expander-header-expanded"));this._header.addClass(this.toThemeProperty("jqx-fill-state-normal"));if(this.headerPosition=="top"){this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-up"));this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-up-selected"));this._arrow.removeClass(this.toThemeProperty("jqx-expander-arrow-bottom"));this._arrow.removeClass(this.toThemeProperty("jqx-expander-arrow-expanded"));this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down"));if(a._hovered){this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down-hover"))}this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-top"))}else{if(this.headerPosition=="bottom"){this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down"));this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down-selected"));this._arrow.removeClass(this.toThemeProperty("jqx-expander-arrow-top"));this._arrow.removeClass(this.toThemeProperty("jqx-expander-arrow-expanded-top"));this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up"));this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-bottom"));if(a._hovered){this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up-hover"))}}}switch(this.animationType){case"slide":if(this.headerPosition=="top"){this._content.slideUp(this.collapseAnimationDuration,this.easing,function(){a.expanded=false;c.jqx.aria(a._header,"aria-expanded",false);c.jqx.aria(a._content,"aria-hidden",true);a._raiseEvent("3")})}else{if(this.headerPosition=="bottom"){this._content.animate({height:0},this.expandAnimationDuration,function(){a._content.css("display","none");a.expanded=false;c.jqx.aria(a._header,"aria-expanded",false);c.jqx.aria(a._content,"aria-hidden",true);a._raiseEvent("3")})}}break;case"fade":this._content.fadeOut(this.collapseAnimationDuration,this.easing,function(){a.expanded=false;c.jqx.aria(a._header,"aria-expanded",false);c.jqx.aria(a._content,"aria-hidden",true);a._raiseEvent("3")});break;case"none":this._content.css("display","none");this.expanded=false;c.jqx.aria(a._header,"aria-expanded",false);c.jqx.aria(a._content,"aria-hidden",true);this._raiseEvent("3");break}}},setHeaderContent:function(a){this._header_text.html(a);this.invalidate()},getHeaderContent:function(){return this._header_text.html()},setContent:function(a){this._content.html(a);this._checkContent();this.invalidate()},getContent:function(){return this._content.html()},enable:function(){this.disabled=false;this.refresh();c.jqx.aria(this,"aria-disabled",false)},disable:function(){this.disabled=true;this.refresh();c.jqx.aria(this,"aria-disabled",true)},invalidate:function(){if(c.jqx.isHidden(this.host)){return}this._setSize()},refresh:function(a){if(a==true){return}this._removeHandlers();if(this.showArrow==true){this._arrow.css("display","inherit")}else{this._arrow.css("display","none")}this._setTheme();this._setSize();if(this.disabled==false){this._toggle()}this._keyBoard()},render:function(){this.widgetID=this.element.id;if(this._header){this._header.removeClass(this.toThemeProperty("jqx-expander-header-content"));this._header.removeClass(this.toThemeProperty("jqx-expander-header"));this._header.removeClass(this.toThemeProperty("jqx-expander-header-expanded"));this._header.removeClass(this.toThemeProperty("jqx-widget-header"));this._header_text.removeClass(this.toThemeProperty("jqx-expander-header-content"));this._header_text.removeClass(this.toThemeProperty("jqx-expander-header"));this._header_text.removeClass(this.toThemeProperty("jqx-widget-header"));this._header_text.removeClass(this.toThemeProperty("jqx-expander-header-expanded"));this._header.attr("tabindex",null);this._content.attr("tabindex",null);this._header.css("margin-top",0);this._header[0].innerHTML=this._header_text[0].innerHTML;if(this.headerPosition=="bottom"){this._header.detach();this.host.prepend(this._header)}}this._header_temp=this.host.children("div:eq(0)");this._header_temp.wrap("<div></div>");this._header=this.host.children("div:eq(0)");this._content=this.host.children("div:eq(1)");if(this.headerPosition=="bottom"){this._header.detach();this.host.append(this._header)}this._header_text=this._header.children("div:eq(0)");var h=this._header_text[0].className;this._header.addClass(h);this._header_text.removeClass();if(!this.rtl){this._header_text.addClass(this.toThemeProperty("jqx-expander-header-content"))}else{this._header_text.addClass(this.toThemeProperty("jqx-expander-header-content-rtl"))}this._header.append("<div></div>");this._arrow=this._header.children("div:eq(1)");if(this.showArrow==true){this._arrow.css("display","inherit")}else{this._arrow.css("display","none")}this.tI=-1;if(this._header.attr("tabindex")==undefined){this.tI++;this._header.attr("tabindex",this.tI)}if(this._content.attr("tabindex")==undefined){this.tI++;this._content.attr("tabindex",this.tI)}this._setTheme();this._checkContent();var a="Invalid jqxExpander structure. Please add only two child div elements to your jqxExpander div that will represent the expander's header and content.";try{if(this._header.length==0||this._content.length==0||this.host.children().length<2||this.host.children().length>2){throw a}}catch(l){alert(l)}this._expandChecker;this._initialized;if(this.expanded==true){if(this.headerPosition=="top"){this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up"));this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up-selected"));this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-bottom"));this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-expanded"))}else{if(this.headerPosition=="bottom"){this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down"));this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down-selected"));this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-top"));this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-expanded-top"))}}if(this.initContent){this._setSize();this.initContent()}this._initialized=true;this._expandChecker=0}else{if(this.expanded==false){this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down-selected"));this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-up-selected"));if(this.headerPosition=="top"){this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down"));this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-top"))}else{if(this.headerPosition=="bottom"){this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up"));this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-bottom"))}}this._initialized=false;this._expandChecker=1;this._content.css("display","none")}}this._setSize();if(this.disabled==false){this._toggle()}this._keyBoard();var f=this;c.jqx.utilities.resize(this.host,function(){f.invalidate()})},destroy:function(){this.removeHandler(c(window),"resize.expander"+this.widgetID);this.host.remove();c(this.element).removeData("jqxExpander")},focus:function(){try{if(this.disabled==false){this._header.focus()}}catch(a){}},propertyChangedHandler:function(a,l,f,h){if(l=="expanded"){if(h==true&&f==false){this.expanded=false;this.expand()}else{if(h==false&&f==true){this.expanded=true;this.collapse()}}}else{this.refresh()}},_raiseEvent:function(h,n){var q=this.events[h];var l=new c.Event(q);l.owner=this;l.args=n;try{var a=this.host.trigger(l)}catch(o){}return a},resize:function(d,a){this.width=d;this.height=a;this._setSize()},_setSize:function(){this.host.width(this.width);this.host.height(this.height);this._header.height("auto");this._header.css("min-height",this._arrow.height());var d=this.arrowPosition;if(this.rtl){switch(d){case"left":d="right";break;case"right":d="left";break}}if(d=="right"){this._header_text.css({"float":"left","margin-left":"0px"});this._arrow.css({"float":"right",position:"relative"})}else{if(d=="left"){if(this.width=="auto"){this._header_text.css({"float":"left","margin-left":"17px"});this._arrow.css({"float":"left",position:"absolute"})}else{this._header_text.css({"float":"right","margin-left":"0px"});this._arrow.css({"float":"left",position:"relative"})}}}this._arrow.css("margin-top",this._header_text.height()/2-this._arrow.height()/2);if(this.height=="auto"){this._content.height("auto");this._contentHeight=this._content.height()}else{this._content.height("auto");var a=Math.round(this.host.height())-Math.round(this._header.outerHeight())-1;if(a<0){a=0}if(!this._contentHeight){this._contentHeight=this._content.height()}if(a!=this._contentHeight){this._content.height(a);this._contentHeight=Math.round(this._content.outerHeight())}else{this._content.height(this._contentHeight)}}},_toggle:function(){var a=this;if(this._isTouchDevice==false){this._header.removeClass(this.toThemeProperty("jqx-expander-header-disabled"));switch(this.toggleMode){case"click":this.addHandler(this._header,"click.expander"+this.widgetID,function(){a._animate()});break;case"dblclick":this.addHandler(this._header,"dblclick.expander"+this.widgetID,function(){a._animate()});break;case"none":this._header.addClass(this.toThemeProperty("jqx-expander-header-disabled"));break}}else{if(this.toggleMode!="none"){this.addHandler(this._header,c.jqx.mobile.getTouchEventName("touchstart")+"."+this.widgetID,function(){a._animate()})}else{return}}},_animate:function(){if(this.expanded==true){this.collapse();this._header.addClass(this.toThemeProperty("jqx-fill-state-hover"));this._header.addClass(this.toThemeProperty("jqx-expander-header-hover"));if(this.headerPosition=="top"){this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-top-hover"));this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-down-hover"))}else{if(this.headerPosition=="bottom"){this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-bottom-hover"));this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-up-hover"))}}}else{this.expand();this._header.removeClass(this.toThemeProperty("jqx-fill-state-hover"));this._header.removeClass(this.toThemeProperty("jqx-expander-header-hover"));if(this.headerPosition=="top"){this._arrow.removeClass(this.toThemeProperty("jqx-expander-arrow-top-hover"));this._arrow.removeClass(this.toThemeProperty("jqx-expander-arrow-down-hover"))}else{if(this.headerPosition=="bottom"){this._arrow.removeClass(this.toThemeProperty("jqx-expander-arrow-bottom-hover"));this._arrow.removeClass(this.toThemeProperty("jqx-expander-arrow-up-hover"))}}}},_removeHandlers:function(){this.removeHandler(this._header,"click.expander"+this.widgetID);this.removeHandler(this._header,"dblclick.expander"+this.widgetID);this.removeHandler(this._header,"mouseenter.expander"+this.widgetID);this.removeHandler(this._header,"mouseleave.expander"+this.widgetID)},_setTheme:function(){var a=this;this.host.addClass(this.toThemeProperty("jqx-widget"));this._header.addClass(this.toThemeProperty("jqx-widget-header"));this._content.addClass(this.toThemeProperty("jqx-widget-content"));if(this.rtl==true){this.host.addClass(this.toThemeProperty("jqx-rtl"))}if(this.disabled==false){this._header.removeClass(this.toThemeProperty("jqx-expander-header-disabled"));this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled"));if(this.expanded==true){this._header.addClass(this.toThemeProperty("jqx-fill-state-pressed"));this._header.addClass(this.toThemeProperty("jqx-expander-header-expanded"))}else{this._header.addClass(this.toThemeProperty("jqx-fill-state-normal"));this._header.removeClass(this.toThemeProperty("jqx-expander-header-expanded"))}this._hovered=false;if(!a._isTouchDevice){this.addHandler(this._header,"mouseenter.expander"+this.widgetID,function(){a._hovered=true;if(a._expandChecker==1){a._header.removeClass(a.toThemeProperty("jqx-fill-state-normal"));a._header.removeClass(a.toThemeProperty("jqx-fill-state-pressed"));a._header.addClass(a.toThemeProperty("jqx-fill-state-hover"));a._header.addClass(a.toThemeProperty("jqx-expander-header-hover"));if(a.headerPosition=="top"){if(a.expanded){a._arrow.addClass(a.toThemeProperty("jqx-icon-arrow-up-hover"))}else{a._arrow.addClass(a.toThemeProperty("jqx-icon-arrow-down-hover"))}a._arrow.addClass(a.toThemeProperty("jqx-expander-arrow-top-hover"));a._arrow.addClass(a.toThemeProperty("jqx-expander-arrow-down-hover"))}else{if(a.headerPosition=="bottom"){if(a.expanded){a._arrow.addClass(a.toThemeProperty("jqx-icon-arrow-down-hover"))}a._arrow.addClass(a.toThemeProperty("jqx-expander-arrow-bottom-hover"));a._arrow.addClass(a.toThemeProperty("jqx-expander-arrow-up-hover"))}}}});this.addHandler(this._header,"mouseleave.expander"+this.widgetID,function(){a._hovered=false;a._header.removeClass(a.toThemeProperty("jqx-fill-state-hover"));a._arrow.removeClass(a.toThemeProperty("jqx-icon-arrow-up-hover"));a._arrow.removeClass(a.toThemeProperty("jqx-icon-arrow-down-hover"));a._header.removeClass(a.toThemeProperty("jqx-expander-header-hover"));if(a.headerPosition=="top"){a._arrow.removeClass(a.toThemeProperty("jqx-expander-arrow-top-hover"));a._arrow.removeClass(a.toThemeProperty("jqx-expander-arrow-down-hover"))}else{if(a.headerPosition=="bottom"){a._arrow.removeClass(a.toThemeProperty("jqx-expander-arrow-bottom-hover"));a._arrow.removeClass(a.toThemeProperty("jqx-expander-arrow-up-hover"))}}if(a._expandChecker==1){a._header.addClass(a.toThemeProperty("jqx-fill-state-normal"))}else{a._header.addClass(a.toThemeProperty("jqx-fill-state-pressed"))}})}}else{this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"));this._header.addClass(this.toThemeProperty("jqx-expander-header-disabled"))}this.host.addClass(this.toThemeProperty("jqx-expander"));this._header.addClass(this.toThemeProperty("jqx-expander-header"));this._content.addClass(this.toThemeProperty("jqx-expander-content"));if(this.headerPosition=="top"){this._content.addClass(this.toThemeProperty("jqx-expander-content-bottom"))}else{if(this.headerPosition=="bottom"){this._content.addClass(this.toThemeProperty("jqx-expander-content-top"))}}this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow"))},_checkContent:function(){this._cntntEmpty=/^\s*$/.test(this._content.html());if(this._cntntEmpty==true){this._content.height(0);this._content.addClass(this.toThemeProperty("jqx-expander-content-empty"))}else{this._content.height(this._contentHeight);this._content.removeClass(this.toThemeProperty("jqx-expander-content-empty"))}},_keyBoard:function(){var a=this;this._focus();this.addHandler(this.host,"keydown.expander"+this.widgetID,function(f){var e=false;if((a.focusedH==true||a.focusedC==true)&&a.disabled==false){switch(f.keyCode){case 13:case 32:if(a.toggleMode!="none"){if(a.focusedH==true){a._animate()}e=true}break;case 38:if(f.ctrlKey==true&&a.focusedC==true){a._header.focus()}e=true;break;case 40:if(f.ctrlKey==true&&a.focusedH==true){a._content.focus()}e=true;break}return true}if(e&&f.preventDefault){f.preventDefault()}return !e})},_focus:function(){var a=this;this.addHandler(this._header,"focus.expander"+this.widgetID,function(){a.focusedH=true;c.jqx.aria(a._header,"aria-selected",true);a._header.addClass(a.toThemeProperty("jqx-fill-state-focus"))});this.addHandler(this._header,"blur.expander"+this.widgetID,function(){a.focusedH=false;c.jqx.aria(a._header,"aria-selected",false);a._header.removeClass(a.toThemeProperty("jqx-fill-state-focus"))});this.addHandler(this._header_text,"focus.expander"+this.widgetID,function(){a._header.focus()});this.addHandler(this._arrow,"focus.expander"+this.widgetID,function(){a._header.focus()});this.addHandler(this._content,"focus.expander"+this.widgetID,function(){a.focusedC=true;a._content.addClass(a.toThemeProperty("jqx-fill-state-focus"))});this.addHandler(this._content,"blur.expander"+this.widgetID,function(){a.focusedC=false;a._content.removeClass(a.toThemeProperty("jqx-fill-state-focus"))})}})})(jqxBaseFramework);(function(c){c.jqx.jqxWidget("jqxNavigationBar","",{});c.extend(c.jqx._jqxNavigationBar.prototype,{defineInstance:function(){var a={width:"auto",height:"auto",expandAnimationDuration:250,collapseAnimationDuration:250,animationType:"slide",toggleMode:"click",showArrow:true,arrowPosition:"right",disabled:false,initContent:null,rtl:false,easing:"easeInOutSine",expandMode:"singleFitHeight",expandedIndexes:[],_expandModes:["singleFitHeight","single","multiple","toggle","none"],aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:["expandingItem","expandedItem","collapsingItem","collapsedItem"]};c.extend(true,this,a);return a},createInstance:function(a){this._isTouchDevice=c.jqx.mobile.isTouchDevice();c.jqx.aria(this);this.render()},val:function(a){if(arguments.length==0||typeof(a)=="object"){return this.expandedIndexes}if(typeof a=="string"){this.expandedIndexes.push(parseInt(a));this._applyExpandedIndexes()}else{if(c.isArray(a)){this.expandedIndexes=a}else{this.expandedIndexes=new Array();this.expandedIndexes.push(a)}this._applyExpandedIndexes()}return this.expandedIndexes},expandAt:function(t){var o=this;if(this.expandMode=="single"||this.expandMode=="singleFitHeight"||this.expandMode=="toggle"){c.each(this.items,function(e,d){if(e!=t){o.collapseAt(e)}})}var n=this.items[t];if(n.disabled==false&&n.expanded==false&&n._expandChecker==1){var o=this;n._expandChecker=0;this._raiseEvent("0",{item:t});n._header.removeClass(this.toThemeProperty("jqx-fill-state-normal"));n._header.addClass(this.toThemeProperty("jqx-fill-state-pressed"));n._header.addClass(this.toThemeProperty("jqx-expander-header-expanded"));n._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down"));n._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down-hover"));n._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-up-hover"));n._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down-selected"));n._arrow.removeClass(this.toThemeProperty("jqx-expander-arrow-top"));n._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up"));n._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up-selected"));n._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-bottom"));n._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-expanded"));if(this.heightFlag==false){this.host.css({"overflow-x":"hidden","overflow-y":"hidden"})}this.eCFlag=1;switch(this.animationType){case"slide":var q=n._content;var a=q.height();var u={};u.height=u.paddingTop=u.paddingBottom=u.borderTopWidth=u.borderBottomWidth="show";var l=0;var s=q.outerHeight();if(c.jqx.browser.msie&&c.jqx.browser.version<9){var u={};u.height=u.paddingTop=u.paddingBottom="show"}q.animate(u,{duration:this.expandAnimationDuration,easing:this.easing,step:function(e,d){d.now=Math.round(e);if(d.prop!=="height"){l+=d.now}else{if(o._collapseContent){d.now=Math.round(s-o._collapseContent.outerHeight()-l);l=0}else{d.now=Math.round(e)}}},complete:function(){n.expanded=true;c.jqx.aria(n._header,"aria-expanded",true);c.jqx.aria(n._content,"aria-hidden",false);o._updateExpandedIndexes();o._raiseEvent("1",{item:t});o._checkHeight();if(o.heightFlag==true){o.host.css({"overflow-x":"hidden","overflow-y":"auto"})}if(o.initContent&&n._initialized==false){o.initContent(t);n._initialized=true}o.eCFlag=0}});break;case"fade":setTimeout(function(){n._content.fadeIn(this.expandAnimationDuration,function(){n.expanded=true;c.jqx.aria(n._header,"aria-expanded",true);c.jqx.aria(n._content,"aria-hidden",false);o._updateExpandedIndexes();o._raiseEvent("1",{item:t});o._checkHeight();if(o.heightFlag==true){o.host.css({"overflow-x":"hidden","overflow-y":"auto"})}if(o.initContent&&n._initialized==false){o.initContent(t);n._initialized=true}o.eCFlag=0})},this.collapseAnimationDuration);break;case"none":n._content.css("display","inherit");n.expanded=true;c.jqx.aria(n._header,"aria-expanded",true);c.jqx.aria(n._content,"aria-hidden",false);this._updateExpandedIndexes();this._raiseEvent("1",{item:t});this._checkHeight();if(this.heightFlag==true){this.host.css({"overflow-x":"hidden","overflow-y":"auto"})}if(this.initContent&&n._initialized==false){this.initContent(t);n._initialized=true}this.eCFlag=0;break}}},collapseAt:function(a){var h=this.items[a];if(h.disabled==false&&h.expanded==true&&h._expandChecker==0){var n=this;h._expandChecker=1;this._raiseEvent("2",{item:a});h._header.removeClass(this.toThemeProperty("jqx-fill-state-pressed"));h._header.removeClass(this.toThemeProperty("jqx-expander-header-expanded"));h._header.addClass(this.toThemeProperty("jqx-fill-state-normal"));h._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-up"));h._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-up-selected"));h._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down-selected"));h._arrow.removeClass(this.toThemeProperty("jqx-expander-arrow-bottom"));h._arrow.removeClass(this.toThemeProperty("jqx-expander-arrow-expanded"));h._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down"));h._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-top"));if(this.heightFlag==false){this.host.css({"overflow-x":"hidden","overflow-y":"hidden"})}this.eCFlag=1;this._collapseContent=h._content;switch(this.animationType){case"slide":var l={};l.height=l.paddingTop=l.paddingBottom=l.borderTopWidth=l.borderBottomWidth="hide";if(c.jqx.browser.msie&&c.jqx.browser.version<9){var l={};l.height=l.paddingTop=l.paddingBottom="hide"}var o=h._content;o.animate(l,{duration:this.collapseAnimationDuration,step:function(e,d){d.now=Math.round(e)},easing:this.easing,complete:function(){h.expanded=false;o.hide();c.jqx.aria(h._header,"aria-expanded",false);c.jqx.aria(h._content,"aria-hidden",true);n._updateExpandedIndexes();n._raiseEvent("3",{item:a});n._checkHeight();if(n.heightFlag==true){n.host.css({"overflow-x":"hidden","overflow-y":"auto"})}n.eCFlag=0;n._collapseContent=null}});break;case"fade":h._content.fadeOut(this.collapseAnimationDuration,function(){h.expanded=false;c.jqx.aria(h._header,"aria-expanded",false);c.jqx.aria(h._content,"aria-hidden",true);n._updateExpandedIndexes();n._raiseEvent("3",{item:a});n._checkHeight();if(n.heightFlag==true){n.host.css({"overflow-x":"hidden","overflow-y":"auto"})}n.eCFlag=0});break;case"none":h._content.css("display","none");h.expanded=false;c.jqx.aria(h._header,"aria-expanded",false);c.jqx.aria(h._content,"aria-hidden",true);this._updateExpandedIndexes();this._raiseEvent("3",{item:a});this._checkHeight();if(this.heightFlag==true){this.host.css({"overflow-x":"hidden","overflow-y":"auto"})}this.eCFlag=0;break}}},setHeaderContentAt:function(a,d){this.items[a]._header_text.html(d)},getHeaderContentAt:function(a){return this.items[a]._header_text.html()},setContentAt:function(a,d){this.items[a]._content.html(d);this._checkContent(a)},getContentAt:function(a){return this.items[a]._content.html()},showArrowAt:function(a){this.items[a]._arrow.css("display","block")},hideArrowAt:function(a){this.items[a]._arrow.css("display","none")},enable:function(){this.disabled=false;c.each(this.items,function(a,d){this.disabled=false});this._enabledDisabledCheck();this.refresh();c.jqx.aria(this,"aria-disabled",false)},disable:function(){this.disabled=true;c.each(this.items,function(a,d){this.disabled=true});this._enabledDisabledCheck();this.refresh();c.jqx.aria(this,"aria-disabled",true)},enableAt:function(a){this.items[a].disabled=false;this.refresh()},disableAt:function(a){this.items[a].disabled=true;this.refresh()},invalidate:function(){this.refresh()},refresh:function(a){if(a==true){return}this._removeHandlers();if(this.showArrow==true){c.each(this.items,function(l,f){var h=this;h._arrow.css("display","block")})}else{c.each(this.items,function(l,f){var h=this;h._arrow.css("display","none")})}this._updateExpandedIndexes();this._setTheme();this._setSize();this._toggle();this._keyBoard()},render:function(){this.widgetID=this.element.id;var t=this;if(this._expandModes.indexOf(this.expandMode)==-1){this.expandMode="singleFitHeight"}c.jqx.utilities.resize(this.host,function(){t._setSize()});this.host.attr("role","tablist");if(this.items){this._removeHandlers();c.each(this.items,function(){this._header.removeClass();this._header.attr("tabindex",null);this._content.attr("tabindex",null);this._header[0].className="";this._header_text.removeClass();this._header_text[0].className="";this._header.css("margin-top",0);this._header[0].innerHTML=this._header_text[0].innerHTML})}this.items=new Array();var v=this.host.children().length;var s="Invalid jqxNavigationBar structure. Please add an even number of child div elements that will represent each item's header and content.";try{if(v%2!=0){throw s}}catch(B){alert(B)}var A="Invalid jqxNavigationBar structure. Please make sure all the children elements of the navigationbar are divs.";try{var C=this.host.children();for(var u=0;u<v;u++){if(C[u].tagName.toLowerCase()!="div"){throw A}}}catch(B){alert(B)}var q;for(var a=0;a<v;a+=2){q=this.host.children("div:eq("+a+")");q.wrap("<div></div>")}var u=0;var z;for(var w=0;w<v/2;w++){z=u+1;this.items[w]=new Object();this.items[w]._header=this.host.children("div:eq("+u+")");this.items[w]._header.attr("role","tab");this.items[w]._content=this.host.children("div:eq("+z+")");this.items[w]._content.attr("role","tabpanel");u+=2}var D=this.expandedIndexes.length;c.each(this.items,function(e,d){this.expandedFlag=false;this.focusedH=false;this.focusedC=false});if(this.items&&this.items.length==0){return}if(this.expandMode=="single"||this.expandMode=="singleFitHeight"||this.expandMode=="toggle"||this.expandMode=="none"){c.each(this.items,function(f,d){var e=this;e.expanded=false});if(D!=0){this.items[this.expandedIndexes[0]].expanded=true}else{if(D==0&&(this.expandMode=="single"||this.expandMode=="singleFitHeight")){this.items[0].expanded=true}}}else{if(this.expandMode=="multiple"){if(D!=0){c.each(this.items,function(e,f){var h=this;for(var d=0;d<D;d++){if(t.expandedIndexes[d]==e){h.expanded=true;break}else{h.expanded=false}}})}else{c.each(this.items,function(f,d){var e=this;e.expanded=false})}}else{if(this.expandMode=="none"){c.each(this.items,function(f,d){var e=this;e.expanded=false})}}}this._enabledDisabledCheck();c.each(this.items,function(f,d){var e=this;e._header_text=e._header.children("div:eq(0)");if(!t.rtl){e._header_text.addClass(t.toThemeProperty("jqx-expander-header-content"))}else{e._header_text.addClass(t.toThemeProperty("jqx-expander-header-content-rtl"))}e._header.append("<div></div>");e._arrow=e._header.children("div:eq(1)");if(t.showArrow==true){e._arrow.css("display","block")}else{e._arrow.css("display","none")}});c.each(this.items,function(f,d){var e=this;if(e.expanded==true){e._arrow.addClass(t.toThemeProperty("jqx-icon-arrow-up"));e._arrow.addClass(t.toThemeProperty("jqx-icon-arrow-up-selected"));e._arrow.addClass(t.toThemeProperty("jqx-expander-arrow-bottom"));e._arrow.addClass(t.toThemeProperty("jqx-expander-arrow-expanded"));if(t.initContent){setTimeout(function(){t.initContent(f)},10)}e._initialized=true;e._expandChecker=0;c.jqx.aria(e._header,"aria-expanded",true);c.jqx.aria(e._content,"aria-hidden",false)}else{if(e.expanded==false){e._arrow.addClass(t.toThemeProperty("jqx-icon-arrow-down"));e._arrow.addClass(t.toThemeProperty("jqx-expander-arrow-top"));e._initialized=false;e._expandChecker=1;e._content.css("display","none");c.jqx.aria(e._header,"aria-expanded",false);c.jqx.aria(e._content,"aria-hidden",true)}}});this.tI=0;c.each(this.items,function(f,d){var e=this;if(e._header.attr("tabindex")==undefined){t.tI++;e._header.attr("tabindex",t.tI)}if(e._content.attr("tabindex")==undefined){t.tI++;e._content.attr("tabindex",t.tI)}});this._setTheme();c.each(this.items,function(f,d){var e=this;t._checkContent(f)});this._setSize();this._toggle();this._keyBoard()},insert:function(o,h,n){var a="<div>"+h+"</div><div>"+n+"</div>";if(o!=-1){c(a).insertBefore(this.items[o]._header)}else{var l=this.items.length-1;c(a).insertAfter(this.items[l]._content)}this.render()},add:function(d,a){this.insert(-1,d,a)},update:function(a,e,f){this.setHeaderContentAt(a,e);this.setContentAt(a,f)},remove:function(a){if(isNaN(a)){a=this.items.length-1}if(!this.items[a]){return}this.items[a]._header.remove();this.items[a]._content.remove();this.items.splice(a,1);var d=this.expandedIndexes.indexOf(a);if(d>-1){this.expandedIndexes.splice(d,1)}this.render()},destroy:function(){this._removeHandlers();this.host.remove()},focus:function(){try{c.each(this.items,function(l,f){var h=this;if(h.disabled==false){h._header.focus();return false}})}catch(a){}},_applyExpandedIndexes:function(){var h=this;var l=this.expandedIndexes.length;for(var a=0;a<l;a++){var f=h.expandedIndexes[a];c.each(this.items,function(n,d){var e=this;if(n==f){e.expandedFlag=true;if(e.expanded==false){h.expandAt(n)}if(h.expandMode=="single"||h.expandMode=="singleFitHeight"||h.expandMode=="toggle"||h.expandMode=="none"){return false}}});c.each(this.items,function(n,d){var e=this;if(n!=f&&e.expandedFlag==false){h.collapseAt(n)}})}c.each(this.items,function(e,d){this.expandedFlag=false})},propertyChangedHandler:function(q,o,h,l){var n=q;var a=l;if(o=="disabled"){q._enabledDisabledCheck()}else{if(o=="expandedIndexes"){q._applyExpandedIndexes()}else{q.refresh()}}},_raiseEvent:function(h,n){var q=this.events[h];var l=new c.Event(q);l.owner=this;l.args=n;l.item=l.args.item;try{var a=this.host.trigger(l)}catch(o){}return a},resize:function(d,a){this.width=d;this.height=a;this._setSize()},_setSize:function(){var l=this;this.headersHeight=0;var n=this.items&&this.items.length>0?parseInt(this.items[0]._header.css("padding-left")):0;var h=this.items&&this.items.length>0?parseInt(this.items[0]._header.css("padding-right")):0;var a=2;var o=n+h+a;if(isNaN(o)){o=12}if(this.width=="auto"){this.host.width(this.width)}else{if(this.width!=null&&this.width.toString().indexOf("%")!=-1){this.host.width(this.width)}else{this.host.width(parseInt(this.width)+o)}}this.host.height(this.height);c.each(this.items,function(q,d){var e=this;var f=l.arrowPosition;if(l.rtl){switch(f){case"left":f="right";break;case"right":f="left";break}}if(f=="right"){e._header_text.css({"float":"left","margin-left":"0px"});e._arrow.css({"float":"right",position:"relative"})}else{if(f=="left"){if(l.width=="auto"){e._header_text.css({"float":"left","margin-left":"17px"});e._arrow.css({"float":"left",position:"absolute"})}else{e._header_text.css({"float":"right","margin-left":"0px"});e._arrow.css({"float":"left",position:"relative"})}}}e._header.height("auto");e._header_text.css("min-height",e._arrow.height());l.headersHeight+=e._header.outerHeight();e._arrow.css("margin-top",e._header_text.height()/2-e._arrow.height()/2)});c.each(this.items,function(q,e){var f=this;if(l.height!="auto"){if(l.expandMode=="single"||l.expandMode=="toggle"||l.expandMode=="multiple"){l.host.css({"overflow-x":"hidden","overflow-y":"auto"})}else{if(l.expandMode=="singleFitHeight"){var d=parseInt(f._content.css("padding-top"))+parseInt(f._content.css("padding-bottom"));if(l.height&&l.height.toString().indexOf("%")>=0){f._content.height(l.host.height()-l.headersHeight-d+2)}else{f._content.height(l.host.height()-l.headersHeight-d)}}}}});l._checkHeight()},_toggle:function(){var a=this;if(this._isTouchDevice==false){switch(this.toggleMode){case"click":c.each(this.items,function(l,f){var h=this;if(h.disabled==false){a.addHandler(h._header,"click.navigationbar"+a.widgetID,function(){a.focusedH=true;a._animate(l)})}});break;case"dblclick":c.each(this.items,function(l,f){var h=this;if(h.disabled==false){a.addHandler(h._header,"dblclick.navigationbar"+a.widgetID,function(){a.focusedH=true;a._animate(l)})}});break;case"none":break}}else{if(this.toggleMode!="none"){c.each(this.items,function(l,f){var h=this;if(h.disabled==false){a.addHandler(h._header,c.jqx.mobile.getTouchEventName("touchstart")+"."+a.widgetID,function(){a._animate(l)})}})}else{return}}},_animate:function(l,a){var h=this;this.eCFlag;var f=this.items[l];if(this.expandMode!="none"&&this.eCFlag!=1){if(this.items[l].expanded==true){if(this.expandMode=="multiple"||this.expandMode=="toggle"){this.collapseAt(l)}}else{this.expandAt(l)}if(!h._isTouchDevice){if(a!=true){f._header.addClass(this.toThemeProperty("jqx-fill-state-hover"));f._header.addClass(this.toThemeProperty("jqx-expander-header-hover"));f._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-top-hover"));f._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-down-hover"))}else{f._header.removeClass(this.toThemeProperty("jqx-fill-state-hover"));f._header.removeClass(this.toThemeProperty("jqx-expander-header-hover"));f._arrow.removeClass(this.toThemeProperty("jqx-expander-arrow-top-hover"));f._arrow.removeClass(this.toThemeProperty("jqx-expander-arrow-down-hover"))}}}},_removeHandlers:function(){var a=this;this.removeHandler(this.host,"keydown.navigationbar"+this.widgetID);c.each(this.items,function(l,f){var h=this;a.removeHandler(h._header,"click.navigationbar"+a.widgetID);a.removeHandler(h._header,"dblclick.navigationbar"+a.widgetID);a.removeHandler(h._header,"mouseenter.navigationbar"+a.widgetID);a.removeHandler(h._header,"mouseleave.navigationbar"+a.widgetID);a.removeHandler(h._header,"focus.navigationbar"+a.widgetID);a.removeHandler(h._header,"blur.navigationbar"+a.widgetID);a.removeHandler(h._content,"focus.navigationbar"+a.widgetID);a.removeHandler(h._content,"blur.navigationbar"+a.widgetID);a.removeHandler(h._header_text,"focus.navigationbar"+a.widgetID);a.removeHandler(h._arrow,"focus.navigationbar"+a.widgetID)})},_setTheme:function(){var a=this;this.host.addClass(this.toThemeProperty("jqx-reset"));this.host.addClass(this.toThemeProperty("jqx-widget"));if(this.rtl==true){this.host.addClass(this.toThemeProperty("jqx-rtl"))}c.each(this.items,function(l,f){var h=this;h._header.css("position","relative");h._content.css("position","relative");h._header.addClass(a.toThemeProperty("jqx-widget-header"));h._header.addClass(a.toThemeProperty("jqx-item"));h._content.addClass(a.toThemeProperty("jqx-widget-content"));if(h.disabled==false){h._header.removeClass(a.toThemeProperty("jqx-fill-state-disabled"));h._content.removeClass(a.toThemeProperty("jqx-fill-state-disabled"));if(h.expanded==true){h._header.addClass(a.toThemeProperty("jqx-fill-state-pressed"));h._header.addClass(a.toThemeProperty("jqx-expander-header-expanded"))}else{h._header.addClass(a.toThemeProperty("jqx-fill-state-normal"));h._header.removeClass(a.toThemeProperty("jqx-expander-header-expanded"))}if(!a._isTouchDevice){a.addHandler(h._header,"mouseenter.navigationbar"+a.widgetID,function(){if(h._expandChecker==1){if(!h.focusedH){h._header.css("z-index",5)}h._header.removeClass(a.toThemeProperty("jqx-fill-state-normal"));h._header.removeClass(a.toThemeProperty("jqx-fill-state-pressed"));h._header.addClass(a.toThemeProperty("jqx-fill-state-hover"));h._header.addClass(a.toThemeProperty("jqx-expander-header-hover"));h._arrow.addClass(a.toThemeProperty("jqx-expander-arrow-top-hover"));h._arrow.addClass(a.toThemeProperty("jqx-expander-arrow-down-hover"));if(h.expanded){h._arrow.addClass(a.toThemeProperty("jqx-icon-arrow-up-hover"))}else{h._arrow.addClass(a.toThemeProperty("jqx-icon-arrow-down-hover"))}}});a.addHandler(h._header,"mouseleave.navigationbar"+a.widgetID,function(){if(!h.focusedH){h._header.css("z-index",0)}h._header.removeClass(a.toThemeProperty("jqx-fill-state-hover"));h._header.removeClass(a.toThemeProperty("jqx-expander-header-hover"));h._arrow.removeClass(a.toThemeProperty("jqx-expander-arrow-top-hover"));h._arrow.removeClass(a.toThemeProperty("jqx-expander-arrow-down-hover"));if(h._expandChecker==1){h._header.addClass(a.toThemeProperty("jqx-fill-state-normal"))}else{h._header.addClass(a.toThemeProperty("jqx-fill-state-pressed"))}h._arrow.removeClass(a.toThemeProperty("jqx-icon-arrow-up-hover"));h._arrow.removeClass(a.toThemeProperty("jqx-icon-arrow-down-hover"))})}}else{h._header.addClass(a.toThemeProperty("jqx-fill-state-disabled"));h._content.addClass(a.toThemeProperty("jqx-fill-state-disabled"))}a.host.addClass(a.toThemeProperty("jqx-navigationbar"));h._header.addClass(a.toThemeProperty("jqx-expander-header"));h._content.addClass(a.toThemeProperty("jqx-expander-content"));h._content.addClass(a.toThemeProperty("jqx-expander-content-bottom"));if(l!=0){h._header.css("margin-top",-1)}h._arrow.addClass(a.toThemeProperty("jqx-expander-arrow"))})},_checkContent:function(a){var h=this.items[a];var l=h._content;this._cntntEmpty=/^\s*$/.test(this.items[a]._content.html());if(this._cntntEmpty==true){l.css("display","none");l.height(0);l.addClass(this.toThemeProperty("jqx-expander-content-empty"))}else{if(h.expanded){l.css("display","block")}if(this.expandMode=="singleFitHeight"){var f=1;if(a!=0){f=2}l.height(this.host.height()-this.headersHeight+f)}else{l.height("auto")}l.removeClass(this.toThemeProperty("jqx-expander-content-empty"))}},_checkHeight:function(){var l=this;this.totalHeight=0;this.heightFlag;var n=this.items&&this.items.length>0?parseInt(this.items[0]._header.css("padding-left")):0;var h=this.items&&this.items.length>0?parseInt(this.items[0]._header.css("padding-right")):0;var a=2;var q=n+h+a;if(isNaN(q)){q=12}var o=17;c.each(this.items,function(f,d){var e=this;l.totalHeight+=(e.expanded?e._content.outerHeight():0)+e._header.outerHeight()});if(this.width!="auto"&&this.height!="auto"&&this.expandMode!="singleFitHeight"){if(this.totalHeight>this.host.height()){this.host.width(this.width+q+o);this.heightFlag=true}else{this.host.width(this.width+q);this.heightFlag=false}}},_enabledDisabledCheck:function(){var a=this;if(this.disabled==true){c.each(this.items,function(l,f){var h=this;h.disabled=true})}else{c.each(this.items,function(l,f){var h=this;h.disabled=false})}},_updateExpandedIndexes:function(){var a=this;this.expandedIndexes=[];c.each(this.items,function(l,f){var h=this;if(h.expanded==true){a.expandedIndexes.push(l);if(a.expandMode=="single"||a.expandMode=="singleFitHeight"||a.expandMode=="toggle"||a.expandMode=="none"){return false}}})},_keyBoard:function(){var a=this;this._focus();this.addHandler(this.host,"keydown.navigationbar"+this.widgetID,function(f){var e=false;c.each(a.items,function(o,d){var l=this;var n=a.items.length;if((l.focusedH==true||l.focusedC==true)&&l.disabled==false){switch(f.keyCode){case 13:case 32:if(a.toggleMode!="none"){if(l.focusedH==true){a._animate(o,true)}e=true}break;case 37:if(o!=0){a.items[o-1]._header.focus()}else{var n=a.items.length;a.items[n-1]._header.focus()}e=true;break;case 38:if(f.ctrlKey==false){if(o!=0){a.items[o-1]._header.focus()}else{var n=a.items.length;a.items[n-1]._header.focus()}}else{if(l.focusedC==true){l._header.focus()}}e=true;break;case 39:if(o!=n-1){a.items[o+1]._header.focus()}else{a.items[0]._header.focus()}e=true;break;case 40:if(f.ctrlKey==false){if(o!=n-1){a.items[o+1]._header.focus()}else{a.items[0]._header.focus()}}else{if(l.expanded==true){l._content.focus()}}e=true;break;case 35:if(o!=n-1){a.items[n-1]._header.focus()}e=true;break;case 36:if(o!=0){a.items[0]._header.focus()}e=true;break}return false}});if(e&&f.preventDefault){f.preventDefault()}return !e})},_focus:function(){var a=this;if(this.disabled){return}c.each(this.items,function(l,f){var h=this;a.addHandler(h._header,"focus.navigationbar"+this.widgetID,function(){h.focusedH=true;c.jqx.aria(h._header,"aria-selected",true);h._header.addClass(a.toThemeProperty("jqx-fill-state-focus"));h._header.css("z-index",10)});a.addHandler(h._header,"blur.navigationbar"+this.widgetID,function(){h.focusedH=false;c.jqx.aria(h._header,"aria-selected",false);if(h._header.hasClass("jqx-expander-header-hover")){h._header.css("z-index",5)}else{h._header.css("z-index",0)}h._header.removeClass(a.toThemeProperty("jqx-fill-state-focus"))});a.addHandler(h._header_text,"focus.navigationbar"+this.widgetID,function(){h._header.focus()});a.addHandler(h._arrow,"focus.navigationbar"+this.widgetID,function(){h._header.focus()});a.addHandler(h._content,"focus.navigationbar"+this.widgetID,function(){h.focusedC=true;h._content.addClass(a.toThemeProperty("jqx-fill-state-focus"))});a.addHandler(h._content,"blur.navigationbar"+this.widgetID,function(){h.focusedC=false;h._content.removeClass(a.toThemeProperty("jqx-fill-state-focus"))})})}})})(jqxBaseFramework);(function(c){c.jqx.jqxWidget("jqxNumberInput","",{});c.extend(c.jqx._jqxNumberInput.prototype,{defineInstance:function(){var a={value:null,decimal:0,min:-99999999,max:99999999,width:200,validationMessage:"Invalid value",height:25,textAlign:"right",readOnly:false,promptChar:"_",decimalDigits:2,decimalSeparator:".",groupSeparator:",",groupSize:3,symbol:"",symbolPosition:"left",digits:8,negative:false,negativeSymbol:"-",disabled:false,inputMode:"advanced",spinButtons:false,spinButtonsWidth:18,spinButtonsStep:1,autoValidate:true,spinMode:"advanced",enableMouseWheel:true,touchMode:"auto",allowNull:true,placeHolder:"",changeType:null,rtl:false,events:["valueChanged","textchanged","mousedown","mouseup","keydown","keyup","keypress","change"],aria:{"aria-valuenow":{name:"decimal",type:"number"},"aria-valuemin":{name:"min",type:"number"},"aria-valuemax":{name:"max",type:"number"},"aria-disabled":{name:"disabled",type:"boolean"}},invalidArgumentExceptions:["invalid argument exception"]};c.extend(true,this,a);return a},createInstance:function(a){var d=this.host.attr("value");if(d!=undefined){this.decimal=d}if(this.value!=null){this.decimal=this.value}this.render()},_doTouchHandling:function(){var n=this;var h=n.savedValue;if(!n.parsing){n.parsing=true}if(n.parsing){if(n.numberInput.val()&&n.numberInput.val().indexOf("-")==0){n.setvalue("negative",true)}else{n.setvalue("negative",false)}var l=n.numberInput.val();for(var q=0;q<l.length-1;q++){var o=l.substring(q,q+1);if(isNaN(parseFloat(o))&&o!=n.symbol&&o!="%"&&o!="$"&&o!="."&&o!=","&&o!="-"){n.numberInput[0].value=h;n.parsing=false;return}}n.ValueString=n.GetValueString(n.numberInput.val(),n.decimalSeparator,n.decimalSeparator!="");n.ValueString=new Number(n.ValueString).toFixed(n.decimalDigits);n._parseDecimalInSimpleMode();n.decimal=n.ValueString;var a=n.getvalue("negative");if(a){n.decimal="-"+n.ValueString}n.parsing=false}},render:function(){this.host.attr({role:"spinbutton"});this.host.attr("data-role","input");c.jqx.aria(this);c.jqx.aria(this,"aria-multiline",false);var s=this;if(this.officeMode||(this.theme&&this.theme.indexOf("office")!=-1)){if(this.spinButtonsWidth==18){this.spinButtonsWidth=15}}if(c.jqx.mobile.isTouchDevice()||this.touchMode===true){this.inputMode="textbox";this.spinMode="simple"}if(this.decimalSeparator==""){this.decimalSeparator=" "}this.host.addClass(this.toThemeProperty("jqx-input"));this.host.addClass(this.toThemeProperty("jqx-rc-all"));this.host.addClass(this.toThemeProperty("jqx-widget"));this.host.addClass(this.toThemeProperty("jqx-widget-content"));this.host.addClass(this.toThemeProperty("jqx-numberinput"));if(this.spinButtons){this._spinButtons()}else{this.numberInput=c("<input autocomplete='off' type='textarea'/>").appendTo(this.host);this.numberInput.addClass(this.toThemeProperty("jqx-input-content"));this.numberInput.addClass(this.toThemeProperty("jqx-widget-content"))}this.numberInput.attr("placeholder",this.placeHolder);var u=this.host.attr("name");if(u){this.numberInput.attr("name",u)}if(this.host.attr("tabindex")){this.numberInput.attr("tabindex",this.host.attr("tabindex"));this.host.removeAttr("tabindex")}if(c.jqx.mobile.isTouchDevice()||this.touchMode===true||this.inputMode=="textbox"){var s=this;s.savedValue="";this.addHandler(this.numberInput,"focus",function(){s.savedValue=s.numberInput[0].value});this.addHandler(this.numberInput,"change",function(){s._doTouchHandling()})}var o=c.data(this.host[0],"jqxNumberInput");o.jqxNumberInput=this;var s=this;if(this.host.parents("form").length>0){this.addHandler(this.host.parents("form"),"reset",function(){setTimeout(function(){s.setDecimal(0)},10)})}this.propertyChangeMap.disabled=function(h,e,f,d){if(d){h.numberInput.addClass(v.toThemeProperty("jqx-input-disabled"));h.numberInput.attr("disabled",true)}else{h.host.removeClass(v.toThemeProperty("jqx-input-disabled"));h.numberInput.attr("disabled",false)}if(h.spinButtons&&h.host.jqxRepeatButton){h.upbutton.jqxRepeatButton({disabled:d});h.downbutton.jqxRepeatButton({disabled:d})}};if(this.disabled){this.numberInput.addClass(this.toThemeProperty("jqx-input-disabled"));this.numberInput.attr("disabled",true);this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"))}this.selectedText="";this.decimalSeparatorPosition=-1;var n=this.element.id;var t=this.element;var v=this;this.oldValue=this._value();this.items=new Array();var q=this.value;var a=this.decimal;this._initializeLiterals();this._render();this.setDecimal(a);var s=this;setTimeout(function(){},100);this._addHandlers();c.jqx.utilities.resize(this.host,function(){s._render()})},refresh:function(a){if(!a){this._render()}},wheel:function(h,l){if(!l.enableMouseWheel){return}l.changeType="mouse";var f=0;if(!h){h=window.event}if(h.originalEvent&&h.originalEvent.wheelDelta){h.wheelDelta=h.originalEvent.wheelDelta}if(h.wheelDelta){f=h.wheelDelta/120}else{if(h.detail){f=-h.detail/3}}if(f){var a=l._handleDelta(f);if(h.preventDefault){h.preventDefault()}if(h.originalEvent!=null){h.originalEvent.mouseHandled=true}if(h.stopPropagation!=undefined){h.stopPropagation()}if(a){a=false;h.returnValue=a;return a}else{return false}}if(h.preventDefault){h.preventDefault()}h.returnValue=false},_handleDelta:function(a){if(a<0){this.spinDown()}else{this.spinUp()}return true},_addHandlers:function(){var a=this;this.addHandler(this.numberInput,"paste",function(e){var h=a._selection();e.preventDefault();if(e.originalEvent.clipboardData){content=(e.originalEvent||e).clipboardData.getData("text/plain")}else{if(window.clipboardData){content=window.clipboardData.getData("Text")}}this.selectedText=content;c.data(document.body,"jqxSelection",this.selectedText);if(a.inputMode!="simple"){a._pasteSelectedText()}else{a.val(content)}setTimeout(function(){a._setSelectionStart(h.start)})});this.addHandler(this.numberInput,"mousedown",function(e){return a._raiseEvent(2,e)});this._mousewheelfunc=this._mousewheelfunc||function(e){if(!a.editcell){a.wheel(e,a);return false}};this.removeHandler(this.host,"mousewheel",this._mousewheelfunc);this.addHandler(this.host,"mousewheel",this._mousewheelfunc);var d="";this.addHandler(this.numberInput,"focus",function(e){c.data(a.numberInput,"selectionstart",a._selection().start);a.host.addClass(a.toThemeProperty("jqx-fill-state-focus"));if(a.spincontainer){a.spincontainer.addClass(a.toThemeProperty("jqx-numberinput-focus"))}d=a.numberInput.val()});this.addHandler(this.numberInput,"blur",function(l){if(a.inputMode=="simple"){a._exitSimpleInputMode(l,a,false,d)}if(a.autoValidate){var h=parseFloat(a.decimal);var n=a.getvalue("negative");if(n&&a.decimal>0){h=-parseFloat(a.decimal)}if(h>a.max){a._disableSetSelection=true;a.setDecimal(a.max);a._disableSetSelection=false}if(h<a.min){a._disableSetSelection=true;a.setDecimal(a.min);a._disableSetSelection=false}}a.host.removeClass(a.toThemeProperty("jqx-fill-state-focus"));if(a.spincontainer){a.spincontainer.removeClass(a.toThemeProperty("jqx-numberinput-focus"))}if(a.numberInput.val()!=d){a._raiseEvent(7,l);c.jqx.aria(a,"aria-valuenow",a.decimal);a.element.value=a.decimal}return true});this.addHandler(this.numberInput,"mouseup",function(e){return a._raiseEvent(3,e)});this.addHandler(this.numberInput,"keydown",function(e){a.changeType="keyboard";return a._raiseEvent(4,e)});this.addHandler(this.numberInput,"keyup",function(e){return a._raiseEvent(5,e)});this.addHandler(this.numberInput,"keypress",function(e){return a._raiseEvent(6,e)})},focus:function(){try{this.numberInput.focus()}catch(a){}},_removeHandlers:function(){var a=this;this.removeHandler(this.numberInput,"mousedown");var d=c.jqx.mobile.isOperaMiniMobileBrowser();if(d){this.removeHandler(c(document),"click."+this.element.id,a._exitSimpleInputMode,a)}this.removeHandler(this.numberInput,"paste");this.removeHandler(this.numberInput,"focus");this.removeHandler(this.numberInput,"blur");this.removeHandler(this.numberInput,"mouseup");this.removeHandler(this.numberInput,"keydown");this.removeHandler(this.numberInput,"keyup");this.removeHandler(this.numberInput,"keypress")},_spinButtons:function(){if(this.host.jqxRepeatButton){if(!this.numberInput){this.numberInput=c("<input autocomplete='off' style='position: relative; float: left;' type='textarea'/>");this.numberInput.appendTo(this.host);this.numberInput.addClass(this.toThemeProperty("jqx-input-content"));this.numberInput.addClass(this.toThemeProperty("jqx-widget-content"))}else{this.numberInput.css("float","left")}if(this.spincontainer){if(this.upbutton){this.upbutton.jqxRepeatButton("destroy")}if(this.downbutton){this.downbutton.jqxRepeatButton("destroy")}this.spincontainer.remove()}this.spincontainer=c('<div style="float: right; height: 100%; overflow: hidden; position: relative;"></div>');if(this.rtl){this.spincontainer.css("float","right");this.numberInput.css("float","right");this.spincontainer.css("left","-1px")}this.host.append(this.spincontainer);this.upbutton=c('<div style="overflow: hidden; padding: 0px; margin-left: -1px; position: relative;"><div></div></div>');this.spincontainer.append(this.upbutton);this.upbutton.jqxRepeatButton({overrideTheme:true,disabled:this.disabled,roundedCorners:"top-right"});this.downbutton=c('<div style="overflow: hidden; padding: 0px; margin-left: -1px; position: relative;"><div></div></div>');this.spincontainer.append(this.downbutton);this.downbutton.jqxRepeatButton({overrideTheme:true,disabled:this.disabled,roundedCorners:"bottom-right"});var e=this;this.downbutton.addClass(this.toThemeProperty("jqx-fill-state-normal"));this.upbutton.addClass(this.toThemeProperty("jqx-fill-state-normal"));this.upbutton.addClass(this.toThemeProperty("jqx-rc-tr"));this.downbutton.addClass(this.toThemeProperty("jqx-rc-br"));this.addHandler(this.downbutton,"mouseup",function(d){if(!e.disabled){e.downbutton.removeClass(e.toThemeProperty("jqx-fill-state-pressed"));e._downArrow.removeClass(e.toThemeProperty("jqx-icon-arrow-down-selected"))}});this.addHandler(this.upbutton,"mouseup",function(d){if(!e.disabled){e.upbutton.removeClass(e.toThemeProperty("jqx-fill-state-pressed"));e._upArrow.removeClass(e.toThemeProperty("jqx-icon-arrow-up-selected"))}});this.removeHandler(c(document),"mouseup."+this.element.id);this.addHandler(c(document),"mouseup."+this.element.id,function(d){e.upbutton.removeClass(e.toThemeProperty("jqx-fill-state-pressed"));e._upArrow.removeClass(e.toThemeProperty("jqx-icon-arrow-up-selected"));e.downbutton.removeClass(e.toThemeProperty("jqx-fill-state-pressed"));e._downArrow.removeClass(e.toThemeProperty("jqx-icon-arrow-down-selected"))});this.addHandler(this.downbutton,"mousedown",function(d){if(!e.disabled){if(c.jqx.browser.msie&&c.jqx.browser.version<9){e._inputSelection=e._selection()}e.downbutton.addClass(e.toThemeProperty("jqx-fill-state-pressed"));e._downArrow.addClass(e.toThemeProperty("jqx-icon-arrow-down-selected"));d.preventDefault();d.stopPropagation();return false}});this.addHandler(this.upbutton,"mousedown",function(d){if(!e.disabled){if(c.jqx.browser.msie&&c.jqx.browser.version<9){e._inputSelection=e._selection()}e.upbutton.addClass(e.toThemeProperty("jqx-fill-state-pressed"));e._upArrow.addClass(e.toThemeProperty("jqx-icon-arrow-up-selected"));d.preventDefault();d.stopPropagation();return false}});this.addHandler(this.upbutton,"mouseenter",function(d){e.upbutton.addClass(e.toThemeProperty("jqx-fill-state-hover"));e._upArrow.addClass(e.toThemeProperty("jqx-icon-arrow-up-hover"))});this.addHandler(this.upbutton,"mouseleave",function(d){e.upbutton.removeClass(e.toThemeProperty("jqx-fill-state-hover"));e._upArrow.removeClass(e.toThemeProperty("jqx-icon-arrow-up-hover"))});this.addHandler(this.downbutton,"mouseenter",function(d){e.downbutton.addClass(e.toThemeProperty("jqx-fill-state-hover"));e._downArrow.addClass(e.toThemeProperty("jqx-icon-arrow-down-hover"))});this.addHandler(this.downbutton,"mouseleave",function(d){e.downbutton.removeClass(e.toThemeProperty("jqx-fill-state-hover"));e._downArrow.removeClass(e.toThemeProperty("jqx-icon-arrow-down-hover"))});this.upbutton.css("border-width","0px");this.downbutton.css("border-width","0px");if(this.disabled){this.upbutton[0].disabled=true;this.downbutton[0].disabled=true}else{this.upbutton[0].disabled=false;this.downbutton[0].disabled=false}this.spincontainer.addClass(this.toThemeProperty("jqx-input"));this.spincontainer.addClass(this.toThemeProperty("jqx-rc-r"));this.spincontainer.css("border-width","0px");if(!this.rtl){this.spincontainer.css("border-left-width","1px")}else{this.spincontainer.css("border-right-width","1px")}this._upArrow=this.upbutton.find("div");this._downArrow=this.downbutton.find("div");this._upArrow.addClass(this.toThemeProperty("jqx-icon-arrow-up"));this._downArrow.addClass(this.toThemeProperty("jqx-icon-arrow-down"));this._upArrow.addClass(this.toThemeProperty("jqx-input-icon"));this._downArrow.addClass(this.toThemeProperty("jqx-input-icon"));var e=this;this._upArrow.hover(function(){if(!e.disabled){e._upArrow.addClass(e.toThemeProperty("jqx-icon-arrow-up-hover"))}},function(){e._upArrow.removeClass(e.toThemeProperty("jqx-icon-arrow-up-hover"))});this._downArrow.hover(function(){if(!e.disabled){e._downArrow.addClass(e.toThemeProperty("jqx-icon-arrow-down-hover"))}},function(){e._downArrow.removeClass(e.toThemeProperty("jqx-icon-arrow-down-hover"))});var a=c.jqx.mobile.isTouchDevice();var f="click";if(a){f=c.jqx.mobile.getTouchEventName("touchstart")}if(a){this.addHandler(this.downbutton,"click",function(d){e.spinDown()});this.addHandler(this.upbutton,"click",function(d){e.spinUp()})}this.addHandler(this.downbutton,f,function(d){if(!a){if(e._selection().start==0){e._setSelectionStart(e.numberInput.val().length)}if(c.jqx.browser.msie&&c.jqx.browser.version<9){e._setSelectionStart(e._inputSelection.start)}}else{d.preventDefault();d.stopPropagation()}e.spinDown();return false});this.addHandler(this.upbutton,f,function(d){if(!a){if(e._selection().start==0){e._setSelectionStart(e.numberInput.val().length)}if(c.jqx.browser.msie&&c.jqx.browser.version<9){e._setSelectionStart(e._inputSelection.start)}}else{d.preventDefault();d.stopPropagation()}e.spinUp();return false})}else{throw new Error("jqxNumberInput: Missing reference to jqxbuttons.js.")}},spinDown:function(){var z=this;var A=this.decimal;if(z.spinMode=="none"){return}if(this.decimal==null){this.setDecimal(0);return}var J=this.getvalue("negative");var M=J?-1:0;if(c.jqx.mobile.isTouchDevice()||this.inputMode=="textbox"){z._doTouchHandling()}if(!z.disabled){var O=this._selection();var a=this.decimal;var C=this.getDecimal();if(C<this.min){C=this.min;this.setDecimal(this.min);this._setSelectionStart(O.start);this.spinDown();return}else{if(C>this.max){C=this.max;this.setDecimal(this.max);this._setSelectionStart(O.start);this.spinDown();return}}if(z.spinButtonsStep<0){z.spinButtonsStep=1}var H=parseInt(z.decimal)-z.spinButtonsStep;H=H.toString().length;var F=M+H<=z.digits;if(z.spinMode!="advanced"){if(C-z.spinButtonsStep>=z.min&&F){var K=1;for(E=0;E<z.decimalDigits;E++){K=K*10}var G=(K*C)-(K*z.spinButtonsStep);G=G/K;G=this._parseDecimalValueToEditorValue(G);z.setDecimal(G)}}else{var N=this._getspindecimal();var B=this._getSeparatorPosition();var C=parseFloat(N.decimal);if(z.spinButtonsStep<0){z.spinButtonsStep=1}var H=parseInt(C)-z.spinButtonsStep;H=H.toString().length;var F=M+H<=z.digits;var K=1;var I=N.decimal.indexOf(".");if(I!=-1){var D=N.decimal.length-I-1;var K=1;for(var E=0;E<D;E++){K=K*10}C-=new Number(z.spinButtonsStep/K);C=C.toFixed(D);var I=C.toString().indexOf(".");if(I==-1){C=C.toString()+"."}var L=C.toString()+N.afterdecimal;L=new Number(L);L=L.toFixed(z.decimalDigits);if(L>=z.min){L=this._parseDecimalValueToEditorValue(L);z.setDecimal(L)}}else{if(C-z.spinButtonsStep>=z.min&&F){var G=(K*C)-(K*z.spinButtonsStep);G=G/K;var L=G.toString()+N.afterdecimal;if(L>=z.min){L=this._parseDecimalValueToEditorValue(L);z.setDecimal(L)}}}}if(L==undefined||this.inputMode!="simple"){this._setSelectionStart(O.start);z.savedValue=z.numberInput[0].value;if(A!=this.decimal){if(c.jqx.mobile.isTouchDevice()){this._raiseEvent(0,{})}this._raiseEvent(7,{})}c.jqx.aria(self,"aria-valuenow",this.decimal);return}L=this.decimal.toString();var J=this.getvalue("negative");if(M==0&&J){this._setSelectionStart(O.start+1)}else{if((L!=undefined&&(a==undefined||a.toString().length==L.length))){this._setSelectionStart(O.start)}else{if(J){this._setSelectionStart(O.start+1)}else{this._setSelectionStart(O.start-1)}}}if(A!=this.decimal){if(c.jqx.mobile.isTouchDevice()){this._raiseEvent(0,{})}this._raiseEvent(7,{})}c.jqx.aria(self,"aria-valuenow",this.decimal)}},_getspindecimal:function(){var d=this._selection();var a="";var v=this._getSeparatorPosition();var F=this._getVisibleItems();var C=this._getHiddenPrefixCount();var G=this.numberInput.val();if(this.numberInput.val().length==d.start&&d.length==0){this._setSelection(d.start,d.start+1);d=this._selection()}var w=this.inputMode!="advanced";for(var D=0;D<d.start;D++){if(w){var u=G.substring(D,D+1);var z=(!isNaN(parseInt(u)));if(z){a+=u}if(u==this.decimalSeparator){a+=u}continue}if(F[D].canEdit&&F[D].character!=this.promptChar){a+=F[D].character}else{if(!F[D].canEdit&&this.decimalSeparatorPosition!=-1&&F[D]==F[this.decimalSeparatorPosition-C]){if(a.length==0){a="0"}a+=F[D].character}}}var A="";for(var D=d.start;D<F.length;D++){if(w){var u=G.substring(D,D+1);var z=(!isNaN(parseInt(u)));if(z){A+=u}if(u==this.decimalSeparator){A+=u}continue}if(F[D].canEdit&&F[D].character!=this.promptChar){A+=F[D].character}else{if(!F[D].canEdit&&this.decimalSeparatorPosition!=-1&&F[D]==F[this.decimalSeparatorPosition-C]){A+=F[D].character}}}var E=this.getvalue("negative");var B=E?"-"+this._parseDecimalValue(a).toString():this._parseDecimalValue(a).toString();return{decimal:B,afterdecimal:this._parseDecimalValue(A)}},_parseDecimalValue:function(f){if(this.decimalSeparator!="."){var e=f.toString().indexOf(this.decimalSeparator);if(e>=0){var a=f.toString().substring(0,e)+"."+f.toString().substring(e+1);return a}}return f},_parseDecimalValueToEditorValue:function(f){if(this.decimalSeparator!="."){var e=f.toString().indexOf(".");if(e>=0){var a=f.toString().substring(0,e)+this.decimalSeparator+f.toString().substring(e+1);return a}}return f},spinUp:function(){var A=this;var a=this.decimal;if(A.spinMode=="none"){return}if(this.decimal==null){this.setDecimal(0);return}if(c.jqx.mobile.isTouchDevice()||this.inputMode=="textbox"){A._doTouchHandling()}var G=this.getvalue("negative");var M=G?-1:0;if(!A.disabled){var z=this._selection();var J=A.decimal;var N=A.getDecimal();if(N<this.min){N=this.min;this.setDecimal(this.min);this._setSelectionStart(z.start);this.spinUp();return}else{if(N>this.max){N=this.max;this.setDecimal(this.max);this._setSelectionStart(z.start);this.spinUp();return}}if(A.spinButtonsStep<0){A.spinButtonsStep=1}var E=parseInt(A.decimal)+A.spinButtonsStep;E=E.toString().length;var H=M+E<=A.digits;if(A.spinMode!="advanced"){if(N+A.spinButtonsStep<=A.max&&H){var C=1;for(var D=0;D<A.decimalDigits;D++){C=C*10}var K=(C*N)+(C*A.spinButtonsStep);K=K/C;K=this._parseDecimalValueToEditorValue(K);A.setDecimal(K)}}else{var O=this._getspindecimal();var L=this._getSeparatorPosition();var N=parseFloat(O.decimal);if(A.spinButtonsStep<0){A.spinButtonsStep=1}var E=parseInt(N)+A.spinButtonsStep;E=E.toString().length;var H=M+E<=A.digits;var C=1;var B=O.decimal.indexOf(".");if(B!=-1){var F=O.decimal.length-B-1;var C=1;for(var D=0;D<F;D++){C=C*10}N+=new Number(A.spinButtonsStep/C);N=N.toFixed(F);var B=N.toString().indexOf(".");if(B==-1){N=N.toString()+"."}var I=N.toString()+O.afterdecimal;I=new Number(I);I=I.toFixed(A.decimalDigits);var P=new Number(I).toFixed(A.decimalDigits);if(P<=A.max){I=this._parseDecimalValueToEditorValue(I);A.setDecimal(I)}else{I=undefined}}else{if(N+A.spinButtonsStep<=A.max&&H){var K=(C*N)+(C*A.spinButtonsStep);K=K/C;var I=K.toString()+O.afterdecimal;var P=new Number(I).toFixed(A.decimalDigits);if(P<=A.max){I=this._parseDecimalValueToEditorValue(I);if(G&&I.indexOf("-")==-1){if(O.decimal!="-0"){I="-"+I}}A.setDecimal(I)}else{I=undefined}}}}if(I==undefined||this.inputMode!="simple"){this._setSelectionStart(z.start);A.savedValue=A.numberInput[0].value;if(a!=this.decimal){if(c.jqx.mobile.isTouchDevice()){this._raiseEvent(0,{})}this._raiseEvent(7,{})}c.jqx.aria(self,"aria-valuenow",this.decimal);return}I=this.decimal.toString();var G=this.getvalue("negative");if(M==-1&&!G){this._setSelectionStart(-1+z.start)}else{if((I!=undefined&&(J==undefined||J.toString().length==I.length))){this._setSelectionStart(z.start)}else{if(G){this._setSelectionStart(z.start)}else{this._setSelectionStart(1+z.start)}}}if(a!=this.decimal){if(c.jqx.mobile.isTouchDevice()){this._raiseEvent(0,{})}this._raiseEvent(7,{})}c.jqx.aria(self,"aria-valuenow",this.decimal)}},_exitSimpleInputMode:function(D,s,v,B){if(s==undefined){s=D.data}if(s==null){return}if(v==undefined){if(D.target!=null&&s.element!=null){if((D.target.id!=undefined&&D.target.id.toString().length>0&&s.host.find("#"+D.target.id).length>0)||D.target==s.element){return}}var z=s.host.offset();var A=z.left;var w=z.top;var C=s.host.width();var t=s.host.height();var a=c(D.target).offset();if(a.left>=A&&a.left<=A+C){if(a.top>=w&&a.top<=w+t){return}}}if(c.jqx.mobile.isOperaMiniBrowser()){s.numberInput.attr("readonly",true)}if(s.disabled||s.readOnly){return}var u=c.data(s.numberInput,"simpleInputMode");if(u==null){return}c.data(s.numberInput,"simpleInputMode",null);this._parseDecimalInSimpleMode();return false},_getDecimalInSimpleMode:function(){var e=this.decimal;if(this.decimalSeparator!="."){var a=e.toString().indexOf(this.decimalSeparator);if(a>0){var f=e.toString().substring(0,a);var e=f+"."+e.toString().substring(a+1)}}return e},_parseDecimalInSimpleMode:function(z){var a=this;var B=a.getvalue("negative");var w=this.ValueString;if(w==undefined){w=this.GetValueString(this.numberInput.val(),this.decimalSeparator,this.decimalSeparator!="")}if(this.decimalSeparator!="."){var u=w.toString().indexOf(".");if(u>0){var v=w.toString().substring(0,u);var A=v+this.decimalSeparator+w.toString().substring(u+1);w=A}}var t=B?"-":"";if(this.symbolPosition=="left"){t+=this.symbol}var s=this.digits%this.groupSize;if(s==0){s=this.groupSize}var q=w.toString();if(q.indexOf("-")>=0){q=q.substring(q.indexOf("-")+1)}t+=q;if(this.symbolPosition=="right"){t+=this.symbol}if(z!=false){a.numberInput.val(t)}},_enterSimpleInputMode:function(h,n){if(n==undefined){n=h.data}var l=this._selection();if(n==null){return}var o=n.getvalue("negative");var a=n.decimal;if(o){if(a>0){a=-a}}n.numberInput.val(a);c.data(n.numberInput,"simpleInputMode",true);if(c.jqx.mobile.isOperaMiniBrowser()){n.numberInput.attr("readonly",false)}this._parseDecimalInSimpleMode();this._setSelectionStart(l.start)},setvalue:function(a,d){if(this[a]!==undefined){if(a=="decimal"){this._setDecimal(d)}else{this[a]=d;this.propertyChangedHandler(this,a,d,d)}}},getvalue:function(a){if(a=="decimal"){if(this.negative!=undefined&&this.negative==true){return -Math.abs(this[a])}}if(a in this){return this[a]}return null},_getString:function(){var f="";for(var a=0;a<this.items.length;a++){var e=this.items[a].character;f+=e}return f},_literal:function(h,a,l,f){return{character:h,regex:a,canEdit:l,isSeparator:f}},_initializeLiterals:function(){if(this.inputMode=="textbox"){return}var w=0;var B=this.negativeSymbol.length;for(var C=0;C<B;C++){var z=this.negativeSymbol.substring(C,C+1);var u="";var E=false;var t=null;if(this.negative){t=this._literal(z,u,E,false)}else{t=this._literal("",u,E,false)}this.items[w]=t;w++}var D=this.symbol.length;if(this.symbolPosition=="left"){for(C=0;C<D;C++){var z=this.symbol.substring(C,C+1);var u="";var E=false;var t=this._literal(z,u,E,false);this.items[w]=t;w++}}var A=this.digits%this.groupSize;if(A==0){A=this.groupSize}for(var C=0;C<this.digits;C++){var z=this.promptChar;var u="\\d";var E=true;var t=this._literal(z,u,E,false);this.items[w]=t;w++;if(C<this.digits-1&&this.groupSeparator!=undefined&&this.groupSeparator.length>0){A--;if(A==0){A=this.groupSize;var v=this._literal(this.groupSeparator,"",false,false);this.items[w]=v;w++}}else{if(C==this.digits-1){t.character=0}}}this.decimalSeparatorPosition=-1;if(this.decimalDigits!=undefined&&this.decimalDigits>0){var z=this.decimalSeparator;if(z.length==0){z="."}var t=this._literal(z,"",false,true);this.items[w]=t;this.decimalSeparatorPosition=w;w++;for(var C=0;C<this.decimalDigits;C++){var a=0;var u="\\d";var s=this._literal(a,u,true,false);this.items[w]=s;w++}}if(this.symbolPosition=="right"){for(var C=0;C<D;C++){var z=this.symbol.substring(C,C+1);var u="";var E=false;var t=this._literal(z,u,E);this.items[w]=t;w++}}},_match:function(f,a){var e=new RegExp(a,"i");return e.test(f)},_raiseEvent:function(E,M){var G=this.events[E];var N={};N.owner=this;if(this.host.css("display")=="none"){return true}var e=M.charCode?M.charCode:M.keyCode?M.keyCode:0;var L=true;var J=this.readOnly;var A=this;if(E==3||E==2){if(!this.disabled){if(this.inputMode!="simple"&&this.inputMode!="textbox"){this._handleMouse(M)}else{return true}}}if(E==0){var K=this.getvalue("decimal");if((this.max<K)||(this.min>K)){this.host.addClass(this.toThemeProperty("jqx-input-invalid"))}else{this.host.removeClass(this.toThemeProperty("jqx-input-invalid"));this.host.addClass(this.toThemeProperty("jqx-input"));this.host.addClass(this.toThemeProperty("jqx-rc-all"))}}var D=new c.Event(G);D.owner=this;N.value=this.getvalue("decimal");N.text=this.numberInput.val();D.args=N;if(E==7){N.type=this.changeType;this.changeType=null}if(G!=undefined){if(E!=4&&E!=5&&E!=6){L=this.host.trigger(D)}}var A=this;if(this.inputMode=="textbox"){return L}if(this.inputMode!="simple"){if(E==4){if(J||this.disabled){return false}L=A._handleKeyDown(M,e)}else{if(E==5){if(J||this.disabled){L=false}}else{if(E==6){if(J||this.disabled){return false}L=A._handleKeyPress(M,e)}}}}else{if(E==4||E==5||E==6){if(c.jqx.mobile.isTouchDevice()||this.touchMode===true){return true}if(J||this.disabled){return false}var z=String.fromCharCode(e);var F=parseInt(z);var C=true;if(!M.ctrlKey&&!M.shiftKey&&!M.metaKey){if(e>=65&&e<=90){C=false}}if(E==6&&c.jqx.browser.opera!=undefined){if(e==8){return false}}if(C){if(E==4){C=A._handleSimpleKeyDown(M,e)}if(e==189||e==45||e==109||e==173){var a=A._selection();if(E==4){var I=A.getvalue("negative");if(I==false){A.setvalue("negative",true)}else{A.setvalue("negative",false)}A.decimal=A.ValueString;A._parseDecimalInSimpleMode();A._setSelectionStart(a.start);C=false;A._raiseEvent(0,A.value);A._raiseEvent(1,A.numberInput.val())}}var O=N.ctrlKey||N.metaKey;if(!c.jqx.browser.msie){var B=M;if((O&&e==99)||(O&&e==67)||(O&&e==122)||(O&&e==90)||(O&&e==118)||(O&&e==86)||(B.shiftKey&&e==45)){if(c.jqx.browser.webkit||c.jqx.browser.chrome){A._handleSimpleKeyDown(M,e)}if(e==67){return true}return false}}if((O&&e==97)||(O&&e==65)){return true}if(E==6&&C){var H=this._isSpecialKey(e);return H}}return C}}return L},GetSelectionInValue:function(l,n,o,q){var t=0;for(i=0;i<n.length;i++){if(i>=l){break}var s=n.substring(i,i+1);var a=(!isNaN(parseInt(s)));if(a||(q&&n.substring(i,i+1)==o)){t++}}return t},GetSelectionLengthInValue:function(n,l,o,q){var t=0;for(i=0;i<o.length;i++){if(i>=n+l){break}var s=o.substring(i,i+1);var a=(!isNaN(parseInt(s)));if(l>0&&i>=n&&a||(i>=n&&o[i].toString()==q)){t++}}return t},GetInsertTypeByPositionInValue:function(q,n,l,o){var t="before";var a=this.GetValueString(l,n,o);var s=this.GetDigitsToSeparator(0,a,n);if(q>s){t="after"}return t},RemoveRange:function(S,T,L,R,E,W){var Q=this.digits;var J=S;var D=T;var V=0;var I=this.decimal;var K=this._selection();var R=this.decimalSeparator;var P=R!="";if(D==0&&this.ValueString.length<this.decimalPossibleChars-1){return V}var C=this.GetSeparatorPositionInText(R,L);if(!E){C=this.GetSeparatorPositionInText(R,L)}if(C<0&&!P&&L.length>1){C=L.length}if(C==-1){C=L.length}var U=P?1:0;if(T<2&&W==true){var M=this.ValueString.length-this.decimalDigits-U;if((M)==Q&&S+T<C){D++}}var O="";for(var F=0;F<L.length;F++){if(F<J||F>=J+D){O+=L.substring(F,F+1);continue}else{var G=L.substring(F,F+1);if(G==R){O+=R;continue}else{var G=L.substring(F,F+1);if(this.symbol&&this.symbol!=""&&this.symbol.indexOf(G)>=0){continue}if(F>C){O+="0";continue}}}var G=L.substring(F,F+1);var H=(!isNaN(parseInt(G)));if(H){V++}}if(O.length==0){O="0"}if(E){this.numberInput.val(O)}else{this.ValueString=O}var N=O.substring(0,1);if(N==R&&isNaN(parseInt(N))){var a="0"+O;O=a}this.ValueString=this.GetValueString(O,R,P);this.decimal=this.ValueString;this._parseDecimalInSimpleMode();this._setSelectionStart(J);return V},InsertDigit:function(G,M){if(typeof this.digits!="number"){this.digits=parseInt(this.digits)}if(typeof this.decimalDigits!="number"){this.decimalDigits=parseInt(this.decimalDigits)}var R=1+this.digits;var L=this._selection();var N=this.getvalue("negative");var W=false;if(L.start==0&&this.symbol!=""&&this.symbolPosition=="left"){this._setSelectionStart(L.start+1);L=this._selection();W=true}if((N&&W)||(N&&!W&&L.start==0)){this._setSelectionStart(L.start+1);L=this._selection()}var a=this.numberInput.val().substring(L.start,L.start+1);var J=this.numberInput.val();var T=this.decimalSeparator;var Q=T!=""&&this.decimalDigits>0;if(a==this.symbol&&this.symbolPosition=="right"){if(this.decimalDigits==0){this.ValueString=this.GetValueString(J,T,Q);if(this.ValueString.length>=R){return}}else{return}}this.ValueString=this.GetValueString(J,T,Q);if(this.ValueString==""){this.ValueString=new Number(0).toFixed(this.decimalDigits)}var D=this.ValueString;if(this.decimalDigits>0&&M>=D.length){M=D.length-1}var I="";if(M<D.length){I=D.substring(M,M+1)}var S=false;var O=false;var V=this.GetInsertTypeByPositionInValue(M,T,J,Q);if(V=="after"){S=true}var Y=Q?1:0;if(I!=T&&(this.ValueString.length-this.decimalDigits-Y)>=R-1){S=true}if(I==="0"&&this.ValueString.length===1&&this.decimalDigits===0){S=true}var H=false;var F=Q?1:0;if(!S&&this.ValueString&&this.ValueString.length>=this.digits+this.decimalDigits+F){return}if(S&&I!=T){if(H){M++}var K=D.substring(0,M);if(K.length==D.length){if(this.ValueString.length>=this.digits+this.decimalDigits+F){return}}var E=G;var X="";if(M+1<D.length){X=D.substring(M+1)}var P=K+E+X;this.ValueString=P}else{var K=D.substring(0,M);var E=G;var X=D.substring(M);var P=K+E+X;if(D.substring(0,1)=="0"&&D.substring(1,2)==T){P=E+D.substring(1);if(I==T){this._setSelectionStart(L.start-1);L=this._selection()}}this.ValueString=P}if(N){this.decimal=-this.ValueString}else{this.decimal=this.ValueString}this._parseDecimalInSimpleMode();var U=L.start;U+=1;this._setSelectionStart(U);this.value=this.decimal;this._raiseEvent(0,this.value);this._raiseEvent(1,this.numberInput.val())},GetStringToSeparator:function(l,o,q){var s="";var a=o;var n=this.GetSeparatorPositionInText(o,l);var t=l.subString(0,n);s=this.GetValueString(t,o,q);return s},GetSeparatorPositionInText:function(f,e){var a=-1;for(i=0;i<e.length;i++){if(e.substring(i,i+1)==f){a=i;break}}return a},GetValueString:function(l,n,o){var s="";for(var t=0;t<l.length;t++){var q=l.substring(t,t+1);var a=(!isNaN(parseInt(q)));if(a){s+=q}if(q==n){s+=n}}return s},Backspace:function(){var n=this._selection();var l=this._selection();var h=this.numberInput.val();if(n.start==0&&n.length==0){return}this.isBackSpace=true;var o=h.substring[n.start,n.start+1];var a=(!isNaN(parseInt(o)));if(n.start>0&&n.length==0){this._setSelectionStart(n.start-1);var n=this._selection()}this.Delete();this._setSelectionStart(l.start-1);this.isBackSpace=false},Delete:function(t){var q=this._selection();var n=this.numberInput.val();if(q.start===0&&n.substring(0,1)=="-"){this.setvalue("negative",false);var q=this._selection();var n=this.numberInput.val()}var o=q.start;var l=q.length;l=Math.max(l,1);this.ValueString=this.GetValueString(n,this.decimalSeparator,this.decimalSeparator!="");if(o>this.ValueString.indexOf(this.decimalSeparator)&&this.decimalDigits>0){o++}this.RemoveRange(q.start,l,this.ValueString,".",false);var s=this.ValueString.substring(0,1);var a=(!isNaN(parseInt(s)));if(!a){this.ValueString="0"+this.ValueString}this.decimal=this.ValueString;this._parseDecimalInSimpleMode();this._setSelectionStart(o);this.value=this.decimal;this._raiseEvent(0,this.value);this._raiseEvent(1,this.numberInput.val())},insertsimple:function(v){var o=this._selection();var a=this.numberInput.val();if(o.start==a.length&&this.decimal!=null&&this.decimalDigits>0){return}var z=this.decimal;var s=this.decimalSeparator;this.ValueString=this.GetValueString(a,s,s!="");var q=this.GetSelectionInValue(o.start,a,s,s!="");var u=this.GetSelectionLengthInValue(o.start,o.length,a,s);var t=this.GetDigitsToSeparator(0,this.ValueString,s);var w=false;if(this.decimalDigits>0&&q>=this.ValueString.length){q--}if(this.ValueString==""){this.ValueString=new Number(0).toFixed(this.decimalDigits);this.ValueString=this.ValueString.replace(".",s);this.RemoveRange(o.start,u,this.ValueString,s,false,true);this.InsertDigit(v,0,o);return}this.RemoveRange(o.start,u,this.ValueString,s,false,true);this.InsertDigit(v,q,o)},GetDigitsToSeparator:function(f,a,e){if(e==undefined){e="."}if(a.indexOf(e)<0){return a.length}for(i=0;i<a.length;i++){if(a.substring(i,i+1)==e){f=i;break}}return f},_handleSimpleKeyDown:function(A,J){var K=this._selection();var H=A.ctrlKey||A.metaKey;if((J==8||J==46)&&H){this.setDecimal(null);return false}if(K.start>=0&&K.start<this.items.length){var F=String.fromCharCode(J)}if(this.rtl&&J==37){var G=A.shiftKey;var D=G?1:0;if(G){this._setSelection(K.start+1-D,K.start+K.length+1)}else{this._setSelection(K.start+1-D,K.start+1)}return false}else{if(this.rtl&&J==39){var G=A.shiftKey;var D=G?1:0;if(G){this._setSelection(K.start-1,K.length+D+K.start-1)}else{this._setSelection(K.start-1,K.start-1)}return false}}if(J==8){this.Backspace();return false}if(J==190||J==110){var B=this.GetSeparatorPositionInText(this.decimalSeparator,this.numberInput.val());if(B!=-1){this._setSelectionStart(B+1)}return false}if(J==188){var L=this.numberInput.val();for(C=K.start;C<L.length;C++){if(L[C]==this.groupSeparator){this._setSelectionStart(1+C);break}}return false}var H=A.ctrlKey||A.metaKey;if((H&&J==99)||(H&&J==67)){var K=this._selection();var I="";var M=this.numberInput.val();if(K.start>0||K.length>0){for(var C=K.start;C<K.end;C++){I+=M.substring(C,C+1)}}c.data(document.body,"jqxSelection",I);if(c.jqx.browser.msie){window.clipboardData.setData("Text",I)}else{var z=this;var E=c('<textarea style="position: absolute; left: -1000px; top: -1000px;"/>');E.val(I);c("body").append(E);E.select();setTimeout(function(){document.designMode="off";E.select();E.remove();z.focus()},100)}this.savedText=I;return true}if((H&&J==122)||(H&&J==90)){return false}if((H&&J==118)||(H&&J==86)||(A.shiftKey&&J==45)){if(c.jqx.browser.msie&&!this.savedText){this.savedText=window.clipboardData.getData("Text")}if(this.savedText!=null&&this.savedText.length>0){this.val(this.savedText)}else{this.val(c.data(document.body,"jqxSelection"))}return false}var F=String.fromCharCode(J);var e=parseInt(F);if(J>=96&&J<=105){e=J-96;J=J-48}if(!isNaN(e)){var z=this;this.insertsimple(e);return false}if(J==46){this.Delete();return false}if(J==38){this.spinUp();return false}else{if(J==40){this.spinDown();return false}}var a=this._isSpecialKey(J);if(!c.jqx.browser.mozilla){return true}return a},_getEditRange:function(){var d=0;var a=0;for(i=0;i<this.items.length;i++){if(this.items[i].canEdit){d=i;break}}for(i=this.items.length-1;i>=0;i--){if(this.items[i].canEdit){a=i;break}}return{start:d,end:a}},_getVisibleItems:function(){var a=new Array();var d=0;for(i=0;i<this.items.length;i++){if(this.items[i].character.toString().length>0){a[d]=this.items[i];d++}}return a},_hasEmptyVisibleItems:function(){var a=this._getVisibleItems();for(i=0;i<a.length;i++){if(a[i].canEdit&&a[i].character==this.promptChar){return true}}return false},_getFirstVisibleNonEmptyIndex:function(){var a=this._getVisibleItems();for(i=0;i<a.length;i++){if(a[i].canEdit&&a[i].character!=this.promptChar){return i}}},_handleMouse:function(e,a){var h=this._selection();if(h.length<=1){var l=this._getFirstVisibleNonEmptyIndex();if(h.start<l){this._setSelectionStart(l)}}},_insertKey:function(u){this.numberInput[0].focus();var B=String.fromCharCode(u);var A=parseInt(B);if(isNaN(A)){return}var a=0;for(i=0;i<this.items.length;i++){if(this.items[i].character.length==0){a++}}var w=this._selection();var D=this;if(w.start>=0&&w.start<=this.items.length){var z=false;var v=this._getFirstVisibleNonEmptyIndex();if(w.start<v&&w.length==0){if(!isNaN(B)||B==" "){this._setSelectionStart(v);w=this._selection()}}var C=this._getFirstEditableItemIndex();var s=this._getLastEditableItemIndex();var t=this._getVisibleItems();c.each(t,function(q,h){if(w.start>q&&q!=t.length-1){return}var K=t[q];if(q>s){K=t[s]}if(isNaN(B)||B==" "){return}if(!K.canEdit){return}var l=D._getSeparatorPosition();if(D._match(B,K.regex)){if(!z&&w.length>0){for(j=w.start+a;j<w.end+a;j++){if(D.items[j].canEdit){if(j>l){D.items[j].character="0"}else{D.items[j].character=D.promptChar}}}var e=D._getString();z=true}var l=D._getSeparatorPosition();var o=D._hasEmptyVisibleItems();if(D.decimal==null){w.start=l-1;if(w.start<0){w.start=0}w.end=w.start}if(w.start<=l&&o){var G=q;if(D.decimalSeparatorPosition==-1&&w.start==l){G=q+1}if(D.decimal==null){G=w.start}var H="";for(p=0;p<G;p++){if(t[p].canEdit&&t[p].character!=D.promptChar){H+=t[p].character}}H+=B;var F=D.decimal<1?1:0;if(w.start==l&&D.decimalSeparatorPosition!=-1){H+=D.decimalSeparator;F=0}for(p=G+F;p<t.length;p++){if(t[p].character==D.decimalSeparator&&t[p].isSeparator){H+=t[p].character}else{if(t[p].canEdit&&t[p].character!=D.promptChar){H+=t[p].character}}}if(D.decimalSeparator!="."){H=D._parseDecimalValue(H)}H=parseFloat(H).toString();H=new Number(H);H=H.toFixed(D.decimalDigits);if(D.decimalSeparator!="."){H=D._parseDecimalValueToEditorValue(H)}D.setvalue("decimal",H);var e=D._getString();if(w.end<l){D._setSelectionStart(w.end+F)}else{D._setSelectionStart(w.end)}if(w.length>=1){D._setSelectionStart(w.end)}if(w.length==D.numberInput.val().length){var d=D._moveCaretToDecimalSeparator();var f=D.decimalSeparatorPosition>=0?1:0;D._setSelectionStart(d-f)}}else{if(w.start<l||w.start>l){if(D.numberInput.val().length==w.start&&D.decimalSeparatorPosition!=-1){return false}else{if(D.numberInput.val().length==w.start&&D.decimalSeparatorPosition==-1&&!o){return false}}var H="";var J=false;for(p=0;p<q;p++){if(t[p].canEdit&&t[p].character!=D.promptChar){H+=t[p].character}if(t[p].character==D.decimalSeparator&&t[p].isSeparator){H+=t[p].character;J=true}}H+=B;var F=D.decimal<1?1:0;if(!J&&w.start==l-1){H+=D.decimalSeparator;J=true}for(p=q+1;p<t.length;p++){if(!J&&t[p].character==D.decimalSeparator&&t[p].isSeparator){H+=t[p].character}else{if(t[p].canEdit&&t[p].character!=D.promptChar){H+=t[p].character}}}D.setvalue("decimal",H);var e=D._getString();if(D.decimalSeparatorPosition<0&&K==t[s]){D._setSelectionStart(q);return false}var n=e.indexOf(D.symbol);var I=!D.getvalue("negative")?0:1;if(n<=I){n=e.length}if(w.start<n){D._setSelectionStart(q+1)}else{D._setSelectionStart(q)}if(w.length>=1){}if(w.length==D.numberInput.val().length){var d=D._moveCaretToDecimalSeparator();D._setSelectionStart(d-1)}}}return false}})}},_handleKeyPress:function(n,s){var q=this._selection();var a=this;var e=n.ctrlKey||n.metaKey;if((e&&s==97)||(e&&s==65)){return true}if(s==8){if(q.start>0){a._setSelectionStart(q.start)}return false}if(s==46){if(q.start<this.items.length){a._setSelectionStart(q.start)}return false}if(!c.jqx.browser.mozilla){if(s==45||s==173||s==109||s==189){var t=this.getvalue("negative");if(t==false){this.setvalue("negative",true)}else{this.setvalue("negative",false)}}}if(c.jqx.browser.msie){this._insertKey(s)}var o=this._isSpecialKey(s);return o},_deleteSelectedText:function(){var n=this._selection();var o="";var h=this._getSeparatorPosition();var a=this._getVisibleItems();var l=this._getHiddenPrefixCount();if(this.numberInput.val().length==n.start&&n.length==0){this._setSelection(n.start,n.start+1);n=this._selection()}for(i=0;i<n.start;i++){if(a[i].canEdit&&a[i].character!=this.promptChar){o+=a[i].character}else{if(!a[i].canEdit&&this.decimalSeparatorPosition!=-1&&a[i]==a[this.decimalSeparatorPosition-l]){if(o.length==0){o="0"}o+=a[i].character}}}for(i=n.start;i<n.end;i++){if(i>h&&this.decimalSeparatorPosition!=-1){if(a[i].canEdit&&a[i].character!=this.promptChar){o+="0"}}else{if(!a[i].canEdit&&this.decimalSeparatorPosition!=-1&&a[i]==a[this.decimalSeparatorPosition-l]){if(o.length==0){o="0"}o+=a[i].character}}}for(i=n.end;i<a.length;i++){if(a[i].canEdit&&a[i].character!=this.promptChar){o+=a[i].character}else{if(!a[i].canEdit&&this.decimalSeparatorPosition!=-1&&a[i]==a[this.decimalSeparatorPosition-l]){if(o.length==0){o="0"}o+=a[i].character}}}this.setvalue("decimal",o);return n.length>0},_restoreInitialState:function(){var a=parseInt(this.decimalDigits);if(a>0){a+=2}for(k=this.items.length-1;k>this.items.length-1-a;k--){if(this.items[k].canEdit&&this.items[k].character==this.promptChar){this.items[k].character=0}}},clear:function(){this.setDecimal(0)},clearDecimal:function(){if(this.inputMode=="textbox"){this.numberInput.val();return}for(var a=0;a<this.items.length;a++){if(this.items[a].canEdit){this.items[a].character=this.promptChar}}this._restoreInitialState()},_saveSelectedText:function(){var f=this._selection();var e="";var a=this._getVisibleItems();if(f.start>0||f.length>0){for(i=f.start;i<f.end;i++){if(a[i].canEdit&&a[i].character!=this.promptChar){e+=a[i].character}else{if(a[i].isSeparator){e+=a[i].character}}}}if(c.jqx.browser.msie){window.clipboardData.setData("Text",e)}return e},_pasteSelectedText:function(){var t=this._selection();var q="";var w=0;this.selectedText=c.data(document.body,"jqxSelection");if(window.clipboardData){var v=window.clipboardData.getData("Text");if(v!=this.selectedText&&v.length>0){this.selectedText=window.clipboardData.getData("Text");if(this.selectedText==null||this.selectedText==undefined){return}}}var u=t.start;var a=this._getVisibleItems();if(this.selectedText!=null){for(var o=0;o<this.selectedText.length;o++){var z=parseInt(this.selectedText[o]);if(!isNaN(z)){var s=48+z;this._insertKey(s)}}}},_getHiddenPrefixCount:function(){var a=0;if(!this.negative){a++}if(this.symbolPosition=="left"){for(i=0;i<this.symbol.length;i++){if(this.symbol.substring(i,i+1)==""){a++}}}return a},_getEditableItem:function(){var a=this._selection();for(i=0;i<this.items.length;i++){if(i<a.start){if(this.items[i].canEdit&&this.items[i].character!=this.promptChar){return this.items[i]}}}return null},_getEditableItems:function(){var d=new Array();var a=0;for(i=0;i<this.items.length;i++){if(this.items[i].canEdit){d[a]=this.items[i];a++}}return d},_getValidSelectionStart:function(a){for(i=this.items.length-1;i>=0;i--){if(this.items[i].canEdit&&this.items[i].character!=this.promptChar){return i}}return -1},_getEditableItemIndex:function(q){var n=this._selection();var l=this._getHiddenPrefixCount();var a=this._getVisibleItems();var o=n.start;var h=-1;for(i=0;i<o;i++){if(i<a.length&&a[i].canEdit){h=i+l}}if(h==-1&&n.length>0){o=n.end;for(i=0;i<o;i++){if(i<a.length&&a[i].canEdit){h=i+l;break}}}return h},_getEditableItemByIndex:function(a){for(k=0;k<this.items.length;k++){if(k>a){if(this.items[k].canEdit&&this.items[k].character!=this.promptChar){return k}}}return -1},_getFirstEditableItemIndex:function(){var a=this._getVisibleItems();for(m=0;m<a.length;m++){if(a[m].character!=this.promptChar&&a[m].canEdit&&a[m].character!="0"){return m}}return -1},_getLastEditableItemIndex:function(){var a=this._getVisibleItems();for(m=a.length-1;m>=0;m--){if(a[m].character!=this.promptChar&&a[m].canEdit){return m}}return -1},_moveCaretToDecimalSeparator:function(){for(i=this.items.length-1;i>=0;i--){if(this.items[i].character==this.decimalSeparator&&this.items[i].isSeparator){if(!this.negative){this._setSelectionStart(i);return i}else{this._setSelectionStart(i+1);return i}break}}return this.numberInput.val().length},_handleBackspace:function(){var q=this._selection();var o=this._getHiddenPrefixCount();var a=this._getEditableItemIndex()-o;var s=this._getFirstVisibleNonEmptyIndex();var v=false;if(this.negative){v=true;if(s>=a+1||q.start==0){this.setvalue("negative",false);if(q.length==0){this._setSelectionStart(q.start-1);var q=this._selection()}}}if(a>=0){if(q.length==0&&a!=-1){this._setSelection(a,a+1)}var n=q.start>this._getSeparatorPosition()+1&&this.decimalSeparatorPosition>0;if(n){q=this._selection()}var t=this._deleteSelectedText();if(q.length<1||n){this._setSelectionStart(q.start)}else{if(q.length>=1){this._setSelectionStart(q.end)}}if(q.length==this.numberInput.val().length||v){var u=this._moveCaretToDecimalSeparator();this._setSelectionStart(u-1)}}else{this._setSelectionStart(q.start)}},_handleKeyDown:function(A,I){var a=this._selection();var E=A.ctrlKey||A.metaKey;if((I==8||I==46)&&E){this.setDecimal(null);return false}if(this.rtl&&I==37){var D=A.shiftKey;var B=D?1:0;if(D){this._setSelection(a.start+1-B,a.start+a.length+1)}else{this._setSelection(a.start+1-B,a.start+1)}return false}else{if(this.rtl&&I==39){var D=A.shiftKey;var B=D?1:0;if(D){this._setSelection(a.start-1,a.length+B+a.start-1)}else{this._setSelection(a.start-1,a.start-1)}return false}}if((E&&I==97)||(E&&I==65)){return true}if((E&&I==120)||(E&&I==88)){this.selectedText=this._saveSelectedText(A);c.data(document.body,"jqxSelection",this.selectedText);this._handleBackspace();return false}if((E&&I==99)||(E&&I==67)){this.selectedText=this._saveSelectedText(A);c.data(document.body,"jqxSelection",this.selectedText);return false}if((E&&I==122)||(E&&I==90)){return false}if((E&&I==118)||(E&&I==86)||(A.shiftKey&&I==45)){this._pasteSelectedText();return false}if(a.start>=0&&a.start<this.items.length){var C=String.fromCharCode(I);var G=this.items[a.start]}if(I==8){this._handleBackspace();return false}if(I==190||I==110){this._moveCaretToDecimalSeparator();return false}if(I==188){var e=this.numberInput.val();for(i=a.start;i<e.length;i++){if(e[i]==this.groupSeparator){this._setSelectionStart(1+i);break}}return false}if(c.jqx.browser.msie==null){var C=String.fromCharCode(I);var w=parseInt(C);if(I>=96&&I<=105){w=I-96;I=I-48}if(!isNaN(w)){var z=this;z._insertKey(I);return false}}if(I==46){var H=this._getVisibleItems();if(a.start<H.length){var B=H[a.start].canEdit==false?2:1;if(a.start==0){if(this.negative){this.setvalue("negative",false);if(a.length==0){this._setSelectionStart(0)}var a=this._selection();if(a.length==0){return false}}}if(a.length==0){this._setSelection(a.start+B,a.start+B+a.length)}this._handleBackspace();if(new Number(this.decimal)<1||a.start>this._getSeparatorPosition()){this._setSelectionStart(a.end+B)}else{if(a.start+1<this.decimalSeparatorPosition){this._setSelectionStart(a.end+B)}}}return false}if(I==38){this.spinUp();return false}else{if(I==40){this.spinDown();return false}}var v=this._isSpecialKey(I);if(c.jqx.browser.mozilla){if(I==45||I==173||I==109||I==189){var F=this.getvalue("negative");if(F==false){this.setvalue("negative",true)}else{this.setvalue("negative",false)}}}if(!c.jqx.browser.mozilla){return true}return v},_isSpecialKey:function(a){if(a!=8&&a!=9&&a!=13&&a!=35&&a!=36&&a!=37&&a!=39&&a!=27&&a!=46){return false}return true},_selection:function(){try{if("selectionStart" in this.numberInput[0]){var l=this.numberInput[0];var e=l.selectionEnd-l.selectionStart;return{start:l.selectionStart,end:l.selectionEnd,length:e,text:l.value}}else{var o=document.selection.createRange();if(o==null){return{start:0,end:l.value.length,length:0}}var q=this.numberInput[0].createTextRange();var n=q.duplicate();q.moveToBookmark(o.getBookmark());n.setEndPoint("EndToStart",q);var e=o.text.length;return{start:n.text.length,end:n.text.length+o.text.length,length:e,text:o.text}}}catch(a){return{start:0,end:0,length:0}}},selectAll:function(){var a=this.numberInput;setTimeout(function(){if("selectionStart" in a[0]){a[0].focus();a[0].setSelectionRange(0,a[0].value.length)}else{var d=a[0].createTextRange();d.collapse(true);d.moveEnd("character",a[0].value.length);d.moveStart("character",0);d.select()}},10)},_setSelection:function(h,a){if(this._disableSetSelection==true){return}var l=c.jqx.mobile.isTouchDevice();if(l||this.touchMode==true){return}try{if("selectionStart" in this.numberInput[0]){this.numberInput[0].focus();this.numberInput[0].setSelectionRange(h,a)}else{var o=this.numberInput[0].createTextRange();o.collapse(true);o.moveEnd("character",a);o.moveStart("character",h);o.select()}}catch(n){}},_setSelectionStart:function(a){this._setSelection(a,a);c.data(this.numberInput,"selectionstart",a)},resize:function(d,a){this.width=d;this.height=a;this._render(false)},_render:function(z){var C=parseInt(this.host.css("border-left-width"));var v=parseInt(this.host.css("border-left-width"));var w=parseInt(this.host.css("border-left-width"));var B=parseInt(this.host.css("border-left-width"));this.numberInput.css("padding-top","0px");this.numberInput.css("padding-bottom","0px");this.host.height(this.height);this.host.width(this.width);var A=this.host.width();var s=this.host.height();this.numberInput.css({"border-left-width":0,"border-right-width":0,"border-bottom-width":0,"border-top-width":0});this.numberInput.css("text-align",this.textAlign);var a=this.numberInput.css("font-size");this.numberInput.css("height",parseInt(a)+4+"px");this.numberInput.css("width",A-2);var t=s-2*w-parseInt(a)-2;if(isNaN(t)){t=0}if(t<0){t=0}if(this.spinButtons&&this.spincontainer){A-=parseInt(this.spinButtonsWidth-2);var u=c.jqx.mobile.isTouchDevice();if(!u&&this.touchMode!==true){this.spincontainer.width(this.spinButtonsWidth);this.upbutton.width(this.spinButtonsWidth+2);this.downbutton.width(this.spinButtonsWidth+2);this.upbutton.height("50%");this.downbutton.height("50%");this.spincontainer.width(this.spinButtonsWidth)}else{this.spincontainer.width(2*(this.spinButtonsWidth));A-=this.spinButtonsWidth;this.upbutton.height("100%");this.downbutton.height("100%");this.downbutton.css("float","left");this.upbutton.css("float","right");this.upbutton.width(this.spinButtonsWidth);this.downbutton.width(1+this.spinButtonsWidth)}this._upArrow.height("100%");this._downArrow.height("100%");this.numberInput.css("width",A-6);this.numberInput.css("margin-right","2px")}var D=t/2;if(c.jqx.browser.msie&&c.jqx.browser.version<8){D=t/4}this.numberInput.css("padding-left","0px");this.numberInput.css("padding-right","0px");this.numberInput.css("padding-top",Math.round(D)+"px");this.numberInput.css("padding-bottom",Math.round(D)+"px");if(z==undefined||z==true){this.numberInput.val(this._getString());if(this.inputMode!="advanced"){this._parseDecimalInSimpleMode()}}},destroy:function(){this._removeHandlers();this.host.remove()},inputValue:function(a){if(a===undefined){return this._value()}this.propertyChangedHandler(this,"value",this._value,a);this._refreshValue();return this},_value:function(){var a=this.numberInput.val();return a},val:function(q){if(q!==undefined&&typeof q!="object"||q===null){if(q===null){this.setDecimal(null);return}else{var l=q;l=l.toString();if(l.indexOf(this.symbol)>-1){l=l.replace(this.symbol,"")}var a=function(f,t,s){var e=f;if(t==s){return f}var d=e.indexOf(t);while(d!=-1){e=e.replace(t,s);d=e.indexOf(t)}return e};l=a(l,this.groupSeparator,"");l=l.replace(this.decimalSeparator,".");var h="";for(var o=0;o<l.length;o++){var n=l.substring(o,o+1);if(n==="-"){h+="-"}if(n==="."){h+="."}if(n.match(/^[0-9]+$/)!=null){h+=n}}l=h;l=l.replace(/ /g,"");l=new Number(l);this.setDecimal(l)}}else{return this.getDecimal()}},getDecimal:function(){if(this.decimal==null){return null}if(this.inputMode=="simple"){this._parseDecimalInSimpleMode(false);this.decimal=this._getDecimalInSimpleMode(this.decimal)}if(this.decimal==""){return 0}var a=this.getvalue("negative");if(a&&this.decimal>0){return -parseFloat(this.decimal)}return parseFloat(this.decimal)},setDecimal:function(n){var a=n;if(this.decimalSeparator!="."){if(n===null){this._setDecimal(n)}else{var o=n;if(typeof(n)!="number"){n=n.toString();var h=n.indexOf(".");if(h!=-1){var q=n.substring(0,h);var l=n.substring(h+1);o=q+"."+l;if(q.indexOf("-")!=-1){q=q.substring(1)}if(this.inputMode!="advanced"){n=q+"."+l}else{n=q+this.decimalSeparator+l}}else{var h=n.indexOf(this.decimalSeparator);if(h!=-1){var q=n.substring(0,h);var l=n.substring(h+1);o=q+"."+l;if(q.indexOf("-")!=-1){q=q.substring(1)}if(this.inputMode!="advanced"){n=q+"."+l}else{n=q+this.decimalSeparator+l}}}}if(o<0){this.setvalue("negative",true)}else{this.setvalue("negative",false)}this._setDecimal(n)}}else{if(n<0){this.setvalue("negative",true)}else{this.setvalue("negative",false)}if(n===null){this._setDecimal(n)}else{this._setDecimal(Math.abs(n))}}if(a==null){this.numberInput.val("")}},_setDecimal:function(a){if(!this.allowNull&&a==null){this.decimal=0;a=0}if(a==null){this.decimal=null;this.value=null;this.clearDecimal();this._refreshValue();this.decimal=null;this.value=null;return}if(a.toString().indexOf("e")!=-1){a=new Number(a).toFixed(this.decimalDigits).toString()}this.clearDecimal();var I=a.toString();var H="";var G="";var E=true;if(I.length==0){I="0"}for(var B=0;B<I.length;B++){if(typeof(a)=="number"){if(I.substring(B,B+1)=="."){E=false;continue}}else{if(I.substring(B,B+1)==this.decimalSeparator){E=false;continue}}if(E){H+=I.substring(B,B+1)}else{G+=I.substring(B,B+1)}}if(H.length>0){H=parseFloat(H).toString()}var v=this.digits;if(v<H.length){H=H.substr(0,v)}var C=0;var u=this._getSeparatorPosition();var w=this._getHiddenPrefixCount();u=u+w;for(var B=u;B>=0;B--){if(B<this.items.length&&this.items[B].canEdit){if(C<H.length){this.items[B].character=H.substring(H.length-C-1,H.length-C);C++}}}C=0;for(var B=u;B<this.items.length;B++){if(this.items[B].canEdit){if(C<G.length){this.items[B].character=G.substring(C,C+1);C++}}}this._refreshValue();if(this.decimalSeparator=="."){this.ValueString=new Number(a).toFixed(this.decimalDigits)}else{var z=a.toString().indexOf(this.decimalSeparator);if(z>0){var A=a.toString().substring(0,z);var D=A+"."+a.toString().substring(z+1);this.ValueString=new Number(D).toFixed(this.decimalDigits)}else{this.ValueString=new Number(a).toFixed(this.decimalDigits)}}if(this.inputMode!="advanced"){this._parseDecimalInSimpleMode();this._raiseEvent(1,this.ValueString)}if(this.inputMode=="textbox"){this.decimal=this.ValueString;var F=this.getvalue("negative");if(F){this.decimal="-"+this.ValueString}}var a=this.val();if(a<this.min||a>this.max){this.host.addClass("jqx-input-invalid")}else{this.host.removeClass("jqx-input-invalid")}},_getSeparatorPosition:function(){var a=this._getHiddenPrefixCount();if(this.decimalSeparatorPosition>0){return this.decimalSeparatorPosition-a}return this.items.length-a},_setTheme:function(){this.host.removeClass();this.host.addClass(this.toThemeProperty("jqx-input"));this.host.addClass(this.toThemeProperty("jqx-rc-all"));this.host.addClass(this.toThemeProperty("jqx-widget"));this.host.addClass(this.toThemeProperty("jqx-widget-content"));this.host.addClass(this.toThemeProperty("jqx-numberinput"));if(this.spinButtons){this.downbutton.removeClass();this.upbutton.removeClass();this.downbutton.addClass(this.toThemeProperty("jqx-scrollbar-button-state-normal"));this.upbutton.addClass(this.toThemeProperty("jqx-scrollbar-button-state-normal"));this._upArrow.removeClass();this._downArrow.removeClass();this._upArrow.addClass(this.toThemeProperty("jqx-icon-arrow-up"));this._downArrow.addClass(this.toThemeProperty("jqx-icon-arrow-down"))}this.numberInput.removeClass();this.numberInput.addClass(this.toThemeProperty("jqx-input-content"))},propertyChangedHandler:function(t,s,n,o){if(s=="digits"||s=="groupSize"||s=="decimalDigits"){if(o<0){throw new Exception(this.invalidArgumentExceptions[0])}}if(s=="placeHolder"){t.numberInput.attr("placeholder",t.placeHolder)}if(s==="theme"){c.jqx.utilities.setTheme(n,o,t.host)}if(s=="digits"){if(o!=n){t.digits=parseInt(o)}}if(s=="min"||s=="max"){c.jqx.aria(t,"aria-value"+s,o.toString());t._refreshValue()}if(s=="decimalDigits"){if(o!=n){t.decimalDigits=parseInt(o)}}if(s=="decimalSeparator"||s=="digits"||s=="symbol"||s=="symbolPosition"||s=="groupSize"||s=="groupSeparator"||s=="decimalDigits"||s=="negativeSymbol"){var a=t.decimal;if(s=="decimalSeparator"&&o==""){o=" "}if(n!=o){var q=t._selection();t.items=new Array();t._initializeLiterals();t.value=t._getString();t._refreshValue();t._setDecimal(a)}}if(s=="rtl"){if(t.rtl){if(t.spincontainer){t.spincontainer.css("float","right");t.spincontainer.css("border-right-width","1px")}t.numberInput.css("float","right")}else{if(t.spincontainer){t.spincontainer.css("float","right");t.spincontainer.css("border-right-width","1px")}t.numberInput.css("float","left")}}if(s=="spinButtons"){if(t.spincontainer){if(!o){t.spincontainer.css("display","none")}else{t.spincontainer.css("display","block")}t._render()}else{t._spinButtons()}}if(s==="touchMode"){t.inputMode="textbox";t.spinMode="simple";t.render()}if(s=="negative"&&t.inputMode=="advanced"){var q=t._selection();var l=0;if(o){t.items[0].character=t.negativeSymbol[0];l=1}else{t.items[0].character="";l=-1}t._refreshValue();if(t.isInitialized){t._setSelection(q.start+l,q.end+l)}}if(s=="decimal"){t.value=o;t.setDecimal(o)}if(s==="value"){t.value=o;t.setDecimal(o);t._raiseEvent(1,o)}if(s=="textAlign"){t.textAlign=o;t._render()}if(s=="disabled"){t.numberInput.attr("disabled",o);if(t.disabled){t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled"))}else{t.host.removeClass(t.toThemeProperty("jqx-fill-state-disabled"))}c.jqx.aria(t,"aria-disabled",o.toString())}if(s=="readOnly"){t.readOnly=o}if(s=="promptChar"){for(i=0;i<t.items.length;i++){if(t.items[i].character==t.promptChar){t.items[i].character=o}}t.promptChar=o}if(s=="width"){t.width=o;t._render()}else{if(s=="height"){t.height=o;t._render()}}},_value:function(){var a=this.value;return a},_refreshValue:function(){var h=this.value;var a=0;if(this.inputMode==="textbox"){return}this.value=this._getString();h=this.value;var l="";for(var q=0;q<this.items.length;q++){var n=this.items[q];if(n.canEdit&&n.character!=this.promptChar){l+=n.character}if(q==this.decimalSeparatorPosition){l+="."}}this.decimal=l;var o=false;if(this.oldValue!==h){this.oldValue=h;this._raiseEvent(0,h);o=true}if(this.inputMode!="simple"){this.numberInput.val(h);if(o){this._raiseEvent(1,h)}}if(h==null){this.numberInput.val("")}}})})(jqxBaseFramework);(function(c){c.jqx.jqxWidget("jqxProgressBar","",{});c.extend(c.jqx._jqxProgressBar.prototype,{defineInstance:function(){var a={value:0,oldValue:null,max:100,min:0,orientation:"horizontal",layout:"normal",width:null,height:null,showText:false,animationDuration:300,disabled:false,rtl:false,renderText:null,aria:{"aria-valuenow":{name:"value",type:"number"},"aria-disabled":{name:"disabled",type:"boolean"}},events:["valueChanged","invalidValue","complete","change"]};c.extend(true,this,a);return a},createInstance:function(d){var a=this;this.host.addClass(this.toThemeProperty("jqx-progressbar"));this.host.addClass(this.toThemeProperty("jqx-widget"));this.host.addClass(this.toThemeProperty("jqx-widget-content"));this.host.addClass(this.toThemeProperty("jqx-rc-all"));c.jqx.aria(this);if(this.width!=null&&this.width.toString().indexOf("px")!=-1){this.host.width(this.width)}else{if(this.width!=undefined&&!isNaN(this.width)){this.host.width(this.width)}else{this.host.width(this.width)}}if(this.height!=null&&this.height.toString().indexOf("px")!=-1){this.host.height(this.height)}else{if(this.height!=undefined&&!isNaN(this.height)){this.host.height(this.height)}else{this.host.height(this.height)}}this.valueDiv=c("<div></div>").appendTo(this.element);if(this.orientation=="horizontal"){this.valueDiv.width(0);this.valueDiv.addClass(this.toThemeProperty("jqx-progressbar-value"))}else{this.valueDiv.height(0);this.valueDiv.addClass(this.toThemeProperty("jqx-progressbar-value-vertical"))}this.valueDiv.addClass(this.toThemeProperty("jqx-fill-state-pressed"));this.feedbackElementHost=c("<div style='width: 100%; height: 100%; position: relative;'></div>").appendTo(this.host);this.feedbackElement=c("<span class='text'></span>").appendTo(this.feedbackElementHost);this.feedbackElement.addClass(this.toThemeProperty("jqx-progressbar-text"));this.oldValue=this._value();this.refresh();c.jqx.utilities.resize(this.host,function(){a.refresh()})},resize:function(d,a){this.width=d;this.height=a;this.refresh()},destroy:function(){this.host.removeClass();this.valueDiv.removeClass();this.valueDiv.remove();this.feedbackElement.remove()},_raiseevent:function(h,o,l){if(this.isInitialized!=undefined&&this.isInitialized==true){var q=this.events[h];var n=new c.Event(q);n.previousValue=o;n.currentValue=l;n.owner=this;var a=this.host.trigger(n);return a}},actualValue:function(a){if(a===undefined){return this._value()}c.jqx.aria(this,"aria-valuenow",a);c.jqx.setvalueraiseevent(this,"value",a);return this._value()},val:function(a){if(arguments.length==0||typeof(a)=="object"){return this.actualValue()}return this.actualValue(a)},propertyChangedHandler:function(o,n,a,h){if(!this.isInitialized){return}var l=this;if(n=="min"&&o.value<h){o.value=h}else{if(n=="max"&&o.value>h){o.value=h}}if(n==="value"&&l.value!=undefined){l.value=h;l.oldValue=a;c.jqx.aria(o,"aria-valuenow",h);if(h<l.min||h>l.max){l._raiseevent(1,a,h)}l.refresh()}if(n=="theme"){c.jqx.utilities.setTheme(a,h,o.host)}if(n=="renderText"||n=="orientation"||n=="layout"||n=="showText"||n=="min"||n=="max"){l.refresh()}else{if(n=="width"&&l.width!=undefined){if(l.width!=undefined&&!isNaN(l.width)){l.host.width(l.width);l.refresh()}}else{if(n=="height"&&l.height!=undefined){if(l.height!=undefined&&!isNaN(l.height)){l.host.height(l.height);l.refresh()}}}}if(n=="disabled"){l.refresh()}},_value:function(){var d=this.value;if(typeof d!=="number"){var a=parseInt(d);if(isNaN(a)){d=0}else{d=a}}return Math.min(this.max,Math.max(this.min,d))},_percentage:function(){return 100*this._value()/this.max},_textwidth:function(e){var f=c("<span>"+e+"</span>");c(this.host).append(f);var a=f.width();f.remove();return a},_textheight:function(e){var f=c("<span>"+e+"</span>");c(this.host).append(f);var a=f.height();f.remove();return a},_initialRender:true,refresh:function(){var u=this.actualValue();var a=this._percentage();if(this.disabled){this.host.addClass(this.toThemeProperty("jqx-progressbar-disabled"));this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"));return}else{this.host.removeClass(this.toThemeProperty("jqx-progressbar-disabled"));this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled"));c(this.element.children[0]).show()}if(isNaN(u)){return}if(isNaN(a)){return}if(this.oldValue!==u){this._raiseevent(0,this.oldValue,u);this._raiseevent(3,this.oldValue,u);this.oldValue=u}var G=this.oldValue;var s=this.host.outerHeight();var F=this.host.outerWidth();if(this.width!=null){F=parseInt(this.width)}if(this.height!=null){s=parseInt(this.height)}var C=parseInt(this.host.outerWidth())/2;var z=parseInt(this.host.outerHeight())/2;if(isNaN(a)){a=0}var w=this;try{var t=this.element.children[0];c(t)[0].style.position="relative";if(this.orientation=="horizontal"){c(t).toggle(u>=this.min);var F=this.host.outerWidth()*a/100;var D=0;if(this.layout=="reverse"||this.rtl){if(this._initialRender){c(t)[0].style.left=this.host.width()+"px";c(t)[0].style.width=0}D=this.host.outerWidth()-F}c(t).animate({width:F,left:D+"px"},this.animationDuration,function(){if(w._value()===w.max){w._raiseevent(2,G,w.max)}});this.feedbackElementHost.css("margin-top",-this.host.height())}else{c(t).toggle(u>=this.min);var s=this.host.height()*a/100;var E=0;if(this.layout=="reverse"){if(this._initialRender){c(t)[0].style.top=this.host.height()+"px";c(t)[0].style.height=0}E=this.host.height()-s}this.feedbackElementHost.animate({"margin-top":-(a.toFixed(0)*w.host.height())/100},this.animationDuration,function(){});c(t).animate({height:s,top:E+"px"},this.animationDuration,function(){var d=w._percentage();if(isNaN(d)){d=0}if(d.toFixed(0)==w.min){c(t).hide();if(w._value()===w.max){w._raiseevent(2,G,w.max)}}})}}catch(A){}this._initialRender=false;this.feedbackElement.html(a.toFixed(0)+"%").toggle(this.showText==true);if(this.renderText){this.feedbackElement.html(this.renderText(a.toFixed(0)+"%"))}this.feedbackElement.css("position","absolute");this.feedbackElement.css("top","50%");this.feedbackElement.css("left","0");var v=this.feedbackElement.height();var B=this.feedbackElement.width();var q=Math.floor(C-(parseInt(B)/2));this.feedbackElement.css({left:(q),"margin-top":-parseInt(v)/2+"px"})}})})(jqxBaseFramework);(function(c){c.jqx.jqxWidget("jqxRadioButton","",{});c.extend(c.jqx._jqxRadioButton.prototype,{defineInstance:function(){var a={animationShowDelay:300,animationHideDelay:300,width:null,height:null,boxSize:"13px",checked:false,hasThreeStates:false,disabled:false,enableContainerClick:true,locked:false,groupName:"",rtl:false,changeType:null,aria:{"aria-checked":{name:"checked",type:"boolean"},"aria-disabled":{name:"disabled",type:"boolean"}},events:["checked","unchecked","indeterminate","change"]};c.extend(true,this,a);return a},createInstance:function(a){this.render()},render:function(){this.setSize();var d=this;this.propertyChangeMap.width=function(o,l,n,h){d.setSize()};this.propertyChangeMap.height=function(o,l,n,h){d.setSize()};if(this.radiobutton){this.radiobutton.remove()}this.radiobutton=c("<div><div><span></span></div></div>");this.host.attr("role","radio");if(!this.host.attr("tabIndex")){this.host.attr("tabIndex",0)}this.host.prepend(this.radiobutton);this.host.append(c('<div style="clear: both;"></div>'));this.checkMark=c(this.radiobutton).find("span");this.box=c(this.radiobutton).find("div");this._supportsRC=true;if(c.jqx.browser.msie&&c.jqx.browser.version<9){this._supportsRC=false}this.box.addClass(this.toThemeProperty("jqx-fill-state-normal"));this.box.addClass(this.toThemeProperty("jqx-radiobutton-default"));this.host.addClass(this.toThemeProperty("jqx-widget"));if(this.disabled){this.disable()}this.host.addClass(this.toThemeProperty("jqx-radiobutton"));if(this.locked){this.host.css("cursor","auto")}var a=this.element.getAttribute("checked");if(a=="checked"||a=="true"||a==true){this.checked=true}this._addInput();this._render();this._addHandlers();c.jqx.aria(this)},_addInput:function(){var a=this.host.attr("name");this.input=c("<input type='hidden'/>");this.host.append(this.input);if(a){this.input.attr("name",a)}},refresh:function(a){if(!a){this.setSize();this._render()}},resize:function(d,a){this.width=d;this.height=a;this.setSize()},setSize:function(){if(this.width!=null&&this.width.toString().indexOf("px")!=-1){this.host.width(this.width)}else{if(this.width!=undefined&&!isNaN(this.width)){this.host.width(this.width)}}if(this.height!=null&&this.height.toString().indexOf("px")!=-1){this.host.height(this.height)}else{if(this.height!=undefined&&!isNaN(this.height)){this.host.height(this.height)}}},_addHandlers:function(){var a=this;this.addHandler(this.box,"click",function(d){if(!a.disabled&&!a.enableContainerClick){a.changeType="mouse";a.toggle("click");d.preventDefault();return false}});this.addHandler(this.host,"keydown",function(d){if(!a.disabled&&!a.locked){if(d.keyCode==32){a.changeType="keyboard";a.toggle("click");d.preventDefault();return false}}});this.addHandler(this.host,"click",function(d){if(!a.disabled&&a.enableContainerClick){a.changeType="mouse";a.toggle("click");d.preventDefault();return false}});this.addHandler(this.host,"selectstart",function(d){if(!a.disabled&&a.enableContainerClick){d.preventDefault()}});this.addHandler(this.host,"mouseup",function(d){if(!a.disabled&&a.enableContainerClick){d.preventDefault()}});this.addHandler(this.host,"focus",function(d){if(!a.disabled&&a.enableContainerClick&&!a.locked){a.box.addClass(a.toThemeProperty("jqx-radiobutton-hover"));a.box.addClass(a.toThemeProperty("jqx-fill-state-focus"));d.preventDefault();return false}});this.addHandler(this.host,"blur",function(d){if(!a.disabled&&a.enableContainerClick&&!a.locked){a.box.removeClass(a.toThemeProperty("jqx-radiobutton-hover"));a.box.removeClass(a.toThemeProperty("jqx-fill-state-focus"));d.preventDefault();return false}});this.addHandler(this.host,"mouseenter",function(d){if(!a.disabled&&a.enableContainerClick&&!a.locked){a.box.addClass(a.toThemeProperty("jqx-radiobutton-hover"));a.box.addClass(a.toThemeProperty("jqx-fill-state-hover"));d.preventDefault();return false}});this.addHandler(this.host,"mouseleave",function(d){if(!a.disabled&&a.enableContainerClick&&!a.locked){a.box.removeClass(a.toThemeProperty("jqx-radiobutton-hover"));a.box.removeClass(a.toThemeProperty("jqx-fill-state-hover"));d.preventDefault();return false}});this.addHandler(this.box,"mouseenter",function(){if(!a.disabled&&!a.enableContainerClick){a.box.addClass(a.toThemeProperty("jqx-radiobutton-hover"));a.box.addClass(a.toThemeProperty("jqx-fill-state-hover"))}});this.addHandler(this.box,"mouseleave",function(){if(!a.disabled&&!a.enableContainerClick){a.box.removeClass(a.toThemeProperty("jqx-radiobutton-hover"));a.box.removeClass(a.toThemeProperty("jqx-fill-state-hover"))}})},focus:function(){try{this.host.focus()}catch(a){}},_removeHandlers:function(){this.removeHandler(this.box,"click");this.removeHandler(this.box,"mouseenter");this.removeHandler(this.box,"mouseleave");this.removeHandler(this.host,"click");this.removeHandler(this.host,"mouseup");this.removeHandler(this.host,"mousedown");this.removeHandler(this.host,"selectstart");this.removeHandler(this.host,"mouseenter");this.removeHandler(this.host,"mouseleave");this.removeHandler(this.host,"keydown");this.removeHandler(this.host,"focus");this.removeHandler(this.host,"blur")},_render:function(){if(this.boxSize==null){this.boxSize=13}this.box.width(this.boxSize);this.box.height(this.boxSize);if(!this.disabled){if(this.enableContainerClick){this.host.css("cursor","pointer")}else{this.host.css("cursor","auto")}}else{this.disable()}if(this.rtl){this.box.addClass(this.toThemeProperty("jqx-radiobutton-rtl"));this.host.addClass(this.toThemeProperty("jqx-rtl"))}this.updateStates()},val:function(a){if(arguments.length==0||typeof(a)=="object"){return this.checked}if(typeof a=="string"){if(a=="true"){this.check("api")}if(a=="false"){this.uncheck("api")}if(a==""){this.indeterminate("api")}}else{if(a==true){this.check("api")}if(a==false){this.uncheck("api")}if(a==null){this.indeterminate("api")}}return this.checked},check:function(l){this.checked=true;var h=this;this.checkMark.removeClass();this.checkMark.addClass(this.toThemeProperty("jqx-fill-state-pressed"));if(c.jqx.browser.msie){if(!this.disabled){this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-checked"))}else{this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-disabled"));this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-checked"))}}else{if(!this.disabled){this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-checked"))}else{this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-disabled"));this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-checked"))}this.checkMark.css("opacity",0);this.checkMark.stop().animate({opacity:1},this.animationShowDelay,function(){})}var f=c.find(".jqx-radiobutton");if(this.groupName==null){this.groupName=""}c.each(f,function(){var d=c(this).jqxRadioButton("groupName");if(d==h.groupName&&this!=h.element){c(this).jqxRadioButton("uncheck","api")}});this._raiseEvent("0");this._raiseEvent("3",{type:l,checked:true});if(this.checkMark.height()==0){var a=parseInt(this.boxSize)/2;this.checkMark.height(a);this.checkMark.width(a)}else{if(this.boxSize!="13px"){var a=parseInt(this.boxSize)/2;this.checkMark.height(a);this.checkMark.width(a);this.checkMark.css("margin-left",1+(a/4));this.checkMark.css("margin-top",1+(a/4))}}this.input.val(this.checked);c.jqx.aria(this,"aria-checked",this.checked)},uncheck:function(a){var e=this.checked;this.checked=false;var f=this;if(c.jqx.browser.msie){f.checkMark.removeClass()}else{this.checkMark.css("opacity",1);this.checkMark.stop().animate({opacity:0},this.animationHideDelay,function(){f.checkMark.removeClass()})}if(e){this._raiseEvent("1");this._raiseEvent("3",{type:a,checked:false})}this.input.val(this.checked);c.jqx.aria(this,"aria-checked",this.checked)},indeterminate:function(a){var d=this.checked;this.checked=null;this.checkMark.removeClass();if(c.jqx.browser.msie){this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-indeterminate"))}else{this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-indeterminate"));this.checkMark.css("opacity",0);this.checkMark.stop().animate({opacity:1},this.animationShowDelay,function(){})}if(d!=null){this._raiseEvent("2");this._raiseEvent("3",{type:a,checked:null})}this.input.val(this.checked);c.jqx.aria(this,"aria-checked","undefined")},toggle:function(d){if(this.disabled){return}if(this.locked){return}var a=this.checked;if(this.checked==true){this.checked=this.hasTreeStates?null:true}else{this.checked=true}if(a!=this.checked){this.updateStates(d)}this.input.val(this.checked)},updateStates:function(a){if(this.checked){this.check(a)}else{if(this.checked==false){this.uncheck(a)}else{if(this.checked==null){this.indeterminate(a)}}}},disable:function(){this.disabled=true;if(this.checked==true){this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-disabled"))}else{if(this.checked==null){this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-indeterminate-disabled"))}}this.box.addClass(this.toThemeProperty("jqx-radiobutton-disabled"));this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"));c.jqx.aria(this,"aria-disabled",this.disabled)},enable:function(){this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled"));if(this.checked==true){this.checkMark.removeClass(this.toThemeProperty("jqx-radiobutton-check-disabled"))}else{if(this.checked==null){this.checkMark.removeClass(this.toThemeProperty("jqx-radiobutton-check-indeterminate-disabled"))}}this.box.removeClass(this.toThemeProperty("jqx-radiobutton-disabled"));this.disabled=false;c.jqx.aria(this,"aria-disabled",this.disabled)},destroy:function(){this._removeHandlers();this.host.remove()},_raiseEvent:function(h,n){var q=this.events[h];var l=new c.Event(q);l.owner=this;if(!n){n={}}n.type=this.changeType;this.changeType=null;l.args=n;try{var a=this.host.trigger(l)}catch(o){}return a},propertyChangedHandler:function(a,l,f,h){if(this.isInitialized==undefined||this.isInitialized==false){return}if(l==this.enableContainerClick&&!this.disabled&&!this.locked){if(h){this.host.css("cursor","pointer")}else{this.host.css("cursor","auto")}}if(l=="rtl"){if(h){a.box.addClass(a.toThemeProperty("jqx-radiobutton-rtl"));a.host.addClass(a.toThemeProperty("jqx-rtl"))}else{a.box.removeClass(a.toThemeProperty("jqx-radiobutton-rtl"));a.host.removeClass(a.toThemeProperty("jqx-rtl"))}}if(l=="checked"){switch(h){case true:this.check("api");break;case false:this.uncheck("api");break;case null:this.indeterminate();break}}if(l=="theme"){c.jqx.utilities.setTheme(f,h,this.host)}if(l=="disabled"){if(h){this.disable()}else{this.enable()}}}})})(jqxBaseFramework);(function(c){c.jqx.jqxWidget("jqxRating","",{});c.extend(c.jqx._jqxRating.prototype,{defineInstance:function(){var a={count:5,disabled:false,value:0,height:"auto",width:"auto",precision:1,singleVote:false,itemHeight:"20",itemWidth:"20",_itemHeight:undefined,_itemWidth:undefined,_images:[],aria:{"aria-valuenow":{name:"value",type:"number"},"aria-disabled":{name:"disabled",type:"boolean"}},_events:["change"],_invalidArgumentExceptions:{invalidPrecision:"The value of the precision property is invalid!",invalidWidth:"Width you've entered is invalid!",invalidHeight:"Height you've entered is invalid!",invalidCount:"You've entered invalid value for the count property!",invalidValue:"You've entered invalid value property!"}};c.extend(true,this,a);return a},createInstance:function(a){c.jqx.aria(this);this._createRating()},destroy:function(){this.host.remove()},val:function(a){if(arguments.length==0||typeof(a)=="object"){return this.value}if(typeof a=="string"){this.value=parseInt(a)}else{this.value=a}this.setValue(this.value);return this.value},_createRating:function(){this.host.css("display","none");this.host.empty();this._addInput();this._validateProperties();this._render();this._performLayout();this._removeEventHandlers();this._addEventHandlers();this.host.css("display","block");this.host.addClass(this.toThemeProperty("jqx-widget"));if(this.disabled){this.disable()}},_addInput:function(){var a=this.host.attr("name");this.input=c("<input type='hidden'/>");this.host.append(this.input);if(a){this.input.attr("name",a)}this.input.val(this.value.toString())},_render:function(){for(var a=1;a<=this.count;a++){this._images[a-1]=c('<div style="float:left;width:auto;height:auto;"><div style="position:absolute;width:auto;height:auto;visibility:hidden;" class="jqx-rating-hoverWrapper"><div style="width:auto;height:auto;float:left;" class="'+this.toThemeProperty("jqx-rating-image-hover")+'"></div><div style="visibility:hidden;width:auto;height:auto;" class="'+this.toThemeProperty("jqx-rating-image-backward")+'"></div></div><div style="position:absolute;width:auto;height:auto;" class="jqx-rating-voteWrapper"><div style="width:auto;height:auto;float:left;" class="'+this.toThemeProperty("jqx-rating-image-default")+'"></div><div style="width:0;height:auto;float:left;" class="'+this.toThemeProperty("jqx-rating-image-backward")+'"></div></div></div>');this.host.append(this._images[a-1])}},_performLayout:function(){for(var s=1;s<=this.count;s++){var q=this._images[s-1].find(this.toThemeProperty(".jqx-rating-image-backward",true)),l=this._images[s-1].find(this.toThemeProperty(".jqx-rating-image-default",true)),t=this._images[s-1].find(this.toThemeProperty(".jqx-rating-image-hover",true)),a=this._getImageName(l),o=this._getImageName(t),n=this._getImageName(q);l.css("background-image","none");t.css("background-image","none");q.css("background-image","none");this._appendImage(t,o,s-1);this._appendImage(q,n,s-1);this._appendImage(l,a,s-1)}},resize:function(d,a){this.width=d;this.height=a;this._setControlSize(this.width,this.height)},_setControlSize:function(d,a){this.host.css("height",this.height);this.host.css("width",this.width);if(this.itemHeight&&this.itemHeight!=="auto"){this._itemHeight=parseInt(this.itemHeight)}else{this._itemHeight=a}if(this.itemWidth&&this.itemWidth!=="auto"){this._itemWidth=parseInt(this.itemWidth)}else{this._itemWidth=d}},_appendImage:function(a,n,l){var o=this;var h=c('<img style="-moz-user-select:-moz-none;-khtml-user-select: none;-webkit-user-select:none;user-select:none;" class="'+this.toThemeProperty("jqx-rating-image")+'" src="'+n+'" />');a.append(h);h.load(function(){if(!o._initialized){o._setControlSize(c(this).width(),c(this).height());o._setValue(o.value,".jqx-rating-voteWrapper",".jqx-rating-image-default",".jqx-rating-image-backward");o._initialized=true}o._images[l].height(o._itemHeight);c(this).height(o._itemHeight);o._images[l].width(o._itemWidth);c(this).width(o._itemWidth)});return h},_validateProperties:function(){try{if(this.precision<0.001||this.precision>1){throw this._invalidArgumentExceptions.invalidPrecision}if(this.height!=="auto"&&parseInt(this.height)<0){throw this._invalidArgumentExceptions.invalidHeight}if(this.width!=="auto"&&parseInt(this.width)<0){throw this._invalidArgumentExceptions.invalidWidth}if(this.count<=0){throw this._invalidArgumentExceptions.invalidCount}if(this.value>this.count||this.value<0){throw this._invalidArgumentExceptions.invalidValue}}catch(a){alert(a)}},_getImageIndex:function(d){var a=0;while(d!==this._images[a][0]){a++}return ++a},_getRating:function(l,s){var n=this._getImageIndex(l);if(this.precision<1){var o=parseInt(s)-parseInt(c(l).position().left),t=this._itemWidth*this.precision,q=0;while(q<o){q+=t}if(q>parseInt(this._itemWidth)-t){q=parseInt(this._itemWidth)}var a=q/c(l).width();n-=1-a}return n},_addEventHandlers:function(){var a=this;for(var d=0;d<this.count;d++){if(!c.jqx.mobile.isTouchDevice()){this.addHandler(this._images[d],"mousemove",function(h){var f=a._getRating(this,h.pageX);a._setValue(f,".jqx-rating-hoverWrapper",".jqx-rating-image-hover",".jqx-rating-image-backward")});this.addHandler(this._images[d],"mouseenter",function(l){var h=a._getImageIndex(this);for(var n=0;n<h;n++){a._images[n].children(".jqx-rating-hoverWrapper").css("z-index","10");a._images[n].children(".jqx-rating-voteWrapper").css("z-index","1");a._images[n].children(".jqx-rating-hoverWrapper").css("visibility","visible")}});this.addHandler(this._images[d],"mouseleave",function(l){var h=a._getImageIndex(this);for(var n=0;n<h;n++){a._images[n].children(".jqx-rating-voteWrapper").css("z-index","10");a._images[n].children(".jqx-rating-hoverWrapper").css("z-index","1");a._images[n].children(".jqx-rating-hoverWrapper").css("visibility","hidden")}})}this.addHandler(this._images[d],"click",function(h){var f=a._getRating(this,h.pageX);a._setValue(f,".jqx-rating-voteWrapper",".jqx-rating-image-default",".jqx-rating-image-backward");if(a.singleVote){a.disable()}h.stopPropagation();a._raiseEvent(0,f)});this.addHandler(this._images[d],"dragstart",function(e){return false})}},_removeEventHandlers:function(){for(var a=0;a<this.count;a++){this.removeHandler(this._images[a],"mousemove");this.removeHandler(this._images[a],"mouseenter");this.removeHandler(this._images[a],"mouseleave");this.removeHandler(this._images[a],"click");this.removeHandler(this._images[a],"dragstart")}},_getImageName:function(d){var a=d.css("background-image");a=a.replace('url("',"");a=a.replace('")',"");a=a.replace("url(","");a=a.replace(")","");return a},_setValue:function(t,a,n,q){for(var s=1;s<=this.count;s++){var l=1,o=this._images[s-1].children(a),u=o.children(n),v=o.children(q);if(s>t){if(Math.abs(s-t)<1){l=1-Math.abs(s-t)}else{l=0}}u.width(this._itemWidth*l);v.width(this._itemWidth-parseInt(u.width()));o.children(this.toThemeProperty(q)).children(0).css("margin-left",-this._itemWidth*l+"px")}c.jqx.aria(this,"aria-valuenow",t)},_raiseEvent:function(e,f){var a=new c.Event(this._events[e]);a.owner=this;a.value=f;a.oldvalue=this.value;this.value=f;if(this.input){this.input.val(this.value.toString())}return this.host.trigger(a)},setValue:function(a){this._setValue(a,".jqx-rating-voteWrapper",".jqx-rating-image-default",".jqx-rating-image-backward");this.value=a;this._raiseEvent(0,this.value)},getValue:function(){return this.value},disable:function(){this._removeEventHandlers();this.disabled=true;c.jqx.aria(this,"aria-disabled",true)},enable:function(){this._removeEventHandlers();this._addEventHandlers();this.disabled=false;c.jqx.aria(this,"aria-disabled",false)},propertyChangedHandler:function(a,l,f,h){if(l==="disabled"){if(h){this.disable()}else{this.enable()}return}else{if(l==="value"){a.setValue(h)}else{a._createRating()}}}})})(jqxBaseFramework);(function(c){c.jqx.jqxWidget("jqxSlider","",{});c.extend(c.jqx._jqxSlider.prototype,{defineInstance:function(){var a={disabled:false,width:300,height:30,step:1,max:10,min:0,int64:false,orientation:"horizontal",showTicks:true,ticksPosition:"both",ticksFrequency:2,minorTicksFrequency:1,showMinorTicks:false,showButtons:true,buttonsPosition:"both",mode:"default",showRange:true,rangeSlider:false,value:0,values:[0,10],tooltip:false,tooltipFormatFunction:null,tooltipPosition:"near",tooltipHideDelay:500,sliderButtonSize:14,tickSize:7,minorTickSize:4,showTickLabels:false,tickLabelFormatFunction:null,layout:"normal",rtl:false,changeType:null,_settings:{vertical:{size:"height",oSize:"width",outerOSize:"outerWidth",outerSize:"outerHeight",left:"top",top:"left",start:"_startY",mouse:"_mouseStartY",page:"pageY",opposite:"horizontal"},horizontal:{size:"width",oSize:"height",outerOSize:"outerHeight",outerSize:"outerWidth",left:"left",top:"top",start:"_startX",mouse:"_mouseStartX",page:"pageX",opposite:"vertical"}},_touchEvents:{mousedown:c.jqx.mobile.getTouchEventName("touchstart"),click:c.jqx.mobile.getTouchEventName("touchstart"),mouseup:c.jqx.mobile.getTouchEventName("touchend"),mousemove:c.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave"},_events:["change","slide","slideEnd","slideStart","created"],_invalidArgumentExceptions:{invalidWidth:"Invalid width.",invalidHeight:"Invalid height.",invalidStep:"Invalid step.",invalidMaxValue:"Invalid maximum value.",invalidMinValue:"Invalid minimum value.",invalidTickFrequency:"Invalid tick frequency.",invalidValue:"Invalid value.",invalidValues:"Invalid values.",invalidTicksPosition:"Invalid ticksPosition",invalidButtonsPosition:"Invalid buttonsPosition"},_lastValue:[],_track:null,_leftButton:null,_rightButton:null,_slider:null,_rangeBar:null,_slideEvent:null,_capturedElement:null,_slideStarted:false,aria:{"aria-valuenow":{name:"value",type:"number"},"aria-valuemin":{name:"min",type:"number"},"aria-valuemax":{name:"max",type:"number"},"aria-disabled":{name:"disabled",type:"boolean"}}};c.extend(true,this,a);return a},createInstance:function(a){var d=this;if(d.int64===true){if(!c.jqx.longInt){throw new Error("jqxSlider: Missing reference to jqxdata.js")}c.jqx.longInt(d);d._value64=new c.jqx.math().fromString(d.value.toString(),10);d._values64=[new c.jqx.math().fromString(d.values[0].toString(),10),new c.jqx.math().fromString(d.values[1].toString(),10)];d._min64=new c.jqx.math().fromString(d.min.toString(),10);d._max64=new c.jqx.math().fromString(d.max.toString(),10);d._step64=new c.jqx.math().fromString(d.step.toString(),10);d._ticksFrequency64=new c.jqx.math().fromString(d.ticksFrequency.toString(),10);d._minorTicksFrequency64=new c.jqx.math().fromString(d.minorTicksFrequency.toString(),10)}this.render()},render:function(){this.element.innerHTML="";this.host.attr("role","slider");this.host.addClass(this.toThemeProperty("jqx-slider"));this.host.addClass(this.toThemeProperty("jqx-widget"));c.jqx.aria(this);this._isTouchDevice=c.jqx.mobile.isTouchDevice();this.host.width(this.width);this.host.height(this.height);this._refresh();this._raiseEvent(4,{value:this.getValue()});this._addInput();var d=this;var a=d.host.attr("tabindex")==null;if(a){d.host.attr("tabindex",0)}c.jqx.utilities.resize(this.host,function(){d.__trackSize=null;d.__thumbSize=null;d.host.width(d.width);d.host.height(d.height);d._performLayout();d._initialSettings()})},resize:function(d,a){this.width=d;this.height=a;this.refresh();this.host.width(me.width);this.host.height(me.height);this._performLayout();this._initialSettings()},focus:function(){try{this.host.focus()}catch(a){}},destroy:function(){this.host.remove()},_addInput:function(){var a=this.host.attr("name");this.input=c("<input type='hidden'/>");this.host.append(this.input);if(a){this.input.attr("name",a)}if(!this.rangeSlider){this.input.val(this.value.toString())}else{if(this.values){this.input.val(this.value.rangeStart.toString()+"-"+this.value.rangeEnd.toString())}}},_getSetting:function(a){return this._settings[this.orientation][a]},_getEvent:function(a){if(this._isTouchDevice){return this._touchEvents[a]}else{return a}},refresh:function(a){if(!a){this._refresh()}},_refresh:function(){this._render();this._performLayout();this._removeEventHandlers();this._addEventHandlers();this._initialSettings()},_render:function(){this._addTrack();this._addSliders();this._addTickContainers();this._addContentWrapper();this._addButtons();this._addRangeBar()},_addTrack:function(){if(this._track===null||this._track.length<1){this._track=c('<div class="'+this.toThemeProperty("jqx-slider-track")+'"></div>');this.host.append(this._track)}this._track.attr("style","");this._track.removeClass(this.toThemeProperty("jqx-slider-track-"+this._getSetting("opposite")));this._track.addClass(this.toThemeProperty("jqx-slider-track-"+this.orientation));this._track.addClass(this.toThemeProperty("jqx-fill-state-normal"));this._track.addClass(this.toThemeProperty("jqx-rc-all"))},_addSliders:function(){if(this._slider===null||this._slider.length<1){this._slider={};this._slider.left=c('<div class="'+this.toThemeProperty("jqx-slider-slider")+'"></div>');this._track.append(this._slider.left);this._slider.right=c('<div class="'+this.toThemeProperty("jqx-slider-slider")+'"></div>');this._track.append(this._slider.right)}this._slider.left.removeClass(this.toThemeProperty("jqx-slider-slider-"+this._getSetting("opposite")));this._slider.left.addClass(this.toThemeProperty("jqx-slider-slider-"+this.orientation));this._slider.right.removeClass(this.toThemeProperty("jqx-slider-slider-"+this._getSetting("opposite")));this._slider.right.addClass(this.toThemeProperty("jqx-slider-slider-"+this.orientation));this._slider.right.addClass(this.toThemeProperty("jqx-fill-state-normal"));this._slider.left.addClass(this.toThemeProperty("jqx-fill-state-normal"))},_addTickContainers:function(){if(this._bottomTicks!==null||this._bottomTicks.length<1||this._topTicks!==null||this._topTicks.length<1){this._addTickContainers()}var a="visible";if(!this.showTicks){a="hidden"}this._bottomTicks.css("visibility",a);this._topTicks.css("visibility",a)},_addTickContainers:function(){if(typeof this._bottomTicks==="undefined"||this._bottomTicks.length<1){this._bottomTicks=c('<div class="'+this.toThemeProperty("jqx-slider-tickscontainer")+'" style=""></div>');this.host.prepend(this._bottomTicks)}if(typeof this._topTicks==="undefined"||this._topTicks.length<1){this._topTicks=c('<div class="'+this.toThemeProperty("jqx-slider-tickscontainer")+'" style=""></div>');this.host.append(this._topTicks)}},_addButtons:function(){if(this._leftButton===null||this._leftButton.length<1||this._rightButton===null||this._rightButton.length<1){this._createButtons()}var a="block";if(!this.showButtons||this.rangeSlider){a="none"}this._rightButton.css("display",a);this._leftButton.css("display",a)},_createButtons:function(){this._leftButton=c('<div class="jqx-slider-left"><div style="width: 100%; height: 100%;"></div></div>');this._rightButton=c('<div class="jqx-slider-right"><div style="width: 100%; height: 100%;"></div></div>');this.host.prepend(this._rightButton);this.host.prepend(this._leftButton);if(!this.host.jqxRepeatButton){throw new Error("jqxSlider: Missing reference to jqxbuttons.js.")}this._leftButton.jqxRepeatButton({theme:this.theme,delay:50,width:this.sliderButtonSize,height:this.sliderButtonSize});this._rightButton.jqxRepeatButton({theme:this.theme,delay:50,width:this.sliderButtonSize,height:this.sliderButtonSize})},_addContentWrapper:function(){if(this._contentWrapper===undefined||this._contentWrapper.length===0){this.host.wrapInner("<div></div>");this._contentWrapper=this.host.children(0)}if(this.orientation==="horizontal"){this._contentWrapper.css("float","left")}else{this._contentWrapper.css("float","none")}},_addTicks:function(I){if(!this.showTicks){return}var G=I[this._getSetting("size")](),z,F,w,B,D,v;if(this.int64===false){z=this.max-this.min;F=Math.round(z/this.ticksFrequency);w=Math.round(z/this.minorTicksFrequency);D=this.min;v=this.max}else{z=this._max64.subtract(this._min64);F=z.div(this._ticksFrequency64).toNumber();w=z.div(this._minorTicksFrequency64).toNumber();D=this._min64.toString();v=this._max64.toString()}var J=G/F,B=G/w;I.empty();var a="",H;if((this.layout==="normal"&&this.orientation==="horizontal")||(this.layout==="reverse"&&this.orientation==="vertical")){H=this.tickLabelFormatFunction?this.tickLabelFormatFunction(D):D}else{H=this.tickLabelFormatFunction?this.tickLabelFormatFunction(v):v}var t=c("<span style='visibility: hidden;'></span>");t.addClass(this.toThemeProperty("jqx-widget jqx-widget-content jqx-slider"));t.appendTo(document.body);t.html("0");var A={width:t.width(),height:t.height()};t.detach();var K=I[this._getSetting("oSize")]();a+=this._addTick(I,0,this.min,K,H,A);for(var C=1;C<F;C++){var E=C*J;E=Math.floor(E);var u;if(this.int64===false){if((this.layout==="normal"&&this.orientation==="horizontal")||(this.layout==="reverse"&&this.orientation==="vertical")){u=this.min+this.ticksFrequency*C}else{u=this.max-this.ticksFrequency*C}}else{if((this.layout==="normal"&&this.orientation==="horizontal")||(this.layout==="reverse"&&this.orientation==="vertical")){u=this._min64.add(this._ticksFrequency64.multiply(new c.jqx.math().fromString(C.toString(),10))).toString()}else{u=this._max64.subtract(this._ticksFrequency64.multiply(new c.jqx.math().fromString(C.toString(),10))).toString()}}var H=this.tickLabelFormatFunction?this.tickLabelFormatFunction(u):u;a+=this._addTick(I,E,C,K,H,A)}if(this.showMinorTicks){for(var C=1;C<w;C++){var E=C*B;E=Math.floor(E);var H="";a+=this._addTick(I,E,C,K,H,A,true)}}if((this.layout==="normal"&&this.orientation==="horizontal")||(this.layout==="reverse"&&this.orientation==="vertical")){H=this.tickLabelFormatFunction?this.tickLabelFormatFunction(v):v}else{H=this.tickLabelFormatFunction?this.tickLabelFormatFunction(D):D}a+=this._addTick(I,F*J,this.max,K,H,A);I.append(c(a))},_addTick:function(G,A,t,h,F,z,s){var a="";a=this.toThemeProperty("jqx-slider-tick");a+=" "+this.toThemeProperty("jqx-fill-state-pressed");var D;var v=this._getSetting("top");var E="2px";var C=this.tickSize;if(s){C=this.minorTickSize}if(G[0]!==this._topTicks[0]){E=h-C-2+"px"}if(this.orientation==="horizontal"){D='<div style="'+v+": "+E+"; "+this._getSetting("oSize")+":  "+C+"px; float: left; position:absolute; left:"+A+'px;" class="'+this.toThemeProperty("jqx-slider-tick-horizontal")+" "+a+'"></div>';if(this.showTickLabels){if(G[0]!==this._topTicks[0]){E=h-C-z.height-2+"px"}else{E=2+C+"px"}var u=z.width*F.toString().length;u=u/2;var w=A-u;D+='<div style="'+v+": "+E+"; float: left; position:absolute; left:"+w+'px;">'+F+"</div>"}}else{D='<div style="'+v+": "+E+"; "+this._getSetting("oSize")+":  "+C+"px; float: none; position:absolute; top:"+A+'px;" class="'+this.toThemeProperty("jqx-slider-tick-vertical")+" "+a+'"></div>';if(this.showTickLabels){if(G[0]!==this._topTicks[0]){E=h-C-F.toString().length*z.width-6+"px"}else{E=6+C+"px"}var B=z.height;B=B/2;var w=A-B;D+='<div style="'+v+": "+E+"; float: none; position:absolute; top:"+w+'px;">'+F+"</div>"}}return D},_addRangeBar:function(){if(this._rangeBar===null||this._rangeBar.length<1){this._rangeBar=c('<div class="'+this.toThemeProperty("jqx-slider-rangebar")+'"></div>');this._rangeBar.addClass(this.toThemeProperty("jqx-fill-state-pressed"));this._rangeBar.addClass(this.toThemeProperty("jqx-rc-all"));this._track.append(this._rangeBar)}if(!this.showRange){this._rangeBar.css("display","none")}else{this._rangeBar.css("display","block")}this._thumbSize=this._slider.left.outerWidth()},_getLeftDisplacement:function(){if(!this.showButtons){return 0}if(this.rangeSlider){return 0}switch(this.buttonsPosition){case"left":return this._leftButton[this._getSetting("outerSize")](true)+this._rightButton[this._getSetting("outerSize")](true);case"right":return 0;default:return this._leftButton[this._getSetting("outerSize")](true)}return 0},_performLayout:function(){this.host.width(this.width);this.host.height(this.height);var a=this.host.height();if(this._getSetting("size")=="width"){a=this.host.width()}this._performButtonsLayout();this._performTrackLayout(a-1);this._contentWrapper[this._getSetting("size")](this._track[this._getSetting("size")]());this._contentWrapper[this._getSetting("oSize")](this[this._getSetting("oSize")]);this._performTicksLayout();this._performRangeBarLayout();if(this.rangeSlider){this._slider.left.css("visibility","visible")}else{this._slider.left.css("visibility","hidden")}this._refreshRangeBar();if(this.orientation=="vertical"){if(this.showButtons){var d=parseInt((this._leftButton.width()-this._track.width())/2);this._track.css("margin-left",-3+d+"px")}}},_performTrackLayout:function(a){this._track[this._getSetting("size")](a-((this.showButtons&&!this.rangeSlider)?this._leftButton[this._getSetting("outerSize")](true)+this._rightButton[this._getSetting("outerSize")](true):0));this._slider.left.css("left",0);this._slider.left.css("top",0);this._slider.right.css("left",0);this._slider.right.css("top",0)},_performTicksLayout:function(){this._performTicksContainerLayout();this._addTicks(this._topTicks);this._addTicks(this._bottomTicks);this._topTicks.css("visibility","hidden");this._bottomTicks.css("visibility","hidden");if((this.ticksPosition==="top"||this.ticksPosition==="both")&&this.showTicks){this._bottomTicks.css("visibility","visible")}if((this.ticksPosition==="bottom"||this.ticksPosition==="both")&&this.showTicks){this._topTicks.css("visibility","visible")}},_performTicksContainerLayout:function(){var h=this._getSetting("size");var l=this._getSetting("oSize");var a=this._getSetting("outerOSize");this._topTicks[h](this._track[h]());this._bottomTicks[h](this._track[h]());var n=-2+(parseInt(this[l])-this._track[a](true))/2;this._topTicks[l](parseInt(n));var o=-2+(parseInt(this[l])-this._track[a](true))/2;this._bottomTicks[l](parseInt(o));if(this.orientation==="vertical"){this._topTicks.css("float","left");this._track.css("float","left");this._bottomTicks.css("float","left")}else{this._topTicks.css("float","none");this._track.css("float","none");this._bottomTicks.css("float","none")}},_performButtonsLayout:function(){this._addButtonsStyles();this._addButtonsClasses();this._addButtonsHover();this._orderButtons();this._centerElement(this._rightButton);this._centerElement(this._leftButton);this._layoutButtons()},_addButtonsStyles:function(){this._leftButton.css("background-position","center");this._rightButton.css("background-position","center");if(this.orientation==="vertical"){this._leftButton.css("float","none");this._rightButton.css("float","none")}else{this._leftButton.css("float","left");this._rightButton.css("float","left")}},_addButtonsClasses:function(){var a={prev:"left",next:"right"};if(this.orientation==="vertical"){a={prev:"up",next:"down"}}this._leftButton.addClass(this.toThemeProperty("jqx-rc-all"));this._rightButton.addClass(this.toThemeProperty("jqx-rc-all"));this._leftButton.addClass(this.toThemeProperty("jqx-slider-button"));this._rightButton.addClass(this.toThemeProperty("jqx-slider-button"));this._leftArrow=this._leftButton.find("div");this._rightArrow=this._rightButton.find("div");this._leftArrow.removeClass(this.toThemeProperty("jqx-icon-arrow-left"));this._rightArrow.removeClass(this.toThemeProperty("jqx-icon-arrow-right"));this._leftArrow.removeClass(this.toThemeProperty("jqx-icon-arrow-up"));this._rightArrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down"));this._leftArrow.addClass(this.toThemeProperty("jqx-icon-arrow-"+a.prev));this._rightArrow.addClass(this.toThemeProperty("jqx-icon-arrow-"+a.next))},_addButtonsHover:function(){var d=this,a={prev:"left",next:"right"};if(this.orientation==="vertical"){a={prev:"up",next:"down"}}this.addHandler(c(document),"mouseup.arrow"+this.element.id,function(){d._leftArrow.removeClass(d.toThemeProperty("jqx-icon-arrow-"+a.prev+"-selected"));d._rightArrow.removeClass(d.toThemeProperty("jqx-icon-arrow-"+a.next+"-selected"));if(d.sliderTooltip){if(d.sliderTooltipTimer){clearTimeout(d.sliderTooltipTimer)}d.sliderTooltipTimer=setTimeout(function(){d.sliderTooltip.fadeOut("fast");d._mouseDown=false},d.tooltipHideDelay)}else{d._mouseDown=false}});this.addHandler(this._leftButton,"mousedown",function(){if(!d.disabled){d._leftArrow.addClass(d.toThemeProperty("jqx-icon-arrow-"+a.prev+"-selected"));d._mouseDown=true}});this.addHandler(this._leftButton,"mouseup",function(){if(!d.disabled){d._leftArrow.removeClass(d.toThemeProperty("jqx-icon-arrow-"+a.prev+"-selected"))}});this.addHandler(this._rightButton,"mousedown",function(){if(!d.disabled){d._rightArrow.addClass(d.toThemeProperty("jqx-icon-arrow-"+a.next+"-selected"));d._mouseDown=true}});this.addHandler(this._rightButton,"mouseup",function(){if(!d.disabled){d._rightArrow.removeClass(d.toThemeProperty("jqx-icon-arrow-"+a.next+"-selected"))}});this._leftButton.hover(function(){if(!d.disabled){d._leftArrow.addClass(d.toThemeProperty("jqx-icon-arrow-"+a.prev+"-hover"))}},function(){if(!d.disabled){d._leftArrow.removeClass(d.toThemeProperty("jqx-icon-arrow-"+a.prev+"-hover"))}});this._rightButton.hover(function(){if(!d.disabled){d._rightArrow.addClass(d.toThemeProperty("jqx-icon-arrow-"+a.next+"-hover"))}},function(){if(!d.disabled){d._rightArrow.removeClass(d.toThemeProperty("jqx-icon-arrow-"+a.next+"-hover"))}})},_layoutButtons:function(){if(this.orientation==="horizontal"){this._horizontalButtonsLayout()}else{this._verticalButtonsLayout()}},_horizontalButtonsLayout:function(){var a=(2+Math.ceil(this.sliderButtonSize/2));if(this.buttonsPosition=="left"){this._leftButton.css("margin-right","0px");this._rightButton.css("margin-right",a)}else{if(this.buttonsPosition=="right"){this._leftButton.css("margin-left",2+a);this._rightButton.css("margin-right","0px")}else{this._leftButton.css("margin-right",a);this._rightButton.css("margin-left",2+a)}}},_verticalButtonsLayout:function(){var d=(2+Math.ceil(this.sliderButtonSize/2));if(this.buttonsPosition=="left"){this._leftButton.css("margin-bottom","0px");this._rightButton.css("margin-bottom",d)}else{if(this.buttonsPosition=="right"){this._leftButton.css("margin-top",2+d);this._rightButton.css("margin-bottom","0px")}else{this._leftButton.css("margin-bottom",d);this._rightButton.css("margin-top",2+d)}}var a=this._leftButton.css("margin-left");this._leftButton.css("margin-left",parseInt(a)-1);this._rightButton.css("margin-left",parseInt(a)-1)},_orderButtons:function(){this._rightButton.detach();this._leftButton.detach();switch(this.buttonsPosition){case"left":this.host.prepend(this._rightButton);this.host.prepend(this._leftButton);break;case"right":this.host.append(this._leftButton);this.host.append(this._rightButton);break;case"both":this.host.prepend(this._leftButton);this.host.append(this._rightButton);break}},_performRangeBarLayout:function(){this._rangeBar[this._getSetting("oSize")](this._track[this._getSetting("oSize")]());this._rangeBar[this._getSetting("size")](this._track[this._getSetting("size")]());this._rangeBar.css("position","absolute");this._rangeBar.css("left",0);this._rangeBar.css("top",0)},_centerElement:function(d){var a=-1+(c(d.parent())[this._getSetting("oSize")]()-d[this._getSetting("outerOSize")]())/2;d.css("margin-"+[this._getSetting("left")],0);d.css("margin-"+[this._getSetting("top")],a);return d},_raiseEvent:function(h,o){var n=this._events[h];var l=new c.Event(n);if(this._triggerEvents===false){return true}l.args=o;if(h==0){l.args.type=this.changeType;this.changeType=null}if(h===1){l.args.cancel=false;this._slideEvent=l}this._lastValue[h]=o.value;l.owner=this;var a=this.host.trigger(l);return a},_initialSettings:function(){if(this.int64===false){if(this.rangeSlider){if(typeof this.value!=="number"){this.setValue(this.value)}else{this.setValue(this.values)}}else{if(this.value==undefined){this.value=0}this.setValue(this.value)}}else{if(this.rangeSlider===false||Array.isArray(this._value64)===true){this.setValue(this._value64)}else{this.setValue(this._values64)}}if(this.disabled){this.disable()}},_addEventHandlers:function(){var a=this;this.addHandler(this._slider.right,this._getEvent("mousedown"),this._startDrag,{self:this});this.addHandler(this._slider.left,this._getEvent("mousedown"),this._startDrag,{self:this});this.addHandler(c(document),this._getEvent("mouseup")+"."+this.element.id,function(){a._stopDrag()});try{if(document.referrer!=""||window.frameElement){if(window.top!=null&&window.top!=window.self){var n=function(d){a._stopDrag()};var h=null;if(window.parent&&document.referrer){h=document.referrer}if(h&&h.indexOf(document.location.host)!=-1){if(window.top.document){if(window.top.document.addEventListener){window.top.document.addEventListener("mouseup",n,false)}else{if(window.top.document.attachEvent){window.top.document.attachEvent("onmouseup",n)}}}}}}}catch(o){}this.addHandler(c(document),this._getEvent("mousemove")+"."+this.element.id,this._performDrag,{self:this});var l=this;this.addHandler(this._slider.left,"mouseenter",function(){if(!l.disabled){a._slider.left.addClass(a.toThemeProperty("jqx-fill-state-hover"))}});this.addHandler(this._slider.right,"mouseenter",function(){if(!l.disabled){a._slider.right.addClass(a.toThemeProperty("jqx-fill-state-hover"))}});this.addHandler(this._slider.left,"mouseleave",function(){if(!l.disabled){a._slider.left.removeClass(a.toThemeProperty("jqx-fill-state-hover"))}});this.addHandler(this._slider.right,"mouseleave",function(){if(!l.disabled){a._slider.right.removeClass(a.toThemeProperty("jqx-fill-state-hover"))}});this.addHandler(this._slider.left,"mousedown",function(){if(!l.disabled){a._slider.left.addClass(a.toThemeProperty("jqx-fill-state-pressed"))}});this.addHandler(this._slider.right,"mousedown",function(){if(!l.disabled){a._slider.right.addClass(a.toThemeProperty("jqx-fill-state-pressed"))}});this.addHandler(this._slider.left,"mouseup",function(){if(!l.disabled){a._slider.left.removeClass(a.toThemeProperty("jqx-fill-state-pressed"))}});this.addHandler(this._slider.right,"mouseup",function(){if(!l.disabled){a._slider.right.removeClass(a.toThemeProperty("jqx-fill-state-pressed"))}});this.addHandler(this._leftButton,this._getEvent("click"),this._leftButtonHandler,{self:this});this.addHandler(this._rightButton,this._getEvent("click"),this._rightButtonHandler,{self:this});this.addHandler(this._track,this._getEvent("mousedown"),this._trackMouseDownHandler,{self:this});this.addHandler(this.host,"focus",function(){a._track.addClass(a.toThemeProperty("jqx-fill-state-focus"));a._leftButton.addClass(a.toThemeProperty("jqx-fill-state-focus"));a._rightButton.addClass(a.toThemeProperty("jqx-fill-state-focus"));a._slider.right.addClass(a.toThemeProperty("jqx-fill-state-focus"));a._slider.left.addClass(a.toThemeProperty("jqx-fill-state-focus"))});this.addHandler(this.host,"blur",function(){a._leftButton.removeClass(a.toThemeProperty("jqx-fill-state-focus"));a._rightButton.removeClass(a.toThemeProperty("jqx-fill-state-focus"));a._track.removeClass(a.toThemeProperty("jqx-fill-state-focus"));a._slider.right.removeClass(a.toThemeProperty("jqx-fill-state-focus"));a._slider.left.removeClass(a.toThemeProperty("jqx-fill-state-focus"))});this.element.onselectstart=function(){return false};this._addMouseWheelListeners();this._addKeyboardListeners()},_addMouseWheelListeners:function(){var a=this;this.addHandler(this.host,"mousewheel",function(e){if(a.disabled){return true}a.changeType="mouse";if(document.activeElement&&!c(document.activeElement).ischildof(a.host)){return true}var f=e.wheelDelta;if(e.originalEvent&&e.originalEvent.wheelDelta){e.wheelDelta=e.originalEvent.wheelDelta}if(!("wheelDelta" in e)){f=e.detail*-40}if(f>0){a.incrementValue()}else{a.decrementValue()}e.preventDefault()})},_addKeyboardListeners:function(){var a=this;this.addHandler(this.host,"keydown",function(d){a.changeType="keyboard";switch(d.keyCode){case 40:case 37:if(a.layout=="normal"&&!a.rtl){a.decrementValue()}else{a.incrementValue()}return false;case 38:case 39:if(a.layout=="normal"&&!a.rtl){a.incrementValue()}else{a.decrementValue()}return false;case 36:if(a.rangeSlider){a.setValue([a.values[0],a.max])}else{a.setValue(a.min)}return false;case 35:if(a.rangeSlider){a.setValue([a.min,a.values[1]])}else{a.setValue(a.max)}return false}})},_trackMouseDownHandler:function(v){var s=c.jqx.mobile.getTouches(v);var t=s[0];var l=v.data.self,v=(l._isTouchDevice)?t:v,q=l._track.coord()[l._getSetting("left")],n=v[l._getSetting("page")]-l._slider.left[l._getSetting("size")]()/2,u=l._getClosest(n),a=parseInt(l._track[l._getSetting("size")]());var o=l._getValueByPosition(n);l._mouseDown=true;l.changeType="mouse";l._setValue(o,u);if(l.input){c.jqx.aria(l,"aria-valuenow",l.input.val())}},_getClosest:function(a){if(!this.rangeSlider){return this._slider.right}else{a=a-this._track.coord()[this._getSetting("left")]-this._slider.left[this._getSetting("size")]()/2;if(Math.abs(parseInt(this._slider.left.css(this._getSetting("left")),10)-a)<Math.abs(parseInt(this._slider.right.css(this._getSetting("left")),10)-a)){return this._slider.left}else{return this._slider.right}}},_removeEventHandlers:function(){this.removeHandler(this._slider.right,this._getEvent("mousedown"),this._startDrag);this.removeHandler(this._slider.left,this._getEvent("mousedown"),this._startDrag);this.removeHandler(c(document),this._getEvent("mouseup")+"."+this.host.attr("id"),this._stopDrag);this.removeHandler(c(document),this._getEvent("mousemove")+"."+this.host.attr("id"),this._performDrag);this.removeHandler(this._leftButton,this._getEvent("click"),this._leftButtonHandler);this.removeHandler(this._rightButton,this._getEvent("click"),this._rightButtonHandler);this.removeHandler(this._track,this._getEvent("mousedown"),this._trackMouseDownHandler);this.element.onselectstart=null;this.removeHandler(this.host,this._getEvent("mousewheel"));this.removeHandler(this.host,this._getEvent("keydown"))},_rightButtonClick:function(){this.changeType="mouse";if(this.orientation=="horizontal"&&!this.rtl){this.incrementValue()}else{this.decrementValue()}},_leftButtonClick:function(){this.changeType="mouse";if(this.orientation=="horizontal"&&!this.rtl){this.decrementValue()}else{this.incrementValue()}},_rightButtonHandler:function(d){var a=d.data.self;if(a.layout=="normal"){a._rightButtonClick()}else{a._leftButtonClick()}return false},_leftButtonHandler:function(d){var a=d.data.self;if(a.layout=="normal"){a._leftButtonClick()}else{a._rightButtonClick()}return false},_startDrag:function(n){var l=c.jqx.mobile.getTouches(n);var h=l[0];var o=n.data.self;o.changeType="mouse";o._capturedElement=c(n.target);o._startX=c(n.target).coord().left;o._startY=c(n.target).coord().top;var a=c.jqx.position(n);o._mouseStartX=a.left;o._mouseStartY=a.top;o._mouseDown=true;if(o.tooltip){o._showTooltip(o._capturedElement,o.value)}if(o._isTouchDevice){return false}},_stopDrag:function(){var a=this;if(a._slideStarted){a._raiseEvent(2,{value:a.getValue()})}if(!a._slideStarted||a._capturedElement==null){a._capturedElement=null;return}if(this.input){c.jqx.aria(this,"aria-valuenow",this.input.val())}a._slider.left.removeClass(a.toThemeProperty("jqx-fill-state-pressed"));a._slider.right.removeClass(a.toThemeProperty("jqx-fill-state-pressed"));a._slideStarted=false;a._capturedElement=null;if(a.sliderTooltip){a.sliderTooltip.fadeOut("fast")}},_performDrag:function(o){var q=o.data.self;if(q._capturedElement!==null){var l=c.jqx.mobile.getTouches(o);var h=l[0];if(o.which===0&&c.jqx.browser.msie&&c.jqx.browser.version<9){q._stopDrag();return false}var a=c.jqx.position(o);var n=q.orientation=="horizontal"?a.left:a.top;q._isDragged(n);if(q._slideStarted||q._isTouchDevice){return q._dragHandler(n)}}},_isDragged:function(a){if(Math.abs(a-this[this._getSetting("mouse")])>2&&!this._slideStarted){this._slideStarted=true;if(this._valueChanged(3)){this._raiseEvent(3,{value:this.getValue()})}}else{if(this._capturedElement===null){this._slideStarted=false}}},_dragHandler:function(a){a=(a-this[this._getSetting("mouse")])+this[this._getSetting("start")];var o=this._getValueByPosition(a);if(this.rangeSlider){var n=this._slider.right,h=this._slider.left;var l=this._getSetting("left");if(this._capturedElement[0]===h[0]){if(parseFloat(a)>n.coord()[l]){a=n.coord()[l]}}else{if(parseFloat(a)<h.coord()[l]){a=h.coord()[l]}}}this._setValue(o,this._capturedElement,a);return false},_getValueByPosition:function(a){if(this.mode==="default"){return this._getFloatingValueByPosition(a)}else{return this._getFixedValueByPosition(a)}},_getFloatingValueByPosition:function(a){var t=a-this._track.coord()[this._getSetting("left")]+this._slider.left.width()/2,n=t/this._track[this._getSetting("size")](),l;if(t<0){t=0}if(this.int64===false){l=(this.max-this.min)*n+this.min}else{var o=new c.jqx.math().fromNumber(this._track[this._getSetting("size")](),10);var s=this._max64.subtract(this._min64);var q=Math.round(this._divide64(s,o)*t);l=new c.jqx.math().fromNumber(q,10).add(this._min64)}if(this.layout=="normal"){if(this.orientation==="horizontal"&&!this.rtl){return l}else{return(this.max+this.min)-l}}else{if(this.orientation==="horizontal"&&!this.rtl){if(this.int64===false){return(this.max+this.min)-l}else{return(this._max64.add(this._min64)).subtract(l)}}else{return l}}},_getThumbSize:function(){if(this.__thumbSize){return this.__thumbSize}var a=this._slider.left[this._getSetting("size")]();this.__thumbSize=a;return a},_getTrackSize:function(){if(this.__trackSize){return this.__trackSize}var a=this._track[this._getSetting("size")]();this.__trackSize=a;return a},_getFixedValueByPosition:function(u){var o=this._getTrackSize(),w=this._getThumbSize(),a={number:-1,distance:Number.MAX_VALUE},z,s,t,n;if(this.int64===false){z=this.step;t=(this.max-this.min)/z;s=(o)/t;n=this._track.coord()[this._getSetting("left")]-w/2;var q=this.max+this.step;if(this.mode=="fixedRange"){q=this.max}for(var v=this.min;v<=q;v+=this.step){if(Math.abs(a.distance-u)>Math.abs(n-u)){a.distance=n;a.number=v}n+=s}}else{z=this._step64;t=(this._max64.subtract(this._min64)).div(this._step64);s=new c.jqx.math().fromNumber(o,10).div(t).toNumber();n=this._track.coord()[this._getSetting("left")]-w/2;a={number:new c.jqx.math().fromString(this._min64.toString(),10),distance:n};for(var A=new c.jqx.math().fromString(this._min64.toString(),10);this.mode!="fixedRange"?A.lessThanOrEqual(this._max64.add(this._step64)):A.lessThanOrEqual(this._max64);A=A.add(this._step64)){if(Math.abs(a.distance-u)>Math.abs(n-u)){a.distance=n;a.number=new c.jqx.math().fromString(A.toString(),10)}n+=s}}if(this.layout=="normal"){if(this.orientation==="horizontal"&&!this.rtl){return a.number}else{return(this.max+this.min)-a.number}}else{if(this.orientation==="horizontal"&&!this.rtl){return(this.max+this.min)-a.number}else{return a.number}}},_setValue:function(f,h,a){if(!this._slideEvent||!this._slideEvent.args.cancel){f=this._handleValue(f,h);this._setSliderPosition(f,h,a);this._fixZIndexes();if(this._valueChanged(1)){var l=this._raiseEvent(1,{value:this.getValue()})}if(this._valueChanged(0)){this._raiseEvent(0,{value:this.getValue()})}if(this.input){if(!this.rangeSlider){this.input.val(this.value.toString())}else{if(this.values){if(this.value.rangeEnd!=undefined&&this.value.rangeStart!=undefined){this.input.val(this.value.rangeStart.toString()+"-"+this.value.rangeEnd.toString())}}}}}},_valueChanged:function(d){var a=this.getValue();return(!this.rangeSlider&&this._lastValue[d]!==a)||(this.rangeSlider&&(typeof this._lastValue[d]!=="object"||parseFloat(this._lastValue[d].rangeEnd)!==parseFloat(a.rangeEnd)||parseFloat(this._lastValue[d].rangeStart)!==parseFloat(a.rangeStart)))},_handleValue:function(d,a){d=this._validateValue(d,a);if(a[0]===this._slider.left[0]){this.values[0]=this.int64?d.toString():d;if(this.int64===true){this._value64[0]=d}}if(a[0]===this._slider.right[0]){this.values[1]=this.int64?d.toString():d;if(this.int64===true){this._values64[1]=d}}if(this.rangeSlider){this.value={rangeStart:this.values[0],rangeEnd:this.values[1]};if(this.int64===true){this._value64={rangeStart:this._values64[0],rangeEnd:this._values64[1]}}}else{if(this.int64===false){this.value=d}else{this.value=d.toString();this._value64=d}}return d},_fixZIndexes:function(){if(this.values[1]-this.values[0]<0.5&&this.max-this.values[0]<0.5){this._slider.left.css("z-index",20);this._slider.right.css("z-index",15)}else{this._slider.left.css("z-index",15);this._slider.right.css("z-index",20)}},_refreshRangeBar:function(){var f=this._getSetting("left");var l=this._getSetting("size");var h=this.rtl&&this.orientation=="horizontal";if(this.layout=="normal"){var a=this._slider.left.position()[f];if(this.orientation==="vertical"||h){a=this._slider.right.position()[f]}}else{var a=this._slider.right.position()[f];if(this.orientation==="vertical"||h){var a=this._slider.left.position()[f]}}this._rangeBar.css(f,a+this._slider.left[l]()/2);this._rangeBar[l](Math.abs(this._slider.right.position()[f]-this._slider.left.position()[f]))},_validateValue:function(d,a){if(this.int64===false){if(d>this.max){d=this.max}if(d<this.min){d=this.min}if(this.rangeSlider){if(a[0]===this._slider.left[0]){if(d>=this.values[1]){d=this.values[1]}}else{if(d<=this.values[0]){d=this.values[0]}}}}else{if(d.greaterThan(this._max64)){d=this._max64}if(d.lessThan(this._min64)){d=this._min64}}return d},_setSliderPosition:function(n,u,a){var q=this._track[this._getSetting("size")](),s,l;if(a){a-=this._track.coord()[this._getSetting("left")]}if(this.int64){if(typeof n==="number"){n=new c.jqx.math().fromNumber(n,10)}else{if(typeof n==="string"){n=new c.jqx.math().fromString(n,10)}}if(n.greaterThan(this._max64)){n=new c.jqx.math().fromString(this._max64.toString(),10)}if(n.lessThan(this._min64)){n=new c.jqx.math().fromString(this._min64.toString(),10)}var o=this._divide64(n.subtract(this._min64),this._max64.subtract(this._min64));var t=1-o;if(this.layout=="normal"){var s=o;if(this.orientation!="horizontal"||(this.orientation=="horizontal"&&this.rtl)){s=t}}else{var s=t;if(this.orientation!="horizontal"||(this.orientation=="horizontal"&&this.rtl)){s=o}}l=q*s-this._slider.left[this._getSetting("size")]()/2;u.css(this._getSetting("left"),l)}else{if(this.layout=="normal"){var s=(n-this.min)/(this.max-this.min);if(this.orientation!="horizontal"||(this.orientation=="horizontal"&&this.rtl)){s=1-((n-this.min)/(this.max-this.min))}}else{var s=1-((n-this.min)/(this.max-this.min));if(this.orientation!="horizontal"||(this.orientation=="horizontal"&&this.rtl)){s=(n-this.min)/(this.max-this.min)}}l=q*s-this._slider.left[this._getSetting("size")]()/2;u.css(this._getSetting("left"),l)}if(this.tooltip){this._showTooltip(u,this.value)}this._refreshRangeBar()},_divide64:function(v,A){var s,q,z,o,a;s=v.toString();z=A.toString();if(z.length>15){var n=z.length-15;z=z.slice(0,15)+"."+z.slice(15);o=parseFloat(z);if(s.length>n){var t=s.length-n;s=s.slice(0,t)+"."+s.slice(t)}else{if(s.length===n){s="0."+s}else{var u="0.";for(var w=0;w<n-s.length;w++){u+="0"}s=u+""+s}}q=parseFloat(s)}else{q=v.toNumber();o=A.toNumber()}a=q/o;return a},_showTooltip:function(a,z){var G=this;if(G._slideStarted||G._capturedElement!=null||G._mouseDown){if(G.tooltipFormatFunction){z=G.tooltipFormatFunction(z)}else{if(G.mode==="default"){z=new Number(z).toFixed(2)}}if(!G.toolTipCreated){var K="tooltip"+G.element.id;var J=c('<div id="'+K+'"><div id ="'+K+'Main"><div id="'+K+'Text"></div></div><div id="'+K+'Arrow"></div></div>');J.css("visibility","hidden");J.css("display","none");J.css("z-index",99999);J.css("box-shadow","none");G.sliderTooltip=J;G.sliderTooltip.appendTo(c(document.body));c("#"+K+"Text").html(z);var B="#"+K;var F=c(B+"Main");var v=c(B+"Text");var u=c(B+"Arrow");F.addClass(G.toThemeProperty("jqx-widget"));v.addClass(G.toThemeProperty("jqx-widget"));u.addClass(G.toThemeProperty("jqx-widget"));F.addClass(G.toThemeProperty("jqx-fill-state-normal"));v.addClass(G.toThemeProperty("jqx-fill-state-normal"));u.addClass(G.toThemeProperty("jqx-fill-state-normal"));c(B).addClass(G.toThemeProperty("jqx-tooltip"));c(B).addClass(G.toThemeProperty("jqx-popup"));F.addClass(G.toThemeProperty("jqx-tooltip-main"));v.addClass(G.toThemeProperty("jqx-tooltip-text"));u.addClass(G.toThemeProperty("jqx-tooltip-arrow"));G.sliderTooltipContent=v;G.sliderTooltipArrow=u;G.sliderTooltipMain=F;G.arrow_size=5;G.toolTipCreated=true;if(G.rangeSlider){G.sliderTooltipArrow.css("visibility","hidden")}}var D=a.coord();G.sliderTooltip[0].style.display="block";G.sliderTooltip[0].style.visibility="visible";var C=G.sliderButtonSize+G.tickSize;if(!G.rangeSlider){G.sliderTooltipContent[0].innerHTML=z}else{var w=G.value?G.value.rangeStart:"";var L=G.value?G.value.rangeEnd:"";if(w!==""){G.sliderTooltipContent[0].innerHTML=w+" - "+L}else{G.sliderTooltip[0].style.display="none";G.sliderTooltip[0].style.visibility="hidden"}}var t=G.sliderTooltip.width();if(G.orientation=="horizontal"){var H=D.left+G.sliderButtonSize/2-t/2;if(G.rangeSlider){var I=(G._slider.right.coord().left-G._slider.left.coord().left-G._thumbSize)/2;H=G._slider.left.coord().left-t/2+I+G._thumbSize}switch(G.tooltipPosition){case"far":var E=D.top+C+G.arrow_size;G.sliderTooltip.offset({top:E,left:H});G.sliderTooltipArrow.addClass(G.toThemeProperty("jqx-tooltip-arrow-t-b"));G.sliderTooltipArrow.css({"border-width":"0 "+G.arrow_size+"px "+G.arrow_size+"px"});G.sliderTooltipArrow.offset({top:E-G.arrow_size,left:H-G.arrow_size/2-1+t/2});break;case"near":var E=D.top-G.arrow_size-G.sliderTooltip.height()-1;G.sliderTooltip.offset({top:E,left:H});G.sliderTooltipArrow.addClass(G.toThemeProperty("jqx-tooltip-arrow-t-b"));G.sliderTooltipArrow.css({"border-width":G.arrow_size+"px "+G.arrow_size+"px  0px"});G.sliderTooltipArrow.offset({top:E+G.sliderTooltip.height(),left:H-G.arrow_size/2-1+t/2});break}}else{var A=G.sliderTooltip.height();var H=D.left-t-G.arrow_size-G.tickSize;var E=D.top+G._thumbSize/2-A/2-1;if(G.rangeSlider){var I=(G._slider.right.coord().top-G._slider.left.coord().top-G._thumbSize)/2;E=G._slider.left.coord().top-A/2+I+G._thumbSize}switch(G.tooltipPosition){case"far":var H=D.left+G._thumbSize+G.arrow_size+G.tickSize;G.sliderTooltip.offset({top:E,left:H});G.sliderTooltipArrow.addClass(G.toThemeProperty("jqx-tooltip-arrow-l-r"));G.sliderTooltipArrow.css({"border-width":G.arrow_size+"px "+G.arrow_size+"px "+G.arrow_size+"px 0px"});G.sliderTooltipArrow.offset({top:E+G.sliderTooltip.height()/2-G.arrow_size/2-2,left:H-G.arrow_size});break;case"near":G.sliderTooltip.offset({top:E,left:H});G.sliderTooltipArrow.addClass(G.toThemeProperty("jqx-tooltip-arrow-l-r"));G.sliderTooltipArrow.css({"border-width":G.arrow_size+"px 0px "+G.arrow_size+"px "+G.arrow_size+"px"});G.sliderTooltipArrow.offset({top:E+G.sliderTooltip.height()/2-G.arrow_size/2-2,left:H+t+2});break}}}},_validateDropPosition:function(f,a){var l=this._track[this._getSetting("size")](),h=a[this._getSetting("size")]();if(f<-h/2){f=-h/2}if(f>l-h/2){f=l-h/2}return Math.floor(f)},propertyChangedHandler:function(a,q,l,n){a.__trackSize=null;a.__thumbSize=null;switch(q){case"theme":c.jqx.utilities.setTheme(l,n,a.host);a._leftButton.jqxRepeatButton({theme:n});a._rightButton.jqxRepeatButton({theme:n});break;case"disabled":if(n){a.disabled=true;a.disable()}else{a.disabled=false;a.enable()}break;case"width":case"height":a.__trackSize=null;a.__thumbSize=null;a._performLayout();a._initialSettings();break;case"min":case"max":a._performLayout();a.__trackSize=null;a.__thumbSize=null;if(a.int64===true){a["_"+q+"64"]=new c.jqx.math().fromString(n.toString(),10)}a._initialSettings();break;case"showTicks":case"ticksPosition":case"tickSize":a._performLayout();a._initialSettings();break;case"ticksFrequency":case"minorTicksFrequency":if(a.int64===true){a["_"+q+"64"]=new c.jqx.math().fromString(n.toString(),10)}a._performLayout();a._initialSettings();break;case"showRange":case"showButtons":case"orientation":case"rtl":a._render();a._performLayout();a._initialSettings();break;case"buttonsPosition":a._refresh();break;case"rangeSlider":if(!n){a.value=a.value.rangeEnd}else{a.value={rangeEnd:a.value,rangeStart:a.value}}a._render();a._performLayout();a._initialSettings();break;case"value":var h=n;if(a.int64===true){h=new c.jqx.math().fromString(n.toString(),10);a._value64=h}else{if(!a.rangeSlider){a.value=parseFloat(n)}}a.setValue(h);break;case"values":var o=n;if(a.int64===true){o=[new c.jqx.math().fromString(n[0].toString(),10),new c.jqx.math().fromString(n[1].toString(),10)];a._values64=o}a.setValue(o);break;case"tooltip":break;case"step":a._step64=new c.jqx.math().fromString(n.toString(),10);break;default:a._refresh()}},incrementValue:function(a){if(this.int64===false){if(a==undefined||isNaN(parseFloat(a))){a=this.step}if(this.rangeSlider){if(this.values[1]<this.max){this._setValue(this.values[1]+a,this._slider.right)}}else{if(this.values[1]>=this.min&&this.values[1]<this.max){this._setValue(this.values[1]+a,this._slider.right)}}}else{if(a==undefined||isNaN(parseFloat(a))){a=this._step64}else{a=new c.jqx.math().fromString(a.toString(),10)}var d=this._values64[1].add(a);if(d.lessThan(this._values64[1])){d=this._max64}if(this.rangeSlider){if(this._values64[1].lessThan(this._max64)){this._setValue(d,this._slider.right)}}else{if(this._values64[1].greaterThanOrEqual(this._min64)&&this._values64[1].lessThan(this._max64)){this._setValue(d,this._slider.right)}}}if(this.input){c.jqx.aria(this,"aria-valuenow",this.input.val())}},decrementValue:function(a){if(this.int64===false){if(a==undefined||isNaN(parseFloat(a))){a=this.step}if(this.rangeSlider){if(this.values[0]>this.min){this._setValue(this.values[0]-a,this._slider.left)}}else{if(this.values[1]<=this.max&&this.values[1]>this.min){this._setValue(this.values[1]-a,this._slider.right)}}}else{if(a==undefined||isNaN(parseFloat(a))){a=this._step64}else{a=new c.jqx.math().fromString(a.toString(),10)}var d;if(this.rangeSlider){d=this._values64[0].subtract(a);if(d.greaterThan(this._values64[0])){d=this._min64}if(this._values64[0].greaterThan(this._min64)){this._setValue(d,this._slider.left)}}else{d=this._values64[1].subtract(a);if(d.greaterThan(this._values64[1])){d=this._min64}if(this._values64[1].lessThanOrEqual(this._max64)&&this._values64[1].greaterThan(this._min64)){this._setValue(d,this._slider.right)}}}if(this.input){c.jqx.aria(this,"aria-valuenow",this.input.val())}},val:function(a){if(arguments.length==0||(!c.isArray(a)&&typeof(a)=="object")){return this.getValue()}if(this.int64===false){this.setValue(a)}else{value64=new c.jqx.math().fromString(a.toString(),10);this.setValue(value64)}},setValue:function(f){if(this.rangeSlider){var l,a;if(arguments.length<2){if(f instanceof Array){l=f[0];a=f[1]}else{if(typeof f==="object"&&typeof f.rangeStart!=="undefined"&&typeof f.rangeEnd!=="undefined"){l=f.rangeStart;a=f.rangeEnd}}}else{l=arguments[0];a=arguments[1]}this._triggerEvents=false;this._setValue(a,this._slider.right);this._triggerEvents=true;this._setValue(l,this._slider.left)}else{this._triggerEvents=false;var h=this.int64?this._min64:this.min;this._setValue(h,this._slider.left);this._triggerEvents=true;this._setValue(f,this._slider.right)}if(this.input){c.jqx.aria(this,"aria-valuenow",this.input.val())}},getValue:function(){var a=this.value;if(this.int64===true){a=this._value64.toString()}return a},_enable:function(a){if(a){this._addEventHandlers();this.disabled=false;this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled"))}else{this._removeEventHandlers();this.disabled=true;this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"))}this._leftButton.jqxRepeatButton({disabled:this.disabled});this._rightButton.jqxRepeatButton({disabled:this.disabled})},disable:function(){this._enable(false);c.jqx.aria(this,"aria-disabled",true)},enable:function(){this._enable(true);c.jqx.aria(this,"aria-disabled",false)}})})(jqxBaseFramework);(function(c){c.jqx.jqxWidget("jqxSplitter","",{});c.extend(c.jqx._jqxSplitter.prototype,{defineInstance:function(){var a={width:300,height:300,panels:[],orientation:"vertical",disabled:false,splitBarSize:5,touchSplitBarSize:15,panel1:null,panel2:null,_eventsMap:{mousedown:c.jqx.mobile.getTouchEventName("touchstart"),mouseup:c.jqx.mobile.getTouchEventName("touchend"),mousemove:c.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave"},_isTouchDevice:false,_isNested:false,resizable:true,touchMode:"auto",showSplitBar:true,initContent:null,_events:["resize","expanded","collapsed","resizeStart","layout"]};c.extend(true,this,a);return a},createInstance:function(){this.render()},_initOverlay:function(a){if(this.overlay||a=="undefined"){this.overlay.remove();this.overlay=null}else{if(a==true){this.overlay=c("<div style='z-index: 100; background: #fff;'></div>");this.overlay.css("opacity",0.01);this.overlay.css("position","absolute");this.overlay.appendTo(c(document.body));var d=this.host.coord();this.overlay.css("left","0px");this.overlay.css("top","0px");this.overlay.width(c(window).width());this.overlay.height(c(window).height());this.overlay.addClass("jqx-disableselect");if(this.orientation=="horizontal"){this.overlay.css("cursor","row-resize")}else{this.overlay.css("cursor","col-resize")}}}},_startDrag:function(a){if(a.target==this.splitBarButton[0]||this.disabled){return true}if(this.panels[0].collapsed||this.panels[1].collapsed||!this.resizable){return true}if(this.overlay==null){this._dragging=true;this._initOverlay(true);this._dragStart=c.jqx.position(a);return false}return true},_drag:function(D){if(this.panels[0].collapsed||this.panels[1].collapsed||this.disabled){return true}if(!this._dragging){return true}var u=this.orientation=="horizontal"?"top":"left";var s=this.orientation=="vertical"?"width":"height";this._position=c.jqx.position(D);if(this.overlay&&!this._splitBarClone){if(Math.abs(this._position[u]-this._dragStart[u])>=3){var o=this.splitBar.coord();this._cloneStart={left:o.left,top:o.top};this._splitBarClone=this._createSplitBarClone();this._raiseEvent(3,{panels:this.panels});return}}if(this._splitBarClone){var t,C;var a=this.host[s]();var B=a/100;var z=1/B;var v=0;var q=this._splitBarClone[s]()+2;var w=parseInt(this.host.coord()[u]);var A=this._position[u]-this._dragStart[u]+this._cloneStart[u]-w;if(v>A){A=v}if(A>a+v-q){A=a+v-q}t=this.panels[0].min;C=this.panels[1].min;if(C.toString().indexOf("%")!=-1){C=parseFloat(C)*B}if(t.toString().indexOf("%")!=-1){t=parseFloat(t)*B}this._splitBarClone.removeClass(this.toThemeProperty("jqx-splitter-splitbar-invalid"));if(A<t){this._splitBarClone.addClass(this.toThemeProperty("jqx-splitter-splitbar-invalid"));A=t}if(A>a+v-q-C){this._splitBarClone.addClass(this.toThemeProperty("jqx-splitter-splitbar-invalid"));A=a+v-q-C}this._splitBarClone.css(u,A);if(D.preventDefault){D.preventDefault()}if(D.stopPropagation){D.stopPropagation()}return false}return true},resize:function(d,a){this.width=d;this.height=a;this._arrange()},_resize:function(){var l=this.orientation=="horizontal"?"height":"width";var o=this.orientation=="horizontal"?"top":"left";var t=this._splitBarClone.css(o);var a=this.host[l]();var q=a/100;var s=1/q;var n=this.panels[0].size;if(n.toString().indexOf("%")!=-1){this.panels[0].size=parseFloat(t)*s+"%"}else{this.panels[0].size=parseFloat(t)}this._layoutPanels();this._raiseEvent(0,{panels:this.panels})},_stopDrag:function(){if(this._dragging){this._initOverlay()}this._dragging=false;if(this._splitBarClone){if(this.panels[0].collapsed||this.panels[1].collapsed||this.disabled){return true}this._resize();this._splitBarClone.remove();this._splitBarClone=null}},_createSplitBarClone:function(){var a=this.splitBar.clone();a.fadeTo(0,0.7);a.css("z-index",99999);if(this.orientation=="vertical"){a.css("cursor","col-resize")}else{a.css("cursor","row-resize")}this.host.append(a);return a},_eventName:function(a){if(this._isTouchDevice){return this._eventsMap[a]}else{return a}},_addHandlers:function(){var f=this;c.jqx.utilities.resize(this.host,function(){f._layoutPanels()});this.addHandler(this.splitBar,"dragstart."+this.element.id,function(d){return false});if(this.splitBarButton){this.addHandler(this.splitBarButton,"click."+this.element.id,function(){var d=function(h){if(!h.collapsed){f.collapse()}else{f.expand()}};if(f.panels[0].collapsible){d(f.panels[0])}else{if(f.panels[1].collapsible){d(f.panels[1])}}});this.addHandler(this.splitBarButton,this._eventName("mouseenter"),function(){f.splitBarButton.addClass(f.toThemeProperty("jqx-splitter-collapse-button-hover"));f.splitBarButton.addClass(f.toThemeProperty("jqx-fill-state-hover"))});this.addHandler(this.splitBarButton,this._eventName("mouseleave"),function(){f.splitBarButton.removeClass(f.toThemeProperty("jqx-splitter-collapse-button-hover"));f.splitBarButton.removeClass(f.toThemeProperty("jqx-fill-state-hover"))})}this.addHandler(c(document),this._eventName("mousemove")+"."+this.element.id,function(d){return f._drag(d)});this.addHandler(c(document),this._eventName("mouseup")+"."+this.element.id,function(){return f._stopDrag()});this.addHandler(this.splitBar,this._eventName("mousedown"),function(d){return f._startDrag(d)});this.addHandler(this.splitBar,this._eventName("mouseenter"),function(){if(f.resizable&&!f.disabled){f.splitBar.addClass(f.toThemeProperty("jqx-splitter-splitbar-hover"));f.splitBar.addClass(f.toThemeProperty("jqx-fill-state-hover"))}});this.addHandler(this.splitBar,this._eventName("mouseleave"),function(){if(f.resizable&&!f.disabled){f.splitBar.removeClass(f.toThemeProperty("jqx-splitter-splitbar-hover"));f.splitBar.removeClass(f.toThemeProperty("jqx-fill-state-hover"))}});if(document.referrer!=""||window.frameElement){if(window.top!=null&&window.top!=window.self){var e=null;if(window.parent&&document.referrer){e=document.referrer}if(e&&e.indexOf(document.location.host)!=-1){var a=function(d){f._stopDrag()};if(window.top.document.addEventListener){window.top.document.addEventListener("mouseup",a,false)}else{if(window.top.document.attachEvent){window.top.document.attachEvent("onmouseup",a)}}}}}},_removeHandlers:function(){this.removeHandler(c(window),"resize."+this.element.id);if(this.splitBarButton){this.removeHandler(this.splitBarButton,"click."+this.element.id);this.removeHandler(this.splitBarButton,this._eventName("mouseenter"));this.removeHandler(this.splitBarButton,this._eventName("mouseleave"))}this.removeHandler(c(document),this._eventName("mousemove")+"."+this.element.id);this.removeHandler(c(document),this._eventName("mouseup")+"."+this.element.id);if(this.splitBar){this.removeHandler(this.splitBar,"dragstart."+this.element.id);this.removeHandler(this.splitBar,this._eventName("mousedown"));this.removeHandler(this.splitBar,this._eventName("mouseenter"));this.removeHandler(this.splitBar,this._eventName("mouseleave"))}},render:function(){if(this.splitBar){this.splitBar.remove()}var l=this.host.children();if(l.length!=2){throw"Invalid HTML Structure! jqxSplitter requires 1 container DIV tag and 2 nested DIV tags."}if(l.length==2){var f=l[0].className.split(" ");var a=l[1].className.split(" ");if(f.indexOf("jqx-reset")!=-1&&f.indexOf("jqx-splitter")!=-1&&f.indexOf("jqx-widget")!=-1){throw"Invalid HTML Structure! Nested jqxSplitter cannot be initialized from a Splitter Panel. You need to add a new DIV tag inside the Splitter Panel and initialize the nested jqxSplitter from it!"}if(a.indexOf("jqx-reset")!=-1&&a.indexOf("jqx-splitter")!=-1&&a.indexOf("jqx-widget")!=-1){throw"Invalid HTML Structure! Nested jqxSplitter cannot be initialized from a Splitter Panel. You need to add a new DIV tag inside the Splitter Panel and initialize the nested jqxSplitter from it!"}}if(this.host.parent().length>0&&this.host.parent()[0].className.indexOf("jqx-splitter")!=-1){if(this.element.className.indexOf("jqx-splitter-panel")!=-1){throw"Invalid HTML Structure! Nested jqxSplitter cannot be initialized from a Splitter Panel. You need to add a new DIV tag inside the Splitter Panel and initialize the nested jqxSplitter from it!"}this._isNested=true;if(this.width==300){this.width="100%"}if(this.height==300){this.height="100%"}if(this.width=="100%"&&this.height=="100%"){this.host.addClass("jqx-splitter-nested");if(this.host.parent()[0].className.indexOf("jqx-splitter-panel")!=-1){this.host.parent().addClass("jqx-splitter-panel-nested")}}}this._hasBorder=(this.host.hasClass("jqx-hideborder")==false)||this.element.style.borderTopWidth!="";this._removeHandlers();this._isTouchDevice=c.jqx.mobile.isTouchDevice();this._validate();this.panel1.css("left","0px");this.panel1.css("top","0px");this.panel2.css("left","0px");this.panel2.css("top","0px");this.splitBar=c("<div><div></div></div>");if(!this.resizable){this.splitBar.css("cursor","default")}this.splitBarButton=this.splitBar.find("div:last");this._setTheme();this.splitBar.insertAfter(this.panel1);this._arrange();if(this.panels[0].collapsible==false&&this.panels[1].collapsible==false){this.splitBarButton.hide()}var h=this;this._addHandlers();if(this.initContent){this.initContent()}if(this.disabled){this.disable()}},_hiddenParent:function(){return c.jqx.isHidden(this.host)},_setTheme:function(){this.panel1.addClass(this.toThemeProperty("jqx-widget-content"));this.panel2.addClass(this.toThemeProperty("jqx-widget-content"));this.panel1.addClass(this.toThemeProperty("jqx-splitter-panel"));this.panel2.addClass(this.toThemeProperty("jqx-splitter-panel"));this.panel1.addClass(this.toThemeProperty("jqx-reset"));this.panel2.addClass(this.toThemeProperty("jqx-reset"));this.host.addClass(this.toThemeProperty("jqx-reset"));this.host.addClass(this.toThemeProperty("jqx-splitter"));this.host.addClass(this.toThemeProperty("jqx-widget"));this.host.addClass(this.toThemeProperty("jqx-widget-content"));this.splitBar.addClass(this.toThemeProperty("jqx-splitter-splitbar-"+this.orientation));this.splitBar.addClass(this.toThemeProperty("jqx-fill-state-normal"));this.splitBarButton.addClass(this.toThemeProperty("jqx-splitter-collapse-button-"+this.orientation));this.splitBarButton.addClass(this.toThemeProperty("jqx-fill-state-pressed"))},_validate:function(){var a=this.host.children();if(a.length!=2){throw"Invalid HTML Structure! jqxSplitter requires two nested DIV tags!"}if(this.panels&&!this.panels[1]){if(!this.panels[0]){this.panels=[{size:"50%"},{size:"50%"}]}else{this.panels[1]={}}}else{if(this.panels==undefined){this.panels=[{size:"50%"},{size:"50%"}]}}var a=this.host.children();this.panel1=this.panels[0].element=c(a[0]);this.panel2=this.panels[1].element=c(a[1]);this.panel1[0].style.minWidth="";this.panel1[0].style.maxWidth="";this.panel2[0].style.minWidth="";this.panel2[0].style.maxWidth="";c.each(this.panels,function(){if(this.min==undefined){this.min=0}if(this.size==undefined){this.size=0}if(this.size<0){this.size=0}if(this.min<0){this.min=0}if(this.collapsible==undefined){this.collapsible=true}if(this.collapsed==undefined){this.collapsed=false}if(this.size!=0){if(this.size.toString().indexOf("px")!=-1){this.size=parseInt(this.size)}if(this.size.toString().indexOf("%")==-1){if(parseInt(this.min)>parseInt(this.size)){this.min=this.size}}else{if(this.min.toString().indexOf("%")!=-1){if(parseInt(this.min)>parseInt(this.size)){this.min=this.size}}}}})},_arrange:function(){if(this.width!=null){var e=this.width;if(typeof e!="string"){e=parseInt(this.width)+"px"}this.host.css("width",e)}if(this.height!=null){var a=this.height;if(typeof a!="string"){a=parseInt(this.height)+"px"}this.host.css("height",a)}this._splitBarSize=!this._isTouchDevice?this.splitBarSize:this.touchSplitBarSize;if(!this.showSplitBar){this._splitBarSize=0;this.splitBar.hide()}var f=this.orientation=="horizontal"?"width":"height";this.splitBar.css(f,"100%");this.panel1.css(f,"100%");this.panel2.css(f,"100%");if(this.orientation=="horizontal"){this.splitBar.height(this._splitBarSize)}else{this.splitBar.width(this._splitBarSize)}if(this.orientation==="vertical"){this.splitBarButton.width(this._splitBarSize);this.splitBarButton.height(45)}else{this.splitBarButton.height(this._splitBarSize);this.splitBarButton.width(45)}this.splitBarButton.css("position","relative");if(this.orientation==="vertical"){this.splitBarButton.css("top","50%");this.splitBarButton.css("left","0");this.splitBarButton.css("margin-top","-23px");this.splitBarButton.css("margin-left","-0px")}else{this.splitBarButton.css("left","50%");this.splitBarButton.css("top","0");this.splitBarButton.css("margin-left","-23px");this.splitBarButton.css("margin-top","-0px")}this._layoutPanels()},collapse:function(){if(this.disabled){return}var a=-1;this.panels[0].collapsed=this.panels[1].collapsed=false;this.panels[0].element[0].style.visibility="inherit";this.panels[1].element[0].style.visibility="inherit";if(this.panels[0].collapsible){a=0}else{if(this.panels[1].collapsible){a=1}}if(a!=-1){this.panels[a].collapsed=true;this.panels[a].element[0].style.visibility="hidden";this.splitBar.addClass(this.toThemeProperty("jqx-splitter-splitbar-collapsed"));this._layoutPanels();this._raiseEvent(2,{index:a,panels:this.panels});this._raiseEvent(0,{panels:this.panels})}},expand:function(){if(this.disabled){return}var a=-1;this.panels[0].collapsed=this.panels[1].collapsed=false;this.panels[0].element[0].style.visibility="inherit";this.panels[1].element[0].style.visibility="inherit";if(this.panels[0].collapsible){a=0}else{if(this.panels[1].collapsible){a=1}}if(a!=-1){this.panels[a].collapsed=false;this.panels[a].element[0].style.visibility="inherit";this.splitBar.removeClass(this.toThemeProperty("jqx-splitter-splitbar-collapsed"));this._layoutPanels();this._raiseEvent(1,{index:a,panels:this.panels});this._raiseEvent(0,{panels:this.panels})}},disable:function(){this.disabled=true;this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"));this.splitBar.addClass(this.toThemeProperty("jqx-splitter-splitbar-collapsed"));this.splitBarButton.addClass(this.toThemeProperty("jqx-splitter-splitbar-collapsed"))},enable:function(){this.disabled=false;this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled"));this.splitBar.removeClass(this.toThemeProperty("jqx-splitter-splitbar-collapsed"));this.splitBarButton.removeClass(this.toThemeProperty("jqx-splitter-splitbar-collapsed"))},refresh:function(a){if(a!=true){this._arrange()}},propertyChangedHandler:function(a,l,f,h){if(l==="panels"||l==="orientation"||l==="showSplitBar"){a.render();return}if(l==="touchMode"){a._isTouchDevice=h}if(l==="disabled"){if(h){a.disable()}else{a.enable()}}else{if(l==="theme"){c.jqx.utilities.setTheme(f,h,a.host)}else{a.refresh()}}},_layoutPanels:function(){var J=this;var C=this.orientation=="horizontal"?"height":"width";var z=this.orientation=="horizontal"?"top":"left";var H,B,O,w;var G=parseInt(this._splitBarSize)+2;if(!this.showSplitBar){G=0}var K=this.host[C]();var I=K/100;var A=1/I;var D=A*G;var L=this.panel1;var M=this.panel2;var F=this.panels[0].size;if(this.panels[0].collapsed){O=true}if(this.panels[1].collapsed){w=true}H=this.panels[0].min;B=this.panels[1].min;if(B.toString().indexOf("%")!=-1){B=parseFloat(B)*I}if(H.toString().indexOf("%")!=-1){H=parseFloat(H)*I}if(this._isNested&&this._isTouchDevice){if(this.orientation=="horizontal"){L.width(this.host.width());M.width(this.host.width())}else{L.height(this.host.height());M.height(this.host.height())}}var N=function(){var e=J.panel1[C]();if(J.splitBar[0].style[z]!=e+"px"){var d=e;if(J.orientation=="vertical"){J.splitBar[0].style.borderLeftColor="";J.splitBar[0].style.borderRightColor="";J.splitBarButton[0].style.width=parseInt(J._splitBarSize)+"px";J.splitBarButton[0].style.left="0px"}else{J.splitBar[0].style.borderTopColor="";J.splitBar[0].style.borderBottomColor="";J.splitBarButton[0].style.height=parseInt(J._splitBarSize)+"px";J.splitBarButton[0].style.top="0px"}if(J._hasBorder){if(K-G==e){if(J.orientation=="vertical"){J.splitBar[0].style.borderRightColor="transparent";J.splitBarButton[0].style.width=parseInt(J._splitBarSize+1)+"px"}else{J.splitBar[0].style.borderBottomColor="transparent";J.splitBarButton[0].style.height=parseInt(J._splitBarSize+1)+"px"}}else{if(e==0){if(J.orientation=="vertical"){J.splitBar[0].style.borderLeftColor="transparent";J.splitBarButton[0].style.width=parseInt(J._splitBarSize+1)+"px";J.splitBarButton[0].style.left="-1px"}else{J.splitBar[0].style.borderTopColor="transparent";J.splitBarButton[0].style.height=parseInt(J._splitBarSize+1)+"px";J.splitBarButton[0].style.top="-1px"}}}}J.splitBar[0].style[z]=d+"px"}if(J.panel2[0].style[z]!=e+G+"px"){J.panel2[0].style[z]=e+G+"px"}};if(O){var R=Math.max(B,K-G);L[C](0);M[C](R)}else{if(w){var R=Math.max(H,K-G);M[C](0);L[C](R)}else{if(F.toString().indexOf("%")!=-1){var Q=100-parseFloat(F);L.css(C,parseFloat(F)+"%");Q-=D;M.css(C,Q+"%");var P=M[C]();if(P<B){var R=P-B;var E=R*A;F=parseFloat(F)+parseFloat(E);var Q=100-parseFloat(F);L.css(C,parseFloat(F)+"%");Q-=D;M.css(C,Q+"%")}var a=L[C]();if(a<H){var E=H*A;L.css(C,parseFloat(E)+"%")}}else{var P=K-F-G;if(L[0].style[C]!=F+"px"){L[C](F)}if(M[0].style[C]!=P+"px"){M[C](P)}if(P<B){F+=P-B;M[C](B);L[C](F)}if(F<H){L[C](H)}}}}N();this._raiseEvent(4,{panels:this.panels})},destroy:function(){this._removeHandlers();c.jqx.utilities.resize(this.host,null,true);this.host.remove()},_raiseEvent:function(n,h){var l=new c.Event(this._events[n]);l.owner=this;l.args=h;var o=this.orientation=="vertical"?"width":"height";var a=new Array();a[0]={};a[1]={};a[0].size=this.orientation=="vertical"?this.panel1[0].offsetWidth:this.panel1[0].offsetHeight;a[1].size=this.orientation=="vertical"?this.panel2[0].offsetWidth:this.panel2[0].offsetHeight;a[0].min=this.panels[0].min;a[1].min=this.panels[1].min;a[0].collapsible=this.panels[0].collapsible;a[1].collapsible=this.panels[1].collapsible;a[0].collapsed=this.panels[0].collapsed;a[1].collapsed=this.panels[1].collapsed;l.args.panels=a;return this.host.trigger(l)}})}(jqxBaseFramework));(function(c){c.jqx.jqxWidget("jqxTabs","",{});c.extend(c.jqx._jqxTabs.prototype,{defineInstance:function(){var a={scrollAnimationDuration:200,enabledHover:true,disabled:false,collapsible:false,animationType:"none",enableScrollAnimation:true,contentTransitionDuration:450,toggleMode:"click",selectedItem:0,height:"auto",width:"auto",position:"top",selectionTracker:false,scrollable:true,scrollPosition:"right",scrollStep:70,autoHeight:true,headerHeight:null,showCloseButtons:false,canCloseAllTabs:true,closeButtonSize:16,arrowButtonSize:16,keyboardNavigation:true,reorder:false,selectionTrackerAnimationDuration:300,_isTouchDevice:false,roundedCorners:true,_headerExpandingBalance:0,_dragStarted:false,_tabCaptured:false,_lastUnorderedListPosition:0,_selectedItem:0,_titleList:[],_contentList:[],_contentWrapper:null,_unorderedList:null,_scrollTimeout:null,isCollapsed:false,touchMode:false,initTabContent:null,enableDropAnimation:false,_currentEvent:null,_needScroll:true,_isAnimated:{},_events:["created","selected","add","removed","enabled","disabled","selecting","unselecting","unselected","dragStart","dragEnd","locked","unlocked","collapsed","expanded","tabclick"],_initTabContentList:[],_invalidArgumentExceptions:{invalidScrollAnimationDuration:"The scroll animation duration is not valid!",invalidWidth:"Width you've entered is invalid!",invalidHeight:"Height you've entered is invalid!",invalidAnimationType:"You've entered invalid animation type!",invalidcontentTransitionDuration:"You've entered invalid value for contentTransitionDuration!",invalidToggleMode:"You've entered invalid value for toggleMode!",invalidPosition:"You've entered invalid position!",invalidScrollPosition:"You've entered invalid scroll position!",invalidScrollStep:"You've entered invalid scroll step!",invalidStructure:"Invalid structure!",invalidArrowSize:"Invalid scroll button size!",invalidCloseSize:"Invalid close button size!"},aria:{"aria-disabled":{name:"disabled",type:"boolean"}},rtl:false};c.extend(true,this,a);return a},createInstance:function(){c.jqx.aria(this);this.host.addClass(this.toThemeProperty("jqx-tabs"));this.host.addClass(this.toThemeProperty("jqx-widget"));this.host.addClass(this.toThemeProperty("jqx-widget-content"));this.host.attr("role","tablist");this._unorderedList=this.host.children("ul");this._titleList=this.host.children("ul").children("li");this._contentList=this.host.children("div");this._selectedItem=this.selectedItem;this._isTouchDevice=c.jqx.mobile.isTouchDevice();this._needScroll=this.scrollable;if(this.selectionTracker){this.selectionTracker=this._seletionTrackerBrowserCheck()}if(this._isTouchDevice){this.reorder=false;this.keyboardNavigation=false}var a=this.length();while(a){a--;this._titleList[a]=c(this._titleList[a]);this._titleList[a].attr("role","tab");this._contentList[a]=c(this._contentList[a]);this._contentList[a].attr("role","tabpanel")}this._validateProperties();this._refresh();this._moveSelectionTrack(this._selectedItem,0);if(this.disabled){this.disable()}this.element.tabIndex=0;this._raiseEvent(0);this._enableWindowResize()},_hiddenParent:function(){var d=this;if(d.host.css("display")=="none"){return true}var a=false;c.each(d.host.parents(),function(){if(c(this).css("display")=="none"){a=true;return false}});return a},_enableWindowResize:function(){var a=this;var d=c.jqx.isHidden(a.host);c.jqx.utilities.resize(this.host,function(){if(d){a._uiRefresh(true);d=false}else{a.refresh()}})},resize:function(f,a){this.width=f;this.height=a;var e=c.jqx.isHidden(this.host);if(e){this._uiRefresh(true);e=false}else{this.refresh()}},refresh:function(a){if(true!=a||a==undefined){this._performResize()}},_seletionTrackerBrowserCheck:function(){var a="Browser CodeName: "+navigator.appCodeName+"";a+="Browser Name: "+navigator.appName+"";a+="Browser Version: "+navigator.appVersion+"";a+="Platform: "+navigator.platform+"";a+="User-agent header: "+navigator.userAgent+"";if(a.indexOf("IEMobile")!=-1){return false}if(a.indexOf("Windows Phone OS")!=-1){return false}if(c.jqx.browser.msie&&c.jqx.browser.version<=7){return false}return true},render:function(){this._refresh()},_uiRefresh:function(a){this._unorderedListLeftBackup=this._unorderedList.css("left");if(a){this._render()}this._addStyles();this._performLayout();this._prepareTabs();this._removeEventHandlers();this._addEventHandlers();if(this._unorderedListLeftBackup==="auto"){this._unorderedListLeftBackup=this._getArrowsDisplacement()}this._unorderedList.css("left",this._unorderedListLeftBackup);if(this.rtl){if(this.scrollable&&this._rightArrow&&this._rightArrow.css("visibility")!="hidden"){var e=2*this.arrowButtonSize;var f=this.host.width()-parseInt(this._unorderedList.width()+e+ +parseInt(this._unorderedList.css("margin-left")),10);this._unorderedList.css("left",f+"px")}}},_refresh:function(){if(c.jqx.isHidden(this.host)){return}this._uiRefresh(true)},_addStyles:function(){this._unorderedList.addClass(this.toThemeProperty("jqx-tabs-title-container"));this._unorderedList.css({outline:"none","white-space":"nowrap","margin-top":"0px","margin-bottom":"0px",padding:"0px",background:"transparent",border:"none","border-style":"none","text-indent":"0px"});var a=this.length();while(a){a--;this._titleList[a].removeClass();this._titleList[a].css("padding","");this._titleList[a].addClass("jqx-reset");this._titleList[a].addClass("jqx-disableselect");this._titleList[a].addClass(this.toThemeProperty("jqx-tabs-title"));this._titleList[a].addClass(this.toThemeProperty("jqx-item"));if(this.position=="bottom"){this._titleList[a].addClass(this.toThemeProperty("jqx-tabs-title-bottom"))}if(this._titleList[a].disabled){this._titleList[a].addClass(this.toThemeProperty("jqx-tabs-title-disable"));this._titleList[a].addClass(this.toThemeProperty("jqx-fill-state-disabled"))}this._titleList[a].removeClass(this.toThemeProperty("jqx-rc-b"));this._titleList[a].removeClass(this.toThemeProperty("jqx-rc-t"));this._contentList[a].removeClass(this.toThemeProperty("jqx-rc-b"));this._contentList[a].removeClass(this.toThemeProperty("jqx-rc-t"));switch(this.position){case"top":this._titleList[a].addClass(this.toThemeProperty("jqx-rc-t"));this._contentList[a].addClass(this.toThemeProperty("jqx-rc-b"));break;case"bottom":this._titleList[a].addClass(this.toThemeProperty("jqx-rc-b"));this._contentList[a].addClass(this.toThemeProperty("jqx-rc-t"));break}}if(this.selectionTracker){this._selectionTracker.removeClass(this.toThemeProperty("jqx-rc-b"));this._selectionTracker.removeClass(this.toThemeProperty("jqx-rc-t"));switch(this.position){case"top":this._selectionTracker.addClass(this.toThemeProperty("jqx-rc-t"));break;case"bottom":this._selectionTracker.addClass(this.toThemeProperty("jqx-rc-b"));break}}},_raiseEvent:function(o,h){var l=new c.Event(this._events[o]);l.owner=this;l.args=h;if(o===6||o===7){l.cancel=false;this._currentEvent=l}var a="";try{a=this.host.trigger(l);if(o==1){var n=this;if(this.selectionTracker||this.animationType!="none"){setTimeout(function(){if(!n._initTabContentList[n.selectedItem]){if(n.initTabContent){n.initTabContent(n.selectedItem);n._initTabContentList[n.selectedItem]=true}}var d=new c.Event("loadContent");d.owner=this;if(n._contentList.length>0&&n._contentList[n.selectedItem]){n._contentList[n.selectedItem].find("div").trigger(d)}},50+n.selectionTrackerAnimationDuration)}else{var l=new c.Event("loadContent");if(!n._initTabContentList[n.selectedItem]){if(n.initTabContent){n.initTabContent(n.selectedItem);n._initTabContentList[n.selectedItem]=true}}l.owner=this;var l=new c.Event("resize");this.host.trigger(l)}}}catch(q){if(q&&console){console.log(q)}}return a},_getArrowsDisplacement:function(){if(!this._needScroll){return 0}var e;var f=this.arrowButtonSize;var a=this.arrowButtonSize;if(this.scrollPosition==="left"){e=f+a}else{if(this.scrollPosition==="both"){e=f}else{e=0}}return e},_scrollRight:function(t,o){this._unorderedList.stop();this._unlockAnimation("unorderedList");var s=parseInt(this._unorderedList.width()+parseInt(this._unorderedList.css("margin-left")),10),n=parseInt(this.host.width(),10),q,l,w=parseInt(this._unorderedList.css("left"),10),v=this._getArrowsDisplacement(),u=0,a=undefined;if(this.scrollable){q=parseInt(this._leftArrow.outerWidth(),10);l=parseInt(this._rightArrow.outerWidth(),10)}else{q=0;l=0}t=(this.enableScrollAnimation)?t:0;if(parseInt(this._headerWrapper.width(),10)>parseInt(this._unorderedList.css("margin-left"))+parseInt(this._unorderedList.width(),10)){u=v}else{if(Math.abs(w)+this.scrollStep<Math.abs(n-s)+q+l+v){u=w-this.scrollStep;a=w-this.scrollStep+parseInt(this._titleList[this._selectedItem].position().left)}else{u=n-s-(2*this.arrowButtonSize-v);if(u<parseInt(this._unorderedList.css("left"),10)-4&&u>parseInt(this._unorderedList.css("left"),10)+4){a=n-s-q-l+parseInt(this._titleList[this._selectedItem].position().left)}}}this._performScrollAnimation(u,a,t)},_scrollLeft:function(l,h){this._unorderedList.stop();this._unlockAnimation("unorderedList");var a=parseInt(this._unorderedList.css("left")),q=this._getArrowsDisplacement(),n=0,o=undefined;l=(this.enableScrollAnimation)?l:0;if(parseInt(this._headerWrapper.width())>=parseInt(this._unorderedList.width())){n=q}else{if(a+this.scrollStep<q){n=a+this.scrollStep;o=a+this.scrollStep+parseInt(this._titleList[this._selectedItem].position().left)}else{n=q;if(n<parseInt(this._unorderedList.css("left"))-4&&n>parseInt(this._unorderedList.css("left"))+4){o=parseInt(this._titleList[this._selectedItem].position().left)}}}this._performScrollAnimation(n,o,l)},_performScrollAnimation:function(f,h,l){var a=this;if(h!==undefined){this._moveSelectionTrack(this._selectedItem,0,h)}this._lockAnimation("unorderedList");this._unorderedList.animate({left:f},l,function(){a._moveSelectionTrack(a.selectedItem,0);a._unlockAnimation("unorderedList")})},_addKeyboardHandlers:function(){var a=this;if(this.keyboardNavigation){this.addHandler(this.host,"keydown",function(l){if(!a._activeAnimation()){var h=a._selectedItem;var n=a.selectionTracker;var o=a.getContentAt(h);if(c(l.target).ischildof(o)){return true}switch(l.keyCode){case 37:if(a.rtl){a.next()}else{a.previous()}return false;case 39:if(a.rtl){a.previous()}else{a.next()}return false;case 36:a.first();return false;case 35:a.last();return false;case 27:if(a._tabCaptured){a._cancelClick=true;a._uncapture(null,a.selectedItem);a._tabCaptured=false}break}a.selectionTracker=n}return true})}},_addScrollHandlers:function(){var a=this;this.addHandler(this._leftArrow,"mousedown",function(){a._startScrollRepeat(true,a.scrollAnimationDuration)});this.addHandler(this._rightArrow,"mousedown",function(){a._startScrollRepeat(false,a.scrollAnimationDuration)});this.addHandler(this._rightArrow,"mouseleave",function(){clearTimeout(a._scrollTimeout)});this.addHandler(this._leftArrow,"mouseleave",function(){clearTimeout(a._scrollTimeout)});this.addHandler(c(document),"mouseup.tab"+this.element.id,this._mouseUpScrollDocumentHandler,this);this.addHandler(c(document),"mouseleave.tab"+this.element.id,this._mouseLeaveScrollDocumentHandler,this)},_mouseLeaveScrollDocumentHandler:function(d){var a=d.data;if(!a._scrollTimeout){return}clearTimeout(a._scrollTimeout)},_mouseUpScrollDocumentHandler:function(d){var a=d.data;clearTimeout(a._scrollTimeout)},_mouseUpDragDocumentHandler:function(d){var a=d.data;if(a._tabCaptured&&a._dragStarted){a._uncapture(d)}a._tabCaptured=false},_addReorderHandlers:function(){var a=this;this.addHandler(c(document),"mousemove.tab"+this.element.id,this._moveElement,this);this.addHandler(c(document),"mouseup.tab"+this.element.id,this._mouseUpDragDocumentHandler,this)},_addEventHandlers:function(){var l=this.length();while(l){l--;this._addEventListenerAt(l)}if(this.keyboardNavigation){this._addKeyboardHandlers()}if(this.scrollable){this._addScrollHandlers()}if(this.reorder&&!this._isTouchDevice){this._addReorderHandlers()}var n=this;try{if(document.referrer!=""||window.frameElement){if(window.top!=null&&window.top!=window.self){var o=function(d){if(n._tabCaptured){n._cancelClick=true;n._uncapture(null,n.selectedItem);n._tabCaptured=false}};var h=null;if(window.parent&&document.referrer){h=document.referrer}if(h&&h.indexOf(document.location.host)!=-1){if(window.top.document){this.addHandler(c(window.top.document),"mouseup",o)}}}}}catch(a){}},focus:function(){try{this.host.focus();var d=this;setTimeout(function(){d.host.focus()},25)}catch(a){}},_getFocusedItem:function(q,s){var l=this.length();while(l){l--;var n=this._titleList[l],o=parseInt(n.outerWidth(true)),t=parseInt(n.offset().left),u=parseInt(this._unorderedList.offset().left),a=parseInt(this.host.offset().left),v=t;if((v<=q&&v+o>=q)&&(n!==this._capturedElement)&&(!this._titleList[l].locked)&&(this._titleList[l].disabled!==true)){return l}}return -1},_uncapture:function(f){var h=this.selectionTracker;this._unorderedListLeftBackup=this._unorderedList.css("left");this._dragStarted=false;this._tabCaptured=false;var a=this._indexOf(this._capturedElement);if(!this._capturedElement){return}switch(this.position){case"top":this._capturedElement.css("bottom",0);break;case"bottom":this._capturedElement.css("top",0);break}if(f){var l=this._getFocusedItem(f.clientX,f.clientY)}if(l===-1||!f){this._capturedElement.css("left",0)}else{this._raiseEvent(10,{item:a,dropIndex:l});this._reorderItems(l,a)}c.each(this._titleList,function(){this.css("position","static")});this._reorderHeaderElements();this._unorderedList.css({position:"relative",top:"0px"});this._prepareTabs();if(l===-1||!f){this._selectedItem=a;this._moveSelectionTrack(a,0);this._addSelectStyle(this._selectedItem,true)}else{this._moveSelectionTrack(this._selectedItem,0);this._addSelectStyle(this._selectedItem,true)}if(document.selection){document.selection.clear()}this._unorderedList.css("left",this._unorderedListLeftBackup);this.selectionTracker=h},_reorderItems:function(l,a){var h=this._titleList[this.selectedItem];var f=this._contentList[a];if(typeof this._capturedElement==="undefined"){this._capturedElement=this._titleList[a]}this._titleList[a].remove();if(a<l){this._titleList[a].insertAfter(this._titleList[l])}else{this._titleList[a].insertBefore(this._titleList[l])}this._reorderElementArrays(l,a);this._getSelectedItem(h);this._removeEventHandlers();this._addEventHandlers()},_reorderElementArrays:function(n,a){var l=this._titleList[this.selectedItem];var h=this._contentList[a];if(a<n){for(var o=a;o<=n;o++){this._titleList[o]=this._titleList[o+1];this._contentList[o]=this._contentList[o+1]}this._contentList[n]=h;this._titleList[n]=this._capturedElement}else{for(var o=a;o>=n;o--){this._titleList[o]=this._titleList[o-1];this._contentList[o]=this._contentList[o-1]}this._contentList[n]=h;this._titleList[n]=this._capturedElement}},getSelectedItem:function(){return this.selectedItem},_getSelectedItem:function(d){var a=this.length();while(a){a--;if(this._titleList[a]===d){this._selectedItem=this.selectedItem=a;break}}},_moveElement:function(d,a){var a=d.data;if(a._tabCaptured){if(document.selection){document.selection.clear()}if(!a._dragStarted){unorderedListLeft=-parseInt(a._unorderedList.css("left"),10);if(d.clientX+unorderedListLeft>a._startX+3||d.clientX+unorderedListLeft<a._startX-3){a._prepareTabForDragging();a._dragStarted=true}}else{a._performDrag(d);clearTimeout(a._scrollTimeout)}}},_performDrag:function(d){var a=this.getZoomFactor();unorderedListLeft=-parseInt(this._unorderedList.css("left"),10);this._capturedElement.css("left",unorderedListLeft+d.clientX/a-this._startX/a);this._lastX=d.clientX/a;this._moveSelectionTrack(this.selectedItem,0)},getZoomFactor:function(){var l=1;if(document.body.getBoundingClientRect){var h=document.body.getBoundingClientRect();var f=h.right-h.left;var a=document.body.offsetWidth;l=Math.round((f/a)*100)/100}return l},_prepareTabForDragging:function(){this._capturedElement.css({position:"relative",left:"0px",top:"0px","z-index":"300"});this.selectedItem=this._indexOf(this._capturedElement);switch(this.position){case"top":this._capturedElement.css("bottom",parseInt(this._capturedElement.css("top")));break;case"bottom":this._capturedElement.css("top",parseInt(this._capturedElement.css("top")));break}this._raiseEvent(9,{item:this._indexOf(this._capturedElement)})},_dragScroll:function(h){var l=parseInt(this._unorderedList.css("left"));var a=this;var f=parseInt(this._capturedElement.css("left"));if(h.clientX<=this._headerWrapper.offset().left){this._scrollLeft(this.scrollAnimationDuration);this._capturedElement.css("left",parseInt(this._capturedElement.css("left"))+this._lastUnorderedListPosition-l)}else{if(h.clientX>this._headerWrapper.offset().left+parseInt(this._headerWrapper.width(),10)){this._scrollRight(this.scrollAnimationDuration);this._capturedElement.css("left",parseInt(this._capturedElement.css("left"))+this._lastUnorderedListPosition-l)}else{this._unorderedList.stop();this._unlockAnimation("unorderedList");clearTimeout(this._scrollTimeout)}}var a=this;this._scrollTimeout=setTimeout(function(){a._dragScroll(h)},this.scrollAnimationDuration);this._lastUnorderedListPosition=l},_captureElement:function(d,a){if(!this._tabCaptured&&!this._titleList[a].locked&&this._titleList[a].disabled!==true&&!this._activeAnimation()){unorderedListLeft=-parseInt(this._unorderedList.css("left"),10);this._startX=unorderedListLeft+d.clientX;this._startY=d.clientY;this._lastX=d.clientX;this._lastY=d.clientY;this._tabCaptured=true;this._capturedElement=this._titleList[a]}},_titleInteractionTrigger:function(a){if(this._headerExpandingBalance>0){this._removeOppositeBorder()}if(this._selectedItem!==a){this.select(this._titleList[a],"toggle");this._titleList[a].collapsed=false;if(!this.collapsible){if(this.height!=="auto"){this._contentWrapper.css("visibility","visible")}else{this._contentWrapper.css("display","block")}}}else{if(this.collapsible){if(this.isCollapsed){this.expand()}else{this.collapse()}}}},collapse:function(){var d=this._selectedItem,a=this;this.isCollapsed=true;if(a.height!=="auto"){a._contentWrapper.css("visibility","hidden")}else{a._contentWrapper.hide()}a._raiseEvent(13,{item:d});if(this.position=="top"){a._headerWrapper.addClass(this.toThemeProperty("jqx-tabs-header-collapsed"));a.host.addClass(this.toThemeProperty("jqx-tabs-collapsed"))}else{a._headerWrapper.addClass(this.toThemeProperty("jqx-tabs-header-collapsed-bottom"));a.host.addClass(this.toThemeProperty("jqx-tabs-collapsed-bottom"))}},expand:function(){var d=this._selectedItem,a=this;this.isCollapsed=false;this._select(d,a.contentTransitionDuration,null,false,true);if(a.height!=="auto"){a._contentWrapper.css("visibility","visible")}else{a._contentWrapper.show()}a._raiseEvent(14,{item:d});if(this.position=="top"){a._headerWrapper.removeClass(this.toThemeProperty("jqx-tabs-header-collapsed"));a.host.removeClass(this.toThemeProperty("jqx-tabs-collapsed"))}else{a._headerWrapper.removeClass(this.toThemeProperty("jqx-tabs-header-collapsed-bottom"));a.host.removeClass(this.toThemeProperty("jqx-tabs-collapsed-bottom"))}},_addSelectHandler:function(d){var a=this;this.addHandler(this._titleList[d],"selectstart",function(e){return false});this.addHandler(this._titleList[d],this.toggleMode,function(e){return function(){a._raiseEvent("15",{item:e});if(!a._tabCaptured&&!a._cancelClick){a._titleInteractionTrigger(e)}return true}}(d))},_addDragDropHandlers:function(d){var a=this;this.addHandler(this._titleList[d],"mousedown",function(e){a._captureElement(e,d);return false});this.addHandler(this._titleList[d],"mouseup",function(e){if(a._tabCaptured&&a._dragStarted){a._cancelClick=true;a._uncapture(e,d)}else{a._cancelClick=false}a._tabCaptured=false;return false})},_removeHoverStates:function(){var a=this;c.each(this._titleList,function(){this.removeClass(a.toThemeProperty("jqx-tabs-title-hover-top"));this.removeClass(a.toThemeProperty("jqx-tabs-title-hover-bottom"))})},_addHoverHandlers:function(f){var a=this;var e=this._titleList[f];this.addHandler(e,"mouseenter",function(d){if(f!=a._selectedItem){if(a.position=="top"){e.addClass(a.toThemeProperty("jqx-tabs-title-hover-top"))}else{e.addClass(a.toThemeProperty("jqx-tabs-title-hover-bottom"))}e.addClass(a.toThemeProperty("jqx-fill-state-hover"));if(a.showCloseButtons){var h=e.children(0).children(a.toThemeProperty(".jqx-tabs-close-button",true));h.addClass(a.toThemeProperty("jqx-tabs-close-button-hover",true))}}});this.addHandler(e,"mouseleave",function(d){if(f!=a._selectedItem){if(a.position=="top"){e.removeClass(a.toThemeProperty("jqx-tabs-title-hover-top"))}else{e.removeClass(a.toThemeProperty("jqx-tabs-title-hover-bottom"))}e.removeClass(a.toThemeProperty("jqx-fill-state-hover"));if(a.showCloseButtons){var h=e.children(0).children(a.toThemeProperty(".jqx-tabs-close-button",true));h.removeClass(a.toThemeProperty("jqx-tabs-close-button-hover",true))}}})},_addEventListenerAt:function(e){var f=this;if(this._titleList[e].disabled){return}if(this.reorder&&!this._isTouchDevice){this._addDragDropHandlers(e)}this._addSelectHandler(e);if(this.enabledHover){this._addHoverHandlers(e)}var a=this._titleList[e].find(this.toThemeProperty(".jqx-tabs-close-button",true));this.removeHandler(a,"click");this.addHandler(a,"click",function(d){f.removeAt(e);return false})},_removeEventHandlers:function(){var a=this;var d=this.length();while(d){d--;this._removeEventListenerAt(d)}if(this.scrollable){this.removeHandler(this._leftArrow,"mousedown");this.removeHandler(this._rightArrow,"mousedown")}this.removeHandler(c(document),"mousemove.tab"+this.element.id,this._moveElement);this.removeHandler(c(document),"mouseup.tab"+this.element.id,this._mouseUpScrollDocumentHandler);this.removeHandler(c(document),"mouseup.tab"+this.element.id,this._mouseUpDragDocumentHandler);this.removeHandler(this.host,"keydown")},_removeEventListenerAt:function(e){var f=this;this.removeHandler(this._titleList[e],this.toggleMode);this.removeHandler(this._titleList[e],"mouseenter");this.removeHandler(this._titleList[e],"mouseleave");this.removeHandler(this._titleList[e],"mousedown");this.removeHandler(this._titleList[e],"mouseup");var a=this._titleList[e].children(0).children(this.toThemeProperty(".jqx-tabs-close-button",true));this.removeHandler(a,"click")},_moveSelectionTrack:function(n,A,B){var a=this;if(n==-1){return}if(this._titleList.length==0){return}if(n>=this._titleList.length){return}if(this.selectionTracker&&this._selectionTracker){this._selectionTracker.stop();this._unlockAnimation("selectionTracker");if(B===undefined){var t=parseInt(this._titleList[n].position().left);if(!isNaN(parseInt(this._unorderedList.css("left")))){t+=parseInt(this._unorderedList.css("left"))}if(!isNaN(parseInt(this._unorderedList.css("margin-left")))){t+=parseInt(this._unorderedList.css("margin-left"))}if(!isNaN(parseInt(this._titleList[n].css("margin-left")))){t+=parseInt(this._titleList[n].css("margin-left"))}if(!isNaN(parseInt(this._titleList[n].css("margin-right")))){}}else{var t=B}var u=0;var w=0;if(this.position==="top"){u=parseInt(this._headerWrapper.height())-parseInt(this._titleList[n].outerHeight());if(!this.autoHeight){w+=parseInt(this._titleList[n].css("margin-top"))}}this._lockAnimation("selectionTracker");var o=parseInt(this._titleList[n].css("padding-left"))+parseInt(this._titleList[n].css("padding-right"));var v=this.position=="top"?0:1;var q=parseInt(this._headerWrapper.css("padding-top"));var s=parseInt(this._titleList[n].css("padding-top"))+parseInt(this._titleList[n].css("padding-bottom"));this._selectionTracker.css("visibility","visible");this._moveSelectionTrackerContainer.css("visibility","visible");var z=parseInt(this._titleList[n].css("margin-top"));if(isNaN(z)){z=0}this._selectionTracker.animate({top:q+z-v,left:t+"px",height:parseInt(this._titleList[n].height()+s),width:this._titleList[n].width()+o},A,function(){a._unlockAnimation("selectionTracker");a._selectionTracker.css("visibility","hidden");a._addSelectStyle(n,true);a._moveSelectionTrackerContainer.css("visibility","hidden")})}},destroy:function(){c.jqx.utilities.resize(this.host,null,true);this.host.remove()},_switchTabs:function(a,e){if(a!==e&&!this._activeAnimation()&&!this._tabCaptured){var f=this;this._raiseEvent(7,{item:e});this._raiseEvent(6,{item:a});if(this._currentEvent){if(this._currentEvent.cancel){this._currentEvent=null;return}}this._unselect(e,null,true);this._select(a,f.contentTransitionDuration,null,true);return true}return false},_activeAnimation:function(){for(child in this._isAnimated){if(this._isAnimated.hasOwnProperty(child)){if(this._isAnimated[child]){return true}}}return false},_indexOf:function(d){var a=this.length();while(a){a--;if(this._titleList[a][0]===d[0]||this._contentList[a][0]===d[0]){return a}}return -1},_validateProperties:function(){try{if(this.scrollAnimationDuration<0||isNaN(this.scrollAnimationDuration)){throw new Error(this._invalidArgumentExceptions.invalidScrollAnimationDuration)}if(parseInt(this.width)<0&&this.width!=="auto"){throw new Error(this._invalidArgumentExceptions.invalidWidth)}if(parseInt(this.height)<0&&this.height!=="auto"){throw new Error(this._invalidArgumentExceptions.invalidHeight)}if(this.animationType!=="none"&&this.animationType!=="fade"){throw new Error(this._invalidArgumentExceptions.invalidAnimationType)}if(this.contentTransitionDuration<0||isNaN(this.contentTransitionDuration)){throw new Error(this._invalidArgumentExceptions.invalidcontentTransitionDuration)}if(this.toggleMode!=="click"&&this.toggleMode!=="dblclick"&&this.toggleMode!=="mouseenter"&&this.toggleMode!=="none"){throw new Error(this._invalidArgumentExceptions.invalidToggleMode)}if(this.position!=="top"&&this.position!=="bottom"){throw new Error(this._invalidArgumentExceptions.invalidPosition)}if(this.scrollPosition!=="left"&&this.scrollPosition!=="right"&&this.scrollPosition!=="both"){throw new Error(this._invalidArgumentExceptions.invalidScrollPosition)}if(this.scrollStep<0||isNaN(this.scrollStep)){throw new Error(this._invalidArgumentExceptions.invalidScrollStep)}if(this._titleList.length!==this._contentList.length||this._titleList.length==0){throw new Error(this._invalidArgumentExceptions.invalidStructure)}if(this.arrowButtonSize<0||isNaN(this.arrowButtonSize)){throw new Error(this._invalidArgumentExceptions.invalidArrowSize)}if(this.closeButtonSize<0||isNaN(this.closeButtonSize)){throw new Error(this._invalidArgumentExceptions.invalidCloseSize)}}catch(a){alert(a)}},_startScrollRepeat:function(e,f){var a=this;if(e){this._scrollLeft(f)}else{this._scrollRight(f)}if(this._scrollTimeout){clearTimeout(this._scrollTimeout)}this._scrollTimeout=setTimeout(function(){a._startScrollRepeat(e,a.scrollAnimationDuration)},f)},_performLayout:function(){var a=this.length();while(a){a--;if(this.position==="top"||this.position==="bottom"){if(this.rtl){this._titleList[a].css("float","right")}else{this._titleList[a].css("float","left")}}}this._fitToSize();this._performHeaderLayout();this._fitToSize()},updatetabsheader:function(){this._performHeaderLayout()},_performResize:function(){var a=this;this._fitToSize();this._positionArrows(this._totalItemsWidth);if(this._totalItemsWidth>this.element.offsetWidth){this._unorderedList.width(this._totalItemsWidth)}else{this._unorderedList[0].style.width=this.element.offsetWidth-2+"px"}this._fitToSize()},_addArrows:function(){if(this._leftArrow&&this._rightArrow){this._leftArrow.remove();this._rightArrow.remove()}this._leftArrow=c('<div><span style="display: block; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-tabs-arrow-left")+'"></span></div>');this._rightArrow=c('<div><span style="display: block; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-tabs-arrow-right")+'"></span></div>');this._leftArrow.addClass(this.toThemeProperty("jqx-tabs-arrow-background"));this._rightArrow.addClass(this.toThemeProperty("jqx-tabs-arrow-background"));this._leftArrow.addClass(this.toThemeProperty("jqx-widget-header"));this._rightArrow.addClass(this.toThemeProperty("jqx-widget-header"));this._headerWrapper.append(this._leftArrow);this._headerWrapper.append(this._rightArrow);this._leftArrow.width(this.arrowButtonSize);this._leftArrow.height("100%");this._rightArrow.width(this.arrowButtonSize);this._rightArrow.height("100%");this._leftArrow.css({"z-index":"30"});this._rightArrow.css({"z-index":"30"});this._leftArrow.css("display","none");this._rightArrow.css("display","none")},_tabsWithVisibleCloseButtons:function(){if(!this.showCloseButtons){return 0}var d=this.length();var a=this;c.each(this._titleList,function(){var e=this.attr("hasclosebutton");if(e!=undefined&&e!=null){if(e=="false"||e==false){d--}}});return d},_calculateTitlesSize:function(){var h=0;var o=0;var q=this.length();if(this.rtl&&c.jqx.browser.msie&&c.jqx.browser.version<8){this._measureItem=c("<span style='position: relative; visibility: hidden;'></span>");c(document.body).append(this._measureItem)}while(q){q--;if(this._measureItem){this._measureItem.html(this._titleList[q].html());this._titleList[q].width(this._measureItem.width())}this._titleList[q].css("position","static");this._titleList[q].find(this.toThemeProperty(".jqx-tabs-close-button",true)).css("display","none");o+=parseInt(this._titleList[q].outerWidth(true));if(h<this._titleList[q].outerHeight(true)){h=Math.round(parseInt(this._titleList[q].outerHeight(true)))}if(this._titleList[q].height()==0){var l=this._titleList[q].clone();c(document.body).append(l);h=Math.round(parseInt(l.outerHeight(true)));l.remove()}var a=this._titleList[q].attr("hasCloseButton");if(a!=undefined&&a!=null){var n=false;if(this.hiddenCloseButtons){if(this.hiddenCloseButtons[q]==1){this._titleList[q].find(this.toThemeProperty(".jqx-tabs-close-button",true)).css("display","none");n=true}}if(!n){if(a=="true"||a==true){o+=this.closeButtonSize;this._titleList[q].find(this.toThemeProperty(".jqx-tabs-close-button",true)).css("display","block")}else{if(a=="false"||a==false){this._titleList[q].find(this.toThemeProperty(".jqx-tabs-close-button",true)).css("display","none")}}}}else{if(this.showCloseButtons&&(this.canCloseAllTabs||this._tabsWithVisibleCloseButtons()>1)){var n=false;if(this.hiddenCloseButtons){if(this.hiddenCloseButtons[q]==1){this._titleList[q].find(this.toThemeProperty(".jqx-tabs-close-button",true)).css("display","none");n=true}}if(!n){o+=this.closeButtonSize;this._titleList[q].find(this.toThemeProperty(".jqx-tabs-close-button",true)).css("display","block")}}}this._titleList[q].height(this._titleList[q].height())}if(this._measureItem){this._measureItem.remove()}return{height:h,width:10+o}},_reorderHeaderElements:function(){if(this.selectionTracker){this._moveSelectionTrackerContainer.css({position:"absolute",height:"100%",top:"0px",left:"0px",width:"100%"})}this._headerWrapper.css({position:"relative",left:"0px",top:"0px"});if(this.scrollable){this._rightArrow.css({width:this.arrowButtonSize,position:"absolute",top:"0px"});this._leftArrow.css({width:this.arrowButtonSize,position:"absolute",top:"0px"});var d=this.theme&&this.theme.indexOf("ui-")!=-1?3:0;if(d>0){this._rightArrow.addClass(this.toThemeProperty("jqx-rc-r"));this._leftArrow.addClass(this.toThemeProperty("jqx-rc-l"))}var a=this.scrollPosition;if(this.rtl){if(a=="left"){a="right"}if(a=="right"){a="left"}}switch(a){case"both":this._rightArrow.css("right","0px");this._leftArrow.css("left","0px");break;case"left":this._rightArrow.css("left",this.arrowButtonSize+"px");this._leftArrow.css("left","0px");break;case"right":this._rightArrow.css("right",-d+"px");this._leftArrow.css("right",(this.arrowButtonSize-d)+"px");break}}},_positionArrows:function(a){if(a>=parseInt(this._headerWrapper[0].offsetWidth)&&this.scrollable){this._needScroll=true;if(this._unorderedList.position().left===0){this._unorderedListLeftBackup=this._getArrowsDisplacement()+"px"}this._leftArrow.css("display","block");this._rightArrow.css("display","block")}else{this._needScroll=false;this._leftArrow[0].style.display="none";this._rightArrow[0].style.display="none";this._unorderedList[0].style.left="0px"}},_performHeaderLayout:function(){this._removeSelectStyle();var a=this._calculateTitlesSize();var e=a.height;var f=a.width;this._headerWrapper.height(e);this._unorderedList.height(e);if(this.headerHeight!=null&&this.headerHeight!="auto"){this._headerWrapper.height(this.headerHeight);this._unorderedList.height(this.headerHeight)}if(f>this.host.width()){this._unorderedList.width(f)}else{this._unorderedList.width(this.host.width())}if(c.jqx.browser.msie&&c.jqx.browser.version<8){this._unorderedList.css("position","relative");this._headerWrapper.css("overflow","hidden")}this._reorderHeaderElements();f=f+parseInt(this._unorderedList.css("margin-left"));this._totalItemsWidth=f;this._positionArrows(f);this._unorderedList.css({position:"relative",top:"0px"});this._verticalAlignElements();this._moveSelectionTrack(this._selectedItem,0);this._addSelectStyle(this.selectedItem)},_verticalAlignElements:function(){var z=this.length();var s=this._maxHeightTab();while(z){z--;var I=this._titleList[z].find(".jqx-tabs-titleContentWrapper"),w=I.height(),t=this._titleList[z].find(this.toThemeProperty(".jqx-tabs-close-button",true)),v=parseInt(this._titleList[z].css("padding-top"));if(!v){v=0}if(this.autoHeight){var C=this._titleList[z].outerHeight(true)-this._titleList[z].height();var H=parseInt(this._titleList[z].css("padding-top"));var a=parseInt(this._titleList[z].css("padding-bottom"));var A=parseInt(this._titleList[z].css("border-top-width"));var E=parseInt(this._titleList[z].css("border-bottom-width"));this._titleList[z].height(this._unorderedList.outerHeight()-H-a-A-E)}else{if(this.position==="top"){var B=parseInt(this._unorderedList.height())-parseInt(this._titleList[z].outerHeight(true));if(parseInt(this._titleList[z].css("margin-top"))!==B&&B!==0){this._titleList[z].css("margin-top",B)}}else{this._titleList[z].height(this._titleList[z].height())}}this._titleList[z].children(0).height("100%");var F=parseInt(this._titleList[z].height());var D=parseInt(F)/2-parseInt(t.height())/2;t.css("margin-top",1+D);var u=parseInt(F)/2-parseInt(I.height())/2;I.css("margin-top",u)}if(this.scrollable){var C=parseInt(this._headerWrapper.outerHeight())-this.arrowButtonSize;var G=C/2;this._rightArrow.children(0).css("margin-top",G);this._rightArrow.height("100%");this._leftArrow.height("100%");this._leftArrow.children(0).css("margin-top",G)}},_getImageUrl:function(d){var a=d.css("background-image");a=a.replace('url("',"");a=a.replace('")',"");a=a.replace("url(","");a=a.replace(")","");return a},_fitToSize:function(){var l=false;var f=false;var h=this;if(h.width!=null&&h.width.toString().indexOf("%")!=-1){l=true}if(h.height!=null&&h.height.toString().indexOf("%")!=-1){f=true}if(l){this.host[0].style.width=this.width;this._contentWrapper[0].style.width="100%"}if(f){this.host[0].style.height=this.height;this._contentWrapper[0].style.width="100%";this._contentWrapper[0].style.height="auto";var a=this.element.offsetHeight-this._headerWrapper[0].offsetHeight;this._contentWrapper[0].style.height=a+"px"}if(!l){this.host.width(this.width);if(this.width!="auto"){this._contentWrapper.css("width","100%")}}if(!f){if(this.height!=="auto"){this.host.height(this.height);var a=this.host.height()-this._headerWrapper.outerHeight();this._contentWrapper.height(a)}else{this._contentWrapper.css("height","auto")}}},_maxHeightTab:function(){var f=this.length();var e=-1;var a=-1;while(f){f--;if(e<parseInt(this._titleList[f].outerHeight(true))){a=f}}return a},_addSelectionTracker:function(){if(this._moveSelectionTrackerContainer){this._moveSelectionTrackerContainer.remove()}this._moveSelectionTrackerContainer=c('<div class="'+this.toThemeProperty("jqx-tabs-selection-tracker-container")+'">');var a=this.toThemeProperty("jqx-tabs-selection-tracker-"+this.position);this._selectionTracker=c('<div class="'+a+'">');this._selectionTracker.css("color","inherit");this._moveSelectionTrackerContainer.append(this._selectionTracker);this._headerWrapper.append(this._moveSelectionTrackerContainer);this._selectionTracker.css({position:"absolute","z-index":"10",left:"0px",top:"0px",display:"inline-block"})},_addContentWrapper:function(){var e="none";var a=this._contentWrapper==undefined;this._contentWrapper=this._contentWrapper||c('<div class="'+this.toThemeProperty("jqx-tabs-content")+'" style="float:'+e+';">');this._contentWrapper.addClass(this.toThemeProperty("jqx-widget-content"));var f=this.length();while(f){f--;this._contentList[f].addClass(this.toThemeProperty("jqx-tabs-content-element"))}if(a){this.host.find(".jqx-tabs-content-element").wrapAll(this._contentWrapper);this._contentWrapper=this.host.find(".jqx-tabs-content")}if(this.roundedCorners){if(this.position=="top"){this._contentWrapper.addClass(this.toThemeProperty("jqx-rc-b"))}else{this._contentWrapper.addClass(this.toThemeProperty("jqx-rc-t"))}this.host.addClass(this.toThemeProperty("jqx-rc-all"))}},_addHeaderWrappers:function(){var a=this.length();this._unorderedList.remove();this._headerWrapper=this._headerWrapper||c('<div class="jqx-tabs-headerWrapper" style="outline: none;">');this._headerWrapper.remove();if(this.position=="top"){this._headerWrapper.prependTo(this.host)}else{this._headerWrapper.appendTo(this.host)}this._unorderedList.appendTo(this._headerWrapper);this._headerWrapper.addClass(this.toThemeProperty("jqx-tabs-header"));this._headerWrapper.addClass(this.toThemeProperty("jqx-widget-header"));if(this.position=="bottom"){this._headerWrapper.addClass(this.toThemeProperty("jqx-tabs-header-bottom"))}else{this._headerWrapper.removeClass(this.toThemeProperty("jqx-tabs-header-bottom"))}if(this.roundedCorners){if(this.position=="top"){this._headerWrapper.addClass(this.toThemeProperty("jqx-rc-t"));this._headerWrapper.removeClass(this.toThemeProperty("jqx-rc-b"))}else{this._headerWrapper.removeClass(this.toThemeProperty("jqx-rc-t"));this._headerWrapper.addClass(this.toThemeProperty("jqx-rc-b"))}}while(a){a--;if(this._titleList[a].children(".jqx-tabs-titleWrapper").length<=0){var d=c('<div class="jqx-tabs-titleWrapper" style="outline: none; position: relative;">');d.append(this._titleList[a].html());this._titleList[a].empty();d.appendTo(this._titleList[a])}this._titleList[a].children(".jqx-tabs-titleWrapper").css("z-index","15")}},_render:function(){this._addCloseButtons();this._addHeaderWrappers();this._addContentWrapper();if(this.selectionTracker){this._addSelectionTracker()}this._addArrows()},_addCloseButton:function(q){var l=q;if(this._titleList[l].find(this.toThemeProperty(".jqx-tabs-close-button",true)).length<=0&&this._titleList[l].find(".jqx-tabs-titleContentWrapper").length<=0){var o=c('<div class="jqx-tabs-titleContentWrapper"></div>');var h="left";if(this.rtl){h="right"}o.css("float",h);o.addClass("jqx-disableselect");o.append(this._titleList[l].html());this._titleList[l].html("");var a=c('<div class="'+this.toThemeProperty("jqx-tabs-close-button")+'"></div>');a.css({height:this.closeButtonSize,width:this.closeButtonSize,"float":h,"font-size":"1px"});var n=this;this._titleList[l].append(o);this._titleList[l].append(a);if(!this.showCloseButtons){a.css("display","none")}else{if(this.hiddenCloseButtons){if(this.hiddenCloseButtons[q]==1){a.css("display","none")}}}}},_addCloseButtons:function(){var a=this.length();while(a){a--;this._addCloseButton(a)}},_prepareTabs:function(){var d=this.length();var a=this.selectionTracker;this.selectionTracker=false;while(d){d--;if(this._selectedItem!==d){this._unselect(d,null,false)}}this._select(this._selectedItem,0,null,false);this.selectionTracker=a;if(this.initTabContent){if(!this._initTabContentList[this.selectedItem]){if(!this._hiddenParent()){this.initTabContent(this.selectedItem);this._initTabContentList[this.selectedItem]=true}}}},_isValidIndex:function(a){return(a>=0&&a<this.length())},_removeSelectStyle:function(){var d=this.length();while(d){d--;var a=null;if(this.showCloseButtons){var a=this._titleList[d].children(0).children(this.toThemeProperty(".jqx-tabs-close-button",true));a.removeClass(this.toThemeProperty("jqx-tabs-close-button-selected"))}if(this.position=="top"){this._titleList[d].removeClass(this.toThemeProperty("jqx-tabs-title-selected-top"))}else{this._titleList[d].removeClass(this.toThemeProperty("jqx-tabs-title-selected-bottom"))}this._titleList[d].removeClass(this.toThemeProperty("jqx-fill-state-pressed"))}},_addSelectStyle:function(l,f){var h=this.length();this._removeSelectStyle();if(!this.selectionTracker||(f!=undefined&&f)){if(l>=0&&this._titleList[l]!=undefined){var a=null;if(this.showCloseButtons){var a=this._titleList[l].children(0).children(this.toThemeProperty(".jqx-tabs-close-button",true));if(this.hiddenCloseButtons){if(this.hiddenCloseButtons[l]==1){a=null}}}this._titleList[l].removeClass(this.toThemeProperty("jqx-fill-state-hover"));if(this.position=="top"){this._titleList[l].removeClass(this.toThemeProperty("jqx-tabs-title-hover-top"));this._titleList[l].addClass(this.toThemeProperty("jqx-tabs-title-selected-top"))}else{this._titleList[l].removeClass(this.toThemeProperty("jqx-tabs-title-hover-bottom"));this._titleList[l].addClass(this.toThemeProperty("jqx-tabs-title-selected-bottom"))}this._titleList[l].addClass(this.toThemeProperty("jqx-fill-state-pressed"));if(a!=null){a.addClass(this.toThemeProperty("jqx-tabs-close-button-selected"))}}}},_addItemTo:function(h,q,n){if(q<h.length){var a=undefined,l=undefined;for(var o=q;o+1<h.length;o++){if(a===undefined){a=h[o+1];h[o+1]=h[o]}else{l=h[o+1];h[o+1]=a;a=l}}if(a===undefined){a=h[q]}h[q]=n;h.push(a)}else{h.push(n)}},_select:function(s,n,l,a,o){if(!this._tabCaptured){this.host.attr("hideFocus","true");var t=this;if(o==undefined){this._addSelectStyle(s)}else{this._addSelectStyle(s,o)}if(this.isCollapsed&&this.collapsible){this._contentList[s].css("display","none");this._selectCallback(s,l,a);return}switch(this.animationType){case"none":if(!t.selectionTracker){for(var q=0;q<this._contentList.length;q++){if(s!=q&&this._contentList[q].css("display")=="block"){this._contentList[q].css("display","none");c.jqx.aria(this._titleList[q],"aria-selected",false);c.jqx.aria(this._contentList[q],"aria-hidden",true)}}this._contentList[s].css("display","block");c.jqx.aria(this._titleList[s],"aria-selected",true);c.jqx.aria(this._contentList[s],"aria-hidden",false);c.jqx.aria(this,"aria-activedescendant",this._titleList[s][0].id)}else{setTimeout(function(){t._contentList[s].css("display","block");c.jqx.aria(t._titleList[s],"aria-selected",true);c.jqx.aria(t._contentList[s],"aria-hidden",false);c.jqx.aria(t,"aria-activedescendant",t._titleList[s][0].id)},this.selectionTrackerAnimationDuration)}this._selectCallback(s,l,a);break;case"fade":this._lockAnimation("contentListSelect");t._selectCallback(s,l,a);this._contentList[s].fadeIn(n,function(){t._unlockAnimation("contentListSelect");c.jqx.aria(t._titleList[s],"aria-selected",true);c.jqx.aria(t._contentList[s],"aria-hidden",false);c.jqx.aria(t,"aria-activedescendant",t._titleList[s][0].id)});break}}},_selectCallback:function(f,e,a){this._selectedItem=f;this.selectedItem=this._selectedItem;if(e){e()}if(a){this._raiseEvent(1,{item:f})}},_unselect:function(h,f,a){if(h>=0){if(!this._tabCaptured){var l=this;this._contentList[h].stop();if(this.animationType=="fade"){this._contentList[h].css("display","none");c.jqx.aria(l._titleList[h],"aria-selected",false);c.jqx.aria(l._contentList[h],"aria-hidden",true)}else{if(this.selectionTracker){setTimeout(function(){l._contentList[h].css("display","none");c.jqx.aria(l._titleList[h],"aria-selected",false);c.jqx.aria(l._contentList[h],"aria-hidden",true)},this.selectionTrackerAnimationDuration)}else{this._contentList[h].css("display","none");c.jqx.aria(l._titleList[h],"aria-selected",false);c.jqx.aria(l._contentList[h],"aria-hidden",true)}}this._unselectCallback(h,f,a);if(!this.selectionTracker){this._titleList[h].removeClass(this.toThemeProperty("jqx-tabs-title-selected"));this._titleList[h].removeClass(this.toThemeProperty("jqx-fill-state-pressed"))}}}},_unselectCallback:function(f,e,a){if(a){this._raiseEvent(8,{item:f})}if(e){e()}},disable:function(){var a=this.length();while(a){a--;this.disableAt(a)}},enable:function(){var a=this.length();while(a){a--;this.enableAt(a)}},getEnabledTabsCount:function(){var a=0;c.each(this._titleList,function(){if(!this.disabled){a++}});return a},getDisabledTabsCount:function(){var a=0;c.each(this._titleList,function(){if(this.disabled){a++}});return a},removeAt:function(t){if(this._isValidIndex(t)&&(this.canCloseAllTabs||this.length()>1)){this._removeHoverStates();var a=this,u=this._titleList[this._selectedItem],s=parseInt(this._titleList[t].outerWidth(true)),l=this.getTitleAt(t);this._unorderedList.width(parseInt(this._unorderedList.width())-s);this._titleList[t].remove();this._contentList[t].remove();var n=0;this._titleList.splice(t,1);this._contentList.splice(t,1);this._addStyles();this._performHeaderLayout();this._removeEventHandlers();this._addEventHandlers();this._raiseEvent(3,{item:t,title:l});this._isAnimated={};if(this.selectedItem>0){this._selectedItem=-1;var o=this._getPreviousIndex(this.selectedItem);this.select(o)}else{this._selectedItem=-1;var o=this._getNextIndex(this.selectedItem);this.select(o)}if(parseInt(this._unorderedList.css("left"))>this._getArrowsDisplacement()){this._unorderedList.css("left",this._getArrowsDisplacement())}if(parseInt(this._unorderedList.width())<=parseInt(this._headerWrapper.width())){var q=(this.enableScrollAnimation)?this.scrollAnimationDuration:0;this._lockAnimation("unorderedList");this._unorderedList.animate({left:0},q,function(){a._unlockAnimation("unorderedList")})}}},removeFirst:function(){this.removeAt(0)},removeLast:function(){this.removeAt(this.length()-1)},disableAt:function(a){if(!this._titleList[a].disabled||this._titleList[a].disabled===undefined){if(this.selectedItem==a){var d=this.next();if(!d){d=this.previous()}}this._titleList[a].disabled=true;this.removeHandler(this._titleList[a],this.toggleMode);if(this.enabledHover){this._titleList[a].off("mouseenter").off("mouseleave")}this._removeEventListenerAt(a);this._titleList[a].addClass(this.toThemeProperty("jqx-tabs-title-disable"));this._titleList[a].addClass(this.toThemeProperty("jqx-fill-state-disabled"));this._raiseEvent(5,{item:a})}},enableAt:function(a){if(this._titleList[a].disabled){this._titleList[a].disabled=false;this._addEventListenerAt(a);this._titleList[a].removeClass(this.toThemeProperty("jqx-tabs-title-disable"));this._titleList[a].removeClass(this.toThemeProperty("jqx-fill-state-disabled"));this._raiseEvent(4,{item:a})}},addAt:function(o,h,n){if(o>=0||o<=this.length()){this._removeHoverStates();var a=c("<li>"+h+"</li>");var l=c("<div>"+n+"</div>");a.addClass(this.toThemeProperty("jqx-tabs-title"));a.addClass(this.toThemeProperty("jqx-item"));l.addClass(this.toThemeProperty("jqx-tabs-content-element"));if(this.position=="bottom"){a.addClass(this.toThemeProperty("jqx-tabs-title-bottom"))}var q=false;if(this._titleList.length==0){this._unorderedList.append(a)}else{if(o<this.length()&&o>=0){this._titleList[o].before(a)}else{this._titleList[this.length()-1].after(a)}}l.appendTo(this._contentWrapper);this._addItemTo(this._titleList,o,a);this._addItemTo(this._contentList,o,l);if(this._selectedItem>o){this._selectedItem++}this._switchTabs(o,this._selectedItem);this._selectedItem=o;if(this.showCloseButtons&&this._titleList.length>0){this._addCloseButton(o)}this._uiRefresh(q);this._raiseEvent(2,{item:o});this._moveSelectionTrack(this._selectedItem,0)}},addFirst:function(d,a){this.addAt(0,d,a)},addLast:function(d,a){this.addAt(this.length(),d,a)},val:function(a){if(arguments.length==0||typeof(a)=="object"){return this._selectedItem}this.select(a);return this._selectedItem},select:function(l,a){if(typeof(l)==="object"){l=this._indexOf(l)}var f=l>=0&&l<this._titleList.length?this._titleList[l].attr("canselect"):true;if(f==undefined||f=="true"||f==true){if(l!==this._selectedItem&&this._isValidIndex(l)){if(!this._activeAnimation()&&!this._titleList[l].disabled){var h=this._switchTabs(l,this._selectedItem);if(h){this.ensureVisible(l)}}}}},previous:function(d){var a=this._selectedItem;if(d!=undefined&&!isNaN(d)){a=d}while(a>0&&a<this._titleList.length){a--;if(!this._titleList[a].disabled){this.select(a);return true}}return false},_getPreviousIndex:function(d){if(d!=undefined&&!isNaN(d)){var a=d;while(d>0&&d<=this._titleList.length){d--;if(!this._titleList[d].disabled){return d;break}}return a}else{return 0}},_getNextIndex:function(d){if(d!=undefined&&!isNaN(d)){var a=d;while(d>=0&&d<this._titleList.length){if(!this._titleList[d].disabled){return d;break}d++}return a}else{return 0}},next:function(d){var a=this._selectedItem;if(d!=undefined&&!isNaN(d)){a=d}while(a>=0&&a<this._titleList.length-1){a++;if(!this._titleList[a].disabled){this.select(a);return true}}return false},first:function(){var a=0;if(this._titleList[a].disabled){this.next(a)}else{this.select(a)}},last:function(){var a=this._titleList.length-1;if(this._titleList[a].disabled){this.previous(a)}else{this.select(a)}},length:function(){return this._titleList.length},lockAt:function(a){if(this._isValidIndex(a)&&(!this._titleList[a].locked||this._titleList[a].locked===undefined)){this._titleList[a].locked=true;this._raiseEvent(11,{item:a})}},unlockAt:function(a){if(this._isValidIndex(a)&&this._titleList[a].locked){this._titleList[a].locked=false;this._raiseEvent(12,{item:a})}},lockAll:function(){var a=this.length();while(a){a--;this.lockAt(a)}},unlockAll:function(){var a=this.length();while(a){a--;this.unlockAt(a)}},showCloseButtonAt:function(d){if(this._isValidIndex(d)){if(!this.showCloseButtons){this.showCloseButtons=true;this.updatetabsheader()}var a=this._titleList[d].find(this.toThemeProperty(".jqx-tabs-close-button",true));a.css("display","block");if(!this.hiddenCloseButtons){this.hiddenCloseButtons=new Array()}this.hiddenCloseButtons[d]=0}},hideCloseButtonAt:function(d){if(this._isValidIndex(d)){var a=this._titleList[d].find(this.toThemeProperty(".jqx-tabs-close-button",true));a.css("display","none");if(!this.hiddenCloseButtons){this.hiddenCloseButtons=new Array()}this.hiddenCloseButtons[d]=1}},hideAllCloseButtons:function(){var a=this.length();while(a){a--;this.hideCloseButtonAt(a)}},showAllCloseButtons:function(){var a=this.length();while(a){a--;this.showCloseButtonAt(a)}},getTitleAt:function(a){if(this._titleList[a]){return this._titleList[a].text()}return null},getContentAt:function(a){if(this._contentList[a]){return this._contentList[a]}return null},setTitleAt:function(a,d){if(this._titleList[a]){this._titleList[a].text(d);if(this.showCloseButtons){this._addCloseButton(a);this._removeEventHandlers();this._addEventHandlers()}this.render();this.refresh()}},setContentAt:function(a,d){if(this._contentList[a]){this._contentList[a].html(d)}},ensureVisible:function(u){var a=this;if(u==undefined||u==-1||u==null){u=this.selectedItem}if(!this._isValidIndex(u)){return false}var l=parseInt(this._titleList[u].position().left)+parseInt(this._unorderedList.css("margin-left"));var s=parseInt(this._unorderedList.css("left"));var n=parseInt(this._headerWrapper.outerWidth(true));var t=parseInt(this._titleList[u].outerWidth(true));var o=s-this._getArrowsDisplacement();var w=n-this._getArrowsDisplacement()-o;var q,v;if(l<-o){q=-l+this._getArrowsDisplacement();v=this._getArrowsDisplacement()}else{if(l+t>w-this._getArrowsDisplacement()){q=-l+n-t-((this.scrollable)?(2*this.arrowButtonSize-this._getArrowsDisplacement()):0);v=n-t-this._getArrowsDisplacement()}else{this._moveSelectionTrack(u,this.selectionTrackerAnimationDuration);return true}}this._lockAnimation("unorderedList");this._unorderedList.animate({left:q},this.scrollAnimationDuration,function(){a._unlockAnimation("unorderedList");a._moveSelectionTrack(a._selectedItem,0);return true});this._moveSelectionTrack(u,this.selectionTrackerAnimationDuration,v);return true},isVisibleAt:function(u){var a=this;if(u==undefined||u==-1||u==null){u=this.selectedItem}if(!this._isValidIndex(u)){return false}var l=parseInt(this._titleList[u].position().left)+parseInt(this._unorderedList.css("margin-left"));var s=parseInt(this._unorderedList.css("left"));var n=parseInt(this._headerWrapper.outerWidth(true));var t=parseInt(this._titleList[u].outerWidth(true));var o=s-this._getArrowsDisplacement();var w=n-this._getArrowsDisplacement()-o;var q,v;if(l<-o){return false}else{if(l+t>w){return false}else{return true}}return true},isDisabled:function(a){return this._titleList[a].disabled},_lockAnimation:function(a){if(this._isAnimated){this._isAnimated[a]=true}},_unlockAnimation:function(a){if(this._isAnimated){this._isAnimated[a]=false}},propertyChangedHandler:function(a,l,f,h){this._validateProperties();switch(l){case"touchMode":if(h){a.enabledHover=false;a.keyboardNavigation=false}break;case"width":case"height":a._performResize();return;case"disabled":if(h){this.disable()}else{this.enable()}return;case"showCloseButtons":if(h){this.showAllCloseButtons()}else{this.hideAllCloseButtons()}this._moveSelectionTrack(this._selectedItem,this.selectionTrackerAnimationDuration);return;case"selectedItem":if(this._isValidIndex(h)){this.select(h)}return;case"scrollStep":case"contentTransitionDuration":case"scrollAnimationDuration":case"enableScrollAnimation":return;case"selectionTracker":if(h){this._refresh();this.select(this._selectedItem)}else{if(this._selectionTracker!=null){this._selectionTracker.remove()}}return;case"scrollable":if(h){this._refresh();this.select(this._selectedItem)}else{this._leftArrow.remove();this._rightArrow.remove();this._performHeaderLayout()}return;case"autoHeight":this._performHeaderLayout();return;case"theme":c.jqx.utilities.setTheme(f,h,this.host);return}this._unorderedList.css("left","0px");this._refresh();this.select(this._selectedItem);this._addSelectStyle(this._selectedItem,true)}})}(jqxBaseFramework));(function(d){d.jqx.jqxWidget("jqxGrid","",{});d.extend(d.jqx._jqxGrid.prototype,{defineInstance:function(){var a={disabled:false,width:600,height:400,pagerheight:28,groupsheaderheight:34,pagesize:10,pagesizeoptions:["5","10","20"],rowsheight:25,columnsheight:25,filterrowheight:31,groupindentwidth:30,rowdetails:false,enablerowdetailsindent:true,enablemousewheel:true,initrowdetails:null,layoutrowdetails:null,editable:false,editmode:"selectedcell",pageable:false,pagermode:"default",pagerbuttonscount:5,groupable:false,sortable:false,filterable:false,filtermode:"default",autoshowfiltericon:true,showfiltercolumnbackground:true,showpinnedcolumnbackground:true,showsortcolumnbackground:true,altrows:false,altstart:1,altstep:1,showrowdetailscolumn:true,showtoolbar:false,toolbarheight:34,showstatusbar:false,statusbarheight:34,enableellipsis:true,groups:[],groupsrenderer:null,groupcolumnrenderer:null,groupsexpandedbydefault:false,pagerrenderer:null,touchmode:"auto",columns:[],selectedrowindex:-1,selectedrowindexes:new Array(),selectedcells:new Array(),autobind:true,selectedcell:null,tableZIndex:799,headerZIndex:299,updatefilterconditions:null,showaggregates:false,showfilterrow:false,showeverpresentrow:false,everpresentrowposition:"top",everpresentrowactions:"add reset",everpresentrowactionsmode:"buttons",everpresentrowheight:30,autorowheight:false,autokoupdates:true,handlekeyboardnavigation:null,showsortmenuitems:true,showfiltermenuitems:true,showgroupmenuitems:true,enablebrowserselection:false,enablekeyboarddelete:true,clipboard:true,clipboardbegin:null,clipboardend:null,copytoclipboardwithheaders:false,copytoclipboardhiddencolumns:false,ready:null,updatefilterpanel:null,autogeneratecolumns:false,rowdetailstemplate:null,scrollfeedback:null,rendertoolbar:null,renderstatusbar:null,rendered:null,multipleselectionbegins:null,columngroups:null,cellhover:null,source:{beforeprocessing:null,beforesend:null,loaderror:null,localdata:null,data:null,datatype:"array",datafields:[],url:"",root:"",record:"",id:"",totalrecords:0,recordstartindex:0,recordendindex:0,loadallrecords:true,sortcolumn:null,sortdirection:null,sort:null,filter:null,sortcomparer:null},dataview:null,updatedelay:null,autoheight:false,autowidth:false,showheader:true,showgroupsheader:true,closeablegroups:true,scrollbarsize:d.jqx.utilities.scrollBarSize,touchscrollbarsize:d.jqx.utilities.touchScrollBarSize,scrollbarautoshow:d.jqx.utilities.scrollBarAutoShow,virtualmode:false,sort:null,columnsmenu:true,columnsresize:false,columnsautoresize:true,columnsreorder:false,columnsmenuwidth:15,autoshowcolumnsmenubutton:true,popupwidth:"auto",popupheight:"auto",columnmenuopening:null,columnmenuclosing:null,sorttogglestates:2,rendergridrows:null,enableanimations:true,enablecolumnsvirtualization:true,enabletooltips:false,selectionmode:"singlerow",enablehover:true,loadingerrormessage:"The data is still loading. When the data binding is completed, the Grid raises the 'bindingcomplete' event. Call this function in the 'bindingcomplete' event handler.",verticalscrollbarstep:25,verticalscrollbarlargestep:400,horizontalscrollbarstep:10,horizontalscrollbarlargestep:50,keyboardnavigation:true,touchModeStyle:"auto",autoshowloadelement:true,showdefaultloadelement:true,showemptyrow:true,autosavestate:false,autoloadstate:false,_updating:false,_pagescache:new Array(),_pageviews:new Array(),_cellscache:new Array(),_rowdetailscache:new Array(),_rowdetailselementscache:new Array(),_requiresupdate:false,_hasOpenedMenu:false,scrollmode:"physical",deferreddatafields:null,localization:null,rtl:false,menuitemsarray:[],events:["initialized","rowClick","rowSelect","rowUnselect","groupExpand","groupCollapse","sort","columnClick","cellClick","pageChanged","pageSizeChanged","bindingComplete","groupsChanged","filter","columnResized","cellSelect","cellUnselect","cellBeginEdit","cellEndEdit","cellValueChanged","rowExpand","rowCollapse","rowDoubleClick","cellDoubleClick","columnReordered","pageChanging"]};d.extend(true,this,a);return a},createInstance:function(u){this.that=this;var v=this;v.pagesize=parseInt(v.pagesize);v.toolbarheight=parseInt(v.toolbarheight);v.columnsheight=parseInt(v.columnsheight);v.filterrowheight=parseInt(v.filterrowheight);v.statusbarheight=parseInt(v.statusbarheight);v.groupsheaderheight=parseInt(v.groupsheaderheight);v.detailsVisibility=new Array();v.savedArgs=u&&u.length>0?u[0]:null;var w="<div class='jqx-clear jqx-border-reset jqx-overflow-hidden jqx-max-size jqx-position-relative'><div tabindex='1' class='jqx-clear jqx-max-size jqx-position-relative jqx-overflow-hidden jqx-background-reset' id='wrapper"+v.element.id+"'><div class='jqx-clear jqx-position-absolute' id='toolbar' style='visibility: hidden;'></div><div class='jqx-clear jqx-position-absolute' id='groupsheader' style='visibility: hidden;'></div><div class='jqx-clear jqx-overflow-hidden jqx-position-absolute jqx-border-reset jqx-background-reset' id='content"+v.element.id+"'></div><div class='jqx-clear jqx-position-absolute' id='verticalScrollBar"+v.element.id+"'></div><div class='jqx-clear jqx-position-absolute' id='horizontalScrollBar"+v.element.id+"'></div><div class='jqx-clear jqx-position-absolute jqx-border-reset' id='bottomRight'></div><div class='jqx-clear jqx-position-absolute' id='addrow'></div><div class='jqx-clear jqx-position-absolute' id='statusbar'></div><div class='jqx-clear jqx-position-absolute' id='pager' style='z-index: 20;'></div></div></div>";v.element.innerHTML="";if(d.jqx.utilities.scrollBarSize!=15){v.scrollbarsize=d.jqx.utilities.scrollBarSize}if(v.source){if(!v.source.dataBind){if(!d.jqx.dataAdapter){throw new Error("jqxGrid: Missing reference to jqxdata.js")}v.source=new d.jqx.dataAdapter(v.source)}var B=v.source._source.datafields;if(B&&B.length>0){v.editmode=v.editmode.toLowerCase();v.selectionmode=v.selectionmode.toLowerCase()}}v.host.attr("role","grid");v.host.attr("align","left");v.element.innerHTML=w;v.host.addClass(v.toTP("jqx-grid"));v.host.addClass(v.toTP("jqx-reset"));v.host.addClass(v.toTP("jqx-rc-all"));v.host.addClass(v.toTP("jqx-widget"));v.host.addClass(v.toTP("jqx-widget-content"));v.wrapper=v.host.find("#wrapper"+v.element.id);v.content=v.host.find("#content"+v.element.id);v.content.addClass(v.toTP("jqx-reset"));var s=v.host.find("#verticalScrollBar"+v.element.id);var a=v.host.find("#horizontalScrollBar"+v.element.id);v.bottomRight=v.host.find("#bottomRight").addClass(v.toTP("jqx-grid-bottomright")).addClass(v.toTP("jqx-scrollbar-state-normal"));if(!s.jqxScrollBar){throw new Error("jqxGrid: Missing reference to jqxscrollbar.js");return}v.editors=new Array();v.vScrollBar=s.jqxScrollBar({vertical:true,rtl:v.rtl,touchMode:v.touchmode,step:v.verticalscrollbarstep,largestep:v.verticalscrollbarlargestep,theme:v.theme,_triggervaluechanged:false});v.hScrollBar=a.jqxScrollBar({vertical:false,rtl:v.rtl,touchMode:v.touchmode,step:v.horizontalscrollbarstep,largestep:v.horizontalscrollbarlargestep,theme:v.theme,_triggervaluechanged:false});v.addnewrow=v.host.find("#addrow");v.addnewrow[0].id="addrow"+v.element.id;v.addnewrow.addClass(v.toTP("jqx-widget-header"));v.pager=v.host.find("#pager");v.pager[0].id="pager"+v.element.id;v.toolbar=v.host.find("#toolbar");v.toolbar[0].id="toolbar"+v.element.id;v.toolbar.addClass(v.toTP("jqx-grid-toolbar"));v.toolbar.addClass(v.toTP("jqx-widget-header"));v.statusbar=v.host.find("#statusbar");v.statusbar[0].id="statusbar"+v.element.id;v.statusbar.addClass(v.toTP("jqx-grid-statusbar"));v.statusbar.addClass(v.toTP("jqx-widget-header"));v.pager.addClass(v.toTP("jqx-grid-pager"));v.pager.addClass(v.toTP("jqx-widget-header"));v.groupsheader=v.host.find("#groupsheader");v.groupsheader.addClass(v.toTP("jqx-grid-groups-header"));v.groupsheader.addClass(v.toTP("jqx-widget-header"));v.groupsheader[0].id="groupsheader"+v.element.id;v.vScrollBar.css("visibility","hidden");v.hScrollBar.css("visibility","hidden");v.vScrollInstance=d.data(v.vScrollBar[0],"jqxScrollBar").instance;v.hScrollInstance=d.data(v.hScrollBar[0],"jqxScrollBar").instance;v.gridtable=null;v.isNestedGrid=v.host.parent()?v.host.parent().css("z-index")==9999:false;v.touchdevice=v.isTouchDevice();if(v.localizestrings){v.localizestrings();if(v.localization!=null){v.localizestrings(v.localization,false)}}if(v.rowdetailstemplate){if(undefined==v.rowdetailstemplate.rowdetails){v.rowdetailstemplate.rowdetails="<div></div>"}if(undefined==v.rowdetailstemplate.rowdetailsheight){v.rowdetailstemplate.rowdetailsheight=200}if(undefined==v.rowdetailstemplate.rowdetailshidden){v.rowdetailstemplate.rowdetailshidden=true}}if(v.showfilterrow&&!v.filterable){throw new Error('jqxGrid: "showfilterrow" requires setting the "filterable" property to true!');v.host.remove();return}if(v.autorowheight&&!v.autoheight&&!v.pageable){throw new Error('jqxGrid: "autorowheight" requires setting the "autoheight" or "pageable" property to true!');v.host.remove();return}if(v.virtualmode&&v.rendergridrows==null){throw new Error('jqxGrid: "virtualmode" requires setting the "rendergridrows"!');v.host.remove();return}if(v.virtualmode&&!v.pageable&&v.groupable){throw new Error('jqxGrid: "grouping" in "virtualmode" without paging is not supported!');v.host.remove();return}if(v._testmodules()){return}v._builddataloadelement();v._cachedcolumns=v.columns;if(v.columns&&v.columns.length>299){v.headerZIndex=v.columns.length+100}if(v.rowsheight!=25){v._measureElement("cell")}if(v.columnsheight!=25||v.columngroups){v._measureElement("column")}if(v.source){var B=v.source.datafields;if(B==null&&v.source._source){B=v.source._source.datafields}if(B){for(var A=0;A<v.columns.length;A++){var z=v.columns[A];if(z&&z.cellsformat&&z.cellsformat.length>2){for(var c=0;c<B.length;c++){if(B[c].name==z.datafield&&!B[c].format){B[c].format=z.cellsformat;break}}}}}}v.databind(v.source);if(v.showtoolbar){v.toolbar.css("visibility","inherit")}if(v.showstatusbar){v.statusbar.css("visibility","inherit")}v._arrange();if(v.pageable&&v._initpager){v._initpager()}v.tableheight=null;var t=v.that;var q=function(){if(t.content){t.content[0].scrollTop=0;t.content[0].scrollLeft=0}if(t.gridcontent){t.gridcontent[0].scrollLeft=0;t.gridcontent[0].scrollTop=0}};v.addHandler(v.content,"mousedown",function(){q()});v.addHandler(v.content,"scroll",function(h){q();return false});if(!v.showfilterrow){if(!v.showstatusbar&&!v.showtoolbar){v.host.addClass("jqx-disableselect")}v.content.addClass("jqx-disableselect")}if(v.enablebrowserselection){v.content.removeClass("jqx-disableselect");v.host.removeClass("jqx-disableselect")}v._resizeWindow();if(v.disabled){v.host.addClass(v.toThemeProperty("jqx-fill-state-disabled"))}v.hasTransform=d.jqx.utilities.hasTransform(v.host);if(v.scrollmode=="logical"){v.vScrollInstance.thumbStep=v.rowsheight;v.vScrollInstance.step=v.rowsheight}if(!d.jqx.isHidden(v.host)){if(v.filterable||v.groupable||v.sortable){v._initmenu()}}},_resizeWindow:function(){var c=this.that;if((this.width!=null&&this.width.toString().indexOf("%")!=-1)||(this.height!=null&&this.height.toString().indexOf("%")!=-1)){this._updatesizeonwindowresize=true;d.jqx.utilities.resize(this.host,function(n){var o=d(window).width();var s=d(window).height();var q=c.host.width();var l=c.host.height();if(c.autoheight){c._lastHostWidth=s}if(c._lastHostWidth!=q||c._lastHostHeight!=l){if(c.touchdevice&&c.editcell&&n!=="orientationchange"){return}c._updatesize(c._lastHostWidth!=q,c._lastHostHeight!=l)}c._lastWidth=o;c._lastHeight=s;c._lastHostWidth=q;c._lastHostHeight=l});var h=c.host.width();var a=c.host.height();c._lastHostWidth=h;c._lastHostHeight=a}},_builddataloadelement:function(){if(this.dataloadelement){this.dataloadelement.remove()}this.dataloadelement=d('<div style="overflow: hidden; position: absolute;"></div>');if(this.showdefaultloadelement){var a=d('<div style="z-index: 99999; margin-left: -66px; left: 50%; top: 50%; margin-top: -24px; position: relative; width: 100px; height: 33px; padding: 5px; font-family: verdana; font-size: 12px; color: #767676; border-color: #898989; border-width: 1px; border-style: solid; background: #f6f6f6; border-collapse: collapse;"><div style="float: left;"><div style="float: left; overflow: hidden; width: 32px; height: 32px;" class="jqx-grid-load"/><span style="margin-top: 10px; float: left; display: block; margin-left: 5px;" >'+this.gridlocalization.loadtext+"</span></div></div>");a.addClass(this.toTP("jqx-rc-all"));this.dataloadelement.addClass(this.toTP("jqx-rc-all"));a.addClass(this.toTP("jqx-fill-state-normal"));this.dataloadelement.append(a)}else{this.dataloadelement.addClass(this.toTP("jqx-grid-load"))}this.dataloadelement.width(this.width);this.dataloadelement.height(this.height);this.host.prepend(this.dataloadelement)},_measureElement:function(a){var c=d("<span style='visibility: hidden; white-space: nowrap;'>measure Text</span>");c.addClass(this.toTP("jqx-widget"));d(document.body).append(c);if(a=="cell"){this._cellheight=c.height()}else{this._columnheight=c.height()}c.remove()},_measureMenuElement:function(){var a=d("<span style='visibility: hidden; white-space: nowrap;'>measure Text</span>");a.addClass(this.toTP("jqx-widget"));a.addClass(this.toTP("jqx-menu"));a.addClass(this.toTP("jqx-menu-item-top"));a.addClass(this.toTP("jqx-fill-state-normal"));d(document.body).append(a);var c=a.outerHeight();a.remove();return c},_measureElementWidth:function(a){var c=d("<span style='visibility: hidden; white-space: nowrap;'>"+a+"</span>");c.addClass(this.toTP("jqx-widget"));c.addClass(this.toTP("jqx-grid"));c.addClass(this.toTP("jqx-grid-column-header"));c.addClass(this.toTP("jqx-widget-header"));d(document.body).append(c);var h=c.outerWidth()+20;c.remove();return h},_getBodyOffset:function(){var a=0;var c=0;if(d("body").css("border-top-width")!="0px"){a=parseInt(d("body").css("border-top-width"));if(isNaN(a)){a=0}}if(d("body").css("border-left-width")!="0px"){c=parseInt(d("body").css("border-left-width"));if(isNaN(c)){c=0}}return{left:c,top:a}},_testmodules:function(){var a="";var l=this.that;var s=function(){if(a.length!=""){a+=","}};if(this.columnsmenu&&!this.host.jqxMenu&&(this.sortable||this.groupable||this.filterable)){s();a+=" jqxmenu.js"}if(!this.host.jqxScrollBar){s();a+=" jqxscrollbar.js"}if(!this.host.jqxButton){s();a+=" jqxbuttons.js"}if(!d.jqx.dataAdapter){s();a+=" jqxdata.js"}if(this.pageable&&!this.gotopage){s();a+="jqxgrid.pager.js"}if(this.filterable&&!this.applyfilters){s();a+=" jqxgrid.filter.js"}if(this.groupable&&!this._initgroupsheader){s();a+=" jqxgrid.grouping.js"}if(this.columnsresize&&!this.autoresizecolumns){s();a+=" jqxgrid.columnsresize.js"}if(this.columnsreorder&&!this.setcolumnindex){s();a+=" jqxgrid.columnsreorder.js"}if(this.sortable&&!this.sortby){s();a+=" jqxgrid.sort.js"}if(this.editable&&!this.begincelledit){s();a+=" jqxgrid.edit.js"}if(this.showaggregates&&!this.getcolumnaggregateddata){s();a+=" jqxgrid.aggregates.js"}if(this.keyboardnavigation&&!this.selectrow){s();a+=" jqxgrid.selection.js"}if(a!=""||this.editable||this.filterable||this.pageable){var o=[];var c=function(h){switch(h){case"checkbox":if(!l.host.jqxCheckBox&&!o.checkbox){o.checkbox=true;s();a+=" jqxcheckbox.js"}break;case"numberinput":if(!l.host.jqxNumberInput&&!o.numberinput){o.numberinput=true;s();a+=" jqxnumberinput.js"}break;case"datetimeinput":if(!l.host.jqxDateTimeInput&&!o.datetimeinput){s();o.datetimeinput=true;a+=" jqxdatetimeinput.js(requires: jqxcalendar.js)"}else{if(!l.host.jqxCalendar&&!o.calendar){s();a+=" jqxcalendar.js"}}break;case"combobox":if(!l.host.jqxComboBox&&!o.combobox){s();o.combobox=true;a+=" jqxcombobox.js(requires: jqxlistbox.js)"}else{if(!l.host.jqxListBox&&!o.listbox){s();o.listbox=true;a+=" jqxlistbox.js"}}break;case"dropdownlist":if(!l.host.jqxDropDownList&&!o.dropdownlist){s();o.dropdownlist=true;a+=" jqxdropdownlist.js(requires: jqxlistbox.js)"}else{if(!l.host.jqxListBox&&!o.listbox){s();o.listbox=true;a+=" jqxlistbox.js"}}break}};if(this.filterable||this.pageable){c("dropdownlist")}for(var q=0;q<this.columns.length;q++){if(this.columns[q]==undefined){continue}var n=this.columns[q].columntype;c(n);if(this.filterable&&this.showfilterrow){var n=this.columns[q].filtertype;if(n=="checkedlist"||n=="bool"){c("checkbox")}if(n=="date"){c("datetimeinput")}}}if(a!=""){throw new Error("jqxGrid: Missing references to the following module(s): "+a);this.host.remove();return true}}return false},focus:function(){try{this.wrapper.focus();var a=this.that;setTimeout(function(){a.wrapper.focus()},25);this.focused=true}catch(c){}},hiddenParent:function(){return d.jqx.isHidden(this.host)},resize:function(a,c){this.width=a;this.height=c;this._updatesize(true,true)},_updatesize:function(a,c){if(this._loading){return}var n=this.that;n._newmax=null;var l=n.host.width();var o=n.host.height();if(!n._oldWidth){n._oldWidth=l}if(!n._oldHeight){n._oldHeight=o}if(n._resizeTimer){clearTimeout(n._resizeTimer)}var q=5;n._resizeTimer=setTimeout(function(){n.resizingGrid=true;if(d.jqx.isHidden(n.host)){return}if(n.editcell){n.endcelledit(n.editcell.row,n.editcell.column,true,true);n._oldselectedcell=null}if(B!=n._oldHeight||c==true){var A=n.groupable&&n.groups.length>0;var t=n.vScrollBar.css("visibility");if(!n.autoheight){if(n.virtualmode){n._pageviews=new Array()}if(!A&&!n.rowdetails&&!n.pageable){n._arrange();n.virtualsizeinfo=n._calculatevirtualheight();var B=Math.round(n.host.height())+2*n.rowsheight;if(parseInt(B)>=parseInt(n._oldHeight)){n.prerenderrequired=true}n._renderrows(n.virtualsizeinfo);if(n.rtl){n._updatecolumnwidths();if(n.table){n.table.width(n.columnsheader.width())}n._updatecellwidths()}}else{n._arrange();n.prerenderrequired=true;var B=Math.round(n.host.height())+2*n.rowsheight;realheight=n._gettableheight();var h=Math.round(B/n.rowsheight);var w=Math.max(n.dataview.totalrows,n.dataview.totalrecords);if(n.pageable){w=n.pagesize;if(n.pagesize>Math.max(n.dataview.totalrows,n.dataview.totalrecords)&&n.autoheight){w=Math.max(n.dataview.totalrows,n.dataview.totalrecords)}else{if(!n.autoheight){if(n.dataview.totalrows<n.pagesize){w=Math.max(n.dataview.totalrows,n.dataview.totalrecords)}}}}var u=w*n.rowsheight;var z=n._getpagesize();if(!n.pageable&&n.autoheight){h=w}if(n.virtualsizeinfo){n.virtualsizeinfo.visiblerecords=h}n.rendergridcontent(true,false);n._renderrows(n.virtualsizeinfo)}if(t!=n.vScrollBar.css("visibility")){n.vScrollInstance.setPosition(0);n._arrange();n._updatecolumnwidths();if(n.table){n.table.width(n.columnsheader.width())}n._updatecellwidths()}}}if(l!=n._oldWidth||a==true){var s=false;if(n.editcell&&n.editcell.editor){switch(n.editcell.columntype){case"dropdownlist":s=n.editcell.editor.jqxDropDownList("isOpened")||(n.editcell.editor.jqxDropDownList("isanimating")&&!n.editcell.editor.jqxDropDownList("ishiding"));if(s){n.editcell.editor.jqxDropDownList({openDelay:0});n.editcell.editor.jqxDropDownList("open");n.editcell.editor.jqxDropDownList({openDelay:250});return}break;case"combobox":s=n.editcell.editor.jqxComboBox("isOpened")||(n.editcell.editor.jqxComboBox("isanimating")&&!n.editcell.editor.jqxComboBox("ishiding"));if(s){n.editcell.editor.jqxComboBox({openDelay:0});n.editcell.editor.jqxComboBox("open");n.editcell.editor.jqxComboBox({openDelay:250});return}break;case"datetimeinput":if(s){s=n.editcell.editor.jqxDateTimeInput("isOpened")||(n.editcell.editor.jqxDateTimeInput("isanimating")&&!n.editcell.editor.jqxDateTimeInput("ishiding"));n.editcell.editor.jqxDateTimeInput({openDelay:0});n.editcell.editor.jqxDateTimeInput("open");n.editcell.editor.jqxDateTimeInput({openDelay:250});return}break}}var v=n.hScrollBar.css("visibility");n._arrange();n._updatecolumnwidths();if(n.table){n.table.width(n.columnsheader.width())}n._updatecellwidths();if(!(a==false&&n._oldWidth>l)){if(!c||n.dataview.rows.length==0){n._renderrows(n.virtualsizeinfo)}}if(v!=n.hScrollBar.css("visibility")){n.hScrollInstance.setPosition(0)}}n._oldWidth=l;n._oldHeight=B;n.resizingGrid=false},q)},getTouches:function(a){return d.jqx.mobile.getTouches(a)},_updateTouchScrolling:function(){var h=this.that;if(h.isTouchDevice()){h.scrollmode="logical";h.vScrollInstance.thumbStep=h.rowsheight;var a=d.jqx.mobile.getTouchEventName("touchstart");var c=d.jqx.mobile.getTouchEventName("touchend");var l=d.jqx.mobile.getTouchEventName("touchmove");h.enablehover=false;if(h.gridcontent){h.removeHandler(h.gridcontent,a+".touchScroll");h.removeHandler(h.gridcontent,l+".touchScroll");h.removeHandler(h.gridcontent,c+".touchScroll");h.removeHandler(h.gridcontent,"touchcancel.touchScroll");d.jqx.mobile.touchScroll(h.gridcontent[0],h.vScrollInstance.max,function(n,o){if(h.vScrollBar.css("visibility")=="visible"){var q=h.vScrollInstance.value;h.vScrollInstance.setPosition(q+o)}if(h.hScrollBar.css("visibility")=="visible"){var q=h.hScrollInstance.value;h.hScrollInstance.setPosition(q+n)}h.vScrollInstance.thumbCapture=true;h._lastScroll=new Date()},this.element.id,this.hScrollBar,this.vScrollBar);if(h._overlayElement){h.removeHandler(h._overlayElement,a+".touchScroll");h.removeHandler(h._overlayElement,l+".touchScroll");h.removeHandler(h._overlayElement,c+".touchScroll");h.removeHandler(h._overlayElement,"touchcancel.touchScroll");d.jqx.mobile.touchScroll(h._overlayElement[0],h.vScrollInstance.max,function(n,o){if(h.vScrollBar.css("visibility")=="visible"){var q=h.vScrollInstance.value;h.vScrollInstance.setPosition(q+o)}if(h.hScrollBar.css("visibility")=="visible"){var q=h.hScrollInstance.value;h.hScrollInstance.setPosition(q+n)}h.vScrollInstance.thumbCapture=true;h._lastScroll=new Date()},this.element.id,this.hScrollBar,this.vScrollBar);this.addHandler(this.host,a,function(){if(!h.editcell){h._overlayElement.css("visibility","visible")}else{h._overlayElement.css("visibility","hidden")}});this.addHandler(this.host,c,function(){if(!h.editcell){h._overlayElement.css("visibility","visible")}else{h._overlayElement.css("visibility","hidden")}})}}}},isTouchDevice:function(){if(this.touchDevice!=undefined){return this.touchDevice}var a=d.jqx.mobile.isTouchDevice();this.touchDevice=a;if(this.touchmode==true){if(d.jqx.browser.msie&&d.jqx.browser.version<9){this.enablehover=false;return false}a=true;d.jqx.mobile.setMobileSimulator(this.element);this.touchDevice=a}else{if(this.touchmode==false){a=false}}if(a&&this.touchModeStyle!=false){this.touchDevice=true;this.host.addClass(this.toThemeProperty("jqx-touch"));this.host.find("jqx-widget-content").addClass(this.toThemeProperty("jqx-touch"));this.host.find("jqx-widget-header").addClass(this.toThemeProperty("jqx-touch"));this.scrollbarsize=this.touchscrollbarsize}return a},toTP:function(a){return this.toThemeProperty(a)},localizestrings:function(h,c){this._cellscache=new Array();if(d.jqx.dataFormat){d.jqx.dataFormat.cleardatescache()}if(this._loading){throw new Error("jqxGrid: "+this.loadingerrormessage);return false}if(h!=null){for(var a in h){if(a.toLowerCase()!==a){h[a.toLowerCase()]=h[a]}}if(h.pagergotopagestring){this.gridlocalization.pagergotopagestring=h.pagergotopagestring}if(h.pagershowrowsstring){this.gridlocalization.pagershowrowsstring=h.pagershowrowsstring}if(h.pagerrangestring){this.gridlocalization.pagerrangestring=h.pagerrangestring}if(h.pagernextbuttonstring){this.gridlocalization.pagernextbuttonstring=h.pagernextbuttonstring}if(h.pagerpreviousbuttonstring){this.gridlocalization.pagerpreviousbuttonstring=h.pagerpreviousbuttonstring}if(h.pagerfirstbuttonstring){this.gridlocalization.pagerfirstbuttonstring=h.pagerfirstbuttonstring}if(h.pagerlastbuttonstring){this.gridlocalization.pagerlastbuttonstring=h.pagerlastbuttonstring}if(h.groupsheaderstring){this.gridlocalization.groupsheaderstring=h.groupsheaderstring}if(h.sortascendingstring){this.gridlocalization.sortascendingstring=h.sortascendingstring}if(h.sortdescendingstring){this.gridlocalization.sortdescendingstring=h.sortdescendingstring}if(h.sortremovestring){this.gridlocalization.sortremovestring=h.sortremovestring}if(h.groupbystring){this.gridlocalization.groupbystring=h.groupbystring}if(h.groupremovestring){this.gridlocalization.groupremovestring=h.groupremovestring}if(h.firstDay){this.gridlocalization.firstDay=h.firstDay}if(h.days){this.gridlocalization.days=h.days}if(h.months){this.gridlocalization.months=h.months}if(h.AM){this.gridlocalization.AM=h.AM}if(h.PM){this.gridlocalization.PM=h.PM}if(h.patterns){this.gridlocalization.patterns=h.patterns}if(h.percentsymbol){this.gridlocalization.percentsymbol=h.percentsymbol}if(h.currencysymbol){this.gridlocalization.currencysymbol=h.currencysymbol}if(h.currencysymbolposition){this.gridlocalization.currencysymbolposition=h.currencysymbolposition}if(h.decimalseparator!=undefined){this.gridlocalization.decimalseparator=h.decimalseparator}if(h.thousandsseparator!=undefined){this.gridlocalization.thousandsseparator=h.thousandsseparator}if(h.filterclearstring){this.gridlocalization.filterclearstring=h.filterclearstring}if(h.filterstring){this.gridlocalization.filterstring=h.filterstring}if(h.filtershowrowstring){this.gridlocalization.filtershowrowstring=h.filtershowrowstring}if(h.filtershowrowdatestring){this.gridlocalization.filtershowrowdatestring=h.filtershowrowdatestring}if(h.filterselectallstring){this.gridlocalization.filterselectallstring=h.filterselectallstring}if(h.filterchoosestring){this.gridlocalization.filterchoosestring=h.filterchoosestring}if(h.filterorconditionstring){this.gridlocalization.filterorconditionstring=h.filterorconditionstring}if(h.filterandconditionstring){this.gridlocalization.filterandconditionstring=h.filterandconditionstring}if(h.filterstringcomparisonoperators){this.gridlocalization.filterstringcomparisonoperators=h.filterstringcomparisonoperators}if(h.filternumericcomparisonoperators){this.gridlocalization.filternumericcomparisonoperators=h.filternumericcomparisonoperators}if(h.filterdatecomparisonoperators){this.gridlocalization.filterdatecomparisonoperators=h.filterdatecomparisonoperators}if(h.filterbooleancomparisonoperators){this.gridlocalization.filterbooleancomparisonoperators=h.filterbooleancomparisonoperators}if(h.emptydatastring){this.gridlocalization.emptydatastring=h.emptydatastring}if(h.filterselectstring){this.gridlocalization.filterselectstring=h.filterselectstring}if(h.todaystring){this.gridlocalization.todaystring=h.todaystring}if(h.clearstring){this.gridlocalization.clearstring=h.clearstring}if(h.validationstring){this.gridlocalization.validationstring=h.validationstring}if(h.loadtext){this.gridlocalization.loadtext=h.loadtext}if(h.addrowstring){this.gridlocalization.addrowstring=h.addrowstring}if(h.udpaterowstring){this.gridlocalization.udpaterowstring=h.udpaterowstring}if(h.deleterowstring){this.gridlocalization.deleterowstring=h.deleterowstring}if(h.resetrowstring){this.gridlocalization.resetrowstring=h.resetrowstring}if(h.everpresentrowplaceholder){this.gridlocalization.everpresentrowplaceholder=h.everpresentrowplaceholder}if(c!==false){if(this._initpager){this._initpager()}if(this._initgroupsheader){this._initgroupsheader()}if(this._initmenu){this._initmenu()}this._builddataloadelement();d(this.dataloadelement).css("visibility","hidden");d(this.dataloadelement).css("display","none");if(this.filterable&&this.showfilterrow){if(this._updatefilterrow){for(var a in this._filterrowcache){d(this._filterrowcache[a]).remove()}this._filterrowcache=[];this._updatefilterrow()}}if(this.showaggregates&&this.refresheaggregates){this.refresheaggregates()}this._renderrows(this.virtualsizeinfo)}}else{this.gridlocalization={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy\u0027-\u0027MM\u0027-\u0027dd\u0027T\u0027HH\u0027:\u0027mm\u0027:\u0027ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",d3:"dd-MMMM-yyyy",d4:"dd-MM-yy",d5:"H:mm",d6:"HH:mm",d7:"HH:mm tt",d8:"dd/MMMM/yyyy",d9:"MMMM-dd",d10:"MM-dd",d11:"MM-dd-yyyy"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:",",pagergotopagestring:"Go to page:",pagershowrowsstring:"Show rows:",pagerrangestring:" of ",pagerpreviousbuttonstring:"previous",pagernextbuttonstring:"next",pagerfirstbuttonstring:"first",pagerlastbuttonstring:"last",groupsheaderstring:"Drag a column and drop it here to group by that column",sortascendingstring:"Sort Ascending",sortdescendingstring:"Sort Descending",sortremovestring:"Remove Sort",groupbystring:"Group By this column",groupremovestring:"Remove from groups",filterclearstring:"Clear",filterstring:"Filter",filtershowrowstring:"Show rows where:",filtershowrowdatestring:"Show rows where date:",filterorconditionstring:"Or",filterandconditionstring:"And",filterselectallstring:"(Select All)",filterchoosestring:"Please Choose:",filterstringcomparisonoperators:["empty","not empty","contains","contains(match case)","does not contain","does not contain(match case)","starts with","starts with(match case)","ends with","ends with(match case)","equal","equal(match case)","null","not null"],filternumericcomparisonoperators:["equal","not equal","less than","less than or equal","greater than","greater than or equal","null","not null"],filterdatecomparisonoperators:["equal","not equal","less than","less than or equal","greater than","greater than or equal","null","not null"],filterbooleancomparisonoperators:["equal","not equal"],validationstring:"Entered value is not valid",emptydatastring:"No data to display",filterselectstring:"Select Filter",loadtext:"Loading...",clearstring:"Clear",todaystring:"Today",addrowstring:"Add",udpaterowstring:"Update",deleterowstring:"Delete",resetrowstring:"Reset",everpresentrowplaceholder:"Enter "}}},_getmenudefaultheight:function(){var c=this;var h=0;if(this.sortable&&this._togglesort&&this.showsortmenuitems){h=3}if(this.groupable&&this._initgroupsheader&&this.showgroupmenuitems){h+=2}var l=c._measureMenuElement();var a=h*l+9;if(c.filterable&&!c.showfilterrow&&c.showfiltermenuitems){a+=180;if(d.jqx.browser.msie&&d.jqx.browser.version<8){a+=20}}return a},_initmenu:function(){var H=this.that;if(this.host.jqxMenu){if(this.gridmenu){if(this._hasOpenedMenu){return}if(this.filterable){if(this._destroyfilterpanel){this._destroyfilterpanel()}}this.removeHandler(this.gridmenu,"keydown");this.removeHandler(this.gridmenu,"closed");this.removeHandler(this.gridmenu,"itemclick");this.gridmenu.jqxMenu("destroy");this.gridmenu.removeData();this.gridmenu.remove()}this.menuitemsarray=new Array();this.gridmenu=d('<div id="gridmenu'+this.element.id+'" style="z-index: 9999999999999;"></div>');this.host.append(this.gridmenu);var C=d("<ul></ul>");var R='<div class="jqx-grid-sortasc-icon"></div>';var F=d("<li>"+R+this.gridlocalization.sortascendingstring+"</li>");var K='<div class="jqx-grid-sortdesc-icon"></div>';var B=d("<li>"+K+this.gridlocalization.sortdescendingstring+"</li>");var M='<div class="jqx-grid-sortremove-icon"></div>';var P=d("<li>"+M+this.gridlocalization.sortremovestring+"</li>");var Q='<div class="jqx-grid-groupby-icon"></div>';var I=d("<li>"+Q+this.gridlocalization.groupbystring+"</li>");var U=d("<li>"+Q+this.gridlocalization.groupremovestring+"</li>");var W=d('<li type="separator"></li>');var D=d('<li class="filter" style="height: 175px;" ignoretheme="true"><div class="filter"></div></li>');var N=this.gridlocalization.sortascendingstring.length;var G=this.gridlocalization.sortascendingstring;if(this.gridlocalization.sortdescendingstring.length>N){N=this.gridlocalization.sortdescendingstring.length;G=this.gridlocalization.sortdescendingstring}if(this.gridlocalization.sortremovestring.length>N){N=this.gridlocalization.sortremovestring.length;G=this.gridlocalization.sortremovestring}if(this.groupable&&this._initgroupsheader&&this.showgroupmenuitems){if(this.gridlocalization.groupbystring.length>N){N=this.gridlocalization.groupbystring.length;G=this.gridlocalization.groupbystring}if(this.gridlocalization.groupremovestring.length>N){N=this.gridlocalization.groupremovestring.length;G=this.gridlocalization.groupremovestring}}var c=200;G=d.trim(G).replace(/\&nbsp\;/ig,"").replace(/\&#160\;/ig,"");var T=d("<span>"+G+"</span>");T.addClass(this.toThemeProperty("jqx-menu-item"));this.host.append(T);c=T.outerWidth()+60;T.remove();var V=0;if(this.sortable&&this._togglesort&&this.showsortmenuitems){C.append(F);this.menuitemsarray[0]=F[0];C.append(B);this.menuitemsarray[1]=B[0];C.append(P);this.menuitemsarray[2]=P[0];V=3}if(this.groupable&&this._initgroupsheader&&this.showgroupmenuitems){C.append(I);this.menuitemsarray[3]=I[0];C.append(U);this.menuitemsarray[4]=U[0];V+=2}var E=this._measureMenuElement();var O=V*E+9;var J=true;if(this.filterable&&!this.showfilterrow&&this.showfiltermenuitems){if(this._initfilterpanel){this.menuitemsarray[5]=D[0];this.menuitemsarray[6]=D[0];C.append(W);C.append(D);O+=180;if(d.jqx.browser.msie&&d.jqx.browser.version<8){O+=20}var L=d(D).find("div:first");this.excelfilterpanel=d("<div></div>");this.filterpanel=L;this.filtermenu=d(D);c+=20;this._initfilterpanel(this,L,"",c);this._initfilterpanel(this,this.excelfilterpanel,"",c,true);J=false;this.removeHandler(d(document),"click.menu"+H.element.id,H._closemenuafterclick,H);this.addHandler(d(document),"click.menu"+H.element.id,H._closemenuafterclick,H)}else{throw new Error("jqxGrid: Missing reference to jqxgrid.filter.js.")}}this.gridmenu.append(C);if(d.jqx.browser.msie&&d.jqx.browser.version<8&&this.filterable){d("#listBoxfilter1"+this.element.id).css("z-index",4990);d("#listBoxfilter2"+this.element.id).css("z-index",4990);d("#listBoxfilter3"+this.element.id).css("z-index",4990);d("#gridmenu"+this.element.id).css("z-index",5000);this.addHandler(d("#gridmenu"+this.element.id),"initialized",function(){d("#menuWrappergridmenu"+H.element.id).css("z-index",4980)})}if(this.menuitemsarray[0]==undefined){O=65}this.removeHandler(d(window),"orientationchange.jqxgrid"+this.element.id);this.removeHandler(d(window),"orientationchanged.jqxgrid"+this.element.id);this.addHandler(d(window),"orientationchange.jqxgrid"+this.element.id,function(){H.gridmenu.jqxMenu("close")});this.addHandler(d(window),"orientationchanged.jqxgrid"+this.element.id,function(){H.gridmenu.jqxMenu("close")});this.removeHandler(this.gridmenu,"keydown");this.addHandler(this.gridmenu,"keydown",function(l){if(l.keyCode==27){H.gridmenu.jqxMenu("close")}else{if(l.keyCode==13&&H.filterable){if(H._buildfilter){var n=d(d.find("#filter1"+H.element.id)).jqxDropDownList("container").css("display")=="block";var o=d(d.find("#filter2"+H.element.id)).jqxDropDownList("container").css("display")=="block";var s=d(d.find("#filter3"+H.element.id)).jqxDropDownList("container").css("display")=="block";var h=d(d.find("#filterclearbutton"+H.element.id)).hasClass("jqx-fill-state-focus");if(h){var q=d.data(document.body,"contextmenu"+H.element.id).column;H._clearfilter(H,H.element,q);H.gridmenu.jqxMenu("close")}else{if(!n&&!o&&!s){var q=d.data(document.body,"contextmenu"+H.element.id).column;H.gridmenu.jqxMenu("close");H._buildfilter(H,D,q)}}}}}});if(this.popupwidth!="auto"){c=this.popupwidth}this.gridmenu.jqxMenu({popupZIndex:999999,width:c,height:O,autoCloseOnClick:J,autoOpenPopup:false,mode:"popup",theme:this.theme,animationShowDuration:0,animationHideDuration:0,animationShowDelay:0});if(this.filterable){this.gridmenu.jqxMenu("_setItemProperty",D[0].id,"closeOnClick",false)}if(this.rtl){var a=this.that;d.each(C.find("li"),function(){d(this).addClass(a.toTP("jqx-rtl"))});var S=function(l){var h=l.find("div");h.css("float","right");h.css("margin-left","4px");h.css("margin-right","-4px")};S(P);S(B);S(F);S(I);S(U)}this._handlemenueevents()}else{this.columnsmenu=false}},_arrangemenu:function(){if(!this.gridmenu){this._initmenu()}var a=this.gridlocalization.sortascendingstring.length;var q=this.gridlocalization.sortascendingstring;if(this.gridlocalization.sortdescendingstring.length>a){a=this.gridlocalization.sortdescendingstring.length;q=this.gridlocalization.sortdescendingstring}if(this.gridlocalization.sortremovestring.length>a){a=this.gridlocalization.sortremovestring.length;q=this.gridlocalization.sortremovestring}if(this.groupable&&this._initgroupsheader){if(this.gridlocalization.groupbystring.length>a){a=this.gridlocalization.groupbystring.length;q=this.gridlocalization.groupbystring}if(this.gridlocalization.groupremovestring.length>a){a=this.gridlocalization.groupremovestring.length;q=this.gridlocalization.groupremovestring}}var o=200;q=d.trim(q).replace(/\&nbsp\;/ig,"").replace(/\&#160\;/ig,"");var n=d("<span>"+q+"</span>");n.addClass(this.toThemeProperty("jqx-menu-item"));this.host.append(n);o=n.outerWidth()+60;n.remove();var l=0;if(this.sortable&&this._togglesort&&this.showsortmenuitems){l=3}if(this.groupable&&this._initgroupsheader&&this.showgroupmenuitems){l+=2}var c=l*27+3;if(this.filterable&&this.showfiltermenuitems){if(this._initfilterpanel){c+=180;o+=20;if(d.jqx.browser.msie&&d.jqx.browser.version<8){c+=20}}}if(this.menuitemsarray[0]==undefined){c=65}if(this.popupwidth!="auto"){o=this.popupwidth}if(this.popupheight!="auto"){c=this.popupheight}this.gridmenu.jqxMenu({width:o,height:c})},_closemenuafterclick:function(z){var t=z!=null?z.data:this;var v=false;if(z.target==undefined||(z.target!=undefined&&z.target.className.indexOf==undefined)){t.gridmenu.jqxMenu("close");return}if(z.target.className.indexOf("filter")!=-1&&z.target.className.indexOf("jqx-grid-cell-filter")==-1){return}if(z.target.className.indexOf("jqx-grid-cell")!=-1){t.gridmenu.jqxMenu("close");return}if(t._hasOpenedMenu){if(d(z.target).ischildof(t.gridmenu)){return}}var A=t.host.coord();var w=t.gridmenu.coord();var q=z.pageX;var s=z.pageY;d.each(d(z.target).parents(),function(){if(this.id!=null&&this.id.indexOf&&this.id.indexOf("filter")!=-1){v=true;return false}if(this.className.indexOf&&this.className.indexOf("filter")!=-1&&this.className.indexOf("jqx-grid-cell-filter")==-1){v=true;return false}if(this.className.indexOf&&this.className.indexOf("jqx-grid-cell")!=-1){t.gridmenu.jqxMenu("close");return false}if(this.className.indexOf&&this.className.indexOf("jqx-grid-column")!=-1){t.gridmenu.jqxMenu("close");return false}});if(v){return}try{if(t.filtermode==="default"){var a=d(d.find("#filter1"+t.element.id)).jqxDropDownList("listBox").vScrollInstance._mouseup;var o=new Date();if(o-a<100){return}var c=d(d.find("#filter3"+t.element.id)).jqxDropDownList("listBox").vScrollInstance._mouseup;if(o-c<100){return}if((d(d.find("#filter3"+t.element.id)).jqxDropDownList("container")).css("display")=="block"){return}if((d(d.find("#filter1"+t.element.id)).jqxDropDownList("container")).css("display")=="block"){return}if((d(d.find("#filter2"+t.element.id)).jqxDropDownList("container")).css("display")=="block"){return}if(t._hasdatefilter){if(d(".filtertext1"+t.element.id)[0].nodeName.toLowerCase()=="div"){if(d(".filtertext1"+t.element.id).jqxDateTimeInput("container").css("display")=="block"){return}if(d(".filtertext2"+t.element.id).jqxDateTimeInput("container").css("display")=="block"){return}}}}else{var a=d(d.find("#filter1"+t.element.id)).data().jqxListBox.instance.vScrollInstance._mouseup;var o=new Date();if(o-a<100){return}var c=d(d.find("#filter1"+t.element.id)).data().jqxListBox.instance.hScrollInstance._mouseup;if(o-c<100){return}}}catch(u){}if(q>=w.left&&q<=w.left+t.gridmenu.width()){if(s>=w.top&&s<=w.top+t.gridmenu.height()){return}}t.gridmenu.jqxMenu("close")},_handlemenueevents:function(){var a=this.that;this.removeHandler(this.gridmenu,"closed");this.addHandler(this.gridmenu,"closed",function(c){a._closemenu()});this.removeHandler(this.gridmenu,"itemclick");this.addHandler(this.gridmenu,"itemclick",function(s){var t=s.args;for(var v=0;v<a.menuitemsarray.length;v++){var q=a.menuitemsarray[v];if(t==q){if(d(t).attr("ignoretheme")!=undefined){return}var o=d.data(document.body,"contextmenu"+a.element.id);var u=o.column;if(a.filterable){a.gridmenu.jqxMenu("close")}var c=u.displayfield;if(c==null){c=u.datafield}if(o!=null){switch(v){case 0:a.sortby(c,"ascending",null);break;case 1:a.sortby(c,"descending",null);break;case 2:a.sortby(c,null,null);break;case 3:a.addgroup(c);break;case 4:a.removegroup(c);break;case 5:var n=d(a.menuitemsarray[6]);d(n).css("display","block");break;case 7:break}}break}}})},getdatainformation:function(){var a=this.dataview.totalrecords;if(this.summaryrows){a+=this.summaryrows.length}return{rowscount:a,sortinformation:this.getsortinformation(),paginginformation:this.getpaginginformation()}},getsortinformation:function(){return{sortcolumn:this.sortcolumn,sortdirection:this.sortdirection}},getpaginginformation:function(){return{pagenum:this.dataview.pagenum,pagesize:this.pagesize,pagescount:Math.ceil(this.dataview.totalrecords/this.pagesize)}},_updaterowsproperties:function(){this._updatehiddenrows();this._updaterowheights();this._updaterowdetails()},_updatehiddenrows:function(){var a=this.that;this.hiddens=new Array();var c=this.hiddenboundrows;d.each(c,function(n){if(this.index!=undefined){var o=this.index;var l=a.getrowvisibleindex(n);a.hiddens[l]=this.hidden}})},_updaterowheights:function(){var a=this.that;this.heights=new Array();var c=this.heightboundrows;d.each(c,function(n){if(this.index!=undefined){var o=this.index;var l=a.getrowvisibleindex(n);a.heights[l]=this.height}})},_updaterowdetails:function(){var c=this.that;this.details=new Array();var a=this.detailboundrows;d.each(a,function(n){if(this.index!=undefined){var o=this.index;var l=c.getrowvisibleindex(n);c.details[l]=this.details}})},_getmenuitembyindex:function(a){if(a==undefined){return null}return this.menuitemsarray[a]},openmenu:function(n){if(this._openingmenu){return}this._openingmenu=true;this.closemenu();var a=this.getcolumn(n);if(!a.menu){return false}if(!this.gridmenu){this._initmenu()}var o=a.columnsmenu;d(a.element).trigger("mouseenter");this.menuOwner=a;var c=this;for(var l=0;l<c.columns.records.length;l++){if(c.columns.records[l].datafield!=n){d(c.columns.records[l].element).trigger("mouseleave")}}setTimeout(function(){if(d(o)[0].style.display=="block"){d(o).trigger("click")}c._openingmenu=false},200)},closemenu:function(){this._closemenu()},_closemenu:function(){if(this._hasOpenedMenu){var q=false;if(this.columnmenuclosing){var l=d.data(document.body,"contextmenu"+this.element.id);if(!l){l={column:{displayfield:null}}}q=this.columnmenuclosing(this.gridmenu,l.column.displayfield,d(this.gridmenu).height());if(q===false){return}}if(this.gridmenu!=null){this.gridmenu.jqxMenu("close")}var l=d.data(document.body,"contextmenu"+this.element.id);var s=16;if(l!=null&&this.autoshowcolumnsmenubutton){if(this.enableanimations){d(l.columnsmenu).animate({"margin-left":0},"fast",function(){d(l.columnsmenu).css("display","none")});var n=!this.rtl?-32:0;l.column.iconscontainer.animate({"margin-left":n},"fast")}else{d(l.columnsmenu).css("display","none");var n=!this.rtl?-32:0;l.column.iconscontainer.css("margin-left",n)}d.data(document.body,"contextmenu"+this.element.id,null)}this._hasOpenedMenu=false;this.menuOwner=null;var a=this._getmenuitembyindex(5);if(a){var c=d(a).find("#filter1"+this.element.id);var t=d(a).find("#filter2"+this.element.id);var o=d(a).find("#filter3"+this.element.id);if(c.length>0&&this.filtermode==="default"){c.jqxDropDownList("hideListBox");if(t.length>0){t.jqxDropDownList("hideListBox")}if(o.length>0){o.jqxDropDownList("hideListBox")}}}}},scrolloffset:function(a,c){if(a==null||c==null||a==undefined||c==undefined){return}this.vScrollBar.jqxScrollBar("setPosition",a);this.hScrollBar.jqxScrollBar("setPosition",c)},scrollleft:function(a){if(a==null||a==undefined){return}if(this.hScrollBar.css("visibility")!="hidden"){this.hScrollBar.jqxScrollBar("setPosition",a)}},scrolltop:function(a){if(a==null||a==undefined){return}if(this.vScrollBar.css("visibility")!="hidden"){this.vScrollBar.jqxScrollBar("setPosition",a)}},beginupdate:function(a,c){this._updating=true;this._datachanged=false;if(a===true){this._batchupdate=true}if(c===true){this._stopbindings=true}},endupdate:function(){this.resumeupdate()},resumeupdate:function(){this._updating=false;if(this._batchupdate){this._batchupdate=false;this._datachanged=false;if(!this._stopbindings){this.render()}else{this.updatebounddata()}return}if(this._stopbindings){this.updatebounddata("data");return}if(this._datachanged==true){var a=this.vScrollInstance.value;this.render(true,true,false);this._datachanged=false;if(a!=0&&a<this.vScrollInstance.max){this.scrolltop(a)}}else{this.rendergridcontent(true);this._renderrows(this.virtualsizeinfo)}if(this.showaggregates&&this.renderaggregates){this.renderaggregates()}this._updatecolumnwidths();this._updatecellwidths();this._renderrows(this.virtualsizeinfo)},updating:function(){return this._updating},showloadelement:function(){if(this.renderloadelement){this.dataloadelement.html(this.renderloadelement())}this.dataloadelement.width(this.host.width());this.dataloadelement.height(this.host.height());d(this.dataloadelement).css("visibility","visible");d(this.dataloadelement).css("display","block")},hideloadelement:function(){d(this.dataloadelement).css("visibility","hidden");d(this.dataloadelement).css("display","none")},_updatefocusedfilter:function(){var a=this.that;if(a.focusedfilter){a.focusedfilter.focus();setTimeout(function(){a.focusedfilter.focus();if(a.focusedfilter[0].nodeName.toLowerCase()=="input"){var c=a.focusedfilter.val().length;try{if("selectionStart" in a.focusedfilter[0]){a.focusedfilter[0].setSelectionRange(c,c)}else{var l=a.focusedfilter[0].createTextRange();l.collapse(true);l.moveEnd("character",c);l.moveStart("character",c);l.select()}}catch(h){}}},50)}},databind:function(l,a){if(this.loadingstate===true){return}if(this._stopbindings===true){return}if(this.host.css("display")=="block"){if(this.autoshowloadelement){d(this.dataloadelement).css("visibility","visible");d(this.dataloadelement).css("display","block");this.dataloadelement.width(this.host.width());this.dataloadelement.height(this.host.height());this._hideemptyrow()}else{d(this.dataloadelement).css("visibility","hidden");d(this.dataloadelement).css("display","none")}}if(!this._initgroupsheader&&this.groups.length>0){this.groups=new Array()}var n=this.that;if(l==null){l={}}if(!l.recordstartindex){l.recordstartindex=0}if(!l.recordendindex){l.recordendindex=0}if(l.loadallrecords==undefined||l.loadallrecords==null){l.loadallrecords=true}if(l.sortcomparer==undefined||l.sortcomparer==null){l.sortcomparer=null}if(l.filter==undefined||l.filter==null){l.filter=null}if(l.sort==undefined||l.sort==null){l.sort=null}if(l.data==undefined||l.data==null){l.data=null}var q=null;if(l!=null){q=l._source!=undefined?l._source.url:l.url}this.dataview=this.dataview||new d.jqx.dataview();if(d.jqx.dataview.sort){d.extend(this.dataview,new d.jqx.dataview.sort())}if(d.jqx.dataview.grouping){d.extend(this.dataview,new d.jqx.dataview.grouping())}this.dataview.suspendupdate();this.dataview.pageable=this.pageable;this.dataview.groupable=this.groupable;this.dataview.groups=this.groups;this.dataview.virtualmode=this.virtualmode;this.dataview.grid=this;this.dataview._clearcaches();if(!this.pageable&&this.virtualmode){this.loadondemand=true}if(!n.initializedcall){if(l._source){if(this.sortable){if(l._source.sortcolumn!=undefined){this.sortcolumn=l._source.sortcolumn;this.source.sortcolumn=this.sortcolumn;this.dataview.sortfield=l._source.sortcolumn;l._source.sortcolumn=null}if(l._source.sortdirection!=undefined){this.dataview.sortfielddirection=l._source.sortdirection;var c=l._source.sortdirection;if(c=="a"||c=="asc"||c=="ascending"||c==true){var o=true}else{var o=false}if(c!=null){this.sortdirection={ascending:o,descending:!o}}else{this.sortdirection={ascending:false,descending:false}}}}}if(this.pageable){if(l._source){if(l._source.pagenum!=undefined){this.dataview.pagenum=l._source.pagenum}if(l._source.pagesize!=undefined){this.pagesize=l._source.pagesize;this.dataview.pagesize=l._source.pagesize}else{this.dataview.pagesize=l._source.pagesize;if(this.dataview.pagesize==undefined){this.dataview.pagesize=this.pagesize}}}}if(this.sortable){if(l.sortcolumn){this.dataview.sortfield=l.sortcolumn}if(l.sortdirection){this.dataview.sortfielddirection=l.sortdirection}}if(this.filterable){if(this.columns){d.each(this.columns,function(){if(this.filter){n.dataview.addfilter(this.datafield,this.filter)}})}}}this._loading=true;this.dataview.update=function(s){if(!n.pageable&&n.virtualmode){n.loadondemand=true}n._loading=false;if(n.dataview.isupdating()){n.dataview.resumeupdate(false)}if(n.pageable&&n.pagerrenderer){if(n._initpager){n._initpager()}else{throw new Error("jqxGrid: Missing reference to jqxgrid.pager.js.")}}if((n.source&&n.source.sortcolumn)&&n.sortby&&!n.virtualmode){n.render();if(!n.source._source.sort){n.sortby(n.source.sortcolumn,n.source.sortdirection,n.source.sortcomparer)}n.source.sortcolumn=null;n._postrender("data")}else{var t=n.vScrollInstance.value;var A=n.hScrollInstance.value;var z=n.source?n.source.datatype:"array";if(z!="local"||z!="array"){var v=n.virtualsizeinfo==null||(n.virtualsizeinfo!=null&&n.virtualsizeinfo.virtualheight==0);if(a=="cells"){var h=false;if(n.filterable&&n._initfilterpanel&&n.dataview.filters.length){h=true}if(false==s){if(!n.vScrollInstance.isScrolling()&&!n.hScrollInstance.isScrolling()){n._cellscache=new Array();n._pagescache=new Array();n._renderrows(n.virtualsizeinfo);if(n.showfilterrow&&n.filterable&&n.filterrow){n._updatelistfilters(true)}if(n.showaggregates&&n._updateaggregates){n._updateaggregates()}}if(n.sortcolumn){n.sortby(n.sortcolumn,n.dataview.sortfielddirection,n.source.sortcomparer)}if(n.autoshowloadelement){d(n.dataloadelement).css("visibility","hidden");d(n.dataloadelement).css("display","none")}if(n.virtualmode&&!n._loading){n.loadondemand=true;n._renderrows(n.virtualsizeinfo)}n._postrender("data");return}else{if(h){a="filter"}else{if(n.sortcolumn!=undefined){a="sort"}}}}if(!n.virtualmode||v||(n.virtualmode&&n.pageable)){if(n.initializedcall==true&&a=="pagechanged"){t=0;if(n.groupable&&n.groups.length>0){n._render(true,true,false,false,false);n._updatecolumnwidths();n._updatecellwidths();n._renderrows(n.virtualsizeinfo);n._postrender("data")}else{n.rendergridcontent(true);if(n.pageable&&n.updatepagerdetails){n.updatepagerdetails();if(n.autoheight){n._updatepageviews();if(n.autorowheight){n._renderrows(this.virtualsizeinfo)}}else{if(n.autorowheight){n._updatepageviews();n._renderrows(this.virtualsizeinfo)}}}}if(n.showaggregates&&n._updateaggregates){n._updateaggregates()}n._postrender("data")}else{if(a=="filter"){if(n.virtualmode){n._render(true,true,false,false,false);n._updatecolumnwidths();n._updatecellwidths();n._renderrows(n.virtualsizeinfo);n._updatefocusedfilter();n._postrender("data")}else{n._render(true,true,false,false,false);n._updatecolumnwidths();n._updatecellwidths();n._renderrows(n.virtualsizeinfo);n._updatefocusedfilter();n._postrender("data")}}else{if(a=="sort"){if(n.virtualmode){n.rendergridcontent(true);if(n.showaggregates&&n._updateaggregates){n._updateaggregates()}n._postrender("data")}else{n._render(true,true,false,false,false);if(n.sortcolumn&&!n.source.sort){n.sortby(n.sortcolumn,n.dataview.sortfielddirection,n.source.sortcomparer)}n._postrender("data")}if(n.source.sort){n._updatefocusedfilter()}}else{if(a=="data"){n._render(true,true,false,false,false);n._postrender("data")}else{if(a=="state"){n._render(true,true,false,n.menuitemsarray&&n.menuitemsarray.length>0&&!n.virtualmode);n._postrender("data")}else{n._render(true,true,true,n.menuitemsarray&&n.menuitemsarray.length>0&&!n.virtualmode);n._postrender("data")}}}}}}else{if(n.virtualmode&&s==true&&!n.pageable){n._render(true,true,false,false,false);n._updatefocusedfilter();n._updatecolumnwidths();n._updatecellwidths();n._renderrows(n.virtualsizeinfo);n._postrender("data")}else{if(n.virtualmode&&!n.pageable&&s==false&&a!=undefined){n.rendergridcontent(true);if(n.showaggregates&&n._updateaggregates){n._updateaggregates()}n._postrender("data")}else{if(n.virtualmode&&n.dataview.totalrecords==0&&n.dataview.filters.length>0){n._render(true,true,true,n.menuitemsarray&&!n.virtualmode);n._postrender("data")}else{n._pagescache=new Array();n._renderrows(n.virtualsizeinfo);n._postrender("data")}}}}if(n.vScrollInstance.value!=t&&t<=n.vScrollInstance.max){n.vScrollInstance.setPosition(t)}if(n.hScrollInstance.value!=A&&A<=n.hScrollInstance.max){n.hScrollInstance.setPosition(A)}}}if(n.autoshowloadelement){d(n.dataloadelement).css("visibility","hidden");d(n.dataloadelement).css("display","none")}if(n.pageable){if(n.pagerrightbutton){n.pagerrightbutton.jqxButton({disabled:false});n.pagerleftbutton.jqxButton({disabled:false});n.pagershowrowscombo.jqxDropDownList({disabled:false})}if(n.pagerfirstbutton){n.pagerfirstbutton.jqxButton({disabled:false});n.pagerlastbutton.jqxButton({disabled:false})}}n._raiseEvent(11);if(!n.initializedcall){var w=function(){n._raiseEvent(0);n.initializedcall=true;n.isInitialized=true;if(n.ready){n.ready()}if(n.renderstatusbar){n.renderstatusbar(n.statusbar)}if(n.rendertoolbar){n.rendertoolbar(n.toolbar)}if(n.autoloadstate){if(n.loadstate){n.loadstate(null,true)}}};if(!d.jqx.isHidden(n.host)){w()}else{if(n.readyInterval){clearInterval(n.readyInterval)}n.readyInterval=setInterval(function(){if(!d.jqx.isHidden(n.host)){if(n.__isRendered){clearInterval(n.readyInterval);n.readyInterval=null;w();n._initmenu()}}},200)}if((n.width!=null&&n.width.toString().indexOf("%")!=-1)||(n.height!=null&&n.height.toString().indexOf("%")!=-1)){}if(n.host.css("visibility")=="hidden"){var u=d.jqx.browser.msie&&d.jqx.browser.version<8;if(n.vScrollBar.css("visibility")=="visible"){n.vScrollBar.css("visibility","inherit")}if(!n.autowidth){if(n.hScrollBar.css("visibility")=="visible"){n.hScrollBar.css("visibility","inherit")}}n._intervalTimer=setInterval(function(){if(n.host.css("visibility")=="visible"){n._updatesize(true);clearInterval(n._intervalTimer)}},100)}}else{n._updateTouchScrolling()}};this.dataview.databind(l);if(this.dataview.isupdating()){if(q!=undefined){this.dataview.suspend=false}else{this.dataview.resumeupdate(false)}}this._initializeRows()},scrollto:function(a,c){if(undefined!=a){this.hScrollInstance.setPosition(a)}if(undefined!=c){this.vScrollInstance.setPosition(c)}},scrollposition:function(){return{top:this.vScrollInstance.value,left:this.hScrollInstance.value}},ensurerowvisible:function(t){if(this.autoheight&&!this.pageable){return true}var w=this._getpagesize();var u=Math.floor(t/w);if(!this._pageviews[u]&&!this.pageable){this._updatepageviews()}var a=false;if(this.pageable&&this.gotopage&&!this.virtualmode){var u=Math.floor(t/w);if(this.dataview.pagenum!=u){if(this.groupable&&this.groups.length>0){return true}this.gotopage(u);a=true}}var o=this.vScrollInstance.value;var c=this._gettableheight()-this.rowsheight;var z=w*(t/w-u);z=Math.round(z);if(this._pageviews[u]){var q=this._pageviews[u].top;var s=q+z*this.rowsheight;if(this.rowdetails){for(var v=w*u;v<t;v++){if(this.details[v]){if(this.details[v].rowdetailshidden==false){s+=this.details[v].rowdetailsheight}}}}if(this.scrollmode=="deferred"){if(this.vScrollInstance.max<=s+this.rowsheight){s=this.vScrollInstance.max}}if(s<o){this.scrolltop(s);a=true}else{if(s>o+c+2){this.scrolltop(s-c);a=true}else{}}}else{if(this.pageable){var s=z*this.rowsheight;if(this.rowdetails){for(var v=w*u;v<w*u+z;v++){if(this.details[v]&&this.details[v].rowdetailshidden==false){s+=this.details[v].rowdetailsheight}}}if(s<o||s>o+c){this.scrollto(0,s);a=true}}}return a},ensurecellvisible:function(w,C){var c=this.that;var v=this.hScrollBar.jqxScrollBar("value");var u=c.hScrollInstance.max;if(c.rtl){if(this.hScrollBar.css("visibility")!="visible"){u=0}}var a=this.ensurerowvisible(w);var B=0;if(this.columns.records){var q=v;if(this.hScrollBar.css("visibility")=="hidden"){return}var s=this.host.width();var t=0;var A=this.vScrollBar.css("visibility")=="visible"?20:0;var z=false;d.each(this.columns.records,function(){if(this.hidden){return true}if(this.datafield==C){var h=0;var l=!c.rtl?q:u-v;if(B+this.width>l+s-A){h=B+this.width-s+A;if(c.rtl){h=u-h}c.scrollleft(h);z=true}else{if(B<=l){h=B-this.width;if(c.rtl){h=u-h}c.scrollleft(h);z=true}}if(t==0){if(c.rtl){c.scrollleft(u)}else{c.scrollleft(0)}z=true}else{if(t==c.columns.records.length-1){if(c.hScrollBar.css("visibility")=="visible"){if(!c.rtl){c.scrollleft(c.hScrollBar.jqxScrollBar("max"))}else{c.scrollleft(c.hScrollBar.jqxScrollBar("min"))}z=true}}}return false}t++;B+=this.width});if(!z){c.scrollleft(q)}}return a},setrowheight:function(a,c){if(this._loading){throw new Error("jqxGrid: "+this.loadingerrormessage);return false}if(a==null||c==null){return false}this.heightboundrows[a]={index:a,height:c};a=this.getrowvisibleindex(a);if(a<0){return false}if(this.rows.records[a]){this.rows.records[a].height=c}else{row=new e(this,null);row.height=c;this.rows.replace(a,row)}this.heights[a]=c;this.rendergridcontent(true);return true},getrowheight:function(a){if(a==null){return null}a=this.getrowvisibleindex(a);if(a<0){return false}if(this.rows.records[a]){return this.rows.records[a].height}},setrowdetails:function(o,l,s,a){if(o==undefined||o==null||o<0){return}var q=o+"_";if(this._rowdetailscache[q]){var n=this._rowdetailscache[q].element;d(n).remove();this._rowdetailscache[q]=null}var c=this.dataview.generatekey();this.detailboundrows[o]={index:o,details:{rowdetails:l,rowdetailsheight:s,rowdetailshidden:a,key:c}};o=this.getrowvisibleindex(o);if(o<0){return false}return this._setrowdetails(o,l,s,a,c)},getcolumn:function(c){var a=null;if(this.columns.records){d.each(this.columns.records,function(){if(this.datafield==c||this.displayfield==c){a=this;return false}})}return a},_getcolumnindex:function(a){var c=-1;if(this.columns.records){d.each(this.columns.records,function(){c++;if(this.datafield==a){return false}})}return c},_getcolumnat:function(c){var a=this.columns.records[c];return a},_getprevvisiblecolumn:function(c){var h=this.that;while(c>0){c--;var a=h.getcolumnat(c);if(!a){return null}if(!a.hidden){return a}}return null},_getnextvisiblecolumn:function(c){var h=this.that;while(c<this.columns.records.length){c++;var a=h.getcolumnat(c);if(!a){return null}if(!a.hidden){return a}}return null},getcolumnat:function(c){if(!isNaN(c)){var a=this.columns.records[c];return a}return null},_getcolumn:function(c){var a=null;d.each(this._columns,function(){if(this.datafield==c||this.displayfield==c){a=this;return false}});return a},_setcolumnproperty:function(o,l,c){if(o==null||l==null||c==null){return null}l=l.toLowerCase();var n=this.getcolumn(o);if(n==null){return}var a=n[l];n[l]=c;var q=this._getcolumn(o);if(q!=null){q[l]=c}this._cellscache=new Array();switch(l){case"filteritems":if(this.filterable&&this.showfilterrow){this._updatelistfilters(true,true)}break;case"text":this.prerenderrequired=true;this._rendercolumnheaders();this._updatecellwidths();if(this._groupsheader()){if(this._initgroupsheader){this._initgroupsheader()}}this._renderrows(this.virtualsizeinfo);if(this.filterable&&this.showfilterrow){this.refreshfilterrow()}break;case"editable":case"resizable":case"draggable":if(l=="editable"){if(c!=a){if(this.editcell!=null&&this.endcelledit){this.endcelledit(this.editcell.row,this.editcell.column,true,true)}if(n.columntype=="checkbox"){this.prerenderrequired=true;this.rendergridcontent(true,false);if(this.updating()){return false}}if(this.updating()){return false}this._renderrows(this.virtualsizeinfo)}}break;case"hidden":case"hideable":case"renderer":case"cellsrenderer":case"align":case"aggregates":case"cellsalign":case"cellsformat":case"pinned":case"contenttype":case"filterable":case"groupable":case"cellclass":case"cellclassname":case"classname":case"class":this.prerenderrequired=true;if(l=="pinned"){this._initializeColumns();this._preparecolumngroups()}this.rendergridcontent(true);if(this.updating()){return false}if(l=="hidden"){this._updatecolumnwidths();this._updatecellwidths()}this._renderrows(this.virtualsizeinfo);if(this.showaggregates&&this._updateaggregates){this._updateaggregates()}break;case"width":case"minwidth":case"maxwidth":if(this.updating()){return false}n._width=null;n._percentagewidth=null;this._updatecolumnwidths();this._updatecellwidths();this._renderrows(this.virtualsizeinfo);break}},_getcolumnproperty:function(h,a){if(h==null||a==null){return null}a=a.toLowerCase();var c=this.getcolumn(h);return c[a]},setcolumnproperty:function(h,c,a){this._setcolumnproperty(h,c,a)},getcolumnproperty:function(c,a){return this._getcolumnproperty(c,a)},hidecolumn:function(a){this._setcolumnproperty(a,"hidden",true)},showcolumn:function(a){this._setcolumnproperty(a,"hidden",false)},iscolumnvisible:function(a){return !this._getcolumnproperty(a,"hidden")},pincolumn:function(a){this._setcolumnproperty(a,"pinned",true)},unpincolumn:function(a){this._setcolumnproperty(a,"pinned",false)},iscolumnpinned:function(a){return this._getcolumnproperty(a,"pinned")},_setrowdetails:function(s,z,a,t,w){if(a==0){a=100}if(s==null||a==null){return false}if(w!=null){this.details[s]={rowdetails:z,rowdetailsheight:a,rowdetailshidden:t,detailskey:w}}else{var c=this.details[s]!=null?this.details[s].detailskey:null;var o={rowdetails:z,rowdetailsheight:a,rowdetailshidden:t,detailskey:c};var q=this.that;for(var u=0;u<this.detailboundrows.length;u++){if(this.detailboundrows[u]!=undefined){var v=this.detailboundrows[u];if(v.details.detailskey==c){v.details.rowdetailsheight=o.rowdetailsheight;v.details.rowdetailshidden=o.rowdetailshidden;v.details.rowdetails=o.rowdetails;break}}}this.details[s]=o}if(this._detailsUpdate){return}this.rendergridcontent(true);this._updatecolumnwidths();this._updatecellwidths();this._renderrows(this.virtualsizeinfo);return true},getrowdetails:function(a){if(a==null){return false}a=this.getrowvisibleindex(a);return this._getrowdetails(a)},_getrowdetails:function(a){if(a==null){return false}if(a<0){return false}if(this.details[a]){return this.details[a]}if(this.rowdetailstemplate){return this.rowdetailstemplate}},getrecordscount:function(){return this.dataview.totalrecords},showrowdetails:function(c){if(this._loading){throw new Error("jqxGrid: "+this.loadingerrormessage);return false}if(c==null){return false}if(!this.detailsVisibility){this.detailsVisibility=new Array()}this.detailsVisibility[c]=false;c=this.getrowvisibleindex(c);if(c<0){return false}var a=this._getrowdetails(c);return this._setrowdetailsvisibility(c,a,false)},hiderowdetails:function(c){if(this._loading){throw new Error("jqxGrid: "+this.loadingerrormessage);return false}if(!this.detailsVisibility){this.detailsVisibility=new Array()}this.detailsVisibility[c]=true;c=this.getrowvisibleindex(c);if(c<0){return false}var a=this._getrowdetails(c);return this._setrowdetailsvisibility(c,a,true)},_togglerowdetails:function(a){if(!this.detailsVisibility){this.detailsVisibility=new Array()}var o=a.visibleindex;var n=this._getrowdetails(o);if(n!=null){var q=this.vScrollInstance.value;var c=!n.rowdetailshidden;var l=this.getboundindex(a);if(l!=undefined){this.detailsVisibility[l]=c}var s=this._setrowdetailsvisibility(o,n,c);if(q!==0&&this.vScrollBar.css("visibility")!=="hidden"){if(q<=this.vScrollInstance.max){this.vScrollInstance.setPosition(q)}else{this.vScrollInstance.setPosition(this.vScrollInstance.max)}}return s}return false},_setrowdetailsvisibility:function(n,l,a){if(this.rowdetailstemplate){if(!this.details){this.details=new Array()}if(!this.details[n]){this.details[n]={rowdetailshidden:this.rowdetailstemplate.rowdetailshidden,rowdetailsheight:this.rowdetailstemplate.rowdetailsheight,rowdetails:this.rowdetailstemplate.rowdetails};var c=this.dataview.generatekey();this.details[n].detailskey=c;this.detailboundrows[n]={index:n,details:this.details[n]}}}if(l!=null){this.details[n].rowdetailshidden=a}else{return false}var o=this.details[n];if(a){this._raiseEvent(21,{rowindex:n,details:o.rowdetails,height:o.rowdetailsheight})}else{this._raiseEvent(20,{rowindex:n,details:o.rowdetails,height:o.rowdetailsheight})}return this._setrowdetails(n,o.rowdetails,o.rowdetailsheight,o.rowdetailshidden)},getrowvisibleindex:function(c){if(c==undefined||c==null||c<0){return false}if(this.virtualmode){var a=this.dataview.loadedrecords[c];if(a==undefined){return -1}return a.visibleindex}return this.getrowdisplayindex(c)},hiderow:function(a){if(this._loading){throw new Error("jqxGrid: "+this.loadingerrormessage);return false}if(a==undefined||a==null||a<0){return false}if(a==null){return false}this.hiddenboundrows[a]={index:a,hidden:true};a=this.getrowvisibleindex(a);return this._setrowvisibility(a,true)},showrow:function(a){if(this._loading){throw new Error("jqxGrid: "+this.loadingerrormessage);return false}if(a==undefined||a==null||a<0){return false}if(a==null){return false}this.hiddenboundrows[a]={index:a,hidden:false};a=this.getrowvisibleindex(a);return this._setrowvisibility(a,false)},isrowhiddenat:function(a){if(a==null){return null}a=this.getrowvisibleindex(a);if(this.rows.records[a]){return this.rows.records[a].hidden}},_setrowvisibility:function(h,a,c){if(h==null){return false}this.hiddens[h]=a;if(c==undefined||c){this.rendergridcontent(true);return true}return false},_loadrows:function(){if(!this._pageviews[this.dataview.pagenum]&&!this.pageable){return}var v=!this.pageable?this._pageviews[this.dataview.pagenum].top:0;if(!this.pageable&&this._pagescache[this.dataview.pagenum]!=undefined){return null}if(!this.virtualsizeinfo){return}var K=this.that;var B=new Array();var c=new Array();var H=K.groupable&&K.groups.length>0;var D=this.dataview.totalrecords;var w=this.virtualsizeinfo.virtualheight;var L=0;this.rows.beginupdate();var G=this.dataview.pagesize;if(this.pageable&&H){G=this.dataview.rows.length}for(var F=0;F<G;F++){if(F>=this.dataview.rows.length){break}var C=this.dataview.rows[F];var J=null;if(!K.rows.records[C.visibleindex]){J=new e(K,C)}else{J=K.rows.records[C.visibleindex];J.setdata(C)}J.hidden=this.hiddens[J.visibleindex];if(this.rowdetailstemplate){J.rowdetails=this.rowdetailstemplate.rowdetails;J.rowdetailsheight=this.rowdetailstemplate.rowdetailsheight;J.rowdetailshidden=this.rowdetailstemplate.rowdetailshidden}var I=this.details[J.visibleindex];if(I){J.rowdetails=I.rowdetails;J.rowdetailsheight=I.rowdetailsheight;J.rowdetailshidden=I.rowdetailshidden}else{if(!this.rowdetailstemplate){J.rowdetails=null}}if(H&&this.pageable&&J.parentbounddata!=null){var a=B[J.parentbounddata.uniqueid];if(a!=null){var z=this._findgroupstate(a.uniqueid);if(this._setsubgroupsvisibility){this._setsubgroupsvisibility(this,J.parentbounddata,!z,false)}J.hidden=this.hiddens[J.visibleindex]}if(a!=null&&a!=undefined){J.parentrow=a;a.subrows[a.subrows.length++]=J}}if(J.hidden){continue}var E=C.visibleindex;if(!this.heights[E]){this.heights[E]=this.rowsheight}J.height=this.heights[E];if(this.rowdetails){if(J.rowdetails&&!J.rowdetailshidden){J.height+=J.rowdetailsheight}}B[J.uniqueid]=J;c[L++]=J;J.top=v;v+=J.height;var A=E;K.rows.replace(A,J)}if((this.autoheight||this.pageable)&&this.autorowheight){if(this._pageviews&&this._pageviews.length>0){this._pageviews[0].height=v}}this.rows.resumeupdate();if(c.length>0){this._pagescache[this.dataview.pagenum]=c}},_updateaddnewrowui:function(z){var s=this;var u=s.everpresentrowposition!="bottom"?s.addnewrowtop:s.addnewrowbottom;var c=s.columns.records.length;var A=0;for(var t=0;t<c;t++){var w=s.columns.records[t];if(w.addnewrowwidget){w.addnewrowwidget.detach()}}for(var t=0;t<c;t++){var w=s.columns.records[t];var B=w.width;if(B<w.minwidth){B=w.minwidth}if(B>w.maxwidth){B=w.maxwidth}var q=d(u[0].cells[t]);q.css("left",A);var v=true;if(q.width()==B){v=false}if(z){v=true}q.width(B);q[0].left=A;if(w.addnewrowwidget){q.html("");q.append(w.addnewrowwidget)}if(!(w.hidden&&w.hideable)){A+=B}else{q.css("display","none")}if(!v){continue}}var a=s.everpresentrowactions.split(" ");s.addnewrowbutton.show();s.addnewrowupdatebutton.show();s.addnewrowresetbutton.show();s.addnewrowdeletebutton.show();if(a.indexOf("add")==-1&&a.indexOf("addBottom")==-1){s.addnewrowbutton.hide()}if(a.indexOf("update")==-1){s.addnewrowupdatebutton.hide()}if(a.indexOf("reset")==-1){s.addnewrowresetbutton.hide()}if(a.indexOf("delete")==-1){s.addnewrowdeletebutton.hide()}var C=d(u.children()[0]);C.width(parseInt(A)+2);C.height(s.everpresentrowheight);C.css("max-height",s.everpresentrowheight+"px")},_removeaddnewrow:function(){var a=this;var l=a.columns.records.length;for(var c=0;c<l;c++){var h=a.columns.records[c];if(h.addnewrowwidget){if(h.destroyeverpresentrowwidget){h.destroyeverpresentrowwidget(h.addnewrowwidget)}else{h.addnewrowwidget.remove()}h.addnewrowwidget=null}}if(a.addnewrowbutton){a.addnewrowbutton.remove()}if(a.addnewrowupdatebutton){a.addnewrowupdatebutton.remove()}if(a.addnewrowdeletebutton){a.addnewrowdeletebutton.remove()}if(a.addnewrowresetbutton){a.addnewrowresetbutton.remove()}if(a.addnewrowpopup){a.addnewrowpopup.remove();a.addnewrowpopup=null}if(a.addnewrowtop){a.addnewrowtop.remove();a.addnewrowtop=null}if(a.addnewrowbottom){a.addnewrowbottom.remove();a.addnewrowbottom=null}},_updateaddnewrow:function(){var R=this;var Z=R.everpresentrowposition!="bottom"?R.addnewrowtop:R.addnewrowbottom;var I=d('<div style="position: relative;" id="row000'+R.element.id+'"></div>');var W=0;var a=R.columns.records.length;var S=R.toThemeProperty("jqx-grid-cell");S+=" "+R.toThemeProperty("jqx-grid-cell-add-new-row");S+=" "+R.toThemeProperty("jqx-grid-cell-filter-row");var T=a+10;var X=new Array();var K=R.that;Z[0].cells=X;I.height(R.everpresentrowheight);if(!R.showfilterrow&&R.everpresentrowposition!="bottom"){Z.css("max-height",(R.everpresentrowheight-1)+"px")}else{if(R.showfilterrow&&R.everpresentrowposition!="bottom"){Z.css("max-height",(R.everpresentrowheight-3)+"px")}}I.css("max-height",R.everpresentrowheight+"px");Z.append(I);var M=d("<div style='border-width: 1px; border-style: solid; padding: 5px; z-index: 99999; display: none; position: absolute;'><div>").appendTo(d(document.body));var ab=d("<button style='position: relative; float: left; margin: 2px; border-radius: 0px; padding: 4px 8px;'>"+R.gridlocalization.addrowstring+"</button>");var O=d("<button style='position: relative; float: left; margin: 2px; border-radius: 0px; padding: 4px 8px;'>"+R.gridlocalization.udpaterowstring+"</button>");var V=d("<button style='position: relative; float: left; margin: 2px; border-radius: 0px; padding: 4px 8px;'>"+R.gridlocalization.deleterowstring+"</button>");var Q=d("<button style='position: relative; float: left; margin: 2px; border-radius: 0px; padding: 4px 8px;'>"+R.gridlocalization.resetrowstring+"</button>");M.addClass(R.toThemeProperty("jqx-popup"));M.addClass(R.toThemeProperty("jqx-rc-all"));M.addClass(R.toThemeProperty("jqx-fill-state-normal"));M.addClass(R.toThemeProperty("jqx-shadow"));M.append(ab);M.append(O);M.append(V);M.append(Q);var Y=R.everpresentrowactions.split(" ");if(Y.indexOf("add")==-1&&Y.indexOf("addBottom")==-1){ab.hide()}if(Y.indexOf("update")==-1){O.hide()}if(Y.indexOf("reset")==-1){Q.hide()}if(Y.indexOf("delete")==-1){V.hide()}R.addnewrowpopup=M;R.addnewrowbutton=ab;R.addnewrowupdatebutton=O;R.addnewrowdeletebutton=V;R.addnewrowresetbutton=Q;ab.jqxButton({template:"success",theme:R.theme});V.jqxButton({template:"danger",theme:R.theme});O.jqxButton({template:"primary",theme:R.theme});Q.jqxButton({template:"warning",theme:R.theme});O.mousedown(function(A){var h={};var u={};for(var w=0;w<a;w++){var z=R.columns.records[w];if(!z.geteverpresentrowwidgetvalue){continue}var q=z.geteverpresentrowwidgetvalue(z.displayfield,z.addnewrowwidget);u[z.datafield]=q;if(z.datafield!=z.displayfield){u[z.datafield]=q.value;u[z.displayfield]=q.label}}var s=false;for(var w=0;w<a;w++){var z=R.columns.records[w];if(!z.geteverpresentrowwidgetvalue){continue}var q=z.geteverpresentrowwidgetvalue(z.displayfield,z.addnewrowwidget);if(z.createeverpresentrowwidget&&z.validateeverpresentrowwidgetvalue){var t=z.validateeverpresentrowwidgetvalue(z.displayfield,q,u);var l=t;var v=R.gridlocalization.validationstring;if(l.message!=undefined){v=l.message}var n=typeof l=="boolean"?l:l.result;if(!n){q="invalid editor state";z.addnewrowwidget.attr("title",v);z.addnewrowwidget.addClass(R.toThemeProperty("jqx-input-invalid"))}else{z.addnewrowwidget.attr("title","");z.addnewrowwidget.removeClass(R.toThemeProperty("jqx-input-invalid"))}}if(q==="invalid editor state"){A.preventDefault();A.stopPropagation();s=true;continue}if(s){continue}}if(s){M.hide();R.focus();return}for(var w=0;w<a;w++){var z=R.columns.records[w];if(!z.geteverpresentrowwidgetvalue){continue}var q=z.geteverpresentrowwidgetvalue(z.displayfield,z.addnewrowwidget);h[z.datafield]=q;if(z.datafield!=z.displayfield){h[z.datafield]=q.value;h[z.displayfield]=q.label}if(z.reseteverpresentrowwidgetvalue){z.reseteverpresentrowwidgetvalue(z.displayfield,z.addnewrowwidget)}}if(R.selectedcells.length>0||R.selectedrowindexes.length>0){if(R.selectionmode.indexOf("cell")>=0){var o=R.getselectedcells()[0].rowindex}else{var o=R.selectedrowindexes[0]}rowData=R.getrowdata(o);if(rowData){R.updaterow(rowData.uid,h)}}M.hide();R.focus()});V.mousedown(function(l){if(R.selectedcells.length>0||R.selectedrowindexes.length>0){if(R.selectionmode.indexOf("cell")>=0){var h=R.getselectedcells()[0].rowindex}else{var h=R.selectedrowindexes[0]}rowData=R.getrowdata(h);if(rowData){R.deleterow(rowData.uid)}}for(var n=0;n<a;n++){var o=R.columns.records[n];if(o.reseteverpresentrowwidgetvalue){o.reseteverpresentrowwidgetvalue(o.displayfield,o.addnewrowwidget)}}M.hide();R.focus();R.updateeverpresentrow()});ab.mousedown(function(z){var h={};var t={};for(var v=0;v<a;v++){var w=R.columns.records[v];if(!w.geteverpresentrowwidgetvalue){continue}var o=w.geteverpresentrowwidgetvalue(w.displayfield,w.addnewrowwidget);t[w.datafield]=o;if(w.datafield!=w.displayfield){t[w.datafield]=o.value;t[w.displayfield]=o.label}if(w.datafield!=w.displayfield){t[w.datafield]=o.label;t[w.displayfield]=o.value}}var q=false;for(var v=0;v<a;v++){var w=R.columns.records[v];if(!w.geteverpresentrowwidgetvalue){continue}var o=w.geteverpresentrowwidgetvalue(w.displayfield,w.addnewrowwidget);if(w.createeverpresentrowwidget&&w.validateeverpresentrowwidgetvalue){var s=w.validateeverpresentrowwidgetvalue(w.displayfield,o,t);var l=s;var u=R.gridlocalization.validationstring;if(l.message!=undefined){u=l.message}var n=typeof l=="boolean"?l:l.result;if(!n){o="invalid editor state";w.addnewrowwidget.attr("title",u);w.addnewrowwidget.addClass(R.toThemeProperty("jqx-input-invalid"))}else{w.addnewrowwidget.attr("title","");w.addnewrowwidget.removeClass(R.toThemeProperty("jqx-input-invalid"))}}if(o==="invalid editor state"){z.preventDefault();z.stopPropagation();q=true;continue}if(q){continue}}if(q){M.hide();R.focus();return}for(var v=0;v<a;v++){var w=R.columns.records[v];if(!w.geteverpresentrowwidgetvalue){continue}var o=w.geteverpresentrowwidgetvalue(w.displayfield,w.addnewrowwidget);h[w.datafield]=o;if(w.datafield!=w.displayfield){t[w.datafield]=o.label;t[w.displayfield]=o.value}if(w.reseteverpresentrowwidgetvalue){w.reseteverpresentrowwidgetvalue(w.displayfield,w.addnewrowwidget)}}var A=R.everpresentrowactions.indexOf("addBottom")>=0?"last":"first";R.addrow(null,h,A);M.hide();R.focus()});Q.mousedown(function(l){var h={};for(var n=0;n<a;n++){var o=R.columns.records[n];if(o.reseteverpresentrowwidgetvalue){o.reseteverpresentrowwidgetvalue(o.displayfield,o.addnewrowwidget)}if(o.addnewrowwidget){o.addnewrowwidget.attr("title","");o.addnewrowwidget.removeClass(R.toThemeProperty("jqx-input-invalid"))}}M.hide();R.focus()});for(var F=0;F<a;F++){var E=R.columns.records[F];var H=E.width;if(H<E.minwidth){H=E.minwidth}if(H>E.maxwidth){H=E.maxwidth}var aa=d('<div style="overflow: hidden; position: absolute; height: 100%;" class="'+S+'"></div>');I.append(aa);aa.css("left",W);if(R.rtl){aa.css("z-index",T++);aa.css("border-left-width","1px")}else{aa.css("z-index",T--)}if(H=="auto"){H=0}aa[0].style.width=parseFloat(H)+"px";aa[0].left=W;if(!(E.hidden&&E.hideable)){W+=H}else{aa.css("display","none")}X[X.length]=aa[0];if(E.checkboxcolumn){var N=R.toThemeProperty("jqx-grid-cell");N+=" "+R.toThemeProperty("jqx-grid-cell-filter-row");N+=" "+R.toThemeProperty("jqx-grid-cell-pinned");aa.removeClass().addClass(N);continue}var J=true;if(!R.rtl){if(R.groupable){var c=(R.showrowdetailscolumn&&R.rowdetails)?1:0;if(R.groups.length+c>F){J=false}}if(R.showrowdetailscolumn&&R.rowdetails&&F==0){J=false}}else{if(R.groupable){var c=(R.showrowdetailscolumn&&R.rowdetails)?1:0;if(R.groups.length+c+F>a-1){J=false}}if(R.showrowdetailscolumn&&R.rowdetails&&F==a-1){J=false}}R.updateeverpresentrow=function(){var n=null;if(R.selectedcells.length>0||R.selectedrowindexes.length>0){if(R.selectionmode.indexOf("cell")>=0){var l=R.getselectedcells()[0].rowindex}else{var l=R.selectedrowindexes[0]}n=R.getrowdata(l)}if(!n){return}for(var o=0;o<R.columns.records.length;o++){var h=R.columns.records[o];if(h.seteverpresentrowwidgetvalue){var q=R.getcelltext(l,h.displayfield);h.seteverpresentrowwidgetvalue(h.addnewrowwidget,q)}}};if(J){if(E.createeverpresentrowwidget){var G=function(){ab.trigger("mousedown")};E.addnewrowwidget=E.createeverpresentrowwidget(E.datafield,aa,M,G);if(E.initeverpresentrowwidget){E.initeverpresentrowwidget(E.datafield,aa,M)}}else{R._measureElement("column");var L=(R.everpresentrowheight/2-R._columnheight/2);if(L<0){L=4}L+="px";if(E.datafield==="addButtonColumn"){var U=d('<div style="padding-bottom: 2px; text-align: center; margin-top: '+L+';"><a href="#">'+R.gridlocalization.addrowstring+"</a></div>");aa.append(U);U.mousedown(function(){ab.trigger("mousedown")});continue}else{if(E.datafield==="resetButtonColumn"){var U=d('<div style="padding-bottom: 2px; text-align: center; margin-top: '+L+';"><a href="#">'+R.gridlocalization.resetrowstring+"</a></div>");aa.append(U);U.mousedown(function(){Q.trigger("mousedown")});continue}}var P=function(o,l,h){var q=d('<input style="box-sizing: border-box; padding-right: 4px; padding-left: 4px; border:none;" autocomplete="off" type="textarea"/>');q[0].id=d.jqx.utilities.createId();q.addClass(o.toThemeProperty("jqx-widget"));q.addClass(o.toThemeProperty("jqx-input"));q.addClass(o.toThemeProperty("jqx-widget-content"));q.addClass(o.toThemeProperty("jqx-enableselect"));q.addClass(o.toThemeProperty("jqx-grid-cell-add-new-row"));q.css("text-align",h.cellsalign);if(o.rtl){q.css("direction","rtl")}if(o.disabled){q.attr("disabled",true)}q.attr("disabled",false);q.attr("placeholder",o.gridlocalization.everpresentrowplaceholder+h.text);q.appendTo(l);q.css("width","100%");q.css("height",o.everpresentrowheight+"px");q.css("line-height",o.everpresentrowheight+"px");q.css("max-height",o.everpresentrowheight+"px");q.css("margin","0px");q.focus(function(){if(R.selectedcells.length>0||R.selectedrowindexes.length>0){if(R.selectionmode.indexOf("cell")>=0){var s=R.getselectedcells()[0].rowindex}else{var s=R.selectedrowindexes[0]}}q.addClass(o.toThemeProperty("jqx-fill-state-focus"));var u=o.columns.records.indexOf(h);if(o.everpresentrowactionsmode!=="columns"){M.css({display:"block",top:q.coord().top+o.everpresentrowheight-1,left:u>0?q.coord().left:q.coord().left-1})}var t=M.children().width();if(h.cellsalign==="right"){var t=ab.width()+Q.width();M.children().css("left",t-t+"px")}else{M.children().css("left","0px")}o.content[0].scrollLeft=0;o.content[0].scrollTop=0;setTimeout(function(){o.content[0].scrollLeft=0;o.content[0].scrollTop=0},50);return false});h.addnewrowwidget=q;if(!h.reseteverpresentrowwidgetvalue){h.reseteverpresentrowwidgetvalue=function(s,t){t.val("");t.focus();t.blur();t.removeClass(R.toThemeProperty("jqx-input-invalid"));t.attr("title","")}}if(!h.seteverpresentrowwidgetvalue){h.seteverpresentrowwidgetvalue=function(s,t){s.val(t)}}if(!h.geteverpresentrowwidgetvalue){var n=h;h.geteverpresentrowwidgetvalue=function(ai,D,B){var w=D.val();if(B!==false&&n.validateeverpresentrowwidgetvalue){var s={};var ac={};for(var ae=0;ae<a;ae++){var ag=R.columns.records[ae];if(!ag.geteverpresentrowwidgetvalue){continue}var C=ag.geteverpresentrowwidgetvalue(ag.displayfield,ag.addnewrowwidget,false);ac[ag.datafield]=C;if(ag.datafield!=ag.displayfield){ac[ag.datafield]=C.value;ac[ag.displayfield]=C.label}}var z=n.validateeverpresentrowwidgetvalue(n.displayfield,w,ac);var t=z;var ad=R.gridlocalization.validationstring;if(t.message!=undefined){ad=t.message}var u=typeof t=="boolean"?t:t.result;if(!u){q.addClass(R.toThemeProperty("jqx-input-invalid"));q.attr("title",ad);return"invalid editor state"}else{q.removeClass(R.toThemeProperty("jqx-input-invalid"));q.attr("title","")}}var A="string";var ah=R.source.datafields||((R.source._source)?R.source._source.datafields:null);if(ah){var v="";d.each(ah,function(){if(this.name==n.displayfield){if(this.type){v=this.type}return false}});if(v){A=v}}if(A==="number"){var af=parseFloat(w);if(isNaN(af)){return null}}if(A==="date"){return d.jqx.dataFormat.tryparsedate(w,R.gridlocalization)}if(A==="bool"||A==="boolean"){if(w==="true"){return true}if(w=="1"){return true}if(w==="false"){return false}if(w=="0"){return false}if(w===true){return w}if(w===false){return w}return false}return w}}q.keydown(function(s){if(s.keyCode===13){if(R.everpresentrowactions.indexOf("add")>=0){ab.trigger("mousedown")}else{if(R.everpresentrowactions.indexOf("update")>=0){O.trigger("mousedown")}else{if(R.everpresentrowactions.indexOf("delete")>=0){V.trigger("mousedown")}}}}});q.blur(function(){q.removeClass(o.toThemeProperty("jqx-fill-state-focus"));M.css("display","none")});if(h.initeverpresentrowwidget){h.initeverpresentrowwidget(h.datafield,l,M)}};P(this,aa,E)}}}if(d.jqx.browser.msie&&d.jqx.browser.version<8){I.css("z-index",T--)}I.width(parseFloat(W)+2);Z.addClass(S);Z.css("border-bottom-width","0px");if(R.showfilterrow){Z.css("border-top-width","0px")}else{Z.css("border-top-width","1px")}Z.css("box-sizing","border-box");Z.css("border-right-width","0px")},_gettableheight:function(){if(this.tableheight!=undefined){return this.tableheight}var a=this.host.height();if(this.columnsheader){var c=this.columnsheader.outerHeight();if(!this.showheader){c=0}}a-=c;if(this.hScrollBar[0].style.visibility=="visible"){a-=this.hScrollBar.outerHeight()}if(this.pageable){a-=this.pager.outerHeight()}if(this._groupsheader()){a-=this.groupsheader.outerHeight()}if(this.showtoolbar){a-=this.toolbarheight}if(this.showstatusbar){a-=this.statusbarheight}if(this.showeverpresentrow&&this.everpresentrowposition==="bottom"){a-=this.everpresentrowheight}if(a>0){this.tableheight=a;return a}return this.host.height()},_getpagesize:function(){if(this.pageable){return this.pagesize}if(this.virtualmode){var a=Math.round(this.host.height())+2*this.rowsheight;var c=Math.round(a/this.rowsheight);return c}if(this.autoheight||this.autorowheight){if(this.dataview.totalrows==0){return 1}return this.dataview.totalrows}if(this.dataview.totalrows<100&&this.dataview.totalrecords<100&&this.dataview.totalrows>0){return this.dataview.totalrows}return 100},_calculatevirtualheight:function(){var q=this.that;var B=Math.round(this.host.height())+2*this.rowsheight;realheight=this._gettableheight();var a=Math.round(B/this.rowsheight);this.heights=new Array();this.hiddens=new Array();this.details=new Array();this.expandedgroups=new Array();this.hiddenboundrows=new Array();this.heightboundrows=new Array();this.detailboundrows=new Array();var w=Math.max(this.dataview.totalrows,this.dataview.totalrecords);if(this.pageable){w=this.pagesize;if(this.pagesize>Math.max(this.dataview.totalrows,this.dataview.totalrecords)&&this.autoheight){w=Math.max(this.dataview.totalrows,this.dataview.totalrecords)}else{if(!this.autoheight){if(this.dataview.totalrows<this.pagesize){w=Math.max(this.dataview.totalrows,this.dataview.totalrecords)}}}}var t=w*this.rowsheight;var s=0;var v=0;var u=0;var A=this._getpagesize();var C=A*this.rowsheight;var z=0;if(!this.pageable&&this.autoheight){a=w}if(w+A>0){while(z<=w+A){s+=C;if(z-A<w&&z>=w){var c=z-w;if(c>0){u-=C;this._pageviews[v-1]={top:u,height:C-c*this.rowsheight}}break}else{this._pageviews[v++]={top:u,height:C}}u=s;z+=A}}if(this.resizingGrid!=true){this.vScrollBar.jqxScrollBar({value:0})}if(t>realheight&&!this.autoheight){this.vScrollBar.css("visibility","visible");if(this.scrollmode=="deferred"){this.vScrollBar.jqxScrollBar({max:t})}else{this.vScrollBar.jqxScrollBar({max:t-realheight})}}else{this.vScrollBar.css("visibility","hidden")}this.dataview.pagesize=A;this.dataview.updateview();return{visiblerecords:a,virtualheight:t}},_updatepageviews:function(){if(this.updating()){return}this._pagescache=new Array();this._pageviews=new Array();this.tableheight=null;var K=this.that;var I=Math.round(this.host.height())+2*this.rowsheight;var J=Math.round(I/this.rowsheight);var A=Math.max(this.dataview.totalrows,this.dataview.totalrecords);var c=A*this.rowsheight;var L=0;var G=0;var z=0;var w=0;var D=0;var E=this._getpagesize();if(!this.pageable){for(var B=0;B<A;B++){var M={index:B,height:this.heights[B],hidden:this.hiddens[B],details:this.details[B]};if(this.heights[B]==undefined){this.heights[B]=this.rowsheight;M.height=this.rowsheight}if(this.hiddens[B]==undefined){this.hiddens[B]=false;M.hidden=false}if(this.details[B]==undefined){this.details[B]=null}if(M.height!=K.rowsheight){c-=K.rowsheight;c+=M.height}if(M.hidden){c-=M.height}else{G+=M.height;var C=0;if(this.rowdetails){if(this.rowdetailstemplate){if(!M.details){M.details=this.rowdetailstemplate}}if(M.details&&M.details.rowdetails&&!M.details.rowdetailshidden){C=M.details.rowdetailsheight;G+=C;c+=C}}L+=M.height+C}D++;if(D>=E||B==A-1){this._pageviews[z++]={top:w,height:G};G=0;w=L;D=0}}}else{if(this._updatepagedview){c=this._updatepagedview(A,c,0)}if(this.autoheight){this._arrange()}}var H=this._gettableheight();if(c>H){if(this.pageable&&this.gotopage){c=this._pageviews[0].height;if(c<0){c=this._pageviews[0].height}}if(this.vScrollBar.css("visibility")!="visible"){this.vScrollBar.css("visibility","visible")}if(c<=H||this.autoheight){this.vScrollBar.css("visibility","hidden")}if(c-H>0){if(this.scrollmode!="deferred"){var a=c-H;var F=this.vScrollInstance.max;this.vScrollBar.jqxScrollBar({max:a});if(a!=F){this.vScrollBar.jqxScrollBar({value:0})}}else{this.vScrollBar.jqxScrollBar({value:0,max:c})}}else{this.vScrollBar.jqxScrollBar({value:0,max:c})}}else{if(!this._loading){this.vScrollBar.css("visibility","hidden")}this.vScrollBar.jqxScrollBar({value:0})}this._arrange();if(this.autoheight){J=Math.round(this.host.height()/this.rowsheight)}this.virtualsizeinfo={visiblerecords:J,virtualheight:c}},updatebounddata:function(a){if(a!="data"&&a!="sort"&&a!="filter"&&a!="cells"&&a!="pagechanged"&&a!="pagesizechanged"&&!this.virtualmode){this.virtualsizeinfo=null;if(this.showfilterrow&&this.filterable&&this.filterrow){if(this.clearfilters){this.clearfilters(false)}this.filterrow.remove();this._filterrowcache=new Array();if(this.filterable&&this._destroyedfilters&&this.showfilterrow){this._destroyedfilters()}this.filterrow=null}else{if(this.filterable){if(this.clearfilters){this.clearfilters(false)}}}this.detailsVisibility=new Array();this.groupsVisibility=new Array();if(this.groupable){this.dataview.groups=[];this.groups=[]}if(this.pageable){this.pagenum=0;this.dataview.pagenum=0}if(this.sortable){this.sortcolumn=null;this.sortdirection="";this.dataview.sortfielddirection="";this.dataview.clearsortdata()}}this.databind(this.source,a)},refreshdata:function(){this._refreshdataview();this.render()},_updatevscrollbarmax:function(){if(this._pageviews&&this._pageviews.length>0){var a=this._pageviews[0].height;if(this.virtualmode||!this.pageable){a=this.virtualsizeinfo.virtualheight}var c=this._gettableheight();if(a>c){if(this.pageable&&this.gotopage){a=this._pageviews[0].height;if(a<0){a=this._pageviews[0].height}}if(this.vScrollBar.css("visibility")!="visible"){this.vScrollBar.css("visibility","visible")}if(a<=c||this.autoheight){this.vScrollBar.css("visibility","hidden")}if(a-c>0){var h=a-c;this.vScrollBar.jqxScrollBar({max:h})}else{this.vScrollBar.jqxScrollBar({value:0,max:a})}}else{this.vScrollBar.css("visibility","hidden");this.vScrollBar.jqxScrollBar({value:0})}}},_refreshdataview:function(){this.dataview.refresh()},refresh:function(a){if(a!=true){if(d.jqx.isHidden(this.host)){return}if(this.virtualsizeinfo!=null){this._cellscache=new Array();this._renderrows(this.virtualsizeinfo);this._updatesize()}}},render:function(){this._render(true,true,true,true)},invalidate:function(){if(this.virtualsizeinfo){this._updatecolumnwidths();this._updatecellwidths();this._renderrows(this.virtualsizeinfo)}},clear:function(){this.databind(null);this.render()},_preparecolumngroups:function(){var v=this.columnsheight;if(this.columngroups){this.columnshierarchy=new Array();if(this.columngroups.length){var w=this;for(var C=0;C<this.columngroups.length;C++){this.columngroups[C].parent=null;this.columngroups[C].groups=null}for(var C=0;C<this.columns.records.length;C++){this.columns.records[C].parent=null;this.columns.records[C].groups=null}var u=function(n){for(var l=0;l<w.columngroups.length;l++){var h=w.columngroups[l];if(h.name===n){return h}}return null};for(var C=0;C<this.columngroups.length;C++){var c=this.columngroups[C];if(!c.groups){c.groups=null}if(c.parentgroup){var I=u(c.parentgroup);if(I){c.parent=I;if(!I.groups){I.groups=new Array()}if(I.groups.indexOf(c)===-1){I.groups.push(c)}}}}for(var C=0;C<this.columns.records.length;C++){var c=this.columns.records[C];if(c.columngroup){var I=u(c.columngroup);if(I){if(!I.groups){I.groups=new Array()}c.parent=I;if(I.groups.indexOf(c)===-1){I.groups.push(c)}}}}var a=0;for(var C=0;C<this.columns.records.length;C++){var c=this.columns.records[C];var F=c;c.level=0;while(F.parent){F=F.parent;c.level++}var F=c;var G=c.level;a=Math.max(a,c.level);while(F.parent){F=F.parent;if(F){F.level=--G}}}var z=function(q){var h=new Array();if(q.columngroup){h.push(q)}if(q.groups){for(var l=0;l<q.groups.length;l++){if(q.groups[l].columngroup){h.push(q.groups[l])}else{if(q.groups[l].groups){var n=z(q.groups[l]);for(var o=0;o<n.length;o++){h.push(n[o])}}}}}return h};for(var C=0;C<this.columngroups.length;C++){var c=this.columngroups[C];var E=z(c);c.columns=E;var B=new Array();var H=0;for(var D=0;D<E.length;D++){B.push(this.columns.records.indexOf(E[D]));if(E[D].pinned){H++}}if(H!=0){throw new Error("jqxGrid: Column Groups initialization Error. Please, check the initialization of the jqxGrid's columns array. The columns in a column group cannot be pinned.")}B.sort(function(h,l){h=parseInt(h);l=parseInt(l);if(h<l){return -1}if(h>l){return 1}return 0});for(var A=1;A<B.length;A++){if(B[A]!=B[A-1]+1){throw new Error("jqxGrid: Column Groups initialization Error. Please, check the initialization of the jqxGrid's columns array. The columns in a column group are expected to be siblings in the columns array.");this.host.remove()}}}}this.columngroupslevel=1+a;v=this.columngroupslevel*this.columnsheight}return v},_render:function(c,n,a,u,t){if(this.dataview==null){return}if(this._loading){return}if(this._batchupdate){return}if(d.jqx.isHidden(this.host)){var s=this;if(s.___hiddenTimer){clearInterval(s.___hiddenTimer);s.___hiddenTimer=null}this.___hiddenTimer=setInterval(function(){if(!d.jqx.isHidden(s.host)){clearInterval(s.___hiddenTimer);s.render()}},300);return}if(this.editcell!=null&&this.endcelledit){this.endcelledit(this.editcell.row,this.editcell.column,true,false)}this.validationpopup=null;this._removeHandlers();this._addHandlers();this._initializeRows();this._requiresupdate=n!=undefined?n:true;this._newmax=null;if(a){if(!this._requiresupdate){if(u!=false){this._initmenu()}}if(this.columns==null){this.columns=new d.jqx.collection(this.element)}else{var o=this;if(this.columns&&this.columns.name==="observableArray"){this.columns.notifier=function(l){var z=function(){o.columns=o._columns;o.render()};switch(l.type){case"add":z();break;case"update":if(l.name==="index"){o.beginupdate();for(var w in l.newValue){o.setcolumnproperty(l.newValue.datafield,w,l.newValue[w])}o.endupdate()}else{var h=l.path.split(".");o.setcolumnproperty(o.columns[h[0]].datafield,l.name,l.newValue)}break;case"delete":z();break}}}if(this.columngroups&&this.columngroups.name==="observableArray"){this.columngroups.notifier=function(h){o.render()}}this._initializeColumns()}}this.tableheight=null;this._pagescache=new Array();this._pageviews=new Array();this.visiblerows=new Array();this.hittestinfo=new Array();if(this._requiresupdate){this._clearcaches();if(u==true){this._initmenu()}}this.virtualsizeinfo=null;this.prerenderrequired=true;if((this.groupable&&this.groups.length>0&&this.rowdetails)||(this.rowdetails)){if(this.gridcontent){this._rowdetailscache=new Array();this._rowdetailselementscache=new Array();this.detailboundrows=new Array();this.details=new Array();d.jqx.utilities.html(this.gridcontent,"");this.gridcontent=null}}if(this.gridcontent){if(this.editable&&this._destroyeditors){this._destroyeditors()}}if(a){if(this.filterrow){this.filterrow.detach()}d.jqx.utilities.html(this.content,"");this.columnsheader=this.columnsheader||d('<div style="overflow: hidden;"></div>');this.columnsheader.remove();this.columnsheader.addClass(this.toTP("jqx-widget-header"));this.columnsheader.addClass(this.toTP("jqx-grid-header"))}else{if(this.gridcontent){d.jqx.utilities.html(this.gridcontent,"")}}if(!this.showheader){this.columnsheader.css("display","none")}else{if(this.columnsheader){this.columnsheader.css("display","block")}}this.gridcontent=this.gridcontent||d('<div style="width: 100%; overflow: hidden; position: absolute;"></div>');this.gridcontent.remove();var q=this.columnsheight;q=this._preparecolumngroups();if(this.showfilterrow&&this.filterable){this.columnsheader.height(q+this.filterrowheight);if(this.showeverpresentrow&&this.everpresentrowposition!=="bottom"){this.columnsheader.height(q+this.filterrowheight+this.everpresentrowheight)}}else{if(this.showeverpresentrow&&this.everpresentrowposition!=="bottom"){this.columnsheader.height(q+this.everpresentrowheight)}else{this.columnsheader.height(q)}}this.content.append(this.columnsheader);this.content.append(this.gridcontent);this._arrange();if(this._initgroupsheader){this._initgroupsheader()}this.selectionarea=this.selectionarea||d("<div style='z-index: 99999; visibility: hidden; position: absolute;'></div>");this.selectionarea.addClass(this.toThemeProperty("jqx-grid-selectionarea"));this.selectionarea.addClass(this.toThemeProperty("jqx-fill-state-pressed"));this.content.append(this.selectionarea);this.tableheight=null;this.rendergridcontent(false,a);if(this.groups.length>0&&this.groupable){var v=this.vScrollBar[0].style.visibility;this.suspendgroupevents=true;if(this.collapseallgroups){if(!this.groupsexpandedbydefault){this.collapseallgroups(false);this._updatescrollbarsafterrowsprerender()}else{this.expandallgroups(false)}}if(this.vScrollBar[0].style.visibility!=v){this._updatecolumnwidths();this._updatecellwidths()}this.suspendgroupevents=false}if(this.pageable&&this.updatepagerdetails){this.updatepagerdetails();if(this.autoheight){this._updatepageviews()}if(this.autorowheight){if(!this.autoheight){this._updatepageviews()}this._renderrows(this.virtualsizeinfo)}}if(this.showaggregates&&this._updateaggregates){this._updateaggregates()}this._addoverlayelement();if(this.scrollmode=="deferred"){this._addscrollelement()}if(this.showfilterrow&&this.filterable&&this.filterrow&&(t==undefined||t==true)){this._updatelistfilters(!a)}if(this.rendered){this.rendered("full")}this.__isRendered=true},_addoverlayelement:function(){if(this.autoheight){if(this._overlayElement){this._overlayElement.remove()}this._updateTouchScrolling();return}var h=d.jqx.utilities.getBrowser();if((h.browser=="msie"&&parseInt(h.version)<9)||this.isTouchDevice()){if(this._overlayElement){this._overlayElement.remove()}this._overlayElement=d("<div style='visibility: hidden; position: absolute; width: 100%; height: 100%;'></div>");this._overlayElement.css("background","white");this._overlayElement.css("z-index",18000);this._overlayElement.css("opacity",0.001);if(this.isTouchDevice()){if(this.vScrollBar.css("visibility")!=="hidden"||this.hScrollBar.css("visibility")!=="hidden"){var c=0;if(this.selectionmode=="checkbox"){c+=30}if(this.groupable||this.rowdetails){this._overlayElement.css("left",30*(this.groups.length+(this.rowdetails?1:0)))}var a=this._overlayElement.css("left");this._overlayElement.css("left",a+c)}else{if(this._overlayElement){this._overlayElement.remove()}}}else{this.content.prepend(this._overlayElement)}}this._updateTouchScrolling()},_addscrollelement:function(){if(this._scrollelement){this._scrollelement.remove()}if(this._scrollelementoverlay){this._scrollelementoverlay.remove()}this._scrollelementoverlay=d("<div style='visibility: hidden; position: absolute; width: 100%; height: 100%;'></div>");this._scrollelementoverlay.css("background","black");this._scrollelementoverlay.css("z-index",18000);this._scrollelementoverlay.css("opacity",0.1);this._scrollelement=d("<span style='visibility: hidden; top: 50%; right: 10px; position: absolute;'></span>");this._scrollelement.css("z-index",18005);this._scrollelement.addClass(this.toThemeProperty("jqx-button"));this._scrollelement.addClass(this.toThemeProperty("jqx-fill-state-normal"));this._scrollelement.addClass(this.toThemeProperty("jqx-rc-all"));this._scrollelement.addClass(this.toThemeProperty("jqx-shadow"));this.content.prepend(this._scrollelement);this.content.prepend(this._scrollelementoverlay)},_postrender:function(n){if(n=="filter"||n=="sort"||n=="group"){if(this.rowdetails&&this.detailsVisibility&&this.detailsVisibility.length>0){this._detailsUpdate=true;for(var o=0;o<this.detailsVisibility.length;o++){if(false===this.detailsVisibility[o]){this.showrowdetails(o)}else{if(true===this.detailsVisibility[o]){this.hiderowdetails(o)}}}this._detailsUpdate=false;this.rendergridcontent(true);this._updatecolumnwidths();this._updatecellwidths();this._renderrows(this.virtualsizeinfo)}}if(this.groupable&&this.groups.length>0){if(n=="filter"||n=="sort"){for(var o=0;o<this.dataview.loadedgroups.length;o++){var c=this.dataview.loadedgroups[o];var q=0;for(var l in this.groupsVisibility){if(l==c.group&&this.groupsVisibility[l]){suspendgroupevents=true;this._setgroupstate(c,true,false);q++}}if(q>0){suspendgroupevents=false;var a=this.vScrollBar[0].style.visibility;this.rendergridcontent(true,false);if(a!=this.vScrollBar[0].style.visibility||this._hiddencolumns){this._updatecolumnwidths();this._updatecellwidths();this._renderrows(this.virtualsizeinfo)}}}}else{if(n=="group"){this.groupsVisibility=new Array()}}}},rendergridcontent:function(o,l){if(this.updating()){return false}if(o==undefined||o==null){o=false}this._requiresupdate=o;var a=this.prerenderrequired;if(this.prerenderrequired){this._arrange()}var c=this.that;var l=l;if(l==null||l==undefined){l=true}this.tableheight=null;c.virtualsizeinfo=c.virtualsizeinfo||c._calculatevirtualheight();if(c.pageable&&!c.autoheight){if(c.dataview.totalrows<c.pagesize){c._requiresupdate=true}}if(l){c._rendercolumnheaders()}else{if(this._rendersortcolumn){this._rendersortcolumn()}if(this._renderfiltercolumn){this._renderfiltercolumn()}}c._renderrows(c.virtualsizeinfo);if(this.gridcontent){if(this.gridcontent[0].scrollTop!=0){this.gridcontent[0].scrollTop=0}if(this.gridcontent[0].scrollLeft!=0){this.gridcontent[0].scrollLeft=0}}if(a){var n=this.tableheight;this._arrange();if(n!=this.tableheight&&this.autoheight){c._renderrows(c.virtualsizeinfo)}}if(this.rtl){this._renderhorizontalscroll()}if(this.autosavestate){if(this.initializedcall!=null){if(this.savestate){this.savestate()}}}return true},_updatecolumnwidths:function(){var o=this.host.width();var z=o;var s="";if(this.columns==undefined||this.columns.records==undefined){return}var a=this.that;var v=this.rowdetails&&this.showrowdetailscolumn?(1+this.groups.length)*this.groupindentwidth:(this.groups.length)*this.groupindentwidth;d.each(this.columns.records,function(n,l){if(!(this.hidden&&this.hideable)){if(this.width.toString().indexOf("%")!=-1||this._percentagewidth!=undefined){var l=0;var h=a.vScrollBar[0].style.visibility=="hidden"?0:a.scrollbarsize+5;if(a.scrollbarautoshow){h=0}var B=z;l=parseFloat(this.width)*B/100;h+=v;if(this._percentagewidth!=undefined){l=parseFloat(this._percentagewidth)*(B-h)/100}if(l<this.minwidth&&this.minwidth!="auto"){l=this.minwidth}if(l>this.maxwidth&&this.maxwidth!="auto"){l=this.maxwidth}o-=l}else{if(this.width!="auto"&&!this._width){o-=this.width}else{s+=this.text}}}});var w=this._gettableheight();if(!this.autoheight){if(this.virtualsizeinfo&&this.virtualsizeinfo.virtualheight>w){if(this.groupable&&this.groups.length>0){if(this.dataview&&this.dataview.loadedrootgroups&&!this.groupsexpandedbydefault){var c=this.dataview.loadedrootgroups.length*this.rowsheight;if(this.pageable){for(var A=0;A<this.dataview.rows.length;A++){if(this.dataview.rows[A].group&&this.dataview.rows[A].level===0){c+=this.rowsheight}}}if(c>w){o-=this.scrollbarsize+5;z-=this.scrollbarsize+5}else{if(this.vScrollBar.css("visibility")=="visible"){o-=this.scrollbarsize+5;z-=this.scrollbarsize+5}}}else{o-=this.scrollbarsize+5;z-=this.scrollbarsize+5}}else{if(this.vScrollBar.css("visibility")!="hidden"){o-=this.scrollbarsize+5;z-=this.scrollbarsize+5}}}}var v=this.rowdetails&&this.showrowdetailscolumn?(1+this.groups.length)*this.groupindentwidth:(this.groups.length)*this.groupindentwidth;z-=v;if(!this.columnsheader){return}var t=this.columnsheader.find("#columntable"+this.element.id);if(t.length==0){return}var u=0;var q=this;d.each(this.columns.records,function(C,h){var n=d(this.element);if(!this.hidden&&this.element.style.display==="none"){this.element.style.display="block"}var D=false;var l=this.width;if(this.width.toString().indexOf("%")!=-1||this._percentagewidth!=undefined){if(this._percentagewidth!=undefined){l=parseFloat(this._percentagewidth)*z/100}else{l=parseFloat(this.width)*z/100}D=true}if(this.width!="auto"&&!this._width&&!D){if(parseInt(n[0].style.width)!=this.width){n.width(this.width)}}else{if(D){if(l<this.minwidth&&this.minwidth!="auto"){l=this.minwidth;this.width=l}if(l>this.maxwidth&&this.maxwidth!="auto"){l=this.maxwidth;this.width=l}if(parseInt(n[0].style.width)!=l){n.width(l);this.width=l}}else{var B=Math.floor(o*(this.text.length/s.length));if(isNaN(B)){B=this.minwidth}if(B==Infinity){B=0}if(B<0){$element=d("<span>"+this.text+"</span>");d(document.body).append($element);B=10+$element.width();$element.remove()}if(B<this.minwidth){B=this.minwidth}if(B>this.maxwidth){B=this.maxwidth}this._width="auto";this.width=B;n.width(this.width)}}if(parseInt(n[0].style.left)!=u){n.css("left",u)}if(!(this.hidden&&this.hideable)){u+=this.width}this._requirewidthupdate=true});this.columnsheader.width(2+u);t.width(this.columnsheader.width());if(u==0){this.columnsheader[0].style.visibility="hidden"}else{this.columnsheader[0].style.visibility="inherit"}this._resizecolumngroups();if(this.showfilterrow&&this.filterrow){this.filterrow.width(this.columnsheader.width());this._updatefilterrowui()}if(this.showeverpresentrow){if(this.everpresentrowposition!=="bottom"){this.addnewrowtop.width(this.columnsheader.width())}else{this.addnewrowbottom.width(this.columnsheader.width())}this._updateaddnewrowui()}if(this.autowidth){this._arrange()}},_rendercolumnheaders:function(){var q=this.that;if(!this.prerenderrequired){if(this._rendersortcolumn){this._rendersortcolumn()}if(this._renderfiltercolumn){this._renderfiltercolumn()}if(this.showfilterrow&&this.filterrow){this.filterrow.width(this.columnsheader.width());this._updatefilterrowui()}if(this.showeverpresentrow){if(this.everpresentrowposition!=="bottom"){this.addnewrowtop.width(this.columnsheader.width())}else{this.addnewrowbottom.width(this.columnsheader.width())}this._updateaddnewrowui()}return}this._columnsbydatafield=new Array();this.columnsheader.find("#columntable"+this.element.id).remove();var U=d('<div id="columntable'+this.element.id+'" style="height: 100%; position: relative;"></div>');U[0].cells=new Array();var S=0;var Y=0;var L="";var I=this.host.width();var O=I;var Z=new Array();var T=new Array();var N=this.rowdetails&&this.showrowdetailscolumn?(1+this.groups.length)*this.groupindentwidth:(this.groups.length)*this.groupindentwidth;d.each(this.columns.records,function(l,h){if(!(this.hidden&&this.hideable)){if(this.width!="auto"&&!this._width){if(this.width<this.minwidth&&this.minwidth!="auto"){I-=this.minwidth}else{if(this.width>this.maxwidth&&this.maxwidth!="auto"){I-=this.maxwidth}else{if(this.width.toString().indexOf("%")!=-1){var h=0;var n=q.vScrollBar[0].style.visibility=="hidden"?0:q.scrollbarsize+5;n+=N;h=parseFloat(this.width)*(O-n)/100;if(h<this.minwidth&&this.minwidth!="auto"){h=this.minwidth}if(h>this.maxwidth&&this.maxwidth!="auto"){h=this.maxwidth}I-=h}else{if(typeof this.width=="string"){this.width=parseInt(this.width)}I-=this.width}}}}else{L+=this.text}}if(this.pinned||this.grouped||this.checkboxcolumn){if(q._haspinned){this.pinned=true}Z[Z.length]=this}else{T[T.length]=this}});if(!this.rtl){for(var P=0;P<Z.length;P++){this.columns.replace(P,Z[P])}for(var Q=0;Q<T.length;Q++){this.columns.replace(Z.length+Q,T[Q])}}else{var c=0;Z.reverse();for(var P=this.columns.records.length-1;P>=this.columns.records.length-Z.length;P--){this.columns.replace(P,Z[c++])}for(var Q=0;Q<T.length;Q++){this.columns.replace(Q,T[Q])}}var V=this.headerZIndex;var R=q.groupable?q.groups.length:0;if(this.rowdetails&&this.showrowdetailscolumn){R++}var X=q.columnsheader.height();if(this.showfilterrow){if(!this.columngroups){X=this.columnsheight}else{X-=this.filterrowheight}}if(this.showeverpresentrow&&this.everpresentrowposition!=="bottom"){X-=this.everpresentrowheight}var J=this._gettableheight();if(this.virtualsizeinfo&&this.virtualsizeinfo.virtualheight>J&&!this.scrollbarautoshow){if(this.groupable&&this.groups.length>0){if(this.dataview&&this.dataview.loadedrootgroups&&!this.groupsexpandedbydefault){var M=0;if(!this.pageable){var M=this.dataview.loadedrootgroups.length*this.rowsheight}else{if(this.pageable){for(var H=0;H<this.dataview.rows.length;H++){if(this.dataview.rows[H].group&&this.dataview.rows[H].level===0){M+=this.rowsheight}}}}if(M>J){I-=this.scrollbarsize+5;O-=this.scrollbarsize+5}}else{I-=this.scrollbarsize+5;O-=this.scrollbarsize+5}}else{if(!this.autoheight){I-=this.scrollbarsize+5;O-=this.scrollbarsize+5}}}O-=N;var ac=function(l,h){var n=q.columngroupslevel*q.columnsheight;n=n-(h.level*q.columnsheight);return n};var aa=document.createDocumentFragment();var a=0;d.each(this.columns.records,function(o,t){this.height=q.columnsheight;if(q.columngroups){if(q.columngroups.length){this.height=ac(this.datafield,this);X=this.height}}var ak=q.toTP("jqx-grid-column-header")+" "+q.toTP("jqx-widget-header");if(q.rtl){ak+=" "+q.toTP("jqx-grid-column-header-rtl")}var l=!q.rtl?150+V-1:150+V+1;var v=!q.rtl?V--:V++;var ae=d('<div role="columnheader" style="z-index: '+v+';position: absolute; height: 100%;" class="'+ak+'"><div style="height: 100%; width: 100%;"></div></div>');if(q.columngroups){ae[0].style.height=X+"px";ae[0].style.bottom="0px";if(this.pinned){ae[0].style.zIndex=l}}this.uielement=ae;if(this.classname!=""&&this.classname){ae.addClass(this.classname)}var A=this.width;var z=false;if(this.width===null){this.width="auto"}if(this.width.toString().indexOf("%")!=-1||this._percentagewidth!=undefined){if(this._percentagewidth!=undefined){A=parseFloat(this._percentagewidth)*O/100}else{A=parseFloat(this.width)*O/100}z=true}if(this.width!="auto"&&!this._width&&!z){if(A<this.minwidth&&this.minwidth!="auto"){A=this.minwidth;this.width=A}if(A>this.maxwidth&&this.maxwidth!="auto"){A=this.maxwidth;this.width=A}ae[0].style.width=parseInt(A)+"px"}else{if(z){if(A<this.minwidth&&this.minwidth!="auto"){A=this.minwidth}if(A>this.maxwidth&&this.maxwidth!="auto"){A=this.maxwidth}if(this._percentagewidth==undefined||this.width.toString().indexOf("%")!=-1){this._percentagewidth=this.width}ae.width(A);this.width=A}else{if(!this.hidden){var u=Math.floor(I*(this.text.length/L.length));a+=u;if(I-a<3&&I!=a){u+=2}if(isNaN(u)){u=this.minwidth}if(u<0){$element=d("<span>"+this.text+"</span>");d(document.body).append($element);u=10+$element.width();$element.remove()}if(u<this.minwidth){u=this.minwidth}if(u>this.maxwidth){u=this.maxwidth}this._width="auto";this.width=u;A=this.width;ae.width(this.width)}}}if(this.hidden&&this.hideable){ae.css("display","none")}var ag=d(ae.children()[0]);var n=q.rtl?q.toTP("jqx-grid-column-menubutton")+" "+q.toTP("jqx-grid-column-menubutton-rtl"):q.toTP("jqx-grid-column-menubutton");n+=" "+q.toTP("jqx-icon-arrow-down");var F=d('<div style="height: '+X+'px; display: none; left: 100%; top: 0%; position: absolute;"><div class="'+n+'" style="width: 100%; height:100%;"></div></div>');if(!q.enableanimations){F.css("margin-left",-16)}if(q.rtl){F.css("left","0px")}this.columnsmenu=F[0];U[0].cells[o]=ae[0];F[0].style.width=parseInt(q.columnsmenuwidth)+"px";var G=q.columnsmenu;var af=false;var s=false;var w=(q.groupable&&R>0&&S<R)||(q.rowdetails&&S<R);if(q.rtl){w=(q.groupable&&R>0&&S<R)||(q.rowdetails&&S<R);w&=o>q.columns.records.length-1-R}if(w){S++;G&=false;this.sortable=false;this.editable=false;s=true}else{var D=this.renderer!=null?this.renderer(this.text,this.align,X):q._rendercolumnheader(this.text,this.align,X,q);if(D==null){D=q._rendercolumnheader(this.text,this.align,X,q)}if(this.renderer!=null){D=d(D)}G&=true;af=true}if(q.WinJS){MSApp.execUnsafeLocalFunction(function(){ag.append(d(D))})}else{if(this.renderer){ag.append(d(D))}else{if(D){ag[0].innerHTML=D}}}if(D!=null){var B=d('<div class="iconscontainer" style="height: '+X+'px; margin-left: -32px; display: block; position: absolute; left: 100%; top: 0%; width: 32px;"><div class="filtericon '+q.toTP("jqx-widget-header")+'" style="height: '+X+'px; float: right; display: none; width: 16px;"><div class="'+q.toTP("jqx-grid-column-filterbutton")+'" style="width: 100%; height:100%;"></div></div><div class="sortasc '+q.toTP("jqx-widget-header")+'" style="height: '+X+'px; float: right; display: none; width: 16px;"><div class="'+q.toTP("jqx-grid-column-sortascbutton")+" "+q.toTP("jqx-icon-arrow-up")+'" style="width: 100%; height:100%;"></div></div><div class="sortdesc '+q.toTP("jqx-widget-header")+'" style="height: '+X+'px; float: right; display: none; width: 16px;"><div class="'+q.toTP("jqx-grid-column-sortdescbutton")+" "+q.toTP("jqx-icon-arrow-down")+'" style="width: 100%; height:100%;"></div></div></div>');F.addClass(q.toTP("jqx-widget-header"));ag.append(B);var aj=B.children();this.sortasc=aj[1];this.sortdesc=aj[2];this.filtericon=aj[0];this.iconscontainer=B;if(q.rtl){B.css("margin-left","0px");B.css("left","0px");d(this.sortasc).css("float","left");d(this.filtericon).css("float","left");d(this.sortdesc).css("float","left")}if(!q.autoshowfiltericon&&this.filterable){d(this.filtericon).css("display","block")}}this.element=ae[0];if(G){q._handlecolumnsmenu(q,ag,ae,F,this);if(!this.menu){F.hide()}}aa.appendChild(ae[0]);if(q.groupable&&af){ae[0].id=q.dataview.generatekey();if(q._handlecolumnstogroupsdragdrop){q._handlecolumnstogroupsdragdrop(this,ae)}else{throw new Error("jqxGrid: Missing reference to jqxgrid.grouping.js.")}}if(q.columnsreorder&&this.draggable&&q._handlecolumnsdragreorder){q._handlecolumnsdragreorder(this,ae)}var h=this;q.addHandler(ae,"click",function(al){if(h.checkboxcolumn){return true}if(q.sorttogglestates>0&&q._togglesort){if(!q._loading){if(q.suspendClick){return true}q._togglesort(h)}}al.preventDefault();q._raiseEvent(7,{column:h.getcolumnproperties(),datafield:h.datafield,originalEvent:al})});if(h.resizable&&q.columnsresize&&!s){var ad=false;var ai="mousemove";if(q.isTouchDevice()&&q.touchmode!==true){ad=true;ai=d.jqx.mobile.getTouchEventName("touchstart")}q.addHandler(ae,ai,function(ar){var ap=parseInt(ar.pageX);var ao=5;var al=parseInt(ae.coord().left);if(q.hasTransform){al=d.jqx.utilities.getOffset(ae).left}if(q.resizing){return true}if(q._handlecolumnsresize){if(ad){var aq=q.getTouches(ar);var am=aq[0];ap=am.pageX;ao=40;if(ap>=al+h.width-ao){q.resizablecolumn={columnelement:ae,column:h};ae.css("cursor","col-resize")}else{ae.css("cursor","");q.resizablecolumn=null}return true}var an=h.width;if(q.rtl){an=0}if(ap>=al+an-ao){if(ap<=al+an+ao){q.resizablecolumn={columnelement:ae,column:h};ae.css("cursor","col-resize");return false}else{ae.css("cursor","");q.resizablecolumn=null}}else{ae.css("cursor","");if(ap<al+an-ao){if(!h._animating&&!h._menuvisible){ae.mouseenter()}}q.resizablecolumn=null}}})}ae.css("left",Y);if(!(this.hidden&&this.hideable)){Y+=A}if(h.rendered){var C=h.rendered(d(ag[0].firstChild),h.align,X);if(C&&B!=null){B.hide()}}if(h.checkboxcolumn){if(B){B.hide()}if(!q.host.jqxCheckBox){throw new Error("jqxGrid: Missing reference to jqxcheckbox.js")}ag.html('<div style="cursor: pointer; margin-left: 5px; top: 50%; margin-top: -8px; position: relative;"></div>');var ah=ag.find("div:first");ah.jqxCheckBox({_canFocus:false,disabled:q.disabled,disabledContainer:true,theme:q.theme,enableContainerClick:false,width:16,height:16,animationShowDelay:0,animationHideDelay:0});h.checkboxelement=ah;var E=ah.data().jqxCheckBox.instance;q._checkboxcolumn=h;E.updated=function(an,al,am){q._checkboxcolumnupdating=true;if(q.disabled){ah.jqxCheckBox({disabled:q.disabled});al=am}if(al){q.selectallrows()}else{q.unselectallrows()}q._checkboxcolumnupdating=false}}});if(Y>0){this.columnsheader.width(2+Y)}else{this.columnsheader.width(Y)}U[0].appendChild(aa);this.columnsrow=U;q.columnsheader.append(U);if(this.showfilterrow&&this._updatefilterrow){if(!this.columngroups){U.height(this.columnsheight)}else{U.height(this.columngroupslevel*this.columnsheight)}if(!this.filterrow){var K=d("<div style='position: relative !important; '></div>");K[0].id="filterrow."+this.element.id;K.height(this.filterrowheight);this.filterrow=K}this.filterrow.width(2+Y);this.columnsheader.append(this.filterrow);this._updatefilterrow()}if(this.showeverpresentrow&&this.everpresentrowposition!=="bottom"){if(!this.columngroups){U.height(this.columnsheight)}else{U.height(this.columngroupslevel*this.columnsheight)}if(!this.addnewrowtop){var W=d("<div style='position: relative !important; z-index:"+this.headerZIndex+";'></div>");W[0].id="addnewrowtop."+this.element.id;W.height(this.everpresentrowheight);this.addnewrowtop=W}this.addnewrowtop.width(2+Y);if(this.everpresentrowposition=="topAboveFilterRow"){if(this.filterrow){this.addnewrowtop.insertBefore(this.filterrow)}else{this.columnsheader.append(this.addnewrowtop)}}else{this.columnsheader.append(this.addnewrowtop)}this._updateaddnewrow()}else{if(this.showeverpresentrow&&this.everpresentrowposition==="bottom"){if(!this.addnewrowbottom){var ab=d("<div style='position: relative !important; z-index:"+this.headerZIndex+";'></div>");ab[0].id="addnewrowbottom."+this.element.id;ab.height(this.everpresentrowheight);this.addnewrowbottom=ab}this.addnewrowbottom.width(2+Y);this.addnewrow.append(this.addnewrowbottom);this._updateaddnewrow()}}if(Y==0){U[0].style.visibility="hidden"}else{U[0].style.visibility="inherit"}U.width(Y);if(this._handlecolumnsdragdrop){this._handlecolumnsdragdrop()}if(this._handlecolumnsreorder){this._handlecolumnsreorder()}if(this._rendersortcolumn){this._rendersortcolumn()}if(this._renderfiltercolumn){this._renderfiltercolumn()}if(this._handlecolumnsresize){this._handlecolumnsresize()}if(this.columngroups){this._rendercolumngroups()}if(this._updatecheckboxselection){this._updatecheckboxselection()}},_rendercolumngroups:function(){if(!this.columngroups){return}var w=0;for(var B=0;B<this.columns.records.length;B++){if(this.columns.records[B].pinned){w++}}var K=this.headerZIndex-w+this.columns.records.length;var J=this.that;var E=J.toTP("jqx-grid-column-header")+" "+J.toTP("jqx-grid-columngroup-header")+" "+J.toTP("jqx-widget-header");if(J.rtl){E+=" "+J.toTP("jqx-grid-columngroup-header-rtl")}var G=this.columnsheader.find("#columntable"+this.element.id);G.find("jqx-grid-columngroup-header").remove();for(var D=0;D<this.columngroupslevel-1;D++){for(var B=0;B<this.columngroups.length;B++){var a=this.columngroups[B];var I=a.level;if(I!==D){continue}var c=I*this.columnsheight;var H=99999;if(a.groups){var L=function(o){var h=0;for(var l=0;l<o.groups.length;l++){var n=o.groups[l];if(!n.groups){if(!n.hidden){h+=n.width;H=Math.min(parseFloat(n.element.style.left),H)}}else{h+=L(n)}}return h};a.width=L(a);a.left=H;var M=this.columnsheight;var A=K--;var F=d('<div role="columnheader" style="z-index: '+A+';position: absolute;" class="'+E+'"></div>');var C=d(this._rendercolumnheader(a.text,a.align,this.columnsheight,this));if(a.renderer){var C=d("<div style='height: 100%; width: 100%;'></div>");var z=a.renderer(a.text,a.align,M);C.html(z)}F.append(C);F[0].style.left=H+"px";if(H===0){F[0].style.borderLeftColor="transparent"}F[0].style.top=c+"px";F[0].style.height=M+"px";F[0].style.width=-1+a.width+"px";G.append(F);a.element=F;if(a.rendered){a.rendered(C,a.align,M)}}}}},_resizecolumngroups:function(){if(!this.columngroups){return}for(var t=0;t<this.columngroups.length;t++){var c=this.columngroups[t];var a=c.level;var n=a*this.columnsheight;var o=99999;if(c.groups){var q=function(v){var w=0;for(var h=0;h<v.groups.length;h++){var l=v.groups[h];if(!l.groups){if(!l.hidden){w+=l.width;o=Math.min(parseFloat(l.element.style.left),o)}}else{w+=q(l)}}return w};c.width=q(c);c.left=o;var u=this.columnsheight;var s=c.element;s[0].style.left=o+"px";s[0].style.top=n+"px";s[0].style.height=u+"px";s[0].style.width=-1+c.width+"px"}}},_handlecolumnsmenu:function(a,A,z,u,s){a.dragmousedown=null;u[0].id=a.dataview.generatekey();A.append(u);z[0].columnsmenu=u[0];s.element=z[0];var t=this.columnsmenuwidth+1;var c=function(){if(!s.menu){return false}if(!a.resizing){if(s._menuvisible&&a._hasOpenedMenu){return false}s._animating=true;if(a.menuitemsarray&&a.menuitemsarray.length>0){if(!a.enableanimations){u.css("display","block");var h=!a.rtl?-48:16;s.iconscontainer.css("margin-left",h+"px");s._animating=false;s._menuvisible=true}else{u.css("display","block");u.stop();s.iconscontainer.stop();if(!a.rtl){u.css("margin-left","0px");u.animate({"margin-left":-t},"fast",function(){u.css("display","block");s._animating=false;s._menuvisible=true})}else{u.css("margin-left",-t);u.animate({"margin-left":"0px"},"fast",function(){u.css("display","block");s._animating=false;s._menuvisible=true})}var h=!a.rtl?-(32+t):t;s.iconscontainer.animate({"margin-left":h},"fast")}}}};var B="mouseenter";if(a.isTouchDevice()){B="touchstart"}a.addHandler(z,B,function(E){var F=parseInt(E.pageX);var n=a.columnsresize&&s.resizable?3:0;var h=parseInt(z.coord().left);if(a.hasTransform){h=d.jqx.utilities.getOffset(z).left}var l=s.width;if(a.rtl){l=0}if(n!=0){if(F>=h+l-n){if(F<=h+l+n){return false}}}var o=a.vScrollInstance.isScrolling();if(s.menu&&a.autoshowcolumnsmenubutton&&!o&&!a.disabled){c()}});if(!a.autoshowcolumnsmenubutton){u.css("display","block");var C=!a.rtl?-48:16;s.iconscontainer.css("margin-left",C+"px");if(!a.rtl){u.css({"margin-left":-t})}else{u.css({"margin-left":"0px"})}}a.addHandler(z,"mouseleave",function(n){if(a.menuitemsarray&&a.menuitemsarray.length>0&&s.menu){var h=d.data(document.body,"contextmenu"+a.element.id);if(h!=undefined&&u[0].id==h.columnsmenu.id){return}if(a.autoshowcolumnsmenubutton){if(!a.enableanimations){u.css("display","none");var l=!a.rtl?-32:0;s.iconscontainer.css("margin-left",l+"px");s._menuvisible=false}else{if(!a.rtl){u.css("margin-left",-t)}else{u.css("margin-left","0px")}u.stop();s.iconscontainer.stop();if(!a.rtl){u.animate({"margin-left":0},"fast",function(){u.css("display","none");s._menuvisible=false})}else{u.animate({"margin-left":-t},"fast",function(){u.css("display","none");s._menuvisible=false})}var l=!a.rtl?-32:0;s.iconscontainer.animate({"margin-left":l},"fast")}}}});var v=true;var D="";var w=d(s.filtericon);a.addHandler(u,"mousedown",function(h){if(!a.gridmenu){a._initmenu()}v=!d.data(a.gridmenu[0],"contextMenuOpened"+a.gridmenu[0].id);D=d.data(document.body,"contextmenu"+a.element.id);if(D!=null){D=D.column.datafield}});a.addHandler(w,"mousedown",function(h){if(!a.gridmenu){a._initmenu()}v=!d.data(a.gridmenu[0],"contextMenuOpened"+a.gridmenu[0].id);D=d.data(document.body,"contextmenu"+a.element.id);if(D!=null){D=D.column.datafield}});var q=function(){if(!s.menu){return false}if(!a.gridmenu){a._initmenu()}if(a.disabled){return false}for(var L=0;L<a.columns.records.length;L++){if(a.columns.records[L].datafield!=s.datafield){a.columns.records[L]._menuvisible=false}}var N=u.coord(true);var G=u.height();if(!v){v=true;if(D==s.datafield){a._closemenu();return false}}var J=a.host.coord(true);if(a.hasTransform){J=d.jqx.utilities.getOffset(a.host);N=d.jqx.utilities.getOffset(u)}if(J.left+a.host.width()>parseInt(N.left)+a.gridmenu.width()){a.gridmenu.jqxMenu("open",N.left,N.top+G)}else{a.gridmenu.jqxMenu("open",u.width()+N.left-a.gridmenu.width(),N.top+G)}if(a.gridmenu.width()<100){a._arrangemenu()}a._hasOpenedMenu=true;var I=a._getmenuitembyindex(0);var l=a._getmenuitembyindex(1);var o=a._getmenuitembyindex(2);var H=a._getmenuitembyindex(3);var n=a._getmenuitembyindex(4);var h=a._getmenuitembyindex(5);if(I!=null&&l!=null&&o!=null){var M=s.sortable&&a.sortable;a.gridmenu.jqxMenu("disable",I.id,!M);a.gridmenu.jqxMenu("disable",l.id,!M);a.gridmenu.jqxMenu("disable",o.id,!M);if(s.displayfield!=undefined){if(a.sortcolumn==s.displayfield){var K=a.getsortinformation();if(M){if(K.sortdirection.ascending){a.gridmenu.jqxMenu("disable",I.id,true)}else{a.gridmenu.jqxMenu("disable",l.id,true)}}}else{a.gridmenu.jqxMenu("disable",o.id,true)}}}if(H!=null&&n!=null){if(!a.groupable||!s.groupable){a.gridmenu.jqxMenu("disable",n.id,true);a.gridmenu.jqxMenu("disable",H.id,true)}else{if(a.groups&&a.groups.indexOf(s.datafield)!=-1){a.gridmenu.jqxMenu("disable",H.id,true);a.gridmenu.jqxMenu("disable",n.id,false)}else{a.gridmenu.jqxMenu("disable",H.id,false);a.gridmenu.jqxMenu("disable",n.id,true)}}}if(h!=null){a.menuOwner=s;a._updatefilterpanel(a,h,s);var P=0;if(a.sortable&&a._togglesort&&a.showsortmenuitems){P+=3}if(a.groupable&&a.addgroup&&a.showgroupmenuitems){P+=2}var F=P*27+3;if(d.jqx.browser.msie&&d.jqx.browser.version<8){F+=20;d(h).height(190)}if(a.filterable&&a.showfiltermenuitems){if(!s.filterable){a.gridmenu.height(F);d(h).css("display","none")}else{a.gridmenu.height(F+180);d(h).css("display","block")}}}if(a.columnmenuopening){var O=a.columnmenuopening(a.gridmenu,s.displayfield,a.gridmenu.height());if(false===O){a._closemenu()}}d.data(document.body,"contextmenu"+a.element.id,{column:s,columnsmenu:u[0]})};a.addHandler(w,"click",function(h){if(!s.menu){return false}if(!a.showfilterrow){if(u[0].style.display!="block"){z.trigger("mouseenter")}setTimeout(function(){if(u[0].style.display!="block"){z.trigger("mouseenter")}q()},200)}return false});a.addHandler(u,"click",function(h){if(!s.menu){return false}q();return false});if(a.isTouchDevice()){a.addHandler(u,d.jqx.mobile.getTouchEventName("touchstart"),function(h){if(!s.menu){return false}if(!a._hasOpenedMenu){q()}else{a._closemenu()}return false})}},_removecolumnhandlers:function(a){var n=this.that;var l=d(a.element);if(l.length>0){n.removeHandler(l,"mouseenter");n.removeHandler(l,"mouseleave");var c=d(a.filtericon);n.removeHandler(c,"mousedown");n.removeHandler(c,"click");n.removeHandler(l,"click");n.removeHandler(l,"mousemove");if(n.columnsreorder){n.removeHandler(l,"mousedown.drag");n.removeHandler(l,"mousemove.drag")}n.removeHandler(l,"dragstart");if(l[0].columnsmenu){var o=d(l[0].columnsmenu);n.removeHandler(o,"click");n.removeHandler(o,"mousedown");n.removeHandler(o,d.jqx.mobile.getTouchEventName("touchstart"))}}},_rendercolumnheader:function(c,a,o,q){var l="4px";if(q.columngroups){l=(o/2-this._columnheight/2);if(l<0){l=4}l+="px"}else{if(this.columnsheight!=25){l=(this.columnsheight/2-this._columnheight/2);if(l<0){l=4}l+="px"}}if(this.enableellipsis){return'<div style="padding-bottom: 2px; overflow: hidden; text-overflow: ellipsis; text-align: '+a+"; margin-left: 4px; margin-right: 2px; margin-bottom: "+l+"; margin-top: "+l+';"><span style="text-overflow: ellipsis; cursor: default;">'+c+"</span></div>"}if(a=="center"||a=="middle"){return'<div style="padding-bottom: 2px; text-align: center; margin-top: '+l+';"><a href="#">'+c+"</a></div>"}var n='<a style="margin-top: '+l+"; float: "+a+';" href="#">'+c+"</a>";return n},_renderrows:function(G,E,A){var a=this.that;if((this.pageable||this.groupable)&&(this.autoheight||this.autorowheight)){if(this.table!=null&&this.table[0].rows!=null&&this.table[0].rows.length<this.dataview.rows.length){a.prerenderrequired=true}}if(!this.pageable&&(this.autoheight||this.autorowheight)&&(this.virtualmode||this.unboundmode)){var u=this.source.totalrecords;if(!isNaN(u)){if(this.table!=null&&this.table[0].rows!=null&&this.table[0].rows.length!=u){a.prerenderrequired=true}}}if((this.autoheight||this.autorowheight)&&!a.prerenderrequired){if(this.table&&this.table[0].rows){if(this.table[0].rows.length<this.dataview.records.length){if(this.pageable&&this.table[0].rows.length<this.dataview.pagesize){a.prerenderrequired=true}else{if(!this.pageable){a.prerenderrequired=true}}}if(this.table[0].rows.length<this.dataview.cachedrecords.length){if(this.pageable&&this.table[0].rows.length<this.dataview.pagesize){a.prerenderrequired=true}else{if(!this.pageable){a.prerenderrequired=true}}}}}a._prerenderrows(G);if(a._requiresupdate){a._requiresupdate=false;a._updatepageviews()}var c=function(){if(a._loading){return}if(a.WinJS){MSApp.execUnsafeLocalFunction(function(){a._rendervisualrows()})}else{a._rendervisualrows()}if(a.virtualmode&&a.showaggregates&&a._updateaggregates){a.refreshaggregates()}};var J=d.jqx.browser.msie&&d.jqx.browser.version<10;if(this.virtualmode){var D=function(){if(a.rendergridrows){var l=a._startboundindex;if(l==undefined){l=0}var o=l+1+a.dataview.pagesize;if(l!=null&&o!=null){var n=a.source._source?true:false;var h=!n?a.source.recordstartindex:a.source._source.recordstartindex;if(h!=l||E==true){if(!n){a.source.recordstartindex=l;a.source.recordendindex=o}else{if(o>=a.source._source.totalrecords){o=a.source._source.totalrecords;l=o-a.dataview.pagesize-1;if(l<0){l=0}if(a.source._source.recordendindex==o&&a.source._source.recordstartindex==l){return}}a.source._source.recordstartindex=l;a.source._source.recordendindex=o}a.updatebounddata("cells")}}}};if(this.loadondemand){c();D();this.loadondemand=false}var C=this._browser==undefined?this._isIE10():this._browser;if(this.editable&&this.editcell&&!this.vScrollInstance.isScrolling()&&!this.hScrollInstance.isScrolling()){c()}else{if(this.autoheight){c()}else{if(C||J||(navigator&&navigator.userAgent.indexOf("Safari")!=-1)){if(this._scrolltimer!=null){clearTimeout(this._scrolltimer)}this._scrolltimer=setTimeout(function(){c()},5)}else{c()}}}}else{if(this.scrollmode=="deferred"&&(this.hScrollInstance.isScrolling()||this.vScrollInstance.isScrolling())){if(this._scrolltimer!=null){clearInterval(this._scrolltimer)}var K=this._getfirstvisualrow();if(K!=null){var z=function(s){if(K==null){return""}var t="<table>";var n=a.deferreddatafields;if(n==null){if(a.columns.records.length>0){n=new Array();n.push(a.columns.records[0].displayfield)}}for(var o=0;o<n.length;o++){var l=n[o];var h=a._getcolumnbydatafield(l);if(h){var q=a._getcellvalue(h,K);if(h.cellsformat!=""){if(d.jqx.dataFormat){if(d.jqx.dataFormat.isDate(q)){q=d.jqx.dataFormat.formatdate(q,h.cellsformat,a.gridlocalization)}else{if(d.jqx.dataFormat.isNumber(q)){q=d.jqx.dataFormat.formatnumber(q,h.cellsformat,a.gridlocalization)}}}}t+="<tr><td>"+q+"</td></tr>"}}t+="</table>";return t};var B=this.scrollfeedback?this.scrollfeedback(K.bounddata):z(K.bounddata);if(B!=this._scrollelementcontent){this._scrollelement[0].innerHTML=B;this._scrollelementcontent=B}}this._scrollelement.css("visibility","visible");this._scrollelementoverlay.css("visibility","visible");this._scrollelement.css("margin-top",-this._scrollelement.height()/2);this._scrolltimer=setInterval(function(){if(!a.hScrollInstance.isScrolling()&&!a.vScrollInstance.isScrolling()){c();a._scrollelement.css("visibility","hidden");a._scrollelementoverlay.css("visibility","hidden");clearInterval(a._scrolltimer);if(K){a.ensurerowvisible(K.visibleindex)}}},100);return}if(navigator&&navigator.userAgent.indexOf("Chrome")==-1&&navigator.userAgent.indexOf("Safari")!=-1){this._updatedelay=1}if(this.touchDevice!=undefined&&this.touchDevice==true){this._updatedelay=5}var C=this._browser==undefined?this._isIE10():this._browser;if(C||J){this._updatedelay=5}if((C)&&this.hScrollInstance.isScrolling()){c();return}if(d.jqx.browser.mozilla&&this._updatedelay==0&&(this.vScrollInstance.isScrolling()||this.hScrollInstance.isScrolling())){this._updatedelay=0}if(this.updatedelay!=null){this._updatedelay=this.updatedelay}if(this._updatedelay==0){c()}else{var I=this._jqxgridrendertimer;if(I!=null){clearTimeout(I)}if(this.vScrollInstance.isScrolling()||this.hScrollInstance.isScrolling()){if(this._updatedelay){I=setTimeout(function(){c()},this._updatedelay)}else{I=null;c()}this._jqxgridrendertimer=I}else{this._jqxgridrendertimer=I;c()}}}if(a.autorowheight&&!a.autoheight){if(this._pageviews.length>0){var H=this._gettableheight();var w=this._pageviews[0].height;if(w>H){if(this.pageable&&this.gotopage){w=this._pageviews[0].height;if(w<0){w=this._pageviews[0].height}}if(this.vScrollBar.css("visibility")!="visible"){this.vScrollBar.css("visibility","visible")}if(w<=H||this.autoheight){this.vScrollBar.css("visibility","hidden")}if(w-H>0){if(this.scrollmode!="deferred"){var v=w-H;var F=this.vScrollInstance.max;this.vScrollBar.jqxScrollBar({max:v});if(Math.round(v)!=Math.round(F)){this.vScrollBar.jqxScrollBar({value:0})}}}else{this.vScrollBar.jqxScrollBar({value:0,max:w})}}else{if(!this._loading){this.vScrollBar.css("visibility","hidden")}this.vScrollBar.jqxScrollBar({value:0})}this._arrange();if(this.virtualsizeinfo){this.virtualsizeinfo.virtualheight=w}}}},scrolling:function(){var a=this.vScrollInstance.isScrolling();var c=this.hScrollInstance.isScrolling();return{vertical:a,horizontal:c}},_renderhorizontalscroll:function(){var B=this.hScrollInstance;var A=B.value;if(this.hScrollBar.css("visibility")==="hidden"){B.value=0;A=0}var K=parseInt(A);if(this.table==null){return}var E=this.table[0].rows.length;var F=this.columnsrow;var D=this.groupable&&this.groups.length>0?this.groups.length:0;var J=this.columns.records.length-D;var N=this.columns.records;var H=this.dataview.rows.length==0;if(this.rtl){if(this.hScrollBar.css("visibility")!="hidden"){K=B.max-K}}if(H&&!this._haspinned){for(var c=0;c<E;c++){var C=this.table[0].rows[c];for(var z=0;z<D+J;z++){var P=C.cells[z];if(P!=undefined){var M=N[z];if(M.pinned){P.style.marginLeft=K+"px";if(c==0){var O=F[0].cells[z];O.style.marginLeft=K+"px"}}}}}this.table[0].style.marginLeft=-K+"px";F[0].style.marginLeft=-K+"px"}else{if(this._haspinned||this._haspinned==undefined){for(var c=0;c<E;c++){var C=this.table[0].rows[c];for(var z=0;z<D+J;z++){var P=C.cells[z];if(P!=undefined){var M=N[z];if(M.pinned){if(K==0&&P.style.marginLeft==""){continue}var L=null;var a=null;var G=null;if(this.showeverpresentrow&&this.addnewrowtop){if(this.addnewrowtop[0].cells){G=this.addnewrowtop[0].cells[z]}}if(this.showfilterrow&&this.filterrow){if(this.filterrow[0].cells){a=this.filterrow[0].cells[z]}}if(this.showaggregates){if(this.statusbar[0].cells){L=this.statusbar[0].cells[z]}}if(!this.rtl){P.style.marginLeft=K+"px";if(c==0){var O=F[0].cells[z];O.style.marginLeft=K+"px";if(L){L.style.marginLeft=K+"px"}if(a){a.style.marginLeft=K+"px"}if(G){G.style.marginLeft=K+"px"}}}else{P.style.marginLeft=-parseInt(A)+"px";if(c==0){var O=F[0].cells[z];O.style.marginLeft=-parseInt(A)+"px";if(L){L.style.marginLeft=-parseInt(A)+"px"}if(a){a.style.marginLeft=-parseInt(A)+"px"}if(G){G.style.marginLeft=-parseInt(A)+"px"}}}}}}}this.table[0].style.marginLeft=-K+"px";F[0].style.marginLeft=-K+"px"}else{if(this._haspinned==false){this.table[0].style.marginLeft=-K+"px";F[0].style.marginLeft=-K+"px"}}}if(this.showaggregates){if(this.statusbar[0].cells){var I=0;if(this.rtl){if(this.vScrollBar.css("visibility")!="hidden"){if(this.hScrollBar.css("visibility")!="hidden"){I=2+parseInt(this.hScrollBar.css("left"))}}}this.statusbar[0].style.marginLeft=-K+I+"px"}}if(this.showfilterrow&&this.filterrow){if(this.filterrow[0].cells){this.filterrow[0].style.marginLeft=-K+"px"}}if(this.showeverpresentrow&&this.addnewrowtop){if(this.addnewrowtop[0].cells){this.addnewrowtop[0].style.marginLeft=-K+"px"}}},_updaterowdetailsvisibility:function(){if(this.rowdetails){for(var a=0;a<this._rowdetailselementscache.length;a++){d(this._rowdetailselementscache[a]).css("display","none")}}},_getvisualcolumnsindexes:function(B,q,v,s,C,t){if(this.rowdetails||this.rtl||this.editcell||(this.width&&this.width.toString().indexOf("%")>=0)||this.exporting){return{start:0,end:v+s}}var A=0;var u=-1;var z=v+s;var c=false;if(this.autorowheight){return{start:0,end:v+s}}if(!C){for(var w=0;w<v+s;w++){var a=w;if(!c){if(this.columns.records[w].pinned&&t){c=true}}if(!this.columns.records[w].hidden){A+=this.columns.records[w].width}if(A>=B&&u==-1){u=w}if(A>q+B){z=w;break}}}z++;if(z>v+s){z=v+s}if(u==-1||c){u=0}return{start:u,end:z}},_getvirtualcolumnsindexes:function(w,c,s,o,z){if(this.rtl||this.editcell||this.exporting){return{start:0,end:s+o}}var v=0;var q=-1;var u=s+o;if(this.autorowheight){return{start:0,end:s+o}}if(!z){for(var t=0;t<s+o;t++){var a=t;if(!this.columns.records[t].hidden){v+=this.columns.records[t].width}if(v>=w&&q==-1){q=t}if(v>c+w){u=t;break}}}u++;if(u>s+o){u=s+o}if(q==-1){q=0}return{start:q,end:u}},_getfirstvisualrow:function(){var o=this.vScrollInstance;var l=o.value;var n=parseInt(l);if(this._pagescache.length==0){this.dataview.updateview();this._loadrows()}if(this.vScrollBar[0].style.visibility!="visible"){n=0}if(!this.pageable){var q=this._findvisiblerow(n,this._pageviews);if(q==-1){return null}if(q!=this.dataview.pagenum){this.dataview.pagenum=q;this.dataview.updateview();this._loadrows()}else{if(!this._pagescache[this.dataview.pagenum]){this._loadrows()}}}var c=this._findvisiblerow(n,this._pagescache[this.dataview.pagenum]);var a=this._pagescache[this.dataview.pagenum];if(a&&a[0]){return a[c]}},_rendervisualrows:function(){if(!this.virtualsizeinfo){return}var c=this.vScrollInstance;var a8=this.hScrollInstance;var be=c.value;var aT=a8.value;var a9=parseInt(be);var bc=parseInt(aT);var a0=this._gettableheight();var aF=this._hostwidth!=undefined?this._hostwidth:this.host.width();if(this.hScrollBar[0].style.visibility=="visible"){a0+=29}if(this.scrollmode=="deferred"&&this._newmax!=0){if(a9>this._newmax&&this._newmax!=null){a9=this._newmax}}var aE=c.isScrolling()||a8.isScrolling()||this._keydown;var aR=this.groupable&&this.groups.length>0;this.visiblerows=new Array();this.hittestinfo=new Array();if(this.editcell&&this.editrow==undefined){this._hidecelleditor(false)}if(this.editrow!=undefined){this._hideeditors()}if(this.virtualmode&&!this.pageable){this._pagescache=new Array()}if(this._pagescache.length==0){this.dataview.updateview();this._loadrows()}if(this.vScrollBar[0].style.visibility=="hidden"){a9=0}if(!this.pageable){var aB=this._findvisiblerow(a9,this._pageviews);if(aB==-1){this._clearvisualrows();this._renderemptyrow();this._updaterowdetailsvisibility();return}if(aB!=this.dataview.pagenum){this.dataview.pagenum=aB;this.dataview.updateview();this._loadrows()}else{if(!this._pagescache[this.dataview.pagenum]){this._loadrows()}}}var aA=this.groupable&&this.groups.length>0?this.groups.length:0;if(!this.columns.records){return}var a6=this.columns.records.length-aA;var aU=this._findvisiblerow(a9,this._pagescache[this.dataview.pagenum]);var az=this._pagescache[this.dataview.pagenum];var at=aU;if(at<0){at=0}var aP=0;var aW=0;var av=0;var bi=0;var aq=this.virtualsizeinfo.visiblerecords;var aw=this.groupable?this.groups.length:0;var aV=this.toTP("jqx-grid-cell")+" "+this.toTP("jqx-item");if(this.rtl){aV+=" "+this.toTP("jqx-grid-cell-rtl")}if((this.autoheight||this.autorowheight)&&this.pageable){if(!this.groupable||(this.groupable&&this.groups.length===0)){aq=this.dataview.pagesize}}if(aR){aV=" "+this.toTP("jqx-grid-group-cell")}if(this.isTouchDevice()){aV+=" "+this.toTP("jqx-touch")}if(this.autorowheight){aV+=" jqx-grid-cell-wrap"}var ax=this.rowsheight;var aL=at;var aD=this._rendercell;var a3=true;var a7=this._getvisualcolumnsindexes(bc,aF,aA,a6,aR,true);var bj=a7.start;var aY=a7.end;var a4=this._getvirtualcolumnsindexes(bc,aF,aA,a6,aR);var aH=a4.start;var bf=a4.end;var aQ=d.jqx.browser.msie&&d.jqx.browser.version<9;if((this.autoheight||this.pageable)&&this.autorowheight){if(this._pageviews[0]){this._oldpageviewheight=this._pageviews[0].height}}if(this.autorowheight){at=0}if(at>=0){this._updaterowdetailsvisibility();this._startboundindex=az!=null?az[at].bounddata.boundindex:0;this._startvisibleindex=az!=null?az[at].bounddata.visibleindex:0;var aX=this.table[0].rows;if(this.columns.records.length>10&&this.enablecolumnsvirtualization){var aJ=function(h){if(h.parentNode&&h.parentNode.nodeName!="#document-fragment"){return true}return false};for(var aN=0;aN<aX.length;aN++){var bd=aX[aN];for(var ap=0;ap<aH;ap++){var aI=ap;if(this.columns.records[aI].pinned){continue}if(this.columns.records[aI].datafield==null){continue}var aK=bd.cells[aI];if(aJ(aK)){aK.parentNode.removeChild(aK)}var au=this.columns.records[aI].element;if(aJ(au)){this.columnsrow[0].removeChild(au)}if(this.filterrow){if(aJ(this.filterrow[0].cells[aI])&&this.columns.records[aI].filterable){this.filterrow[0].cells[aI].parentNode.removeChild(this.filterrow[0].cells[aI])}}}for(var ap=bf;ap<this.columns.records.length;ap++){var aI=ap;if(this.columns.records[aI].pinned){continue}if(this.columns.records[aI].datafield==null){continue}var aK=bd.cells[aI];if(aJ(aK)){aK.parentNode.removeChild(aK)}var au=this.columns.records[aI].element;if(aJ(au)){this.columnsrow[0].removeChild(au)}if(this.filterrow){if(aJ(this.filterrow[0].cells[aI])&&this.columns.records[aI].filterable){this.filterrow[0].cells[aI].parentNode.removeChild(this.filterrow[0].cells[aI])}}}for(var ap=aH;ap<bf;ap++){var aI=ap;var aK=bd.cells[aI];if(!aJ(aK)){bd.appendChild(aK)}var au=this.columns.records[aI].element;if(!aJ(au)){this.columnsrow[0].appendChild(au)}if(this.filterrow&&!aJ(this.filterrow[0].cells[aI])&&this.columns.records[aI].filterable){this.filterrow[0].firstChild.appendChild(this.filterrow[0].cells[aI])}}}}for(var ba=0;ba<aq&&aW<aq;ba++){var aS=az!=undefined?az[at+ba]:null;if(aS==null){at=-ba;if(this._pagescache[this.dataview.pagenum+1]){az=this._pagescache[this.dataview.pagenum+1];this.dataview.pagenum++}else{var a5=this._pageviews.length;do{if(this.dataview.pagenum<this._pageviews.length-1){this.dataview.pagenum++;az=undefined;if(this._pageviews[this.dataview.pagenum].height>0){this.dataview.updateview();this._loadrows();az=this._pagescache[this.dataview.pagenum]}}else{az=undefined;break}}while(az==undefined&&this.dataview.pagenum<a5)}if(az!=undefined){aS=az[at+ba]}}if(aS!=null){if(aS.hidden){continue}this._endboundindex=this._startboundindex+ba;this._endvisibleindex=this._startvisibleindex+ba;if(ba==0){var bb=Math.abs(a9-aS.top);this.table[0].style.top=-bb+"px";bi=-bb}var bd=this.table[0].rows[aW];if(!bd){continue}if(parseInt(bd.style.height)!=aS.height){bd.style.height=parseInt(aS.height)+"px"}av+=aS.height;var an=this.rowdetails&&aS.rowdetails;var a1=!aS.rowdetailshidden;if(an&&a1){bd.style.height=parseInt(aS.height-aS.rowdetailsheight)+"px";aq++}var aC=this._isrowselected(a3,aS);for(var ap=bj;ap<aY;ap++){var aI=ap;this._rendervisualcell(aD,aV,aC,an,a1,aR,aw,bd,aS,aI,aW,aE)}if(aS.group!=undefined&&this._rendergroup){this._rendergroup(aw,bd,aS,aA,a6,aW,aF)}if(this.autorowheight&&(this.autoheight||this.pageable)){var ax=this.rowsheight;for(var ap=bj;ap<aY;ap++){if(this.editable&&this.editcell&&this.editcell.column==this.columns.records[ap].datafield&&this.editcell.row==this.getboundindex(aS)){if(this.editcell.editor){ax=Math.max(ax,this.editcell.editor.height());continue}}if(bd.cells[ap].firstChild){ax=Math.max(ax,8+parseInt(bd.cells[ap].firstChild.offsetHeight))}}bd.style.height=parseInt(ax)+"px";this.heights[this._startboundindex+ba]=ax;if(an&&a1){ax+=aS.rowdetailsheight}aS.height=ax}this.visiblerows[this.visiblerows.length]=aS;this.hittestinfo[this.hittestinfo.length]={row:aS,visualrow:bd,details:false};if(an&&a1){aW++;var bd=this.table[0].rows[aW];this._renderrowdetails(aV,bd,aS,aA,a6,aW);this.visiblerows[this.visiblerows.length]=aS;this.hittestinfo[this.hittestinfo.length]={row:aS,visualrow:bd,details:true}}if(!this.autorowheight){if(av+bi>=a0){break}}}else{cansetheight=true;this._clearvisualrow(bc,aR,aW,aA,a6);if(av+aP+bi<=a0){aP+=ax}}aW++}this._horizontalvalue=bc;if(aP>0){if(this.vScrollBar[0].style.visibility=="visible"){var aG=parseInt(this.table.css("top"));var aM=this._pageviews[this._pageviews.length-1];var a2=c.max;var aO=aM.top+aM.height-a0;if(this.hScrollBar.css("visibility")=="visible"){aO+=this.scrollbarsize+20}if(a2!=aO&&!this.autorowheight){if(aO>=0){if(this.scrollmode!="deferred"){c.max=aO;c.setPosition(c.max)}else{if(this._newmax!=aO){this._newmax=aO;this._rendervisualrows()}}}}}}}if((this.autoheight||this.pageable)&&this.autorowheight){this._pagescache=new Array();var ao=0;var bg=0;for(var aN=0;aN<this.visiblerows.length;aN++){var aZ=this.visiblerows[aN];aZ.top=ao;ao+=aZ.height;bg+=aZ.height;var an=this.rowdetails&&aZ.rowdetails;var a1=!aZ.rowdetailshidden;var bd=this.table[0].rows[aN];if(an&&a1){aN++}for(var ap=bj;ap<aY;ap++){var a=this.columns.records[ap];if(!a.hidden){if(!a.cellsrenderer){var ay=bd.cells[ap];var bh=0;if(ay.firstChild){var bh=(aZ.height-parseInt(ay.firstChild.offsetHeight)-8)/2;if(an&&a1){var bh=(aZ.height-aZ.rowdetailsheight-d(ay.firstChild).height()-8)/2}}else{var bh=(aZ.height-parseInt(d(ay).height())-8)/2}if(bh>=0){bh=parseInt(bh)+4;if(ay.firstChild){if(ay.firstChild.className.indexOf("jqx-grid-groups-row")==-1){if(a.columntype!="checkbox"&&a.columntype!="button"){if(this.editable&&this.editcell&&this.editcell.column==a.datafield&&this.editcell.row==this.getboundindex(aZ)){continue}ay.firstChild.style.marginTop=bh+"px"}}}}}}}}if(this._pageviews[0]){this._pageviews[0].height=bg}this._arrange()}this._renderemptyrow();if(this.toCompile&&this.toCompile.length>0){var ar=this;d.each(ar.toCompile,function(n,l){if(this.compiled){return true}var h=this.cell;if(!h){return true}if(d.jqx.angularCompile){d.jqx.angularCompile(h,"<div>"+this.value+"</div>")}this.compiled=true})}},_hideemptyrow:function(){if(!this.showemptyrow){return}if(!this.table){return}if(!this.table[0].rows){return}var c=this.table[0].rows[0];if(!c){return}var a=false;for(var h=0;h<c.cells.length;h++){var l=d(c.cells[h]);if(l.css("display")!="none"&&!a){if(l.width()==this.host.width()||l.text()==this.gridlocalization.emptydatastring){l[0].checkbox=null;l[0].button=null;a=true;l[0].innerHTML=""}}}},_renderemptyrow:function(){if(this._loading){return}if(this.dataview.records.length==0&&this.showemptyrow){var a=false;var t=this.toTP("jqx-grid-cell");if(this.table&&this.table.length>0&&this.table[0].rows&&this.table[0].rows.length>0){var c=this.table[0].rows[0];this.table[0].style.top="0px";for(var s=0;s<c.cells.length;s++){var u=d(c.cells[s]);if(u.css("display")!="none"&&!a){u[0].checkbox=null;u[0].button=null;u[0].className=t;a=true;u[0].innerHTML="";var q=d("<span style='white-space: nowrap; float: left; margin-left: 50%; position: relative;'></span>");q.text(this.gridlocalization.emptydatastring);u.append(q);var n=0;if(!this.oldhscroll){n=parseInt(this.table[0].style.marginLeft);if(this.rtl){u.css("z-index",999);u.css("overflow","visible")}}q.css("left",-n-(q.width()/2));q.css("top",this._gettableheight()/2-q.height()/2);if(d.jqx.browser.msie&&d.jqx.browser.version<8){q.css("margin-left","0px");q.css("left",this.host.width()/2-q.width()/2)}var o=Math.abs(parseInt(this.table[0].style.top));if(isNaN(o)){o=0}d(c).height(this._gettableheight()+o);u.css("margin-left","0px");u.width(this.host.width());if(this.table.width()<this.host.width()){this.table.width(this.host.width())}}u.addClass(this.toThemeProperty("jqx-grid-empty-cell"))}}}},_clearvisualrows:function(){var o=this.virtualsizeinfo.visiblerecords;var n=this.hScrollInstance;var q=n.value;var l=parseInt(q);var a=this.groupable&&this.groups.length>0;if(!this.columns.records){return}for(var c=0;c<o;c++){this._clearvisualrow(l,a,c,0,this.columns.records.length)}},_iscellselected:function(a,c,n){var o=false;var q=0;if(this.virtualmode&&this.pageable&&this.groupable){if(this.groups.length>0){q=this.dataview.pagesize*this.dataview.pagenum}}if(this.groups.length>0&&this.pageable&&this.groupable){var s=this.getrowboundindexbyid(c.bounddata.uid);for(var l in this.selectedcells){if(l==s+"_"+n){o=true}}return o}if(a&&c.bounddata!=null){if(this.selectionmode!="singlerow"){if(this.dataview.filters.length>0){if(!this.virtualmode&&c.bounddata.dataindex!=undefined){for(var l in this.selectedcells){if(l==q+c.bounddata.dataindex+"_"+n){o=true}}}else{for(var l in this.selectedcells){if(l==q+c.bounddata.boundindex+"_"+n){o=true}}}}else{for(var l in this.selectedcells){if(l==q+c.bounddata.boundindex+"_"+n){o=true;break}}}}else{if(this.dataview.filters.length>0){if(!this.virtualmode&&c.bounddata.dataindex!=undefined){for(var l in this.selectedcells){if(l==q+c.bounddata.dataindex+"_"+n){o=true;break}}}else{for(var l in this.selectedcells){if(l==q+c.bounddata.boundindex+"_"+n){o=true;break}}}}else{for(var l in this.selectedcells){if(l==q+c.bounddata.boundindex==this.selectedrowindex){o=true;break}}}}}return o},_isrowselected:function(a,c){var l=false;var n=0;if(this.virtualmode&&this.pageable&&this.groupable){if(this.groups.length>0){n=this.dataview.pagesize*this.dataview.pagenum}}if(this.groupable&&this.groups.length>0&&this.pageable){var o=this.getrowboundindexbyid(c.bounddata.uid);if(o==undefined||o==-1){return false}if(this.selectedrowindexes.indexOf(o)!=-1){l=true}if(!l){l=o==this.selectedrowindex&&this.selectedrowindex!=-1}return l}if(a&&c.bounddata!=null){if(this.selectionmode!="singlerow"){if(this.dataview.filters.length>0){if(!this.virtualmode&&c.bounddata.dataindex!=undefined){if(this.selectedrowindexes.indexOf(n+c.bounddata.dataindex)!=-1){l=true}}else{if(this.selectedrowindexes.indexOf(n+c.bounddata.boundindex)!=-1){l=true}}}else{if(this.selectedrowindexes.indexOf(n+c.bounddata.boundindex)!=-1){l=true}}}else{if(this.dataview.filters.length>0){if(!this.virtualmode&&c.bounddata.dataindex!=undefined){if(this.selectedrowindexes.indexOf(n+c.bounddata.dataindex)!=-1){l=true}}else{if(this.selectedrowindexes.indexOf(n+c.bounddata.boundindex)!=-1){l=true}}}else{if(n+c.bounddata.boundindex==this.selectedrowindex){l=true}}}}return l},_rendervisualcell:function(a,P,I,N,E,A,O,H,U,Q,F,K){var S=null;var R=this.columns.records[Q];if(R.hidden){var T=H.cells[Q];T.innerHTML="";return}cellvalue=this._getcellvalue(R,U);var T=H.cells[Q];var B=P;if(this.selectionmode.indexOf("cell")!=-1){if(this.dataview.filters.length>0){if(this.selectedcells[U.bounddata.dataindex+"_"+R.datafield]){I=true}else{I=false}}else{if(this.selectedcells[U.boundindex+"_"+R.datafield]){I=true}else{I=false}}if(this.editcell){if(this.editcell.row===U.boundindex&&this.editcell.column===R.datafield){if(R.columntype!=="checkbox"){I=false}}}if(this.virtualmode||(this.groupable&&this.groups.length>0&&this.pageable)){I=this._iscellselected(true,U,R.datafield)}}if(R.cellclassname!=""&&R.cellclassname){if(typeof R.cellclassname=="string"){B+=" "+R.cellclassname}else{var L=R.cellclassname(this.getboundindex(U),R.datafield,cellvalue,U.bounddata);if(L){B+=" "+L}}}var J=this.showsortcolumnbackground&&this.sortcolumn&&R.displayfield==this.sortcolumn;if(J){B+=" "+this.toTP("jqx-grid-cell-sort")}if(R.filter&&this.showfiltercolumnbackground){B+=" "+this.toTP("jqx-grid-cell-filter")}if((R.pinned&&this.showpinnedcolumnbackground)||R.grouped){if(A){B+=" "+this.toTP("jqx-grid-cell-pinned")}else{B+=" "+this.toTP("jqx-grid-cell-pinned")}}if(this.altrows&&U.group==undefined){var c=U.visibleindex;if(c>=this.altstart){if((this.altstart+c)%(1+this.altstep)==0){if(!J){B+=" "+this.toTP("jqx-grid-cell-alt")}else{B+=" "+this.toTP("jqx-grid-cell-sort-alt")}if(R.filter&&this.showfiltercolumnbackground){B+=" "+this.toTP("jqx-grid-cell-filter-alt")}if(R.pinned&&this.showpinnedcolumnbackground){B+=" "+this.toTP("jqx-grid-cell-pinned-alt")}}}}if(Q<=O){if(A||this.rowdetails){var D=d(T);var M=this.columns.records[Q].width;if(T.style.width!=parseInt(M)+"px"){D.width(M)}}}else{if(A||this.rowdetails){if(this._hiddencolumns){var D=d(T);var M=this.columns.records[Q].width;if(parseInt(T.style.width)!=M){D.width(M)}}}}var C=true;if(this.rowdetails&&N){if(E&&!A){B+=" "+this.toTP("jqx-grid-details-cell")}else{if(A){B+=" "+this.toTP("jqx-grid-group-details-cell")}}if(this.showrowdetailscolumn){if(!this.rtl){if(U.group==undefined&&Q==O){var G=this.toThemeProperty("jqx-icon-arrow-down");if(E){B+=" "+this.toTP("jqx-grid-group-expand");B+=" "+G}else{B+=" "+this.toTP("jqx-grid-group-collapse");var G=this.toThemeProperty("jqx-icon-arrow-right");B+=" "+G}C=false;T.title="";T.innerHTML="";if(T.className!=B){T.className=B}return}}else{if(U.group==undefined&&Q==H.cells.length-O-1){var G=this.toThemeProperty("jqx-icon-arrow-down");if(E){B+=" "+this.toTP("jqx-grid-group-expand-rtl");B+=" "+G}else{B+=" "+this.toTP("jqx-grid-group-collapse-rtl");var G=this.toThemeProperty("jqx-icon-arrow-left");B+=" "+G}C=false;T.title="";T.innerHTML="";if(T.className!=B){T.className=B}return}}}}if(I&&C&&Q>=O){B+=" "+this.toTP("jqx-grid-cell-selected");B+=" "+this.toTP("jqx-fill-state-pressed")}if(T.className!=B){T.className=B}if(U.group!=undefined){cellvalue="";T.title="";T.innerHTML="";return}a(this,R,U,cellvalue,T,K)},_rendercell:function(a,K,G,v,M,z){var J=v+"_"+K.visibleindex;if(K.columntype=="number"||K.cellsrenderer!=null){var J=G.uniqueid+"_"+K.visibleindex}if(K.columntype=="number"){v=G.visibleindex}if(a.editcell&&a.editrow==undefined){if(a.editmode=="selectedrow"&&K.editable&&a.editable){if(a.editcell.row==a.getboundindex(G)){if(a._showcelleditor){if(!a.hScrollInstance.isScrolling()&&!a.vScrollInstance.isScrolling()){a._showcelleditor(a.editcell.row,K,M,a.editcell.init)}else{a._showcelleditor(a.editcell.row,K,M,false,false)}return}}}else{if(a.editcell.row==a.getboundindex(G)&&a.editcell.column==K.datafield){a.editcell.element=M;if(a.editcell.editing){if(a._showcelleditor){if(!a.hScrollInstance.isScrolling()&&!a.vScrollInstance.isScrolling()){a._showcelleditor(a.editcell.row,K,a.editcell.element,a.editcell.init)}else{a._showcelleditor(a.editcell.row,K,a.editcell.element,a.editcell.init,false)}return}}}}}var w=a._defaultcellsrenderer(v,K);var C=a._cellscache[J];if(C){if(K.columntype=="checkbox"){if(a.host.jqxCheckBox){if(v===""){v=null}var D=M.innerHTML.toString().length==0;if(M.checkbox&&!a.groupable&&!D){M.checkboxrow=a.getboundindex(G);if(v==""){v=false}if(v=="1"){v=true}if(v=="0"){v=false}if(v==1){v=true}if(v==0){v=false}if(v=="true"){v=true}if(v=="false"){v=false}if(v==null&&!K.threestatecheckbox){v=false}if(K.checkboxcolumn){v=false;if(a.dataview.filters.length>0&&!a.virtualmode&&G.bounddata.dataindex!=undefined){if(a.selectedrowindexes.indexOf(G.bounddata.dataindex)!=-1){v=true}}else{if(a.selectedrowindexes.indexOf(G.bounddata.boundindex)!=-1){v=true}}}if(!a.disabled){if(M.checkboxinstance){M.checkboxinstance._setState(v)}else{M.checkbox.jqxCheckBox("_setState",v)}}}else{a._rendercheckboxcell(a,M,K,G,v)}if(K.cellsrenderer!=null){var I=K.cellsrenderer(a.getboundindex(G),K.datafield,v,w,K.getcolumnproperties(),G.bounddata);if(I!=undefined){M.innerHTML=I}}return}}else{if(K.columntype=="button"){if(a.host.jqxButton){if(v==""){v=false}if(K.cellsrenderer!=null){v=K.cellsrenderer(a.getboundindex(G),K.datafield,v,w,K.getcolumnproperties(),G.bounddata)}if(M.innerHTML==""){M.buttonrow=a.getboundindex(G);M.button=null;a._renderbuttoncell(a,M,K,G,v)}if(M.button&&!a.groupable){M.buttonrow=a.getboundindex(G);M.button.val(v)}else{a._renderbuttoncell(a,M,K,G,v)}return}}}if(K.createwidget){if(M.innerHTML==""){M.widgetrow=a.getboundindex(G);M.widget=null;a._renderwidgetcell(a,M,K,G,v)}if(M.widget&&!a.groupable){M.widgetrow=a.getboundindex(G);if(K.initwidget){K.initwidget(a.getboundindex(G),K.datafield,v,M.firstChild)}else{throw new Error("jqxGrid: 'initwidget' column function is not implemented. Please, implement 'initwidget'")}}else{a._renderwidgetcell(a,M,K,G,v)}return}var c=C.element;if(K.cellsrenderer!=null||(M.childNodes&&M.childNodes.length==0)||a.groupable||a.rowdetails){if(M.innerHTML!=c){M.innerHTML=c}}else{if(M.innerHTML.indexOf("editor")>=0){M.innerHTML=c}else{if(z){var B=c.indexOf(">");var E=c.indexOf("</");var A=c.substring(B+1,E);var H=M.childNodes[0];if(A.indexOf(">")>=0){M.innerHTML=c}else{if(H.childNodes[0]){if(A!=H.childNodes[0].nodeValue){if(A.indexOf("&")>=0){M.innerHTML=c}else{H.childNodes[0].nodeValue=A}}}else{var L=document.createTextNode(A);H.appendChild(L)}}}else{if(M.innerHTML!=c){M.innerHTML=c}}}}if(a.enabletooltips&&K.enabletooltips){M.title=C.title}return}if(K.columntype=="checkbox"){a._rendercheckboxcell(a,M,K,G,v);a._cellscache[J]={element:"",title:v};if(a.enabletooltips&&K.enabletooltips){M.title=v}return}else{if(K.columntype=="button"){if(K.cellsrenderer!=null){v=K.cellsrenderer(a.getboundindex(G),K.datafield,v,w,K.getcolumnproperties(),G.bounddata)}a._renderbuttoncell(a,M,K,G,v);a._cellscache[J]={element:"",title:v};if(a.enabletooltips&&K.enabletooltips){M.title=v}return}else{if(K.columntype=="number"){v=G.visibleindex}}}if(K.createwidget){if(K.cellsrenderer!=null){v=K.cellsrenderer(a.getboundindex(G),K.datafield,v,w,K.getcolumnproperties(),G.bounddata)}a._renderwidgetcell(a,M,K,G,v);a._cellscache[J]={element:"",title:v};if(a.enabletooltips&&K.enabletooltips){M.title=v}return}var c=null;if(K.cellsrenderer!=null){c=K.cellsrenderer(a.getboundindex(G),K.datafield,v,w,K.getcolumnproperties(),G.bounddata);if(c&&(c.indexOf("<jqx-")>=0||c.indexOf(" ng-")>=0)){if(a.toCompile){a.toCompile.push({cell:M,value:c,row:a.getboundindex(G)})}return}}else{c=w}if(c==null){c=w}var F=v;if(a.enabletooltips&&K.enabletooltips){if(K.cellsformat!=""){if(d.jqx.dataFormat){if(d.jqx.dataFormat.isDate(v)){F=d.jqx.dataFormat.formatdate(F,K.cellsformat,a.gridlocalization)}else{if(d.jqx.dataFormat.isNumber(v)){F=d.jqx.dataFormat.formatnumber(F,K.cellsformat,a.gridlocalization)}}}}M.title=F}if(a.WinJS){d(M).html(c)}else{if(M.innerHTML!=c){M.innerHTML=c}}a._cellscache[J]={element:M.innerHTML,title:F};return true},_isIE10:function(){if(this._browser==undefined){var a=d.jqx.utilities.getBrowser();if(a.browser=="msie"&&parseInt(a.version)>9){this._browser=true}else{this._browser=false;if(a.browser=="msie"){var c="Browser CodeName: "+navigator.appCodeName+"";c+="Browser Name: "+navigator.appName+"";c+="Browser Version: "+navigator.appVersion+"";c+="Platform: "+navigator.platform+"";c+="User-agent header: "+navigator.userAgent+"";if(c.indexOf("Zune 4.7")!=-1){this._browser=true}}}}return this._browser},_renderinlinecell:function(n,q,o,a,l){var c=d(q);q.innerHTML='<div style="position: absolute;"></div>'},_rendercheckboxcell:function(o,s,q,a,n){if(o.host.jqxCheckBox){var c=d(s);if(n===""){if(q.threestatecheckbox){n=null}else{n=false}}if(n===null&&!q.threestatecheckbox){n=false}if(n=="1"){n=true}if(n=="0"){n=false}if(n==1){n=true}if(n==0){n=false}if(n=="true"){n=true}if(n=="false"){n=false}if(q.checkboxcolumn){n=false;var t=this.getboundindex(a);if(this.selectedrowindexes.indexOf(t)!=-1){n=true}}if(c.find(".jqx-checkbox").length==0){s.innerHTML='<div style="position: absolute; top: 50%; left: 50%; margin-top: -7px; margin-left: -10px;"></div>';d(s.firstChild).jqxCheckBox({disabled:o.disabled,_canFocus:false,hasInput:false,hasThreeStates:q.threestatecheckbox,enableContainerClick:false,animationShowDelay:0,animationHideDelay:0,locked:true,theme:o.theme,checked:n});if(this.editable&&q.editable){d(s.firstChild).jqxCheckBox({locked:false})}if(q.checkboxcolumn){d(s.firstChild).jqxCheckBox({locked:false})}s.checkbox=d(s.firstChild);s.checkboxinstance=s.checkbox.data().jqxCheckBox.instance;s.checkboxrow=this.getboundindex(a);var l=d.data(s.firstChild,"jqxCheckBox").instance;l.updated=function(C,F,B){if(o.disabled){F=B;var w=o.table[0].rows.length;var h=o._getcolumnindex(q.datafield);for(var z=0;z<w;z++){var A=o.table[0].rows[z].cells[h].firstChild;if(A){d(A).jqxCheckBox({disabled:o.disabled})}}}if(q.editable&&!o.disabled){var w=o.table[0].rows.length;var h=o._getcolumnindex(q.datafield);if(o.editrow==undefined){if(q.cellbeginedit){var D=q.cellbeginedit(s.checkboxrow,q.datafield,q.columntype,!F);if(D==false){o.setcellvalue(s.checkboxrow,q.datafield,!F,true);return}}if(q.cellvaluechanging){var E=q.cellvaluechanging(s.checkboxrow,q.datafield,q.columntype,B,F);if(E!=undefined){F=E}}if(o.editmode!=="selectedrow"){for(var z=0;z<w;z++){var A=o.table[0].rows[z].cells[h].firstChild;if(A){d(A).jqxCheckBox("destroy")}}}if(o.editcell&&o.editcell.validated==false){o.setcellvalue(s.checkboxrow,q.datafield,!F,true)}else{if(o.editmode!=="selectedrow"||o.editcell==null){var v=o.getrowdata(s.checkboxrow);o._raiseEvent(17,{rowindex:s.checkboxrow,row:v,datafield:q.datafield,value:B,columntype:q.columntype});o.setcellvalue(s.checkboxrow,q.datafield,F,true);o._raiseEvent(18,{rowindex:s.checkboxrow,row:v,datafield:q.datafield,oldvalue:B,value:F,columntype:q.columntype})}else{o.setcellvalue(s.checkboxrow,q.datafield,F,false,false)}}if(q.cellendedit){q.cellendedit(s.checkboxrow,q.datafield,q.columntype,F)}}}else{if(q.checkboxcolumn){if(o.editcell){o.endcelledit(o.editcell.row,o.editcell.column,false,true)}if(!o.disabled){if(F){o.selectrow(s.checkboxrow)}else{o.unselectrow(s.checkboxrow)}if(o.autosavestate){if(o.savestate){o.savestate()}}}}}}}else{s.checkboxrow=this.getboundindex(a);d(s.firstChild).jqxCheckBox("_setState",n,!(this.editable&&q.editable)&&!q.checkboxcolumn)}}},_renderwidgetcell:function(o,s,q,c,n){var l=d(s);if(l.find(".jqx-grid-widget").length==0){var a='<div class="jqx-grid-widget" style="opacity: 0.99; position: absolute; width: 100%; height:100%; top: 0%; left: 0%; padding: 0px;"></div>';s.innerHTML=a;q.createwidget(c,q,n,s.firstChild);d(s.firstChild).attr("hideFocus","true");d(s.firstChild).children().addClass("jqx-grid-widget");s.widget=d(s.firstChild);s.widgetrow=o.getboundindex(c)}else{q.initwidget(c,q,n,s.firstChild);s.widgetrow=o.getboundindex(c);d(s.firstChild).val(n)}},_renderbuttoncell:function(n,s,o,a,l){if(n.host.jqxButton){var c=d(s);if(l==""){l=false}if(c.find(".jqx-button").length==0){s.innerHTML='<input type="button" style="opacity: 0.99; position: absolute; top: 0%; left: 0%; padding: 0px; margin-top: 2px; margin-left: 2px;"/>';d(s.firstChild).val(l);d(s.firstChild).attr("hideFocus","true");d(s.firstChild).jqxButton({disabled:n.disabled,theme:n.theme,height:n.rowsheight-4,width:o.width-4});s.button=d(s.firstChild);s.buttonrow=n.getboundindex(a);var t=this.isTouchDevice();if(t){var q=d.jqx.mobile.getTouchEventName("touchend");n.addHandler(d(s.firstChild),q,function(h){if(o.buttonclick){o.buttonclick(s.buttonrow,h)}})}else{n.addHandler(d(s.firstChild),"click",function(h){if(o.buttonclick){o.buttonclick(s.buttonrow,h)}})}}else{s.buttonrow=n.getboundindex(a);d(s.firstChild).val(l)}}},_clearvisualrow:function(z,A,c,v,q){var s=this.toTP("jqx-grid-cell");if(A){s=" "+this.toTP("jqx-grid-group-cell")}s+=" "+this.toTP("jqx-grid-cleared-cell");var a=this.table[0].rows;for(var u=0;u<v+q;u++){if(a[c]){var B=a[c].cells[u];if(B.className!=s){B.className=s}var C=this.columns.records[u];if(this._horizontalvalue!=z&&!C.pinned){if(this.oldhscroll==true){var w=-z;B.style.marginLeft=-z+"px"}}var t=C.width;if(t<C.minwidth){t=C.minwidth}if(t>C.maxwidth){t=C.maxwidth}if(parseInt(B.style.width)!=t){if(t!="auto"){d(B)[0].style.width=t+"px"}else{d(B)[0].style.width=t}}if(B.title!=""){B.title=""}if(B.innerHTML!=""){B.innerHTML=""}}}if(a[c]){if(parseInt(a[c].style.height)!=this.rowsheight){a[c].style.height=parseInt(this.rowsheight)+"px"}}},_findgroupstate:function(a){var c=this._findgroup(a);if(c==null){return false}return c.expanded},_findgroup:function(a){var c=null;if(this.expandedgroups[a]){return this.expandedgroups[a]}return c},_clearcaches:function(){this._columnsbydatafield=new Array();this._pagescache=new Array();this._pageviews=new Array();this._cellscache=new Array();this.heights=new Array();this.hiddens=new Array();this.hiddenboundrows=new Array();this.heightboundrows=new Array();this.detailboundrows=new Array();this.details=new Array();this.expandedgroups=new Array();this._rowdetailscache=new Array();this._rowdetailselementscache=new Array();if(d.jqx.dataFormat){d.jqx.dataFormat.cleardatescache()}this.tableheight=null},_getColumnText:function(h){if(this._columnsbydatafield==undefined){this._columnsbydatafield=new Array()}if(this._columnsbydatafield[h]){return this._columnsbydatafield[h]}var a=h;var c=null;d.each(this.columns.records,function(){if(this.datafield==h||this.displayfield==h){a=this.text;c=this;return false}});this._columnsbydatafield[h]={label:a,column:c};return this._columnsbydatafield[h]},_getcolumnbydatafield:function(h){if(this.__columnsbydatafield==undefined){this.__columnsbydatafield=new Array()}if(this.__columnsbydatafield[h]){return this.__columnsbydatafield[h]}var a=h;var c=null;d.each(this.columns.records,function(){if(this.datafield==h||this.displayfield==h){a=this.text;c=this;return false}});this.__columnsbydatafield[h]=c;return this.__columnsbydatafield[h]},isscrollingvertically:function(){var a=(this.vScrollBar.jqxScrollBar("isScrolling"));return a},_renderrowdetails:function(O,c,ab,s,S,P){if(c==undefined){return}var I=d(c);var Y=0;var J=this.rowdetails&&this.showrowdetailscolumn?(1+this.groups.length)*this.groupindentwidth:(this.groups.length)*this.groupindentwidth;if(this.groupable&&this.groups.length>0){for(var M=0;M<=S;M++){var aa=d(c.cells[M]);aa[0].innerHTML="";aa[0].className="jqx-grid-details-cell"}}var aa=d(c.cells[Y]);if(aa[0].style.display=="none"){var R=c.cells[Y];var N=2;var T=Y;while(R!=undefined&&R.style.display=="none"&&N<10){R=c.cells[T+N-1];N++}aa=d(R)}if(this.rtl){for(var G=s;G<S;G++){c.cells[G].innerHTML="";c.cells[G].className="jqx-grid-details-cell"}}aa.css("width","100%");I.height(ab.rowdetailsheight);aa[0].className=O;var Q=this.getboundindex(ab);var V=Q+"_";if(this._rowdetailscache[V]){var H=this._rowdetailscache[V];var L=H.html;if(this.initrowdetails){if(this._rowdetailscache[V].element){var Z=this._rowdetailscache[V].element;var W=aa.coord();var a=this.gridcontent.coord();var F=parseInt(W.top)-parseInt(a.top);var U=parseInt(W.left)-parseInt(a.left);if(this.rtl){U=0}d(Z).css("top",F);d(Z).css("left",U);d(Z).css("display","block");d(Z).width(this.host.width()-J);if(this.layoutrowdetails){this.layoutrowdetails(Q,Z,this.element,this.getrowdata(Q))}}}else{aa[0].innerHTML=L}return}aa[0].innerHTML="";if(!this.enablerowdetailsindent){J=0}var X='<div class="jqx-enableselect" role="rowgroup" style="border: none; overflow: hidden; width: 100%; height: 100%; margin-left: '+J+'px;">'+ab.rowdetails+"</div>";if(this.rtl){var X='<div class="jqx-enableselect" role="rowgroup" style="border: none; overflow: hidden; width: 100%; height: 100%; margin-left: '+0+"px; margin-right: "+J+'px;">'+ab.rowdetails+"</div>"}this._rowdetailscache[V]={id:c.id,html:X};if(this.initrowdetails){var Z=d(X)[0];d(this.gridcontent).prepend(d(Z));d(Z).css("position","absolute");d(Z).width(this.host.width()-J);d(Z).height(aa.height());var W=aa.coord();d(Z).css("z-index",9999);if(this.isTouchDevice()){d(Z).css("z-index",99999)}d(Z).addClass(this.toThemeProperty("jqx-widget-content"));var W=aa.coord();var a=this.gridcontent.coord();var F=parseInt(W.top)-parseInt(a.top);var U=parseInt(W.left)-parseInt(a.left);d(Z).css("top",F);d(Z).css("left",U);this.content[0].scrollTop=0;this.content[0].scrollLeft=0;var K=d(d(Z).children()[0]);if(K[0].id!=""){K[0].id=K[0].id+Q}this.initrowdetails(Q,Z,this.element,this.getrowdata(Q));this._rowdetailscache[V].element=Z;this._rowdetailselementscache[Q]=Z}else{aa[0].innerHTML=X}},_defaultcellsrenderer:function(a,h){if(h.cellsformat!=""){if(d.jqx.dataFormat){if(d.jqx.dataFormat.isDate(a)){a=d.jqx.dataFormat.formatdate(a,h.cellsformat,this.gridlocalization)}else{if(d.jqx.dataFormat.isNumber(a)){a=d.jqx.dataFormat.formatnumber(a,h.cellsformat,this.gridlocalization)}}}}var c="4px";if(this.rowsheight!=25){c=(this.rowsheight/2-this._cellheight/2);if(c<0){c=4}c+="px"}if(this.enableellipsis){if(h.cellsalign=="center"||h.cellsalign=="middle"){return'<div class="jqx-grid-cell-middle-align" style="margin-top: '+c+';">'+a+"</div>"}if(h.cellsalign=="left"){return'<div class="jqx-grid-cell-left-align" style="margin-top: '+c+';">'+a+"</div>"}if(h.cellsalign=="right"){return'<div class="jqx-grid-cell-right-align" style="margin-top: '+c+';">'+a+"</div>"}}if(h.cellsalign=="center"||h.cellsalign=="middle"){return'<div style="text-align: center; margin-top: '+c+';">'+a+"</div>"}return'<span style="margin-left: 4px; margin-right: 2px; margin-top: '+c+"; float: "+h.cellsalign+';">'+a+"</span>"},getcelltext:function(a,h){if(a==null||h==null){return null}var l=this.getcellvalue(a,h);var c=this.getcolumn(h);if(c&&c.cellsformat!=""){if(d.jqx.dataFormat){if(d.jqx.dataFormat.isDate(l)){l=d.jqx.dataFormat.formatdate(l,c.cellsformat,this.gridlocalization)}else{if(d.jqx.dataFormat.isNumber(l)){l=d.jqx.dataFormat.formatnumber(l,c.cellsformat,this.gridlocalization)}}}}return l},getcelltextbyid:function(a,h){if(a==null||h==null){return null}var l=this.getcellvaluebyid(a,h);var c=this.getcolumn(h);if(c&&c.cellsformat!=""){if(d.jqx.dataFormat){if(d.jqx.dataFormat.isDate(l)){l=d.jqx.dataFormat.formatdate(l,c.cellsformat,this.gridlocalization)}else{if(d.jqx.dataFormat.isNumber(l)){l=d.jqx.dataFormat.formatnumber(l,c.cellsformat,this.gridlocalization)}}}}return l},_getcellvalue:function(h,a){var c=null;c=a.bounddata[h.datafield];if(h.displayfield!=null){c=a.bounddata[h.displayfield]}if(c==null){c=""}return c},getcell:function(a,o){if(a==null||o==null){return null}var n=parseInt(a);var c=a;var l="";if(!isNaN(n)){c=this.getrowdata(n)}if(c!=null){l=c[o]}return this._getcellresult(l,a,o)},getrenderedcell:function(a,o){if(a==null||o==null){return null}var n=parseInt(a);var c=a;var l="";if(!isNaN(n)){c=this.getrenderedrowdata(n)}if(c!=null){l=c[o]}return this._getcellresult(l,a,o)},_getcellresult:function(q,a,z){var w=this.getcolumn(z);if(w==null||w==undefined){return null}var t=w.getcolumnproperties();var v=t.hidden;var A=t.width;var c=t.pinned;var u=t.cellsalign;var s=t.cellsformat;var o=this.getrowheight(a);if(o==false){return null}return{value:q,row:a,column:z,datafield:z,width:A,height:o,hidden:v,pinned:c,align:u,format:s}},setcellvaluebyid:function(a,q,c,n,l){var o=this.getrowboundindexbyid(a);return this.setcellvalue(o,q,c,n,l)},getcellvaluebyid:function(a,h){var c=this.getrowboundindexbyid(a);return this.getcellvalue(c,h)},setcellvalue:function(ao,Y,W,c,at){if(ao==null||Y==null){return false}var au=parseInt(ao);var ak=au;var ab=ao;if(!isNaN(au)){ab=this.getrowdata(au)}var Q=false;if(this.filterable&&this._initfilterpanel&&this.dataview.filters.length){Q=true}if(this.virtualmode){this._pagescache=new Array()}if(this.sortcache){this.sortcache={}}var an="";var ay="";if(ab!=null&&ab[Y]!==W){if(ab[Y]===null&&W===""){return}var V=this._getcolumnbydatafield(Y);var a="string";var ai=this.source.datafields||((this.source._source)?this.source._source.datafields:null);if(ai){var aa="";d.each(ai,function(){if(this.name==V.displayfield){if(this.type){aa=this.type}return false}});if(aa){a=aa}ay=ab[V.displayfield]}an=ab[Y];if(!V.nullable||(W!=null&&W!==""&&V.nullable&&W.label===undefined)){if(d.jqx.dataFormat.isNumber(an)||a=="number"||a=="float"||a=="int"||a=="decimal"&&a!="date"){if(this.gridlocalization&&this.gridlocalization.decimalseparator==","){if(W&&W.indexOf&&W.indexOf(",")>=0){W=W.replace(",",".")}}W=new Number(W);W=parseFloat(W);if(isNaN(W)){W=0}}else{if(d.jqx.dataFormat.isDate(an)||a=="date"){if(W!=""){var S=W;S=new Date(S);if(S!="Invalid Date"&&S!=null){W=S}else{if(S=="Invalid Date"){S=new Date();W=S}}}}}if(ab[Y]===W){if(!this._updating&&c!=false){this._renderrows(this.virtualsizeinfo)}return}}var ad=this.source&&this.source._source.localdata&&this.source._source.localdata.name==="observableArray";ab[Y]=W;if(ad){var P=this.source._source.localdata;if(!P._updating){P._updating=true;P[ao][Y]=W;P._updating=false}}var aq=this.getrenderedrowdata(au,true);if(!aq){return}aq[Y]=W;if(W!=null&&W.label!=null){var V=this._getcolumnbydatafield(Y);ab[V.displayfield]=W.label;aq[V.displayfield]=W.label;ab[Y]=W.value;aq[Y]=W.value;if(ad&&!P._updating){P._updating=true;P[ao][Y]=W.value;P[ao][V.displayfield]=W.label;P._updating=false}}if(Q){if(ab.dataindex!=undefined){ak=ab.dataindex;this.dataview.cachedrecords[ab.dataindex][Y]=W;if(W!=null&&W.label!=undefined){this.dataview.cachedrecords[ab.dataindex][Y]=W.value;this.dataview.cachedrecords[ab.dataindex][V.displayfield]=W.label}}}}else{if(!this._updating&&c!=false){this._renderrows(this.virtualsizeinfo)}return false}if(this.source&&this.source._knockoutdatasource&&!this._updateFromAdapter&&this.autokoupdates){if(this.source._source._localdata){var Z=au;if(Q){if(ab.dataindex!=undefined){Z=ab.dataindex}}var av=this.source._source._localdata()[Z];this.source.suspendKO=true;var X=av;if(X[Y]&&X[Y].subscribe){if(W!=null&&W.label!=null){X[V.displayfield](W.label);X[Y](W.value)}else{X[Y](W)}}else{var ai=this.source._source.datafields;var ac=null;var ag=null;if(ai){d.each(ai,function(){if(this.name==Y){ag=this.map;return false}})}if(ag==null){if(W!=null&&W.label!=null){X[Y]=W.value;X[V.displayfield]=W.label}else{X[Y]=W}}else{var aw=ag.split(this.source.mapChar);if(aw.length>0){var ap=X;for(var R=0;R<aw.length-1;R++){ap=ap[aw[R]]}ap[aw[aw.length-1]]=W}}this.source._source._localdata.replace(av,d.extend({},X))}this.source.suspendKO=false}}if(this.sortcolumn&&this.dataview.sortby&&!this._updating){var ae=this.getsortinformation();if(this.sortcolumn==Y){this.dataview.clearsortdata();this.dataview.sortby(ae.sortcolumn,ae.sortdirection.ascending)}}else{if(!this._updating){if(this.dataview.sortby){if(this.dataview.sortcache[Y]){this.dataview.sortcache[Y]=null}}}}this._cellscache=new Array();this._pagescache=new Array();if(this.source.updaterow&&(at==undefined||at==true)){var U=false;var am=this.that;var al=function(h){if(false==h){am.setcellvalue(ao,Y,an,true,false);if(an!=ay){am.setcellvalue(ao,am.getcolumn(Y).displayfield,ay,true,false)}}};try{var ar=this.getrowid(au);U=this.source.updaterow(ar,ab,al);if(U==undefined){U=true}}catch(ah){U=false;am.setcellvalue(ao,Y,an,true,false);if(an!=ay){am.setcellvalue(ao,am.getcolumn(Y).displayfield,ay,true,false)}return}}var T=this.vScrollInstance.value;if(this._updating&&c!=true){c=false}if(c==true||c==undefined){var am=this.that;var ax=function(){if(am.pageable&&am.updatepagerdetails){am.updatepagerdetails();if(am.autoheight||am.autorowheight){am._updatepageviews()}}};var aj=this.groupable&&this.groups.length>0;if(Q&&!aj){if(this.autoheight||this.autorowheight){this.prerenderrequired=true}this.dataview.refresh();this.rendergridcontent(true,false);ax();this._renderrows(this.virtualsizeinfo)}else{if(this.sortcolumn&&!aj){if(this.autoheight||this.autorowheight){this.prerenderrequired=true}this.dataview.reloaddata();this.rendergridcontent(true,false);ax();this._renderrows(this.virtualsizeinfo)}else{if(this.groupable&&this.groups.length>0){if(this.autoheight||this.autorowheight){this.prerenderrequired=true}if(this.pageable){if(this.groups.indexOf(Y)!=-1){this._pagescache=new Array();this._cellscache=new Array();this.dataview.refresh();this._render(true,true,false,false)}else{this._pagescache=new Array();this._cellscache=new Array();this.dataview.updateview();this._renderrows(this.virtualsizeinfo)}}else{this._pagescache=new Array();this._cellscache=new Array();this.dataview.updateview();this._renderrows(this.virtualsizeinfo)}}else{this.dataview.updateview();this._renderrows(this.virtualsizeinfo)}}}}this.vScrollInstance.setPosition(T);if(this.showaggregates&&this._updatecolumnsaggregates){this._updatecolumnsaggregates()}if(this.showfilterrow&&this.filterable&&this.filterrow){var af=this.getcolumn(Y).filtertype;if(af=="list"||af=="checkedlist"){this._updatelistfilters(true)}}this._raiseEvent(19,{rowindex:ao,datafield:Y,newvalue:W,value:W,oldvalue:an});return true},getcellvalue:function(a,o){if(a==null||o==null){return null}var n=parseInt(a);var c=a;if(!isNaN(n)){c=this.getrowdata(n)}if(c!=null){var l=c[o];return l}return null},getrows:function(){var c=this.dataview.records.length;if(this.virtualmode){var a=new Array();for(var o=0;o<this.dataview.records.length;o++){var q=this.dataview.records[o];if(q){a.push(q)}}if(this.dataview.records.length===undefined){d.each(this.dataview.records,function(){var h=this;if(h){a.push(h)}})}var l=0;if(this.pageable){l=this.dataview.pagenum*this.dataview.pagesize}if(a.length>this.source._source.totalrecords-l){return a.slice(0,this.source._source.totalrecords-l)}return a}if(this.dataview.sortdata){var a=new Array();for(var o=0;o<c;o++){var n={};n=d.extend({},this.dataview.sortdata[o].value);a[o]=n}return a}else{return this.dataview.records}},getrowboundindexbyid:function(a){var c=this.dataview.recordsbyid["id"+a];if(c){if(c.boundindex){return this.getboundindex(c)}}var h=this.getboundrows();for(var l=0;l<h.length;l++){if(h[l]){if(h[l].uid==a){return l}}}return -1},getrowdatabyid:function(a){var c=this.dataview.recordsbyid["id"+a];if(c){return c}else{var h=this.getrowboundindexbyid(a);return this.getboundrows()[h]}return null},getrowdata:function(c){if(c==undefined){c=0}if(this.virtualmode){var a=this.dataview.records[c];return a}else{var a=this.getboundrows()[c];return a}return null},getrenderedrowdata:function(l,c){if(l==undefined){l=0}if(this.virtualmode){var a=this.getrowvisibleindex(l);var h=this.dataview.loadedrecords[a];return h}var a=this.getrowvisibleindex(l);if(a>=0){if(this.groupable&&this.groups.length>0){var h=this.dataview.loadedrecords[a]}else{var h=this.dataview.loadedrecords[a];if(this.pageable&&(c==undefined||c==false)){var h=this.dataview.loadedrecords[this.dataview.pagesize*this.dataview.pagenum+l]}}return h}return null},getboundrows:function(){return this.dataview.cachedrecords},getrowdisplayindex:function(h){var a=this.getdisplayrows();for(var c=0;c<a.length;c++){if(!a[c]){continue}if(a[c].dataindex!==undefined){if(a[c].dataindex==h){return a[c].visibleindex}}else{if(a[c].boundindex==h){return a[c].visibleindex}}}return -1},getboundindex:function(a){var c=a.boundindex;if(this.groupable&&this.groups.length>0&&this.pageable){if(a.bounddata){c=this.getrowboundindexbyid(a.bounddata.uid)}}if(this.dataview.filters.length>0){if(a.bounddata){if(a.bounddata.dataindex!==undefined){c=a.bounddata.dataindex}}else{if(a.dataindex!==undefined){c=a.dataindex}}}return c},getrowboundindex:function(c){var a=this.getdisplayrows()[c];if(a){if(a.dataindex!==undefined){return a.dataindex}return a.boundindex}return -1},getdisplayrows:function(){return this.dataview.loadedrecords},getloadedrows:function(){return this.getdisplayrows()},getvisiblerowdata:function(a){var c=this.getvisiblerows();if(c){return c[a]}return null},getloadedrowdata:function(a){var c=this.getloadedrows();if(c){return c[a]}return null},getvisiblerows:function(){if(this.virtualmode){return this.dataview.loadedrecords}if(this.pageable){var a=[];for(var c=0;c<this.dataview.pagesize;c++){var h=this.dataview.loadedrecords[c+(this.dataview.pagesize*this.dataview.pagenum)];if(h==undefined){break}a.push(h)}return a}else{if(this._startboundindex!=undefined&&this._endboundindex!=undefined){var a=[];for(var c=this._startvisibleindex;c<=this._endvisibleindex;c++){var h=this.dataview.loadedrecords[c];if(h==undefined){break}a.push(h)}return a}}return this.dataview.loadedrecords},getrowid:function(l){if(l==undefined){l=0}if(this.virtualmode){var a=this.getrowvisibleindex(l);var c=this.dataview.loadedrecords[a];if(c){return c.uid}}else{var c=null;var h=this.dataview.filters.length>0;if(l>=0&&l<this.dataview.bounditems.length&&!h){if(this.groupable&&this.groups.length>0){var a=this.getrowvisibleindex(l);var c=this.dataview.loadedrecords[a]}else{var a=this.getrowvisibleindex(l);var c=this.dataview.loadedrecords[a]}if(c){return c.uid}}if(this.dataview.filters.length>0){var c=this.getboundrows()[l];if(c){if(c.uid!=null){return c.uid}}return null}}return null},_updateGridData:function(a){var c=false;if(this.filterable&&this._initfilterpanel&&this.dataview.filters.length){c=true}if(c){this.dataview.refresh();if(a=="updaterow"){this._render(true,true,false,false,false);this.invalidate()}else{this.render()}}else{if(this.sortcolumn||(this.groupable&&this.groups.length>0)){this.dataview.reloaddata();this.render()}else{this._cellscache=new Array();this._pagescache=new Array();this._renderrows(this.virtualsizeinfo)}}if(this.showfilterrow&&this.filterable&&this.filterrow){this._updatelistfilters(true)}},updaterow:function(l,a,o){if(l!=undefined&&a!=undefined){var n=this.that;var c=false;n._datachanged=true;var s=function(v,C,D){if(v._loading){throw new Error("jqxGrid: "+v.loadingerrormessage);return false}var F=false;if(!d.isArray(C)){F=v.dataview.updaterow(C,D)}else{d.each(C,function(G,u){F=v.dataview.updaterow(this,D[G],false)});v._cellscache=new Array();v._pagescache=new Array();v.dataview.refresh()}var B=v.vScrollInstance.value;if(o==undefined||o==true){if(v._updating==undefined||v._updating==false){v._updateGridData("updaterow")}}if(v.showaggregates&&v._updatecolumnsaggregates){v._updatecolumnsaggregates()}if(v.source&&v.source._knockoutdatasource&&!v._updateFromAdapter&&v.autokoupdates){if(v.source._source._localdata){var A=v.dataview.recordsbyid["id"+C];var z=v.dataview.records.indexOf(A);var w=v.source._source._localdata()[z];v.source.suspendKO=true;v.source._source._localdata.replace(w,d.extend({},A));v.source.suspendKO=false}}var h=v.source&&v.source._source.localdata&&v.source._source.localdata.name==="observableArray";if(h){if(!v.source._source.localdata._updating){v.source._source.localdata._updating=true;var E=v.getrowboundindexbyid(C);v.source._source.localdata.set(E,D);v.source._source.localdata._updating=false}}v.vScrollInstance.setPosition(B);return F};if(this.source.updaterow){var t=function(h){if(h==true||h==undefined){s(n,l,a)}else{c=false}};try{c=this.source.updaterow(l,a,t);if(c==undefined){c=true}}catch(q){c=false}}else{c=s(n,l,a)}return c}return false},deleterow:function(D,u){if(D!=undefined){this._datachanged=true;var c=false;var s=this.that;var a=this.getrowboundindexbyid(D);var C=new Array();var v=new Array();if(a!=undefined){if(this.selectedrowindexes.indexOf(a)>=0){this.selectedrowindexes.splice(this.selectedrowindexes.indexOf(a),1)}if(this.selectedrowindex==a){this.selectedrowindex=-1}if(!this.virtualmode){if(s.selectionmode.indexOf("row")>=0){d.each(this.selectedrowindexes,function(){var h=s.getrowid(this);C.push(h)});this.selectedrowindexes=new Array();this.selectedrowindex=-1}else{if(s.selectionmode.indexOf("cell")>=0){for(var w in s.selectedcells){var q=s.selectedcells[w];var z=s.getrowid(q.rowindex);q.rowid=z}}}}}var B=function(G,h){if(G._loading){throw new Error("jqxGrid: "+G.loadingerrormessage);return false}var o=false;var J=G.vScrollInstance.value;if(!d.isArray(h)){var o=G.dataview.deleterow(h)}else{d.each(h,function(){o=G.dataview.deleterow(this,false)});G._cellscache=new Array();G._pagescache=new Array();G.dataview.refresh()}if(!G.virtualmode){if(G.selectionmode.indexOf("row")>=0){d.each(C,function(){var L=G.getrowboundindexbyid(this);if(L!=-1){G.selectrow(L,false)}})}else{var n=new Array();for(var H in G.selectedcells){var E=G.selectedcells[H];var I=E.rowid;var K=G.getrowboundindexbyid(I);if(K!=-1){E.rowindex=K;n[K+"_"+E.datafield]=E}}G.selectedcells=n}}if(G._updating==undefined||G._updating==false){if(u==undefined||u==true){G._render(true,true,false,false);if(G.vScrollBar.css("visibility")!="visible"){G._arrange();G._updatecolumnwidths();G._updatecellwidths();G._renderrows(G.virtualsizeinfo)}}}if(G.source&&G.source._knockoutdatasource&&!G._updateFromAdapter&&G.autokoupdates){if(G.source._source._localdata){G.source.suspendKO=true;G.source._source._localdata.pop(rowdata);G.source.suspendKO=false}}var F=G.source&&G.source._source.localdata&&G.source._source.localdata.name==="observableArray";if(F){if(!G.source._source.localdata._updating){G.source._source.localdata._updating=true;G.source._source.localdata.splice(a,1);G.source._source.localdata._updating=false}}if(G.dataview.sortby){var l=G.getsortinformation();G.dataview.clearsortdata();G.dataview.sortby(l.sortcolumn,l.sortdirection?l.sortdirection.ascending:null)}G.vScrollInstance.setPosition(J);return o};if(this.source.deleterow){var A=function(h){if(h==true||h==undefined){B(s,D)}};try{this.source.deleterow(D,A);if(c==undefined){c=true}}catch(t){c=false}}else{c=B(s,D)}return c}return false},addrow:function(A,a,u){if(a!=undefined){this._datachanged=true;if(u==undefined){u="last"}var c=false;var q=this.that;if(A==null){var z=this.dataview.filters&&this.dataview.filters.length>0;var s=!z?this.dataview.totalrecords:this.dataview.cachedrecords.length;if(!d.isArray(a)){A=this.dataview.getid(this.dataview.source.id,a,s);while(null!=this.dataview.recordsbyid["id"+A]){A++}}else{var B=new Array();d.each(a,function(n,l){var h=q.dataview.getid(q.dataview.source.id,a[n],s+n);B.push(h)});A=B}}var w=function(o,C,h,F){if(o._loading){throw new Error("jqxGrid: "+o.loadingerrormessage);return false}var l=o.vScrollInstance.value;var n=false;if(!d.isArray(h)){if(h!=undefined&&h.dataindex!=undefined){delete h.dataindex}n=o.dataview.addrow(C,h,F)}else{d.each(h,function(H,G){if(this.dataindex!=undefined){delete this.dataindex}var I=null;if(C!=null&&C[H]!=null){I=C[H]}n=o.dataview.addrow(I,this,F,false)});o._cellscache=new Array();o._pagescache=new Array();o.dataview.refresh()}if(o._updating==undefined||o._updating==false){o._render(true,true,false,false);o.invalidate()}if(o.source&&o.source._knockoutdatasource&&!o._updateFromAdapter&&o.autokoupdates){if(o.source._source._localdata){o.source.suspendKO=true;o.source._source._localdata.push(h);o.source.suspendKO=false}}var E=o.source&&o.source._source.localdata&&o.source._source.localdata.name==="observableArray";if(E){if(!o.source._source.localdata._updating){o.source._source.localdata._updating=true;var D=o.getrowboundindexbyid(C);o.source._source.localdata.set(D,h);o.source._source.localdata._updating=false}}if(o.scrollmode!="deferred"){o.vScrollInstance.setPosition(l)}else{o.vScrollInstance.setPosition(0)}return n};if(this.source.addrow){var v=function(l,h){if(l==true||l==undefined){if(h!=undefined){A=h}w(q,A,a,u)}};try{c=this.source.addrow(A,a,u,v);if(c==undefined){c=true}}catch(t){c=false}if(c==false){return false}}else{w(this,A,a,u)}return c}return false},_findvisiblerow:function(c,a){if(c==undefined){c=parseInt(this.vScrollInstance.value)}var n=0;if(a==undefined||a==null){a=this.rows.records}var o=a.length;while(n<=o){mid=parseInt((n+o)/2);var l=a[mid];if(l==undefined){break}if(l.top>c&&l.top+l.height>c){o=mid-1}else{if(l.top<c&&l.top+l.height<c){n=mid+1}else{return mid;break}}}return -1},_updatecellwidths:function(){var E=this.virtualsizeinfo;if(!E){return}var u=this.that;if(u.gridcontent==undefined){return}if(u.table==undefined){u.table=u.gridcontent.find("#contenttable"+u.element.id)}var B=u.groupable&&u.groups.length>0;var c=0;var A=E.visiblerecords;if(u.pageable&&(u.autoheight||u.autorowheight)){A=u.dataview.pagesize;if(u.groupable){u.dataview.updateview();A=u.dataview.rows.length}}if(!u.groupable&&!u.pageable&&(u.autoheight||u.autorowheight)){A=u.dataview.totalrecords}if(u.rowdetails){A+=u.dataview.pagesize}if(!u.columns.records){return}var a=u.columns.records.length;var H=u.table[0].rows;for(var w=0;w<A;w++){var G=H[w];if(!G){break}var I=G.cells;var C=0;for(var z=0;z<a;z++){var D=u.columns.records[z];var F=D.width;var v=I[z];if(parseInt(v.style.left)!=C){v.style.left=C+"px"}if(parseInt(v.style.width)!=F){v.style.width=F+"px"}if(!(D.hidden&&D.hideable)){C+=parseFloat(F)}else{v.style.display="none"}}if(c==0){u.table.width(parseFloat(C)+2);c=C}}if(u.showaggregates&&u._updateaggregates){u._updateaggregates()}if(u.showfilterrow&&u.filterable&&u._updatefilterrowui){u._updatefilterrowui()}if(u.showeverpresentrow){u._updateaddnewrowui()}u._updatescrollbarsafterrowsprerender();if(B){u._renderrows(u.virtualsizeinfo)}},_updatescrollbarsafterrowsprerender:function(){var l=this.that;var n=l.hScrollBar[0].style.visibility;var a=0;var q=l.vScrollBar[0].style.visibility;if(q=="visible"){a=l.scrollbarsize+3}if(l.scrollbarautoshow){a=0}var o=l.element.style.width;if(o.toString().indexOf("%")>=0){o=l.host.width()}else{o=parseInt(o)}if(parseInt(l.table[0].style.width)-2>o-a){if(n!="visible"){if(!l.autowidth){l.hScrollBar[0].style.visibility="visible"}l._arrange()}if(q=="visible"){if(l.scrollmode!="deferred"&&!l.virtualmode){if(l.virtualsizeinfo){var c=l.virtualsizeinfo.virtualheight-l._gettableheight();if(!isNaN(c)&&c>0){if(n!="hidden"){l.vScrollBar.jqxScrollBar("max",c+l.scrollbarsize+4)}else{l.vScrollBar.jqxScrollBar("max",c)}}}}else{l._updatevscrollbarmax()}}else{a=-2}l.hScrollBar.jqxScrollBar("max",a+l.table.width()-l.host.width())}else{if(n!="hidden"){l.hScrollBar.css("visibility","hidden");l._arrange()}}l._renderhorizontalscroll()},_prerenderrows:function(N){var K=this.that;if(K.prerenderrequired==true){K.prerenderrequired=false;if(K.editable&&K._destroyeditors){K._destroyeditors()}if(K.gridcontent==undefined){return}K.gridcontent.find("#contenttable"+K.element.id).remove();if(K.table!=null){K.table.remove();K.table=null}K.table=d('<div id="contenttable'+K.element.id+'" style="overflow: hidden; position: relative;"></div>');K.gridcontent.addClass(K.toTP("jqx-grid-content"));K.gridcontent.addClass(K.toTP("jqx-widget-content"));K.gridcontent.append(K.table);var L=K.groupable&&K.groups.length>0;var M=0;K.table[0].rows=new Array();var Q=K.toTP("jqx-grid-cell");if(L){Q=" "+K.toTP("jqx-grid-group-cell")}var F=N.visiblerecords;if(K.pageable&&(K.autoheight||K.autorowheight)){F=K.dataview.pagesize;if(K.groupable){K.dataview.updateview();F=K.dataview.rows.length;if(F<K.dataview.pagesize){F=K.dataview.pagesize}}}if(!K.pageable&&(K.autoheight||K.autorowheight)){F=K.dataview.totalrecords}if(K.groupable&&K.groups.length>0&&(K.autoheight||K.autorowheight)&&!K.pageable){F=K.dataview.rows.length}if(K.rowdetails){if(K.autoheight||K.autorowheight){F+=K.dataview.pagesize}else{F+=F}}if(!K.columns.records){return}var a=K.columns.records.length;if(d.jqx.browser.msie&&d.jqx.browser.version>8){K.table.css("opacity","0.99")}if(d.jqx.browser.mozilla){}if(navigator.userAgent.indexOf("Safari")!=-1){K.table.css("opacity","0.99")}var I=d.jqx.browser.msie&&d.jqx.browser.version<8;if(I){K.host.attr("hideFocus","true")}var R=K.tableZIndex;if(F*a>R){R=F*a}var T=K.dataview.records.length==0;var O=K.isTouchDevice();var E="";K._hiddencolumns=false;for(var c=0;c<F;c++){var H='<div role="row" style="position: relative; height:'+K.rowsheight+'px;" id="row'+c+K.element.id+'">';if(I){var H='<div role="row" style="position: relative; z-index: '+R+"; height:"+K.rowsheight+'px;" id="row'+c+K.element.id+'">';R--}var U=0;for(var D=0;D<a;D++){var C=K.columns.records[D];var G=C.width;if(G<C.minwidth){G=C.minwidth}if(G>C.maxwidth){G=C.maxwidth}if(K.rtl){var J=R-a+2*D;var W='<div role="gridcell" style="left: '+U+"px; z-index: "+J+"; width:"+G+"px;";R--}else{var W='<div role="gridcell" style="left: '+U+"px; z-index: "+R--+"; width:"+G+"px;"}if(!(C.hidden&&C.hideable)){U+=G}else{W+="display: none;";K._hiddencolumns=true;R++}W+='" class="'+Q+'"></div>';H+=W}if(M==0){K.table.width(parseInt(U)+2);M=U}H+="</div>";E+=H}if(K.WinJS){MSApp.execUnsafeLocalFunction(function(){K.table.html(E)})}else{K.table[0].innerHTML=E}K.table[0].rows=new Array();var P=K.table.children();for(var c=0;c<F;c++){var S=P[c];K.table[0].rows.push(S);S.cells=new Array();var V=d(S).children();for(var D=0;D<a;D++){S.cells.push(V[D])}}if(F==0){var U=0;if(K.showemptyrow){var H=d('<div style="position: relative;" id="row0'+K.element.id+'"></div>');K.table.append(H);H.height(K.rowsheight);K.table[0].rows[0]=H[0];K.table[0].rows[0].cells=new Array()}for(var D=0;D<a;D++){var C=K.columns.records[D];var G=C.width;if(K.showemptyrow){var W=d('<div style="position: absolute; height: 100%; left: '+U+"px; z-index: "+R--+"; width:"+G+'px;" class="'+Q+'"></div>');W.height(K.rowsheight);H.append(W);K.table[0].rows[0].cells[D]=W[0]}if(G<C.minwidth){G=C.minwidth}if(G>C.maxwidth){G=C.maxwidth}if(!(C.hidden&&C.hideable)){U+=G}}K.table.width(parseInt(U)+2);M=U}K._updatescrollbarsafterrowsprerender();if(K.rendered){K.rendered("rows")}K.toCompile=new Array();K._addoverlayelement()}},_groupsheader:function(){return this.groupable&&this.showgroupsheader},_arrange:function(){var R=null;var w=null;this.tableheight=null;var I=this.that;var U=false;var V=false;if(I.width!=null&&I.width.toString().indexOf("px")!=-1){R=I.width}else{if(I.width!=undefined&&!isNaN(I.width)){R=I.width}}if(I.width!=null&&I.width.toString().indexOf("%")!=-1){R=I.width;U=true}if(I.scrollbarautoshow){I.vScrollBar[0].style.display="none";I.hScrollBar[0].style.display="none";I.vScrollBar[0].style.zIndex=I.tableZIndex+I.headerZIndex;I.hScrollBar[0].style.zIndex=I.tableZIndex+I.headerZIndex}if(I.autowidth){var S=0;for(var Q=0;Q<I.columns.records.length;Q++){var ac=I.columns.records[Q].width;if(ac=="auto"){ac=I._measureElementWidth(I.columns.records[Q].text);S+=ac}else{S+=ac}}if(I.vScrollBar.css("visibility")!="hidden"){S+=I.scrollbarsize+4}R=S;I.width=R}if(I.height!=null&&I.height.toString().indexOf("px")!=-1){w=I.height}else{if(I.height!=undefined&&!isNaN(I.height)){w=I.height}}if(I.height!=null&&I.height.toString().indexOf("%")!=-1){w=I.height;V=true}var X=function(){var l=0;var h=I.showheader?I.columnsheader!=null?I.columnsheader.height()+2:0:0;l+=h;if(I.pageable){l+=I.pagerheight}if(I._groupsheader()){l+=I.groupsheaderheight}if(I.showtoolbar){l+=I.toolbarheight}if(I.showstatusbar){l+=I.statusbarheight}if(I.showeverpresentrow&&I.everpresentrowposition==="bottom"){l+=I.everpresentrowheight}if(I.hScrollBar[0].style.visibility=="visible"){l+=20}return l};if(I.autoheight&&I.virtualsizeinfo){if(I.pageable&&I.gotopage){var O=0;w=O+(I._pageviews[0]?I._pageviews[0].height:0);w+=X();if(I.showemptyrow&&I.dataview.totalrecords==0){w+=I.rowsheight}}else{var O=I.host.height()-I._gettableheight();if(I._pageviews.length>0){w=O+I._pageviews[I._pageviews.length-1].height+I._pageviews[I._pageviews.length-1].top;I.vScrollBar[0].style.visibility="hidden"}else{w=X();if(I.showemptyrow){w+=I.rowsheight}}}}else{if(I.autoheight){w=I.dataview.totalrecords*I.rowsheight;if(I.pageable&&I.gotopage){w=I.pagesize*I.rowsheight}if(I._loading){w=250;I.dataloadelement.height(w)}w+=X();if(w>10000){w=10000}}}if(R!=null){R=parseInt(R);if(!U){if(I.element.style.width!=parseInt(I.width)+"px"){I.element.style.width=parseInt(I.width)+"px"}}else{I.element.style.width=I.width}if(U){R=I.host.width();if(R<=2){R=600;I.host.width(R)}if(!I._oldWidth){I._oldWidth=R}}}else{I.host.width(250)}if(w!=null){if(!V){w=parseInt(w)}if(!V){if(I.element.style.height!=parseInt(w)+"px"){I.element.style.height=parseInt(w)+"px"}}else{I.element.style.height=I.height}if(V&&!I.autoheight){w=I.host.height();if(w==0){w=400;I.host.height(w)}if(!I._oldHeight){I._oldHeight=w}}}else{I.host.height(250)}if(I.autoheight){I.tableheight=null;I._gettableheight()}var G=0;if(I.showtoolbar){I.toolbar.width(R);I.toolbar.height(I.toolbarheight-1);I.toolbar.css("top",0);G+=I.toolbarheight;w-=parseInt(I.toolbarheight)}else{I.toolbar[0].style.height="0px"}if(I.showstatusbar){if(I.showaggregates){I.statusbar.width(!I.table?R:Math.max(R,I.table.width()))}else{I.statusbar.width(R)}I.statusbar.height(I.statusbarheight)}else{I.statusbar[0].style.height="0px"}if(I.showeverpresentrow&&I.everpresentrowposition==="bottom"){I.addnewrow.width(R);I.addnewrow.height(I.everpresentrowheight)}else{I.addnewrow[0].style.height="0px"}if(I._groupsheader()){I.groupsheader.width(R);I.groupsheader.height(I.groupsheaderheight);I.groupsheader.css("top",G);var c=I.groupsheader.height()+1;G+=c;if(w>c){w-=parseInt(c)}}else{if(I.groupsheader[0].style.width!=R+"px"){I.groupsheader[0].style.width=parseInt(R)+"px"}I.groupsheader[0].style.height="0px";if(I.groupsheader[0].style.top!=G+"px"){I.groupsheader.css("top",G)}var c=I.showgroupsheader&&I.groupable?I.groupsheaderheight:0;var ab=G+c+"px";if(I.content[0].style.top!=ab){I.content.css("top",G+I.groupsheaderheight)}}var ad=I.scrollbarsize;if(isNaN(ad)){ad=parseInt(ad);if(isNaN(ad)){ad="17px"}else{ad=ad+"px"}}ad=parseInt(ad);var M=4;var Z=2;var Y=0;if(I.vScrollBar[0].style.visibility=="visible"){Y=ad+M}if(I.hScrollBar[0].style.visibility=="visible"){Z=ad+M+2}var N=0;if(I.pageable){N=I.pagerheight;Z+=I.pagerheight}if(I.showstatusbar){Z+=I.statusbarheight;N+=I.statusbarheight}if(I.showeverpresentrow&&I.everpresentrowposition==="bottom"){Z+=I.everpresentrowheight;N+=I.everpresentrowheight}if(I.hScrollBar[0].style.height!=ad+"px"){I.hScrollBar[0].style.height=parseInt(ad)+"px"}if(I.hScrollBar[0].style.top!=G+w-M-ad-N+"px"||I.hScrollBar[0].style.left!="0px"){I.hScrollBar.css({top:G+w-M-ad-N+"px",left:"0px"})}var P=I.hScrollBar[0].style.width;var W=false;var L=false;if(Y==0){if(P!=(R-2)+"px"){I.hScrollBar.width(R-2);W=true}}else{if(P!=(R-ad-M)+"px"){I.hScrollBar.width(R-ad-M+"px");W=true}}if(!I.autoheight){if(I.vScrollBar[0].style.width!=ad+"px"){I.vScrollBar.width(ad);L=true}if(I.vScrollBar[0].style.height!=parseInt(w)-Z+"px"){I.vScrollBar.height(parseInt(w)-Z+"px");L=true}if(I.vScrollBar[0].style.left!=parseInt(R)-parseInt(ad)-M+"px"||I.vScrollBar[0].style.top!=G+"px"){I.vScrollBar.css({left:parseInt(R)-parseInt(ad)-M+"px",top:G})}}if(I.rtl){I.vScrollBar.css({left:"0px",top:G});if(I.vScrollBar.css("visibility")!="hidden"){I.hScrollBar.css({left:ad+2})}}var T=I.vScrollInstance;T.disabled=I.disabled;if(!I.autoheight){if(L){T.refresh()}}var a=I.hScrollInstance;a.disabled=I.disabled;if(W){a.refresh()}if(I.autowidth){I.hScrollBar[0].style.visibility="hidden"}I.statusbarheight=parseInt(I.statusbarheight);I.toolbarheight=parseInt(I.toolbarheight);var K=function(h){if((h.vScrollBar[0].style.visibility=="visible")&&(h.hScrollBar[0].style.visibility=="visible")){h.bottomRight[0].style.visibility="visible";h.bottomRight.css({left:1+parseInt(h.vScrollBar.css("left")),top:parseInt(h.hScrollBar.css("top"))});if(h.rtl){h.bottomRight.css("left","0px")}h.bottomRight.width(parseInt(ad)+3);h.bottomRight.height(parseInt(ad)+4);var n=h.showeverpresentrow&&h.everpresentrowposition=="bottom";var l=n?h.everpresentrowheight:0;if(l>0&&!h.showaggregates){h.bottomRight.css("z-index",99);h.bottomRight.height(parseInt(ad)+4+l);h.bottomRight.css({top:parseInt(h.hScrollBar.css("top"))-l})}if(h.showaggregates){h.bottomRight.css("z-index",99);h.bottomRight.height(parseInt(ad)+4+h.statusbarheight+l);h.bottomRight.css({top:parseInt(h.hScrollBar.css("top"))-h.statusbarheight-l})}}else{h.bottomRight[0].style.visibility="hidden"}};K(this);if(I.content[0].style.width!=R-Y+"px"){I.content.width(R-Y)}if(I.content[0].style.height!=w-Z+3+"px"){I.content.height(w-Z+3)}if(I.scrollbarautoshow){if(I.content[0].style.width!=R+"px"){I.content.width(R)}if(I.content[0].style.height!=w+"px"){I.content.height(w)}}if(I.content[0].style.top!=G+"px"){I.content.css("top",G)}if(I.rtl){I.content.css("left",Y);if(I.scrollbarautoshow){I.content.css("left","0px")}if(I.table){var H=I.table.width();if(H<R-Y){I.content.css("left",R-H)}}}if(I.showstatusbar){I.statusbar.css("top",G+w-I.statusbarheight-(I.pageable?I.pagerheight:0));if(I.showaggregates){if(I.hScrollBar.css("visibility")=="visible"){I.hScrollBar.css({top:G+w-M-ad-N+I.statusbarheight+"px"});I.statusbar.css("top",1+G+w-ad-5-I.statusbarheight-(I.pageable?I.pagerheight:0))}K(this)}if(I.rtl){if(I.hScrollBar.css("visibility")!="visible"){I.statusbar.css("left",I.content.css("left"))}else{I.statusbar.css("left","0px")}}}if(I.showeverpresentrow&&I.everpresentrowposition==="bottom"){I.addnewrow.css("top",G+w-(I.showstatusbar?I.statusbarheight:0)-(I.pageable?I.pagerheight:0)-I.everpresentrowheight);if(I.rtl){if(I.hScrollBar.css("visibility")!="visible"){I.addnewrow.css("left",I.content.css("left"))}else{I.addnewrow.css("left","0px")}}}if(I.pageable){I.pager.width(R);I.pager.height(I.pagerheight);I.pager.css("top",G+w-I.pagerheight-1)}else{I.pager[0].style.height="0px"}if(I.table!=null){var aa=-2;if(I.vScrollBar[0].style.visibility=="visible"){aa=I.scrollbarsize+3}if(I.hScrollBar[0].style.visibility=="visible"){var J=aa+I.table.width()-I.host.width();if(J>=0){I.hScrollBar.jqxScrollBar("max",J)}if(I.hScrollBar[0].style.visibility=="visible"&&J==0){I.hScrollBar[0].style.visibility="hidden";I._arrange()}}}if(R!=parseInt(I.dataloadelement[0].style.width)){I.dataloadelement[0].style.width=I.element.style.width}if(w!=parseInt(I.dataloadelement[0].style.height)){I.dataloadelement[0].style.height=I.element.style.height}I._hostwidth=R},destroy:function(){delete d.jqx.dataFormat.datescache;delete this.gridlocalization;d.jqx.utilities.resize(this.host,null,true);if(document.referrer!=""||window.frameElement){if(window.top!=null&&window.top!=window.self){this.removeHandler(d(window.top.document),"mouseup.grid"+this.element.id)}}if(this.table&&this.table[0]){var u=this.table[0].rows.length;for(var w=0;w<u;w++){var a=this.table[0].rows[w];var c=a.cells;var B=c.length;for(var z=0;z<B;z++){d(a.cells[z]).remove();a.cells[z]=null;delete a.cells[z]}a.cells=null;if(a.cells){delete a.cells}d(this.table[0].rows[w]).remove();this.table[0].rows[w]=null}try{delete this.table[0].rows}catch(t){}this.table.remove();delete this.table}if(this.columns&&this.columns.records){for(var w=0;w<this.columns.records.length;w++){var C=this.columns.records[w];if(C.addnewrowwidget){if(C.destroyeverpresentrowwidget){C.destroyeverpresentrowwidget(C.addnewrowwidget)}}this._removecolumnhandlers(this.columns.records[w]);if(C.element){d(C.element).remove();d(C.sortasc).remove();d(C.sortdesc).remove();d(C.filtericon).remove();d(C.menu).remove();C.element=null;C.uielement=null;C.sortasc=null;C.sortdesc=null;C.filtericon=null;C.menu=null;delete C.element;delete C.uielement;delete C.sortasc;delete C.sortdesc;delete C.filtericon;delete C.menu;delete this.columnsrow[0].cells[w]}}try{delete this.columnsrow[0].cells}catch(t){}delete this.columnsrow}d.removeData(document.body,"contextmenu"+this.element.id);if(this.host.jqxDropDownList){if(this._destroyfilterpanel){this._destroyfilterpanel()}}if(this.editable&&this._destroyeditors){this._destroyeditors()}if(this.filterable&&this._destroyedfilters&&this.showfilterrow){this._destroyedfilters()}if(this.host.jqxMenu){if(this.gridmenu){this.removeHandler(d(document),"click.menu"+this.element.id);this.removeHandler(this.gridmenu,"keydown");this.removeHandler(this.gridmenu,"closed");this.removeHandler(this.gridmenu,"itemclick");this.gridmenu.jqxMenu("destroy");this.gridmenu=null}}if(this.pagershowrowscombo){this.pagershowrowscombo.jqxDropDownList("destroy");this.pagershowrowscombo=null}if(this.pagerrightbutton){this.removeHandler(this.pagerrightbutton,"mousedown");this.removeHandler(this.pagerrightbutton,"mouseup");this.removeHandler(this.pagerrightbutton,"click");this.pagerrightbutton.jqxButton("destroy");this.pagerrightbutton=null}if(this.pagerleftbutton){this.removeHandler(this.pagerleftbutton,"mousedown");this.removeHandler(this.pagerleftbutton,"mouseup");this.removeHandler(this.pagerleftbutton,"click");this.pagerleftbutton.jqxButton("destroy");this.removeHandler(d(document),"mouseup.pagerbuttons"+this.element.id);this.pagerleftbutton=null}this.removeHandler(d(document),"selectstart."+this.element.id);this.removeHandler(d(document),"mousedown.resize"+this.element.id);this.removeHandler(d(document),"mouseup.resize"+this.element.id);this.removeHandler(d(document),"mousemove.resize"+this.element.id);if(this.isTouchDevice()){var v=d.jqx.mobile.getTouchEventName("touchmove")+".resize"+this.element.id;var D=d.jqx.mobile.getTouchEventName("touchstart")+".resize"+this.element.id;var A=d.jqx.mobile.getTouchEventName("touchend")+".resize"+this.element.id;this.removeHandler(d(document),v);this.removeHandler(d(document),D);this.removeHandler(d(document),A)}this.removeHandler(d(document),"mousedown.reorder"+this.element.id);this.removeHandler(d(document),"mouseup.reorder"+this.element.id);this.removeHandler(d(document),"mousemove.reorder"+this.element.id);if(this.isTouchDevice()){var v=d.jqx.mobile.getTouchEventName("touchmove")+".reorder"+this.element.id;var D=d.jqx.mobile.getTouchEventName("touchstart")+".reorder"+this.element.id;var A=d.jqx.mobile.getTouchEventName("touchend")+".reorder"+this.element.id;this.removeHandler(d(document),v);this.removeHandler(d(document),D);this.removeHandler(d(document),A)}this.removeHandler(d(window),"resize."+this.element.id);if(this.resizeline){this.resizeline.remove()}if(this.resizestartline){this.resizestartline.remove()}if(this.groupable){var v="mousemove.grouping"+this.element.id;var D="mousedown.grouping"+this.element.id;var A="mouseup.grouping"+this.element.id;this.removeHandler(d(document),v);this.removeHandler(d(document),D);this.removeHandler(d(document),A)}if(this.columnsreorder){var v="mousemove.reorder"+this.element.id;var D="mousedown.reorder"+this.element.id;var A="mouseup.reorder"+this.element.id;this.removeHandler(d(document),v);this.removeHandler(d(document),D);this.removeHandler(d(document),A);delete this.columnsbounds}if(this.content){this.removeHandler(this.content,"mousedown");this.removeHandler(this.content,"scroll")}this._removeHandlers();this.hScrollInstance.destroy();this.vScrollInstance.destroy();this.hScrollBar.remove();this.vScrollBar.remove();this._clearcaches();delete this.hScrollInstance;delete this.vScrollInstance;delete this.visiblerows;delete this.hittestinfo;delete this.rows;delete this.columns;delete this.columnsbydatafield;delete this.pagescache;delete this.pageviews;delete this.cellscache;delete this.heights;delete this.hiddens;delete this.hiddenboundrows;delete this.heightboundrows;delete this.detailboundrows;delete this.details;delete this.expandedgroups;delete this._rowdetailscache;delete this._rowdetailselementscache;delete this.columnsmenu;if(this.columnsheader){this.columnsheader.remove();delete this.columnsheader}if(this.selectionarea){this.selectionarea.remove();delete this.selectionarea}if(this.menuitemsarray&&this.menuitemsarray.length){var s=this.menuitemsarray.length;for(var w=0;w<s;w++){d(this.menuitemsarray[w]).remove()}}delete this.menuitemsarray;this.dataview._clearcaches();this.content.removeClass();this.content.remove();this.content=null;delete this.content;this.vScrollBar=null;this.hScrollBar=null;delete this.hScrollBar;delete this.hScrollBar;if(this.gridcontent){this.gridcontent.remove();delete this.gridcontent}if(this.gridmenu){this.gridmenu=null;delete this.gridmenu}delete this._mousemovefunc;delete this._mousewheelfunc;this.dataview.destroy();delete this.dataview;this.bottomRight.remove();delete this.bottomRight;this.wrapper.remove();delete this.wrapper;if(this.pagerdiv){this.pagerdiv.remove();delete this.pagerdiv}if(this.pagerpageinput){this.pagerpageinput.remove();delete this.pagerpageinput}if(this.pagergoto){this.pagergoto.remove();delete this.pagergoto}if(this.pagershowrows){this.pagershowrows.remove();delete this.pagershowrows}if(this.pagerfirstbutton){this.pagerfirstbutton.remove();delete this.pagerfirstbutton}if(this.pagerlastbutton){this.pagerlastbutton.remove();delete this.pagerlastbutton}if(this.pagerbuttons){this.pagerbuttons.remove();delete this.pagerbuttons}if(this.pagerdetails){this.pagerdetails.remove();delete this.pagerdetails}if(this.pagergotoinput){this.pagergotoinput.remove();delete this.pagergotoinput}this.pager.remove();delete this.pager;this.groupsheader.remove();delete this.groupsheader;this.dataloadelement.remove();delete this.dataloadelement;this.toolbar.remove();delete this.toolbar;this.statusbar.remove();delete this.statusbar;this.host.removeData();this.host.removeClass();this.host.remove();this.host=null;delete this.host;delete this.element;delete this.set;delete this.get;delete this.that;delete this.call},_initializeColumns:function(){var v=this.source?this.source.datafields:null;if(v==null&&this.source&&this.source._source){v=this.source._source.datafields}var s=v?v.length>0:false;if(this.autogeneratecolumns){var o=new Array();if(v){d.each(v,function(){var h={datafield:this.name,text:this.text||this.name,cellsformat:this.format||""};o.push(h)})}else{if(this.source.records.length>0){var a=this.source.records[0];for(obj in a){if(obj!="uid"){var u={width:100,datafield:obj,text:obj};o.push(u)}}}}this.columns=o}if(this.columns&&this.columns.records){for(var t=0;t<this.columns.records.length;t++){this._removecolumnhandlers(this.columns.records[t])}}var q=this.that;var w=new d.jqx.collection(this.element);var z=0;this._haspinned=false;if(!this._columns){this._columns=this.columns}else{this.columns=this._columns}if(this.groupable){d.each(this.groups,function(h){var l=new f(q,this);l.visibleindex=z++;l.width=q.groupindentwidth;w.add(l);l.grouped=true;l.filterable=false;l.sortable=false;l.editable=false;l.resizable=false;l.draggable=false})}if(this.rowdetails&&this.showrowdetailscolumn){var u=new f(q,this);u.visibleindex=z++;u.width=q.groupindentwidth;u.pinned=true;u.editable=false;u.filterable=false;u.draggable=false;u.groupable=false;u.resizable=false;w.add(u);q._haspinned=true}if(this.selectionmode=="checkbox"){var u=new f(q,null);u.visibleindex=z++;u.width=q.groupindentwidth;u.checkboxcolumn=true;u.editable=false;u.columntype="checkbox";u.groupable=false;u.draggable=false;u.filterable=false;u.resizable=false;u.datafield="_checkboxcolumn";w.add(u)}var c=new Array();d.each(this.columns,function(h){if(q.columns[h]!=undefined){var l=new f(q,this);l.visibleindex=z++;if(this.dataField!=undefined){this.datafield=this.dataField}if(this.pinned){q._haspinned=true}if(q.showeverpresentrow){if(this.datafield==="addButtonColumn"||this.datafield==="resetButtonColumn"||this.datafield==="updateButtonColumn"||this.datafield==="deleteButtonColumn"){l.editable=false;l.groupable=false;l.draggable=false;l.filterable=false;l.resizable=false;l.menu=false}}if(this.datafield==null){if(q.source&&q.source._source&&(q.source._source.datatype=="array")){if(!s){if(!q.source._source.datafields){q.source._source.datafields=new Array();q.source._source.datafields.push({name:h.toString()})}else{q.source._source.datafields.push({name:h.toString()})}}this.datafield=h.toString();this.displayfield=h.toString();l.datafield=this.datafield;l.displayfield=this.displayfield}}else{if(c[this.datafield]){throw new Error("jqxGrid: Invalid column 'datafield' setting. jqxGrid's columns should be initialized with unique data fields.");q.host.remove();return false}else{c[this.datafield]=true}}w.add(l)}});if(this.rtl){w.records.reverse()}this.columns=w},_initializeRows:function(){var a=new d.jqx.collection(this.element);if(this.rows){this.rows.clear()}this.rows=a},_raiseEvent:function(a,o){if(o==undefined){o={owner:null}}if(this._trigger===false){return}var n=this.events[a];if(!this._camelCase){n=n.toLowerCase()}if(a==2||a==15){if(this.showeverpresentrow&&(this.everpresentrowactions.indexOf("delete")>=0||this.everpresentrowactions.indexOf("update")>=0)){if(this.updateeverpresentrow){var c=this}setTimeout(function(){c.updateeverpresentrow()},50)}}args=o;args.owner=this;var l=new d.Event(n);l.owner=this;l.args=args;var q=this.host.trigger(l);o=l.args;return q},wheel:function(c,h){if(h.autoheight&&h.hScrollBar.css("visibility")!="visible"){c.returnValue=true;return true}var a=0;if(!c){c=window.event}if(c.originalEvent&&c.originalEvent.wheelDelta){c.wheelDelta=c.originalEvent.wheelDelta}if(c.wheelDelta){a=c.wheelDelta/120}else{if(c.detail){a=-c.detail/3}}if(a){var l=h._handleDelta(a);if(l){if(c.preventDefault){c.preventDefault()}if(c.originalEvent!=null){c.originalEvent.mouseHandled=true}if(c.stopPropagation!=undefined){c.stopPropagation()}}if(l){l=false;c.returnValue=l;return l}else{return false}}if(c.preventDefault){c.preventDefault()}c.returnValue=false},_handleDelta:function(a){if(this.vScrollBar.css("visibility")!="hidden"){var c=this.vScrollInstance.value;if(a<0){this.scrollDown()}else{this.scrollUp()}var h=this.vScrollInstance.value;if(c!=h){return true}}else{if(this.hScrollBar.css("visibility")!="hidden"){var c=this.hScrollInstance.value;if(a>0){if(this.hScrollInstance.value>2*this.horizontalscrollbarstep){this.hScrollInstance.setPosition(this.hScrollInstance.value-2*this.horizontalscrollbarstep)}else{this.hScrollInstance.setPosition(0)}}else{if(this.hScrollInstance.value<this.hScrollInstance.max){this.hScrollInstance.setPosition(this.hScrollInstance.value+2*this.horizontalscrollbarstep)}else{this.hScrollInstance.setPosition(this.hScrollInstance.max)}}var h=this.hScrollInstance.value;if(c!=h){return true}}}return false},scrollDown:function(){if(this.vScrollBar.css("visibility")=="hidden"){return}var a=this.vScrollInstance;if(a.value+this.rowsheight<=a.max){a.setPosition(parseInt(a.value)+this.rowsheight)}else{a.setPosition(a.max)}},scrollUp:function(){if(this.vScrollBar.css("visibility")=="hidden"){return}var a=this.vScrollInstance;if(a.value-this.rowsheight>=a.min){a.setPosition(parseInt(a.value)-this.rowsheight)}else{a.setPosition(a.min)}},_removeHandlers:function(){var c=this.that;c.removeHandler(d(window),"orientationchange.jqxgrid"+c.element.id);c.removeHandler(d(window),"orientationchanged.jqxgrid"+c.element.id);c.removeHandler(c.vScrollBar,"valueChanged");c.removeHandler(c.hScrollBar,"valueChanged");c.vScrollInstance.valueChanged=null;c.hScrollInstance.valueChanged=null;var a="mousedown.jqxgrid";if(c.isTouchDevice()){a=d.jqx.mobile.getTouchEventName("touchend")}c.removeHandler(c.host,"dblclick.jqxgrid");c.removeHandler(c.host,a);c.removeHandler(c.content,"mousemove",c._mousemovefunc);c.removeHandler(c.host,"mouseleave.jqxgrid");c.removeHandler(c.content,"mouseenter");c.removeHandler(c.content,"mouseleave");c.removeHandler(c.content,"mousedown");c.removeHandler(c.content,"scroll");c.removeHandler(c.content,"selectstart."+c.element.id);c.removeHandler(c.host,"dragstart."+c.element.id);c.removeHandler(c.host,"keydown.edit"+c.element.id);c.removeHandler(d(document),"keydown.edit"+c.element.id);c.removeHandler(d(document),"keyup.edit"+c.element.id);if(c._mousemovedocumentfunc){c.removeHandler(d(document),"mousemove.selection"+c.element.id,c._mousemovedocumentfunc)}c.removeHandler(d(document),"mouseup.selection"+c.element.id);if(c._mousewheelfunc){c.removeHandler(c.host,"mousewheel",c._mousewheelfunc)}if(c.editable){c.removeHandler(d(document),"mousedown.gridedit"+c.element.id)}if(c.host.off){c.content.off("mousemove");c.host.off("mousewheel")}},_addHandlers:function(){var o=this.that;var q=o.isTouchDevice();if(!q){o.addHandler(o.host,"dragstart."+o.element.id,function(h){return false})}if(o.scrollbarautoshow){o.addHandler(o.host,"mouseenter.gridscroll"+o.element.id,function(h){o.vScrollBar.fadeIn("fast");o.hScrollBar.fadeIn("fast")});o.addHandler(o.host,"mouseleave.gridscroll"+o.element.id,function(h){if(!o.vScrollInstance.isScrolling()&&!o.hScrollInstance.isScrolling()){o.vScrollBar.fadeOut("fast");o.hScrollBar.fadeOut("fast")}})}if(o.editable){o.addHandler(d(document),"mousedown.gridedit"+o.element.id,function(D){if(o.editable&&o.begincelledit){if(o.editcell){if(!o.vScrollInstance.isScrolling()&&!o.vScrollInstance.isScrolling()){var h=o.host.coord();var z=o.host.width();var C=o.host.height();var I=false;var F=false;var K=false;if(D.pageY<h.top||D.pageY>h.top+C){I=true;F=true}if(D.pageX<h.left||D.pageX>h.left+z){I=true;K=true}if(I){var J=false;if(o.editcell&&o.editcell.editor){switch(o.editcell.columntype){case"datetimeinput":if(o.editcell.editor.jqxDateTimeInput&&o.editcell.editor.jqxDateTimeInput("container")&&o.editcell.editor.jqxDateTimeInput("container")[0].style.display=="block"){var L=o.editcell.editor.jqxDateTimeInput("container").coord().top;var G=o.editcell.editor.jqxDateTimeInput("container").coord().top+o.editcell.editor.jqxDateTimeInput("container").height();if(F&&(D.pageY<L||D.pageY>G)){I=true;o.editcell.editor.jqxDateTimeInput("close")}else{return}}break;case"combobox":if(o.editcell.editor.jqxComboBox&&o.editcell.editor.jqxComboBox("container")&&o.editcell.editor.jqxComboBox("container")[0].style.display=="block"){var L=o.editcell.editor.jqxComboBox("container").coord().top;var G=o.editcell.editor.jqxComboBox("container").coord().top+o.editcell.editor.jqxComboBox("container").height();if(F&&(D.pageY<L||D.pageY>G)){I=true;o.editcell.editor.jqxComboBox("close")}else{return}}break;case"dropdownlist":if(o.editcell.editor.jqxDropDownList&&o.editcell.editor.jqxDropDownList("container")&&o.editcell.editor.jqxDropDownList("container")[0].style.display=="block"){var L=o.editcell.editor.jqxDropDownList("container").coord().top;var G=o.editcell.editor.jqxDropDownList("container").coord().top+o.editcell.editor.jqxDropDownList("container").height();if(F&&(D.pageY<L||D.pageY>G)){I=true;o.editcell.editor.jqxDropDownList("close")}else{return}}break;case"template":case"custom":var E=["jqxDropDownList","jqxComboBox","jqxDropDownButton","jqxDateTimeInput"];var A=function(t){var u=o.editcell.editor.data();if(u[t]&&u[t].instance.container&&u[t].instance.container[0].style.display=="block"){var s=u[t].instance;var w=s.container.coord().top;var v=s.container.coord().top+s.container.height();if(F&&(D.pageY<w||D.pageY>v)){I=true;s.close();return true}else{return false}}};for(var B=0;B<E.length;B++){var H=A(E[B]);if(H==false){return}}break}}o.endcelledit(o.editcell.row,o.editcell.column,false,true);o._oldselectedcell=null}}}}})}o.vScrollInstance.valueChanged=function(h){if(o.virtualsizeinfo){o._closemenu();if(o.scrollmode!="physical"){o._renderrows(o.virtualsizeinfo);o.currentScrollValue=h.currentValue}else{if(o.currentScrollValue!=undefined&&Math.abs(o.currentScrollValue-h.currentValue)>=5){o._renderrows(o.virtualsizeinfo);o.currentScrollValue=h.currentValue}else{o._renderrows(o.virtualsizeinfo);o.currentScrollValue=h.currentValue}}if(!o.pageable&&!o.groupable&&o.dataview.virtualmode){if(o.loadondemandupdate){clearTimeout(o.loadondemandupdate)}o.loadondemandupdate=setTimeout(function(){o.loadondemand=true;o._renderrows(o.virtualsizeinfo)},100)}if(q){o._lastScroll=new Date()}}};o.hScrollInstance.valueChanged=function(h){if(o.virtualsizeinfo){o._closemenu();var s=function(){o._renderhorizontalscroll();o._renderrows(o.virtualsizeinfo);if(o.editcell&&!o.editrow){if(o._showcelleditor&&o.editcell.editing){if(!o.hScrollInstance.isScrolling()){o._showcelleditor(o.editcell.row,o.getcolumn(o.editcell.column),o.editcell.element,o.editcell.init)}}}};var t=o._browser==undefined?o._isIE10():o._browser;if(navigator&&navigator.userAgent.indexOf("Safari")!=-1&&navigator.userAgent.indexOf("Chrome")==-1){if(o._hScrollTimer){clearTimeout(o._hScrollTimer)}o._hScrollTimer=setTimeout(function(){s()},1)}else{if(d.jqx.browser.msie){if(o._hScrollTimer){clearTimeout(o._hScrollTimer)}o._hScrollTimer=setTimeout(function(){s()},0.01)}else{s()}}if(q){o._lastScroll=new Date()}}};o._mousewheelfunc=o._mousewheelfunc||function(h){if(!o.editcell&&o.enablemousewheel){o.wheel(h,o);return false}};o.removeHandler(o.host,"mousewheel",o._mousewheelfunc);o.addHandler(o.host,"mousewheel",o._mousewheelfunc);var c="mousedown.jqxgrid";if(q){c=d.jqx.mobile.getTouchEventName("touchend")}o.addHandler(o.host,c,function(h){if(o.isTouchDevice()){o._newScroll=new Date();if(o._newScroll-o._lastScroll<500){return false}if(d(h.target).ischildof(o.vScrollBar)){return false}if(d(h.target).ischildof(o.hScrollBar)){return false}}o._mousedown=new Date();var s=o._handlemousedown(h,o);if(o.isNestedGrid){if(!o.resizablecolumn&&!o.columnsreorder){h.stopPropagation()}}o._lastmousedown=new Date();return s});if(!q){o.addHandler(o.host,"dblclick.jqxgrid",function(h){if(o.editable&&o.begincelledit&&o.editmode=="dblclick"){o._handledblclick(h,o)}else{if(d.jqx.browser.msie&&d.jqx.browser.version<9){var s=o._handlemousedown(h,o)}}o.mousecaptured=false;o._lastmousedown=new Date();return true});o._mousemovefunc=function(h){if(o._handlemousemove){return o._handlemousemove(h,o)}};o.addHandler(o.content,"mousemove",o._mousemovefunc);if(o._handlemousemoveselection){o._mousemovedocumentfunc=function(h){if(o._handlemousemoveselection){return o._handlemousemoveselection(h,o)}};o.addHandler(d(document),"mousemove.selection"+o.element.id,o._mousemovedocumentfunc)}o.addHandler(d(document),"mouseup.selection"+o.element.id,function(h){if(o._handlemouseupselection){o._handlemouseupselection(h,o)}})}try{if(document.referrer!=""||window.frameElement){if(window.top!=null&&window.top!=window.self){var a=null;if(window.parent&&document.referrer){a=document.referrer}if(a&&a.indexOf(document.location.host)!=-1){var l=function(h){if(o._handlemouseupselection){try{o._handlemouseupselection(h,o)}catch(s){}}};o.addHandler(d(window.top.document),"mouseup.grid"+o.element.id,l)}}}}catch(n){}o.focused=false;if(!q){o.addHandler(o.content,"mouseenter",function(h){o.focused=true;if(o.wrapper){o.wrapper.attr("tabindex",1);o.content.attr("tabindex",2)}if(o._overlayElement){if(o.vScrollInstance.isScrolling()||o.hScrollInstance.isScrolling()){o._overlayElement[0].style.visibility="visible"}else{o._overlayElement[0].style.visibility="hidden"}}});o.addHandler(o.content,"mouseleave",function(h){if(o._handlemousemove){if(o.enablehover){o._clearhoverstyle()}}if(o._overlayElement){o._overlayElement[0].style.visibility="hidden"}o.focused=false});if(o.groupable||o.columnsreorder){o.addHandler(d(document),"selectstart."+o.element.id,function(h){if(o.__drag===true){return false}})}o.addHandler(o.content,"selectstart."+o.element.id,function(h){if(o.enablebrowserselection){return true}if(o.showfilterrow){if(d(h.target).ischildof(o.filterrow)){return true}}if(o.showeverpresentrow){if(d(h.target).ischildof(o.addnewrow)){return true}if(o.addnewrowtop){if(d(h.target).ischildof(o.addnewrowtop)){return true}}}if(h.target.className&&h.target.className.indexOf("jqx-grid-widget")>=0){return true}if(!o.editcell){return false}if(h.stopPropagation){h.stopPropagation()}});o.addHandler(d(document),"keyup.edit"+o.element.id,function(h){o._keydown=false});o.addHandler(d(document),"keydown.edit"+o.element.id,function(s){o._keydown=true&&!o.editcell;var t=s.charCode?s.charCode:s.keyCode?s.keyCode:0;if(o.handlekeyboardnavigation){var h=o.handlekeyboardnavigation(s);if(h==true){return false}}if(o.editable&&o.editcell){if(t==13||t==27){if(o._handleeditkeydown){u=o._handleeditkeydown(s,o)}}}if(t==27){o.mousecaptured=false;if(o.selectionarea.css("visibility")=="visible"){o.selectionarea.css("visibility","hidden")}}if(d.jqx.browser.msie&&d.jqx.browser.version<12&&o.focused&&!o.isNestedGrid){if(t==13&&u==false){return u}var u=true;var t=s.charCode?s.charCode:s.keyCode?s.keyCode:0;if(!o.editcell&&o.editable&&o.editmode!="programmatic"){if(o._handleeditkeydown){u=o._handleeditkeydown(s,o)}}if(u&&o.keyboardnavigation&&o._handlekeydown){u=o._handlekeydown(s,o);if(!u){if(s.preventDefault){s.preventDefault()}if(s.stopPropagation!=undefined){s.stopPropagation()}}return u}}return true});o.addHandler(o.host,"keydown.edit"+o.element.id,function(s){var t=true;if(o.handlekeyboardnavigation){var h=o.handlekeyboardnavigation(s);if(h==true){return false}}if(o.editable&&o.editmode!="programmatic"){if(o._handleeditkeydown){t=o._handleeditkeydown(s,o);if(o.isNestedGrid){s.stopPropagation()}}}if(!(d.jqx.browser.msie&&d.jqx.browser.version<8)){if(t&&o.keyboardnavigation&&o._handlekeydown){t=o._handlekeydown(s,o);if(o.isNestedGrid){s.stopPropagation()}}}else{if(o.isNestedGrid){if(t&&o.keyboardnavigation&&o._handlekeydown){t=o._handlekeydown(s,o);s.stopPropagation()}}}if(!t){if(s.preventDefault){s.preventDefault()}if(s.stopPropagation!=undefined){s.stopPropagation()}}return t})}},_hittestrow:function(I,c){if(this.vScrollInstance==null||this.hScrollInstance==null){return}if(I==undefined){I=0}if(c==undefined){c==0}var z=this.vScrollInstance;var A=this.hScrollInstance;var F=z.value;if(this.vScrollBar.css("visibility")!="visible"){F=0}var w=A.value;if(this.hScrollBar.css("visibility")!="visible"){w=0}if(this.scrollmode=="deferred"&&this._newmax!=null){if(F>this._newmax){F=this._newmax}}var a=parseInt(F)+c;var B=parseInt(w)+I;if(this.visiblerows==null){return}if(this.visiblerows.length==0){return}var G=false;var C=this._findvisiblerow(a,this.visiblerows);if(C>=0){var u=this.visiblerows[C];var H=this.rowdetails&&u.rowdetails;var v=!u.rowdetailshidden;if(H){var E=this.visiblerows[C-1];if(E==u){u=E;C--}if(v){var D=d(this.hittestinfo[C].visualrow).position().top+parseInt(this.table.css("top"));var t=d(this.hittestinfo[C].visualrow).height();if(!(c>=D&&c<=D+t)){C++;u=this.visiblerows[C];G=true}}}}return{index:C,row:u,details:G}},getcellatposition:function(S,K){var I=this.that;var a=this.showheader?this.columnsheader.height()+2:0;var G=this._groupsheader()?this.groupsheader.height():0;var J=this.showtoolbar?this.toolbarheight:0;G+=J;var U=this.host.coord();if(this.hasTransform){U=d.jqx.utilities.getOffset(this.host)}var M=S-U.left;var O=K-a-U.top-G;var X=this._hittestrow(M,O);var R=X.row;var Q=X.index;var F=this.table[0].rows[Q];if(this.dataview&&this.dataview.records.length==0){var N=this.table[0].rows;var H=0;for(var c=0;c<N.length;c++){if(O>=H&&O<H+this.rowsheight){F=N[c];break}H+=this.rowsheight}R={boundindex:c}}if(F==null){return true}var E=this.hScrollInstance;var D=E.value;var V=0;var P=this.groupable?this.groups.length:0;for(var c=0;c<F.cells.length;c++){var T=parseInt(d(this.columnsrow[0].cells[c]).css("left"));var S=T-D;if(I.columns.records[c].pinned){S=T}if(I.columns.records[c].hidden){continue}var L=S+d(this.columnsrow[0].cells[c]).width();if(L>=M&&M>=S){V=c;break}}if(R!=null){var W=this._getcolumnat(V);return{row:this.getboundindex(R),column:W.datafield,value:this.getcellvalue(this.getboundindex(R),W.datafield)}}return null},_handlemousedown:function(S,av){if(S.target==null){return true}if(av.disabled){return true}if(d(S.target).ischildof(this.columnsheader)||d(S.target).ischildof(this.hScrollBar)||d(S.target).ischildof(this.vScrollBar)){return true}var au;if(S.which){au=(S.which==3)}else{if(S.button){au=(S.button==2)}}var Z;if(S.which){Z=(S.which==2)}else{if(S.button){Z=(S.button==1)}}if(Z){return true}if(this.showstatusbar){if(d(S.target).ischildof(this.statusbar)){return true}if(S.target==this.statusbar[0]){return true}}if(this.showtoolbar){if(d(S.target).ischildof(this.toolbar)){return true}if(S.target==this.toolbar[0]){return true}}if(this.pageable){if(d(S.target).ischildof(this.pager)){return true}if(S.target==this.pager[0]){return true}}if(!this.columnsheader){return true}if(!this.editcell){if(this.pageable){if(d(S.target).ischildof(this.pager)){return true}}}var U=this.showheader?this.columnsheader.height()+2:0;var al=this._groupsheader()?this.groupsheader.height():0;var ai=this.showtoolbar?this.toolbarheight:0;al+=ai;var W=this.host.coord();if(this.hasTransform){W=d.jqx.utilities.getOffset(this.host);var a=this._getBodyOffset();W.left-=a.left;W.top-=a.top}var ay=parseInt(S.pageX);var ax=parseInt(S.pageY);if(this.isTouchDevice()){var c=av.getTouches(S);var aa=c[0];ay=parseInt(aa.pageX);ax=parseInt(aa.pageY);if(av.touchmode==true){if(aa._pageX!=undefined){ay=parseInt(aa._pageX);ax=parseInt(aa._pageY)}}}var af=ay-W.left;var ag=ax-U-W.top-al;if(this.pageable&&!this.autoheight&&this.gotopage){var aC=this.pager.coord().top-W.top-al-U;if(ag>aC){return}}var V=this._hittestrow(af,ag);if(!V){return}if(V.details){return}var aq=V.row;var aj=V.index;var ap=S.target.className;var az=this.table[0].rows[aj];if(az==null){if(av.editable&&av.begincelledit){if(av.editcell){av.endcelledit(av.editcell.row,av.editcell.column,false,true)}}return true}av.mousecaptured=true;av.mousecaptureposition={left:S.pageX,top:S.pageY-al,clickedrow:az};var aw=this.hScrollInstance;var an=aw.value;if(this.rtl){if(this.hScrollBar.css("visibility")!="hidden"){an=aw.max-aw.value}}var ah=-1;var ak=this.groupable?this.groups.length:0;if(this.rtl){if(this.vScrollBar[0].style.visibility!="hidden"){an-=this.scrollbarsize+4}if(this.hScrollBar[0].style.visibility=="hidden"){an=-parseInt(this.content.css("left"))}}for(var Y=0;Y<az.cells.length;Y++){var X=parseInt(d(this.columnsrow[0].cells[Y]).css("left"));var ay=X-an;if(av.columns.records[Y].pinned&&!av.rtl){ay=X}var ae=this._getcolumnat(Y);if(ae!=null&&ae.hidden){continue}var ad=ay+d(this.columnsrow[0].cells[Y]).width();if(ad>=af&&af>=ay){ah=Y;av.mousecaptureposition.clickedcell=Y;break}}if(this.rtl&&this._haspinned){for(var Y=az.cells.length-1;Y>=0;Y--){if(!av.columns.records[Y].pinned){break}var X=d(this.columnsrow[0].cells[Y]).coord().left-this.host.coord().left;var ay=X;var ae=this._getcolumnat(Y);if(ae!=null&&ae.hidden){continue}var ad=ay+d(this.columnsrow[0].cells[Y]).width();if(ad>=af&&af>=ay){ah=Y;av.mousecaptureposition.clickedcell=Y;break}}}if(aq!=null&&ah>=0){this._raiseEvent(1,{rowindex:this.getboundindex(aq),visibleindex:aq.visibleindex,row:aq,group:aq.group,rightclick:au,originalEvent:S});var ae=this._getcolumnat(ah);var ac=this.getcellvalue(this.getboundindex(aq),ae.datafield);if(this.editable&&this.editcell){if(ae.datafield==this.editcell.column){if(this.getboundindex(aq)==this.editcell.row){this.mousecaptured=false}}}this._raiseEvent(8,{rowindex:this.getboundindex(aq),column:ae?ae.getcolumnproperties():null,row:aq,visibleindex:aq.visibleindex,datafield:ae?ae.datafield:null,columnindex:ah,value:ac,rightclick:au,originalEvent:S});if(ae.createwidget){return true}if(this.isTouchDevice()){if(ae.columntype=="checkbox"&&this.editable&&this._overlayElement){if(!this.editcell){this._overlayElement.css("visibility","hidden");this.editcell=this.getcell(aj,ae.datafield);return true}}else{if(ae.columntype=="button"&&this._overlayElement){if(ae.buttonclick){ae.buttonclick(az.cells[ah].buttonrow,S)}return true}}}var aA=false;if(this._lastmousedown!=null){if(this._mousedown-this._lastmousedown<300){if(this._clickedrowindex==this.getboundindex(aq)){this._raiseEvent(22,{rowindex:this.getboundindex(aq),row:aq,visibleindex:aq.visibleindex,group:aq.group,rightclick:au,originalEvent:S});if(this._clickedcolumn==ae.datafield){this._raiseEvent(23,{rowindex:this.getboundindex(aq),row:aq,visibleindex:aq.visibleindex,column:ae?ae.getcolumnproperties():null,datafield:ae?ae.datafield:null,columnindex:ah,value:ac,rightclick:au,originalEvent:S})}aA=true;this._clickedrowindex=-1;this._clickedcolumn=null;if(S.isPropagationStopped&&S.isPropagationStopped()){return false}}}}if(au){return true}if(!aA){this._clickedrowindex=this.getboundindex(aq);this._clickedcolumn=ae.datafield}var aB=d.jqx.utilities.getBrowser();if(aB.browser=="msie"&&parseInt(aB.version)<=7){if(ah==0&&this.rowdetails){ap="jqx-grid-group-collapse"}if(ak>0){if(ah<=ak){ap="jqx-grid-group-collapse"}}}if(ap.indexOf("jqx-grid-group-expand")!=-1||ap.indexOf("jqx-grid-group-collapse")!=-1){if(!this.rtl){if(ak>0&&ah<ak&&this._togglegroupstate){this._togglegroupstate(aq.bounddata,true)}else{if(ah==ak&&this.rowdetails&&this.showrowdetailscolumn){this._togglerowdetails(aq.bounddata,true);this.gridcontent[0].scrollTop=0;this.gridcontent[0].scrollLeft=0}}}else{if(ak>0&&ah>az.cells.length-ak-1&&this._togglegroupstate){this._togglegroupstate(aq.bounddata,true)}else{if(ah==az.cells.length-1-ak&&this.rowdetails&&this.showrowdetailscolumn){this._togglerowdetails(aq.bounddata,true);this.gridcontent[0].scrollTop=0;this.gridcontent[0].scrollLeft=0}}}}else{if(aq.boundindex!=-1){var at=this.selectedrowindexes.slice(0);var T=false;if(av.selectionmode!="none"&&av.selectionmode!="checkbox"&&this._selectrowwithmouse){if(av.selectionmode=="multiplecellsadvanced"||av.selectionmode=="multiplecellsextended"||av.selectionmode=="multiplerowsextended"||av.selectionmode=="multiplerowsadvanced"){if(!S.ctrlKey&&!S.shiftKey&&!S.metaKey){av.selectedrowindexes=new Array();av.selectedcells=new Array()}}var am=false;var ar=this.getboundindex(aq);if(av._oldselectedrow===ar||av.selectionmode==="none"){am=true}if(av.selectionmode.indexOf("cell")==-1){if((av.selectionmode!="singlerow")||(av.selectedrowindex!=ar&&av.selectionmode=="singlerow")){this._applyrowselection(ar,true,false,null,ae.datafield);this._selectrowwithmouse(av,V,at,ae.datafield,S.ctrlKey||S.metaKey,S.shiftKey)}}else{if(ae.datafield!=null){this._selectrowwithmouse(av,V,at,ae.datafield,S.ctrlKey||S.metaKey,S.shiftKey);if(!S.shiftKey){this._applycellselection(ar,ae.datafield,true,false)}}}if(av._oldselectedcell){if(av._oldselectedcell.datafield==av.selectedcell.datafield&&av._oldselectedcell.rowindex==av.selectedcell.rowindex){T=true}}av._oldselectedcell=av.selectedcell;av._oldselectedrow=ar}if(av.autosavestate){if(av.savestate){av.savestate()}}if(av.editable&&av.begincelledit&&av.editmode!="programmatic"){if(S.isPropagationStopped&&S.isPropagationStopped()){return false}if(av.editmode=="selectedrow"){if(am&&!av.editcell){if(ae.columntype!=="checkbox"){var ao=av.beginrowedit(this.getboundindex(aq))}}else{if(av.editcell&&!am&&av.selectionmode!="none"){var ao=av.endrowedit(av.editcell.row)}}}else{var ab=av.editmode=="click"||(T&&av.editmode=="selectedcell");if(av.selectionmode.indexOf("cell")==-1){if(av.editmode!="dblclick"){ab=true}}if(ab){if(aq.boundindex!=undefined&&ae.editable){var ao=av.begincelledit(this.getboundindex(aq),ae.datafield,ae.defaulteditorvalue);if(av.selectionmode.indexOf("cell")!=-1){av._applycellselection(ar,ae.datafield,false,false)}}}if(av.selectionmode.indexOf("cell")!=-1){if(av.editmode=="selectedcell"&&!T&&av.editcell){av.endcelledit(av.editcell.row,av.editcell.column,false,true)}}}return true}}}}return true},_columnPropertyChanged:function(h,l,a,c){},_rowPropertyChanged:function(a,l,c,h){},_serializeObject:function(c){if(c==null){return""}var a="";d.each(c,function(n){var l=this;if(n>0){a+=", "}a+="[";var o=0;for(obj in l){if(o>0){a+=", "}a+="{"+obj+":"+l[obj]+"}";o++}a+="]"});return a},isbindingcompleted:function(){return !this._loading},propertyChangedHandler:function(o,n,a,c){if(this.isInitialized==undefined||this.isInitialized==false){return}n=n.toLowerCase();switch(n){case"editable":o.refresh();break;case"everpresentrowactionsmode":if(a!=c){o._removeaddnewrow();o.render()}break;case"everpresentrowactions":o._updateaddnewrowui();break;case"showeverpresentrow":case"everpresentrowposition":case"everpresentrowheight":if(a!=c){o._removeaddnewrow();o.render()}break;case"rtl":o.content.css("left","");o.columns=o._columns;o._filterrowcache=[];o.vScrollBar.jqxScrollBar({rtl:c});o.hScrollBar.jqxScrollBar({rtl:c});if(o._initpager){o._initpager()}if(o._initgroupsheader){o._initgroupsheader()}o.render();break;case"enablebrowserselection":if(!o.showfilterrow){if(!o.showstatusbar&&!o.showtoolbar){o.host.addClass("jqx-disableselect")}o.content.addClass("jqx-disableselect")}if(o.enablebrowserselection){o.content.removeClass("jqx-disableselect");o.host.removeClass("jqx-disableselect")}break;case"columnsheight":if(o.columnsheight!=25||o.columngroups){o._measureElement("column")}o._render(true,true,true,false,false);break;case"rowsheight":if(c!=a){if(o.rowsheight!=25){o._measureElement("cell")}o.virtualsizeinfo=null;o.rendergridcontent(true,false);o.refresh()}break;case"scrollMode":o.vScrollInstance.thumbStep=o.rowsheight;break;case"showdefaultloadelement":o._builddataloadelement();break;case"showfiltermenuitems":case"showsortmenuitems":case"showgroupmenuitems":case"filtermode":o._initmenu();break;case"touchmode":if(a!=c){o._removeHandlers();o.touchDevice=null;o.vScrollBar.jqxScrollBar({touchMode:c});o.hScrollBar.jqxScrollBar({touchMode:c});o._updateTouchScrolling();o._arrange();o._updatecolumnwidths();o._updatecellwidths();o._addHandlers()}break;case"autoshowcolumnsmenubutton":if(a!=c){o._rendercolumnheaders()}break;case"rendergridrows":if(a!=c){o.updatebounddata()}break;case"editmode":if(a!=c){o._removeHandlers();o._addHandlers()}break;case"source":o.updatebounddata();if(o.virtualmode&&!o._loading){o.loadondemand=true;o._renderrows(o.virtualsizeinfo)}break;case"horizontalscrollbarstep":case"verticalscrollbarstep":case"horizontalscrollbarlargestep":case"verticalscrollbarlargestep":this.vScrollBar.jqxScrollBar({step:this.verticalscrollbarstep,largestep:this.verticalscrollbarlargestep});this.hScrollBar.jqxScrollBar({step:this.horizontalscrollbarstep,largestep:this.horizontalscrollbarlargestep});break;case"closeablegroups":if(o._initgroupsheader){o._initgroupsheader()}break;case"showgroupsheader":if(a!=c){o._arrange();if(o._initgroupsheader){o._initgroupsheader()}o._renderrows(o.virtualsizeinfo)}break;case"theme":if(c!=a){d.jqx.utilities.setTheme(a,c,o.host);if(o.gridmenu){o.gridmenu.jqxMenu({theme:c})}if(o.pageable){o._updatepagertheme()}if(o.filterable){o._updatefilterrowui(true)}if(o.showeverpresentrow){o._updateaddnewrowui(true)}}break;case"showtoolbar":case"toolbarheight":if(a!=c){o._arrange();o.refresh()}break;case"showstatusbar":if(a!=c){if(o.statusbar){if(c){o.statusbar.show()}else{o.statusbar.hide()}}o._arrange();o.refresh()}break;case"statusbarheight":if(a!=c){o._arrange();o.refresh()}break;case"filterable":case"showfilterrow":if(a!=c){o.render()}break;case"autoshowfiltericon":case"showfiltercolumnbackground":case"showpinnedcolumnbackground":case"showsortcolumnbackground":if(a!=c){o.rendergridcontent()}break;case"showrowdetailscolumn":if(a!=c){o.render()}break;case"scrollbarsize":if(a!=c){o._arrange()}break;case"width":case"height":if(a!=c){o._updatesize(true,true);o._resizeWindow();if(o.virtualmode&&!o._loading){o.vScrollInstance.setPosition(0)}else{setTimeout(function(){o._renderrows(o.virtualsizeinfo)},100)}}break;case"altrows":case"altstart":case"altstep":if(a!=c){o._renderrows(o.virtualsizeinfo)}break;case"groupsheaderheight":if(a!=c){o._arrange();if(o._initgroupsheader){o._initgroupsheader()}}break;case"pagerheight":if(a!=c){o._initpager()}break;case"selectedrowindex":o.selectrow(c);break;case"selectionmode":if(a!=c){if(c=="none"){o.selectedrowindexes=new Array();o.selectedcells=new Array();o.selectedrowindex=-1}o._renderrows(o.virtualsizeinfo);if(c=="checkbox"){o._render(false,false,true,false,false)}}break;case"showheader":if(c){o.columnsheader.css("display","block")}else{o.columnsheader.css("display","none")}break;case"virtualmode":if(a!=c){o.dataview.virtualmode=o.virtualmode;o.dataview.refresh(false);o._render(false,false,false)}break;case"columnsmenu":if(a!=c){o.render()}break;case"columngroups":o._render(true,true,true,false,false);break;case"columns":if(o._serializeObject(o._cachedcolumns)!==o._serializeObject(c)){var q=false;if(o.filterable){if(a&&a.records){d.each(a.records,function(){if(this.filter){q=true}o.dataview.removefilter(this.displayfield,this.filter)})}}o._columns=null;o._filterrowcache=[];o.render();if(q){o.applyfilters()}o._cachedcolumns=o.columns;if(o.removesort){o.removesort()}}else{o[n]=a}break;case"autoheight":if(a!=c){o._render(false,false,true)}break;case"pagermode":case"pagerbuttonscount":if(a!=c){if(o._initpager){if(o.pagershowrowscombo){o.pagershowrowscombo.jqxDropDownList("destroy");o.pagershowrowscombo=null}if(o.pagerrightbutton){o.removeHandler(o.pagerrightbutton,"mousedown");o.removeHandler(o.pagerrightbutton,"mouseup");o.removeHandler(o.pagerrightbutton,"click");o.pagerrightbutton.jqxButton("destroy");o.pagerrightbutton=null}if(o.pagerleftbutton){o.removeHandler(o.pagerleftbutton,"mousedown");o.removeHandler(o.pagerleftbutton,"mouseup");o.removeHandler(o.pagerleftbutton,"click");o.pagerleftbutton.jqxButton("destroy");o.removeHandler(d(document),"mouseup.pagerbuttons"+o.element.id);o.pagerleftbutton=null}o.pagerdiv.remove();o._initpager()}}break;case"pagesizeoptions":case"pageable":case"pagesize":if(a!=c){if(o._loading){throw new Error("jqxGrid: "+o.loadingerrormessage);return}if(!o.host.jqxDropDownList||!o.host.jqxListBox){o._testmodules();return}if(o._initpager){if(n!="pageable"&&n!="pagermode"){if(typeof(c)=="string"){var l="The expected value type is: Int.";if(n!="pagesize"){var l="The expected value type is: Array of Int values."}throw new Error("Invalid Value for: "+n+". "+l)}}o.dataview.pageable=o.pageable;o.dataview.pagenum=0;o.dataview.pagesize=o._getpagesize();if(o.virtualmode){o.updatebounddata()}o.dataview.refresh(true);o._initpager();if(n=="pagesizeoptions"){if(c!=null&&c.length>0){o.pagesize=parseInt(c[0]);o.dataview.pagesize=parseInt(c[0]);o.prerenderrequired=true;o._requiresupdate=true;o.dataview.pagenum=-1;o.gotopage(0)}}}o._render(false,false,false)}break;case"groups":if(o._serializeObject(a)!==o._serializeObject(c)){o.dataview.groups=c;o._refreshdataview();o._render(true,true,true,false)}break;case"groupable":if(a!=c){o.dataview.groupable=o.groupable;o.dataview.pagenum=0;o.dataview.refresh(false);o._render(false,false,true)}break;case"renderstatusbar":if(c!=null){o.renderstatusbar(o.statusbar)}break;case"rendertoolbar":if(c!=null){o.rendertoolbar(o.toolbar)}break;case"disabled":if(c){o.host.addClass(o.toThemeProperty("jqx-fill-state-disabled"))}else{o.host.removeClass(o.toThemeProperty("jqx-fill-state-disabled"))}d.jqx.aria(o,"aria-disabled",o.disabled);if(o.pageable){if(o.pagerrightbutton){o.pagerrightbutton.jqxButton({disabled:c});o.pagerleftbutton.jqxButton({disabled:c});o.pagershowrowscombo.jqxDropDownList({disabled:c});o.pagergotoinput.attr("disabled",c)}if(o.pagerfirstbutton){o.pagerfirstbutton.jqxButton({disabled:c});o.pagerlastbutton.jqxButton({disabled:c})}}o.vScrollBar.jqxScrollBar({disabled:c});o.hScrollBar.jqxScrollBar({disabled:c});if(o.filterable&&o.showfilterrow){o._updatefilterrowui(true)}if(o.showeverpresentrow){o._updateaddnewrowui(true)}break}}});function f(c,a){this.owner=c;this.datafield=null;this.displayfield=null;this.text="";this.createfilterpanel=null;this.sortable=true;this.hideable=true;this.editable=true;this.hidden=false;this.groupable=true;this.renderer=null;this.cellsrenderer=null;this.checkchange=null,this.threestatecheckbox=false;this.buttonclick=null,this.columntype=null;this.cellsformat="";this.align="left";this.cellsalign="left";this.width="auto";this.minwidth=25;this.maxwidth="auto";this.pinned=false;this.visibleindex=-1;this.filterable=true;this.filter=null;this.filteritems=[];this.resizable=true;this.initeditor=null;this.createeditor=null;this.createwidget=null;this.initwidget=null;this.destroywidget=null;this.destroyeditor=null;this.geteditorvalue=null;this.validation=null;this.classname="";this.cellclassname="";this.cellendedit=null;this.cellbeginedit=null;this.cellvaluechanging=null;this.aggregates=null;this.aggregatesrenderer=null;this.menu=true;this.createfilterwidget=null;this.filtertype="default";this.filtercondition=null;this.rendered=null;this.exportable=true;this.exporting=false;this.draggable=true;this.nullable=true;this.clipboard=true;this.enabletooltips=true;this.columngroup=null;this.filterdelay=800;this.reseteverpresentrowwidgetvalue=null;this.geteverpresentrowwidgetvalue=null;this.createeverpresentrowwidget=null;this.initeverpresentrowwidget=null;this.validateeverpresentrowwidgetvalue=null;this.destroyeverpresentrowwidget=null;this.getcolumnproperties=function(){return{nullable:this.nullable,sortable:this.sortable,hideable:this.hideable,hidden:this.hidden,groupable:this.groupable,width:this.width,align:this.align,editable:this.editable,minwidth:this.minwidth,maxwidth:this.maxwidth,resizable:this.resizable,datafield:this.datafield,text:this.text,exportable:this.exportable,cellsalign:this.cellsalign,pinned:this.pinned,cellsformat:this.cellsformat,columntype:this.columntype,classname:this.classname,cellclassname:this.cellclassname,menu:this.menu}},this.setproperty=function(o,n){if(this[o]){var l=this[o];this[o]=n;this.owner._columnPropertyChanged(this,o,n,l)}else{if(this[o.toLowerCase()]){var l=this[o.toLowerCase()];this[o.toLowerCase()]=n;this.owner._columnPropertyChanged(this,o.toLowerCase(),n,l)}}};this._initfields=function(n){if(n!=null){var o=this.that;if(d.jqx.hasProperty(n,"dataField")){this.datafield=d.jqx.get(n,"dataField")}if(d.jqx.hasProperty(n,"displayField")){this.displayfield=d.jqx.get(n,"displayField")}else{this.displayfield=this.datafield}if(d.jqx.hasProperty(n,"enableTooltips")){this.enabletooltips=d.jqx.get(n,"enableTooltips")}if(d.jqx.hasProperty(n,"text")){this.text=d.jqx.get(n,"text")}else{this.text=this.displayfield}if(d.jqx.hasProperty(n,"createfilterpanel")){this.createfilterpanel=d.jqx.get(n,"createfilterpanel")}if(d.jqx.hasProperty(n,"sortable")){this.sortable=d.jqx.get(n,"sortable")}if(d.jqx.hasProperty(n,"hideable")){this.hideable=d.jqx.get(n,"hideable")}if(d.jqx.hasProperty(n,"hidden")){this.hidden=d.jqx.get(n,"hidden")}if(d.jqx.hasProperty(n,"groupable")){this.groupable=d.jqx.get(n,"groupable")}if(d.jqx.hasProperty(n,"renderer")){this.renderer=d.jqx.get(n,"renderer")}if(d.jqx.hasProperty(n,"align")){this.align=d.jqx.get(n,"align")}if(d.jqx.hasProperty(n,"cellsAlign")){this.cellsalign=d.jqx.get(n,"cellsAlign")}if(d.jqx.hasProperty(n,"clipboard")){this.cellsalign=d.jqx.get(n,"clipboard")}if(d.jqx.hasProperty(n,"cellsFormat")){this.cellsformat=d.jqx.get(n,"cellsFormat")}if(d.jqx.hasProperty(n,"width")){this.width=d.jqx.get(n,"width")}if(d.jqx.hasProperty(n,"minWidth")){this.minwidth=parseInt(d.jqx.get(n,"minWidth"));if(isNaN(this.minwidth)){this.minwidth=25}}if(d.jqx.hasProperty(n,"maxWidth")){this.maxwidth=parseInt(d.jqx.get(n,"maxWidth"));if(isNaN(this.maxwidth)){this.maxwidth="auto"}}if(d.jqx.hasProperty(n,"cellsRenderer")){this.cellsrenderer=d.jqx.get(n,"cellsRenderer")}else{if(n.cellsRenderer){this.cellsrenderer=n.cellsRenderer}}if(d.jqx.hasProperty(n,"columnType")){this.columntype=d.jqx.get(n,"columnType")}if(d.jqx.hasProperty(n,"checkChange")){this.checkchange=d.jqx.get(n,"checkChange")}if(d.jqx.hasProperty(n,"buttonClick")){this.buttonclick=d.jqx.get(n,"buttonClick")}else{if(n.buttonClick){this.buttonclick=n.buttonClick}}if(d.jqx.hasProperty(n,"pinned")){this.pinned=d.jqx.get(n,"pinned")}if(d.jqx.hasProperty(n,"visibleIndex")){this.visibleindex=d.jqx.get(n,"visibleIndex")}if(d.jqx.hasProperty(n,"filterable")){this.filterable=d.jqx.get(n,"filterable")}if(d.jqx.hasProperty(n,"filter")){this.filter=d.jqx.get(n,"filter")}if(d.jqx.hasProperty(n,"resizable")){this.resizable=d.jqx.get(n,"resizable")}if(d.jqx.hasProperty(n,"editable")){this.editable=d.jqx.get(n,"editable")}if(d.jqx.hasProperty(n,"initEditor")){this.initeditor=d.jqx.get(n,"initEditor")}else{if(n.initEditor){this.initeditor=n.initEditor}}if(d.jqx.hasProperty(n,"createEditor")){this.createeditor=d.jqx.get(n,"createEditor")}else{if(n.createEditor){this.createeditor=n.createEditor}}if(d.jqx.hasProperty(n,"initWidget")){this.initwidget=d.jqx.get(n,"initWidget")}else{if(n.initWidget){this.initwidget=n.initWidget}}if(d.jqx.hasProperty(n,"createWidget")){this.createwidget=d.jqx.get(n,"createWidget")}else{if(n.createWidget){this.createwidget=n.createWidget}}if(d.jqx.hasProperty(n,"destroyWidget")){this.destroywidget=d.jqx.get(n,"destroyWidget")}else{if(n.destroyWidget){this.destroywidget=n.destroyWidget}}if(d.jqx.hasProperty(n,"reseteverpresentrowwidgetvalue")||d.jqx.hasFunction(n,"reseteverpresentrowwidgetvalue")){this.reseteverpresentrowwidgetvalue=d.jqx.get(n,"reseteverpresentrowwidgetvalue")}else{if(n.resetEverPresentRowWidgetValue){this.reseteverpresentrowwidgetvalue=n.resetEverPresentRowWidgetValue}}if(d.jqx.hasProperty(n,"geteverpresentrowwidgetvalue")||d.jqx.hasFunction(n,"geteverpresentrowwidgetvalue")){this.geteverpresentrowwidgetvalue=d.jqx.get(n,"geteverpresentrowwidgetvalue")}else{if(n.getEverPresentRowWidgetValue){this.geteverpresentrowwidgetvalue=n.getEverPresentRowWidgetValue}}if(d.jqx.hasProperty(n,"createeverpresentrowwidget")||d.jqx.hasFunction(n,"createeverpresentrowwidget")){this.createeverpresentrowwidget=d.jqx.get(n,"createeverpresentrowwidget")}else{if(n.createEverPresentRowWidget){this.createeverpresentrowwidget=n.createEverPresentRowWidget}}if(d.jqx.hasProperty(n,"initeverpresentrowwidget")||d.jqx.hasFunction(n,"initeverpresentrowwidget")){this.initeverpresentrowwidget=d.jqx.get(n,"initeverpresentrowwidget")}else{if(n.initEverPresentRowWidget){this.initeverpresentrowwidget=n.initEverPresentRowWidget}}if(d.jqx.hasProperty(n,"validateeverpresentrowwidgetvalue")){this.validateeverpresentrowwidgetvalue=d.jqx.get(n,"validateeverpresentrowwidgetvalue")}else{if(n.validateEverPresentRowWidgetValue){this.validateeverpresentrowwidgetvalue=n.validateEverPresentRowWidgetValue}}if(d.jqx.hasProperty(n,"destroyeverpresentrowwidget")||d.jqx.hasFunction(n,"destroyeverpresentrowwidget")){this.destroyeverpresentrowwidget=d.jqx.get(n,"destroyeverpresentrowwidget")}else{if(n.destroyEverPresentRowWidget){this.destroyEverPresentRowWidget=n.destroyEverPresentRowWidget}}if(d.jqx.hasProperty(n,"destroyEditor")){this.destroyeditor=d.jqx.get(n,"destroyEditor")}else{if(n.destroyEditor){this.destroyeditor=n.destroyEditor}}if(d.jqx.hasProperty(n,"getEditorValue")){this.geteditorvalue=d.jqx.get(n,"getEditorValue")}else{if(n.getEditorValue){this.geteditorvalue=n.getEditorValue}}if(d.jqx.hasProperty(n,"validation")){this.validation=d.jqx.get(n,"validation")}else{if(n.validation){this.validation=n.validation}}if(d.jqx.hasProperty(n,"cellBeginEdit")){this.cellbeginedit=d.jqx.get(n,"cellBeginEdit")}else{if(n.cellBeginEdit){this.cellbeginedit=n.cellBeginEdit}}if(d.jqx.hasProperty(n,"cellEndEdit")){this.cellendedit=d.jqx.get(n,"cellEndEdit")}else{if(n.cellEndEdit){this.cellendedit=n.cellEndEdit}}if(d.jqx.hasProperty(n,"className")){this.classname=d.jqx.get(n,"className")}if(d.jqx.hasProperty(n,"cellClassName")){this.cellclassname=d.jqx.get(n,"cellClassName")}else{if(n.cellClassName){this.cellclassname=n.cellClassName}}if(d.jqx.hasProperty(n,"menu")){this.menu=d.jqx.get(n,"menu")}if(d.jqx.hasProperty(n,"aggregates")){this.aggregates=d.jqx.get(n,"aggregates")}if(d.jqx.hasProperty(n,"aggregatesRenderer")){this.aggregatesrenderer=d.jqx.get(n,"aggregatesRenderer")}if(d.jqx.hasProperty(n,"createFilterWidget")){this.createfilterwidget=d.jqx.get(n,"createFilterWidget")}if(d.jqx.hasProperty(n,"filterType")){this.filtertype=d.jqx.get(n,"filterType")}if(d.jqx.hasProperty(n,"filterDelay")){this.filterdelay=d.jqx.get(n,"filterDelay")}if(d.jqx.hasProperty(n,"rendered")){this.rendered=d.jqx.get(n,"rendered")}if(d.jqx.hasProperty(n,"exportable")){this.exportable=d.jqx.get(n,"exportable")}if(d.jqx.hasProperty(n,"filterItems")){this.filteritems=d.jqx.get(n,"filterItems")}if(d.jqx.hasProperty(n,"cellValueChanging")){this.cellvaluechanging=d.jqx.get(n,"cellValueChanging")}if(d.jqx.hasProperty(n,"draggable")){this.draggable=d.jqx.get(n,"draggable")}if(d.jqx.hasProperty(n,"filterCondition")){this.filtercondition=d.jqx.get(n,"filterCondition")}if(d.jqx.hasProperty(n,"threeStateCheckbox")){this.threestatecheckbox=d.jqx.get(n,"threeStateCheckbox")}if(d.jqx.hasProperty(n,"nullable")){this.nullable=d.jqx.get(n,"nullable")}if(d.jqx.hasProperty(n,"columnGroup")){this.columngroup=d.jqx.get(n,"columnGroup")}if(!n instanceof String&&!(typeof n=="string")){for(var l in n){if(!o.hasOwnProperty(l)){if(!o.hasOwnProperty(l.toLowerCase())){c.host.remove();throw new Error("jqxGrid: Invalid property name - "+l+".")}}}}}};this._initfields(a);return this}function e(c,a){this.setdata=function(h){if(h!=null){this.bounddata=h;this.boundindex=h.boundindex;this.visibleindex=h.visibleindex;this.group=h.group;this.parentbounddata=h.parentItem;this.uniqueid=h.uniqueid;this.level=h.level}};this.setdata(a);this.parentrow=null;this.subrows=new Array();this.owner=c;this.height=25;this.hidden=false;this.rowdetails=null;this.rowdetailsheight=100;this.rowdetailshidden=true;this.top=-1;this.setrowinfo=function(h){this.hidden=h.hidden;this.rowdetails=h.rowdetails;this.rowdetailsheight=h.rowdetailsheight;this.rowdetailshidden=!h.showdetails;this.height=h.height};return this}d.jqx.collection=function(a){this.records=new Array();this.owner=a;this.updating=false;this.beginupdate=function(){this.updating=true};this.resumeupdate=function(){this.updating=false};this._raiseEvent=function(c){};this.clear=function(){this.records=new Array()};this.replace=function(c,h){this.records[c]=h;if(!this.updating){this._raiseEvent({type:"replace",element:h})}};this.isempty=function(c){if(this.records[c]==undefined){return true}return false};this.initialize=function(c){if(c<1){c=1}this.records[c-1]=-1};this.length=function(){return this.records.length};this.indexOf=function(c){return this.records.indexOf(c)};this.add=function(c){if(c==null){return false}this.records[this.records.length]=c;if(!this.updating){this._raiseEvent({type:"add",element:c})}return true};this.insertAt=function(c,h){if(c==null||c==undefined){return false}if(h==null){return false}if(c>=0){if(c<this.records.length){this.records.splice(c,0,h);if(!this.updating){this._raiseEvent({type:"insert",index:c,element:h})}return true}else{return this.add(h)}}return false};this.remove=function(c){if(c==null||c==undefined){return false}var h=this.records.indexOf(c);if(h!=-1){this.records.splice(h,1);if(!this.updating){this._raiseEvent({type:"remove",element:c})}return true}return false};this.removeAt=function(c){if(c==null||c==undefined){return false}if(c<0){return false}if(c<this.records.length){var h=this.records[c];this.records.splice(c,1);if(!this.updating){this._raiseEvent({type:"removeAt",index:c,element:h})}return true}return false};return this};d.jqx.dataview=function(){this.self=this;this.grid=null;this.uniqueId="id";this.records=[];this.rows=[];this.columns=[];this.groups=[];this.filters=new Array();this.updated=null;this.update=null;this.suspend=false;this.pagesize=0;this.pagenum=0;this.totalrows=0;this.totalrecords=0;this.groupable=true;this.loadedrecords=[];this.loadedrootgroups=[];this.loadedgroups=[];this.loadedgroupsByKey=[];this.virtualmode=true;this._cachegrouppages=new Array();this.source=null;this.changedrecords=new Array();this.rowschangecallback=null;this.that=this;this.destroy=function(){delete this.self;delete this.grid;delete this.uniqueId;delete this.records;delete this.rows;delete this.columns;delete this.groups;delete this.filters;delete this.updated;delete this.update;delete this.suspend;delete this.pagesize;delete this.pagenum;delete this.totalrows;delete this.totalrecords;delete this.groupable;delete this.loadedrecords;delete this.loadedrootgroups;delete this.loadedgroups;delete this.loadedgroupsByKey;delete this.virtualmode;delete this._cachegrouppages;delete this.source;delete this.changedrecords;delete this.rowschangecallback;delete this.that},this.suspendupdate=function(){this.suspend=true},this.isupdating=function(){return this.suspend},this.resumeupdate=function(a){this.suspend=false;if(a==undefined){a=true}this.refresh(a)},this.getrecords=function(){return this.records},this.clearrecords=function(){this.recordids=new Array()};this.databind=function(E,I){var F=E._source?true:false;var N=null;if(F){N=E;E=E._source}else{N=new d.jqx.dataAdapter(E,{autoBind:false})}var P=function(h){N.recordids=[];N.records=new Array();N.cachedrecords=new Array();N.originaldata=new Array();N._options.virtualmode=h.virtualmode;N._options.totalrecords=h.totalrecords;N._options.originaldata=h.originaldata;N._options.recordids=h.recordids;N._options.cachedrecords=new Array();N._options.pagenum=h.pagenum;N._options.pageable=h.pageable;if(E.type!=undefined){N._options.type=E.type}if(E.formatdata!=undefined){N._options.formatData=E.formatdata}if(E.contenttype!=undefined){N._options.contentType=E.contenttype}if(E.async!=undefined){N._options.async=E.async}if(E.updaterow!=undefined){N._options.updaterow=E.updaterow}if(E.addrow!=undefined){N._options.addrow=E.addrow}if(E.deleterow!=undefined){N._options.deleterow=E.deleterow}if(h.pagesize==0){h.pagesize=10}N._options.pagesize=h.pagesize};var B=function(t){t.totalrecords=N.totalrecords;if(!t.virtualmode){t.originaldata=N.originaldata;t.records=N.records;t.recordids=N.recordids;t.cachedrecords=N.cachedrecords}else{var n={startindex:t.pagenum*t.pagesize,endindex:(t.pagenum*t.pagesize+t.pagesize)};if(E.recordstartindex!=undefined){n.startindex=parseInt(E.recordstartindex)}if(E.recordendindex!=undefined){n.endindex=parseInt(E.recordendindex)}else{if(!t.grid.pageable){n.endindex=n.startindex+100;if(t.grid.autoheight){n.endindex=n.startindex+t.totalrecords}}}if(!E.recordendindex){if(!t.grid.pageable){n.endindex=n.startindex+100;if(t.grid.autoheight){n.endindex=n.startindex+t.totalrecords}}else{n={startindex:t.pagenum*t.pagesize,endindex:(t.pagenum*t.pagesize+t.pagesize)}}}n.data=N.records;if(t.grid.rendergridrows&&t.totalrecords>0){var o=0;E.records=t.grid.rendergridrows(n);if(E.records.length){o=E.records.length}if(E.records&&!E.records[n.startindex]){var l=new Array();var q=n.startindex;d.each(E.records,function(){l[q]=this;q++;o++});E.records=l}if(o==0){if(E.records){d.each(E.records,function(){o++})}}if(o>0&&o<n.endindex-n.startindex&&!t.grid.groupable){var h=E.records[0];for(var s=0;s<n.endindex-n.startindex-o;s++){var u={};for(obj in h){u[obj]=""}if(E.records.push){E.records.push(u)}}}}if(!E.records||t.totalrecords==0){E.records=new Array()}t.originaldata=E.records;t.records=E.records;t.cachedrecords=E.records}};P(this);this.source=E;if(I!==undefined){uniqueId=I}var a=this.that;switch(E.datatype){case"local":case"array":default:if(E.localdata==null){E.localdata=[]}if(E.localdata!=null){N.unbindBindingUpdate(a.grid.element.id);if((!a.grid.autobind&&a.grid.isInitialized)||a.grid.autobind){N.dataBind()}var J=function(n){if(n!=undefined&&n!=""){var o=N._changedrecords[0];if(o){var l=new Array();d.each(N._changedrecords,function(q){var u=this.index;var t=this.record;a.grid._updateFromAdapter=true;switch(n){case"update":var s=a.grid.getrowid(u);if(q==N._changedrecords.length-1){a.grid.updaterow(s,t)}else{a.grid.updaterow(s,t,false)}a.grid._updateFromAdapter=false;return;case"add":a.grid.addrow(null,t);a.grid._updateFromAdapter=false;return;case"remove":var s=a.grid.getrowid(u);l.push(s);return}});if(l.length>0){a.grid.deleterow(l,false);a.grid._updateFromAdapter=false}}if(n=="update"){return}}var h=a.totalrecords;B(a,n);if(E.localdata.notifier===null&&E.localdata.name=="observableArray"){E.localdata.notifier=function(q){if(this._updating){return}this._updating=true;var s=a.grid.getrowid(q.index);switch(q.type){case"add":var v=d.extend({},q.object[q.index]);var t=N.getid(E.id,v,q.index);if(q.index===0){a.grid.addrow(t,v,"first")}else{a.grid.addrow(t,v)}break;case"delete":a.grid.deleterow(s);break;case"update":if(q.path&&q.path.split(".").length>1){var u=q.path.split(".");a.grid.setcellvalue(q.index,u[u.length-1],q.newValue)}else{var v=d.extend({},q.object[q.index]);a.grid.updaterow(s,v)}break}this._updating=false}}if(n=="updateData"){a.refresh();a.grid._updateGridData()}else{if(E.recordstartindex&&this.virtualmode){a.updateview(E.recordstartindex,E.recordstartindex+a.pagesize)}else{a.refresh()}a.update(h!=a.totalrecords)}};J();N.bindBindingUpdate(a.grid.element.id,J)}break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"csv":case"tab":if(E.localdata!=null){N.unbindBindingUpdate(a.grid.element.id);if((!a.grid.autobind&&a.grid.isInitialized)||a.grid.autobind){N.dataBind()}var J=function(l){var h=a.totalrecords;B(a);if(l=="updateData"){a.refresh();a.grid._updateGridData()}else{if(E.recordstartindex&&a.virtualmode){a.updateview(E.recordstartindex,E.recordstartindex+a.pagesize)}else{a.refresh()}a.update(h!=a.totalrecords)}};J();N.bindBindingUpdate(a.grid.element.id,J);return}var A={};var G=0;var z={};for(var L=0;L<this.filters.length;L++){var O=this.filters[L].datafield;var K=this.filters[L].filter;if(!K.getfilters){continue}var M=K.getfilters();z[O+"operator"]=K.operator;for(var C=0;C<M.length;C++){M[C].datafield=O;var H=M[C].value;if(M[C].type=="datefilter"){if(M[C].value&&M[C].value.toLocaleString){var Q=this.grid.getcolumn(M[C].datafield);if(Q&&Q.cellsformat){var D=this.grid.source.formatDate(M[C].value,Q.cellsformat,this.grid.gridlocalization);if(D){z["filtervalue"+G]=D}else{z["filtervalue"+G]=M[C].value.toLocaleString()}}else{z["filtervalue"+G]=H.toString()}}else{z["filtervalue"+G]=H.toString()}}else{z["filtervalue"+G]=H.toString();if(M[C].data){z["filterid"+G]=M[C].data.toString()}if(M[C].id){z["filterid"+G]=M[C].id.toString()}}z["filtercondition"+G]=M[C].condition;z["filteroperator"+G]=M[C].operator;z["filterdatafield"+G]=O;G++}}z.filterscount=G;z.groupscount=a.groups.length;for(var L=0;L<a.groups.length;L++){z["group"+L]=a.groups[L]}if(E.recordstartindex==undefined){E.recordstartindex=0}if(E.recordendindex==undefined||E.recordendindex==0){if(a.grid.height&&a.grid.height.toString().indexOf("%")==-1){E.recordendindex=parseInt(a.grid.height)/a.grid.rowsheight;E.recordendindex+=2;E.recordendindex=parseInt(E.recordendindex)}else{E.recordendindex=d(window).height()/a.grid.rowsheight;E.recordendindex=parseInt(E.recordendindex)}if(this.pageable){E.recordendindex=this.pagesize}}if(this.pageable){E.recordstartindex=(this.pagenum)*this.pagesize;E.recordendindex=(this.pagenum+1)*this.pagesize}d.extend(z,{sortdatafield:a.sortfield,sortorder:a.sortfielddirection,pagenum:a.pagenum,pagesize:a.grid.pagesize,recordstartindex:E.recordstartindex,recordendindex:E.recordendindex});var c=N._options.data;if(N._options.data){d.extend(N._options.data,z)}else{if(E.data){d.extend(z,E.data)}N._options.data=z}var J=function(){var l=d.jqx.browser.msie&&d.jqx.browser.version<9;var n=function(){var o=a.totalrecords;B(a);if(E.recordstartindex&&a.virtualmode){a.updateview(E.recordstartindex,E.recordstartindex+a.pagesize)}else{a.refresh()}a.update(o!=a.totalrecords)};if(l){try{n()}catch(h){}}else{n()}};N.unbindDownloadComplete(a.grid.element.id);N.bindDownloadComplete(a.grid.element.id,J);if((!a.grid.autobind&&a.grid.isInitialized)||a.grid.autobind){N.dataBind()}else{if(!a.grid.isInitialized&&!a.grid.autobind){J()}}N._options.data=c}};this.getid=function(a,h,c){if(d(a,h).length>0){return d(a,h).text()}if(a){if(a.toString().length>0){var l=d(h).attr(a);if(l!=null&&l.toString().length>0){return l}}}return c};this.getvaluebytype=function(a,l){var h=a;if(l.type=="date"){var c=new Date(a);if(c.toString()=="NaN"||c.toString()=="Invalid Date"){if(d.jqx.dataFormat){a=d.jqx.dataFormat.tryparsedate(a)}else{a=c}}else{a=c}if(a==null){a=h}}else{if(l.type=="float"){var a=parseFloat(a);if(isNaN(a)){a=h}}else{if(l.type=="int"){var a=parseInt(a);if(isNaN(a)){a=h}}else{if(l.type=="bool"){if(a!=null){if(a.toLowerCase()=="false"){a=false}else{if(a.toLowerCase()=="true"){a=true}}}if(a==1){a=true}else{if(a==0){a=false}else{a=""}}}}}}return a};this.setpaging=function(a){if(a.pageSize!=undefined){this.pagesize=a.pageSize}if(a.pageNum!=undefined){this.pagenum=Math.min(a.pageNum,Math.ceil(this.totalrows/this.pagesize))}this.refresh()};this.getpagingdetails=function(){return{pageSize:this.pagesize,pageNum:this.pagenum,totalrows:this.totalrows}};this._clearcaches=function(){this.sortcache={};this.sortdata=null;this.changedrecords=new Array();this.records=new Array();this.rows=new Array();this.cacheddata=new Array();this.originaldata=new Array();this.bounditems=new Array();this.loadedrecords=new Array();this.loadedrootgroups=new Array();this.loadedgroups=new Array();this.loadedgroupsByKey=new Array();this._cachegrouppages=new Array();this.recordsbyid=new Array();this.cachedrecords=new Array();this.recordids=new Array()};this.addfilter=function(a,c){var h=-1;for(var l=0;l<this.filters.length;l++){if(this.filters[l].datafield==a){h=l;break}}if(h==-1){this.filters[this.filters.length]={filter:c,datafield:a}}else{this.filters[h]={filter:c,datafield:a}}};this.removefilter=function(a){for(var c=0;c<this.filters.length;c++){if(this.filters[c].datafield==a){this.filters.splice(c,1);break}}};this.getItemFromIndex=function(a){return this.records[a]};this.updaterow=function(z,a,o){var w=this.filters&&this.filters.length>0&&!this.virtualmode;if(!w&&a!=undefined&&z!=undefined){a.uid=z;if(!(a[this.source.id])){a[this.source.id]=a.uid}var s=this.recordsbyid["id"+z];var q=this.records.indexOf(s);if(q==-1){return false}this.records[q]=a;if(this.cachedrecords){this.cachedrecords[q]=a}if(o==true||o==undefined){this.refresh()}this.changedrecords[a.uid]={Type:"Update",OldData:s,Data:a};return true}else{if(this.filters&&this.filters.length>0){var v=this.cachedrecords;var s=null;var q=-1;for(var t=0;t<v.length;t++){if(v[t].uid==z){s=v[t];q=t;break}}if(s){var c=this.that;for(var u in a){c.cachedrecords[q][u]=a[u]}if(o==true||o==undefined){this.refresh()}return true}}}return false};this.addrow=function(c,a,q,l){if(a!=undefined){if(d.isEmptyObject(a)){if(this.source&&this.source.datafields){d.each(this.source.datafields,function(){var h="";if(this.type=="number"){h=null}if(this.type=="date"){h=null}if(this.type=="bool"||this.type=="boolean"){h=false}a[this.name]=h})}}if(!c||this.recordsbyid["id"+c]){a.uid=this.getid(this.source.id,a,this.totalrecords);var o=this.recordsbyid["id"+a.uid];while(o!=null){var n=Math.floor(Math.random()*10000).toString();a.uid=n;o=this.recordsbyid["id"+n]}}else{a.uid=c}if(!(a[this.source.id])){if(this.source.id!=undefined){a[this.source.id]=a.uid}}if(q=="last"){this.records.push(a)}else{if(typeof q==="number"&&isFinite(q)){this.records.splice(q,0,a)}else{this.records.splice(0,0,a)}}if(this.filters&&this.filters.length>0){if(q=="last"){this.cachedrecords.push(a)}else{if(typeof q==="number"&&isFinite(q)){this.cachedrecords.splice(q,0,a)}else{this.cachedrecords.splice(0,0,a)}}}this.totalrecords++;if(this.virtualmode){this.source.totalrecords=this.totalrecords}if(l==true||l==undefined){this.refresh()}this.changedrecords[a.uid]={Type:"New",Data:a};return true}return false};this.deleterow=function(c,l){if(c!=undefined){var s=this.filters&&this.filters.length>0;if(this.recordsbyid["id"+c]&&!s){var q=this.recordsbyid["id"+c];var a=this.records.indexOf(q);this.changedrecords[c]={Type:"Delete",Data:this.records[a]};this.records.splice(a,1);this.totalrecords--;if(this.virtualmode){this.source.totalrecords=this.totalrecords}if(l==true||l==undefined){this.refresh()}return true}else{if(this.filters&&this.filters.length>0){var o=this.cachedrecords;var q=null;var a=-1;for(var n=0;n<o.length;n++){if(o[n].uid==c){q=o[n];a=n;break}}if(q){this.cachedrecords.splice(a,1);if(l==true||l==undefined){this.totalrecords=0;this.records=this.cachedrecords;this.refresh()}return true}}}return false}return false};this.reload=function(O,Q,C,N,M,z,A){var H=this.that;var I=new Array();var F=O;var L=Q;var K=C;var E=N;var J=L.length;var a=0;var P=0;var B,G;this.columns=[];this.bounditems=new Array();this.loadedrecords=new Array();this.loadedrootgroups=new Array();this.loadedgroups=new Array();this.loadedgroupsByKey=new Array();this._cachegrouppages=new Array();this.recordsbyid={};if(this.totalrecords==0){Object.size=function(l){var n=0,h;for(h in l){if(l.hasOwnProperty(h)){n++}}return n};var c=Object.size(F);this.totalrecords=c;d.each(this.records,function(n){var l=this;var h=0;d.each(l,function(o,q){H.columns[h++]=o});return false})}if(this.virtualmode){if(this.pageable){this.updateview();return}var z=0;if(!this.groupable){this.updateview();return}else{var A=this.totalrecords}}else{var z=0;var A=this.totalrecords}if(this.groupable&&this.groups.length>0&&this.loadgrouprecords){var D=z;D=this.loadgrouprecords(0,z,A,K,P,E,L,J,I)}else{a=this.loadflatrecords(z,A,K,P,E,L,J,I)}if(J>P){L.splice(P,J-P)}if(this.groups.length>0&&this.groupable){this.totalrows=D}else{this.totalrows=a}return I};this.loadflatrecords=function(I,w,H,v,B,J,z,c){var K=this.that;var C=I;var A=I;w=Math.min(w,this.totalrecords);var F=this.sortdata!=null;var G=this.source.id&&(this.source.datatype=="local"||this.source.datatype=="array"||this.source.datatype=="");var D=F?this.sortdata:this.records;for(var E=I;E<w;E++){var L={};if(!F){L=d.extend({},D[E]);id=L[K.uniqueId];L.boundindex=C;K.loadedrecords[C]=L;if(L.uid==undefined){L.uid=K.getid(K.source.id,L,C)}K.recordsbyid["id"+L.uid]=D[E];L.uniqueid=K.generatekey();K.bounditems[this.bounditems.length]=L}else{L=d.extend({},D[E].value);id=L[K.uniqueId];L.boundindex=D[E].index;if(L.uid==undefined){L.uid=K.getid(K.source.id,L,L.boundindex)}K.recordsbyid["id"+L.uid]=D[E].value;K.loadedrecords[C]=L;L.uniqueid=K.generatekey();K.bounditems[L.boundindex]=L}if(v>=z||id!=J[v][K.uniqueId]||(B&&B[id])){c[c.length]=v}J[v]=L;v++;L.visibleindex=A;A++;C++}if(K.grid.summaryrows){var a=C;d.each(K.grid.summaryrows,function(){var h=d.extend({},this);h.boundindex=w++;K.loadedrecords[a]=h;h.uniqueid=K.generatekey();K.bounditems[K.bounditems.length]=h;J[v]=h;v++;h.visibleindex=A;A++;a++})}return A},this.updateview=function(u,t){var a=this.that;var A=this.pagesize*this.pagenum;var v=0;var H=new Array();var F=this.filters;var B=this.updated;var z=H.length;if(this.pageable){if(this.virtualmode){if(!this.groupable||this.groups.length==0){this.loadflatrecords(this.pagesize*this.pagenum,this.pagesize*(1+this.pagenum),F,v,B,H,z,[]);this.totalrows=H.length}else{if(this.groupable&&this.groups.length>0&&this.loadgrouprecords){if(this._cachegrouppages[this.pagenum+"_"+this.pagesize]!=undefined){this.rows=this._cachegrouppages[this.pagenum+"_"+this.pagesize];this.totalrows=this.rows.length;return}var w=this.pagesize*(1+this.pagenum);if(w>this.totalrecords){w=this.totalrecords}this.loadgrouprecords(0,this.pagesize*this.pagenum,w,F,v,B,H,z,[]);this._cachegrouppages[this.pagenum+"_"+this.pagesize]=this.rows;this.totalrows=this.rows.length;return}}}}else{if(this.virtualmode&&(!this.groupable||this.groups.length==0)){var D=this.pagesize;if(D==0){D=Math.min(100,this.totalrecords)}var G=D*this.pagenum;if(this.loadedrecords.length==0){G=0}if(u!=null&&t!=null){this.loadflatrecords(u,t,F,v,B,H,z,[])}else{this.loadflatrecords(this.pagesize*this.pagenum,this.pagesize*(1+this.pagenum),F,v,B,H,z,[])}this.totalrows=this.loadedrecords.length;this.rows=H;if(H.length>=D){return}}}if(this.groupable&&this.pageable&&this.groups.length>0&&this._updategroupsinpage){H=this._updategroupsinpage(a,F,A,v,z,this.pagesize*this.pagenum,this.pagesize*(1+this.pagenum))}else{for(var C=this.pagesize*this.pagenum;C<this.pagesize*(1+this.pagenum);C++){var c=C<this.loadedrecords.length?this.loadedrecords[C]:null;if(c==null){continue}if(!this.pagesize||(A>=this.pagesize*this.pagenum&&A<=this.pagesize*(this.pagenum+1))){H[v]=c;v++}A++}}if((H.length==0||H.length<this.pagesize)&&!this.pageable&&this.virtualmode){v=H.length;var E=H.length;for(var C=this.pagesize*this.pagenum;C<this.pagesize*(1+this.pagenum)-E;C++){var c={};c.boundindex=C+E;c.visibleindex=C+E;c.uniqueid=a.generatekey();c.empty=true;a.bounditems[C+E]=c;H[v]=c;v++}}this.rows=H};this.generatekey=function(){var a=function(){return(((1+Math.random())*16)|0)};return(""+a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a())};this.reloaddata=function(){this.reload(this.records,this.rows,this.filter,this.updated,true)};this.refresh=function(E){if(this.suspend){return}if(E==undefined){E=true}var B=this.rows.length;var C=this.totalrows;if(this.filters.length>0&&!this.virtualmode){var H="";var F=this.cachedrecords.length;var L=new Array();this.totalrecords=0;var z=this.cachedrecords;this._dataIndexToBoundIndex=new Array();var G=this.filters.length;if(this.source!=null&&this.source.filter!=undefined&&this.source.localdata!=undefined){L=this.source.filter(this.filters,z,F);if(L==undefined){L=new Array()}this.records=L}else{if(this.source.filter==null||this.source.filter==undefined){for(var J=0;J<F;J++){var w=z[J];var I=undefined;for(var A=0;A<G;A++){var H=this.filters[A].filter;var a=w[this.filters[A].datafield];var K=H.evaluate(a);if(I==undefined){I=K}else{if(H.operator=="or"){I=I||K}else{I=I&&K}}}if(I){L[L.length]=d.extend({dataindex:J},w);this._dataIndexToBoundIndex[J]={boundindex:L.length-1}}else{this._dataIndexToBoundIndex[J]=null}}this.records=L}}if(this.sortdata){var D=this.sortfield;if(this.sortcache[D]){this.sortdata=null;var v=this.sortcache[D].direction;this.sortcache[D]=null;this.sortby(this.sortfield,v);return}}}else{if(this.filters.length==0&&!this.virtualmode){if(this.cachedrecords){this.totalrecords=0;var z=this.cachedrecords;this.records=z;if(this.sortdata){var D=this.sortfield;if(this.sortcache[D]){this.sortdata=null;var v=this.sortcache[D].direction;this.sortcache[D]=null;this.sortby(this.sortfield,v);return}}}}}var c=this.reload(this.records,this.rows,this.filter,this.updated,E);this.updated=null;if(this.rowschangecallback!=null){if(C!=totalrows){this.rowschangecallback({type:"PagingChanged",data:getpagingdetails()})}if(B!=rows.length){this.rowschangecallback({type:"RowsCountChanged",data:{previous:B,current:rows.length}})}if(c.length>0||B!=rows.length){this.rowschangecallback({type:"RowsChanged",data:{previous:B,current:rows.length,diff:c}})}}};return this}})(jqxBaseFramework);(function(c){c.extend(c.jqx._jqxGrid.prototype,{selectallrows:function(){this._trigger=false;var n=this.virtualmode?this.dataview.totalrecords:this.dataview.loadedrecords.length;this.selectedrowindexes=new Array();var l=this.dataview.loadedrecords;for(var o=0;o<n;o++){var h=l[o];if(!h){this.selectedrowindexes[o]=o;continue}var a=this.getboundindex(h);if(a!=undefined){this.selectedrowindexes[o]=a}}if(this.selectionmode=="checkbox"&&!this._checkboxcolumnupdating){if(this._checkboxcolumn){this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:true})}}this._renderrows(this.virtualsizeinfo);this._trigger=true;if(this.selectionmode=="checkbox"){this._raiseEvent(2,{rowindex:this.selectedrowindexes})}},unselectallrows:function(){this._trigger=false;var l=this.virtualmode?this.dataview.totalrecords:this.dataview.loadedrecords.length;this.selectedrowindexes=new Array();var h=this.dataview.loadedrecords;for(var a=0;a<l;a++){var f=h[a];if(!f){this.selectedrowindexes[a]=a;continue}delete this.selectedrowindexes[a]}if(this.selectionmode=="checkbox"&&!this._checkboxcolumnupdating){if(this._checkboxcolumn){this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:false})}}this._renderrows(this.virtualsizeinfo);this._trigger=true;if(this.selectionmode=="checkbox"){this._raiseEvent(2,{rowindex:this.selectedrowindexes})}},selectrow:function(a,d){this._applyrowselection(a,true,d);if(d!==false){this._updatecheckboxselection()}},_updatecheckboxselection:function(){if(this.selectionmode=="checkbox"){var e=this.getrows();if(e&&this._checkboxcolumn){if(e.length===0){this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:false});return}var f=e.length;if(this.groupable){f=this.dataview.loadedrecords.length}if(this.virtualmode){f=this.source._source.totalrecords}var a=this.selectedrowindexes.length;if(a===f){this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:true})}else{if(a===0){this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:false})}else{this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:null})}}}}},unselectrow:function(a,d){this._applyrowselection(a,false,d);if(d!==false){this._updatecheckboxselection()}},selectcell:function(d,a){this._applycellselection(d,a,true)},unselectcell:function(d,a){this._applycellselection(d,a,false)},clearselection:function(f,e){this._trigger=false;this.selectedrowindex=-1;this._oldselectedcell=null;if(e!==false){for(var a=0;a<this.selectedrowindexes.length;a++){this._raiseEvent(3,{rowindex:this.selectedrowindexes[a]})}}this.selectedrowindexes=new Array();this.selectedcells=new Array();this.selectedcell=null;if(this.selectionmode=="checkbox"&&!this._checkboxcolumnupdating){this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:false})}if(false===f){this._trigger=true;return}this._renderrows(this.virtualsizeinfo);this._trigger=true;if(this.selectionmode=="checkbox"){this._raiseEvent(3,{rowindex:this.selectedrowindexes})}},getselectedrowindex:function(){if(this.selectedrowindex==-1||this.selectedrowindex==undefined){for(var a=0;a<this.selectedrowindexes.length;a++){return this.selectedrowindexes[a]}}return this.selectedrowindex},getselectedrowindexes:function(){return this.selectedrowindexes},getselectedcell:function(){if(!this.selectedcell){return null}var a=this.selectedcell;a.row=this.selectedcell.rowindex;a.column=this.selectedcell.datafield;a.value=this.getcellvalue(a.row,a.column);return a},getselectedcells:function(){var a=new Array();for(obj in this.selectedcells){a[a.length]=this.selectedcells[obj]}return a},_getcellsforcopypaste:function(){var q=new Array();if(this.selectionmode.indexOf("cell")==-1){var l=this.selectedrowindexes;for(var s=0;s<l.length;s++){var t=l[s];for(var o=0;o<this.columns.records.length;o++){if(this.columns.records[o].datafield==="_checkboxcolumn"){continue}var n=t+"_"+this.columns.records[o].datafield;var a={rowindex:t,datafield:this.columns.records[o].datafield};q.push(a)}}}return q},deleteselection:function(){var s=this;var o=s.getselectedcells();if(this.selectionmode.indexOf("cell")==-1){o=this._getcellsforcopypaste()}if(o!=null&&o.length>0){for(var q=0;q<o.length;q++){var a=o[q];var n=s.getcolumn(a.datafield);var l=s.getcellvalue(a.rowindex,a.datafield);if(!n){continue}if(l!==""){var t=null;if(n.columntype=="checkbox"){if(!n.threestatecheckbox){t=false}}s._raiseEvent(17,{rowindex:a.rowindex,datafield:a.datafield,value:l});if(q==o.length-1){s.setcellvalue(a.rowindex,a.datafield,t,true);if(n.displayfield!=n.datafield){s.setcellvalue(a.rowindex,n.displayfield,t,true)}}else{s.setcellvalue(a.rowindex,a.datafield,t,false);if(n.displayfield!=n.datafield){s.setcellvalue(a.rowindex,n.displayfield,t,true)}}s._raiseEvent(18,{rowindex:a.rowindex,datafield:a.datafield,oldvalue:l,value:t})}}this.dataview.updateview();this._renderrows(this.virtualsizeinfo)}},copyselection:function(){var z="";var L=this;this.clipboardselection={};this.logicalclipboardselection={};this._clipboardselection=[];var a=L.getselectedcells();if(this.selectionmode.indexOf("cell")==-1){a=this._getcellsforcopypaste()}var J=0;var G=new Array();if(a!=null&&a.length>0){var K=999999999999999;var u=-1;for(var C=0;C<a.length;C++){var A=a[C];var H=L.getcolumn(A.datafield);if(H!=null&&H.clipboard&&(!H.hidden||this.copytoclipboardhiddencolumns)){if(G.indexOf(H.text)==-1){G.push(H.text)}var v=L.getcelltext(A.rowindex,H.displayfield);var D=this.getrowdisplayindex(A.rowindex);if(!this.clipboardselection[D]){this.clipboardselection[D]={}}this.clipboardselection[D][H.displayfield]=v;if(!this.logicalclipboardselection[D]){this.logicalclipboardselection[D]={}}this.logicalclipboardselection[D][H.displayfield]=v;if(H.displayfield!=H.datafield){this.logicalclipboardselection[D][H.datafield]=L.getcellvalue(A.rowindex,H.datafield)}K=Math.min(K,D);u=Math.max(u,D)}}var E=new Array();for(var F=K;F<=u;F++){if(!this.logicalclipboardselection[F]){continue}var w=c.extend({},this.logicalclipboardselection[F]);E.push(w)}this.logicalclipboardselection=E;if(this.copytoclipboardwithheaders){for(var I=0;I<G.length;I++){if(I>0){z+="\t"}z+=G[I]}z+="\r\n"}for(var F=K;F<=u;F++){var B=0;this._clipboardselection[this._clipboardselection.length]=new Array();if(this.clipboardselection[F]!=undefined){c.each(this.clipboardselection[F],function(f,d){if(B>0){z+="\t"}var e=d;if(d==null){e=""}L._clipboardselection[L._clipboardselection.length-1][B]=e;B++;z+=e})}else{continue}if(F<u){z+="\r\n"}}}this.clipboardselectedtext=z;return z},pasteselection:function(){var X=this.getselectedcells();this._oldselectedcell=null;if(this.selectionmode.indexOf("cell")==-1){X=this._getcellsforcopypaste()}if(X!=null&&X.length>0){var W=X[0].rowindex;var F=this.getrowdisplayindex(W);var O=X[0].datafield;var H=this._getcolumnindex(O);var R=0;this.selectedrowindexes=new Array();this.selectedcells=new Array();var V=X.length;var N=0;var aa=new Array();if(this.copytoclipboardwithheaders){this._clipboardselection.splice(0,1)}for(var a=0;a<this._clipboardselection.length;a++){N+=this._clipboardselection[a].length;aa[a]=new Array();for(var t=0;t<this._clipboardselection[a].length;t++){var M=this._clipboardselection[a][t];aa[a].push(M)}}if(N<X.length){var S=new Array();for(var a=0;a<X.length;a++){var Z=X[a];if(!S[Z.rowindex]){S[Z.rowindex]=new Array()}S[Z.rowindex].push(Z)}var Q=0;var K=0;for(var a=0;a<S.length;a++){if(!S[a]){continue}for(var t=0;t<S[a].length;t++){var Z=S[a][t];var T=Z.rowindex;var Y=this.getcolumn(Z.datafield);if(Y.datafield==="_checkboxcolumn"){continue}if(Y.hidden){continue}var M="";if(!aa[Q][K]){K=0}M=aa[Q][K];K++;if(Y.cellsformat){if(Y.cellsformat.indexOf("p")!=-1||Y.cellsformat.indexOf("c")!=-1||Y.cellsformat.indexOf("n")!=-1||Y.cellsformat.indexOf("f")!=-1){if(M.indexOf(this.gridlocalization.currencysymbol)>-1){M=M.replace(this.gridlocalization.currencysymbol,"")}var ab=function(d,e,h){var l=d;if(e==h){return d}var f=l.indexOf(e);while(f!=-1){l=l.replace(e,h);f=l.indexOf(e)}return l};M=ab(M,this.gridlocalization.thousandsseparator,"");M=M.replace(this.gridlocalization.decimalseparator,".");if(M.indexOf(this.gridlocalization.percentsymbol)>-1){M=M.replace(this.gridlocalization.percentsymbol,"")}var I="";for(var J=0;J<M.length;J++){var P=M.substring(J,J+1);if(P==="-"){I+="-"}if(P==="."){I+="."}if(P.match(/^[0-9]+$/)!=null){I+=P}}M=I;M=M.replace(/ /g,"");M=new Number(M);if(isNaN(M)){M=""}}}this._raiseEvent(17,{rowindex:T,datafield:Z.datafield,value:M});this.setcellvalue(T,Y.displayfield,M,false);if(Y.displayfield!=Y.datafield&&this.logicalclipboardselection){if(this.logicalclipboardselection[T]){var G=this.logicalclipboardselection[T][Y.datafield];if(G!=undefined){this.setcellvalue(T,Y.datafield,G,false)}}}this._raiseEvent(18,{rowindex:T,datafield:Z.datafield,oldvalue:this.getcellvalue(Z.rowindex,Z.datafield),value:M});this._applycellselection(T,Z.datafield,true,false)}Q++;if(!aa[Q]){Q=0}}}else{if(!this._clipboardselection){return}for(var U=0;U<this._clipboardselection.length;U++){for(var L=0;L<this._clipboardselection[U].length;L++){var Y=this.getcolumnat(H+L);if(!Y){continue}if(Y.datafield==="_checkboxcolumn"){continue}if(Y.hidden){continue}var T=this.getrowboundindex(F+U);var Z=this.getcell(T,Y.datafield);var M=null;M=this._clipboardselection[U][L];if(M!=null){if(Y.cellsformat){if(Y.cellsformat.indexOf("p")!=-1||Y.cellsformat.indexOf("c")!=-1||Y.cellsformat.indexOf("n")!=-1||Y.cellsformat.indexOf("f")!=-1){if(M.indexOf(this.gridlocalization.currencysymbol)>-1){M=M.replace(this.gridlocalization.currencysymbol,"")}var ab=function(d,e,h){var l=d;if(e==h){return d}var f=l.indexOf(e);while(f!=-1){l=l.replace(e,h);f=l.indexOf(e)}return l};M=ab(M,this.gridlocalization.thousandsseparator,"");M=M.replace(this.gridlocalization.decimalseparator,".");if(M.indexOf(this.gridlocalization.percentsymbol)>-1){M=M.replace(this.gridlocalization.percentsymbol,"")}var I="";for(var J=0;J<M.length;J++){var P=M.substring(J,J+1);if(P==="-"){I+="-"}if(P==="."){I+="."}if(P.match(/^[0-9]+$/)!=null){I+=P}}M=I;M=M.replace(/ /g,"");M=new Number(M);if(isNaN(M)){M=""}}}this._raiseEvent(17,{rowindex:T,datafield:Z.datafield,value:M});this.setcellvalue(T,Y.displayfield,M,false);if(Y.displayfield!=Y.datafield&&this.logicalclipboardselection){var G=this.logicalclipboardselection[U][Y.datafield];if(G!=undefined){this.setcellvalue(T,Y.datafield,G,false)}}this._raiseEvent(18,{rowindex:T,datafield:Z.datafield,oldvalue:this.getcellvalue(Z.rowindex,Z.datafield),value:M});this._applycellselection(T,Z.datafield,true,false)}}}}if(this.selectionmode=="checkbox"){this._updatecheckboxselection()}this.dataview.updateview();this._renderrows(this.virtualsizeinfo)}if(this.clipboardend){this.clipboardend("paste")}},_applyrowselection:function(s,l,q,n,v){if(s==null){return false}var a=this.selectedrowindex;if(this.selectionmode=="singlerow"){if(l){this._raiseEvent(2,{rowindex:s,row:this.getrowdata(s)})}else{this._raiseEvent(3,{rowindex:s,row:this.getrowdata(s)})}this._raiseEvent(3,{rowindex:a});this.selectedrowindexes=new Array();this.selectedcells=new Array()}if(n==true){this.selectedrowindexes=new Array()}if(this.dataview.filters.length>0){var u=this.getrowdata(s);if(u&&u.dataindex!==undefined){s=u.dataindex}else{if(u&&u.dataindex===undefined){if(u.uid!=undefined){s=this.getrowboundindexbyid(u.uid)}}}}var t=this.selectedrowindexes.indexOf(s);if(l){this.selectedrowindex=s;if(t==-1){this.selectedrowindexes.push(s);if(this.selectionmode!="singlerow"){this._raiseEvent(2,{rowindex:s,row:this.getrowdata(s)})}}else{if(this.selectionmode=="multiplerows"){this.selectedrowindexes.splice(t,1);this._raiseEvent(3,{rowindex:this.selectedrowindex,row:this.getrowdata(s)});this.selectedrowindex=this.selectedrowindexes.length>0?this.selectedrowindexes[this.selectedrowindexes.length-1]:-1}}}else{if(t>=0||this.selectionmode=="singlerow"||this.selectionmode=="multiplerowsextended"||this.selectionmode=="multiplerowsadvanced"){var o=this.selectedrowindexes[t];this.selectedrowindexes.splice(t,1);this._raiseEvent(3,{rowindex:o,row:this.getrowdata(s)});this.selectedrowindex=-1}}if(q==undefined||q){this._rendervisualrows()}return true},_applycellselection:function(s,v,n,q){if(s==null){return false}if(v==null){return false}var a=this.selectedrowindex;if(this.selectionmode=="singlecell"){var t=this.selectedcell;if(t!=null){this._raiseEvent(16,{rowindex:t.rowindex,datafield:t.datafield})}this.selectedcells=new Array()}if(this.selectionmode=="multiplecellsextended"||this.selectionmode=="multiplecellsadvanced"){var t=this.selectedcell;if(t!=null){this._raiseEvent(16,{rowindex:t.rowindex,datafield:t.datafield})}}var o=s+"_"+v;if(this.dataview.filters.length>0){var u=this.getrowdata(s);if(u&&u.dataindex!==undefined){s=u.dataindex;var o=s+"_"+v}else{if(u&&u.dataindex===undefined){if(u.uid){s=this.getrowboundindexbyid(u.uid);var o=s+"_"+v}}}}var l={rowindex:s,datafield:v};if(n){this.selectedcell=l;if(!this.selectedcells[o]){this.selectedcells[o]=l;this.selectedcells.length++;this._raiseEvent(15,l)}else{if(this.selectionmode=="multiplecells"||this.selectionmode=="multiplecellsextended"||this.selectionmode=="multiplecellsadvanced"){delete this.selectedcells[o];if(this.selectedcells.length>0){this.selectedcells.length--}this._raiseEvent(16,l)}}}else{delete this.selectedcells[o];if(this.selectedcells.length>0){this.selectedcells.length--}this._raiseEvent(16,l)}if(q==undefined||q){this._rendervisualrows()}return true},_getcellindex:function(a){var d=-1;c.each(this.selectedcells,function(){d++;if(this[a]){return false}});return d},_clearhoverstyle:function(){if(undefined==this.hoveredrow||this.hoveredrow==-1){return}if(this.vScrollInstance.isScrolling()){return}if(this.hScrollInstance.isScrolling()){return}var a=this.table.find(".jqx-grid-cell-hover");if(a.length>0){a.removeClass(this.toTP("jqx-grid-cell-hover"));a.removeClass(this.toTP("jqx-fill-state-hover"))}this.hoveredrow=-1},_clearselectstyle:function(){var v=this.table[0].rows.length;var a=this.table[0].rows;var u=this.toTP("jqx-grid-cell-selected");var D=this.toTP("jqx-fill-state-pressed");var t=this.toTP("jqx-grid-cell-hover");var w=this.toTP("jqx-fill-state-hover");for(var z=0;z<v;z++){var E=a[z];var A=E.cells.length;var q=E.cells;for(var B=0;B<A;B++){var C=q[B];var s=c(C);if(C.className.indexOf("jqx-grid-cell-selected")!=-1){s.removeClass(u);s.removeClass(D)}if(C.className.indexOf("jqx-grid-cell-hover")!=-1){s.removeClass(t);s.removeClass(w)}}}},_selectpath:function(a,A){var q=this;var u=this._lastClickedCell?Math.min(this._lastClickedCell.row,a):0;var s=this._lastClickedCell?Math.max(this._lastClickedCell.row,a):0;if(u<=s){var v=this._getcolumnindex(this._lastClickedCell.column);var w=this._getcolumnindex(A);var z=Math.min(v,w);var B=Math.max(v,w);this.selectedcells=new Array();var o=this.dataview.loadedrecords;for(var C=u;C<=s;C++){for(var t=z;t<=B;t++){var a=o[C];this._applycellselection(q.getboundindex(a),q._getcolumnat(t).datafield,true,false)}}this._rendervisualrows()}},_selectrowpath:function(n){if(this.selectionmode=="multiplerowsextended"){var t=this;var a=this._lastClickedCell?Math.min(this._lastClickedCell.row,n):0;var l=this._lastClickedCell?Math.max(this._lastClickedCell.row,n):0;var o=this.dataview.loadedrecords;if(a<=l){this.selectedrowindexes=new Array();for(var q=a;q<=l;q++){var n=o[q];var s=this.getrowboundindex(q);this._applyrowselection(s,true,false)}this._rendervisualrows()}}},_selectrowwithmouse:function(E,S,R,O,Q,C){var K=S.row;if(K==undefined){return}var J=S.index;if(this.hittestinfo[J]==undefined){return}var B=this.hittestinfo[J].visualrow;if(this.hittestinfo[J].details){return}var H=B.cells[0].className;if(K.group){return}if(this.selectionmode=="multiplerows"||this.selectionmode=="multiplecells"||this.selectionmode=="checkbox"||(this.selectionmode.indexOf("multiple")!=-1&&(C==true||Q==true))){var I=this.getboundindex(K);if(this.dataview.filters.length>0){var z=this.getrowdata(I);if(z){I=z.dataindex;if(I==undefined){var I=this.getboundindex(K)}}}var D=R.indexOf(I)!=-1;var a=this.getboundindex(K)+"_"+O;if(this.selectionmode.indexOf("cell")!=-1){var M=this.selectedcells[a]!=undefined;if(this.selectedcells[a]!=undefined&&M){this._selectcellwithstyle(E,false,J,O,B)}else{this._selectcellwithstyle(E,true,J,O,B)}if(C&&this._lastClickedCell==undefined){var N=this.getselectedcells();if(N&&N.length>0){this._lastClickedCell={row:N[0].rowindex,column:N[0].datafield}}}if(C&&this._lastClickedCell){this._selectpath(K.visibleindex,O);this.mousecaptured=false;if(this.selectionarea.css("visibility")=="visible"){this.selectionarea.css("visibility","hidden")}}}else{if(D){if(Q){this._applyrowselection(this.getboundindex(K),false)}else{this._selectrowwithstyle(E,B,false,O)}}else{this._selectrowwithstyle(E,B,true,O)}if(C&&this._lastClickedCell==undefined){var L=this.getselectedrowindexes();if(L&&L.length>0){this._lastClickedCell={row:L[0],column:O}}}if(C&&this._lastClickedCell){this.selectedrowindexes=new Array();var P=this._lastClickedCell?Math.min(this._lastClickedCell.row,K.visibleindex):0;var A=this._lastClickedCell?Math.max(this._lastClickedCell.row,K.visibleindex):0;var G=this.dataview.loadedrecords;for(var F=P;F<=A;F++){var K=G[F];if(K){this._applyrowselection(this.getboundindex(K),true,false,false)}}this._rendervisualrows()}}}else{this._clearselectstyle();this._selectrowwithstyle(E,B,true,O);if(this.selectionmode.indexOf("cell")!=-1){this._selectcellwithstyle(E,true,J,O,B)}}if(!C){this._lastClickedCell={row:K.visibleindex,column:O}}},_selectcellwithstyle:function(o,q,h,l,n){var a=c(n.cells[o._getcolumnindex(l)]);a.removeClass(this.toTP("jqx-grid-cell-hover"));a.removeClass(this.toTP("jqx-fill-state-hover"));if(q){a.addClass(this.toTP("jqx-grid-cell-selected"));a.addClass(this.toTP("jqx-fill-state-pressed"))}else{a.removeClass(this.toTP("jqx-grid-cell-selected"));a.removeClass(this.toTP("jqx-fill-state-pressed"))}},_selectrowwithstyle:function(s,n,a,l){var u=n.cells.length;var q=0;if(s.rowdetails&&s.showrowdetailscolumn){if(!this.rtl){q=1+this.groups.length}else{u-=1;u-=this.groups.length}}else{if(this.groupable){if(!this.rtl){q=this.groups.length}else{u-=this.groups.length}}}for(var o=q;o<u;o++){var t=n.cells[o];if(a){c(t).removeClass(this.toTP("jqx-grid-cell-hover"));c(t).removeClass(this.toTP("jqx-fill-state-hover"));if(s.selectionmode.indexOf("cell")==-1){c(t).addClass(this.toTP("jqx-grid-cell-selected"));c(t).addClass(this.toTP("jqx-fill-state-pressed"))}}else{c(t).removeClass(this.toTP("jqx-grid-cell-hover"));c(t).removeClass(this.toTP("jqx-grid-cell-selected"));c(t).removeClass(this.toTP("jqx-fill-state-hover"));c(t).removeClass(this.toTP("jqx-fill-state-pressed"))}}},_handlemousemoveselection:function(aE,aO){if(aO.hScrollInstance.isScrolling()||aO.vScrollInstance.isScrolling()){return false}if((aO.selectionmode=="multiplerowsextended"||aO.selectionmode=="multiplecellsextended"||aO.selectionmode=="multiplecellsadvanced")&&aO.mousecaptured){if(aO.multipleselectionbegins){var aZ=aO.multipleselectionbegins(aE);if(aZ===false){return true}}var aG=this.showheader?this.columnsheader.height()+2:0;var au=this._groupsheader()?this.groupsheader.height():0;var ar=this.showtoolbar?this.toolbar.height():0;au+=ar;var a=this.host.coord();if(this.hasTransform){a=c.jqx.utilities.getOffset(this.host);var aB=this._getBodyOffset();a.left-=aB.left;a.top-=aB.top}if(this.host.css("border-top-width")==="0px"){au-=2}var ap=aE.pageX;var aq=aE.pageY-au;if(Math.abs(this.mousecaptureposition.left-ap)>3||Math.abs(this.mousecaptureposition.top-aq)>3){var aV=parseInt(this.columnsheader.coord().top);if(this.hasTransform){aV=c.jqx.utilities.getOffset(this.columnsheader).top}if(ap<a.left){ap=a.left}if(ap>a.left+this.host.width()){ap=a.left+this.host.width()}var ae=a.top+aG;if(aq<ae){aq=ae+5}var at=parseInt(Math.min(aO.mousecaptureposition.left,ap));var aU=-5+parseInt(Math.min(aO.mousecaptureposition.top,aq));var av=parseFloat(Math.abs(aO.mousecaptureposition.left-ap));var am=parseInt(Math.abs(aO.mousecaptureposition.top-aq));at-=a.left;aU-=a.top;this.selectionarea.css("visibility","visible");if(aO.selectionmode=="multiplecellsadvanced"){var ap=at;var aL=ap+av;var aw=ap;var aP=aO.hScrollInstance;var aJ=aP.value;if(this.rtl){if(this.hScrollBar.css("visibility")!="hidden"){aJ=aP.max-aP.value}if(this.vScrollBar[0].style.visibility!="hidden"){}}var aT=aO.table[0].rows[0];var ai=0;var aD=aO.mousecaptureposition.clickedcell;var aF=aD;var aQ=false;var aN=0;var aC=aT.cells.length;if(aO.mousecaptureposition.left<=aE.pageX){aN=aD}for(var af=aN;af<aC;af++){var q=parseFloat(c(this.columnsrow[0].cells[af]).css("left"));var aS=q-aJ;if(aO.columns.records[af].pinned){aS=q;continue}var an=this._getcolumnat(af);if(an!=null&&an.hidden){continue}if(aO.groupable&&aO.groups.length>0){if(af<aO.groups.length){continue}}var aj=aS+c(this.columnsrow[0].cells[af]).width();if(aO.mousecaptureposition.left>aE.pageX){if(aj>=ap&&ap>=aS){aF=af;aQ=true;break}}else{if(aj>=aL&&aL>=aS){aF=af;aQ=true;break}}}if(!aQ){if(aO.mousecaptureposition.left>aE.pageX){c.each(this.columns.records,function(e,d){if(aO.groupable&&aO.groups.length>0){if(e<aO.groups.length){return true}}if(!this.pinned&&!this.hidden){aF=e;return false}})}else{if(!aO.groupable||(aO.groupable&&!aO.groups.length>0)){aF=aT.cells.length-1}}}var ao=aD;aD=Math.min(aD,aF);aF=Math.max(ao,aF);aU+=5;aU+=au;var ak=aO.table[0].rows.indexOf(aO.mousecaptureposition.clickedrow);var aI=0;var aW=-1;var aK=-1;var aX=0;for(var af=0;af<aO.table[0].rows.length;af++){var aM=c(aO.table[0].rows[af]);if(af==0){aX=aM.coord().top}var ax=aM.height();var aH=aX-a.top;if(aW==-1&&aH+ax>=aU){var aY=false;for(var al=0;al<aO.groups.length;al++){var ag=aM[0].cells[al].className;if(ag.indexOf("jqx-grid-group-collapse")!=-1||ag.indexOf("jqx-grid-group-expand")!=-1){aY=true;break}}if(aY){continue}aW=af}aX+=ax;if(aO.groupable&&aO.groups.length>0){var aY=false;for(var al=0;al<aO.groups.length;al++){var ag=aM[0].cells[al].className;if(ag.indexOf("jqx-grid-group-collapse")!=-1||ag.indexOf("jqx-grid-group-expand")!=-1){aY=true;break}}if(aY){continue}var ai=0;for(var ah=aO.groups.length;ah<aM[0].cells.length;ah++){var ay=aM[0].cells[ah];if(c(ay).html()==""){ai++}}if(ai==aM[0].cells.length-aO.groups.length){continue}}if(aW!=-1){aI+=ax}if(aH+ax>aU+am){aK=af;break}}if(aW!=-1){aU=c(aO.table[0].rows[aW]).coord().top-a.top-au-2;var az=0;if(this.filterable&&this.showfilterrow){az=this.filterrowheight}if(parseFloat(aO.table[0].style.top)<0&&aU<this.rowsheight+az){aU-=parseFloat(aO.table[0].style.top);aI+=parseFloat(aO.table[0].style.top)}am=aI;var aR=c(this.columnsrow[0].cells[aD]);var aA=c(this.columnsrow[0].cells[aF]);at=parseFloat(aR.css("left"));av=parseFloat(aA.css("left"))-parseFloat(at)+aA.width()-2;at-=aJ;if(aO.editcell&&aO.editable&&aO.endcelledit&&(aD!=aF||aW!=aK)){if(aO.editcell.validated==false){return}aO.endcelledit(aO.editcell.row,aO.editcell.column,true,true)}}}this.selectionarea.width(av);this.selectionarea.height(am);this.selectionarea.css("left",at);this.selectionarea.css("top",aU)}}},_handlemouseupselection:function(G,Q){if(!this.selectionarea){return}if(this.selectionarea[0].style.visibility!="visible"){Q.mousecaptured=false;return true}if(Q.mousecaptured&&(Q.selectionmode=="multiplerowsextended"||Q.selectionmode=="multiplerowsadvanced"||Q.selectionmode=="multiplecellsextended"||Q.selectionmode=="multiplecellsadvanced")){Q.mousecaptured=false;if(this.selectionarea.css("visibility")=="visible"){this.selectionarea.css("visibility","hidden");var E=this.showheader?this.columnsheader.height()+2:0;var P=this._groupsheader()?this.groupsheader.height():0;if(this.host.css("border-top-width")==="0px"){P-=2}var N=this.showtoolbar?this.toolbar.height():0;P+=N;var L=this.selectionarea.coord();var aa=this.host.coord();if(this.hasTransform){aa=c.jqx.utilities.getOffset(this.host);L=c.jqx.utilities.getOffset(this.selectionarea)}if(this.host.css("border-top-width")==="0px"){P-=2}var R=L.left-aa.left;var T=L.top-E-aa.top-P;var I=T;var W=R+this.selectionarea.width();var J=R;var S=new Array();var Y=new Array();if(Q.selectionmode=="multiplerowsextended"){while(T<I+this.selectionarea.height()){var ab=this._hittestrow(R,T);var X=ab.row;var V=ab.index;if(V!=-1){if(!Y[V]){Y[V]=true;S[S.length]=ab}}T+=20}var I=0;c.each(S,function(){var e=this;var d=this.row;if(Q.selectionmode!="none"&&Q._selectrowwithmouse){if(G.ctrlKey||G.metaKey){Q._applyrowselection(Q.getboundindex(d),true,false,false)}else{if(I==0){Q._applyrowselection(Q.getboundindex(d),true,false,true)}else{Q._applyrowselection(Q.getboundindex(d),true,false,false)}}I++}})}else{if(Q.selectionmode=="multiplecellsadvanced"){T+=2}var K=Q.hScrollInstance;var H=K.value;if(this.rtl){if(this.hScrollBar.css("visibility")!="hidden"){H=K.max-K.value}if(this.vScrollBar[0].style.visibility!="hidden"){H-=this.scrollbarsize+4}}var M=Q.table[0].rows[0];var U=Q.selectionarea.height();if(!G.ctrlKey&&!G.metaKey&&U>0){Q.selectedcells=new Array()}var O=U;while(T<I+O){var ab=Q._hittestrow(R,T);if(!ab){T+=5;continue}var X=ab.row;var V=ab.index;if(V!=-1){if(!Y[V]){Y[V]=true;for(var F=0;F<M.cells.length;F++){var Z=parseFloat(c(Q.columnsrow[0].cells[F]).css("left"))-H;var a=Z+c(Q.columnsrow[0].cells[F]).width();if((J>=Z&&J<=a)||(W>=Z&&W<=a)||(Z>=J&&Z<=W)){Q._applycellselection(Q.getboundindex(X),Q._getcolumnat(F).datafield,true,false)}}}}T+=5}}if(Q.autosavestate){if(Q.savestate){Q.savestate()}}Q._renderrows(Q.virtualsizeinfo)}}},selectprevcell:function(l,o){var h=this._getcolumnindex(o);var a=this.columns.records.length;var n=this._getprevvisiblecolumn(h);if(n!=null){this.clearselection();this.selectcell(l,n.datafield)}},selectnextcell:function(l,n){var h=this._getcolumnindex(n);var o=this.columns.records.length;var a=this._getnextvisiblecolumn(h);if(a!=null){this.clearselection();this.selectcell(l,a.datafield)}},_getfirstvisiblecolumn:function(){var a=this;var f=this.columns.records.length;for(var l=0;l<f;l++){var h=this.columns.records[l];if(!h.hidden&&h.datafield!=null){return h}}return null},_getlastvisiblecolumn:function(){var a=this;var f=this.columns.records.length;for(var l=f-1;l>=0;l--){var h=this.columns.records[l];if(!h.hidden&&h.datafield!=null){return h}}return null},_handlekeydown:function(aa,T){if(T.groupable&&T.groups.length>0){}if(T.disabled){return false}var N=aa.charCode?aa.charCode:aa.keyCode?aa.keyCode:0;if(T.editcell&&T.selectionmode!="multiplecellsadvanced"){return true}else{if(T.editcell&&T.selectionmode=="multiplecellsadvanced"){if(N>=33&&N<=40){if(!aa.altKey){if(T._cancelkeydown==undefined||T._cancelkeydown==false){if(T.editmode!=="selectedrow"){T.endcelledit(T.editcell.row,T.editcell.column,false,true);T._cancelkeydown=false;if(T.editcell&&!T.editcell.validated){T._rendervisualrows();T.endcelledit(T.editcell.row,T.editcell.column,false,true);return false}}else{return true}}else{T._cancelkeydown=false;return true}}else{T._cancelkeydown=false;return true}}else{return true}}}if(T.selectionmode=="none"){return true}if(T.showfilterrow&&T.filterable){if(this.filterrow){if(c(aa.target).ischildof(T.filterrow)){return true}}}if(T.showeverpresentrow){if(T.addnewrowtop){if(c(aa.target).ischildof(T.addnewrowtop)){return true}}if(T.addnewrowbottom){if(c(aa.target).ischildof(T.addnewrowbottom)){return true}}}if(aa.target.className&&aa.target.className.indexOf("jqx-grid-widget")>=0){return true}if(T.pageable){if(c(aa.target).ischildof(this.pager)){return true}}if(this.showtoolbar){if(c(aa.target).ischildof(this.toolbar)){return true}}if(this.showstatusbar){if(c(aa.target).ischildof(this.statusbar)){return true}}var X=false;if(aa.altKey){return true}if(aa.ctrlKey||aa.metaKey){if(this.clipboard){var ap=String.fromCharCode(N).toLowerCase();if(this.clipboardbegin){var ah=null;if(ap=="c"){ah=this.clipboardbegin("copy",this.copyselection())}else{if(ap=="x"){ah=this.clipboardbegin("cut",this.copyselection())}else{if(ap=="v"){ah=this.clipboardbegin("paste")}}}if(ah===false){return false}}if(ap=="c"||ap=="x"){var Z=this.copyselection();if(ap=="c"&&this.clipboardend){this.clipboardend("copy")}if(ap=="x"&&this.clipboardend){this.clipboardend("cut")}if(window.clipboardData){window.clipboardData.setData("Text",Z)}else{var ak=c('<textarea style="position: absolute; left: -1000px; top: -1000px;"/>');ak.val(Z);c("body").append(ak);ak.select();setTimeout(function(){document.designMode="off";ak.select();ak.remove();T.focus()},100)}if(ap=="c"&&c.jqx.browser.msie){return false}else{if(ap=="c"){return true}}}else{if(ap=="v"){var R=c('<textarea style="position: absolute; left: -1000px; top: -1000px;"/>');c("body").append(R);R.select();var ag=this;setTimeout(function(){ag._clipboardselection=new Array();var h=R.val();if(h.length==0&&window.clipboardData){R.val(window.clipboardData.getData("Text"));var h=R.val()}var d=h.split("\n");for(var e=0;e<d.length;e++){if(d[e].split("\t").length>0){var f=d[e].split("\t");if(f.length==1&&e==d.length-1&&f[0]==""){continue}if(f.length>0){ag._clipboardselection.push(f)}}}ag.pasteselection();R.remove();ag.focus()},100);return true}}if(ap=="x"){this.deleteselection();this.host.focus();return false}}}var ad=Math.round(T._gettableheight());var J=Math.round(ad/T.rowsheight);var al=T.getdatainformation();switch(T.selectionmode){case"singlecell":case"multiplecells":case"multiplecellsextended":case"multiplecellsadvanced":var L=T.getselectedcell();if(L!=null){var am=this.getrowvisibleindex(L.rowindex);var ai=am;var ab=L.datafield;var M=T._getcolumnindex(ab);var ao=T.columns.records.length;var P=function(h,e,l,n){var f=function(E,A){var w=T.dataview.loadedrecords[E];if(T.groupable&&T.groups.length>0){var v=E;if(n=="up"){v++}if(n=="down"){v--}var w=T.getdisplayrows()[v];var D=function(F){if(F.group){if(T.expandedgroups[F.uniqueid]){return T.expandedgroups[F.uniqueid].expanded}}else{return false}};var t=1;var C=true;while(C&&t<300){C=false;if(n=="down"){w=T.getdisplayrows()[v+t]}else{if(n=="up"){w=T.getdisplayrows()[v-t]}}if(!w){break}if(w&&w.group){C=true}var s=w.parentItem;while(s){if(s&&!D(s)){C=true}s=s.parentItem}if(!C){break}t++}if(t==300){w=null}if(T.pageable){var u=false;if(w){for(var z=0;z<T.dataview.rows.length;z++){if(T.dataview.rows[z].boundindex==w.boundindex){u=true}}if(!u){w=null}}}}if(w!=undefined&&A!=null){if(l||l==undefined){T.clearselection()}var B=T.getboundindex(w);T.selectcell(B,A);T._oldselectedcell=T.selectedcell;X=true;T.ensurecellvisible(E,A);return true}return false};if(!f(h,e)){T.ensurecellvisible(h,e);f(h,e);if(T.virtualmode){T.host.focus()}}var q=T.groupable&&T.groups.length>0;if(!q){if(aa.shiftKey&&aa.keyCode!=9){if(T.selectionmode=="multiplecellsextended"||T.selectionmode=="multiplecellsadvanced"){if(T._lastClickedCell){T._selectpath(h,e);var o=T.dataview.loadedrecords[h];var d=T.getboundindex(o);T.selectedcell={rowindex:d,datafield:e};return}}}else{if(!aa.shiftKey){T._lastClickedCell={row:h,column:e}}}}};var Y=aa.shiftKey&&T.selectionmode!="singlecell"&&T.selectionmode!="multiplecells";var W=function(){P(0,ab,!Y)};var aj=function(){var d=al.rowscount-1;P(d,ab,!Y)};var an=N==9&&!aa.shiftKey;var ae=N==9&&aa.shiftKey;if(T.rtl){var V=an;an=ae;ae=V}if(an||ae){Y=false}if(an||ae){if(document.activeElement&&document.activeElement.className&&document.activeElement.className.indexOf("jqx-grid-cell-add-new-row")>=0){return true}}var ac=aa.ctrlKey||aa.metaKey;if(ac&&N==37){var S=T._getfirstvisiblecolumn(M);if(S!=null){P(ai,S.datafield)}}else{if(ac&&N==39){var Q=T._getlastvisiblecolumn(M);if(Q!=null){P(ai,Q.datafield)}}else{if(N==39||an){var K=T._getnextvisiblecolumn(M);if(K!=null){P(ai,K.datafield,!Y)}else{if(!an){X=true}else{var O=T._getfirstvisiblecolumn();N=40;ab=O.displayfield}}}else{if(N==37||ae){var S=T._getprevvisiblecolumn(M);if(S!=null){P(ai,S.datafield,!Y)}else{if(!ae){X=true}else{var af=T._getlastvisiblecolumn();N=38;ab=af.displayfield}}}else{if(N==36){W()}else{if(N==35){aj()}else{if(N==33){if(ai-J>=0){var U=ai-J;P(U,ab,!Y)}else{W()}}else{if(N==34){if(al.rowscount>ai+J){var U=ai+J;P(U,ab,!Y)}else{aj()}}}}}}}}}if(N==38){if(ac){W()}else{if(ai>0){P(ai-1,ab,!Y,"up")}else{X=true}}}if(N==40){if(ac){aj()}else{if((al.rowscount>ai+1)||(T.groupable&&T.groups.length>0)){P(ai+1,ab,!Y,"down")}else{X=true}}}}break;case"singlerow":case"multiplerows":case"multiplerowsextended":case"multiplerowsadvanced":var ai=T.getselectedrowindex();if(ai==null||ai==-1){return true}ai=this.getrowvisibleindex(ai);var a=function(e,h,l){var f=function(s){var t=T.dataview.loadedrecords[s];if(T.groupable&&T.groups.length>0){if(l=="up"){s++}if(l=="down"){s--}var t=T.getdisplayrows()[s];var B=function(C){if(C.group){if(T.expandedgroups[C.uniqueid]){return T.expandedgroups[C.uniqueid].expanded}}else{return false}};var o=1;var A=true;while(A&&o<300){A=false;if(l=="down"){t=T.getdisplayrows()[s+o]}else{if(l=="up"){t=T.getdisplayrows()[s-o]}}if(!t){break}if(t&&t.group){A=true}var n=t.parentItem;while(n){if(n&&!B(n)){A=true}n=n.parentItem}if(!A){break}o++}if(o==300){t=null}if(T.pageable){var q=false;if(t){for(var u=0;u<T.dataview.rows.length;u++){if(T.dataview.rows[u].boundindex==t.boundindex){q=true}}if(!q){t=null}}}}if(t!=undefined){var z=T.getboundindex(t);var v=T.selectedrowindex;if(h||h==undefined){T.clearselection()}T.selectedrowindex=v;T.selectrow(z,false);var w=T.ensurerowvisible(s);if(!w||T.autoheight||T.groupable){T._rendervisualrows()}X=true;return true}return false};if(!f(e)){T.ensurerowvisible(e);f(e,h);if(T.virtualmode){setTimeout(function(){f(e,h)},25)}if(T.virtualmode){T.host.focus()}}var d=T.groupable&&T.groups.length>0;if(!d){if(aa.shiftKey&&N!=9){if(T.selectionmode=="multiplerowsextended"){if(T._lastClickedCell){T._selectrowpath(e);T.selectedrowindex=T.getrowboundindex(e);return}}}else{if(!aa.shiftKey){T._lastClickedCell={row:e};T.selectedrowindex=T.getrowboundindex(e)}}}};var Y=aa.shiftKey&&T.selectionmode!="singlerow"&&T.selectionmode!="multiplerows";var W=function(){a(0,!Y)};var aj=function(){var d=al.rowscount-1;a(d,!Y)};var ac=aa.ctrlKey||aa.metaKey;if(N==36||(ac&&N==38)){W()}else{if(N==35||(ac&&N==40)){aj()}else{if(N==33){if(ai-J>=0){var U=ai-J;a(U,!Y)}else{W()}}else{if(N==34){if(al.rowscount>ai+J){var U=ai+J;a(U,!Y)}else{aj()}}else{if(N==38){if(ai>0){a(ai-1,!Y,"up")}else{X=true}}else{if(N==40){if((al.rowscount>ai+1)||(T.groupable&&T.groups.length>0)){a(ai+1,!Y,"down")}else{X=true}}}}}}}break}if(X){if(T.autosavestate){if(T.savestate){T.savestate()}}return false}return true},_handlemousemove:function(E,L){if(L.vScrollInstance.isScrolling()){return}if(L.hScrollInstance.isScrolling()){return}var C;var J;var U;var N;var O;if(L.enablehover||L.selectionmode=="multiplerows"){C=this.showheader?this.columnsheader.height()+2:0;J=this._groupsheader()?this.groupsheader.height():0;var K=this.showtoolbar?this.toolbarheight:0;J+=K;U=this.host.coord();if(this.hasTransform){U=c.jqx.utilities.getOffset(this.host);var Q=this._getBodyOffset();U.left-=Q.left;U.top-=Q.top}N=E.pageX-U.left;O=E.pageY-C-U.top-J}if(L.selectionmode=="multiplerowsextended"||L.selectionmode=="multiplecellsextended"||L.selectionmode=="multiplecellsadvanced"){if(L.mousecaptured==true){return}}if(L.enablehover){if(L.disabled){return}if(this.vScrollInstance.isScrolling()||this.hScrollInstance.isScrolling()){return}var X=this._hittestrow(N,O);if(!X){return}var S=X.row;var R=X.index;if(this.hoveredrow!=-1&&R!=-1&&this.hoveredrow==R&&this.selectionmode.indexOf("cell")==-1&&this.selectionmode!="checkbox"){return}this._clearhoverstyle();if(R==-1||S==undefined){return}var H=this.hittestinfo[R].visualrow;if(H==null){return}if(this.hittestinfo[R].details){return}if(E.clientX>c(H).width()+c(H).coord().left){return}var I=0;var M=H.cells.length;if(L.rowdetails&&L.showrowdetailscolumn){if(!this.rtl){I=1+this.groups.length}else{M-=1;M-=this.groups.length}}else{if(this.groupable){if(!this.rtl){I=this.groups.length}else{M-=this.groups.length}}}if(H.cells.length==0){return}var P=H.cells[I].className;if(S.group||(this.selectionmode.indexOf("row")>=0&&P.indexOf("jqx-grid-cell-selected")!=-1)){return}this.hoveredrow=R;if(this.selectionmode.indexOf("cell")!=-1||this.selectionmode=="checkbox"){var V=-1;var G=this.hScrollInstance;var F=G.value;if(this.rtl){if(this.hScrollBar.css("visibility")!="hidden"){F=G.max-G.value}}for(var D=I;D<M;D++){var T=parseInt(c(this.columnsrow[0].cells[D]).css("left"))-F;var a=T+c(this.columnsrow[0].cells[D]).width();if(a>=N&&N>=T){V=D;break}}if(V!=-1){var Y=H.cells[V];if(this.cellhover){this.cellhover(Y,E.pageX,E.pageY)}if(Y.className.indexOf("jqx-grid-cell-selected")==-1){if(this.editcell){var W=this._getcolumnat(V);if(W){if(this.editcell.row==R&&this.editcell.column==W.datafield){return}}}c(Y).addClass(this.toTP("jqx-grid-cell-hover"));c(Y).addClass(this.toTP("jqx-fill-state-hover"))}}return}for(var D=I;D<M;D++){var Y=H.cells[D];c(Y).addClass(this.toTP("jqx-grid-cell-hover"));c(Y).addClass(this.toTP("jqx-fill-state-hover"));if(this.cellhover){this.cellhover(Y,E.pageX,E.pageY)}}}else{return true}}})})(jqxBaseFramework);(function(c){c.extend(c.jqx._jqxGrid.prototype,{autoresizecolumns:function(a,U){if(a!="cells"&&a!="all"&&a!="column"){a="all"}var N=this.that;var P=this.getrows();if(this.pageable){P=this.dataview.rows;if(this.groupable){P=this.dataview.records}}if(U==undefined){U=0}else{U=parseInt(U)}var W=P.length;if(W==undefined&&P!=undefined){var H=new Array();c.each(P,function(d){H.push(this)});P=H;W=P.length}var E=c("<span></span>");E.addClass(this.toThemeProperty("jqx-widget"));E.addClass(this.toThemeProperty("jqx-grid-cell"));c(document.body).append(E);var Y=[];var V=[];var Z=[];var L=[];var O=N.host.width();if(N.vScrollBar[0].style.visibility!="hidden"){O-=this.scrollbarsize+5}if(O<0){O=0}for(var D=0;D<W;D++){var S=P[D];for(var F=0;F<this.columns.records.length;F++){var X=this.columns.records[F];if(X.hidden){continue}if(this.groups.length>0&&F<=this.groups.length-1){continue}if(V[X.displayfield]==undefined){V[X.displayfield]=0}if(Z[X.displayfield]==undefined){Z[X.displayfield]=""}var J=S[X.displayfield];if(X.cellsformat!=""){if(c.jqx.dataFormat){if(c.jqx.dataFormat.isDate(J)){J=c.jqx.dataFormat.formatdate(J,X.cellsformat,this.gridlocalization)}else{if(c.jqx.dataFormat.isNumber(J)){J=c.jqx.dataFormat.formatnumber(J,X.cellsformat,this.gridlocalization)}}}}else{if(X.cellsrenderer){var I=N._defaultcellsrenderer(J,X);var M=X.cellsrenderer(D,X.datafield,J,I,X.getcolumnproperties(),S);if(M!=undefined){J=c(M).text()}}}if(a==undefined||a=="cells"||a=="all"){if(J!=null){var Y=J.toString().length;var G=J.toString();var K=G.replace(/[^A-Z]/g,"").length;if(Y>V[X.displayfield]){V[X.displayfield]=Y;Z[X.displayfield]=J;L[X.displayfield]=K}if(Y>0&&Y>=K){var Q=K*20+(Y-K)*15;var R=L[X.displayfield]*20+(V[X.displayfield]-L[X.displayfield])*15;if(Q>R&&Q>0&&R>0){V[X.displayfield]=Y;Z[X.displayfield]=J;L[X.displayfield]=K}}}}if(a=="column"||a=="all"){if(X.text.toString().length>V[X.displayfield]){Z[X.displayfield]=X.text;V[X.displayfield]=X.text.length;var G=X.text.toString();var K=G.replace(/[^A-Z]/g,"").length;L[X.displayfield]=K}var J=X.text;var Y=J.toString().length;var G=J.toString();var K=G.replace(/[^A-Z]/g,"").length;if(Y>0&&Y>=K){var Q=K*20+(Y-K)*15;var R=L[X.displayfield]*20+(V[X.displayfield]-L[X.displayfield])*15;if(Q>R&&Q>0&&R>0){V[X.displayfield]=Y;Z[X.displayfield]=J;L[X.displayfield]=K}}}}}if(!this.columns.records){return}for(var F=0;F<this.columns.records.length;F++){var X=this.columns.records[F];if(!X.displayfield){continue}if(Z[X.displayfield]==undefined){Z[X.displayfield]=X.text}if(E[0].className.indexOf("jqx-grid-column-header")>=0){E.removeClass(this.toThemeProperty("jqx-grid-column-header"))}if(Z[X.displayfield]==X.text){E.addClass(this.toThemeProperty("jqx-grid-column-header"))}E[0].innerHTML=Z[X.displayfield].toString();var C=E.outerWidth()+10;if(E.children().length>0){C=E.children().outerWidth()+10}if(c.jqx.browser.msie&&c.jqx.browser.version<8){C+=10}if(this.filterable&&this.showfilterrow){C+=5}C+=U;if(C>X.maxwidth){C=X.maxwidth}if(X._width!=undefined){X.__width=X._width}X._width=null;if(X.maxwidth=="auto"||C<=X.maxwidth){var T=X.width;if(C<X.minwidth){C=X.minwidth}X.width=C;if(X._percentagewidth!=undefined){X._percentagewidth=null}this._raiseEvent(14,{columntext:X.text,column:X.getcolumnproperties(),datafield:X.datafield,displayfield:X.displayfield,oldwidth:T,newwidth:C})}}E.remove();this._updatecolumnwidths();this._updatecellwidths();this._renderrows(this.virtualsizeinfo);for(var F=0;F<this.columns.records.length;F++){var X=this.columns.records[F];if(X.__width!=undefined){X._width=X.__width}}},autoresizecolumn:function(G,A,O){if(A!="cells"&&A!="all"&&A!="column"){A="all"}if(G==undefined){return false}var K=this.getrows();if(this.pageable){K=this.dataview.rows;if(this.groupable){K=this.dataview.records}}var R=this.getcolumn(G);if(R==undefined){return false}if(O==undefined){O=0}else{O=parseInt(O)}var Q=K.length;var D=c("<span></span>");D.addClass(this.toThemeProperty("jqx-widget"));D.addClass(this.toThemeProperty("jqx-grid-cell"));c(document.body).append(D);var P=0;var T="";var H=0;var z=this.that;var J=z.host.width();if(z.vScrollBar[0].style.visibility!="hidden"){J-=this.scrollbarsize+5}if(J<0){J=0}if(A==undefined||A=="cells"||A=="all"){for(var C=0;C<Q;C++){var F=K[C][R.displayfield];if(R.cellsformat!=""){if(c.jqx.dataFormat){if(c.jqx.dataFormat.isDate(F)){F=c.jqx.dataFormat.formatdate(F,R.cellsformat,this.gridlocalization)}else{if(c.jqx.dataFormat.isNumber(F)){F=c.jqx.dataFormat.formatnumber(F,R.cellsformat,this.gridlocalization)}}}}else{if(R.cellsrenderer){var I=R.cellsrenderer(C,R,F);if(I!=undefined){F=c(I).text()}}}if(F!=null){var S=F.toString().length;var E=F.toString();var a=E.replace(/[^A-Z]/g,"").length;if(S>P){P=S;T=F;H=a}if(S>0&&S>=a){var L=a*20+(S-a)*15;var M=H*20+(P-H)*15;if(L>M&&L>0&&M>0){P=S;T=F;H=a}}}}}if(A=="column"||A=="all"){if(R.text.toString().length>P){T=R.text}var F=R.text.toString();var S=F.toString().length;var E=F.toString();var a=E.replace(/[^A-Z]/g,"").length;if(S>0&&S>=a){var L=a*20+(S-a)*15;var M=H*20+(P-H)*15;if(L>M&&L>0&&M>0){P=S;T=F;H=a}}}if(T==undefined){T=R.text}D[0].innerHTML=T;if(T==R.text){D.addClass(this.toThemeProperty("jqx-grid-column-header"))}var B=D.outerWidth()+10;if(c.jqx.browser.msie&&c.jqx.browser.version<8){B+=5}if(this.filterable&&this.showfilterrow){B+=5}B+=O;D.remove();if(B>R.maxwidth){B=R.maxwidth}if(R.maxwidth=="auto"||B<=R.maxwidth){var N=R.width;if(B<R.minwidth){B=R.minwidth}R.width=B;if(R._width!=undefined){R.__width=R._width}R._width=null;if(R._percentagewidth!=undefined){R._percentagewidth=null}this._updatecolumnwidths();this._updatecellwidths();this._raiseEvent(14,{columntext:R.text,column:R.getcolumnproperties(),datafield:G,displayfield:R.displayfield,oldwidth:N,newwidth:B});this._renderrows(this.virtualsizeinfo);if(R._width!=undefined){R._width=R.__width}}},_handlecolumnsresize:function(){var a=this.that;if(this.columnsresize){var l=false;if(a.isTouchDevice()&&a.touchmode!==true){l=true}var q="mousemove.resize"+this.element.id;var u="mousedown.resize"+this.element.id;var t="mouseup.resize"+this.element.id;if(l){var q=c.jqx.mobile.getTouchEventName("touchmove")+".resize"+this.element.id;var u=c.jqx.mobile.getTouchEventName("touchstart")+".resize"+this.element.id;var t=c.jqx.mobile.getTouchEventName("touchend")+".resize"+this.element.id}this.removeHandler(c(document),q);this.addHandler(c(document),q,function(A){var z=c.data(document.body,"contextmenu"+a.element.id);if(z!=null&&a.autoshowcolumnsmenubutton){return true}if(a.resizablecolumn!=null&&!a.disabled&&a.resizing){if(a.resizeline!=null){var H=a.resizablecolumn.columnelement;var f=a.host.coord();var E=parseInt(a.resizestartline.coord().left);var C=E-a._startcolumnwidth;var D=a.resizablecolumn.column.minwidth;if(D=="auto"){D=0}else{D=parseInt(D)}var B=a.resizablecolumn.column.maxwidth;if(B=="auto"){B=0}else{B=parseInt(B)}var e=A.pageX;if(l){var G=a.getTouches(A);var d=G[0];e=d.pageX}C+=D;var F=B>0?E+B:0;var h=B==0?true:a._startcolumnwidth+e-E<B?true:false;if(a.rtl){var h=true}if(h){if(!a.rtl){if(e>=f.left&&e>=C){if(F!=0&&A.pageX<F){a.resizeline.css("left",e)}else{if(F==0){a.resizeline.css("left",e)}}if(l){return false}}}else{if(e>=f.left&&e<=f.left+a.host.width()){a.resizeline.css("left",e);if(l){return false}}}}}}if(!l&&a.resizablecolumn!=null){return false}});this.removeHandler(c(document),u);this.addHandler(c(document),u,function(z){var A=c.data(document.body,"contextmenu"+a.element.id);if(A!=null&&a.autoshowcolumnsmenubutton){return true}if(a.resizablecolumn!=null&&!a.disabled){var f=a.resizablecolumn.columnelement;if(f.coord().top+f.height()+5<z.pageY){a.resizablecolumn=null;return}if(f.coord().top-5>z.pageY){a.resizablecolumn=null;return}a._startcolumnwidth=a.resizablecolumn.column.width;a.resizablecolumn.column._width=null;c(document.body).addClass("jqx-disableselect");c(document.body).addClass("jqx-position-reset");a.host.addClass("jqx-disableselect");a.content.addClass("jqx-disableselect");a._mouseDownResize=new Date();a.resizing=true;if(a._lastmouseDownResize&&a.columnsautoresize){if(a._lastmouseDownResize-a._mouseDownResize<300&&a._lastmouseDownResize-a._mouseDownResize>-500){var B=a.resizablecolumn.column;if(B.resizable){var d=a.resizablecolumn.column.width;var e=a.hScrollBar[0].style.visibility;a._resizecolumn=null;a.resizeline.hide();a.resizestartline.hide();a.resizebackground.remove();a.resizablecolumn=null;a.columndragstarted=false;a.dragmousedown=null;a.__drag=false;a.autoresizecolumn(B.displayfield,"all");if(e!=a.hScrollBar[0].style.visibility){a.hScrollInstance.setPosition(0)}if(a.rtl){a._arrange()}if(a.autosavestate){if(a.savestate){a.savestate()}}z.stopPropagation();a.suspendClick=true;setTimeout(function(){a.suspendClick=false},100);return false}}}a._lastmouseDownResize=new Date();a._resizecolumn=a.resizablecolumn.column;a.resizeline=a.resizeline||c('<div style="position: absolute;"></div>');a.resizestartline=a.resizestartline||c('<div style="position: absolute;"></div>');a.resizebackground=a.resizebackground||c('<div style="position: absolute; left: 0; top: 0; background: #000;"></div>');a.resizebackground.css("opacity",0.01);a.resizebackground.css("cursor","col-resize");a.resizeline.css("cursor","col-resize");a.resizestartline.css("cursor","col-resize");a.resizeline.addClass(a.toThemeProperty("jqx-grid-column-resizeline"));a.resizestartline.addClass(a.toThemeProperty("jqx-grid-column-resizestartline"));c(document.body).append(a.resizeline);c(document.body).append(a.resizestartline);c(document.body).append(a.resizebackground);var w=a.resizablecolumn.columnelement.coord();a.resizebackground.css("left",a.host.coord().left);a.resizebackground.css("top",a.host.coord().top);a.resizebackground.width(a.host.width());a.resizebackground.height(a.host.height());a.resizebackground.css("z-index",9999);var h=function(G){if(!a.rtl){G.css("left",parseInt(w.left)+a._startcolumnwidth)}else{G.css("left",parseInt(w.left))}var D=a._groupsheader();var E=D?a.groupsheader.height():0;var I=a.showtoolbar?a.toolbarheight:0;E+=I;var H=a.showstatusbar?a.statusbarheight:0;E+=H;var F=0;if(a.pageable){F=a.pagerheight}var C=a.hScrollBar.css("visibility")=="visible"?17:0;G.css("top",parseInt(w.top));G.css("z-index",99999);if(a.columngroups){G.height(a.host.height()+a.resizablecolumn.columnelement.height()-F-E-C-a.columngroupslevel*a.columnsheight)}else{G.height(a.host.height()-F-E-C)}if(a.enableanimations){G.show("fast")}else{G.show()}};h(a.resizeline);h(a.resizestartline);a.dragmousedown=null}});var s=function(){c(document.body).removeClass("jqx-disableselect");c(document.body).removeClass("jqx-position-reset");if(a.showfilterrow||a.showstatusbar||a.showtoolbar||a.enablebrowserselection){a.host.removeClass("jqx-disableselect");a.content.removeClass("jqx-disableselect")}if(!a.resizing){return}a._mouseUpResize=new Date();var h=a._mouseUpResize-a._mouseDownResize;if(h<200){a.resizing=false;if(a._resizecolumn!=null&&a.resizeline!=null&&a.resizeline.css("display")=="block"){a._resizecolumn=null;a.resizeline.hide();a.resizestartline.hide();a.resizebackground.remove()}return}a.resizing=false;if(a.disabled){return}var z=a.host.width();if(a.vScrollBar[0].style.visibility!="hidden"){z-=20}if(z<0){z=0}if(a._resizecolumn!=null&&a.resizeline!=null&&a.resizeline.css("display")=="block"){var f=parseInt(a.resizeline.css("left"));var A=parseInt(a.resizestartline.css("left"));var d=a._startcolumnwidth+f-A;if(a.rtl){var d=a._startcolumnwidth-f+A}var w=a._resizecolumn.width;a._closemenu();if(d<a._resizecolumn.minwidth){d=a._resizecolumn.minwidth}a._resizecolumn.width=d;if(a._resizecolumn._percentagewidth!=undefined){a._resizecolumn._percentagewidth=(d/z)*100}for(var e=0;e<a._columns.length;e++){if(a._columns[e].datafield===a._resizecolumn.datafield){a._columns[e].width=a._resizecolumn.width;if(a._columns[e].width<a._resizecolumn.minwidth){a._columns[e].width=a._resizecolumn.minwidth}break}}var B=a.hScrollBar[0].style.visibility;a._updatecolumnwidths();a._updatecellwidths();a._raiseEvent(14,{columntext:a._resizecolumn.text,column:a._resizecolumn.getcolumnproperties(),datafield:a._resizecolumn.datafield,oldwidth:w,newwidth:d});a._renderrows(a.virtualsizeinfo);if(a.autosavestate){if(a.savestate){a.savestate()}}if(B!=a.hScrollBar[0].style.visibility){a.hScrollInstance.setPosition(0)}if(a.rtl){a._arrange()}a._resizecolumn=null;a.resizeline.hide();a.resizestartline.hide();a.resizebackground.remove();a.resizablecolumn=null}else{a.resizablecolumn=null}};try{if(document.referrer!=""||window.frameElement){var v=null;if(window.top!=null&&window.top!=window.self){if(window.parent&&document.referrer){v=document.referrer}}if(v&&v.indexOf(document.location.host)!=-1){var o=function(d){s()};if(window.top.document.addEventListener){window.top.document.addEventListener("mouseup",o,false)}else{if(window.top.document.attachEvent){window.top.document.attachEvent("onmouseup",o)}}}}}catch(n){}this.removeHandler(c(document),t);this.addHandler(c(document),t,function(d){var e=c.data(document.body,"contextmenu"+a.element.id);if(e!=null&&a.autoshowcolumnsmenubutton){return true}s()})}}})})(jqxBaseFramework);(function(c){c.jqx.dataview.sort=function(){this.sortby=function(K,I,z){var C=Object.prototype.toString;if(I==null){this.sortdata=null;this.sortcache={};this.grid._pagescache=new Array();this.grid._cellscache=new Array();this.refresh();return}if(I==undefined){I=true}if(I=="a"||I=="asc"||I=="ascending"||I==true){I=true}else{I=false}var H=K;this.sortfield=K;this.sortfielddirection=I?"asc":"desc";if(this.sortcache==undefined){this.sortcache={}}this.sortdata=[];var M=[];var L=false;if(H=="constructor"){H=""}if(!this.virtualmode&&this.sortcache[H]!=null){var A=this.sortcache[H];M=A._sortdata;if(A.direction==I){M.reverse()}else{if(!A.direction&&I){M.reverse()}L=true}if(M.length<this.totalrecords){this.sortcache={};L=false;M=[]}}Object.prototype.toString=(typeof K=="function")?K:function(){return this[K]};var v=this.records;var a=this.that;var B="";if(this.source.datafields){c.each(this.source.datafields,function(){if(this.name==K){if(this.type){B=this.type}return false}})}if(M.length==0){if(v.length){var G=v.length;for(var w=0;w<G;w++){var J=v[w];if(J!=null){var F=J;var u=F.toString();M.push({sortkey:u,value:F,index:w})}}}else{var D=false;for(obj in v){var J=v[obj];if(J==undefined){D=true;break}var F=J;M.push({sortkey:F.toString(),value:F,index:obj})}if(D){c.each(v,function(e,d){M.push({sortkey:d.toString(),value:d,index:e})})}}}if(!L){if(z==null){this._sortcolumntype=B;var E=this;M.sort(function(d,e){return E._compare(d,e,B)})}else{M.sort(z)}}if(!I){M.reverse()}Object.prototype.toString=C;this.sortdata=M;this.sortcache[H]={_sortdata:M,direction:I};this.reload(this.records,this.rows,this.filters,this.updated,true)},this.clearsortdata=function(){this.sortcache={};this.sortdata=null};this._compare=function(o,a,l){var o=o.sortkey;var a=a.sortkey;if(o===undefined){o=null}if(a===undefined){a=null}if(o===null&&a===null){return 0}if(o===null&&a!==null){return -1}if(o!==null&&a===null){return 1}if(c.jqx.dataFormat){if(l&&l!=""){switch(l){case"number":case"int":case"float":if(o<a){return -1}if(o>a){return 1}return 0;case"date":case"time":if(o<a){return -1}if(o>a){return 1}return 0;case"string":case"text":o=String(o).toLowerCase();a=String(a).toLowerCase();break}}else{if(c.jqx.dataFormat.isNumber(o)&&c.jqx.dataFormat.isNumber(a)){if(o<a){return -1}if(o>a){return 1}return 0}else{if(c.jqx.dataFormat.isDate(o)&&c.jqx.dataFormat.isDate(a)){if(o<a){return -1}if(o>a){return 1}return 0}else{if(!c.jqx.dataFormat.isNumber(o)&&!c.jqx.dataFormat.isNumber(a)){o=String(o).toLowerCase();a=String(a).toLowerCase()}}}}}try{if(o<a){return -1}if(o>a){return 1}}catch(n){var h=n}return 0};this._equals=function(d,a){return(this._compare(d,a)===0)}};c.extend(c.jqx._jqxGrid.prototype,{_rendersortcolumn:function(){var a=this.that;var e=this.getsortcolumn();if(this.sortdirection){var f=function(h,d){var l=a.getcolumn(h);if(l){if(d.ascending){c.jqx.aria(l.element,"aria-sort","ascending")}else{if(d.descending){c.jqx.aria(l.element,"aria-sort","descending")}else{c.jqx.aria(l.element,"aria-sort","none")}}}};if(this._oldsortinfo){if(this._oldsortinfo.column){f(this._oldsortinfo.column,{ascending:false,descending:false})}}f(e,this.sortdirection)}this._oldsortinfo={column:e,direction:this.sortdirection};if(this.sortdirection){c.each(this.columns.records,function(h,d){var l=c.data(document.body,"groupsortelements"+this.displayfield);if(e==null||this.displayfield!=e){c(this.sortasc).hide();c(this.sortdesc).hide();if(l!=null){l.sortasc.hide();l.sortdesc.hide()}}else{if(a.sortdirection.ascending){c(this.sortasc).show();c(this.sortdesc).hide();if(l!=null){l.sortasc.show();l.sortdesc.hide()}}else{c(this.sortasc).hide();c(this.sortdesc).show();if(l!=null){l.sortasc.hide();l.sortdesc.show()}}}})}},getsortcolumn:function(){if(this.sortcolumn!=undefined){return this.sortcolumn}return null},removesort:function(){this.sortby(null)},sortby:function(o,h,l,n,a){if(this._loading&&a!==false){throw new Error("jqxGrid: "+this.loadingerrormessage);return false}if(o==null){h=null;o=this.sortcolumn}if(o!=undefined){var q=this.that;if(l==undefined&&q.source.sortcomparer!=null){l=q.source.sortcomparer}if(h=="a"||h=="asc"||h=="ascending"||h==true){ascending=true}else{ascending=false}if(h!=null){q.sortdirection={ascending:ascending,descending:!ascending}}else{q.sortdirection={ascending:false,descending:false}}if(h!=null){q.sortcolumn=o}else{q.sortcolumn=null}if(q.source.sort||q.virtualmode){q.dataview.sortfield=o;if(h==null){q.dataview.sortfielddirection=""}else{q.dataview.sortfielddirection=ascending?"asc":"desc"}if(q.source.sort&&!this._loading){q.source.sort(o,h);q._raiseEvent(6,{sortinformation:q.getsortinformation()});return}}else{q.dataview.sortby(o,h,l)}if(n===false){return}if(q.groupable&&q.groups.length>0){q._render(true,false,false);if(q._updategroupheadersbounds&&q.showgroupsheader){q._updategroupheadersbounds()}q._postrender("sort")}else{if(q.pageable){q.dataview.updateview()}q._updaterowsproperties();q.rendergridcontent(true);q._postrender("sort")}q._raiseEvent(6,{sortinformation:q.getsortinformation()})}},_togglesort:function(h){var a=this.that;if(this.disabled){return}if(h.sortable&&a.sortable){var l=a.getsortinformation();var f=null;if(l.sortcolumn!=null&&l.sortcolumn==h.displayfield){f=l.sortdirection.ascending;if(a.sorttogglestates>1){if(f==true){f=false}else{f=null}}else{f=!f}}else{f=true}a.sortby(h.displayfield,f,null)}}})})(jqxBaseFramework);(function(c){c.extend(c.jqx._jqxGrid.prototype,{_updatefilterrowui:function(u){var a=this.columns.records.length;var v=0;var n=this;if(!this.filterrow){return}for(var q=0;q<a;q++){var t=this.columns.records[q];var z=t.width;if(z<t.minwidth){z=t.minwidth}if(z>t.maxwidth){z=t.maxwidth}var o=c(this.filterrow[0].cells[q]);o.css("left",v);var s=true;if(o.width()==z){s=false}if(u){s=true}o.width(z);o[0].left=v;if(!(t.hidden&&t.hideable)){v+=z}else{o.css("display","none")}if(!s){continue}if(t.createfilterwidget&&t.filtertype=="custom"){t.createfilterwidget(t,o)}else{if(t.filterable){var w=function(f,e){var d=c(e.children()[0]);d.width(z-10);d.attr("disabled",f.disabled)};switch(t.filtertype){case"number":case"input":c(o.children()[0]).width(z);o.find("input").width(z-30);o.find("input").attr("disabled",n.disabled);c(o.find(".jqx-dropdownlist-state-normal")).jqxDropDownList({theme:n.theme,disabled:n.disabled});break;case"date":case"range":if(this.host.jqxDateTimeInput){c(o.children()[0]).jqxDateTimeInput({theme:n.theme,disabled:n.disabled,width:z-10})}else{w(this,o)}break;case"textbox":case"default":w(this,o);break;case"list":case"checkedlist":if(this.host.jqxDropDownList){c(o.children()[0]).jqxDropDownList({theme:n.theme,disabled:n.disabled,width:z-10})}else{w(this,o)}break;case"bool":case"boolean":if(!this.host.jqxCheckBox){w(this,o)}else{c(o.children()[0]).jqxCheckBox({theme:n.theme,disabled:n.disabled})}break}}}}var A=c(this.filterrow.children()[0]);A.width(parseInt(v)+2);A.height(this.filterrowheight)},clearfilterrow:function(A){this._disablefilterrow=true;if(!this.columns.records){return}var o=this.columns.records.length;var z=0;for(var t=0;t<o;t++){var w=this.columns.records[t];var q=c(this.filterrow[0].cells[t]);if(typeof A=="string"){if(w.displayfield!=A){continue}}if(w.filterable){var B=function(f,e){var d=c(e.children()[0]);d.val("");if(d[0]){f["_oldWriteText"+d[0].id]=""}};switch(w.filtertype){case"number":case"input":q.find("input").val("");if(this.host.jqxDropDownList){var s=c(c(c(q).children()[0]).children()[1]);s.jqxDropDownList("clearSelection");var v=0;if(v==0){var C=this._getfiltersbytype(w.filtertype=="number"?"number":"string");var a=new c.jqx.filter();var u=a.getoperatorsbyfiltertype(w.filtertype=="number"?"numberfilter":"stringfilter");if(w.filtercondition!=null){v=u.indexOf(w.filtercondition.toUpperCase());if(v==-1){v=w.filtertype=="number"?0:2}}else{v=w.filtertype=="number"?0:2}}s.jqxDropDownList({selectedIndex:v});s.jqxDropDownList("ensureVisible",v)}break;case"date":case"range":if(this.host.jqxDateTimeInput){c(q.children()[0]).jqxDateTimeInput("setDate",null)}else{B(this,q)}break;case"textbox":case"default":B(this,q);break;case"list":if(this.host.jqxDropDownList){c(q.children()[0]).jqxDropDownList("clearSelection")}else{B(this,q)}break;case"checkedlist":if(this.host.jqxDropDownList){c(q.children()[0]).jqxDropDownList("checkAll",false)}else{B(this,q)}break;case"bool":case"boolean":if(!this.host.jqxCheckBox){B(this,q)}else{c(q.children()[0]).jqxCheckBox({checked:null})}break}}}this._disablefilterrow=false},_applyfilterfromfilterrow:function(){if(this._disablefilterrow==true){return}if(this.disabled){return}var a=this.columns.records.length;var P=this.that;for(var N=0;N<a;N++){var aa=new c.jqx.filter();var L=this.columns.records[N];if(!L.filterable){continue}if(L.datafield===null){continue}var ad=P._getcolumntypebydatafield(L);var af=P._getfiltertype(ad);var Z=1;var M=true;var ae=L.filtertype;var S=function(l,d,h){var o=true;if(l._filterwidget){var q=l._filterwidget.val();if(q!=""){var f="equal";if(d=="stringfilter"){var f="contains"}if(d=="numericfilter"){if(P.gridlocalization.decimalseparator==","){if(q.indexOf(P.gridlocalization.decimalseparator)>=0){q=q.replace(P.gridlocalization.decimalseparator,".")}}}if(d!="stringfilter"){var e=0;if(q.indexOf(">")!=-1){f="greater_than";e=1}if(q.indexOf("<")!=-1){f="less_than";e=1}if(q.indexOf("=")!=-1){if(f=="greater_than"){f="greater_than_or_equal";e=2}else{if(f=="less_than"){f="less_than_or_equal";e=2}else{f="equal";e=1}}}if(e!=0){q=q.substring(e);if(q.length<1){return false}}}if(l.filtercondition!=undefined){f=l.filtercondition}if(d=="datefilter"){var n=h.createfilter(d,q,f,null,l.cellsformat,P.gridlocalization)}else{var n=h.createfilter(d,q,f)}h.addfilter(Z,n)}else{o=false}}return o};switch(L.filtertype){case"range":case"date":if(L._filterwidget.jqxDateTimeInput){if(L.filtertype=="range"){var V=L._filterwidget.jqxDateTimeInput("getRange");if(V!=null&&V.from!=null&&V.to!=null){var W="GREATER_THAN_OR_EQUAL";var R=new Date(0);R.setHours(0);R.setMinutes(0);R.setFullYear(V.from.getFullYear(),V.from.getMonth(),V.from.getDate());var T=new Date(0);T.setHours(0);T.setMinutes(0);T.setFullYear(V.to.getFullYear(),V.to.getMonth(),V.to.getDate());T.setHours(V.to.getHours());T.setMinutes(V.to.getMinutes());T.setSeconds(V.to.getSeconds());var G=aa.createfilter(af,R,W);aa.addfilter(0,G);var ag="LESS_THAN_OR_EQUAL";var H=aa.createfilter(af,T,ag);aa.addfilter(0,H)}else{M=false}}else{var V=L._filterwidget.jqxDateTimeInput("getDate");if(V!=null){var R=new Date(0);R.setHours(0);R.setMinutes(0);R.setFullYear(V.getFullYear(),V.getMonth(),V.getDate());var W="EQUAL";if(L.filtercondition!=undefined){W=L.filtercondition}var G=aa.createfilter(af,R,W);aa.addfilter(0,G)}else{M=false}}}else{M=S(L,af,aa)}break;case"input":if(L._filterwidget){var V=L._filterwidget.find("input").val();var ab=L._filterwidget.find(".filter").jqxDropDownList("selectedIndex");var I=aa.getoperatorsbyfiltertype(af)[ab];if(P.updatefilterconditions){var K=P.updatefilterconditions(af,aa.getoperatorsbyfiltertype(af));if(K!=undefined){aa.setoperatorsbyfiltertype(af,K)}var I=aa.getoperatorsbyfiltertype(af)[ab]}var X=I=="NULL"||I=="NOT_NULL";var O=I=="EMPTY"||I=="NOT_EMPTY";if(V!=undefined&&V.length>0||X||O){G=aa.createfilter(af,V,I,null,L.cellsformat,P.gridlocalization);aa.addfilter(0,G)}else{M=false}}else{M=false}break;case"number":if(L._filterwidget){var V=L._filterwidget.find("input").val();if(P.gridlocalization.decimalseparator==","){if(V.indexOf(P.gridlocalization.decimalseparator)>=0){V=V.replace(P.gridlocalization.decimalseparator,".")}}var ab=L._filterwidget.find(".filter").jqxDropDownList("selectedIndex");var I=aa.getoperatorsbyfiltertype(af)[ab];if(P.updatefilterconditions){var K=P.updatefilterconditions(af,aa.getoperatorsbyfiltertype(af));if(K!=undefined){aa.setoperatorsbyfiltertype(af,K)}var I=aa.getoperatorsbyfiltertype(af)[ab]}var X=I=="NULL"||I=="NOT_NULL";var O=I=="EMPTY"||I=="NOT_EMPTY";if(V!=undefined&&V.length>0||X||O){G=aa.createfilter(af,new Number(V),I,null,L.cellsformat,P.gridlocalization);aa.addfilter(0,G)}else{M=false}}else{M=false}break;case"textbox":case"default":M=S(L,af,aa);break;case"bool":case"boolean":if(L._filterwidget.jqxCheckBox){var V=L._filterwidget.jqxCheckBox("checked");if(V!=null){var W="equal";var Y=aa.createfilter(af,V,W);aa.addfilter(Z,Y)}else{M=false}}else{M=S(L,af,aa)}break;case"list":var ac=L._filterwidget.jqxDropDownList("listBox");if(ac.selectedIndex>0){var ah=ac.getItem(ac.selectedIndex);var V=ah.label;var U=ah.value;var W="equal";if(V===""){W="NULL"}var Y=aa.createfilter(af,V,W);aa.addfilter(Z,Y);if(U!==V){Y.data=U}}else{M=false}break;case"checkedlist":if(L._filterwidget.jqxDropDownList){var ac=L._filterwidget.jqxDropDownList("listBox");var Q=ac.getCheckedItems();if(Q.length==0){for(var J=1;J<ac.items.length;J++){var V=ac.items[J].label;var U=ac.items[J].value;var W="not_equal";if(V===""){W="NULL"}var Y=aa.createfilter(af,V,W);if(U!==V){Y.data=U}aa.addfilter(0,Y)}M=true}else{if(Q.length!=ac.items.length){for(var J=0;J<Q.length;J++){var V=Q[J].label;var U=Q[J].value;var W="equal";if(V===""){W="NULL"}var Y=aa.createfilter(af,V,W);if(U!==V){Y.data=U}aa.addfilter(Z,Y)}}else{M=false}}}else{M=S(L,af,aa)}break}if(!this._loading){if(M){this.addfilter(L.displayfield,aa,false)}else{this.removefilter(L.displayfield,false)}}}if(!this._loading){this.applyfilters("filterrow")}},_updatefilterrow:function(){var J=c('<div style="position: relative;" id="row00'+this.element.id+'"></div>');var F=0;var v=this.columns.records.length;var z=this.toThemeProperty("jqx-grid-cell");z+=" "+this.toThemeProperty("jqx-grid-cell-pinned");z+=" "+this.toThemeProperty("jqx-grid-cell-filter-row");var a=v+10;var K=new Array();var w=this.that;this.filterrow[0].cells=K;J.height(this.filterrowheight);this.filterrow.children().detach();this.filterrow.append(J);if(!this._filterrowcache){this._filterrowcache=new Array()}this._initcolumntypes();var E=false;var H=new Array();var t=document.createDocumentFragment();for(var D=0;D<v;D++){var G=this.columns.records[D];var I=G.width;if(I<G.minwidth){I=G.minwidth}if(I>G.maxwidth){I=G.maxwidth}var A=document.createElement("div");A.style.overflow="hidden";A.style.position="absolute";A.style.height="100%";A.className=z;A=c(A);t.appendChild(A[0]);A[0].style.left=F+"px";if(this.rtl){A.css("z-index",a++);A.css("border-left-width","1px")}else{A.css("z-index",a--)}if(I=="auto"){I=0}A[0].style.width=parseFloat(I)+"px";A[0].left=F;if(!(G.hidden&&G.hideable)){F+=I}else{A.css("display","none")}K[K.length]=A[0];var B=true;if(!this.rtl){if(this.groupable){var u=(this.showrowdetailscolumn&&this.rowdetails)?1:0;if(this.groups.length+u>D){B=false}}if(this.showrowdetailscolumn&&this.rowdetails&&D==0){B=false}}else{if(this.groupable){var u=(this.showrowdetailscolumn&&this.rowdetails)?1:0;if(this.groups.length+u+D>v-1){B=false}}if(this.showrowdetailscolumn&&this.rowdetails&&D==v-1){B=false}}if(B){if(G.filtertype=="custom"&&G.createfilterwidget){var C=function(){w._applyfilterfromfilterrow()};G.createfilterwidget(G,A,C)}else{if(G.filterable){if(this._filterrowcache[G.datafield]){E=true;A.append(this._filterrowcache[G.datafield]);G._filterwidget=this._filterrowcache[G.datafield]}else{this._addfilterwidget(G,A,I);H[G.datafield]=G._filterwidget}}}}}J[0].appendChild(t);this._filterrowcache=H;if(c.jqx.browser.msie&&c.jqx.browser.version<8){J.css("z-index",a--)}J.width(parseFloat(F)+2);this.filterrow.addClass(z);this.filterrow.css("border-top-width","1px");this.filterrow.css("border-right-width","0px");if(E){this._updatefilterrowui(true)}},_addfilterwidget:function(T,aj,Y){var K=this.that;var a="";var P="";for(var O=0;O<K.dataview.filters.length;O++){var I=K.dataview.filters[O];if(I.datafield&&I.datafield==T.datafield){var O=I.filter.getfilters()[0];a=O.value;P=O.condition;T.filtercondition=P;break}}var ah=function(e,d){var h=c('<input autocomplete="off" type="textarea"/>');h[0].id=c.jqx.utilities.createId();h.addClass(e.toThemeProperty("jqx-widget"));h.addClass(e.toThemeProperty("jqx-input"));h.addClass(e.toThemeProperty("jqx-rc-all"));h.addClass(e.toThemeProperty("jqx-widget-content"));if(e.rtl){h.css("direction","rtl")}if(e.disabled){h.attr("disabled",true)}h.attr("disabled",false);h.appendTo(d);h.width(Y-10);h.height(e.filterrowheight-10);h.css("margin","4px");if(T.createfilterwidget){T.createfilterwidget(T,d,h)}T._filterwidget=h;h.focus(function(){e.content[0].scrollLeft=0;setTimeout(function(){e.content[0].scrollLeft=0},10);e.focusedfilter=h;h.addClass(e.toThemeProperty("jqx-fill-state-focus"));return false});h.blur(function(){h.removeClass(e.toThemeProperty("jqx-fill-state-focus"))});h.keydown(function(l){if(l.keyCode=="13"){e._applyfilterfromfilterrow()}if(h[0]._writeTimer){clearTimeout(h[0]._writeTimer)}h[0]._writeTimer=setTimeout(function(){if(!e._loading){if(!e["_oldWriteText"+h[0].id]){e["_oldWriteText"+h[0].id]=""}if(e["_oldWriteText"+h[0].id].length>0&&e["_oldWriteText"+h[0].id]!=h.val()){e._applyfilterfromfilterrow();e["_oldWriteText"+h[0].id]=h.val()}else{if(e["_oldWriteText"+h[0].id].length==0){e._applyfilterfromfilterrow();e["_oldWriteText"+h[0].id]=h.val()}}}},T.filterdelay);e.focusedfilter=h});e.host.removeClass("jqx-disableselect");e.content.removeClass("jqx-disableselect");h.val(a)};if(T.datatype!=null){if(T.filtertype=="number"){if(T.datatype=="string"||T.datatype=="date"||T.datatype=="bool"){T.filtertype="textbox"}}if(T.filtertype=="date"){if(T.datatype=="string"||T.datatype=="number"||T.datatype=="bool"){T.filtertype="textbox"}}if(T.filtertype=="bool"){if(T.datatype=="string"||T.datatype=="number"||T.datatype=="date"){T.filtertype="textbox"}}}switch(T.filtertype){case"number":case"input":var ab=c("<div></div>");ab.width(aj.width());ab.height(this.filterrowheight);aj.append(ab);var Y=aj.width()-20;var R=function(e,d,l){var h=c('<input style="float: left;" autocomplete="off" type="textarea"/>');if(K.rtl){h.css("float","right");h.css("direction","rtl")}h[0].id=c.jqx.utilities.createId();h.addClass(K.toThemeProperty("jqx-widget jqx-input jqx-rc-all jqx-widget-content"));h.appendTo(e);h.width(d-16);if(K.disabled){h.attr("disabled",true)}h.attr("disabled",false);h.height(K.filterrowheight-10);h.css("margin","4px");h.css("margin-right","2px");h.focus(function(){K.focusedfilter=h;h.addClass(K.toThemeProperty("jqx-fill-state-focus"))});h.blur(function(){h.removeClass(K.toThemeProperty("jqx-fill-state-focus"))});h.keydown(function(n){if(n.keyCode=="13"){K._applyfilterfromfilterrow()}if(h[0]._writeTimer){clearTimeout(h[0]._writeTimer)}h[0]._writeTimer=setTimeout(function(){if(!K._loading){if(K["_oldWriteText"+h[0].id]!=h.val()){K._applyfilterfromfilterrow();K["_oldWriteText"+h[0].id]=h.val()}}},T.filterdelay);K.focusedfilter=h});h.val(a);return h};R(ab,Y);var W=K._getfiltersbytype(T.filtertype=="number"?"number":"string");var Q=c("<div class='filter' style='float: left;'></div>");Q.css("margin-top","4px");Q.appendTo(ab);if(K.rtl){Q.css("float","right")}var ag=0;if(T.filtercondition!=null){var O=new c.jqx.filter();var U=O.getoperatorsbyfiltertype(T.filtertype=="number"?"numericfilter":"stringfilter");var ai=U.indexOf(T.filtercondition.toUpperCase());if(ai!=-1){ag=ai}}var S=170;if(T.filtertype=="input"){S=240;if(ag==0){var ai=W.indexOf("contains")||2;if(ai!=-1&&T.filtercondition==null){ag=ai}}}Q.jqxDropDownList({disabled:K.disabled,touchMode:K.touchmode,rtl:K.rtl,dropDownHorizontalAlignment:"right",enableBrowserBoundsDetection:true,selectedIndex:ag,width:18,height:21,dropDownHeight:150,dropDownWidth:S,source:W,theme:K.theme});Q.jqxDropDownList({selectionRenderer:function(d){return""}});Q.jqxDropDownList("setContent","");Q.find(".jqx-dropdownlist-content").hide();if(T.createfilterwidget){T.createfilterwidget(T,aj,ab)}T._filterwidget=ab;var ae=null;this.addHandler(Q,"select",function(){var d=Q.jqxDropDownList("getSelectedItem").label;if(T._filterwidget.find("input").val().length>0&&!K.refreshingfilter){K._applyfilterfromfilterrow()}if(T.filtertype=="input"&&!K.refreshingfilter){K._applyfilterfromfilterrow()}else{if(T._filterwidget.find("input").val().length==0&&!K.refreshingfilter){if(ae=="null"||ae=="not null"||d=="null"||d=="not null"){K._applyfilterfromfilterrow()}}}ae=d});break;case"textbox":case"default":default:ah(this,aj);break;case"none":break;case"date":case"range":if(this.host.jqxDateTimeInput){var al=c("<div></div>");al.css("margin","4px");al.appendTo(aj);var aa={calendar:this.gridlocalization,todayString:this.gridlocalization.todaystring,clearString:this.gridlocalization.clearstring};al.jqxDateTimeInput({readonly:true,disabled:K.disabled,localization:aa,rtl:K.rtl,showFooter:true,formatString:T.cellsformat,selectionMode:T.filtertype,value:null,theme:this.theme,width:Y-10,height:this.filterrowheight-10});if(T.createfilterwidget){T.createfilterwidget(T,aj,al)}if(a&&a.toString().length>1){al.val(a)}T._filterwidget=al;this.addHandler(al,"valueChanged",function(d){if(!K.refreshingfilter){K._applyfilterfromfilterrow();K.focusedfilter=null}})}else{ah(this,aj)}break;case"list":case"checkedlist":if(this.host.jqxDropDownList){var V=this._getfilterdataadapter(T);var ac=false;var Q=c("<div></div>");Q.css("margin","4px");var N=T.datafield;var M=T.filtertype=="checkedlist"?true:false;var S=Y<150?220:"auto";V.dataBind();var X=V.records;var ad=X.length<8?true:false;ac=ad;Q.appendTo(aj);Q.jqxDropDownList({placeHolder:K.gridlocalization.filterchoosestring,disabled:K.disabled,touchMode:K.touchmode,rtl:K.rtl,checkboxes:M,dropDownWidth:S,source:V.records,autoDropDownHeight:ad,theme:this.theme,width:Y-10,height:this.filterrowheight-10,displayMember:T.displayfield,valueMember:N});if(T.createfilterwidget){T.createfilterwidget(T,aj,Q)}var ak=Q.jqxDropDownList("listBox");if(M){Q.jqxDropDownList({selectionRenderer:function(){var d='<span class="'+K.toThemeProperty("jqx-item")+'" style="top: 2px; position: relative; color: inherit; border: none; background-color: transparent;">'+K.gridlocalization.filterselectstring+"</span>";return d}});var f=c('<span style="top: 2px; position: relative; color: inherit; border: none; background-color: transparent;">'+K.gridlocalization.filterselectstring+"</span>");f.addClass(this.toThemeProperty("jqx-item"));if(ak!=undefined){if(!ac){ak.host.height(200)}ak.insertAt(K.gridlocalization.filterselectallstring,0);Q.jqxDropDownList("setContent",f);var af=true;var L=new Array();ak.checkAll(false);K.addHandler(ak.host,"checkChange",function(d){Q[0]._selectionChanged=true;if(!af){return}if(d.args.label!=K.gridlocalization.filterselectallstring){af=false;ak.host.jqxListBox("checkIndex",0,true,false);var h=ak.host.jqxListBox("getCheckedItems");var e=ak.host.jqxListBox("getItems");if(h.length==1){ak.host.jqxListBox("uncheckIndex",0,true,false)}else{if(e.length!=h.length){ak.host.jqxListBox("indeterminateIndex",0,true,false)}}af=true}else{af=false;if(d.args.checked){ak.host.jqxListBox("checkAll",false)}else{ak.host.jqxListBox("uncheckAll",false)}af=true}})}}else{ak.insertAt({label:this.gridlocalization.filterchoosestring,value:""},0);Q.jqxDropDownList({selectedIndex:0})}T._filterwidget=Q;var Z=Q.jqxDropDownList("dropdownlistWrapper");if(T.filtertype=="list"){this.addHandler(Q,"select",function(d){if(!K.refreshingfilter){if(d.args&&d.args.type!="none"){K._applyfilterfromfilterrow();K.focusedfilter=null}}})}else{this.addHandler(Q,"close",function(d){if(Q[0]._selectionChanged){K._applyfilterfromfilterrow();K.focusedfilter=null;Q[0]._selectionChanged=false}})}}else{ah(this,aj)}break;case"bool":case"boolean":if(this.host.jqxCheckBox){var J=c('<div tabIndex=0 style="opacity: 0.99; position: absolute; top: 50%; left: 50%; margin-top: -7px; margin-left: -10px;"></div>');J.appendTo(aj);J.jqxCheckBox({disabled:K.disabled,enableContainerClick:false,animationShowDelay:0,animationHideDelay:0,hasThreeStates:true,theme:this.theme,checked:null});if(T.createfilterwidget){T.createfilterwidget(T,aj,J)}if(a===true||a=="true"){J.jqxCheckBox({checked:true})}else{if(a===false||a=="false"){J.jqxCheckBox({checked:false})}}T._filterwidget=J;this.addHandler(J,"change",function(d){if(!K.refreshingfilter){if(d.args){K.focusedfilter=null;K._applyfilterfromfilterrow()}}})}else{ah(this,aj)}break}},_getfilterdataadapter:function(a){var l=this.source._source?true:false;if(!l){dataadapter=new c.jqx.dataAdapter(this.source,{autoBind:false,uniqueDataFields:[a.displayfield],autoSort:true,autoSortField:a.displayfield,async:false})}else{var f={localdata:this.source.records,datatype:this.source.datatype,async:false};var h=this;dataadapter=new c.jqx.dataAdapter(f,{autoBind:false,autoSort:true,autoSortField:a.displayfield,async:false,uniqueDataFields:[a.displayfield],beforeLoadComplete:function(q){var d=new Array();if(a.cellsformat){var e=h._getcolumntypebydatafield(a);for(var o=0;o<q.length;o++){d.push(q[o]);var n=q[o][a.displayfield];q[o][a.displayfield+"JQValue"]=n;if(e==="date"){if(n!=null){q[o][a.displayfield]=dataadapter.formatDate(n,a.cellsformat,h.gridlocalization)}else{q[o][a.displayfield]=""}}else{if(e==="number"||e==="float"||e==="int"){if(n!=null){q[o][a.displayfield]=dataadapter.formatNumber(n,a.cellsformat,h.gridlocalization)}else{q[o][a.displayfield]=""}}}}return d}else{return q}}})}if(a.filteritems&&a.filteritems.length>0){var f={localdata:a.filteritems,datatype:this.source.datatype,async:false};dataadapter=new c.jqx.dataAdapter(f,{autoBind:false,async:false})}else{if(a.filteritems){if(a.filteritems._source){a.filteritems._options.autoBind=false;a.filteritems._options.async=false;return a.filteritems}else{if(c.isFunction(a.filteritems)){return a.filteritems()}}}}return dataadapter},refreshfilterrow:function(){if(!this.showfilterrow){return}this.refreshingfilter=true;this._updatefilterrowui();this._updatelistfilters(true,true);var q=this.that;var a=this.columns.records.length;for(var v=0;v<a;v++){var w=this.columns.records[v];if(w.filterable){if(w.filter){var z=w.filter.getfilters();if(z.length>0){var n=z[0].value;var u=w._filterwidget;var t=w._filterwidget.parent();if(u!=null){switch(w.filtertype){case"number":t.find("input").val(n);if(this.host.jqxDropDownList){var o=w.filter.getoperatorsbyfiltertype("numericfilter");u.find(".filter").jqxDropDownList("selectIndex",o.indexOf(z[0].condition))}break;case"input":t.find("input").val(n);if(this.host.jqxDropDownList){var o=w.filter.getoperatorsbyfiltertype("stringfilter");u.find(".filter").jqxDropDownList("selectIndex",o.indexOf(z[0].condition))}break;case"date":case"range":if(this.host.jqxDateTimeInput){var n=w.filter.getfilterat(0).filtervalue;if(n!=undefined){if(w.filter.getfilterat(1)){var s=w.filter.getfilterat(1).filtervalue}else{s=n}if(w.filtertype=="range"){c(t.children()[0]).jqxDateTimeInput("setRange",new Date(n),new Date(s))}else{c(t.children()[0]).jqxDateTimeInput("setDate",new Date(n))}}}else{u.val(n)}break;case"textbox":case"default":u.val(n);q["_oldWriteText"+u[0].id]=n;break;case"bool":case"boolean":if(!this.host.jqxCheckBox){u.val(n)}else{c(t.children()[0]).jqxCheckBox({checked:n})}break}}}}}}this.refreshingfilter=false},_destroyedfilters:function(){var n=this.that;var a=this.columns.records.length;for(var o=0;o<a;o++){var t=this.columns.records[o];if(t.filterable){var l=t._filterwidget;if(t.filtertype=="list"||t.filtertype=="checkedlist"){this.removeHandler(l,"select");this.removeHandler(l,"close");l.jqxDropDownList("destroy")}else{if(t.filtertype=="date"||t.filtertype=="range"){this.removeHandler(l,"valueChanged");l.jqxDateTimeInput("destroy")}else{if(t.filtertype=="bool"){this.removeHandler(l,"change");l.jqxCheckBox("destroy")}else{if(t.filtertype=="number"){var s=l.find(".jqx-input");this.removeHandler(s,"keydown");var q=c(l.children()[1]);q.jqxDropDownList("destroy")}else{this.removeHandler(l,"keydown")}}}}l.remove()}}},_updatelistfilters:function(H,I){var a=this.that;var z=this.columns.records.length;for(var D=0;D<z;D++){var C=this.columns.records[D];if(C.filterable){if(C.filtertype=="list"||C.filtertype=="checkedlist"){var J=C._filterwidget;if(!H){if(C.filter==undefined){J.jqxDropDownList("renderSelection");continue}}else{var M=this._getfilterdataadapter(C);J.jqxDropDownList({source:M});var N=J.jqxDropDownList("getItems");var E=true;if(N.length!=M.records.length+1){E=false}if(E){for(var A=1;A<N.length;A++){if(N[A].label!=M.records[A-1][C.displayfield]){E=false;break}}}if(E&&!I){continue}}var G=C.filtertype=="checkedlist"?true:false;var N=J.jqxDropDownList("getItems");var P=J.jqxDropDownList("listBox");J.jqxDropDownList("dataBind");if(G){J.jqxDropDownList({selectionRenderer:function(){return a.gridlocalization.filterselectstring}});P.insertAt(this.gridlocalization.filterselectallstring,0);var F=c('<span style="top: 2px; position: relative; color: inherit; border: none; background-color: transparent;">'+this.gridlocalization.filterselectstring+"</span>");F.addClass(this.toThemeProperty("jqx-item"));J.jqxDropDownList("setContent",F);P.checkAll(false);if(C.filter){var K=C.filter.getfilters();for(var A=0;A<P.items.length;A++){var L=P.items[A].label;var B=undefined;c.each(K,function(){var d;if(this.condition=="NOT_EQUAL"){if(L==this.value){d=false}else{d=true}}else{if(this.condition=="EQUAL"){if(L==this.value){d=true}else{d=false}}}if(B==undefined&&d!==undefined){B=d}else{if(this.condition=="EQUAL"){B=B||d}else{B=B&&d}}});if(B){P.checkIndex(A,false,false)}else{P.uncheckIndex(A,false,false)}}P._updateCheckedItems();var w=P.getCheckedItems().length;if(P.items.length!=w&&w>0){P.host.jqxListBox("indeterminateIndex",0,true,false)}}}else{P.insertAt({label:this.gridlocalization.filterchoosestring,value:""},0);J.jqxDropDownList({selectedIndex:0});if(C.filter){var K=C.filter.getfilters();var O=-1;for(var A=0;A<P.items.length;A++){var L=P.items[A].label;c.each(K,function(){if(this.condition=="NOT_EQUAL"){return true}if(L==this.value){O=A;return false}})}if(O!=-1){P.selectIndex(O)}}}if(N.length<8){J.jqxDropDownList("autoDropDownHeight",true)}else{J.jqxDropDownList("autoDropDownHeight",false)}}}}},_renderfiltercolumn:function(){var a=this.that;if(this.filterable){if(!this.columns.records){return}c.each(this.columns.records,function(h,f){var l=false;if(a.autoshowfiltericon){if(this.filter){c(this.filtericon).show();l=true}else{c(this.filtericon).hide()}}else{if(this.filterable){c(this.filtericon).show();l=true}}if(this.align=="right"&&!this.renderer){if(this.element){if(!l){this.element.firstChild.firstChild.style.marginRight="2px"}else{this.element.firstChild.firstChild.style.marginRight="18px"}}}})}},_initcolumntypes:function(){if(this.columns&&this.columns.records){var a=this.source._source.datafields;if(a){for(var l=0;l<this.columns.records.length;l++){var h=this.columns.records[l];if(h.datatype){continue}var f="";c.each(a,function(){if(this.name==h.displayfield){if(this.type){f=this.type}return false}});if(f!=""){h.datatype=f}else{h.datatype=""}}}}},_getcolumntypebydatafield:function(q){var o=this.that;var s="string";var t=o.source.datafields||((o.source._source)?o.source._source.datafields:null);if(t){var l="";c.each(t,function(){if(this.name==q.displayfield){if(this.type){l=this.type}return false}});if(l){return l}}if(q!=null){if(this.dataview.cachedrecords==undefined){return s}var a=null;if(!this.virtualmode){if(this.dataview.cachedrecords.length==0){return s}a=this.dataview.cachedrecords[0][q.displayfield];if(a!=null&&a.toString()==""){return"string"}}else{c.each(this.dataview.cachedrecords,function(){a=this[q.displayfield];return false})}if(a!=null){if(typeof a=="boolean"){s="boolean"}else{if(c.jqx.dataFormat.isNumber(a)){s="number"}else{var n=new Date(a);if(n.toString()=="NaN"||n.toString()=="Invalid Date"){if(c.jqx.dataFormat){n=c.jqx.dataFormat.tryparsedate(a);if(n!=null){if(n&&n.getFullYear()){if(n.getFullYear()==1970&&n.getMonth()==0&&n.getDate()==1){var u=new Number(a);if(!isNaN(u)){return"number"}return"string"}}return"date"}else{s="string"}}else{s="string"}}else{s="date"}}}}}return s},_getfiltersbytype:function(a){var f=this.that;var e="";switch(a){case"number":case"float":case"int":e=f.gridlocalization.filternumericcomparisonoperators;break;case"date":e=f.gridlocalization.filterdatecomparisonoperators;break;case"boolean":case"bool":e=f.gridlocalization.filterbooleancomparisonoperators;break;case"string":default:e=f.gridlocalization.filterstringcomparisonoperators;break}return e},_getfiltertype:function(a){var d="stringfilter";switch(a){case"number":case"int":case"float":case"decimal":d="numericfilter";break;case"boolean":case"bool":d="booleanfilter";break;case"date":case"time":case"range":d="datefilter";break;case"string":case"input":d="stringfilter";break}return d},_buildfilter:function(ah,an,T){var at=c(an).find(".filter1");var S=c(an).find(".filter2");var O=c(an).find(".filter3");var ao=c(an).find(".filtertext1"+ah.element.id);var ap=c(an).find(".filtertext2"+ah.element.id);var Y=ao.val();var Z=ap.val();var a=ah._getcolumntypebydatafield(T);var af=ah._getfiltersbytype(a);var P=new c.jqx.filter();var ac=ah._getfiltertype(a);if(ah.filtermode==="default"&&(T.filtertype!=="list"&&T.filtertype!=="checkedlist")){var U=at.jqxDropDownList("selectedIndex");var aw=S.jqxDropDownList("selectedIndex");var V=O.jqxDropDownList("selectedIndex");var au=null;var av=null;if(ah.updatefilterconditions){var aj=ah.updatefilterconditions(ac,P.getoperatorsbyfiltertype(ac));if(aj!=undefined){P.setoperatorsbyfiltertype(ac,aj)}}var ai=false;var N=P.getoperatorsbyfiltertype(ac)[U];var O=P.getoperatorsbyfiltertype(ac)[V];var ad=N=="NULL"||N=="NOT_NULL";var aq=N=="EMPTY"||N=="NOT_EMPTY";if(N==undefined){N=P.getoperatorsbyfiltertype(ac)[0]}if(O==undefined){O=P.getoperatorsbyfiltertype(ac)[0]}if(Y.length>0||ad||aq){au=P.createfilter(ac,Y,N,null,T.cellsformat,ah.gridlocalization);P.addfilter(aw,au);ai=true}var ae=O=="NULL"||O=="NOT_NULL";var ar=O=="EMPTY"||O=="NOT_EMPTY";if(Z.length>0||ae||ar){av=P.createfilter(ac,Z,O,null,T.cellsformat,ah.gridlocalization);P.addfilter(aw,av);ai=true}if(ai){var W=T.displayfield;this.addfilter(W,P,true)}else{this._clearfilter(ah,an,T)}}else{if(ah.filtermode==="excel"||(T.filtertype==="list"||T.filtertype==="checkedlist")){var X=this;var al=false;var ab=at.data().jqxListBox.instance;var Q=this.filtermode==="excel"||T.filtertype==="checkedlist";var ak=ab.getCheckedItems();if(!Q){var ak=ab.getSelectedItems()}if(ak.length==0){for(var R=1;R<ab.items.length;R++){var am=ab.items[R].value;if(am===undefined){am=""}var ax="not_equal";if(am&&am.indexOf){if(am.indexOf("|")>=0||am.indexOf(" AND ")>=0||am.indexOf(" OR ")>=0||am.indexOf(" and ")>=0||am.indexOf(" or ")>=0){am=am.replace("|","");am=am.replace("AND","");am=am.replace("OR","");am=am.replace("and","");am=am.replace("or","");var ax="equal"}}if(ac=="datefilter"){var aa=P.createfilter(ac,am,ax,null,T.cellsformat,ah.gridlocalization)}else{var aa=P.createfilter(ac,am,ax,null)}P.addfilter(0,aa)}al=true}else{if(ak.length!=ab.items.length){al=true;for(var R=0;R<ak.length;R++){if(ah.gridlocalization.filterselectallstring===ak[R].value){continue}var am=ak[R].value;if(am===undefined){am=""}var ax="equal";if(ac=="datefilter"){var aa=P.createfilter(ac,am,ax,null,T.cellsformat,ah.gridlocalization)}else{var aa=P.createfilter(ac,am,ax,null)}var ag=1;P.addfilter(ag,aa)}}else{al=false}}if(al){var W=T.displayfield;this.addfilter(W,P,true)}else{var W=T.displayfield;this.removefilter(W,true)}}}},_clearfilter:function(f,l,h){var a=h.displayfield;this.removefilter(a,true)},addfilter:function(n,l,o){if(this._loading){throw new Error("jqxGrid: "+this.loadingerrormessage);return false}var h=this.getcolumn(n);var a=this._getcolumn(n);if(h==undefined||h==null){return}h.filter=l;a.filter=l;this.dataview.addfilter(n,l);if(o==true&&o!=undefined){this.applyfilters("add")}},removefilter:function(h,l){if(this._loading){throw new Error("jqxGrid: "+this.loadingerrormessage);return false}var f=this.getcolumn(h);var a=this._getcolumn(h);if(f==undefined||f==null){return}if(f.filter==null){return}this.dataview.removefilter(h,f.filter);f.filter=null;a.filter=null;if(this.showfilterrow){this.clearfilterrow(h)}if(l==true||l!==false){this.applyfilters("remove")}},applyfilters:function(l){var q=false;if(this.dataview.filters.length>=0&&(this.virtualmode||!this.source.localdata)){if(this.source!=null&&this.source.filter){var h=-1;if(this.pageable){h=this.dataview.pagenum;this.dataview.pagenum=0}else{this.vScrollInstance.setPosition(0);this.loadondemand=true;this._renderrows(this.virtualsizeinfo)}if(this.pageable&&this.virtualmode){this.dataview.pagenum=0}this.source.filter(this.dataview.filters,this.dataview.records,this.dataview.records.length);if(this.pageable&&!this.virtualmode){this.dataview.pagenum=h}}}this._cellscache=new Array();if(this.dataview.clearsortdata){this.dataview.clearsortdata()}if(!this.virtualmode){var a=this.selectedrowindexes;var o=this.that;this.dataview.refresh();if(this.dataview.clearsortdata){if(this.sortcolumn&&this.sortdirection){var n=this.sortdirection.ascending?"asc":"desc";if(!this._loading){this.sortby(this.sortcolumn,n,null,false)}else{this.sortby(this.sortcolumn,n,null,false,false)}}}}else{if(this.pageable){this.dataview.updateview();if(this.gotopage){this.gotopage(0)}}this.rendergridcontent(false,false);if(this.showfilterrow){if(typeof l!="string"&&c.isEmptyObject(l)){this.refreshfilterrow()}}this._postrender("filter");this._raiseEvent(13,{filters:this.dataview.filters});return}if(this.pageable){this.dataview.updateview();if(this.gotopage){this.gotopage(0);this.updatepagerdetails()}}this._updaterowsproperties();if(!this.groupable||(this.groupable&&this.groups.length==0)){this._rowdetailscache=new Array();this.virtualsizeinfo=null;this._pagescache=new Array();if(this.columns&&this.columns.records&&this.columns.records.length>0&&!this.columns.records[0].filtericon){this.prerenderrequired=true}this.rendergridcontent(true,false);this._updatecolumnwidths();this._updatecellwidths();this._renderrows(this.virtualsizeinfo);if(this.showaggregates&&this._updatecolumnsaggregates){this._updatecolumnsaggregates()}this._postrender("filter")}else{this._rowdetailscache=new Array();this._render(true,true,false,false,false);if(this.showfilterrow){this._updatefocusedfilter()}this._updatecolumnwidths();this._updatecellwidths();this._renderrows(this.virtualsizeinfo);this._postrender("filter")}if(this.showfilterrow){if(typeof l!="string"&&c.isEmptyObject(l)){this.refreshfilterrow()}}this._raiseEvent(13,{filters:this.dataview.filters})},getfilterinformation:function(){var e=new Array();for(var a=0;a<this.dataview.filters.length;a++){var f=this.getcolumn(this.dataview.filters[a].datafield);e[a]={filter:this.dataview.filters[a].filter,datafield:f.datafield,displayfield:f.displayfield,filtercolumn:f.datafield,filtercolumntext:f.text}}return e},clearfilters:function(a){var e=this.that;if(this.showfilterrow){this.clearfilterrow()}if(this.columns.records){var f=a==true||a!==false;c.each(this.columns.records,function(){e.removefilter(this.displayfield,!f)})}if(a===false){return}if(a==true||a!==false){this.applyfilters("clear")}},_destroyfilterpanel:function(){var q=c(c.find("#filterclearbutton"+this.element.id));var s=c(c.find("#filterbutton"+this.element.id));var l=c(c.find("#filter1"+this.element.id));var t=c(c.find("#filter2"+this.element.id));var n=c(c.find("#filter3"+this.element.id));var o=c(c.find(".filtertext1"+this.element.id));var a=c(c.find(".filtertext2"+this.element.id));if(o.length>0&&a.length>0){o.removeClass();a.removeClass();o.remove();a.remove()}if(q.length>0){q.jqxButton("destroy");s.jqxButton("destroy");this.removeHandler(q,"click");this.removeHandler(s,"click")}if(l.length>0){l.jqxDropDownList("destroy")}if(t.length>0){t.jqxDropDownList("destroy")}if(n.length>0){n.jqxDropDownList("destroy")}var l=c(c.find("#filter1"+this.element.id+"ex"));var t=c(c.find("#filter2"+this.element.id+"ex"));var n=c(c.find("#filter3"+this.element.id+"ex"));if(l.length>0){l.jqxDropDownList("destroy")}if(t.length>0){t.jqxDropDownList("destroy")}if(n.length>0){n.jqxDropDownList("destroy")}},_updatefilterpanel:function(ao,ar,ac){if(ao==null||ao==undefined){ao=this}var a=ao._getcolumntypebydatafield(ac);var am=ao._getfiltersbytype(a);if(!ao.host.jqxDropDownList){throw new Error("jqxGrid: Missing reference to jqxdropdownlist.js.");return}ao.filterpanel.detach();ao.excelfilterpanel.detach();if(ac.filterpanel){ac.filterpanel.detach()}c(ar).children().detach();var ax=c(ao.menuitemsarray[6]);c(ax).css("height","175px");if(ac.createfilterpanel&&!ac.filterpanel){var W=c("<div class='filter' style='margin-left: 7px;'></div>");c(ar).append(W);ac.createfilterpanel(ac.displayfield,W);ac.filterpanel=W}if(ac.filtertype==="list"||ac.filtertype==="checkedlist"){c(ar).append(ao.excelfilterpanel)}else{if(ac.filtertype!=="custom"){c(ar).append(ao.filterpanel)}else{if(ac.filterpanel){c(ar).append(ac.filterpanel)}}}var aA=c(ar);var T=aA.find("#filterclearbutton"+ao.element.id);var aw=aA.find("#filterbutton"+ao.element.id);var aB=aA.find(".filter1");var av=aA.find(".filter2");var R=aA.find(".filter3");var ay=aA.find(".filtertext1"+ao.element.id);var az=aA.find(".filtertext2"+ao.element.id);if(this._hasdatefilter&&(ac.filtertype!=="list"&&ac.filtertype!=="checkedlist"&&ac.filtertype!=="custom")){var aC=ay.parent();var aD=az.parent();aC.children().remove();aD.children().remove();if(ac.filtertype=="date"){ao._showwhere.text(ao.gridlocalization.filtershowrowdatestring);var aE=c("<div class='filtertext1"+ao.element.id+"' style='margin-top: 3px; margin-bottom: 3px;'></div>");aC.append(aE);var au=function(e){var d={calendar:ao.gridlocalization,todayString:ao.gridlocalization.todaystring,clearString:ao.gridlocalization.clearstring};e.jqxDateTimeInput({disabled:ao.disabled,localization:d,rtl:ao.rtl,width:ao._filterpanelwidth-15,height:20,value:null,formatString:ac.cellsformat,theme:ao.theme})};au(aE);var aE=c("<div class='filtertext2"+ao.element.id+"' style='margin-top: 3px; margin-bottom: 3px;'></div>");aD.append(aE);au(aE)}else{ao._showwhere.text(ao.gridlocalization.filtershowrowstring);var aE=c("<input class='filtertext1"+ao.element.id+"' style='height: 20px; margin-top: 3px; margin-bottom: 3px;' type='text'></input>");aC.append(aE);var au=function(d){d.addClass(ao.toThemeProperty("jqx-input"));d.addClass(ao.toThemeProperty("jqx-widget-content"));d.addClass(ao.toThemeProperty("jqx-rc-all"));d.width(ao._filterpanelwidth-15)};au(aE);var aE=c("<input class='filtertext2"+ao.element.id+"' style='height: 20px; margin-top: 3px; margin-bottom: 3px;' type='text'></input>");aD.append(aE);au(aE)}var ay=aA.find(".filtertext1"+ao.element.id);var az=aA.find(".filtertext2"+ao.element.id)}if(ac.filtertype!="date"){ay.val("");az.val("")}else{ay.val(null);az.val(null)}this.removeHandler(aw,"click");this.addHandler(aw,"click",function(){ao._buildfilter(ao,ar,ac);ao._closemenu()});this.removeHandler(T,"click");this.addHandler(T,"click",function(){ao._clearfilter(ao,ar,ac);ao._closemenu()});this.removeHandler(aw,"keydown");this.addHandler(aw,"keydown",function(d){if(d.keyCode===13){ao._buildfilter(ao,ar,ac);ao._closemenu()}});this.removeHandler(T,"keydown");this.addHandler(T,"keydown",function(d){if(d.keyCode===13){ao._clearfilter(ao,ar,ac);ao._closemenu()}});this.removeHandler(ay,"keydown");this.addHandler(ay,"keydown",function(d){if(d.keyCode===13){aw.trigger("click")}if(d.keyCode===27){ao._closemenu()}});this.removeHandler(az,"keydown");this.addHandler(az,"keydown",function(d){if(d.keyCode===13){aw.trigger("click")}if(d.keyCode===27){ao._closemenu()}});if(this.filtermode==="default"&&(ac.filtertype!=="list"&&ac.filtertype!=="checkedlist"&&ac.filtertype!=="custom")){if(aB.jqxDropDownList("source")!=am){aB.jqxDropDownList({enableBrowserBoundsDetection:false,source:am});R.jqxDropDownList({enableBrowserBoundsDetection:false,source:am})}if(a=="boolean"||a=="bool"){aB.jqxDropDownList({autoDropDownHeight:true,selectedIndex:0});R.jqxDropDownList({autoDropDownHeight:true,selectedIndex:0})}else{var Z=false;if(am&&am.length){if(am.length<5){Z=true}}aB.jqxDropDownList({autoDropDownHeight:Z,selectedIndex:2});R.jqxDropDownList({autoDropDownHeight:Z,selectedIndex:2})}av.jqxDropDownList({selectedIndex:0});var ah=ac.filter;var U=new c.jqx.filter();var aj="";switch(a){case"number":case"int":case"float":case"decimal":aj="numericfilter";at=U.getoperatorsbyfiltertype("numericfilter");break;case"boolean":case"bool":aj="booleanfilter";at=U.getoperatorsbyfiltertype("booleanfilter");break;case"date":case"time":aj="datefilter";at=U.getoperatorsbyfiltertype("datefilter");break;case"string":aj="stringfilter";at=U.getoperatorsbyfiltertype("stringfilter");break}if(ah!=null){var aC=ah.getfilterat(0);var aD=ah.getfilterat(1);var Y=ah.getoperatorat(0);if(ao.updatefilterconditions){var at=[];var ap=ao.updatefilterconditions(aj,at);if(ap!=undefined){for(var S=0;S<ap.length;S++){ap[S]=ap[S].toUpperCase()}ah.setoperatorsbyfiltertype(aj,ap);at=ap}}var ak="default";if(aC!=null){var ad=at.indexOf(aC.comparisonoperator);var ag=aC.filtervalue;ay.val(ag);aB.jqxDropDownList({selectedIndex:ad,animationType:ak})}if(aD!=null){var ae=at.indexOf(aD.comparisonoperator);var ai=aD.filtervalue;az.val(ai);R.jqxDropDownList({selectedIndex:ae,animationType:ak})}if(ah.getoperatorat(0)==undefined){av.jqxDropDownList({selectedIndex:0,animationType:ak})}else{if(ah.getoperatorat(0)=="and"||ah.getoperatorat(0)==0){av.jqxDropDownList({selectedIndex:0})}else{av.jqxDropDownList({selectedIndex:1})}}}if(ao.updatefilterpanel){ao.updatefilterpanel(aB,R,av,ay,az,aw,T,ah,aj,at)}if(!this._hasdatefilter||(this._hasdatefilter&&ac.filtertype!="date")){if(!this.touchdevice){ay.focus();setTimeout(function(){ay.focus()},10)}}}else{if(this.filtermode==="excel"||ac.filtertype==="list"||ac.filtertype==="checkedlist"){var al=ao._getfilterdataadapter(ac);var aj=ao._getfiltertype(a);var V=this.filtermode==="excel"||ac.filtertype==="checkedlist";aB.jqxListBox("focus");this.removeHandler(aB,"keyup");this.addHandler(aB,"keyup",function(d){if(d.keyCode===13){aw.trigger("click")}if(d.keyCode===27){ao._closemenu()}});if(ac.cellsformat){aB.jqxListBox({checkboxes:V,displayMember:ac.displayfield,valueMember:ac.displayfield+"JQValue",source:al})}else{aB.jqxListBox({checkboxes:V,displayMember:ac.displayfield,valueMember:ac.displayfield,source:al})}if(V){aB.jqxListBox("insertAt",ao.gridlocalization.filterselectallstring,0);var ab=aB.data().jqxListBox.instance;ab.checkAll(false);var af=this;if(ac.filter){ab.uncheckAll(false);var an=ac.filter.getfilters();for(var X=0;X<ab.items.length;X++){var aa=ab.items[X].value;c.each(an,function(){if(this.condition=="NOT_EQUAL"){if(aa!=this.value){ab.uncheckIndex(X,false,false);return false}else{if(aa!=null&&this.value!=null&&aa.toString()!=this.value.toString()){ab.uncheckIndex(X,false,false);return false}}}else{if(this.condition=="EQUAL"){if(aa==this.value){ab.checkIndex(X,false,false);return false}else{if(aa!=null&&this.value!=null&&aa.toString()==this.value.toString()){ab.checkIndex(X,false,false);return false}}}}})}ab._updateCheckedItems();var aq=ab.getCheckedItems().length;if(ab.items.length!=aq&&aq>0){ab.host.jqxListBox("indeterminateIndex",0,true,false)}if(aq===ab.items.length-1){ab.host.jqxListBox("checkIndex",0,true,false)}}}else{if(ac.filter){var ab=aB.data().jqxListBox.instance;ab.clearSelection();var an=ac.filter.getfilters();for(var X=0;X<ab.items.length;X++){var aa=ab.items[X].value;c.each(an,function(){if(this.condition=="NOT_EQUAL"){if(aa!=this.value){ab.unselectIndex(X,false,false);return false}}else{if(this.condition=="EQUAL"){if(aa==this.value){ab.selectIndex(X,true,false);return false}}}})}ab._renderItems()}}}}},_initfilterpanel:function(a,W,V,J,C){if(a==null||a==undefined){a=this}W[0].innerHTML="";var F=c("<div class='filter' style='margin-left: 7px;'></div>");W.append(F);var L=c("<div class='filter' style='margin-top: 3px; margin-bottom: 3px;'></div>");L.text(a.gridlocalization.filtershowrowstring);this._showwhere=L;var K=C?"ex":"";var D=c("<div class='filter filter1' id='filter1"+a.element.id+K+"'></div>");var Q=c("<div class='filter filter2' id='filter2"+a.element.id+K+"' style='margin-bottom: 3px;'></div>");var G=c("<div class='filter filter3' id='filter3"+a.element.id+K+"'></div>");var T=a._getcolumntypebydatafield(V);if(!D.jqxDropDownList){throw new Error("jqxGrid: jqxdropdownlist.js is not loaded.");return}var I=a._getfiltersbytype(T);this._hasdatefilter=false;this._filterpanelwidth=J;if(this.columns&&this.columns.records){for(var E=0;E<this.columns.records.length;E++){if(this.columns.records[E].filtertype=="date"){this._hasdatefilter=true;break}}}else{if(this.columns&&!this.columns.records){for(var E=0;E<this.columns.length;E++){if(this.columns[E].filtertype=="date"){this._hasdatefilter=true;break}}}}var O=c("<div class='filter'><input class='filtertext1"+a.element.id+"' style='height: 20px; margin-top: 3px; margin-bottom: 3px;' type='text'></input></div>");var M=O.find("input");M.addClass(this.toThemeProperty("jqx-input"));M.addClass(this.toThemeProperty("jqx-widget-content"));M.addClass(this.toThemeProperty("jqx-rc-all"));M.width(J-15);var N=c("<div class='filter'><input class='filtertext2"+a.element.id+"' style='height: 20px; margin-top: 3px;' type='text'></input></div>");var P=N.find("input");P.addClass(this.toThemeProperty("jqx-input"));P.addClass(this.toThemeProperty("jqx-widget-content"));P.addClass(this.toThemeProperty("jqx-rc-all"));P.width(J-15);if(a.rtl){M.css("direction","rtl");P.css("direction","rtl")}var R=c("<div class='filter' style='height: 25px; margin-left: 20px; margin-top: 7px;'></div>");var S=c('<span tabIndex=0 id="filterbutton'+a.element.id+'" class="filterbutton" style="padding: 4px 12px; margin-left: 2px;">'+a.gridlocalization.filterstring+"</span>");R.append(S);var B=c('<span tabIndex=0 id="filterclearbutton'+a.element.id+'" class="filterclearbutton" style="padding: 4px 12px; margin-left: 5px;">'+a.gridlocalization.filterclearstring+"</span>");R.append(B);S.jqxButton({height:20,theme:a.theme});B.jqxButton({height:20,theme:a.theme});var A=function(d){if(d){if(d.text().indexOf("case sensitive")!=-1){var e=d.text();e=e.replace("case sensitive","match case");d.text(e)}d.css("font-family",a.host.css("font-family"));d.css("font-size",a.host.css("font-size"));d.css("top","1px");d.css("position","relative");return d}return""};if(this.filtermode==="default"&&!C){F.append(L);F.append(D);D.jqxDropDownList({_checkForHiddenParent:false,rtl:a.rtl,enableBrowserBoundsDetection:false,selectedIndex:2,width:J-15,height:20,dropDownHeight:150,dropDownWidth:J-15,selectionRenderer:A,source:I,theme:a.theme});F.append(O);var H=new Array();H[0]=a.gridlocalization.filterandconditionstring;H[1]=a.gridlocalization.filterorconditionstring;Q.jqxDropDownList({_checkForHiddenParent:false,rtl:a.rtl,enableBrowserBoundsDetection:false,autoDropDownHeight:true,selectedIndex:0,width:60,height:20,source:H,selectionRenderer:A,theme:a.theme});F.append(Q);G.jqxDropDownList({_checkForHiddenParent:false,rtl:a.rtl,enableBrowserBoundsDetection:false,selectedIndex:2,width:J-15,height:20,dropDownHeight:150,dropDownWidth:J-15,selectionRenderer:A,source:I,theme:a.theme});F.append(G);F.append(N)}else{if(this.filtermode==="excel"||C){F.append(L);F.append(D);D.attr("tabindex",0);D.jqxListBox({rtl:a.rtl,_checkForHiddenParent:false,checkboxes:true,selectedIndex:2,width:J-15,height:120,theme:a.theme});var U=true;a.addHandler(D,"checkChange",function(f){if(!U){return}if(f.args.label!=a.gridlocalization.filterselectallstring){U=false;D.jqxListBox("checkIndex",0,true,false);var e=D.jqxListBox("getCheckedItems");var d=D.jqxListBox("getItems");if(e.length==1){D.jqxListBox("uncheckIndex",0,true,false)}else{if(d.length!=e.length){D.jqxListBox("indeterminateIndex",0,true,false)}}U=true}else{U=false;if(f.args.checked){D.jqxListBox("checkAll",false)}else{D.jqxListBox("uncheckAll",false)}U=true}})}}F.append(R);if(a.updatefilterpanel){a.updatefilterpanel(D,G,Q,O,N,S,B,null,null,I)}}})})(jqxBaseFramework);(function(c){c.jqx.dataview.grouping=function(){this.loadgrouprecords=function(af,ac,ar,ae,ab,aD,q,ad,am){var X=af;var aA=this;var T=new Array();for(var aw=0;aw<aA.groups.length;aw++){T[aw]=aA.generatekey()}var Z=new Array();var aH=0;var T=T;var ai=new Array();var U=ac;var aE=ac;var ah=aA.groups.length;this.loadedrecords=new Array();this.bounditems=new Array();this.loadedrecords=new Array();this.loadedrootgroups=new Array();this.loadedgroups=new Array();this.loadedgroupsByKey=new Array();this.sortedgroups=new Array();var V=this.sortdata!=null;var a=V?this.sortdata:this.records;if(this.pageable){var aj=Object.prototype.toString;var ay=this.groups[0];if(this.groups.length==1){Object.prototype.toString=(typeof ay=="function")?ay:function(){return this[ay]}}else{Object.prototype.toString=(typeof ay=="function")?ay:function(){var d="";for(var e=0;e<aA.groups.length;e++){d+=this[aA.groups[e]];if(e<aA.groups.length-1){d+=" "}}return d}}if(V){var aG=this.sortfield;Object.prototype.toString=(typeof ay=="function")?ay:function(){return this[ay]+" "+this[aG]}}var ap=new Array();var ag=0;if(!a[ac]){c.each(a,function(d,e){ap[ac+d++]=this});a=ap}if(!V){if(a.sort){a.sort(function(h,f){if(h===undefined){h=null}if(f===undefined){f=null}if(h===null&&f===null){return 0}if(h===null&&f!==null){return 1}if(h!==null&&f===null){return -1}h=h.toString();f=f.toString();if(c.jqx.dataFormat.isNumber(h)&&c.jqx.dataFormat.isNumber(f)){if(h<f){return -1}if(h>f){return 1}return 0}else{if(c.jqx.dataFormat.isDate(h)&&c.jqx.dataFormat.isDate(f)){if(h<f){return -1}if(h>f){return 1}return 0}else{if(!c.jqx.dataFormat.isNumber(h)&&!c.jqx.dataFormat.isNumber(f)){h=String(h).toLowerCase();f=String(f).toLowerCase()}}}try{if(h<f){return -1}if(h>f){return 1}}catch(e){var d=e}return 0})}}else{a.sort(function(h,f){var h=h.value;var f=f.value;if(h===undefined){h=null}if(f===undefined){f=null}if(h===null&&f===null){return 0}if(h===null&&f!==null){return 1}if(h!==null&&f===null){return -1}if(c.jqx.dataFormat.isNumber(h)&&c.jqx.dataFormat.isNumber(f)){if(h<f){return -1}if(h>f){return 1}return 0}else{if(c.jqx.dataFormat.isDate(h)&&c.jqx.dataFormat.isDate(f)){if(h<f){return -1}if(h>f){return 1}return 0}else{if(!c.jqx.dataFormat.isNumber(h)&&!c.jqx.dataFormat.isNumber(f)){h=String(h).toLowerCase();f=String(f).toLowerCase()}}}try{if(h<f){return -1}if(h>f){return 1}}catch(e){var d=e}return 0})}Object.prototype.toString=aj}if(this.virtualmode){var ap=new Array();var ag=0;for(var U=0;U<ar-ac;U++){if(a[U]){ap[ac+ag++]=a[U]}else{if(a[ac+ag]){ap[ac+ag]=a[ac+ag];ag++}}}U=0;a=ap}for(var aF=ac;aF<ar;aF++){var al={};if(!V){al=c.extend({},a[aF])}else{al=c.extend({},a[aF].value)}id=al[aA.uniqueId];if(ab>=ad||id!=q[ab][aA.uniqueId]||(aD&&aD[id])){am[am.length]=ab}var Y=new Array();var an=0;for(var aw=0;aw<ah;aw++){var aq=aA.groups[aw];var aa=al[aq];if(aa==null){aa=""}Y[an++]={value:aa,hash:T[aw]}}if(Y.length!=ah){break}var az=null;var ax="";var aC=-1;for(var W=0;W<Y.length;W++){aC++;var au=Y[W].value;var ao=Y[W].hash;ax=ax+"_"+ao+"_"+au;if(ai[ax]!=undefined&&ai[ax]!=null){az=ai[ax];continue}if(az==null){az={group:au,subItems:new Array(),subGroups:new Array(),level:0};Z[aH++]=az;az.uniqueid=aA.generatekey();aA.loadedgroupsByKey[au]=az}else{var av={group:au,subItems:new Array(),subGroups:new Array(),parentItem:az,level:az.level+1};aA.loadedgroupsByKey[az.uniqueid+"_"+au]=av;av.uniqueid=aA.generatekey();az.subGroups[az.subGroups.length++]=av;az=av}ai[ax]=az}if(az!=null){if(undefined==al.uid){al.uid=this.getid(this.source.id,al,U)}if(!V){al.boundindex=U;this.recordsbyid["id"+al.uid]=a[aF]}else{al.boundindex=a[aF].index;this.recordsbyid["id"+al.uid]=a[aF].value}this.bounditems[al.boundindex]=al;this.sortedgroups[U]=al;al.uniqueid=aA.generatekey();al.parentItem=az;al.level=az.level+1;az.subItems[az.subItems.length++]=al}else{if(undefined==al.uid){al.uid=this.getid(this.source.id,al,U)}if(!V){al.boundindex=U;this.recordsbyid["id"+al.uid]=a[aF]}else{al.boundindex=a[aF].index;this.recordsbyid["id"+al.uid]=a[aF].value}this.sortedgroups[U]=al;this.bounditems[al.boundindex]=al;al.uniqueid=aA.generatekey()}ab++;U++;aE++}var aB=function(h,e,d){for(var f=0;f<e.subItems.length;f++){e.subItems[f].visibleindex=af+d;h.rows[d]=e.subItems[f];h.loadedrecords[d]=e.subItems[f];d++}return d};var at=function(h,e,d){var l=function(o){if(h.aggregates==true){var n=o;var s={};if(n!=null){s.level=n.level;s.visibleindex=af+d;s.uniqueid=h.generatekey();h.rows[d]=s;h.loadedrecords[d++]=s;s.totalsrow=true;if(o.subItems.length>0){n=o.subItems[o.subItems.length-1];s.parentItem=n.parentItem;if(s.parentItem.subItems){s.parentItem.subItems[s.parentItem.subItems.length]=s}}else{if(o.subGroups.length>0){n=o.subGroups[o.subGroups.length-1];s.level=n.level;s.parentItem=o;o.subGroups[o.subGroups.length]=s}}}}};for(subGroup in e.subGroups){var f=e.subGroups[subGroup];if(f.subGroups){h.loadedgroups[h.loadedgroups.length]=f;f.visibleindex=af+d;h.rows[d]=f;h.loadedrecords[d]=f;d++;if(f.subGroups.length>0){d=at(h,f,d)}else{if(f.subItems.length>0){d=aB(h,f,d)}}l(f)}}if(e.subItems.length>0){d=aB(h,e,d)}l(e);return d};var ak=Z.length;this.loadedgroups=new Array();this.rows=new Array();var X=0;for(var U=0;U<ak;U++){var aq=Z[U];this.loadedrootgroups[U]=aq;this.loadedgroups[this.loadedgroups.length]=aq;aq.visibleindex=af+X;this.rows[X]=aq;this.loadedrecords[X]=aq;X++;X=at(this,aq,X)}return X};this._updategroupsinpage=function(Z,aa,q,ao,U,aj,am){var ad=new Array();var Q=[];if(this.groupable&&this.groups.length>0){var ab=0;var ak=new Array();var al=new Array();for(var ag=0;ag<Z.groups.length;ag++){al[ag]=Z.generatekey()}var T=0;var ae=new Array();var ai=0;if(am>this.totalrecords){am=this.totalrecords}for(var S=aj;S<am;S++){var P=c.extend({},Z.sortedgroups[S]);id=P[Z.uniqueId];if(!Z.pagesize||(q>=Z.pagesize*Z.pagenum&&q<Z.pagesize*(Z.pagenum+1))){if(ao>=U||id!=ad[ao][Z.uniqueId]||(updated&&updated[id])){Q[Q.length]=ao}var an=new Array();var M=0;for(var ag=0;ag<Z.groups.length;ag++){var af=Z.groups[ag];var Y=P[af];if(null==Y){Y=""}an[M++]={value:Y,hash:al[ag]}}if(an.length!=Z.groups.length){break}var a=null;var X="";var ap=-1;for(var ac=0;ac<an.length;ac++){ap++;var R=an[ac].value;var ah=an[ac].hash;X=X+"_"+ah+"_"+R;if(ak[X]!=undefined&&ak[X]!=null){a=ak[X];continue}if(a==null){a={group:R,subItems:new Array(),subGroups:new Array(),level:0};ae[ai++]=a;var W=Z.loadedgroupsByKey[R];if(W!=undefined){a.visibleindex=W.visibleindex;a.uniqueid=W.uniqueid}}else{var V={group:R,subItems:new Array(),subGroups:new Array(),parentItem:a,level:a.level+1};var W=Z.loadedgroupsByKey[a.uniqueid+"_"+R];V.visibleindex=W.visibleindex;V.uniqueid=W.uniqueid;a.subGroups[a.subGroups.length++]=V;a=V}ak[X]=a}if(a!=null){P.parentItem=a;P.level=a.level+1;a.subItems[a.subItems.length++]=P}ao++}T++;q++}var O=function(d,h,f){for(var e=0;e<h.subItems.length;e++){ad[f]=c.extend({},h.subItems[e]);f++}return f};var N=function(h){var f=false;for(subGroup in h.subGroups){var d=h.subGroups[subGroup];if(d.subGroups){if(d.subGroups.length>0){var e=N(d);if(e){f=true;return true}}if(d.subItems.length>0){f=true;return true}}}if(h.subItems.length>0){f=true;return true}return f};var aq=function(f,h,e){for(subGroup in h.subGroups){var d=h.subGroups[subGroup];if(d.subGroups){if(N(d)){ad[e]=d;e++;if(d.subGroups.length>0){e=aq(f,d,e)}else{if(d.subItems.length>0){e=O(f,d,e)}}}}}if(h.subItems.length>0){e=O(f,h,e)}return e};var L=0;for(var T=0;T<ae.length;T++){var af=ae[T];if(N(af)){ad[ab]=af;ab++;ab=aq(this,af,ab)}}}return ad}};c.extend(c.jqx._jqxGrid.prototype,{_initgroupsheader:function(){this.groupsheader.css("visibility","hidden");if(this._groupsheader()){this.groupsheader.css("visibility","inherit");var l=this;var o=this.gridlocalization.groupsheaderstring;this.groupsheaderdiv=this.groupsheaderdiv||c('<div style="width: 100%; position: relative;"></div>');this.groupsheaderdiv.height(this.groupsheaderheight);this.groupsheaderdiv.css("top",0);this.groupsheader.append(this.groupsheaderdiv);this.groupheadersbounds=new Array();var n=this.groups.length;this.groupsheaderdiv.children().remove();this.groupsheaderdiv[0].innerHTML="";var a=new Array();if(n>0){c.each(this.groups,function(s){var v=this;var d=l._getColumnText(this);var e=d.label;var f=l._rendergroupcolumn(e,v);f.addClass(l.toThemeProperty("jqx-grid-group-column"));l.groupsheaderdiv.append(f);if(l.closeablegroups){var q=c(f.find(".jqx-icon-close"));if(l.isTouchDevice()&&l.touchmode!==true){l.addHandler(q,"touchstart",function(){l.removegroupat(s);return false})}else{l.addHandler(q,"click",function(){l.removegroupat(s);return false})}}if(l.sortable){l.addHandler(f,"click",function(){var w=l.getcolumn(v);if(w!=null){l._togglesort(w)}return false})}a[a.length]=f;l._handlegroupstocolumnsdragdrop(this,f);if(s<n-1){var u=f.height();var t=c('<div style="float: left; position: relative;"></div>');if(l.rtl){t.css("float","right")}t.width(l.groupindentwidth/3);t.height(1);t.css("top",u/2);t.addClass(l.toThemeProperty("jqx-grid-group-column-line"));l.groupsheaderdiv.append(t)}})}else{var h=c('<div style="position: relative;">'+o+"</div>");this.groupsheaderdiv.append(h);if(this.rtl){h.addClass(this.toThemeProperty("jqx-rtl"))}}this._groupheaders=a;this._updategroupheadersbounds()}},_updategroupheadersbounds:function(){var f=this;var a=this.groupsheaderdiv.children().outerHeight();var e=(this.groupsheader.height()-a)/2;this.groupsheaderdiv.css("top",e);if(!this.rtl){this.groupsheaderdiv.css("left",e);this.groupsheaderdiv.css("right","")}else{this.groupsheaderdiv.css("left","");this.groupsheaderdiv.css("right",e)}if(this.rtl){this._groupheaders.reverse()}c.each(this._groupheaders,function(d){var h=this.coord();f.groupheadersbounds[d]={left:h.left,top:h.top,width:this.outerWidth(),height:this.outerHeight(),index:d}})},addgroup:function(d){if(d){var a=this;if(a.groups!==a.dataview.groups){a.dataview.groups=a.groups}a.groups[a.groups.length]=d;a.refreshgroups();this._raiseEvent(12,{type:"Add",index:a.groups[a.groups.length],groups:a.groups})}},insertgroup:function(e,f){if(e!=undefined&&e!=null&&e>=0&&e<=this.groups.length){if(f){var a=this;if(a.groups!==a.dataview.groups){a.dataview.groups=a.groups}a.groups.splice(e,0,f.toString());a.refreshgroups();this._raiseEvent(12,{type:"Insert",index:e,groups:a.groups})}}},refreshgroups:function(){this._refreshdataview();this._render(true,true,true,false);this._postrender("group")},_insertaftergroup:function(e,f){var a=this._getGroupIndexByDataField(e);this.insertgroup(a+1,f)},_insertbeforegroup:function(e,f){var a=this._getGroupIndexByDataField(e);this.insertgroup(a,f)},removegroupat:function(d){if(d>=0&&d!=null&&d!=undefined){var a=this;if(a.groups!==a.dataview.groups){a.dataview.groups=a.groups}a.groups.splice(d,1);a.refreshgroups();if(a.virtualmode){a.updatebounddata()}this._raiseEvent(12,{type:"Remove",index:d,groups:a.groups});return true}return false},cleargroups:function(){var a=this;a.groups=[];a.dataview.groups=a.groups;a.refreshgroups();this._raiseEvent(12,{type:"Clear",index:-1,groups:a.groups});return true},removegroup:function(d){if(d==null){return false}var a=this.groups.indexOf(d.toString());return this.removegroupat(a)},getrootgroupscount:function(){var a=this.dataview.loadedrootgroups.length;return a},collapsegroup:function(o){if(o>=0&&o.toString().indexOf(".")===-1){return this._setrootgroupstate(o,false)}var a=o.toString().split(".");var h=null;if(!this.groupsVisibility){this.groupsVisibility=new Array()}for(var n=0;n<a.length;n++){var o=parseInt(a[n]);if(n==0){var h=this.dataview.loadedrootgroups[o];this.groupsVisibility[h.group]=null}else{var l=h.subGroups[o];if(l){h=l;if(n==a.length-1){this._setgroupstate(h,false,true);this.groupsVisibility[h.group]=null}}}}},expandgroup:function(o){if(o>=0&&o.toString().indexOf(".")===-1){return this._setrootgroupstate(o,true)}var a=o.toString().split(".");var h=null;for(var n=0;n<a.length;n++){var o=parseInt(a[n]);if(n==0){var h=this.dataview.loadedrootgroups[o];this._setrootgroupstate(o,true);if(!this.groupsVisibility){this.groupsVisibility=new Array()}this.groupsVisibility[h.group]=h}else{var l=h.subGroups[o];if(l){h=l;this._setgroupstate(h,true,true);if(!this.groupsVisibility){this.groupsVisibility=new Array()}this.groupsVisibility[h.group]=h}}}},collapseallgroups:function(a){this._setbatchgroupstate(false,a)},expandallgroups:function(a){this._setbatchgroupstate(true,a)},isgroupexpanded:function(f){var e=this.dataview.loadedrootgroups[f];if(e==null){return null}var a=this.expandedgroups[e.uniqueid].expanded;return a},getgroup:function(s){var a=this.dataview.loadedrootgroups[s];if(a==null){return null}var q=this.expandedgroups[a.uniqueid].expanded;var o=a.group;var v=a.level;var u=new Array();this._getsubgroups(u,a);var l=this;var t={group:o,level:v,expanded:q,subgroups:u};if(a.subItems){var n=new Array();c.each(a.subItems,function(){var d=this.boundindex;n[n.length]=l.getrowdata(d)});if(n.length>0){t.subrows=n}}return t},getrootgroups:function(){var e=this.dataview.loadedrootgroups.length;var f=new Array();for(var a=0;a<e;a++){f[a]=this.getgroup(a)}return f},_getsubgroups:function(u,a){var l=this;for(obj in a.subGroups){var o=a.subGroups[obj];var s=l.expandedgroups[o.uniqueid].expanded;var q=o.group;var v=o.level;u[u.length]={group:q,level:v,expanded:s};if(o.subItems){var n=new Array();c.each(o.subItems,function(){var d=this.boundindex;n[n.length]=l.getrowdata(d)});u[u.length-1].subrows=n}if(o.subGroups){var t=new Array();l._getsubgroups(t,o)}}return u},_setbatchgroupstate:function(a,f){var l=this;for(obj in this.dataview.loadedrootgroups){l._setrootgroupstate(obj,a,false,true)}if(f==false){l._requiresupdate=true;l._renderrows(l.virtualsizeinfo);return true}var h=this.vScrollBar[0].style.visibility;this.rendergridcontent(true,false);if(h!=this.vScrollBar[0].style.visibility||this._hiddencolumns){this._updatecolumnwidths();this._updatecellwidths();this._renderrows(this.virtualsizeinfo)}return true},_setrootgroupstate:function(t,a,q,u){if(t==undefined||t==null||t<0){return false}if(!this.groupable||this.groups.length==0){return false}var l=q!=undefined?q:true;if(t>=0&&t<this.dataview.loadedrootgroups.length){var n=this.dataview.loadedrootgroups[t];if(this.pageable){var o=new Array();for(var s=0;s<this.dataview.rows.length;s++){if(this.dataview.rows[s].group!=null&&this.dataview.rows[s].level===0){o.push(this.dataview.rows[s])}}n=o[t];if(!n){return}}return this._setgroupstate(n,a,l,u)}return false},_togglegroupstate:function(l,h){if(l==null||l==undefined){return false}var o=this.vScrollInstance.value;var n=this.expandedgroups[l.uniqueid];if(n==undefined){n=false}else{n=n.expanded}n=!n;if(!this.groupsVisibility){this.groupsVisibility=new Array()}if(n){this.groupsVisibility[l.group]=l}else{this.groupsVisibility[l.group]=null}var a=this._setgroupstate(l,n,h);this._newmax=null;if(o!==0&&this.vScrollBar.css("visibility")!=="hidden"){if(o<=this.vScrollInstance.max){this.vScrollInstance.setPosition(o)}else{this.vScrollInstance.setPosition(this.vScrollInstance.max)}}return a},_setgroupstate:function(o,a,l,t){if(o==null||o==undefined){return false}var q=false;if(this.editable&&this.editcell){this.endcelledit(this.editcell.row,this.editcell.column,false,false)}var s=this.expandedgroups[o.uniqueid];if(s==undefined){s={expanded:false};q=true}if(s.expanded!=a){q=true}if(q){this.expandedgroups[o.uniqueid]={expanded:a,group:o};this._setsubgroupsvisibility(this,o,!a,t);if(l){var n=this.vScrollBar[0].style.visibility;this.rendergridcontent(true,false);if(n!=this.vScrollBar[0].style.visibility||this._hiddencolumns){this._updatecolumnwidths();this._updatecellwidths();this._renderrows(this.virtualsizeinfo)}}if(undefined==this.suspendgroupevents||this.suspendgroupevents==false){if(a){this._raiseEvent(4,{group:o.group,parentgroup:o.parentItem?o.parentItem.group:null,level:o.level,visibleindex:o.visibleindex})}else{this._raiseEvent(5,{group:o.group,parentgroup:o.parentItem?o.parentItem.group:null,level:o.level,visibleindex:o.visibleindex})}}return true}return false},_setgroupitemsvisibility:function(l,f,h){for(var a=0;a<f.subItems.length;a++){l._setrowvisibility(f.subItems[a].visibleindex,h,false)}},_setsubgroupsvisibility:function(q,h,l,o){if(h.parentItem!=null){if(this.hiddens[h.parentItem.visibleindex]){return}}else{if(h.parentItem==null){if(this.hiddens[h.visibleindex]){return}}}for(subGroup in h.subGroups){var n=h.subGroups[subGroup];if(!l){q._setrowvisibility(n.visibleindex,l,false)}var a=!l;if(!o){if(q.expandedgroups[n.uniqueid]==undefined){a=false}else{a=q.expandedgroups[n.uniqueid].expanded}}else{this.expandedgroups[n.uniqueid]={expanded:a,group:n}}if(n.subGroups){if(n.subGroups.length>0){q._setsubgroupsvisibility(q,n,!a||l,o)}else{if(n.subItems.length>0){q._setgroupitemsvisibility(q,n,!a||l)}}}if(l){q._setrowvisibility(n.visibleindex,l,false)}}if(h.subItems&&h.subItems.length>0){q._setgroupitemsvisibility(q,h,l)}},_handlecolumnsdragdrop:function(){var s=this;var n=-1;var t=false;if(!s.groupable){return}var o="mousemove.grouping"+this.element.id;var q="mousedown.grouping"+this.element.id;var l="mouseup.grouping"+this.element.id;var a=false;if(this.isTouchDevice()&&this.touchmode!==true){a=true;o=c.jqx.mobile.getTouchEventName("touchmove")+".grouping"+this.element.id;q=c.jqx.mobile.getTouchEventName("touchstart")+".grouping"+this.element.id;l=c.jqx.mobile.getTouchEventName("touchend")+".grouping"+this.element.id}this.removeHandler(c(document),o);this.addHandler(c(document),o,function(D){if(!s.showgroupsheader){return true}if(s.dragcolumn!=null){var B=parseInt(D.pageX);var H=parseInt(D.pageY);if(a){var d=s.getTouches(D);var f=d[0];B=parseInt(f.pageX);H=parseInt(f.pageY)}var z=s.host.coord();var G=parseInt(z.left);var F=parseInt(z.top);if(s.dragmousedownoffset==undefined||s.dragmousedownoffset==null){s.dragmousedownoffset={left:0,top:0}}var I=parseInt(B)-parseInt(s.dragmousedownoffset.left);var E=parseInt(H)-parseInt(s.dragmousedownoffset.top);s.dragcolumn.css({left:I+"px",top:E+"px"});t=false;if(B>=G&&B<=G+s.host.width()){if(H>=F&&H<=F+s.host.height()){t=true}}n=-1;if(t){s.dragcolumnicon.removeClass(s.toThemeProperty("jqx-grid-dragcancel-icon"));s.dragcolumnicon.addClass(s.toThemeProperty("jqx-grid-drag-icon"));var J=s.groupsheader.coord();var A=J.top+s.groupsheader.height();var e=c.data(s.dragcolumn[0],"datarecord");if(e){var C=s.groups.indexOf(e.toString())}else{var C=-1}var h=(C==-1)||(s.groups.length>1&&C>-1);if(s.dropline!=null){if(H>=J.top&&H<=A){if(h){n=s._handlegroupdroplines(B)}}else{s.dropline.fadeOut("slow")}}}else{if(s.dropline!=null){s.dropline.fadeOut("slow")}s.dragcolumnicon.removeClass(s.toThemeProperty("jqx-grid-drag-icon"));s.dragcolumnicon.addClass(s.toThemeProperty("jqx-grid-dragcancel-icon"))}if(a){D.preventDefault();D.stopPropagation();return false}}});this.removeHandler(c(document),l);this.addHandler(c(document),l,function(C){if(!s.showgroupsheader){return true}s.__drag=false;c(document.body).removeClass("jqx-disableselect");var w=parseInt(C.pageX);var F=parseInt(C.pageY);if(a){var f=s.getTouches(C);var h=f[0];w=parseInt(h.pageX);F=parseInt(h.pageY)}var v=s.host.coord();var E=parseInt(v.left);var D=parseInt(v.top);var A=s.groupsheader.height();if(s.showtoolbar){D+=s.toolbarheight}s.dragstarted=false;s.dragmousedown=null;if(s.dragcolumn!=null){var z=c.data(s.dragcolumn[0],"datarecord");s.dragcolumn.remove();s.dragcolumn=null;if(z!=null){if(!s.getcolumn(z).groupable){if(s.dropline!=null){s.dropline.remove();s.dropline=null}return}if(t){if(n!=-1){var e=n.index;var d=s.groups[e];var B=s._getGroupIndexByDataField(z);if(B!=e){if(B!=undefined&&B>=0){s.groups.splice(B,1)}if(n.position=="before"){if(!s.rtl){s._insertbeforegroup(d,z)}else{s._insertaftergroup(d,z)}}else{if(!s.rtl){s._insertaftergroup(d,z)}else{s._insertbeforegroup(d,z)}}}}else{if(s.groups.length==0){if(F>D&&F<=D+A){s.addgroup(z)}}else{if(F>D+A){var B=s._getGroupIndexByDataField(z);s.removegroupat(B)}}}}if(s.dropline!=null){s.dropline.remove();s.dropline=null}}}})},_getGroupIndexByDataField:function(a){for(var d=0;d<this.groups.length;d++){if(this.groups[d]==a){return d}}return -1},_isColumnInGroups:function(d){for(var a=0;a<this.groups.length;a++){if(this.groups[a]==d){return true}}return false},_handlegroupdroplines:function(e){var a=this;var f=-1;c.each(a.groupheadersbounds,function(h){if(e<=this.left+this.width/2){var d=this.left-3;if(h>0){d=this.left-1-a.groupindentwidth/6}a.dropline.css("left",d);a.dropline.css("top",this.top);a.dropline.height(this.height);a.dropline.fadeIn("slow");f={index:h,position:"before"};if(a.rtl){f={index:a.groupheadersbounds.length-1-h,position:"before"}}return false}else{if(e>=this.left+this.width/2){a.dropline.css("left",1+this.left+this.width);a.dropline.css("top",this.top);a.dropline.height(this.height);a.dropline.fadeIn("slow");f={index:h,position:"after"};if(a.rtl){f={index:a.groupheadersbounds.length-1-h,position:"after"}}}}});return f},_handlegroupstocolumnsdragdrop:function(t,q){this.dragmousedown=null;this.dragmousedownoffset=null;this.dragstarted=false;this.dragcolumn=null;var o=this;var s;var l="mousedown";var n="mousemove";var a=false;if(this.isTouchDevice()&&this.touchmode!==true){a=true;l=c.jqx.mobile.getTouchEventName("touchstart");n=c.jqx.mobile.getTouchEventName("touchmove")}this.addHandler(q,"dragstart",function(d){return false});this.addHandler(q,l,function(u){if(!o.showgroupsheader){return true}var e=u.pageX;var f=u.pageY;o.__drag=true;o.dragmousedown={left:e,top:f};if(a){var h=o.getTouches(u);var v=h[0];e=v.pageX;f=v.pageY;o.dragmousedown={left:e,top:f};if(u.preventDefault){u.preventDefault()}}var d=c(u.target).coord();o.dragmousedownoffset={left:parseInt(e)-parseInt(d.left),top:parseInt(f-d.top)}});this.addHandler(q,n,function(u){if(!o.showgroupsheader){return true}if(o.dragmousedown){s={left:u.pageX,top:u.pageY};if(a){var f=o.getTouches(u);var d=f[0];s={left:d.pageX,top:d.pageY}}if(!o.dragstarted&&o.dragcolumn==null){var h=Math.abs(s.left-o.dragmousedown.left);var e=Math.abs(s.top-o.dragmousedown.top);if(h>3||e>3){o._createdragcolumn(q,s,true);c(document.body).addClass("jqx-disableselect");c.data(o.dragcolumn[0],"datarecord",t);if(u.preventDefault){u.preventDefault()}}}}})},_createdragcolumn:function(u,s,o){var n=this;var q=s;n.dragcolumn=c("<div></div>");var a=u.clone();n.dragcolumn.css("z-index",999999);a.css("border-width","1px");a.css("opacity","0.4");var l=c(a.find("."+n.toThemeProperty("jqx-grid-column-menubutton")));if(l.length>0){l.css("display","none")}var v=c(a.find(".jqx-icon-close"));if(v.length>0){v.css("display","none")}n.dragcolumnicon=c('<div style="z-index: 9999; position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -7px;"></div>');n.dragcolumnicon.addClass(n.toThemeProperty("jqx-grid-drag-icon"));n.dragcolumn.css("float","left");n.dragcolumn.css("position","absolute");var t=n.host.coord();a.width(u.width()+16);n.dragcolumn.append(a);n.dragcolumn.height(u.height());n.dragcolumn.width(a.width());n.dragcolumn.append(n.dragcolumnicon);c(document.body).append(n.dragcolumn);a.css("margin-left",0);a.css("left",0);a.css("top",0);n.dragcolumn.css("left",q.left+n.dragmousedown.left);n.dragcolumn.css("top",q.top+n.dragmousedown.top);if(o!=undefined&&o){n.dropline=c('<div style="display: none; position: absolute;"></div>');n.dropline.width(2);n.dropline.addClass(n.toThemeProperty("jqx-grid-group-drag-line"));c(document.body).append(n.dropline)}},iscolumngroupable:function(a){return this._getcolumnproperty(a,"groupable")},_handlecolumnstogroupsdragdrop:function(q,l){this.dragmousedown=null;this.dragmousedownoffset=null;this.dragstarted=false;this.dragcolumn=null;var h=this;var n;var a=false;if(this.isTouchDevice()&&this.touchmode!==true){a=true}var o="mousedown.drag";var n="mousemove.drag";if(a){o=c.jqx.mobile.getTouchEventName("touchstart")+".drag";n=c.jqx.mobile.getTouchEventName("touchmove")+".drag"}else{this.addHandler(l,"dragstart",function(d){return false})}this.addHandler(l,o,function(s){if(!h.showgroupsheader){return true}h.__drag=true;if(h._isColumnInGroups(q.displayfield)){if(l.css("cursor")!="col-resize"){return true}else{return true}}if(false==q.groupable){return true}var t=s.pageX;var u=s.pageY;if(a){var f=h.getTouches(s);var d=f[0];t=d.pageX;u=d.pageY}h.dragmousedown={left:t,top:u};if(a){if(s.preventDefault){s.preventDefault()}}var e=c(s.target).coord();h.dragmousedownoffset={left:parseInt(t)-parseInt(e.left),top:parseInt(u-e.top)}});this.addHandler(l,n,function(s){if(!h.showgroupsheader){return true}if(h._isColumnInGroups(q.displayfield)){if(l.css("cursor")!="col-resize"){return true}else{return true}}if(h.dragmousedown){var t=s.pageX;var u=s.pageY;if(a){var e=h.getTouches(s);var v=e[0];t=v.pageX;u=v.pageY}n={left:t,top:u};if(!h.dragstarted&&h.dragcolumn==null){var f=Math.abs(n.left-h.dragmousedown.left);var d=Math.abs(n.top-h.dragmousedown.top);if(f>3||d>3){h._createdragcolumn(l,n,true);c.data(h.dragcolumn[0],"datarecord",q.displayfield);if(s.preventDefault){s.preventDefault()}}}}})},_rendergroupcolumn:function(n,l){var q=c('<div style="float: left; position: relative;"></div>');if(this.rtl){q.css("float","right")}if(this.groupcolumnrenderer!=null){q[0].innerHTML=this.groupcolumnrenderer(n);q.addClass(this.toThemeProperty("jqx-grid-group-column"));q.addClass(this.toThemeProperty("jqx-fill-state-normal"))}if(this.closeablegroups){if(q[0].innerHTML==""){q[0].innerHTML='<a style="float: left;" href="#">'+n+"</a>"}if(this.rtl){q[0].innerHTML='<a style="float: right;" href="#">'+n+"</a>"}var s=!this.rtl?"right":"left";var t='<div style="float: '+s+'; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-icon-close")+'"></div></div>';if(c.jqx.browser.msie&&c.jqx.browser.version<8){t='<div style="float: left; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-icon-close")+'"></div></div>'}if(this.rtl){var t='<div style="float: '+s+'; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-icon-close")+'"></div></div>';if(c.jqx.browser.msie&&c.jqx.browser.version<8){t='<div style="float: left; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-icon-close")+'"></div></div>'}}q[0].innerHTML+=t}else{if(q[0].innerHTML==""){q[0].innerHTML='<a href="#">'+n+"</a>"}}if(this.sortable){var o=c('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -16px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortascbutton")+'"></div></div>');var a=c('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -16px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortdescbutton")+'"></div></div>');if(this.closeablegroups){var o=c('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -32px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortascbutton")+'"></div></div>');var a=c('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -32px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortdescbutton")+'"></div></div>')}if(this.rtl){var o=c('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-left: 0px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortascbutton")+'"></div></div>');var a=c('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-left: 0px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortdescbutton")+'"></div></div>');if(this.closeablegroups){var o=c('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-left: 16px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortascbutton")+'"></div></div>');var a=c('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-left: 16px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortdescbutton")+'"></div></div>')}}o.css("display","none");a.css("display","none");if(c.jqx.browser.msie&&c.jqx.browser.version<8){o.css("float","left");a.css("float","left")}q.append(o);q.append(a);c.data(document.body,"groupsortelements"+l,{sortasc:o,sortdesc:a})}q.addClass(this.toThemeProperty("jqx-fill-state-normal"));q.addClass(this.toThemeProperty("jqx-grid-group-column"));return q},_rendergroup:function(W,I,ai,L,aa,V,N){var K=I;var ah=I.cells[ai.level];if(this.rtl){ah=I.cells[I.cells.length-1-ai.level]}var M=this._findgroupstate(ai.uniqueid);if(ai.bounddata.subGroups.length>0||ai.bounddata.subItems.length>0){var ab=this.rtl?"-rtl":"";var S=this.toThemeProperty("jqx-icon-arrow-right");if(ab){S=this.toThemeProperty("jqx-icon-arrow-left")}if(M){ah.className+=" "+this.toThemeProperty("jqx-grid-group-expand"+ab)+" "+this.toThemeProperty("jqx-icon-arrow-down")}else{ah.className+=" "+this.toThemeProperty("jqx-grid-group-collapse"+ab)+" "+S}}var P=this._getColumnText(this.groups[ai.level]).label;var ag=this.groupindentwidth;var T=this.rowdetails&&this.showrowdetailscolumn?(1+W)*ag:(W)*ag;var H=N-T;var ad=ai.level+1;if(this.rtl){ad=0}var Y=K.cells[ad];var a=2;while(Y!=undefined&&Y.style.display=="none"&&a<K.cells.length-1){Y=K.cells[ad+a-1];a++}var ae=c(Y);if(!Y){return}Y.style.width=parseInt(H)+"px";if(Y.className.indexOf("jqx-grid-cell-filter")!=-1){ae.removeClass(this.toThemeProperty("jqx-grid-cell-filter"))}if(Y.className.indexOf("jqx-grid-cell-sort")!=-1){ae.removeClass(this.toThemeProperty("jqx-grid-cell-sort"))}if(Y.className.indexOf("jqx-grid-cell-pinned")!=-1){ae.removeClass(this.toThemeProperty("jqx-grid-cell-pinned"))}if(this.groupsrenderer!=null){var ac={group:ai.group,level:ai.level,parent:ai.bounddata.parentItem,subGroups:ai.bounddata.subGroups,subItems:ai.bounddata.subItems,groupcolumn:this._getColumnText(this.groups[ai.level]).column};var U=this.groupsrenderer(P+": "+ai.group,ai.group,M,ac);if(U){Y.innerHTML=U}else{var Z=ai.bounddata.subItems.length>0?ai.bounddata.subItems.length:ai.bounddata.subGroups.length;Y.innerHTML='<div class="'+this.toThemeProperty("jqx-grid-groups-row")+'" style="position: absolute;"><span>'+P+': </span><span class="'+this.toThemeProperty("jqx-grid-groups-row-details")+'">'+ai.group+" ("+Z+")</span></div>"}}else{var af=this._getcolumnbydatafield(this.groups[ai.level]);var G=ai.group;if(af!=null){if(af.cellsformat){if(c.jqx.dataFormat){if(c.jqx.dataFormat.isDate(G)){G=c.jqx.dataFormat.formatdate(G,af.cellsformat,this.gridlocalization)}else{if(c.jqx.dataFormat.isNumber(G)){G=c.jqx.dataFormat.formatnumber(G,af.cellsformat,this.gridlocalization)}}}}var Z=ai.bounddata.subItems.length>0?ai.bounddata.subItems.length:ai.bounddata.subGroups.length;Y.innerHTML='<div class="'+this.toThemeProperty("jqx-grid-groups-row")+'" style="position: absolute;"><span>'+P+': </span><span class="'+this.toThemeProperty("jqx-grid-groups-row-details")+'">'+G+" ("+Z+")</span></div>"}else{throw new Error("jqxGrid: Unable to find '"+this.groups[ai.level]+"' group in the Grid's columns collection.")}}if(this.rtl){if(!af){af=this._getcolumnbydatafield(this.groups[ai.level])}var R=this.hScrollBar.css("visibility")=="hidden"?0:this.hScrollInstance.max-this.hScrollInstance.value;var Q=this.vScrollBar.css("visibility")=="hidden"?0:this.scrollbarsize+6;var T=this.rowdetails&&this.showrowdetailscolumn?(2+ai.level)*ag:(1+ai.level)*ag;Y.style.width=N+parseInt(R)-T-Q+"px";ae.addClass(this.toThemeProperty("jqx-rtl"));var J=c(I.cells[I.cells.length-1]).css("z-index");ae.css("z-index",J);var O=ae.find("div");var H=O.width();O.css("left","100%");var X=this.columns.records[I.cells.length-2-ai.level]!=null?this.columns.records[I.cells.length-2-ai.level].pinned:false;if(this.table.width()<N){N=this.table.width();if(this.vScrollBar.css("visibility")!="hidden"){N+=this.vScrollBar.outerWidth()}}if(af.pinned||X){if(this.rowdetails&&this.showrowdetailscolumn){N+=30}O.css("margin-left",-H);Y.style.width=N+R-T-Q+"px"}else{var R=this.hScrollBar.css("visibility")=="hidden"?0:this.hScrollInstance.max;Y.style.width=N+R-T-Q+"px";var H=O.width();O.css("margin-left",-H)}}}})})(jqxBaseFramework);(function(c){c.extend(c.jqx._jqxGrid.prototype,{_initpager:function(){var v=this.that;var F=this.gridlocalization.pagergotopagestring;var u=this.gridlocalization.pagerrangestring;var D=this.gridlocalization.pagershowrowsstring;var C=(this.pagerheight-17)/2;this.pagerdiv=this.pagerdiv||c('<div style="width: 100%; height: 100%; position: relative;"></div>');if(!this.pageable){this.pagerdiv.remove();this.vScrollBar.jqxScrollBar({thumbSize:0});return}if(!this.pagerrenderer){this.pagerdiv.css("top",C);this.pager.append(this.pagerdiv);this.pagergotoinput=this.pagergotoinput||c('<div style="margin-right: 7px; width: 27px; height: 17px; float: right;"><input style="margin-top: 0px; text-align: right; width: 27px;" type="text"/></div>');this.pagergoto=this.pagergoto||c('<div style="float: right; margin-right: 7px;"></div>');this.pagerrightbutton=this.pagerrightbutton||c('<div type="button" style="padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: right;"></div>');this.pagerleftbutton=this.pagerleftbutton||c('<div type="button" style="padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: right;"></div>');this.pagerdetails=this.pagerdetails||c('<div style="margin-right: 7px; float: right;"></div>');this.pagershowrows=this.pagershowrows||c('<div style="margin-right: 7px; float: right;"></div>');this.pagerbuttons=c('<div style="margin-right: 3px; float: right;"></div>');if(this.pagershowrowscombo&&this.pagershowrowscombo.jqxDropDownList){this.pagershowrowscombo.remove();this.pagershowrowscombo=null}this.pagergotoinput.attr("disabled",this.disabled);this.pagerfirstbutton=c('<div type="button" style="padding: 0px; margin-top: 0px; margin-left: 3px; margin-right: 3px; width: 27px; float: right;"></div>');this.pagerlastbutton=c('<div type="button" style="padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: right;"></div>');this.pagershowrowscombo=this.pagershowrowscombo||c('<div id="gridpagerlist" style="margin-top: 0px; margin-right: 7px; float: right;"></div>');this.pagerdiv.children().remove();this.pagershowrowscombo[0].id="gridpagerlist"+this.element.id;this.removeHandler(this.pagerrightbutton,"mousedown");this.removeHandler(this.pagerrightbutton,"mouseup");this.removeHandler(this.pagerrightbutton,"click");this.removeHandler(this.pagerleftbutton,"mousedown");this.removeHandler(this.pagerleftbutton,"mouseup");this.removeHandler(this.pagerleftbutton,"click");this.removeHandler(this.pagerfirstbutton,"mousedown");this.removeHandler(this.pagerfirstbutton,"mouseup");this.removeHandler(this.pagerfirstbutton,"click");this.removeHandler(this.pagerlastbutton,"mousedown");this.removeHandler(this.pagerlastbutton,"mouseup");this.removeHandler(this.pagerlastbutton,"click");this.pagerleftbutton.attr("title",this.gridlocalization.pagerpreviousbuttonstring);this.pagerrightbutton.attr("title",this.gridlocalization.pagernextbuttonstring);if(this.pagermode=="simple"){if(c.jqx.browser.msie&&c.jqx.browser.version<8){this.pagerbuttons.css("overflow","visible");this.pagerbuttons.css("padding","3px")}this.pagerfirstbutton.attr("title",this.gridlocalization.pagerfirstbuttonstring);this.pagerlastbutton.attr("title",this.gridlocalization.pagerlastbuttonstring);var B=c("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");B.addClass(this.toThemeProperty("jqx-icon-arrow-first"));this.pagerfirstbutton.wrapInner(B);var H=c("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");H.addClass(this.toThemeProperty("jqx-icon-arrow-last"));this.pagerlastbutton.wrapInner(H);if(!this.rtl){this.pagerdiv.append(this.pagerfirstbutton);this.pagerdiv.append(this.pagerleftbutton);this.pagerdiv.append(this.pagerbuttons);this.pagerdiv.append(this.pagerrightbutton);this.pagerdiv.append(this.pagerlastbutton)}else{this.pagerdiv.append(this.pagerlastbutton);this.pagerdiv.append(this.pagerrightbutton);this.pagerdiv.append(this.pagerbuttons);this.pagerdiv.append(this.pagerleftbutton);this.pagerdiv.append(this.pagerfirstbutton)}this.pagerlastbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme});this.pagerfirstbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme});var a=!this.rtl?"left":"right";this.pagerbuttons.css("float",a);this.pagerlastbutton.css("float",a);this.pagerfirstbutton.css("float",a);this.pagerrightbutton.css("float",a);this.pagerleftbutton.css("float",a);this.pagerdetails.css("float",this.rtl?"left":"right");if(this.rtl){this.pagerdetails.css("margin-left","7px");this.pagerdetails.css("margin-right","0px")}else{this.pagerdetails.css("margin-left","0px");this.pagerdetails.css("margin-right","7px")}this.pagergotoinput.hide();this.pagershowrowscombo.hide();this.pagergoto.hide();this.pagershowrows.hide()}else{this.pagergotoinput.show();this.pagershowrowscombo.show();this.pagergoto.show();this.pagershowrows.show();if(!this.rtl){this.pagerdiv.append(this.pagerrightbutton);this.pagerdiv.append(this.pagerleftbutton)}}this.pagerrightbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme});this.pagerleftbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme});this.pagerleftbutton.find(".jqx-icon-arrow-left").remove();this.pagerrightbutton.find(".jqx-icon-arrow-right").remove();var L=c("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");L.addClass(this.toThemeProperty("jqx-icon-arrow-left"));this.pagerleftbutton.wrapInner(L);var K=c("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");K.addClass(this.toThemeProperty("jqx-icon-arrow-right"));this.pagerrightbutton.wrapInner(K);this.pagerdiv.append(this.pagerdetails);if(this.pagermode!="simple"){if(!this.rtl){this.pagerdiv.append(this.pagershowrowscombo);this.pagerdiv.append(this.pagershowrows);this.pagerdiv.append(this.pagergotoinput);this.pagerdiv.append(this.pagergoto)}else{this.pagerdiv.append(this.pagergoto);this.pagerdiv.append(this.pagergotoinput);this.pagerdiv.append(this.pagershowrows);this.pagerdiv.append(this.pagershowrowscombo);this.pagerdiv.append(this.pagerdetails);this.pagerdiv.append(this.pagerrightbutton);this.pagerdiv.append(this.pagerleftbutton)}}var A=this.pagesizeoptions;if(!this.pagershowrowscombo.jqxDropDownList){throw new Error("jqxGrid: jqxdropdownlist.js is not loaded.");return}this.pagershowrowscombo.jqxDropDownList({rtl:this.rtl,disabled:this.disabled,source:A,enableBrowserBoundsDetection:true,keyboardSelection:false,autoDropDownHeight:true,width:"auto",height:16,theme:this.theme});var w=0;for(var z=0;z<A.length;z++){if(this.pagesize>=A[z]){w=z}}this.pagershowrows[0].innerHTML=D;this.pagergoto[0].innerHTML=F;this.updatepagerdetails();this.pagershowrowscombo.jqxDropDownList({selectedIndex:w});this.pagerpageinput=this.pagergotoinput.find("input");this.pagerpageinput.addClass(this.toThemeProperty("jqx-input"));this.pagerpageinput.addClass(this.toThemeProperty("jqx-widget-content"));if(this.rtl){this.pagerpageinput.css("direction","rtl")}var v=this.that;this.removeHandler(this.pagershowrowscombo,"select");this.addHandler(this.pagershowrowscombo,"select",function(e){if(e.args){if(v.vScrollInstance){v.vScrollInstance.setPosition(0)}if(v.editcell!=null&&v.endcelledit){v.endcelledit(v.editcell.row,v.editcell.column,true,false)}var h=e.args.index;var d=v.dataview.pagenum*v.dataview.pagesize;var f=A[h];var n=v.pagesize;v.pagesize=parseInt(f);if(isNaN(v.pagesize)){v.pagesize=10}if(f>=100){v.pagershowrowscombo.jqxDropDownList({width:"auto"})}else{v.pagershowrowscombo.jqxDropDownList({width:44})}v.dataview.pagesize=v.pagesize;var l=Math.floor(d/v.dataview.pagesize);v.prerenderrequired=true;v._requiresupdate=true;v._raiseEvent(10,{pagenum:l,oldpagesize:n,pagesize:v.dataview.pagesize});v.gotopage(l);if(v.autoheight&&v._updatesizeonwindowresize){v._updatesize(true);setTimeout(function(){v._updatesize(true)},500)}}});var E=this.pagergotoinput.find("input");E.addClass(this.toThemeProperty("jqx-grid-pager-input"));E.addClass(this.toThemeProperty("jqx-rc-all"));this.removeHandler(E,"keydown");this.removeHandler(E,"change");this.addHandler(E,"keydown",function(e){if(e.keyCode>=65&&e.keyCode<=90){return false}if(e.keyCode=="13"){var d=E.val();d=parseInt(d);if(!isNaN(d)){v.gotopage(d-1)}return false}});this.addHandler(E,"change",function(){var d=E.val();d=parseInt(d);if(!isNaN(d)){v.gotopage(d-1)}});this.addHandler(this.pagerrightbutton,"mouseenter",function(){K.addClass(v.toThemeProperty("jqx-icon-arrow-right-hover"))});this.addHandler(this.pagerleftbutton,"mouseenter",function(){L.addClass(v.toThemeProperty("jqx-icon-arrow-left-hover"))});this.addHandler(this.pagerrightbutton,"mouseleave",function(){K.removeClass(v.toThemeProperty("jqx-icon-arrow-right-hover"))});this.addHandler(this.pagerleftbutton,"mouseleave",function(){L.removeClass(v.toThemeProperty("jqx-icon-arrow-left-hover"))});this.addHandler(this.pagerrightbutton,"mousedown",function(){K.addClass(v.toThemeProperty("jqx-icon-arrow-right-selected"))});this.addHandler(this.pagerrightbutton,"mouseup",function(){K.removeClass(v.toThemeProperty("jqx-icon-arrow-right-selected"))});this.addHandler(this.pagerleftbutton,"mousedown",function(){L.addClass(v.toThemeProperty("jqx-icon-arrow-left-selected"))});this.addHandler(this.pagerleftbutton,"mouseup",function(){L.removeClass(v.toThemeProperty("jqx-icon-arrow-left-selected"))});this.addHandler(c(document),"mouseup.pagerbuttons"+this.element.id,function(){K.removeClass(v.toThemeProperty("jqx-icon-arrow-right-selected"));L.removeClass(v.toThemeProperty("jqx-icon-arrow-left-selected"))});this.addHandler(this.pagerrightbutton,"click",function(){if(!v.pagerrightbutton.jqxButton("disabled")){if(!v.rtl){v.gotonextpage()}else{v.gotoprevpage()}}});this.addHandler(this.pagerleftbutton,"click",function(){if(!v.pagerleftbutton.jqxButton("disabled")){if(!v.rtl){v.gotoprevpage()}else{v.gotonextpage()}}});var I=this;if(this.pagermode==="simple"){var J=this.pagerfirstbutton;var G=this.pagerlastbutton;this.addHandler(G,"mouseenter",function(){H.addClass(I.toThemeProperty("jqx-icon-arrow-last-hover"))});this.addHandler(J,"mouseenter",function(){B.addClass(I.toThemeProperty("jqx-icon-arrow-first-hover"))});this.addHandler(G,"mouseleave",function(){H.removeClass(I.toThemeProperty("jqx-icon-arrow-last-hover"))});this.addHandler(J,"mouseleave",function(){B.removeClass(I.toThemeProperty("jqx-icon-arrow-first-hover"))});this.addHandler(G,"mousedown",function(){H.addClass(I.toThemeProperty("jqx-icon-arrow-last-selected"))});this.addHandler(J,"mousedown",function(){B.addClass(I.toThemeProperty("jqx-icon-arrow-first-selected"))});this.addHandler(G,"mouseup",function(){H.removeClass(I.toThemeProperty("jqx-icon-arrow-last-selected"))});this.addHandler(J,"mouseup",function(){B.removeClass(I.toThemeProperty("jqx-icon-arrow-first-selected"))});this.addHandler(c(document),"mouseup.pagerbuttons"+name+this.element.id,function(){K.removeClass(I.toThemeProperty("jqx-icon-arrow-right-selected"));L.removeClass(I.toThemeProperty("jqx-icon-arrow-left-selected"));if(H){H.removeClass(I.toThemeProperty("jqx-icon-arrow-last-selected"));B.removeClass(I.toThemeProperty("jqx-icon-arrow-first-selected"))}});this.addHandler(J,"click",function(){if(!J.jqxButton("disabled")){if(!I.rtl){I.gotopage(0)}else{var d=I.dataview.totalrecords;var e=Math.ceil(d/I.pagesize);I.gotopage(e-1)}}});this.addHandler(G,"click",function(){if(!G.jqxButton("disabled")){if(!I.rtl){var d=I.dataview.totalrecords;var e=Math.ceil(d/I.pagesize);I.gotopage(e-1)}else{I.gotopage(0)}}})}}else{this.pagerdiv.children().remove();var M=this.pagerrenderer();if(M!=null){this.pagerdiv.append(c(M))}this.pager.append(this.pagerdiv)}this.vScrollBar.jqxScrollBar("refresh");this._arrange()},_updatepagertheme:function(){if(this.pagershowrowscombo==null){return}this.pagershowrowscombo.jqxDropDownList({theme:this.theme});this.pagerrightbutton.jqxButton({theme:this.theme});this.pagerleftbutton.jqxButton({theme:this.theme});this.pagerpageinput.removeClass();var t=this.pagergotoinput.find("input");t.removeClass();t.addClass(this.toThemeProperty("jqx-grid-pager-input"));t.addClass(this.toThemeProperty("jqx-rc-all"));this.pagerpageinput.addClass(this.toThemeProperty("jqx-input"));this.pagerpageinput.addClass(this.toThemeProperty("jqx-widget-content"));this.pagerleftbutton.find(".jqx-icon-arrow-left").remove();this.pagerrightbutton.find(".jqx-icon-arrow-right").remove();var s=c("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");s.addClass(this.toThemeProperty("jqx-icon-arrow-left"));this.pagerleftbutton.wrapInner(s);var q=c("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");q.addClass(this.toThemeProperty("jqx-icon-arrow-right"));this.pagerrightbutton.wrapInner(q);if(this.pagermode=="simple"){if(c.jqx.browser.msie&&c.jqx.browser.version<8){this.pagerbuttons.css("overflow","visible");this.pagerbuttons.css("padding","3px")}this.pagerfirstbutton.attr("title",this.gridlocalization.pagerfirstbuttonstring);this.pagerlastbutton.attr("title",this.gridlocalization.pagerlastbuttonstring);var l=c("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");l.addClass(this.toThemeProperty("jqx-icon-arrow-first"));this.pagerfirstbutton.wrapInner(l);var n=c("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");n.addClass(this.toThemeProperty("jqx-icon-arrow-last"));this.pagerlastbutton.wrapInner(n);this.pagerdiv.append(this.pagerfirstbutton);this.pagerdiv.append(this.pagerleftbutton);this.pagerdiv.append(this.pagerbuttons);this.pagerdiv.append(this.pagerrightbutton);this.pagerdiv.append(this.pagerlastbutton);this.pagerlastbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme});this.pagerfirstbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme});this.pagerbuttons.css("float","left");this.pagerlastbutton.css("float","left");this.pagerfirstbutton.css("float","left");this.pagerrightbutton.css("float","left");this.pagerleftbutton.css("float","left");this.pagergotoinput.hide();this.pagershowrowscombo.hide();this.pagergoto.hide();this.pagershowrows.hide()}else{this.pagergotoinput.show();this.pagershowrowscombo.show();this.pagergoto.show();this.pagershowrows.show()}var a=function(d,e){d.removeHandler(e,"mouseenter");d.removeHandler(e,"mouseleave");d.removeHandler(e,"mousedown");d.removeHandler(e,"mouseup")};a(this,this.pagerrightbutton);a(this,this.pagerleftbutton);var o=this.that;this.addHandler(this.pagerrightbutton,"mouseenter",function(){q.addClass(o.toThemeProperty("jqx-icon-arrow-right-hover"))});this.addHandler(this.pagerleftbutton,"mouseenter",function(){s.addClass(o.toThemeProperty("jqx-icon-arrow-left-hover"))});this.addHandler(this.pagerrightbutton,"mouseleave",function(){q.removeClass(o.toThemeProperty("jqx-icon-arrow-right-hover"))});this.addHandler(this.pagerleftbutton,"mouseleave",function(){s.removeClass(o.toThemeProperty("jqx-icon-arrow-left-hover"))});this.addHandler(this.pagerrightbutton,"mousedown",function(){q.addClass(o.toThemeProperty("jqx-icon-arrow-right-selected"))});this.addHandler(this.pagerrightbutton,"mouseup",function(){q.removeClass(o.toThemeProperty("jqx-icon-arrow-right-selected"))});this.addHandler(this.pagerleftbutton,"mousedown",function(){s.addClass(o.toThemeProperty("jqx-icon-arrow-left-selected"))});this.addHandler(this.pagerleftbutton,"mouseup",function(){s.removeClass(o.toThemeProperty("jqx-icon-arrow-left-selected"))})},gotopage:function(s){if(s==null||s==undefined){s=0}if(s==-1){s=0}if(s<0){return}var t=this.dataview.totalrecords;if(this.summaryrows){t+=this.summaryrows.length}var q=this.pagenum;this._raiseEvent(25,{oldpagenum:this.dataview.pagenum,pagenum:s,pagesize:this.dataview.pagesize});var a=Math.ceil(t/this.pagesize);if(s>=a){if(this.dataview.totalrecords==0){this.dataview.pagenum=0;this.updatepagerdetails()}if(s>0){s=a-1}if(s<0){s=0}}if(this.dataview.pagenum!=s||this._requiresupdate){if(this.pageable){if(this.source.pager){this.source.pager(s,this.dataview.pagesize,this.dataview.pagenum)}this.dataview.pagenum=s;if(this.virtualmode){this.hiddens=new Array();this.expandedgroups=new Array();if(this.rendergridrows){var l=s*this.dataview.pagesize;var n=l+this.dataview.pagesize;if(l!=null&&n!=null){if(this.pagerrightbutton){this.pagerrightbutton.jqxButton({disabled:true});this.pagerleftbutton.jqxButton({disabled:true});this.pagershowrowscombo.jqxDropDownList({disabled:true})}if(this.pagerfirstbutton){this.pagerfirstbutton.jqxButton({disabled:true});this.pagerlastbutton.jqxButton({disabled:true})}this.updatebounddata("pagechanged");this._raiseEvent(9,{pagenum:s,oldpagenum:q,pagesize:this.dataview.pagesize});this.updatepagerdetails();if(this.autosavestate){if(this.savestate){this.savestate()}}return}}}else{this.dataview.updateview()}this._loadrows();this._updatepageviews();this.tableheight=null;this._updatecolumnwidths();this._updatecellwidths();this._renderrows(this.virtualsizeinfo);this.updatepagerdetails();if(this.autoheight||this.autorowheight){var o=this.host.height()-this._gettableheight();height=o+this._pageviews[0].height;if(height!=this.host.height()){this._arrange();this._updatepageviews();if(this.autorowheight){this._renderrows(this.virtualsizeinfo)}}}if(this.editcell!=null&&this.endcelledit){this.endcelledit(this.editcell.row,this.editcell.column,false,false)}this.focus();this._raiseEvent(9,{pagenum:s,oldpagenum:q,pagesize:this.dataview.pagesize});if(this.autosavestate){if(this.savestate){this.savestate()}}}}},gotoprevpage:function(){if(this.dataview.pagenum>0){this.gotopage(this.dataview.pagenum-1)}else{if(this.pagermode!="simple"){var d=this.dataview.totalrecords;if(this.summaryrows){d+=this.summaryrows.length}var a=Math.ceil(d/this.pagesize);this.gotopage(a-1)}}},gotonextpage:function(){var d=this.dataview.totalrecords;if(this.summaryrows){d+=this.summaryrows.length}var a=Math.ceil(d/this.pagesize);if(this.dataview.pagenum<a-1){this.gotopage(this.dataview.pagenum+1)}else{if(this.pagermode!="simple"){this.gotopage(0)}}},updatepagerdetails:function(){if(this.pagerdetails!=null&&this.pagerdetails.length>0){var u=this.dataview.pagenum*this.pagesize;var F=(this.dataview.pagenum+1)*this.pagesize;if(F>=this.dataview.totalrecords){F=this.dataview.totalrecords}var a=this.dataview.totalrecords;if(this.summaryrows){a+=this.summaryrows.length;if((this.dataview.pagenum+1)*this.pagesize>this.dataview.totalrecords){F=a}}u++;var C=Math.ceil(a/this.dataview.pagesize);if(C>=1){C--}C++;if(this.pagermode!=="simple"){var t=this.pagergotoinput.find("input");t.val(this.dataview.pagenum+1)}else{var H="";var D=this.pagerbuttonscount;if(D==0||!D){D=5}var B=0;if(this.rtl){B=D-1}while((this.rtl&&B>=0)||(!this.rtl&&B<D)){var v=1+B;var z=this.dataview.pagenum/D;var E=Math.floor(z);v+=E*D;var w=this.toTP("jqx-grid-pager-number");w+=" "+this.toTP("jqx-rc-all");if(v>C){break}if(!this.rtl){if(B==0&&v>D){H+="<a class='"+w+"' tabindex=-1 href='javascript:;' data-page='"+(-1+v)+"'>...</a>"}}if(this.dataview.pagenum===v-1){w+=" "+this.toTP("jqx-fill-state-pressed")}if(!this.rtl){H+="<a class='"+w+"' tabindex=-1 href='javascript:;' data-page='"+v+"'>"+v+"</a>";if(B===D-1){var w=this.toTP("jqx-grid-pager-number");w+=" "+this.toTP("jqx-rc-all");if(C>=1+v){H+="<a class='"+w+"' tabindex=-1 href='javascript:;' data-page='"+(1+v)+"'>...</a>"}}}else{if(B===D-1){var w=this.toTP("jqx-grid-pager-number");w+=" "+this.toTP("jqx-rc-all");if(C>=1+v){H+="<a class='"+w+"' tabindex=-1 href='javascript:;' data-page='"+(1+v)+"'>...</a>"}}if(this.dataview.pagenum===v-1){w+=" "+this.toTP("jqx-fill-state-pressed")}H+="<a class='"+w+"' tabindex=-1 href='javascript:;' data-page='"+v+"'>"+v+"</a>"}if(this.rtl){var w=this.toTP("jqx-grid-pager-number");w+=" "+this.toTP("jqx-rc-all");if(B==0&&v>D){H+="<a class='"+w+"' tabindex=-1 href='javascript:;' data-page='"+(-1+v)+"'>...</a>"}}if(!this.rtl){B++}else{B--}}var s=this["pagerbuttons"].find("a");this.removeHandler(s,"click");this.removeHandler(s,"mouseenter");this.removeHandler(s,"mouseleave");this["pagerbuttons"][0].innerHTML=H;var A=this;var G=function(){A.addHandler(s,"click",function(d){var e=c(d.target).attr("data-page");A.gotopage(parseInt(e)-1);return false});A.addHandler(s,"mouseenter",function(d){c(d.target).addClass(A.toTP("jqx-fill-state-hover"))});A.addHandler(s,"mouseleave",function(d){c(d.target).removeClass(A.toTP("jqx-fill-state-hover"))})};var s=this["pagerbuttons"].find("a");G(s)}this.pagergotoinput.attr("title","1 - "+C);if(F==0&&F<u){u=0}if(!this.rtl){this.pagerdetails[0].innerHTML=u+"-"+F+this.gridlocalization.pagerrangestring+a}else{this.pagerdetails[0].innerHTML=a+this.gridlocalization.pagerrangestring+F+"-"+u}if(u>F){this.gotoprevpage()}}},_updatepagedview:function(s,o,v){var l=this.that;if(this.dataview.rows.length!=this.dataview.pagesize){this.dataview.updateview()}var a=this.dataview.rows.length;for(var t=0;t<a;t++){var q=this.dataview.rows[t].visibleindex;var n={index:q,height:this.heights[q],hidden:this.hiddens[q],details:this.details[q]};if(this.heights[q]==undefined){this.heights[q]=this.rowsheight;n.height=this.rowsheight}if(this.hiddens[q]==undefined){this.hiddens[q]=false;n.hidden=false}if(this.details[q]==undefined){this.details[q]=null}if(n.height!=l.rowsheight){o-=l.rowsheight;o+=n.height}if(n.hidden){o-=n.height}else{v+=n.height;var u=0;if(this.rowdetails){if(n.details&&n.details.rowdetails&&!n.details.rowdetailshidden){u=n.details.rowdetailsheight;v+=u;o+=u}}}}this._pageviews[0]={top:0,height:v};return o}})})(jqxBaseFramework);(function(c){c.extend(c.jqx._jqxGrid.prototype,{_handledblclick:function(F,N){if(F.target==null){return}if(N.disabled){return}if(c(F.target).ischildof(this.columnsheader)){return}var C;if(F.which){C=(F.which==3)}else{if(F.button){C=(F.button==2)}}if(C){return}var I;if(F.which){I=(F.which==2)}else{if(F.button){I=(F.button==1)}}if(I){return}var D=this.showheader?this.columnsheader.height()+2:0;var M=this._groupsheader()?this.groupsheader.height():0;var K=this.showtoolbar?this.toolbarheight:0;M+=K;var V=this.host.offset();var O=F.pageX-V.left;var P=F.pageY-D-V.top-M;var Y=this._hittestrow(O,P);if(!Y){return}var S=Y.row;var R=Y.index;var J=F.target.className;var L=this.table[0].rows[R];if(L==null){return}N.mousecaptured=true;N.mousecaptureposition={left:F.pageX,top:F.pageY-M};var H=this.hScrollInstance;var G=H.value;var W=0;var Q=this.groupable?this.groups.length:0;for(var E=0;E<L.cells.length;E++){var U=parseInt(c(this.columnsrow[0].cells[E]).css("left"));var T=U-G;if(N.columns.records[E].pinned){T=U}var X=this._getcolumnat(E);if(X!=null&&X.hidden){continue}var a=T+c(this.columnsrow[0].cells[E]).width();if(a>=O&&O>=T){W=E;break}}if(S!=null){var X=this._getcolumnat(W);if(!(J.indexOf("jqx-grid-group-expand")!=-1||J.indexOf("jqx-grid-group-collapse")!=-1)){if(S.boundindex!=-1){N.begincelledit(N.getboundindex(S),X.datafield,X.defaulteditorvalue)}}}},_getpreveditablecolumn:function(f){var a=this;while(f>0){f--;var e=a.getcolumnat(f);if(!e){return null}if(!e.editable){continue}if(!e.hidden){return e}}return null},_getnexteditablecolumn:function(f){var a=this;while(f<this.columns.records.length){f++;var e=a.getcolumnat(f);if(!e){return null}if(!e.editable){continue}if(!e.hidden){return e}}return null},_handleeditkeydown:function(X,N){if(N.handlekeyboardnavigation){var ad=N.handlekeyboardnavigation(X);if(ad==true){return true}}var M=X.charCode?X.charCode:X.keyCode?X.keyCode:0;if(N.showfilterrow&&N.filterable){if(this.filterrow){if(c(X.target).ischildof(this.filterrow)){return true}}}if(X.target.className&&X.target.className.indexOf("jqx-grid-widget")>=0){return true}if(N.pageable){if(c(X.target).ischildof(this.pager)){return true}}if(this.showtoolbar){if(c(X.target).ischildof(this.toolbar)){return true}}if(this.showeverpresentrow){if(this.addnewrowtop){if(c(X.target).ischildof(this.addnewrowtop)){return true}}if(this.addnewrowbottom){if(c(X.target).ischildof(this.addnewrowbottom)){return true}}}if(this.showstatusbar){if(c(X.target).ischildof(this.statusbar)){return true}}if(this.rowdetails){if(c(X.target).ischildof(this.content.find("[role='rowgroup']"))){return true}}if(this.editcell){if(this.editmode==="selectedrow"){if(M===13){this.endrowedit(this.editcell.row,false)}else{if(M===27){this.endrowedit(this.editcell.row,true)}}if(M===9){return false}return true}if(this.editcell.columntype==null||this.editcell.columntype=="textbox"||this.editcell.columntype=="numberinput"||this.editcell.columntype=="combobox"||this.editcell.columntype=="datetimeinput"){if(M>=33&&M<=40&&N.selectionmode=="multiplecellsadvanced"){var al=this.editcell.columntype=="textbox"||this.editcell.columntype==null?this.editcell.editor:this.editcell.editor.find("input");var a=N._selection(al);var L=al.val().length;if(a.length>0&&this.editcell.columntype!="datetimeinput"){N._cancelkeydown=true}if(a.start>0&&M==37){N._cancelkeydown=true}if(a.start<L&&M==39&&this.editcell.columntype!="datetimeinput"){N._cancelkeydown=true}if(this.editcell.columntype=="datetimeinput"&&M==39){if(a.start+a.length<L){N._cancelkeydown=true}}}}else{if(this.editcell.columntype=="dropdownlist"){if(M==37||M==39&&N.selectionmode=="multiplecellsadvanced"){N._cancelkeydown=false}}else{if(this.selectionmode=="multiplecellsadvanced"&&this.editcell.columntype!="textbox"&&this.editcell.columntype!="numberinput"){N._cancelkeydown=true}}}if(M==32){if(N.editcell.columntype=="checkbox"){var ao=N.getcolumn(N.editcell.datafield);if(ao.editable){var ag=!N.getcellvalue(N.editcell.row,N.editcell.column);if(ao.cellbeginedit){var at=ao.cellbeginedit(N.editcell.row,ao.datafield,ao.columntype,!ag);if(at==false){return false}}var aj=N.getrowdata(N.editcell.row);N.setcellvalue(N.editcell.row,N.editcell.column,ag,true);N._raiseEvent(18,{rowindex:N.editcell.row,row:aj,datafield:N.editcell.column,oldvalue:!ag,value:ag,columntype:"checkbox"});return false}}}if(M==9){var am=this.editcell.row;var R=this.editcell.column;var ah=R;var ac=N._getcolumnindex(R);var T=false;var aq=N.getrowvisibleindex(am);this.editchar="";var ap=this.editcell.validated;if(!this.editcell.validated){var ap=this.endcelledit(this.editcell.row,this.editcell.column,false,true,false)}if(ap!=false){if(X.shiftKey){var ao=N._getpreveditablecolumn(ac);if(ao){R=ao.datafield;T=true;if(N.selectionmode.indexOf("cell")!=-1){N.selectprevcell(am,ah);N._oldselectedcell=N.selectedcell;setTimeout(function(){N.ensurecellvisible(aq,R)},10)}}else{var af=N._getlastvisiblecolumn();T=true;R=af.displayfield;am--;if(N.selectionmode.indexOf("cell")!=-1){N.clearselection();N.selectcell(am,R);N._oldselectedcell=N.selectedcell;setTimeout(function(){N.ensurecellvisible(aq,R)},10)}}}else{var ao=N._getnexteditablecolumn(ac);if(ao){R=ao.datafield;T=true;if(N.selectionmode.indexOf("cell")!=-1){N.selectnextcell(am,ah);N._oldselectedcell=N.selectedcell;setTimeout(function(){N.ensurecellvisible(aq,R)},10)}}else{var P=N._getfirstvisiblecolumn();T=true;R=P.displayfield;am++;if(N.selectionmode.indexOf("cell")!=-1){N.clearselection();N.selectcell(am,R);N._oldselectedcell=N.selectedcell;setTimeout(function(){N.ensurecellvisible(aq,R)},10)}}}if(T){N.begincelledit(am,R);if(this.editcell!=null&&this.editcell.columntype=="checkbox"){this._renderrows(this.virtualsizeinfo)}}else{if(this.editcell!=null){N.endcelledit(am,R,false);this._renderrows(this.virtualsizeinfo)}return true}}return false}else{if(M==13){var V=this.selectedcell;if(V){var O=this.getrowvisibleindex(V.rowindex)}this.endcelledit(this.editcell.row,this.editcell.column,false,true);if(this.selectionmode=="multiplecellsadvanced"){var ar=N.getselectedcell();if(ar!=null){if(N.selectcell){if(this.editcell==null){if(ar.rowindex+1<this.dataview.totalrecords){if(this.sortcolumn!=ar.datafield){var aq=this.getrowvisibleindex(ar.rowindex);var Q=this.dataview.loadedrecords[aq+1];if(Q){if(!this.pageable||(this.pageable&&aq+1<(this.dataview.pagenum+1)*this.pagesize)){this.clearselection(false);this.selectcell(this.getboundindex(Q),ar.datafield);var ar=this.getselectedcell();this.ensurecellvisible(Q.visibleindex,ar.datafield)}}}else{if(V!=null){var S=this.dataview.loadedrecords[O+1];if(S){if(!this.pageable||(this.pageable&&O+1<this.pagesize)){this.clearselection(false);this.selectcell(this.getboundindex(S),ar.datafield)}else{if(this.pageable&&O+1>=this.pagesize){this.clearselection(false);var S=this.dataview.loadedrecords[O];this.selectcell(this.getboundindex(S),ar.datafield)}}}}}}}}}}return false}else{if(M==27){this.endcelledit(this.editcell.row,this.editcell.column,true,true);return false}}}}else{var ae=false;if(M==113){ae=true}if(!X.ctrlKey&&!X.altKey&&!X.metaKey){if(M>=48&&M<=57){this.editchar=String.fromCharCode(M);ae=true}if(M>=65&&M<=90){this.editchar=String.fromCharCode(M);var W=false;if(X.shiftKey){W=X.shiftKey}else{if(X.modifiers){W=!!(X.modifiers&4)}}if(!W){this.editchar=this.editchar.toLowerCase()}ae=true}else{if(M>=96&&M<=105){this.editchar=M-96;this.editchar=this.editchar.toString();ae=true}}var Z=c(".jqx-grid").length;ae=ae&&(Z==1||(Z>1&&N.focused));var ai=c.data(document.body,"jqxgrid.edit");if(ai!==undefined&&ai!==""){if(M===13||ae){if(ai!=N.element.id){return true}}}}if(M==13||ae){if(N.getselectedrowindex){var am=N.getselectedrowindex();switch(N.selectionmode){case"singlerow":case"multiplerows":case"multiplerowsextended":if(am>=0){var R="";for(var ab=0;ab<N.columns.records.length;ab++){var ao=N.getcolumnat(ab);if(ao.editable){R=ao.datafield;break}}N.begincelledit(am,R)}break;case"singlecell":case"multiplecells":case"multiplecellsextended":var ar=N.getselectedcell();if(ar!=null){var ao=N._getcolumnbydatafield(ar.datafield);if(ao.columntype!="checkbox"){N.begincelledit(ar.rowindex,ar.datafield)}}break;case"multiplecellsadvanced":var ar=N.getselectedcell();if(ar!=null){if(M==13){if(N.selectcell){if(ar.rowindex+1<N.dataview.totalrecords){var aq=this.getrowvisibleindex(ar.rowindex);var Q=this.dataview.loadedrecords[aq+1];if(Q){this.clearselection(false);this.selectcell(this.getboundindex(Q),ar.datafield);var ar=this.getselectedcell();this.ensurecellvisible(Q.visibleindex,ar.datafield)}}}}else{if(N.editmode!=="selectedrow"){N.begincelledit(ar.rowindex,ar.datafield)}}}break}return false}}if(M==46){var an=N.getselectedcells();if(N.selectionmode.indexOf("cell")==-1){if(N._getcellsforcopypaste){an=N._getcellsforcopypaste()}}if(an!=null&&an.length>0){for(var aa=0;aa<an.length;aa++){var ar=an[aa];if(!ar.datafield){continue}var ao=N.getcolumn(ar.datafield);var U=N.getcellvalue(ar.rowindex,ar.datafield);if(U!==""&&ao.editable&&N.enablekeyboarddelete){var ak=null;if(ao.columntype=="checkbox"){if(!ao.threestatecheckbox){ak=false}}if(ao.cellbeginedit){var at=ao.cellbeginedit(ar.rowindex,ao.datafield,ao.columntype,ak);if(at==false){return false}}var aj=N.getrowdata(ar.rowindex);N._raiseEvent(17,{rowindex:ar.rowindex,row:aj,datafield:ar.datafield,value:U});if(aa==an.length-1){N.setcellvalue(ar.rowindex,ar.datafield,ak,true);if(ao.displayfield!=ao.datafield){N.setcellvalue(ar.rowindex,ao.displayfield,ak,true)}}else{N.setcellvalue(ar.rowindex,ar.datafield,ak,false);if(ao.displayfield!=ao.datafield){N.setcellvalue(ar.rowindex,ao.displayfield,ak,true)}}if(ao.cellendedit){var Y=ao.cellendedit(ar.rowindex,ao.datafield,ao.columntype,ak)}N._raiseEvent(18,{rowindex:ar.rowindex,row:aj,datafield:ar.datafield,oldvalue:U,value:ak})}}this.dataview.updateview();this._renderrows(this.virtualsizeinfo);return false}}if(M==32){var ar=N.getselectedcell();if(ar!=null){var ao=N.getcolumn(ar.datafield);if(ao.columntype=="checkbox"&&ao.editable){var ag=!N.getcellvalue(ar.rowindex,ar.datafield);if(ao.cellbeginedit){var at=ao.cellbeginedit(ar.rowindex,ao.datafield,ao.columntype,!ag);if(at==false){return false}}var aj=N.getrowdata(ar.rowindex);N._raiseEvent(17,{rowindex:ar.rowindex,row:aj,datafield:ar.datafield,value:!ag,columntype:"checkbox"});N.setcellvalue(ar.rowindex,ar.datafield,ag,true);N._raiseEvent(18,{rowindex:ar.rowindex,row:aj,datafield:ar.datafield,oldvalue:!ag,value:ag,columntype:"checkbox"});return false}}}}return true},begincelledit:function(a,A,q,w,C){var z=this.getcolumn(A);this._cellscache=new Array();if(A==null){return}if(z.columntype=="number"||z.columntype=="button"||z.createwidget){return}if(this.groupable){if(this.groups.indexOf(A)>=0){return}if(this.groups.indexOf(z.displayfield)>=0){return}}if(this.editrow!=undefined){return}if(this.editcell){if(this.editcell.row==a&&this.editcell.column==A){return true}if(this.editmode==="selectedrow"){if(this.editcell.row==a){return}}var B=this.endcelledit(this.editcell.row,this.editcell.column,false,true,false);if(false==B){return}}var u=z.columntype=="checkbox"||z.columntype=="button"||z.createwidget;this.host.removeClass("jqx-disableselect");this.content.removeClass("jqx-disableselect");if(z.editable){if(z.cellbeginedit){var s=this.getcell(a,A);var o=z.cellbeginedit(a,A,z.columntype,s!=null?s.value:null);if(o==false){return}}var t=this.getrowvisibleindex(a);this.editcell=this.getcell(a,A);if(this.editcell){this.editcell.visiblerowindex=t;if(!this.editcell.editing){if(!u){this.editcell.editing=true}this.editcell.columntype=z.columntype;this.editcell.defaultvalue=q;if(z.defaultvalue!=undefined){this.editcell.defaultvalue=z.defaultvalue}this.editcell.init=true;if(z.columntype!="checkbox"&&this.editmode!="selectedrow"){var v=this.getrowdata(a);this._raiseEvent(17,{rowindex:a,row:v,datafield:z.datafield,value:this.editcell.value,columntype:z.columntype})}c.data(document.body,"jqxgrid.edit",this.element.id);if(!u){var D=this.getrowvisibleindex(a);if(w!==false){this.ensurecellvisible(D,z.datafield)}if(C!==false){this._renderrows(this.virtualsizeinfo)}}if(this.editcell){this.editcell.init=false;return true}}}}else{if(!this.editcell){return}this.editcell.editor=null;this.editcell.editing=false;if(C!==false){this._renderrows(this.virtualsizeinfo)}this.editcell=null}},getScrollTop:function(){if(this._py){return pageYOffset}this._py=typeof pageYOffset!="undefined";if(this._py){return pageYOffset}else{var d=document.body;var a=document.documentElement;a=(a.clientHeight)?a:d;return a.scrollTop}},getScrollLeft:function(){if(typeof pageXOffset!="undefined"){return pageXOffset}else{var d=document.body;var a=document.documentElement;a=(a.clientHeight)?a:d;return a.scrollLeft}},endcelledit:function(J,D,H,M,C){if(J==undefined||D==undefined){if(this.editcell){J=this.editcell.row;D=this.editcell.column}if(H==undefined){H=true}}if(!this.editcell){return}var N=this.getcolumn(D);var a=this;if(a.editmode==="selectedrow"){this.endrowedit(J,H);return}var v=function(){if(C!=false){if(a.isTouchDevice()){return}if(!a.isNestedGrid){var f=a.getScrollTop();var d=a.getScrollLeft();try{a.element.focus();a.content.focus();if(f!=a.getScrollTop()){window.scrollTo(d,f)}setTimeout(function(){a.element.focus();a.content.focus();if(f!=a.getScrollTop()){window.scrollTo(d,f)}},10)}catch(e){}}}};if(N.columntype=="checkbox"||N.columntype=="button"||N.createwidget){if(this.editcell){this.editcell.editor=null;this.editcell.editing=false;this.editcell=null}return true}var I=this._geteditorvalue(N);var K=function(e){e._hidecelleditor();if(N.cellendedit){N.cellendedit(J,D,N.columntype,e.editcell.value,I)}e.editchar=null;if(N.displayfield!=N.datafield){var f=e.getcellvalue(e.editcell.row,N.displayfield);var d=e.editcell.value;oldvalue={value:d,label:f}}else{oldvalue=e.editcell.value}var h=e.getrowdata(J);e._raiseEvent(18,{rowindex:J,row:h,datafield:D,displayfield:N.displayfield,oldvalue:I,value:I,columntype:N.columntype});e.editcell.editor=null;e.editcell.editing=false;e.editcell=null;if(M||M==undefined){e._renderrows(e.virtualsizeinfo)}v();if(!e.enablebrowserselection){e.host.addClass("jqx-disableselect");e.content.addClass("jqx-disableselect")}};if(H){K(this);return false}if(this.validationpopup){this.validationpopup.hide();this.validationpopuparrow.hide()}if(N.cellvaluechanging){var P=N.cellvaluechanging(J,D,N.columntype,this.editcell.value,I);if(P!=undefined){I=P}}if(N.validation){var O=this.getcell(J,D);try{var B=N.validation(O,I);var F=this.gridlocalization.validationstring;if(B.message!=undefined){F=B.message}var E=typeof B=="boolean"?B:B.result;if(!E){if(B.showmessage==undefined||B.showmessage==true){this._showvalidationpopup(J,D,F)}this.editcell.validated=false;return false}}catch(z){this._showvalidationpopup(J,D,this.gridlocalization.validationstring);this.editcell.validated=false;return false}}if(N.displayfield!=N.datafield){var G=this.getcellvalue(this.editcell.row,N.displayfield);var A=this.editcell.value;oldvalue={value:A,label:G}}else{oldvalue=this.editcell.value}var L=this.getrowdata(J);if(N.cellendedit){var w=N.cellendedit(J,D,N.columntype,this.editcell.value,I);if(w==false){this._raiseEvent(18,{rowindex:J,row:L,datafield:D,displayfield:N.displayfield,oldvalue:oldvalue,value:oldvalue,columntype:N.columntype});K(this);return false}}this._raiseEvent(18,{rowindex:J,row:L,datafield:D,displayfield:N.displayfield,oldvalue:oldvalue,value:I,columntype:N.columntype});this._hidecelleditor(false);if(this.editcell!=undefined){this.editcell.editor=null;this.editcell.editing=false}this.editcell=null;this.editchar=null;this.setcellvalue(J,D,I,M);if(!this.enablebrowserselection){this.host.addClass("jqx-disableselect");this.content.addClass("jqx-disableselect")}if(!c.jqx.browser.msie){v()}c.data(document.body,"jqxgrid.edit","");return true},beginrowedit:function(l){var n=this;var h=-1;n._oldselectedrow=l;this._cellscache=new Array();var o=false;if(this.editmode!="selectedrow"){o=true}if(o){var a=this.editmode;this.editmode="selectedrow"}c.each(this.columns.records,function(f,d){if(n.editable&&this.editable){var q=n.getcell(l,this.datafield);n.begincelledit(l,this.datafield,null,false,false);var e=n.getrowdata(l);n._raiseEvent(17,{rowindex:l,row:e,datafield:this.datafield,value:q.value,columntype:this.columntype})}});if(n.editcell){n.editcell.init=true}this._renderrows(this.virtualsizeinfo);if(o){this.editmode=a}},endrowedit:function(W,S){var L=this;if(!this.editcell){return false}if(this.editcell.editor==undefined){return false}var N=function(){if(focus!=false){if(L.isTouchDevice()){return}if(!L.isNestedGrid){var d=L.getScrollTop();var e=L.getScrollLeft();try{L.element.focus();L.content.focus();if(d!=L.getScrollTop()){window.scrollTo(e,d)}setTimeout(function(){L.element.focus();L.content.focus();if(d!=L.getScrollTop()){window.scrollTo(e,d)}},10)}catch(f){}}}};var R=false;if(this.editmode!="selectedrow"){R=true}if(R){var H=this.editmode;this.editmode="selectedrow"}var Y=false;var ac={};if(this.validationpopup){this.validationpopup.hide();this.validationpopuparrow.hide()}for(var P=0;P<this.columns.records.length;P++){var ab=this.columns.records[P];if(!ab.editable){continue}if(ab.hidden){continue}if(ab.columntype=="checkbox"){continue}if(ab.createwidget){continue}var V=this._geteditorvalue(ab);var Z=function(h){h._hidecelleditor();var l=h.getcellvalue(h.editcell.row,ab.displayfield);if(ab.cellendedit){ab.cellendedit(W,I,ab.columntype,l,V)}h.editchar=null;if(ab.displayfield!=ab.datafield){var e=h.getcellvalue(h.editcell.row,ab.displayfield);var d=l;T={value:d,label:e}}else{T=l}var f=h.getrowdata(W);h._raiseEvent(18,{rowindex:W,row:f,datafield:I,displayfield:ab.displayfield,oldvalue:l,value:l,columntype:ab.columntype});h.editcell.editing=false};if(S){Z(this);continue}if(ab.cellvaluechanging){var T=this.getcellvalue(this.editcell.row,ab.displayfield);var ae=ab.cellvaluechanging(W,I,ab.columntype,T,V);if(ae!=undefined){V=ae}}var I=ab.datafield;if(ab.validation){var ad=this.getcell(W,ab.datafield);try{var G=ab.validation(ad,V);var M=this.gridlocalization.validationstring;if(G.message!=undefined){M=G.message}var J=typeof G=="boolean"?G:G.result;if(!J){if(G.showmessage==undefined||G.showmessage==true){this._showvalidationpopup(W,I,M)}Y=true;this.editcell[ab.datafield].validated=false;continue}}catch(a){this._showvalidationpopup(W,I,this.gridlocalization.validationstring);this.editcell[ab.datafield].validated=false;Y=true;continue}}if(ab.displayfield!=ab.datafield){var O=this.getcellvalue(this.editcell.row,ab.displayfield);var F=this.editcell.value;T={value:F,label:O}}else{T=this.getcellvalue(this.editcell.row,ab.displayfield)}ac[ab.datafield]={newvalue:V,oldvalue:T}}var E={};var K={};if(!Y){this._hidecelleditor(false);for(var P=0;P<this.columns.records.length;P++){var ab=this.columns.records[P];var I=ab.datafield;if(ab.hidden){continue}if(!ab.editable){continue}var aa=this.getrowdata(W);if(ab.createwidget){continue}if(ab.columntype=="checkbox"){var V=this.getcellvalue(W,ab.displayfield);this._raiseEvent(18,{rowindex:W,row:aa,datafield:ab.datafield,displayfield:ab.displayfield,oldvalue:V,value:V,columntype:ab.columntype});continue}if(!ac[ab.datafield]){continue}var V=ac[ab.datafield].newvalue;var T=ac[ab.datafield].oldvalue;if(ab.cellendedit){var Q=ab.cellendedit(W,I,ab.columntype,T,V);if(Q==false){this._raiseEvent(18,{rowindex:W,row:aa,datafield:I,displayfield:ab.displayfield,oldvalue:T,value:T,columntype:ab.columntype});Z(this);continue}}if(!this.source.updaterow){this._raiseEvent(18,{rowindex:W,row:aa,datafield:ab.datafield,displayfield:ab.displayfield,oldvalue:T,value:V,columntype:ab.columntype})}E[ab.datafield]=V;K[ab.datafield]=T}var X=this.getrowid(W);var aa=this.getrowdata(W);c.each(E,function(d,e){if(e&&e.label!=undefined){var f=L.getcolumn(d);aa[f.displayfield]=e.label;aa[f.datafield]=e.value}else{aa[d]=e}});if(!this.enablebrowserselection){this.host.addClass("jqx-disableselect");this.content.addClass("jqx-disableselect")}c.data(document.body,"jqxgrid.edit","");this.editcell=null;this.editchar=null;if(this.source.updaterow){var U=false;var L=this;var J=function(d){var f=L.source.updaterow;L.source.updaterow=null;if(false==d){c.each(K,function(q,n){if(n&&n.label!=undefined){var o=L.getcolumn(q);aa[o.displayfield]=n.label;aa[o.datafield]=n.value}else{aa[q]=n}});L.updaterow(X,aa)}else{L.updaterow(X,aa)}for(var h=0;h<L.columns.records.length;h++){var e=L.columns.records[h];var l=e.datafield;L._raiseEvent(18,{rowindex:W,datafield:e.datafield,row:aa,displayfield:e.displayfield,oldvalue:K[e.datafield],value:aa[e.displayfield],columntype:e.columntype})}L.source.updaterow=f};try{U=this.source.updaterow(X,aa,J);if(U==undefined){U=true}}catch(a){U=false;return}}else{this.updaterow(X,aa);this._renderrows(this.virtualsizeinfo)}}if(R){this.editmode=H}return Y},_selection:function(a){if("selectionStart" in a[0]){var l=a[0];var e=l.selectionEnd-l.selectionStart;return{start:l.selectionStart,end:l.selectionEnd,length:e,text:l.value}}else{var o=document.selection.createRange();if(o==null){return{start:0,end:l.value.length,length:0}}var q=a[0].createTextRange();var n=q.duplicate();q.moveToBookmark(o.getBookmark());n.setEndPoint("EndToStart",q);var e=o.text.length;return{start:n.text.length,end:n.text.length+o.text.length,length:e,text:o.text}}},_setSelection:function(f,a,h){if("selectionStart" in h[0]){h[0].focus();h[0].setSelectionRange(f,a)}else{var l=h[0].createTextRange();l.collapse(true);l.moveEnd("character",a);l.moveStart("character",f);l.select()}},findRecordIndex:function(n,t,a){var a=a;if(t){var q=a.length;for(var l=0;l<q;l++){var o=a[l];var s=o.label;if(n==s){return l}}}return -1},_destroyeditors:function(){var a=this;if(!this.columns.records){return}c.each(this.columns.records,function(v,s){var A=c.trim(this.datafield).split(" ").join("");switch(this.columntype){case"dropdownlist":var u=a.editors["dropdownlist_"+A];if(u){u.jqxDropDownList("destroy");a.editors["dropdownlist_"+A]=null}break;case"combobox":var q=a.editors["combobox_"+A];if(q){q.jqxComboBox("destroy");a.editors["combobox_"+A]=null}break;case"datetimeinput":var z=a.editors["datetimeinput_"+this.datafield];if(z){z.jqxDateTimeInput("destroy");a.editors["datetimeinput_"+A]=null}break;case"numberinput":var w=a.editors["numberinput_"+A];if(w){w.jqxNumberInput("destroy");a.editors["numberinput_"+A]=null}break;case"custom":case"template":if(a.destroyeditor){if(a.editors["templateeditor_"+A]){a.destroyeditor(a.editors["templateeditor_"+A]);a.editors["templateeditor_"+A]=null}}if(a.destroyeditor){var n=a.getrows.length();for(var o=0;o<n;o++){if(a.editors["customeditor_"+A+"_"+o]){a.destroyeditor(a.editors["customeditor_"+A+"_"+o],o);a.editors["customeditor_"+A+"_"+o]=null}}}break;case"textbox":default:var t=a.editors["textboxeditor_"+A];if(t){a.removeHandler(t,"keydown");a.editors["textbox_"+A]=null}break}});a.editors=new Array()},_showcelleditor:function(am,W,ap,S,ag){if(ap==undefined){return}if(this.editcell==null){return}if(W.columntype=="checkbox"&&W.editable){return}if(ag==undefined){ag=true}if(this.editmode=="selectedrow"){this.editchar="";ag=false}var Y=W.datafield;var ax=c(ap);var ak=this;var aA=this.editcell.editor;var U=this.getcellvalue(am,Y);var aa=this.getcelltext(am,Y);var au=this.hScrollInstance;var aj=au.value;var av=parseInt(aj);var T=this.columns.records.indexOf(W);this.editcell.element=ap;if(this.editcell.validated==false){var V="";if(this.validationpopup){V=this.validationpopup.text()}this._showvalidationpopup(am,Y,V)}var ar=function(d){if(ak.hScrollInstance.isScrolling()||ak.vScrollInstance.isScrolling()){return}if(!ag){return}if(ak.isTouchDevice()){return}if(d){d.focus()}if(ak.gridcontent[0].scrollTop!=0){ak.scrolltop(Math.abs(ak.gridcontent[0].scrollTop));ak.gridcontent[0].scrollTop=0}if(ak.gridcontent[0].scrollLeft!=0){ak.gridcontent[0].scrollLeft=0}};switch(W.columntype){case"dropdownlist":if(this.host.jqxDropDownList){ap.innerHTML="";var Z=c.trim(W.datafield).split(" ").join("");var ac=c.trim(W.displayfield).split(" ").join("");if(Z.indexOf(".")!=-1){Z=Z.replace(".","")}if(ac.indexOf(".")!=-1){ac=ac.replace(".","")}var at=this.editors["dropdownlist_"+Z];aA=at==undefined?c("<div style='border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 99999; top: 0px; left: 0px; position: absolute;' id='dropdownlisteditor'></div>"):at;aA.css("top",c(ap).parent().position().top);if(this.oldhscroll){aA.css("left",-av+parseInt(c(ap).position().left))}else{aA.css("left",parseInt(c(ap).position().left))}if(W.pinned){aA.css("left",av+parseInt(c(ap).position().left))}if(at==undefined){aA.prependTo(this.table);aA[0].id="dropdownlisteditor"+this.element.id+Z;var ay=this.source._source?true:false;var af=null;if(!ay){af=new c.jqx.dataAdapter(this.source,{autoBind:false,uniqueDataFields:[ac],async:false,autoSort:true,autoSortField:ac})}else{var an={localdata:this.source.records,datatype:this.source.datatype,async:false};af=new c.jqx.dataAdapter(an,{autoBind:false,async:false,uniqueDataFields:[ac],autoSort:true,autoSortField:ac})}var ai=!W.createeditor?true:false;aA.jqxDropDownList({enableBrowserBoundsDetection:true,keyboardSelection:false,source:af,rtl:this.rtl,autoDropDownHeight:ai,theme:this.theme,width:ax.width()-2,height:ax.height()-2,displayMember:ac,valueMember:Y});this.editors["dropdownlist_"+Z]=aA;if(W.createeditor){W.createeditor(am,U,aA)}}if(W._requirewidthupdate){aA.jqxDropDownList({width:ax.width()-2})}var aB=aA.jqxDropDownList("listBox").visibleItems;if(!W.createeditor){if(aB.length<8){aA.jqxDropDownList("autoDropDownHeight",true)}else{aA.jqxDropDownList("autoDropDownHeight",false)}}var U=this.getcellvalue(am,ac);var ad=this.findRecordIndex(U,ac,aB);if(S){if(U!=""){aA.jqxDropDownList("selectIndex",ad,true)}else{aA.jqxDropDownList("selectIndex",-1)}}if(!this.editcell){return}if(this.editcell.defaultvalue!=undefined){aA.jqxDropDownList("selectIndex",this.editcell.defaultvalue,true)}if(ag){aA.jqxDropDownList("focus")}}break;case"combobox":if(this.host.jqxComboBox){ap.innerHTML="";var Z=c.trim(W.datafield).split(" ").join("");var ac=c.trim(W.displayfield).split(" ").join("");if(Z.indexOf(".")!=-1){Z=Z.replace(".","")}if(ac.indexOf(".")!=-1){ac=ac.replace(".","")}var al=this.editors["combobox_"+Z];aA=al==undefined?c("<div style='border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 99999; top: 0px; left: 0px; position: absolute;' id='comboboxeditor'></div>"):al;aA.css("top",c(ap).parent().position().top);if(this.oldhscroll){aA.css("left",-av+parseInt(c(ap).position().left))}else{aA.css("left",parseInt(c(ap).position().left))}if(W.pinned){aA.css("left",av+parseInt(c(ap).position().left))}if(al==undefined){aA.prependTo(this.table);aA[0].id="comboboxeditor"+this.element.id+Z;var ay=this.source._source?true:false;var af=null;if(!ay){af=new c.jqx.dataAdapter(this.source,{autoBind:false,uniqueDataFields:[ac],async:false,autoSort:true,autoSortField:ac})}else{var an={localdata:this.source.records,datatype:this.source.datatype,async:false};af=new c.jqx.dataAdapter(an,{autoBind:false,async:false,uniqueDataFields:[ac],autoSort:true,autoSortField:ac})}var ai=!W.createeditor?true:false;aA.jqxComboBox({enableBrowserBoundsDetection:true,keyboardSelection:false,source:af,rtl:this.rtl,autoDropDownHeight:ai,theme:this.theme,width:ax.width()-2,height:ax.height()-2,displayMember:ac,valueMember:Y});aA.removeAttr("tabindex");aA.find("div").removeAttr("tabindex");this.editors["combobox_"+Z]=aA;if(W.createeditor){W.createeditor(am,U,aA)}}if(W._requirewidthupdate){aA.jqxComboBox({width:ax.width()-2})}var aB=aA.jqxComboBox("listBox").visibleItems;if(!W.createeditor){if(aB.length<8){aA.jqxComboBox("autoDropDownHeight",true)}else{aA.jqxComboBox("autoDropDownHeight",false)}}var U=this.getcellvalue(am,ac);var ad=this.findRecordIndex(U,ac,aB);if(S){if(U!=""){aA.jqxComboBox("selectIndex",ad,true);aA.jqxComboBox("val",U)}else{aA.jqxComboBox("selectIndex",-1);aA.jqxComboBox("val",U)}}if(!this.editcell){return}if(this.editcell.defaultvalue!=undefined){aA.jqxComboBox("selectIndex",this.editcell.defaultvalue,true)}if(this.editchar&&this.editchar.length>0){aA.jqxComboBox("input").val(this.editchar)}if(ag){setTimeout(function(){ar(aA.jqxComboBox("input"));if(aA){aA.jqxComboBox("_setSelection",0,0);if(ak.editchar){aA.jqxComboBox("_setSelection",1,1);ak.editchar=null}else{if(aA.jqxComboBox("input")){var d=aA.jqxComboBox("input").val();aA.jqxComboBox("_setSelection",0,d.length)}}}},10)}}break;case"datetimeinput":if(this.host.jqxDateTimeInput){ap.innerHTML="";var Z=c.trim(W.datafield).split(" ").join("");if(Z.indexOf(".")!=-1){Z=Z.replace(".","")}var ah=this.editors["datetimeinput_"+Z];aA=ah==undefined?c("<div style='border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 99999; top: 0px; left: 0px; position: absolute;' id='datetimeeditor'></div>"):ah;aA.show();aA.css("top",c(ap).parent().position().top);if(this.oldhscroll){aA.css("left",-av+parseInt(c(ap).position().left))}else{aA.css("left",parseInt(c(ap).position().left))}if(W.pinned){aA.css("left",av+parseInt(c(ap).position().left))}if(ah==undefined){aA.prependTo(this.table);aA[0].id="datetimeeditor"+this.element.id+Z;var X={calendar:this.gridlocalization};aA.jqxDateTimeInput({enableBrowserBoundsDetection:true,localization:X,_editor:true,theme:this.theme,rtl:this.rtl,width:ax.width(),height:ax.height(),formatString:W.cellsformat});this.editors["datetimeinput_"+Z]=aA;if(W.createeditor){W.createeditor(am,U,aA)}}if(W._requirewidthupdate){aA.jqxDateTimeInput({width:ax.width()-2})}if(S){if(U!=""&&U!=null){var R=new Date(U);if(R=="Invalid Date"){if(this.source.getvaluebytype){R=this.source.getvaluebytype(U,{name:W.datafield,type:"date"})}}aA.jqxDateTimeInput("setDate",R)}else{aA.jqxDateTimeInput("setDate",null)}if(this.editcell.defaultvalue!=undefined){aA.jqxDateTimeInput("setDate",this.editcell.defaultvalue)}}if(ag){setTimeout(function(){ar(aA.jqxDateTimeInput("dateTimeInput"))},10)}}break;case"numberinput":if(this.host.jqxNumberInput){ap.innerHTML="";var Z=c.trim(W.datafield).split(" ").join("");if(Z.indexOf(".")!=-1){Z=Z.replace(".","")}var P=this.editors["numberinput_"+Z];aA=P==undefined?c("<div style='border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 99999; top: 0px; left: 0px; position: absolute;' id='numbereditor'></div>"):P;aA.show();aA.css("top",c(ap).parent().position().top);if(this.oldhscroll){aA.css("left",-av+parseInt(c(ap).position().left))}else{aA.css("left",parseInt(c(ap).position().left))}if(W.pinned){aA.css("left",av+parseInt(c(ap).position().left))}if(P==undefined){aA.prependTo(this.table);aA[0].id="numbereditor"+this.element.id+Z;var aq="";var ae="left";var Q=2;if(W.cellsformat){if(W.cellsformat.indexOf("c")!=-1){aq=this.gridlocalization.currencysymbol;ae=this.gridlocalization.currencysymbolposition;if(ae=="before"){ae="left"}else{ae="right"}if(W.cellsformat.length>1){Q=parseInt(W.cellsformat.substring(1),10)}}else{if(W.cellsformat.indexOf("p")!=-1){aq=this.gridlocalization.percentsymbol;ae="right";if(W.cellsformat.length>1){Q=parseInt(W.cellsformat.substring(1),10)}}}}else{Q=0}aA.jqxNumberInput({decimalSeparator:this.gridlocalization.decimalseparator,decimalDigits:Q,inputMode:"simple",theme:this.theme,rtl:this.rtl,width:ax.width()-1,height:ax.height()-1,spinButtons:true,symbol:aq,symbolPosition:ae});this.editors["numberinput_"+Z]=aA;if(W.createeditor){W.createeditor(am,U,aA)}}if(W._requirewidthupdate){aA.jqxNumberInput({width:ax.width()-2})}if(S){if(U!=""&&U!=null){var a=U;aA.jqxNumberInput("setDecimal",a)}else{aA.jqxNumberInput("setDecimal",0)}if(this.editcell.defaultvalue!=undefined){aA.jqxNumberInput("setDecimal",this.editcell.defaultvalue)}if(this.editchar&&this.editchar.length>0){var ao=parseInt(this.editchar);if(!isNaN(ao)){aA.jqxNumberInput("setDecimal",ao)}}if(ag){setTimeout(function(){ar(aA.jqxNumberInput("numberInput"));aA.jqxNumberInput("_setSelectionStart",0);if(ak.editchar){if(W.cellsformat.length>0){aA.jqxNumberInput("_setSelectionStart",2)}else{aA.jqxNumberInput("_setSelectionStart",1)}ak.editchar=null}else{var e=aA.jqxNumberInput("spinButtons");if(e){var d=aA.jqxNumberInput("numberInput").val();ak._setSelection(aA.jqxNumberInput("numberInput")[0],d.length,d.length)}else{var d=aA.jqxNumberInput("numberInput").val();ak._setSelection(aA.jqxNumberInput("numberInput")[0],0,d.length)}aA.jqxNumberInput("selectAll")}},10)}}}break;case"custom":ap.innerHTML="";var Z=c.trim(W.datafield).split(" ").join("");if(Z.indexOf(".")!=-1){Z=Z.replace(".","")}var ab=this.editors["customeditor_"+Z+"_"+am];aA=ab==undefined?c("<div style='overflow: hidden; border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 99999; top: 0px; left: 0px; position: absolute;' id='customeditor'></div>"):ab;aA.show();aA.css("top",c(ap).parent().position().top);if(this.oldhscroll){aA.css("left",-av+parseInt(c(ap).position().left))}else{aA.css("left",parseInt(c(ap).position().left))}if(W.pinned){aA.css("left",av+parseInt(c(ap).position().left))}if(ab==undefined){aA.prependTo(this.table);aA[0].id="customeditor"+this.element.id+Z+"_"+am;this.editors["customeditor_"+Z+"_"+am]=aA;var aC=ax.width()-1;var az=ax.height()-1;aA.width(aC);aA.height(az);if(W.createeditor){W.createeditor(am,U,aA,aa,aC,az,this.editchar)}}if(W._requirewidthupdate){aA.width(ax.width()-2)}break;case"template":ap.innerHTML="";var Z=c.trim(W.datafield).split(" ").join("");if(Z.indexOf(".")!=-1){Z=Z.replace(".","")}var aw=this.editors["templateeditor_"+Z];aA=aw==undefined?c("<div style='overflow: hidden; border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 99999; top: 0px; left: 0px; position: absolute;' id='templateeditor'></div>"):aw;aA.show();aA.css("top",c(ap).parent().position().top);if(this.oldhscroll){aA.css("left",-av+parseInt(c(ap).position().left))}else{aA.css("left",parseInt(c(ap).position().left))}if(W.pinned){aA.css("left",av+parseInt(c(ap).position().left))}if(aw==undefined){aA.prependTo(this.table);aA[0].id="templateeditor"+this.element.id+Z;this.editors["templateeditor_"+Z]=aA;var aC=ax.width()-1;var az=ax.height()-1;aA.width(aC);aA.height(az);if(W.createeditor){W.createeditor(am,U,aA,aa,aC,az,this.editchar)}}if(W._requirewidthupdate){aA.width(ax.width()-2)}break;case"textbox":default:ap.innerHTML="";aA=this.editors["textboxeditor_"+W.datafield]||c("<input autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' type='textbox' id='textboxeditor'/>");aA[0].id="textboxeditor"+this.element.id+W.datafield;aA.appendTo(ax);if(this.rtl){aA.css("direction","rtl")}if(S||aA[0].className==""){aA.addClass(this.toThemeProperty("jqx-input"));aA.addClass(this.toThemeProperty("jqx-widget-content"));if(this.editchar&&this.editchar.length>0){aA.val(this.editchar)}else{if(W.cellsformat!=""){U=this.getcelltext(am,Y)}if(U==undefined){U=""}aA.val(U)}if(this.editcell.defaultvalue!=undefined){aA.val(this.editcell.defaultvalue)}aA.width(ax.width()+1);aA.height(ax.height()+1);if(W.createeditor){W.createeditor(am,U,aA)}if(W.cellsformat!=""){if(W.cellsformat.indexOf("p")!=-1||W.cellsformat.indexOf("c")!=-1||W.cellsformat.indexOf("n")!=-1||W.cellsformat.indexOf("f")!=-1){if(!this.editors["textboxeditor_"+W.datafield]){aA.keydown(function(q){var e=q.charCode?q.charCode:q.keyCode?q.keyCode:0;var l=String.fromCharCode(e);var h=parseInt(l);if(isNaN(h)){return true}if(ak._selection(aA).length>0){return true}var n="";var o=aA.val();if(W.cellsformat.length>1){var f=parseInt(W.cellsformat.substring(1));if(isNaN(f)){f=0}}else{var f=0}if(f>0){if(o.indexOf(ak.gridlocalization.decimalseparator)!=-1){if(ak._selection(aA).start>o.indexOf(ak.gridlocalization.decimalseparator)){return true}}}for(var d=0;d<o.length-f;d++){var s=o.substring(d,d+1);if(s.match(/^[0-9]+$/)!=null){n+=s}}if(n.length>=11){return false}})}}}}this.editors["textboxeditor_"+W.datafield]=aA;if(S){if(ag){setTimeout(function(){ar(aA);if(ak.editchar){ak._setSelection(aA[0],1,1);ak.editchar=null}else{ak._setSelection(aA[0],0,aA.val().length)}},25)}}break}if(aA){aA[0].style.zIndex=1+ap.style.zIndex;if(c.jqx.browser.msie&&c.jqx.browser.version<8){aA[0].style.zIndex=1+this.columns.records.length+ap.style.zIndex}aA.css("display","block");this.editcell.editor=aA;if(!this.editcell[Y]){this.editcell[Y]={};this.editcell[Y].editor=aA}else{this.editcell[Y].editor=aA}}if(S){if(W.initeditor){W.initeditor(am,U,aA,aa,this.editchar)}}if(ak.isTouchDevice()){return}setTimeout(function(){if(ak.content){ak.content[0].scrollTop=0;ak.content[0].scrollLeft=0}if(ak.gridcontent){ak.gridcontent[0].scrollLeft=0;ak.gridcontent[0].scrollTop=0}},10)},_setSelection:function(o,h,a){try{if("selectionStart" in o){o.setSelectionRange(h,a)}else{var q=o.createTextRange();q.collapse(true);q.moveEnd("character",a);q.moveStart("character",h);q.select()}}catch(n){var l=n}},_hideeditors:function(){if(this.editcells!=null){var a=this;for(var d in this.editcells){a.editcell=a.editcells[d];a._hidecelleditor()}}},_hidecelleditor:function(a){if(!this.editcell){return}if(this.editmode==="selectedrow"){for(var o=0;o<this.columns.records.length;o++){var l=this.columns.records[o];if(this.editcell[l.datafield]&&this.editcell[l.datafield].editor){this.editcell[l.datafield].editor.hide();var n=this.editcell[l.datafield].editor;switch(l.columntype){case"dropdownlist":n.jqxDropDownList({closeDelay:0});n.jqxDropDownList("hideListBox");n.jqxDropDownList({closeDelay:300});break;case"combobox":n.jqxComboBox({closeDelay:0});n.jqxComboBox("hideListBox");n.jqxComboBox({closeDelay:300});break;case"datetimeinput":if(n.jqxDateTimeInput("isOpened")){n.jqxDateTimeInput({closeDelay:0});n.jqxDateTimeInput("hideCalendar");n.jqxDateTimeInput({closeDelay:300})}break}}}if(this.validationpopup){this.validationpopup.hide();this.validationpopuparrow.hide()}return}if(this.editcell.columntype=="checkbox"){return}if(this.editcell.editor){this.editcell.editor.hide();switch(this.editcell.columntype){case"dropdownlist":this.editcell.editor.jqxDropDownList({closeDelay:0});this.editcell.editor.jqxDropDownList("hideListBox");this.editcell.editor.jqxDropDownList({closeDelay:300});break;case"combobox":this.editcell.editor.jqxComboBox({closeDelay:0});this.editcell.editor.jqxComboBox("hideListBox");this.editcell.editor.jqxComboBox({closeDelay:300});break;case"datetimeinput":var h=this.editcell.editor;if(h.jqxDateTimeInput("isOpened")){h.jqxDateTimeInput({closeDelay:0});h.jqxDateTimeInput("hideCalendar");h.jqxDateTimeInput({closeDelay:300})}break}}if(this.validationpopup){this.validationpopup.hide();this.validationpopuparrow.hide()}if(!this.isNestedGrid){if(a!=false){this.element.focus()}}},_geteditorvalue:function(D){var u=new String();if(!this.editcell){return null}var z=this.editcell.editor;if(this.editmode=="selectedrow"){if(this.editcell[D.datafield]){var z=this.editcell[D.datafield].editor}}if(z){switch(D.columntype){case"textbox":default:u=z.val();if(D.cellsformat!=""){var v="string";var G=this.source.datafields||((this.source._source)?this.source._source.datafields:null);if(G){var t="";c.each(G,function(){if(this.name==D.displayfield){if(this.type){t=this.type}return false}});if(t){v=t}}var C=v==="number"||v==="float"||v==="int"||v==="integer";var F=v==="date"||v==="time";if(C||(v==="string"&&(D.cellsformat.indexOf("p")!=-1||D.cellsformat.indexOf("c")!=-1||D.cellsformat.indexOf("n")!=-1||D.cellsformat.indexOf("f")!=-1))){if(u===""&&D.nullable){return""}if(u.indexOf(this.gridlocalization.currencysymbol)>-1){u=u.replace(this.gridlocalization.currencysymbol,"")}var w=function(d,f,e){var l=d;if(f==e){return d}var h=l.indexOf(f);while(h!=-1){l=l.replace(f,e);h=l.indexOf(f)}return l};var A=u;A=new Number(A);if(!isNaN(A)){return A}u=w(u,this.gridlocalization.thousandsseparator,"");u=u.replace(this.gridlocalization.decimalseparator,".");if(u.indexOf(this.gridlocalization.percentsymbol)>-1){u=u.replace(this.gridlocalization.percentsymbol,"")}var H="";for(var a=0;a<u.length;a++){var J=u.substring(a,a+1);if(J==="-"){H+="-"}if(J==="."){H+="."}if(J.match(/^[0-9]+$/)!=null){H+=J}}u=H;u=u.replace(/ /g,"");u=new Number(u);if(isNaN(u)){u=""}}if(F||(v==="string"&&(D.cellsformat.indexOf("H")!=-1||D.cellsformat.indexOf("m")!=-1||D.cellsformat.indexOf("M")!=-1||D.cellsformat.indexOf("y")!=-1||D.cellsformat.indexOf("h")!=-1||D.cellsformat.indexOf("d")!=-1))){if(u===""&&D.nullable){return""}var I=u;if(c.jqx.dataFormat){u=c.jqx.dataFormat.tryparsedate(I,this.gridlocalization)}if(u=="Invalid Date"||u==null){u=""}}}if(D.displayfield!=D.datafield){u={label:u,value:u}}break;case"checkbox":if(z.jqxCheckBox){u=z.jqxCheckBox("checked")}break;case"datetimeinput":if(z.jqxDateTimeInput){z.jqxDateTimeInput({isEditing:false});z.jqxDateTimeInput("_validateValue");u=z.jqxDateTimeInput("getDate");if(u==null){return null}u=new Date(u.toString());if(D.displayfield!=D.datafield){u={label:u,value:u}}}break;case"dropdownlist":if(z.jqxDropDownList){var E=z.jqxDropDownList("selectedIndex");var s=z.jqxDropDownList("listBox").getVisibleItem(E);if(D.displayfield!=D.datafield){if(s){u={label:s.label,value:s.value}}else{u=""}}else{if(s){u=s.label}else{u=""}}if(u==null){u=""}}break;case"combobox":if(z.jqxComboBox){u=z.jqxComboBox("val");if(D.displayfield!=D.datafield){var s=z.jqxComboBox("getSelectedItem");if(s!=null){u={label:s.label,value:s.value}}}if(u==null){u=""}}break;case"numberinput":if(z.jqxNumberInput){if(this.touchdevice){z.jqxNumberInput("_doTouchHandling")}var B=z.jqxNumberInput("getDecimal");u=new Number(B);u=parseFloat(u);if(isNaN(u)){u=0}if(D.displayfield!=D.datafield){u={label:u,value:u}}}break}if(D.geteditorvalue){if(this.editmode=="selectedrow"){u=D.geteditorvalue(this.editcell.row,this.getcellvalue(this.editcell.row,D.datafield),z)}else{u=D.geteditorvalue(this.editcell.row,this.editcell.value,z)}}}return u},hidevalidationpopups:function(){if(this.popups){c.each(this.popups,function(){this.validation.remove();this.validationrow.remove()});this.popups=new Array()}if(this.validationpopup){this.validationpopuparrow.hide();this.validationpopup.hide()}},showvalidationpopup:function(I,F,G){if(G==undefined){var G=this.gridlocalization.validationstring}var H=c("<div style='z-index: 99999; top: 0px; left: 0px; position: absolute;'></div>");var v=c("<div style='width: 20px; height: 20px; z-index: 999999; top: 0px; left: 0px; position: absolute;'></div>");H.html(G);v.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up"));H.addClass(this.toThemeProperty("jqx-grid-validation"));H.addClass(this.toThemeProperty("jqx-rc-all"));H.prependTo(this.table);v.prependTo(this.table);var D=this.hScrollInstance;var B=D.value;var K=parseInt(B);var M=this.getcolumn(F).uielement;var z=null;for(var A=0;A<this.hittestinfo.length;A++){if(I===this.hittestinfo[A].row.visibleindex){z=this.hittestinfo[A]}}if(!z){this.ensurerowvisible(I);var u=this;H.remove();v.remove();setTimeout(function(){var d=null;for(var e=0;e<u.hittestinfo.length;e++){if(I===u.hittestinfo[e].row.visibleindex){d=u.hittestinfo[e]}}if(d){u.showvalidationpopup(I,F,G)}},25);return}var L=c(z.visualrow);H.css("top",parseInt(L.position().top)+30+"px");var E=parseInt(H.css("top"));v.css("top",E-12);v.removeClass();v.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up"));var w=false;if(E>=this._gettableheight()){v.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-up"));v.addClass(this.toThemeProperty("jqx-grid-validation-arrow-down"));E=parseInt(L.position().top)-this.rowsheight-5;if(E<0){E=0;this.validationpopuparrow.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-down"));w=true}H.css("top",E+"px");v.css("top",E+H.outerHeight()-9)}var a=-K+parseInt(c(M).position().left);v.css("left",K+a+30);var C=H.width();if(C+a>this.host.width()-20){var J=C+a-this.host.width()+40;a-=J}if(!w){H.css("left",K+a)}else{H.css("left",K+parseInt(c(M).position().left)-H.outerWidth())}H.show();v.show();if(!this.popups){this.popups=new Array()}this.popups[this.popups.length]={validation:H,validationrow:v}},_showvalidationpopup:function(s,F,a){var H=this.editcell;var z=this.editcell.editor;if(this.editmode=="selectedrow"){var H=this.editcell[F];if(H&&H.editor){z=H.editor;H.element=z}}if(!z){return}if(this.validationpopup&&c.jqx.isHidden(this.validationpopup)){if(this.validationpopup.remove){this.validationpopup.remove();this.validationpopuparrow.remove()}this.validationpopup=null;this.validationpopuparrow=null;if(F===undefined&&a===undefined&&this.editors&&this.editors.length===0){return}}if(!this.validationpopup){var u=c("<div style='z-index: 99999; top: 0px; left: 0px; position: absolute;'></div>");var v=c("<div style='width: 20px; height: 20px; z-index: 999999; top: 0px; left: 0px; position: absolute;'></div>");u.html(a);v.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up"));u.addClass(this.toThemeProperty("jqx-grid-validation"));u.addClass(this.toThemeProperty("jqx-rc-all"));u.prependTo(this.table);v.prependTo(this.table);this.validationpopup=u;this.validationpopuparrow=v}else{this.validationpopup.html(a)}var C=this.hScrollInstance;var A=C.value;var D=parseInt(A);if(this.editmode=="selectedrow"){if(this.visiblerows&&this.visiblerows[this.editcell.visiblerowindex]){this.validationpopup.css("top",this.visiblerows[this.editcell.visiblerowindex].top+(this.rowsheight+5)+"px")}else{this.validationpopup.css("top",parseInt(c(H.editor).position().top)+(this.rowsheight+5)+"px")}}else{this.validationpopup.css("top",parseInt(c(H.element).parent().position().top)+(this.rowsheight+5)+"px")}var I=parseInt(this.validationpopup.css("top"));this.validationpopuparrow.css("top",I-11);this.validationpopuparrow.removeClass();this.validationpopuparrow.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up"));var t=this._gettableheight();var E=false;if(I>=t){this.validationpopuparrow.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-up"));this.validationpopuparrow.addClass(this.toThemeProperty("jqx-grid-validation-arrow-down"));I=parseInt(c(H.element).parent().position().top)-this.rowsheight-5;if(this.editmode=="selectedrow"){if(this.visiblerows&&this.visiblerows[this.editcell.visiblerowindex]){I=this.visiblerows[this.editcell.visiblerowindex].top-this.rowsheight-5}else{I=parseInt(c(H.editor).position().top)-this.rowsheight-5}}if(I<0){I=0;this.validationpopuparrow.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-down"));E=true}this.validationpopup.css("top",I+"px");this.validationpopuparrow.css("top",I+this.validationpopup.outerHeight()-9)}var w=-D+parseInt(c(H.element).position().left);this.validationpopuparrow.css("left",D+w+30);var G=this.validationpopup.width();if(G+w>this.host.width()-20){var B=G+w-this.host.width()+40;w-=B}if(!E){this.validationpopup.css("left",D+w)}else{this.validationpopup.css("left",D+parseInt(c(H.element).position().left)-this.validationpopup.outerWidth())}if(this.editcell.editor.css("display")=="none"){this.validationpopup.hide();this.validationpopuparrow.hide()}else{this.validationpopup.show();this.validationpopuparrow.show()}}})})(jqxBaseFramework);(function(c){c.extend(c.jqx._jqxGrid.prototype,{_calculateaggregate:function(o,l,n,u){var q=o.aggregates;if(!q){q=l}if(q){var s=new Array();for(var t=0;t<q.length;t++){if(q[t]=="count"){continue}s[s.length]=o.cellsformat}if(this.source&&this.source.getAggregatedData){if(u==undefined){u=this.getrows()}if(this.virtualmode){var u=new Array();c.each(this.source._source.records,function(){u.push(this)})}if(n==undefined||n==true){var a=this.source.getAggregatedData([{name:o.datafield,aggregates:q,formatStrings:s}],this.gridlocalization,u);return a}else{var a=this.source.getAggregatedData([{name:o.datafield,aggregates:q}],this.gridlocalization,u);return a}}}return null},getcolumnaggregateddata:function(u,o,n,t){var s=this.getcolumn(u);var a=(n==undefined||n==false)?false:n;if(o==null){return""}var v=s.aggregates;s.aggregates=null;var l=this._calculateaggregate(s,o,a,t);var q={};if(l){q=l[u]}s.aggregates=v;return q},refreshaggregates:function(){this._updatecolumnsaggregates()},renderaggregates:function(){this._updateaggregates()},_updatecolumnaggregates:function(o,h,a){var n=this;if(!h){a.children().remove();a.html("");if(o.aggregatesrenderer){var l={};if(o.aggregates){l=this.getcolumnaggregateddata(o.datafield,o.aggregates)}var q=o.aggregatesrenderer({},o,a,null);a.html(q)}return}a.children().remove();a.html("");if(o.aggregatesrenderer){if(h){var q=o.aggregatesrenderer(h[o.datafield],o,a,this.getcolumnaggregateddata(o.datafield,h[o.datafield]));a.html(q)}}else{c.each(h,function(){var e=this;for(l in e){var d=c('<div style="position: relative; margin: 4px; overflow: hidden;"></div>');var f=l;f=n._getaggregatename(f);d.html(f+":"+e[l]);if(n.rtl){d.addClass(n.toThemeProperty("jqx-rtl"))}a.append(d)}})}},_getaggregatetype:function(f){switch(f){case"min":case"max":case"count":case"avg":case"product":case"var":case"varp":case"stdev":case"stdevp":case"sum":return f}var a=f;for(var e in f){a=e;break}return a},_getaggregatename:function(f){var a=f;switch(f){case"min":a="Min";break;case"max":a="Max";break;case"count":a="Count";break;case"avg":a="Avg";break;case"product":a="Product";break;case"var":a="Var";break;case"stdevp":a="StDevP";break;case"stdev":a="StDev";break;case"varp":a="VarP";case"sum":a="Sum";break}if(f===a&&typeof(a)!="string"){for(var e in f){a=e;break}}return a},_updatecolumnsaggregates:function(){var l=this.getrows();var a=this.columns.records.length;if(undefined!=this.statusbar[0].cells){for(var n=0;n<a;n++){var h=c(this.statusbar[0].cells[n]);var o=this.columns.records[n];var q=this._calculateaggregate(o,null,true,l);this._updatecolumnaggregates(o,q,h)}}},_updateaggregates:function(){var E=c('<div style="position: relative;" id="statusrow'+this.element.id+'"></div>');var A=0;var t=this.columns.records.length;var u=this.toThemeProperty("jqx-grid-cell");if(this.rtl){u+=" "+this.toThemeProperty("jqx-grid-cell-rtl");A=-1}u+=" "+this.toThemeProperty("jqx-grid-cell-pinned");var s=t+10;var q=new Array();this.statusbar[0].cells=q;var a=this.getrows();for(var z=0;z<t;z++){var B=this.columns.records[z];var w=this._calculateaggregate(B,B.aggregates,true,a);var D=B.width;if(D<B.minwidth){D=B.minwidth}if(D>B.maxwidth){D=B.maxwidth}var C=u;if(B.cellsalign){C+=" "+this.toThemeProperty("jqx-"+B.cellsalign+"-align")}var v=c('<div style="overflow: hidden; position: absolute; height: 100%;" class="'+C+'"></div>');E.append(v);v.css("left",A);if(!this.rtl){v.css("z-index",s--)}else{v.css("z-index",s++)}v.width(D);v[0].left=A;if(!(B.hidden&&B.hideable)){A+=D}else{v.css("display","none")}q[q.length]=v[0];this._updatecolumnaggregates(B,w,v)}if(c.jqx.browser.msie&&c.jqx.browser.version<8){E.css("z-index",s--)}E.width(parseFloat(A)+2);E.height(this.statusbarheight);this.statusbar.children().remove();this.statusbar.append(E);this.statusbar.removeClass(this.toThemeProperty("jqx-widget-header"));this.statusbar.addClass(u);this.statusbar.css("border-bottom-color","transparent");this.statusbar.css("border-top-width","1px");if(this.rtl&&this.hScrollBar.css("visibility")!="hidden"){this._renderhorizontalscroll()}this._arrange()}})})(jqxBaseFramework);(function(c){var d=(function(){var O={},a,A,H,F,K,J,C,B;function N(q,f,e,n,o,l,h){this.hierarchy=o;this.exportFormat=l;this.filename=h;q.beginFile(h);D(q);G(q);q.endFile(h);return q.getFile()}function D(l){var e=true;c.each(A,function(){if(this.hidden){e=false;return false}});l.beginHeader(e);var f=0;for(var h in A){if(A[h].columnsDataFields){h=A[h].columnsDataFields[f].displayfield}var n=E(h,A[h]);l.appendHeaderCell(A[h],h,n,e,f);f++}l.endHeader(e)}function G(e){e.beginBody();if(this.hierarchy){var f=function(l){for(var n=0;n<l.length;n+=1){if(l[n]!==undefined){e.beginRow(l[n].level);M(e,l[n],n,true);if(l[n].records){e.beginRows(l[n].level);f(l[n].records);e.endRows(l[n].level)}e.endRow(l[n].level)}}};f(a);e.endBody();return}for(var h=0;h<a.length;h+=1){if(a[h]!==undefined){M(e,a[h],h)}}e.endBody()}function M(f,o,s,l){var e;if(l!=true){f.beginRow()}var q=0;for(var h in A){if(A[h].columnsDataFields){h=A[h].columnsDataFields[q].displayfield}e=w(s,h);if(e){if(e.level!=undefined){if(e.index-1>o.level&&e.index-1<e.maxLevel){q++;continue}}if(e.maxLevel!=undefined){if(e.index-1==e.maxLevel){e=c.extend({},e);e.merge=e.maxLevel-o.level-1}}}if(o.level!=undefined&&o.label!=undefined){if(this.exportFormat==="xml"||this.exportFormat==="json"){var n={};n.text="group";f.appendBodyCell(o.label,n,e,o,q,"group");break}}if(o.hasOwnProperty(h)){f.appendBodyCell(o[h],A[h],e,o,q)}else{f.appendBodyCell("",A[h],e,o,q)}q++}if(l!=true){f.endRow()}}function E(f,e){if(e.style){return H[e.style]}var h=v();if(h.length>0){return h[0].style}return null}function v(){if(!K){K=new Array();c.each(H,function(f,e){K[K.length]={name:f,style:e}})}return K}function w(f,n){var q=A[n];if(q){if(q.customCellStyles){var e=q.customCellStyles[f];if(e){return H[e]}}if(q.cellStyle){if(q.cellAltStyle){var h=f%2;if(h==0){return H[q.cellStyle]}return H[q.cellAltStyle]}return H[q.cellStyle]}else{var l=v();if(l.length>0){var h=f%(l.length-1);var o=l[h+1].style;return o}}}return null}function z(l,f,e){var h=document.createElement("input");h.name=f;h.value=l;h.type="hidden";e.appendChild(h);return h}function L(e,h,f){var l=document.createElement("textarea");l.name=h;l.value=e;f.appendChild(l);return l}function I(h,n,o,l,f){var e=document.createElement("form");z(h,"filename",e);z(n,"format",e);L(o,"content",e);if(l==undefined||l==""){if(window&&window.location.toString().indexOf("jqwidgets.com")>=0){l="http://jqwidgets.com/export_server/save-file.php"}else{l="http://jquerygrid.net/export_server/save-file.php"}}e.action=l;e.method="post";if(f){e.acceptCharset=f}document.body.appendChild(e);return e}F=function(f,o,e,h,n,l){if(!(this instanceof d)){return new d(f,o,e,n,l)}a=f;A=o;H=e;this.exportTo=function(R,U,V,t){R=R.toString().toLowerCase();var q=O[R];if(typeof q==="undefined"){throw"You can't export to "+R+" format."}if(R==="pdf"&&t==undefined){var P=this.exportTo(R,U,R,"pdf");if(!c.jqx.pdfExport){c.jqx.pdfExport={orientation:"portrait",paperSize:"a4"}}var Q=new pdfDataExport(c.jqx.pdfExport.orientation,"pt",c.jqx.pdfExport.paperSize);Q.cellInitialize();var S=c(P).find("th");var T=c(P).find("tr");var u=0;Q.setFontSize(13*72/96);var W=595;switch(c.jqx.pdfExport.paperSize){case"legal":var W=612;if(c.jqx.pdfExport.orientation!=="portrait"){W=1008}break;case"letter":var W=612;if(c.jqx.pdfExport.orientation!=="portrait"){W=792}break;case"a3":var W=841;if(c.jqx.pdfExport.orientation!=="portrait"){W=1190}break;case"a4":var W=595;if(c.jqx.pdfExport.orientation!=="portrait"){W=842}break;case"a5":var W=420;if(c.jqx.pdfExport.orientation!=="portrait"){W=595}break}W-=20;var X=0;var s=[];c.each(S,function(aa){var Z=parseInt(this.style.width);if(isNaN(Z)){Z=25}var Y=Z*72/96;s[aa]=Y;X+=Y});if(X>W){c.each(s,function(Y){s[Y]=(s[Y]/X)*100;s[Y]=s[Y]*W/100})}c.each(S,function(ad){var Z=s[ad];var aa=25*72/96;var ab=Q.getTextDimensions(c(this).html());var ac=c(this).html();if(ab.w+3>Z){var ae=Q.splitTextToSize(ac,Z-3);var Y=ae[0];if(Y.length>3){ac=Y.substring(0,Y.length-3)+"..."}else{ac=Y.substring(0,1)+"..."}var ae=Q.splitTextToSize(ac,Z-3);var Y=ae[0];if(Y!=ac){ac=Y}}Q.cell(10,10,Z,aa,ac,u)});u++;c.each(T,function(ae){if(ae===0){return true}var ak=c(this).children();var aj=ak.length>S.length;if(aj){var ab=ak.length-S.length;var aa="";var ac=s[0];var af=25*72/96;for(var ai=0;ai<=ab;ai++){var al=ak[ai].innerHTML;if(al==="+"||al==="-"){al=al+" "}if(al==="&nbsp;"){al="   "}aa+=al}var ag=Q.getTextDimensions(aa);if(ag.w+3>ac){var ad=Q.splitTextToSize(aa,ac-3);var ah=ad[0];if(ah.length>3){aa=ah.substring(0,ah.length-3)+"..."}else{aa=ah.substring(0,1)+"..."}var ad=Q.splitTextToSize(aa,ac-3);var ah=ad[0];if(ah!=aa){aa=ah}}Q.cell(10,10,ac,af,aa,u);for(var ai=ab+1;ai<ak.length;ai++){var ae=ai-ab;var ac=s[ae];var af=25*72/96;var aa=c(ak[ai]).html();var ag=Q.getTextDimensions(c(ak[ai]).html());if(ag.w+3>ac){var ad=Q.splitTextToSize(aa,ac-3);var ah=ad[0];if(ah.length>3){aa=ah.substring(0,ah.length-3)+"..."}else{aa=ah.substring(0,1)+"..."}var ad=Q.splitTextToSize(aa,ac-3);var ah=ad[0];if(ah!=aa){aa=ah}}Q.cell(10,10,ac,af,aa,u)}u++;return true}c.each(ak,function(ap){var Z=s[ap];var am=25*72/96;var an=c(this).html();var ao=Q.getTextDimensions(c(this).html());if(ao.w+3>Z){var aq=Q.splitTextToSize(an,Z-3);var Y=aq[0];if(Y.length>3){an=Y.substring(0,Y.length-3)+"..."}else{an=Y.substring(0,1)+"..."}var aq=Q.splitTextToSize(an,Z-3);var Y=aq[0];if(Y!=an){an=Y}}Q.cell(10,10,Z,am,an,u)});u++});if(c.jqx.browser.msie&&c.jqx.browser.version<10){throw new Error("PDF export requires a browser with HTML5 support");return}return Q}return N(q,a,A,H,U,V,t)};this.exportToFile=function(T,t,Q,Z,W){if(T==="pdf"){var R=this.exportTo(T,W,T,t);if(!c.jqx.pdfExport){c.jqx.pdfExport={orientation:"portrait",paperSize:"a4"}}var S=new pdfDataExport(c.jqx.pdfExport.orientation,"pt",c.jqx.pdfExport.paperSize);S.cellInitialize();var U=c(R).find("th");var V=c(R).find("tr");var u=0;S.setFontSize(13*72/96);var Y=595;switch(c.jqx.pdfExport.paperSize){case"legal":var Y=612;if(c.jqx.pdfExport.orientation!=="portrait"){Y=1008}break;case"letter":var Y=612;if(c.jqx.pdfExport.orientation!=="portrait"){Y=792}break;case"a3":var Y=841;if(c.jqx.pdfExport.orientation!=="portrait"){Y=1190}break;case"a4":var Y=595;if(c.jqx.pdfExport.orientation!=="portrait"){Y=842}break;case"a5":var Y=420;if(c.jqx.pdfExport.orientation!=="portrait"){Y=595}break}Y-=20;var aa=0;var s=[];c.each(U,function(ac){var ab=parseInt(this.style.width);if(isNaN(ab)){ab=25}var P=ab*72/96;s[ac]=P;aa+=P});if(aa>Y){c.each(s,function(P){s[P]=(s[P]/aa)*100;s[P]=s[P]*Y/100})}c.each(U,function(af){var ab=s[af];var ac=25*72/96;var ad=S.getTextDimensions(c(this).html());var ae=c(this).html();if(ad.w+3>ab){var ag=S.splitTextToSize(ae,ab-3);var P=ag[0];if(P.length>3){ae=P.substring(0,P.length-3)+"..."}else{ae=P.substring(0,1)+"..."}var ag=S.splitTextToSize(ae,ab-3);var P=ag[0];if(P!=ae){ae=P}}S.cell(10,10,ab,ac,ae,u)});u++;c.each(V,function(ae){if(ae===0){return true}var ak=c(this).children();var aj=ak.length>U.length;if(aj){var P=ak.length-U.length;var am="";var ac=s[0];var af=25*72/96;for(var ai=0;ai<=P;ai++){var al=ak[ai].innerHTML;if(al==="+"||al==="-"){al=al+" "}if(al==="&nbsp;"){al="   "}am+=al}var ag=S.getTextDimensions(am);if(ag.w+3>ac){var ad=S.splitTextToSize(am,ac-3);var ah=ad[0];if(ah.length>3){am=ah.substring(0,ah.length-3)+"..."}else{am=ah.substring(0,1)+"..."}var ad=S.splitTextToSize(am,ac-3);var ah=ad[0];if(ah!=am){am=ah}}S.cell(10,10,ac,af,am,u);for(var ai=P+1;ai<ak.length;ai++){var ae=ai-P;var ac=s[ae];var af=25*72/96;var am=c(ak[ai]).html();if(am==="&nbsp;"){am="   "}var ag=S.getTextDimensions(c(ak[ai]).html());if(ag.w+3>ac){var ad=S.splitTextToSize(am,ac-3);var ah=ad[0];if(ah.length>3){am=ah.substring(0,ah.length-3)+"..."}else{am=ah.substring(0,1)+"..."}var ad=S.splitTextToSize(am,ac-3);var ah=ad[0];if(ah!=am){am=ah}}S.cell(10,10,ac,af,am,u)}u++;return true}c.each(ak,function(ar){var an=s[ar];var ao=25*72/96;var ap=c(this).html();if(ap==="&nbsp;"){ap="   "}var aq=S.getTextDimensions(c(this).html());if(aq.w+3>an){var at=S.splitTextToSize(ap,an-3);var ab=at[0];if(ab.length>3){ap=ab.substring(0,ab.length-3)+"..."}else{ap=ab.substring(0,1)+"..."}var at=S.splitTextToSize(ap,an-3);var ab=at[0];if(ab!=ap){ap=ab}}S.cell(10,10,an,ao,ap,u)});u++});if(c.jqx.browser.msie&&c.jqx.browser.version<10){throw new Error("PDF export requires a browser with HTML5 support");return}S.save(t+".pdf");return}var X=this.exportTo(T,W,T,t),q=I(t,T,X,Q,Z);q.submit();document.body.removeChild(q)};this.exportToLocalFile=function(q,u,t,P){var s=this.exportTo(q,t,P);document.location.href="data:application/octet-stream;filename="+u+","+encodeURIComponent(s)}};F.extend=function(f,e){if(e instanceof c.jqx.dataAdapter.DataExportModuleBase){O[f]=e}else{throw"The module "+f+" is not instance of DataExportModuleBase."}};return F}());c.jqx.dataAdapter.ArrayExporter=d})(jqxBaseFramework);(function(c){var d=function(){this.formatData=function(n,o,s,a){if(o==="date"){var q="";if(typeof n==="string"){q=c.jqx.dataFormat.tryparsedate(n);n=q}if(n===""||n===null){return""}q=c.jqx.dataFormat.formatdate(n,s,a);if(q.toString()=="NaN"||q==null){return""}n=q}else{if(o==="number"||o==="float"||o==="int"||o=="integer"){if(n===""||n===null){return""}if(!isNaN(new Number(n))){var l=c.jqx.dataFormat.formatnumber(n,s,a);if(l.toString()=="NaN"){return""}else{n=l}}}else{n=n}}if(n===null){return""}return n};this.getFormat=function(a){var n=a?a.formatString:"";var h=a?a.localization:"";var l="string";l=a?a.type:"string";if(l=="number"||l=="float"){if(!n){n="f2"}}if(l=="int"||l=="integer"){if(!n){n="n0"}}if(l=="date"){if(!n){n="d"}}return{type:l,formatString:n,localization:h}};this.beginFile=function(){throw"Not implemented!"};this.beginHeader=function(){throw"Not implemented!"};this.appendHeaderCell=function(){throw"Not implemented!"};this.endHeader=function(){throw"Not implemented!"};this.beginBody=function(){throw"Not implemented!"};this.beginRow=function(){throw"Not implemented!"};this.beginRows=function(){throw"Not implemented!"};this.endRows=function(){throw"Not implemented!"};this.appendBodyCell=function(){throw"Not implemented!"};this.endRow=function(){throw"Not implemented!"};this.endBody=function(){throw"Not implemented!"};this.endFile=function(){throw"Not implemented!"};this.getFile=function(){throw"Not implemented!"}};c.jqx.dataAdapter.DataExportModuleBase=d})(jqxBaseFramework);(function(h){var l=function(d){var t,o,q;var a=0;var n=this;this.beginFile=function(){t=""};this.beginHeader=function(){};this.appendHeaderCell=function(w,v,z,u,B){if(z){if(z.level!=undefined){if(B<z.maxLevel){return}else{if(B===z.maxLevel){if(u){c(w.text)}for(var A=0;A<z.maxLevel;A++){c("")}return}}}}q=u;if(u){c(w.text)}};this.endHeader=function(){this.endRow()};this.beginBody=function(){a=0};this.beginRow=function(){if((a>0)||(a==0&&q)){t+="\n"}a++};this.appendBodyCell=function(w,u,z,v,B){if(z){if(z.maxLevel!=undefined){if(B===z.maxLevel){c(w,u);for(var A=0;A<z.maxLevel-v.level-1;A++){c("",u)}return}}}c(w,u)};this.endRow=function(){t=t.substring(0,t.length-1)};this.endBody=function(){};this.endFile=function(){};this.getFile=function(){return t};function s(u,v){if(v){var w=n.getFormat(v);u=n.formatData(u,w.type,w.formatString,w.localization)}u='"'+u+'"';return u}function c(u,v){u=s(u,v);t+=u+d}};l.prototype=new h.jqx.dataAdapter.DataExportModuleBase();var f=function(){};f.prototype=new l(",");var e=function(){};e.prototype=new l("\t");h.jqx.dataAdapter.ArrayExporter.extend("csv",new f());h.jqx.dataAdapter.ArrayExporter.extend("tsv",new e())})(jqxBaseFramework);(function(n){var h=function(){var c=false;var e;var d;var a=0;this.setPDF=function(){c=true};this.beginFile=function(s){if(c||s==undefined){e='<table style="empty-cells: show;" cellspacing="0" cellpadding="2">'}else{e='<html>\n\t<head>\n\t\t<title></title>\n\t\t<meta http-equiv=Content-type content="text/html; charset=UTF-8">\n\t</head>\n\t<body>\n\t\t<table style="empty-cells: show;" cellspacing="0" cellpadding="2">'}};this.beginHeader=function(){if(c){e+="\n\t<thead><tr>"}else{e+="\n\t\t\t<thead>"}};this.appendHeaderCell=function(s,v,t,u){d=u;if(!u){return}if(c){e+='\n\t\t\t\t<th style="'+q(t)+'">'+s.text+"</th>"}else{if(t.disabled){return}if(t.merge){if(s.width){e+="\n\t\t\t\t<th colspan="+(1+t.merge)+' style="width: '+s.width+"px; "+q(t)+'">'+s.text+"</th>"}else{e+="\n\t\t\t\t<th colspan="+(1+t.merge)+' style="'+q(t)+'">'+s.text+"</th>"}}else{if(s.width){e+='\n\t\t\t\t<th style="width: '+s.width+"px; "+q(t)+'">'+s.text+"</th>"}else{e+='\n\t\t\t\t<th style="'+q(t)+'">'+s.text+"</th>"}}}};this.endHeader=function(){if(c){e+="\n\t</tr></thead>"}else{e+="\n\t\t\t</thead>"}};this.beginBody=function(){if(c){e+="\n\t<tbody>"}else{e+="\n\t\t\t<tbody>"}a=0};this.beginRow=function(){if(c){e+="\n\t<tr>"}else{e+="\n\t\t\t\t<tr>"}a++};this.appendBodyCell=function(t,v,u){var s=this.getFormat(v);if(t===""){t="&nbsp;"}if(c){if(a==1&&!d){e+='\n\t\t\t\t\t<td style="'+q(u)+' border-top-width: 1px;">'+this.formatData(t,s.type,s.formatString,s.localization)+"</td>"}else{e+='\n\t\t\t\t\t<td style="'+q(u)+'">'+this.formatData(t,s.type,s.formatString,s.localization)+"</td>"}}else{if(u.merge){if(a==1&&!d){e+="\n\t\t\t\t\t<td colspan="+(1+u.merge)+' style="'+q(u)+' border-top-width: 1px;">'+this.formatData(t,s.type,s.formatString,s.localization)+"</td>"}else{e+="\n\t\t\t\t\t<td colspan="+(1+u.merge)+' style="'+q(u)+'">'+this.formatData(t,s.type,s.formatString,s.localization)+"</td>"}}else{if(a==1&&!d){e+='\n\t\t\t\t\t<td style="'+q(u)+' border-top-width: 1px;">'+this.formatData(t,s.type,s.formatString,s.localization)+"</td>"}else{e+='\n\t\t\t\t\t<td style="'+q(u)+'">'+this.formatData(t,s.type,s.formatString,s.localization)+"</td>"}}}};this.endRow=function(){if(c){e+="\n\t</tr>"}else{e+="\n\t\t\t\t</tr>"}};this.endBody=function(){if(c){e+="\n\t</tbody>"}else{e+="\n\t\t\t</tbody>"}};this.endFile=function(s){if(c||s==undefined){e+="\n</table>"}else{e+="\n\t\t</table>\n\t</body>\n</html>\n"}};this.getFile=function(){return e};function q(s){var u="";for(var t in s){if(s.hasOwnProperty(t)){if(c&&t=="font-size"){s[t]="100%"}u+=t+":"+s[t]+";"}}return u}};h.prototype=new n.jqx.dataAdapter.DataExportModuleBase();var l=function(){};l.prototype=new h();var o=function(){};o.prototype=new h();var f=new o();n.jqx.dataAdapter.ArrayExporter.extend("html",new l());n.jqx.dataAdapter.ArrayExporter.extend("pdf",f)})(jqxBaseFramework);(function(c){var d=function(){var z,t,D,w,E,v,s={style:"",stylesMap:{font:{color:"Color","font-family":"FontName","font-style":"Italic","font-weight":"Bold"},interior:{"background-color":"Color",background:"Color"},alignment:{left:"Left",center:"Center",right:"Right"}},startStyle:function(e){this.style+='\n\t\t<Style ss:ID="'+e+'" ss:Name="'+e+'">'},buildAlignment:function(f){if(f["text-align"]){var e=this.stylesMap.alignment[f["text-align"]];if(!e){e="Left"}var h='\n\t\t\t<Alignment ss:Vertical="Bottom" ss:Horizontal="'+e+'"/>';this.style+=h}},buildBorder:function(h){if(h["border-color"]){var l="\n\t\t\t<Borders>";var e='\n\t\t\t\t<Border ss:Position="Bottom" ss:LineStyle="Continuous" ss:Weight="1" ss:Color="'+h["border-color"]+'"/>';var o='\n\t\t\t\t<Border ss:Position="Left" ss:LineStyle="Continuous" ss:Weight="1" ss:Color="'+h["border-color"]+'"/>';var n='\n\t\t\t\t<Border ss:Position="Right" ss:LineStyle="Continuous" ss:Weight="1" ss:Color="'+h["border-color"]+'"/>';var f='\n\t\t\t\t<Border ss:Position="Top" ss:LineStyle="Continuous" ss:Weight="1" ss:Color="'+h["border-color"]+'"/>';l+=e;l+=o;l+=n;l+=f;l+="\n\t\t\t</Borders>";this.style+=l}},buildFont:function(h){var f=this.stylesMap.font,l="\n\t\t\t<Font ";for(var e in f){if(typeof h[e]!=="undefined"){if(e==="font-style"&&h[e].toString().toLowerCase()==="italic"){l+='ss:Italic="1" '}else{if(e==="font-weight"&&h[e].toString().toLowerCase()==="bold"){l+='ss:Bold="1" '}else{if(e==="color"){l+="ss:"+f[e]+'="'+h[e]+'" '}}}}}l+="/>";this.style+=l},buildInterior:function(l){var h=this.stylesMap.interior,e="\n\t\t\t<Interior ";var n=false;for(var f in h){if(typeof l[f]!=="undefined"){e+="ss:"+h[f]+'="'+l[f]+'" ';n=true}}if(n){e+='ss:Pattern="Solid"'}e+="/>";this.style+=e},buildFormat:function(e){if(e.dataType=="number"||e.dataType=="float"||e.dataType=="int"||e.dataType=="integer"){var f=e.formatString;if(f==""||f.indexOf("n")!=-1||f.indexOf("N")!=-1){this.style+='\n\t\t\t<NumberFormat ss:Format="0"/>'}else{if(f=="f"||f=="F"||f=="D"||f.indexOf("d")!=-1){this.style+='\n\t\t\t<NumberFormat ss:Format="#,##0.00_);[Red](#,##0.00)"/>'}else{if(f.indexOf("p")!=-1||f.indexOf("P")!=-1){this.style+='\n\t\t\t<NumberFormat ss:Format="Percent"/>'}else{if(f.indexOf("c")!=-1||f.indexOf("C")!=-1){if(parseInt(e.currencysymbol.charCodeAt(0))==8364){this.style+='\n\t\t\t<NumberFormat ss:Format="Euro Currency"/>'}else{this.style+='\n\t\t\t<NumberFormat ss:Format="Currency"/>'}}}}}}else{if(e.dataType=="date"){this.style+='\n\t\t\t<NumberFormat ss:Format="Short Date"/>'}}},closeStyle:function(){this.style+="\n\t\t</Style>"},toString:function(){var e=this.style;this.style="";return e}};this.beginFile=function(){E={};v=0;z='<?xml version="1.0"?>\n\t<?mso-application progid="Excel.Sheet"?> \n\t<Workbook xmlns="urn:schemas-microsoft-com:office:spreadsheet" \n\txmlns:o="urn:schemas-microsoft-com:office:office" \n\txmlns:x="urn:schemas-microsoft-com:office:excel" \n\txmlns:ss="urn:schemas-microsoft-com:office:spreadsheet" \n\txmlns:html="http://www.w3.org/TR/REC-html40"> \n\t<DocumentProperties xmlns="urn:schemas-microsoft-com:office:office"> \n\t<Version>12.00</Version> \n\t</DocumentProperties> \n\t<ExcelWorkbook xmlns="urn:schemas-microsoft-com:office:excel"> \n\t<WindowHeight>8130</WindowHeight> \n\t<WindowWidth>15135</WindowWidth> \n\t<WindowTopX>120</WindowTopX> \n\t<WindowTopY>45</WindowTopY> \n\t<ProtectStructure>False</ProtectStructure> \n\t<ProtectWindows>False</ProtectWindows> \n\t</ExcelWorkbook> \n\t<Styles>'};this.beginHeader=function(){t='\n\t<Worksheet ss:Name="Sheet1">\n\t\t<Table>';D=[];w=[]};this.appendHeaderCell=function(f,e,h){var l=f.width!=undefined?f.width:f.text.length*10;t+='\n\t\t\t<Column ss:Width="'+l+'"/>';D.push(f);w.push(h)};this.endHeader=function(f){if(f){this.beginRow();for(var e=0;e<D.length;e+=1){if(w[e].disabled){continue}A.call(this,D[e]["text"],null,w[e])}this.endRow()}};this.beginBody=function(){};this.beginRow=function(e){if(e!=undefined){t+="\n\t\t\t";for(var f=0;f<e;f++){t+="\t"}t+="<Row>";return}t+="\n\t\t\t<Row>"};this.beginRows=function(e){t+="\n\t\t\t\t<Rows>"};this.appendBodyCell=function(f,l,h,e){A.call(this,f,l,h,e)};this.endRow=function(e){if(e!=undefined){t+="\n\t\t\t";for(var f=0;f<e;f++){t+="\t"}t+="</Row>";return}t+="\n\t\t\t</Row>"};this.endRows=function(e){if(e!=undefined){t+="\n\t\t\t";for(var f=0;f<e;f++){t+="\t"}t+="</Rows>";return}};this.endBody=function(){t+="\n\t\t</Table>"};this.endFile=function(){t+="\n\t</Worksheet>\n</Workbook>";z+="\n\t</Styles>"};this.getFile=function(){return z+t};function A(l,e,n,f){var o="String";var h=this.getFormat(e);if(l!=null&&l.toString().substring(0,3)=="_AG"){l=l.toString().substring(3);o="String"}else{if(h.type=="date"){l=this.formatData(l,h.type,h.formatString,h.localization);if(l===null||l===""){l="";o="String"}}if(h.type=="string"){if(l===null||l===undefined){l=""}else{if(l.toString().indexOf("&")>=0){l=l.toString().replace(/&/g,"&amp;")}if(l.toString().indexOf(">")>=0){l=l.toString().replace(/>/g,"&gt;")}if(l.toString().indexOf("<")>=0){l=l.toString().replace(/</g,"&lt;")}if(l.toString().indexOf('"')>=0){l=l.toString().replace(/"/g,"&quot;")}if(l.toString().indexOf("'")>=0){l=l.toString().replace(/'/g,"&apos;")}}}if(n.dataType=="number"||n.dataType=="float"||n.dataType=="int"||n.dataType=="integer"){o="Number";l=parseFloat(l);if(l===null||isNaN(l)||l===""){l="";o="String"}if(l&&o!="String"&&l!=""){if(e&&e.formatString&&e.formatString.indexOf("p")>=0){l=l/100}}n.currencysymbol=e.localization.currencysymbol}}var F=B(n);if(n.merge){t+='\n\t\t\t\t<Cell ss:MergeAcross="'+n.merge+'" ss:StyleID="'+F+'"><Data ss:Type="'+o+'">'+l+"</Data></Cell>"}else{t+='\n\t\t\t\t<Cell ss:StyleID="'+F+'"><Data ss:Type="'+o+'">'+l+"</Data></Cell>"}}function q(){v+=1;return"xls-style-"+v}function u(e){for(var f in E){if(a(e,E[f])&&a(E[f],e)){return f}}return undefined}function a(e,l){var f=true;for(var h in e){if(e[h]!==l[h]){f=false}}return f}function C(e,f){s.startStyle(e);s.buildAlignment(f);s.buildBorder(f);s.buildFont(f);s.buildInterior(f);s.buildFormat(f);s.closeStyle();z+=s.toString()}function B(f){if(!f){return""}var e=u(f);if(typeof e==="undefined"){e=q();E[e]=f;C(e,f)}return e}};d.prototype=new c.jqx.dataAdapter.DataExportModuleBase();c.jqx.dataAdapter.ArrayExporter.extend("xls",new d())})(jqxBaseFramework);(function(c){var d=function(){var a,h,f;this.beginFile=function(){a='<?xml version="1.0" encoding="UTF-8" ?>';a+="\n<table>"};this.beginHeader=function(){h=[]};this.appendHeaderCell=function(l,e){h.push(e)};this.endHeader=function(){};this.beginBody=function(e,l){};this.beginRow=function(e){if(e!=undefined){if(this.hierarchy){a+="\n\t";for(var l=0;l<e;l++){a+="\t\t"}a+="<row>";f=0;return}}a+="\n\t<row>";f=0};this.beginRows=function(e){if(e!=undefined){a+="\n\t\t";for(var l=0;l<e;l++){a+="\t\t"}a+="<rows>";f=0;return}a+="\n\t\t<rows>"};this.appendBodyCell=function(s,w,u,e,t,o){var q=this.getFormat(w);s=this.formatData(s,q.type,q.formatString,q.localization);if(q.type=="string"){if(s.toString().indexOf("&")>=0){s=s.toString().replace(/&/g,"&amp;")}if(s.toString().indexOf(">")>=0){s=s.toString().replace(/>/g,"&gt;")}if(s.toString().indexOf("<")>=0){s=s.toString().replace(/</g,"&lt;")}if(s.toString().indexOf('"')>=0){s=s.toString().replace(/"/g,"&quot;")}if(s.toString().indexOf("'")>=0){s=s.toString().replace(/'/g,"&apos;")}}if(e.level!=undefined){if(this.hierarchy){a+="\n\t\t";for(var v=0;v<e.level;v++){a+="\t\t"}if(o===undefined){a+="<"+h[f]+">"+s+"</"+h[f]+">"}else{a+="<"+o+">"+s+"</"+o+">"}}else{if(o!=undefined){a+="\n\t\t<"+o+">"+s+"</"+o+">"}else{a+="\n\t\t<"+h[f]+">"+s+"</"+h[f]+">"}}}else{a+="\n\t\t<"+h[f]+">"+s+"</"+h[f]+">"}f++};this.endRow=function(e){if(e!=undefined){if(this.hierarchy){a+="\n\t";for(var l=0;l<e;l++){a+="\t\t"}a+="</row>";f=0;return}}a+="\n\t</row>";f=0};this.endRows=function(e){if(e!=undefined){a+="\n\t\t";for(var l=0;l<e;l++){a+="\t\t"}a+="</rows>";f=0;return}a+="\n\t\t</rows>"};this.endBody=function(){};this.endFile=function(){a+="\n</table>"};this.getFile=function(){return a}};d.prototype=new c.jqx.dataAdapter.DataExportModuleBase();c.jqx.dataAdapter.ArrayExporter.extend("xml",new d())})(jqxBaseFramework);(function(A){var s=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,o={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function D(a){return'"'+a.replace(s,function(d){var c=o[d];return typeof c==="string"?c:"\\u"+("0000"+d.charCodeAt(0).toString(16)).slice(-4)})+'"'}function C(a){return a<10?"0"+a:a}function z(a){var c;if(isFinite(a.valueOf())){c=a.getUTCFullYear()+"-"+C(a.getUTCMonth()+1)+"-"+C(a.getUTCDate())+"T"+C(a.getUTCHours())+":"+C(a.getUTCMinutes())+":"+C(a.getUTCSeconds())+'Z"'}else{c="null"}return c}function v(a){var e=a.length,d=[],c;for(c=0;c<e;c++){d.push(u(c,a)||"null")}return"["+d.join(",")+"]"}function n(a){var d=[],c,e;for(c in a){if(Object.prototype.hasOwnProperty.call(a,c)){e=u(c,a);if(e){d.push(D(c)+":"+e)}}}return"{"+d.join(",")+"}"}function t(a){switch(Object.prototype.toString.call(a)){case"[object Date]":return z(a);case"[object Array]":return v(a)}return n(a)}function q(a,c){switch(c){case"string":return D(a);case"number":case"float":case"integer":case"int":return isFinite(a)?a:"null";case"boolean":return a}return"null"}function u(d,e){var a=e[d],c=typeof a;if(a&&typeof a==="object"&&typeof a.toJSON==="function"){a=a.toJSON(d);c=typeof a}if(/(number|float|int|integer|string|boolean)/.test(c)||(!a&&c==="object")){return q(a,c)}else{return t(a)}}function w(a){if(window.JSON&&typeof window.JSON.stringify==="function"){return window.JSON.stringify(a)}return u("",{"":a})}var B=function(){var d=this;this.prepareData=function(F,l){if(l){var E=d.getFormat(l);F=d.formatData(F,E.type,E.formatString,E.localization)}return F};var h,e,c,f=[],a=0;this.beginFile=function(){e=[]};this.beginHeader=function(){};this.appendHeaderCell=function(l){};this.endHeader=function(){};this.beginBody=function(l,E){};this.beginRow=function(){if(hierarchy){f[a]={}}else{c={}}};this.beginRows=function(){f[a].rows=[];a++;f[a]={}};this.endRows=function(){a--};this.appendBodyCell=function(E,F){var l=this.prepareData(E,F);if(hierarchy){f[a][F.text]=l}else{c[F.text]=l}};this.endRow=function(){if(hierarchy){if(a==0){e.push(f[a])}else{f[a-1].rows.push(f[a])}}else{e.push(c)}};this.endBody=function(){};this.endFile=function(){h=w(e)};this.getFile=function(){return h}};B.prototype=new A.jqx.dataAdapter.DataExportModuleBase();A.jqx.dataAdapter.ArrayExporter.extend("json",new B())})(jqxBaseFramework);var pdfDataExport=(function(){if(typeof btoa==="undefined"){window.btoa=function(z){var D="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",K=D.split(""),E,F,G,a,c,v,w,J,A=0,I=0,B="",C=[],H;do{E=z.charCodeAt(A++);F=z.charCodeAt(A++);G=z.charCodeAt(A++);J=E<<16|F<<8|G;a=J>>18&63;c=J>>12&63;v=J>>6&63;w=J&63;C[I++]=K[a]+K[c]+K[v]+K[w]}while(A<z.length);B=C.join("");H=z.length%3;return(H?B.slice(0,H-3):B)+"===".slice(H||3)}}if(typeof atob==="undefined"){window.atob=function(w){var C="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",D,E,F,s,t,u,v,c,z=0,a=0,B="",A=[];if(!w){return w}w+="";do{s=C.indexOf(w.charAt(z++));t=C.indexOf(w.charAt(z++));u=C.indexOf(w.charAt(z++));v=C.indexOf(w.charAt(z++));c=s<<18|t<<12|u<<6|v;D=c>>16&255;E=c>>8&255;F=c&255;if(u===64){A[a++]=String.fromCharCode(D)}else{if(v===64){A[a++]=String.fromCharCode(D,E)}else{A[a++]=String.fromCharCode(D,E,F)}}}while(z<w.length);B=A.join("");return B}}var f=typeof Object.keys==="function"?function(a){return Object.keys(a).length}:function(h){var c=0,a;for(a in h){if(h.hasOwnProperty(a)){c++}}return c},e=function(a){this.topics={};this.context=a;this.publish=function(u,q){if(this.topics[u]){var t=this.topics[u],c=[],l,v,z,w,s=function(){};q=Array.prototype.slice.call(arguments,1);for(v=0,z=t.length;v<z;v++){w=t[v];l=w[0];if(w[1]){w[0]=s;c.push(v)}l.apply(this.context,q)}for(v=0,z=c.length;v<z;v++){t.splice(c[v],1)}}};this.subscribe=function(l,c,h){if(!this.topics[l]){this.topics[l]=[[c,h]]}else{this.topics[l].push([c,h])}return{topic:l,callback:c}};this.unsubscribe=function(c){if(this.topics[c.topic]){var n=this.topics[c.topic],l,o;for(l=0,o=n.length;l<o;l++){if(n[l][0]===c.callback){n.splice(l,1)}}}}};function d(a3,a4,aN,ax){if(typeof a3==="undefined"){a3="p"}else{a3=a3.toString().toLowerCase()}if(typeof a4==="undefined"){a4="mm"}if(typeof aN==="undefined"){aN="a4"}if(typeof ax==="undefined"&&typeof zpipe==="undefined"){ax=false}var aE=aN.toString().toLowerCase(),aM="0.9.0rc2",bi=[],a1=0,az=ax,ay="1.3",aL={a3:[841.89,1190.55],a4:[595.28,841.89],a5:[420.94,595.28],letter:[612,792],legal:[612,1008]},a6="0 g",aX="0 G",bs=0,bt=[],bo=2,bg=false,a5=[],aY={},aF={},aW=16,bv,bc=0.200025,a9,a7,aV,aJ={title:"",subject:"",author:"",keywords:"",creator:""},aD=0,aA=0,aH={},aZ=new e(aH),a2,aI,bm=function(h){return h.toFixed(2)},bn=function(h){return h.toFixed(3)},bb=function(l){var h=(l).toFixed(0);if(l<10){return"0"+h}else{return h}},bk=function(l){var h=(l).toFixed(0);if(h.length<10){return new Array(11-h.length).join("0")+h}else{return h}},ba=function(h){if(bg){bt[bs].push(h)}else{bi.push(h);a1+=h.length+1}},bf=function(){bo++;a5[bo]=a1;ba(bo+" 0 obj");return bo},aR=function(h){ba("stream");ba(h);ba("endstream")},aQ,aB,aK,aT,a=function(){aQ=a7*aV;aB=a9*aV;var l,n,h,t,s,o,q;for(l=1;l<=bs;l++){bf();ba("<</Type /Page");ba("/Parent 1 0 R");ba("/Resources 2 0 R");ba("/Contents "+(bo+1)+" 0 R>>");ba("endobj");n=bt[l].join("\n");bf();if(az){h=[];for(s=0;s<n.length;++s){h[s]=n.charCodeAt(s)}q=adler32cs.from(n);o=new Deflater(6);o.append(new Uint8Array(h));n=o.flush();h=[new Uint8Array([120,156]),new Uint8Array(n),new Uint8Array([q&255,(q>>8)&255,(q>>16)&255,(q>>24)&255])];n="";for(s in h){if(h.hasOwnProperty(s)){n+=String.fromCharCode.apply(null,h[s])}}ba("<</Length "+n.length+" /Filter [/FlateDecode]>>")}else{ba("<</Length "+n.length+">>")}aR(n);ba("endobj")}a5[1]=a1;ba("1 0 obj");ba("<</Type /Pages");aK="/Kids [";for(s=0;s<bs;s++){aK+=(3+2*s)+" 0 R "}ba(aK+"]");ba("/Count "+bs);ba("/MediaBox [0 0 "+bm(aQ)+" "+bm(aB)+"]");ba(">>");ba("endobj")},av=function(h){h.objectNumber=bf();ba("<</BaseFont/"+h.PostScriptName+"/Type/Font");if(typeof h.encoding==="string"){ba("/Encoding/"+h.encoding)}ba("/Subtype/Type1>>");ba("endobj")},aS=function(){var h;for(h in aY){if(aY.hasOwnProperty(h)){av(aY[h])}}},aP=function(){aZ.publish("putXobjectDict")},be=function(){ba("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]");ba("/Font <<");var h;for(h in aY){if(aY.hasOwnProperty(h)){ba("/"+h+" "+aY[h].objectNumber+" 0 R")}}ba(">>");ba("/XObject <<");aP();ba(">>")},br=function(){aS();aZ.publish("putResources");a5[2]=a1;ba("2 0 obj");ba("<<");be();ba(">>");ba("endobj");aZ.publish("postPutResources")},bp=function(o,h,n){var l;if(aF[h]===l){aF[h]={}}aF[h][n]=o},aC={},bh=function(l,q,n,s){var o="F"+(f(aY)+1).toString(10),h=aY[o]={id:o,PostScriptName:l,fontName:q,fontStyle:n,encoding:s,metadata:{}};bp(o,q,n);aZ.publish("addFont",h);return o},bu=function(){var v="helvetica",t="times",q="courier",u="normal",w="bold",z="italic",s="bolditalic",o="StandardEncoding",h=[["Helvetica",v,u],["Helvetica-Bold",v,w],["Helvetica-Oblique",v,z],["Helvetica-BoldOblique",v,s],["Courier",q,u],["Courier-Bold",q,w],["Courier-Oblique",q,z],["Courier-BoldOblique",q,s],["Times-Roman",t,u],["Times-Bold",t,w],["Times-Italic",t,z],["Times-BoldItalic",t,s]],A,n,B,l;for(A=0,n=h.length;A<n;A++){B=bh(h[A][0],h[A][1],h[A][2],o);l=h[A][0].split("-");bp(B,l[0],l[1]||"")}aZ.publish("addFonts",{fonts:aY,dictionary:aF})},bj=function(q,n){var w,A,h,l,u,v,o,s,t,z;if(n===h){n={}}l=n.sourceEncoding?l:"Unicode";v=n.outputEncoding;if((n.autoencode||v)&&aY[bv].metadata&&aY[bv].metadata[l]&&aY[bv].metadata[l].encoding){u=aY[bv].metadata[l].encoding;if(!v&&aY[bv].encoding){v=aY[bv].encoding}if(!v&&u.codePages){v=u.codePages[0]}if(typeof v==="string"){v=u[v]}if(v){s=false;o=[];for(w=0,A=q.length;w<A;w++){t=v[q.charCodeAt(w)];if(t){o.push(String.fromCharCode(t))}else{o.push(q[w])}if(o[w].charCodeAt(0)>>8){s=true}}q=o.join("")}}w=q.length;while(s===h&&w!==0){if(q.charCodeAt(w-1)>>8){s=true}w--}if(!s){return q}else{o=n.noBOM?[]:[254,255];for(w=0,A=q.length;w<A;w++){t=q.charCodeAt(w);z=t>>8;if(z>>8){throw new Error("Character at position "+w.toString(10)+" of string '"+q+"' exceeds 16bits. Cannot be encoded into UCS-2 BE")}o.push(z);o.push(t-(z<<8))}return String.fromCharCode.apply(h,o)}},c=function(h,l){return bj(h,l).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},au=function(){ba("/Producer (pdfDataExport "+aM+")");if(aJ.title){ba("/Title ("+c(aJ.title)+")")}if(aJ.subject){ba("/Subject ("+c(aJ.subject)+")")}if(aJ.author){ba("/Author ("+c(aJ.author)+")")}if(aJ.keywords){ba("/Keywords ("+c(aJ.keywords)+")")}if(aJ.creator){ba("/Creator ("+c(aJ.creator)+")")}var h=new Date();ba("/CreationDate (D:"+[h.getFullYear(),bb(h.getMonth()+1),bb(h.getDate()),bb(h.getHours()),bb(h.getMinutes()),bb(h.getSeconds())].join("")+")")},aw=function(){ba("/Type /Catalog");ba("/Pages 1 0 R");ba("/OpenAction [3 0 R /FitH null]");ba("/PageLayout /OneColumn");aZ.publish("putCatalog")},bq=function(){ba("/Size "+(bo+1));ba("/Root "+bo+" 0 R");ba("/Info "+(bo-1)+" 0 R")},aG=function(){bs++;bg=true;bt[bs]=[]},a0=function(){aG();ba(bm(bc*aV)+" w");ba(aX);if(aD!==0){ba(aD.toString(10)+" J")}if(aA!==0){ba(aA.toString(10)+" j")}aZ.publish("addPage",{pageNumber:bs})},bd=function(q,n){var l,h;if(q===h){q=aY[bv].fontName}if(n===h){n=aY[bv].fontStyle}try{l=aF[q][n]}catch(o){l=h}if(!l){throw new Error("Unable to look up font label for font '"+q+"', '"+n+"'. Refer to getFontList() for available fonts.")}return l},bl=function(){bg=false;bi=[];a5=[];ba("%PDF-"+ay);a();br();bf();ba("<<");au();ba(">>");ba("endobj");bf();ba("<<");aw();ba(">>");ba("endobj");var l=a1,h;ba("xref");ba("0 "+(bo+1));ba("0000000000 65535 f ");for(h=1;h<=bo;h++){ba(bk(a5[h])+" 00000 n ")}ba("trailer");ba("<<");bq();ba(">>");ba("startxref");ba(l);ba("%%EOF");bg=true;return bi.join("\n")},a8=function(l){var h="S";if(l==="F"){h="f"}else{if(l==="FD"||l==="DF"){h="B"}}return h},aU=function(q,u){var s,l,n,o,t,h;switch(q){case s:return bl();case"save":if(navigator.getUserMedia){if(window.URL===undefined){return aH.output("dataurlnewwindow")}else{if(window.URL.createObjectURL===undefined){return aH.output("dataurlnewwindow")}}}l=bl();n=l.length;o=new Uint8Array(new ArrayBuffer(n));for(t=0;t<n;t++){o[t]=l.charCodeAt(t)}h=new Blob([o],{type:"application/pdf"});saveAs(h,u);break;case"datauristring":case"dataurlstring":return"data:application/pdf;base64,"+btoa(bl());case"datauri":case"dataurl":document.location.href="data:application/pdf;base64,"+btoa(bl());break;case"dataurlnewwindow":window.open("data:application/pdf;base64,"+btoa(bl()));break;default:throw new Error('Output type "'+q+'" is not supported.')}};if(a4==="pt"){aV=1}else{if(a4==="mm"){aV=72/25.4}else{if(a4==="cm"){aV=72/2.54}else{if(a4==="in"){aV=72}else{throw ("Invalid unit: "+a4)}}}}if(aL.hasOwnProperty(aE)){a9=aL[aE][1]/aV;a7=aL[aE][0]/aV}else{try{a9=aN[1];a7=aN[0]}catch(aO){throw ("Invalid format: "+aN)}}if(a3==="p"||a3==="portrait"){a3="p";if(a7>a9){a2=a7;a7=a9;a9=a2}}else{if(a3==="l"||a3==="landscape"){a3="l";if(a9>a7){a2=a7;a7=a9;a9=a2}}else{throw ("Invalid orientation: "+a3)}}aH.internal={pdfEscape:c,getStyle:a8,getFont:function(){return aY[bd.apply(aH,arguments)]},getFontSize:function(){return aW},btoa:btoa,write:function(l,n,o,h){ba(arguments.length===1?l:Array.prototype.join.call(arguments," "))},getCoordinateString:function(h){return bm(h*aV)},getVerticalCoordinateString:function(h){return bm((a9-h)*aV)},collections:{},newObject:bf,putStream:aR,events:aZ,scaleFactor:aV,pageSize:{width:a7,height:a9},output:function(h,l){return aU(h,l)}};aH.addPage=function(){a0();return this};aH.text=function(q,t,v,o){var n,z,h,u,s,w,l;if(typeof q==="number"){z=v;h=q;u=t;q=z;t=h;v=u}if(typeof q==="string"&&q.match(/[\n\r]/)){q=q.split(/\r\n|\r|\n/g)}if(typeof o==="undefined"){o={noBOM:true,autoencode:true}}else{if(o.noBOM===n){o.noBOM=true}if(o.autoencode===n){o.autoencode=true}}if(typeof q==="string"){w=c(q,o)}else{if(q instanceof Array){s=q.concat();for(l=s.length-1;l!==-1;l--){s[l]=c(s[l],o)}w=s.join(") Tj\nT* (")}else{throw new Error('Type of text must be string or Array. "'+q+'" is not recognized.')}}ba("BT\n/"+bv+" "+aW+" Tf\n"+aW+" TL\n"+a6+"\n"+bm(t*aV)+" "+bm((a9-v)*aV)+" Td\n("+w+") Tj\nET");return this};aH.line=function(h,n,l,o){ba(bm(h*aV)+" "+bm((a9-n)*aV)+" m "+bm(l*aV)+" "+bm((a9-o)*aV)+" l S");return this};aH.lines=function(I,E,F,h,t){var w,n,H,G,o,q,A,D,l,s,u,v,z,C,B;if(typeof I==="number"){n=F;H=I;G=E;I=n;E=H;F=G}t=a8(t);h=h===w?[1,1]:h;ba(bn(E*aV)+" "+bn((a9-F)*aV)+" m ");o=h[0];q=h[1];D=I.length;C=E;B=F;for(A=0;A<D;A++){l=I[A];if(l.length===2){C=l[0]*o+C;B=l[1]*q+B;ba(bn(C*aV)+" "+bn((a9-B)*aV)+" l")}else{s=l[0]*o+C;u=l[1]*q+B;v=l[2]*o+C;z=l[3]*q+B;C=l[4]*o+C;B=l[5]*q+B;ba(bn(s*aV)+" "+bn((a9-u)*aV)+" "+bn(v*aV)+" "+bn((a9-z)*aV)+" "+bn(C*aV)+" "+bn((a9-B)*aV)+" c")}}ba(t);return this};aH.rect=function(l,n,h,q,s){var o=a8(s);ba([bm(l*aV),bm((a9-n)*aV),bm(h*aV),bm(-q*aV),"re",o].join(" "));return this};aH.triangle=function(s,n,h,q,l,t,o){this.lines([[h-s,q-n],[l-h,t-q],[s-l,n-t]],s,n,[1,1],o);return this};aH.roundedRect=function(h,n,u,s,o,q,t){var l=4/3*(Math.SQRT2-1);this.lines([[(u-2*o),0],[(o*l),0,o,q-(q*l),o,q],[0,(s-2*q)],[0,(q*l),-(o*l),q,-o,q],[(-u+2*o),0],[-(o*l),0,-o,-(q*l),-o,-q],[0,(-s+2*q)],[0,-(q*l),(o*l),-q,o,-q]],h+o,n,[1,1],t);return this};aH.ellipse=function(l,n,q,s,h){var o=a8(h),t=4/3*(Math.SQRT2-1)*q,u=4/3*(Math.SQRT2-1)*s;ba([bm((l+q)*aV),bm((a9-n)*aV),"m",bm((l+q)*aV),bm((a9-(n-u))*aV),bm((l+t)*aV),bm((a9-(n-s))*aV),bm(l*aV),bm((a9-(n-s))*aV),"c"].join(" "));ba([bm((l-t)*aV),bm((a9-(n-s))*aV),bm((l-q)*aV),bm((a9-(n-u))*aV),bm((l-q)*aV),bm((a9-n)*aV),"c"].join(" "));ba([bm((l-q)*aV),bm((a9-(n+u))*aV),bm((l-t)*aV),bm((a9-(n+s))*aV),bm(l*aV),bm((a9-(n+s))*aV),"c"].join(" "));ba([bm((l+t)*aV),bm((a9-(n+s))*aV),bm((l+q)*aV),bm((a9-(n+u))*aV),bm((l+q)*aV),bm((a9-n)*aV),"c",o].join(" "));return this};aH.circle=function(l,n,o,h){return this.ellipse(l,n,o,o,h)};aH.setProperties=function(l){var h;for(h in aJ){if(aJ.hasOwnProperty(h)&&l[h]){aJ[h]=l[h]}}return this};aH.setFontSize=function(h){aW=h;return this};aH.setFont=function(l,h){bv=bd(l,h);return this};aH.setFontStyle=aH.setFontType=function(h){var l;bv=bd(l,h);return this};aH.getFontList=function(){var o={},h,n,l;for(h in aF){if(aF.hasOwnProperty(h)){o[h]=l=[];for(n in aF[h]){if(aF[h].hasOwnProperty(n)){l.push(n)}}}}return o};aH.setLineWidth=function(h){ba((h*aV).toFixed(2)+" w");return this};aH.setDrawColor=function(n,o,q,l){var h;if(o===undefined||(l===undefined&&n===o===q)){if(typeof n==="string"){h=n+" G"}else{h=bm(n/255)+" G"}}else{if(l===undefined){if(typeof n==="string"){h=[n,o,q,"RG"].join(" ")}else{h=[bm(n/255),bm(o/255),bm(q/255),"RG"].join(" ")}}else{if(typeof n==="string"){h=[n,o,q,l,"K"].join(" ")}else{h=[bm(n),bm(o),bm(q),bm(l),"K"].join(" ")}}}ba(h);return this};aH.setFillColor=function(n,o,q,l){var h;if(o===undefined||(l===undefined&&n===o===q)){if(typeof n==="string"){h=n+" g"}else{h=bm(n/255)+" g"}}else{if(l===undefined){if(typeof n==="string"){h=[n,o,q,"rg"].join(" ")}else{h=[bm(n/255),bm(o/255),bm(q/255),"rg"].join(" ")}}else{if(typeof n==="string"){h=[n,o,q,l,"k"].join(" ")}else{h=[bm(n),bm(o),bm(q),bm(l),"k"].join(" ")}}}ba(h);return this};aH.setTextColor=function(n,h,l){if((n===0&&h===0&&l===0)||(typeof h==="undefined")){a6=bn(n/255)+" g"}else{a6=[bn(n/255),bn(h/255),bn(l/255),"rg"].join(" ")}return this};aH.CapJoinStyles={0:0,butt:0,but:0,bevel:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,milter:2};aH.setLineCap=function(l){var h=this.CapJoinStyles[l];if(h===undefined){throw new Error("Line cap style of '"+l+"' is not recognized. See or extend .CapJoinStyles property for valid styles")}aD=h;ba(h.toString(10)+" J");return this};aH.setLineJoin=function(l){var h=this.CapJoinStyles[l];if(h===undefined){throw new Error("Line join style of '"+l+"' is not recognized. See or extend .CapJoinStyles property for valid styles")}aA=h;ba(h.toString(10)+" j");return this};aH.output=aU;aH.save=function(h){aH.output("save",h)};for(aI in d.API){if(d.API.hasOwnProperty(aI)){if(aI==="events"&&d.API.events.length){(function(o,l){var n,q,h;for(h=l.length-1;h!==-1;h--){n=l[h][0];q=l[h][1];o.subscribe.apply(o,[n].concat(typeof q==="function"?[q]:q))}}(aZ,d.API.events))}else{aH[aI]=d.API[aI]}}}bu();bv="F1";a0();aZ.publish("initialized");return aH}d.API={events:[]};return d}());(function(z){var G=0,t=0,H,q,A,F={x:undefined,y:undefined,w:undefined,h:undefined,ln:undefined},C=1,D=false,E=function(f,a,e,d,c){F={x:f,y:a,w:e,h:d,ln:c}},v=function(){return F},w=function(a){G=a},u=function(){return G},s=function(a){t=a},B=function(a){return t};z.getTextDimensions=function(e){H=this.internal.getFont().fontName;q=this.internal.getFontSize();A=this.internal.getFont().fontStyle;var a=0.264583*72/25.4,d,c;c=document.createElement("font");c.id="pdfDataExportCell";c.style.fontStyle=A;c.style.fontName=H;c.style.fontSize=q+"pt";c.innerHTML=e;document.body.appendChild(c);d={w:(c.offsetWidth+1)*a,h:(c.offsetHeight+1)*a};document.body.removeChild(c);return d};z.cellAddPage=function(){this.addPage();E(undefined,undefined,undefined,undefined,undefined);D=true;C+=1;s(1)};z.cellInitialize=function(){G=0;F={x:undefined,y:undefined,w:undefined,h:undefined,ln:undefined};C=1;D=false;s(0)};z.cell=function(h,l,f,a,d,n){this.lnMod=this.lnMod===undefined?0:this.lnMod;if(this.printingHeaderRow!==true&&this.lnMod!==0){n=n+this.lnMod}if((((n*a)+l+(a*2))/C)>=this.internal.pageSize.height&&C===1&&!D){this.cellAddPage();if(this.printHeaders&&this.tableHeaderRow){this.printHeaderRow(n);this.lnMod+=1;n+=1}if(u()===0){w(Math.round((this.internal.pageSize.height-(a*2))/a))}}else{if(D&&v().ln!==n&&B()===u()){this.cellAddPage();if(this.printHeaders&&this.tableHeaderRow){this.printHeaderRow(n);this.lnMod+=1;n+=1}}}var e=v(),c=this.getTextDimensions(d),o=1;if(e.x!==undefined&&e.ln===n){h=e.x+e.w}if(e.y!==undefined&&e.y===l){l=e.y}if(e.h!==undefined&&e.h===a){a=e.h}if(e.ln!==undefined&&e.ln===n){n=e.ln;o=0}if(D){l=a*(B()+o)}else{l=(l+(a*Math.abs(u()*C-n-u())))}this.rect(h,l,f,a);this.text(d,h+3,l+a-3);s(B()+o);E(h,l,f,a,n);return this};z.getKeys=(typeof Object.keys==="function")?function(a){if(!a){return[]}return Object.keys(a)}:function(d){var c=[],a;for(a in d){if(d.hasOwnProperty(a)){c.push(a)}}return c};z.arrayMax=function(a,c){var h=a[0],f,d,e;for(f=0,d=a.length;f<d;f+=1){e=a[f];if(c){if(c(h,e)===-1){h=e}}else{if(e>h){h=e}}}return h};z.table=function(c,R,e){var o=[],V=[],P,a,T,f,N,d,n={},U={},L,O,l=[],Q,K=[],M,S,h;this.lnMod=0;if(e){a=e.autoSize||false;T=this.printHeaders=e.printHeaders||true;f=e.autoStretch||true}if(!c){throw"No data for PDF table"}if(R===undefined||(R===null)){o=this.getKeys(c[0])}else{if(R[0]&&(typeof R[0]!=="string")){for(N=0,d=R.length;N<d;N+=1){P=R[N];o.push(P.name);V.push(P.prompt)}}else{o=R}}if(e.autoSize){h=function(I){return I[P]};for(N=0,d=o.length;N<d;N+=1){P=o[N];n[P]=c.map(h);l.push(this.getTextDimensions(V[N]||P).w);O=n[P];for(Q=0,d=O.length;Q<d;Q+=1){L=O[Q];l.push(this.getTextDimensions(L).w)}U[P]=z.arrayMax(l)}}if(e.printHeaders){for(N=0,d=o.length;N<d;N+=1){P=o[N];K.push([10,10,U[P],25,String(V.length?V[N]:P)])}this.setTableHeaderRow(K);this.printHeaderRow(1)}for(N=0,d=c.length;N<d;N+=1){M=c[N];for(Q=0,S=o.length;Q<S;Q+=1){P=o[Q];this.cell(10,10,U[P],25,String(M[P]),N+2)}}return this};z.setTableHeaderRow=function(a){this.tableHeaderRow=a};z.printHeaderRow=function(f){if(!this.tableHeaderRow){throw"Property tableHeaderRow does not exist."}var e,c,d,a;this.printingHeaderRow=true;for(d=0,a=this.tableHeaderRow.length;d<a;d+=1){e=this.tableHeaderRow[d];c=[].concat(e);this.cell.apply(this,c.concat(f))}this.printingHeaderRow=false}}(pdfDataExport.API));(function(s){var h=s.getCharWidthsArray=function(E,C){if(!C){C={}}var A=C.widths?C.widths:this.internal.getFont().metadata.Unicode.widths,a=A.fof?A.fof:1,f=C.kerning?C.kerning:this.internal.getFont().metadata.Unicode.kerning,d=f.fof?f.fof:1;var v,z,e,w,c=0,D=A[0]||a,B=[];for(v=0,z=E.length;v<z;v++){e=E.charCodeAt(v);B.push((A[e]||D)/a+(f[e]&&f[e][c]||0)/d);c=e}return B};var o=function(a){var c=a.length,d=0;while(c){c--;d+=a[c]}return d};var l=s.getStringUnitWidth=function(a,c){return o(h.call(this,a,c))};var q=function(w,e,v,u){var a=[];var f=0,t=w.length,c=0;while(f!==t&&c+e[f]<v){c+=e[f];f++}a.push(w.slice(0,f));var d=f;c=0;while(f!==t){if(c+e[f]>u){a.push(w.slice(d,f));c=0;d=f}c+=e[f];f++}if(d!==f){a.push(w.slice(d,f))}return a};var n=function(J,A,G){if(!G){G={}}var I=h(" ",G)[0];var a=J.split(" ");var F=[],E=[F],C=G.textIndent||0,H=0,d=0,D,c;var e,z,f;for(e=0,z=a.length;e<z;e++){D=a[e];c=h(D,G);d=o(c);if(C+H+d>A){if(d>A){f=q(D,c,A-(C+H),A);F.push(f.shift());F=[f.pop()];while(f.length){E.push([f.shift()])}d=o(c.slice(D.length-F[0].length))}else{F=[D]}E.push(F);C=d;H=I}else{F.push(D);C+=H+d;H=I}}var B=[];for(e=0,z=E.length;e<z;e++){B.push(E[e].join(" "))}return B};s.splitTextToSize=function(c,t,a){if(!a){a={}}var w=a.fontSize||this.internal.getFontSize(),z=(function(A){var D={0:1},C={};if(!A.widths||!A.kerning){var B=this.internal.getFont(A.fontName,A.fontStyle),E="Unicode";if(B.metadata[E]){return{widths:B.metadata[E].widths||D,kerning:B.metadata[E].kerning||C}}}else{return{widths:A.widths,kerning:A.kerning}}return{widths:D,kerning:C}}).call(this,a);var d;if(c.match(/[\n\r]/)){d=c.split(/\r\n|\r|\n/g)}else{d=[c]}var v=1*this.internal.scaleFactor*t/w;z.textIndent=a.textIndent?a.textIndent*1*this.internal.scaleFactor/w:0;var e,f,u=[];for(e=0,f=d.length;e<f;e++){u=u.concat(n(d[e],v,z))}return u}})(pdfDataExport.API);(function(s){var q="addImage_";var n=function(a){var c,f;if(!a.charCodeAt(0)===255||!a.charCodeAt(1)===216||!a.charCodeAt(2)===255||!a.charCodeAt(3)===224||!a.charCodeAt(6)==="J".charCodeAt(0)||!a.charCodeAt(7)==="F".charCodeAt(0)||!a.charCodeAt(8)==="I".charCodeAt(0)||!a.charCodeAt(9)==="F".charCodeAt(0)||!a.charCodeAt(10)===0){throw new Error("getJpegSize requires a binary jpeg file")}var e=a.charCodeAt(4)*256+a.charCodeAt(5);var d=4,t=a.length;while(d<t){d+=e;if(a.charCodeAt(d)!==255){throw new Error("getJpegSize could not find the size of the image")}if(a.charCodeAt(d+1)===192){f=a.charCodeAt(d+5)*256+a.charCodeAt(d+6);c=a.charCodeAt(d+7)*256+a.charCodeAt(d+8);return[c,f]}else{d+=2;e=a.charCodeAt(d)*256+a.charCodeAt(d+1)}}},h=function(t){var a=this.internal.newObject(),f=this.internal.write,c=this.internal.putStream;t.n=a;f("<</Type /XObject");f("/Subtype /Image");f("/Width "+t.w);f("/Height "+t.h);if(t.cs==="Indexed"){f("/ColorSpace [/Indexed /DeviceRGB "+(t.pal.length/3-1)+" "+(a+1)+" 0 R]")}else{f("/ColorSpace /"+t.cs);if(t.cs==="DeviceCMYK"){f("/Decode [1 0 1 0 1 0 1 0]")}}f("/BitsPerComponent "+t.bpc);if("f" in t){f("/Filter /"+t.f)}if("dp" in t){f("/DecodeParms <<"+t.dp+">>")}if("trns" in t&&t.trns.constructor==Array){var d="";for(var e=0;e<t.trns.length;e++){d+=(t[d][e]+" "+t.trns[e]+" ");f("/Mask ["+d+"]")}}if("smask" in t){f("/SMask "+(a+1)+" 0 R")}f("/Length "+t.data.length+">>");c(t.data);f("endobj")},o=function(){var c=this.internal.collections[q+"images"];for(var a in c){h.call(this,c[a])}},l=function(){var e=this.internal.collections[q+"images"],d=this.internal.write,a;for(var c in e){a=e[c];d("/I"+a.i,a.n,"0","R")}};s.addImage=function(C,F,c,d,E,w){if(typeof C==="object"&&C.nodeType===1){var A=document.createElement("canvas");A.width=C.clientWidth;A.height=C.clientHeight;var D=A.getContext("2d");if(!D){throw ("addImage requires canvas to be supported by browser.")}D.drawImage(C,0,0,A.width,A.height);C=A.toDataURL("image/jpeg");F="JPEG"}if(F.toUpperCase()!=="JPEG"){throw new Error("addImage currently only supports format 'JPEG', not '"+F+"'")}var B,f=this.internal.collections[q+"images"],v=this.internal.getCoordinateString,e=this.internal.getVerticalCoordinateString;if(C.substring(0,23)==="data:image/jpeg;base64,"){C=atob(C.replace("data:image/jpeg;base64,",""))}if(f){B=Object.keys?Object.keys(f).length:(function(t){var G=0;for(var u in t){if(t.hasOwnProperty(u)){G++}}return G})(f)}else{B=0;this.internal.collections[q+"images"]=f={};this.internal.events.subscribe("putResources",o);this.internal.events.subscribe("putXobjectDict",l)}var a=n(C);var z={w:a[0],h:a[1],cs:"DeviceRGB",bpc:8,f:"DCTDecode",i:B,data:C};f[B]=z;if(!E&&!w){E=-96;w=-96}if(E<0){E=(-1)*z.w*72/E/this.internal.scaleFactor}if(w<0){w=(-1)*z.h*72/w/this.internal.scaleFactor}if(E===0){E=w*z.w/z.h}if(w===0){w=E*z.h/z.w}this.internal.write("q",v(E),"0 0",v(w),v(c),e(d+w),"cm /I"+z.i,"Do Q");return this}})(pdfDataExport.API);(function(h){var l=function(c){var H="0123456789abcdef",e="klmnopqrstuvwxyz",E={};for(var a=0;a<e.length;a++){E[e[a]]=H[a]}var d,A={},z=1,K,C=A,F=[],L,B="",J="",I,D=c.length-1,G;a=1;while(a!=D){G=c[a];a+=1;if(G=="'"){if(K){I=K.join("");K=d}else{K=[]}}else{if(K){K.push(G)}else{if(G=="{"){F.push([C,I]);C={};I=d}else{if(G=="}"){L=F.pop();L[0][L[1]]=C;I=d;C=L[0]}else{if(G=="-"){z=-1}else{if(I===d){if(E.hasOwnProperty(G)){B+=E[G];I=parseInt(B,16)*z;z=+1;B=""}else{B+=G}}else{if(E.hasOwnProperty(G)){J+=E[G];C[I]=parseInt(J,16)*z;z=+1;I=d;J=""}else{J+=G}}}}}}}}return A};var n={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},o={Unicode:{Courier:n,"Courier-Bold":n,"Courier-BoldOblique":n,"Courier-Oblique":n,Helvetica:n,"Helvetica-Bold":n,"Helvetica-BoldOblique":n,"Helvetica-Oblique":n,"Times-Roman":n,"Times-Bold":n,"Times-BoldItalic":n,"Times-Italic":n}},f={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};h.events.push(["addFonts",function(e){var t,s,q,c,d="Unicode",a;for(s in e.fonts){if(e.fonts.hasOwnProperty(s)){t=e.fonts[s];q=f[d][t.PostScriptName];if(q){if(t.metadata[d]){c=t.metadata[d]}else{c=t.metadata[d]={}}c.widths=q.widths;c.kerning=q.kerning}a=o[d][t.PostScriptName];if(a){if(t.metadata[d]){c=t.metadata[d]}else{c=t.metadata[d]={}}c.encoding=a;if(a.codePages&&a.codePages.length){t.encoding=a.codePages[0]}}}}}])})(pdfDataExport.API);var saveAs=saveAs||(navigator.msSaveBlob&&navigator.msSaveBlob.bind(navigator))||(function(E){var s=E.document,A=function(){return E.URL||E.webkitURL||E},H=E.URL||E.webkitURL||E,w=$("<a></a>")[0],F="download" in w,C=function(a){var c=s.createEvent("MouseEvents");c.initMouseEvent("click",true,false,E,0,0,0,0,0,false,false,false,false,0,null);return a.dispatchEvent(c)},v=E.webkitRequestFileSystem,u=E.requestFileSystem||v||E.mozRequestFileSystem,z=function(a){(E.setImmediate||E.setTimeout)(function(){throw a},0)},J="application/octet-stream",B=0,K=[],D=function(){var a=K.length;while(a--){var c=K[a];if(typeof c==="string"){H.revokeObjectURL(c)}else{c.remove()}}K.length=0},t=function(f,h,c){h=[].concat(h);var d=h.length;while(d--){var a=f["on"+h[d]];if(typeof a==="function"){try{a.call(f,c||f)}catch(e){z(e)}}}},G=function(M,q){var o=this,d=M.type,N=false,l,n,O=function(){var P=A().createObjectURL(M);K.push(P);return P},e=function(){t(o,"writestart progress write writeend".split(" "))},a=function(){if(N||!l){l=O(M)}if(n){n.location.href=l}o.readyState=o.DONE;e()},f=function(P){return function(){if(o.readyState!==o.DONE){return P.apply(this,arguments)}}},h={create:true,exclusive:false},c;o.readyState=o.INIT;if(!q){q="download"}if(F){l=O(M);w.href=l;w.download=q;if(C(w)){o.readyState=o.DONE;e();return}}if(E.chrome&&d&&d!==J){c=M.slice||M.webkitSlice;M=c.call(M,0,M.size,J);N=true}if(v&&q!=="download"){q+=".download"}if(d===J||v){n=E}else{n=E.open()}if(!u){a();return}B+=M.size;u(E.TEMPORARY,B,f(function(P){P.root.getDirectory("saved",h,f(function(R){var Q=function(){R.getFile(q,h,f(function(S){S.createWriter(f(function(T){T.onwriteend=function(U){n.location.href=S.toURL();K.push(S);o.readyState=o.DONE;t(o,"writeend",U)};T.onerror=function(){var U=T.error;if(U.code!==U.ABORT_ERR){a()}};"writestart progress write abort".split(" ").forEach(function(U){T["on"+U]=o["on"+U]});T.write(M);o.abort=function(){T.abort();o.readyState=o.DONE};o.readyState=o.WRITING}),a)}),a)};R.getFile(q,{create:false},f(function(S){S.remove();Q()}),f(function(S){if(S.code===S.NOT_FOUND_ERR){Q()}else{a()}}))}),a)}),a)},I=G.prototype,L=function(c,a){return new G(c,a)};I.abort=function(){var a=this;a.readyState=a.DONE;t(a,"abort")};I.readyState=I.INIT=0;I.WRITING=1;I.DONE=2;I.error=I.onwritestart=I.onprogress=I.onwrite=I.onabort=I.onerror=I.onwriteend=null;if(E.addEventListener){E.addEventListener("unload",D,false)}return L}(self));(function(d){var c="pdfDataExport IE Below 9 Shim plugin";d.output=function(a,f){return this.internal.output(a,f);var h="Output.pdf";switch(a){case"datauristring":case"dataurlstring":case"datauri":case"dataurl":case"dataurlnewwindow":if(console){console.log(c+": Data URIs are not supported on IE6-9.")}break;case"save":h=f;break}}})(pdfDataExport.API);(function(c){c.extend(c.jqx._jqxGrid.prototype,{exportdata:function(X,a,I,aa,V,R,ah){if(!c.jqx.dataAdapter.ArrayExporter){throw"jqxGrid: Missing reference to jqxdata.export.js!"}if(I==undefined){I=true}var K=this;if(aa==undefined){var aa=this.getrows();if(aa.length==0){throw"No data to export."}}this.exporting=true;if(!this.pageable){this.loadondemand=true}if(this.altrows){this._renderrows(this.virtualsizeinfo)}var P=V!=undefined?V:false;var Q={};var ab={};var N=[];var ad=this.host.find(".jqx-grid-cell:first");var L=this.host.find(".jqx-grid-cell-alt:first");ad.removeClass(this.toThemeProperty("jqx-grid-cell-selected"));ad.removeClass(this.toThemeProperty("jqx-fill-state-pressed"));L.removeClass(this.toThemeProperty("jqx-grid-cell-selected"));L.removeClass(this.toThemeProperty("jqx-fill-state-pressed"));ad.removeClass(this.toThemeProperty("jqx-grid-cell-hover"));ad.removeClass(this.toThemeProperty("jqx-fill-state-hover"));L.removeClass(this.toThemeProperty("jqx-grid-cell-hover"));L.removeClass(this.toThemeProperty("jqx-fill-state-hover"));var ag="cell";var ai=1;var M="column";var ak=1;var af=[];for(var W=0;W<this.columns.records.length;W++){var aj=this.columns.records[W];if(aj.cellclassname!=""){aj.customCellStyles=new Array();if(typeof aj.cellclassname=="string"){for(var U=0;U<aa.length;U++){aj.customCellStyles[U]=aj.cellclassname}}else{for(var U=0;U<aa.length;U++){var O=this.getrowboundindex(U);var al=aj.cellclassname(O,aj.displayfield,aa[U][aj.displayfield],aa[U]);if(al){aj.customCellStyles[U]=al}}}}}var J=new Array();c.each(this.columns.records,function(o){var h=c(K.table[0].rows[0].cells[o]);if(K.table[0].rows.length>1){var d=c(K.table[0].rows[1].cells[o])}var q=this;var n=function(u){u.removeClass(K.toThemeProperty("jqx-grid-cell-selected"));u.removeClass(K.toThemeProperty("jqx-fill-state-pressed"));u.removeClass(K.toThemeProperty("jqx-grid-cell-hover"));u.removeClass(K.toThemeProperty("jqx-fill-state-hover"));if(q.customCellStyles){for(var t in q.customCellStyles){u.removeClass(q.customCellStyles[t])}}};n(h);if(d){n(d)}if(this.displayfield==null){return true}if(K.showaggregates){if(K.getcolumnaggregateddata){af.push(K.getcolumnaggregateddata(this.displayfield,this.aggregates,true,aa))}}var l=K._getexportcolumntype(this);if(this.exportable&&(!this.hidden||P)){Q[this.displayfield]={};Q[this.displayfield].text=this.text;Q[this.displayfield].width=parseInt(this.width);if(isNaN(Q[this.displayfield].width)){Q[this.displayfield].width=60}Q[this.displayfield].formatString=this.cellsformat;Q[this.displayfield].localization=K.gridlocalization;Q[this.displayfield].type=l;Q[this.displayfield].cellsAlign=this.cellsalign;Q[this.displayfield].hidden=!I;Q[this.displayfield].displayfield=this.displayfield;J.push(Q[this.displayfield])}ag="cell"+ai;var f=c(this.element);if(this.element==undefined){f=c(this.uielement)}M="column"+ak;if(X=="html"||X=="xls"||X=="pdf"){var e=function(D,t,u,C,v,A,B,z,w){ab[D]={};if(t==undefined){return}ab[D]["font-size"]=t.css("font-size");ab[D]["font-weight"]=t.css("font-weight");ab[D]["font-style"]=t.css("font-style");ab[D]["background-color"]=A._getexportcolor(t.css("background-color"));ab[D]["color"]=A._getexportcolor(t.css("color"));ab[D]["border-color"]=A._getexportcolor(t.css("border-top-color"));if(u){ab[D]["text-align"]=v.align}else{ab[D]["text-align"]=v.cellsalign;ab[D]["formatString"]=v.cellsformat;ab[D]["dataType"]=l}if(X=="html"||X=="pdf"){ab[D]["border-top-width"]=t.css("border-top-width");ab[D]["border-left-width"]=t.css("border-left-width");ab[D]["border-right-width"]=t.css("border-right-width");ab[D]["border-bottom-width"]=t.css("border-bottom-width");ab[D]["border-top-style"]=t.css("border-top-style");ab[D]["border-left-style"]=t.css("border-left-style");ab[D]["border-right-style"]=t.css("border-right-style");ab[D]["border-bottom-style"]=t.css("border-bottom-style");if(u){if(B==0){ab[D]["border-left-width"]=t.css("border-right-width")}ab[D]["border-top-width"]=t.css("border-right-width");ab[D]["border-bottom-width"]=t.css("border-bottom-width")}else{if(B==0){ab[D]["border-left-width"]=t.css("border-right-width")}}ab[D]["height"]=t.css("height")}if(v.exportable&&(!v.hidden||P)){if(z==true){if(!Q[v.displayfield].customCellStyles){Q[v.displayfield].customCellStyles=new Array()}Q[v.displayfield].customCellStyles[w]=D}else{if(u){Q[v.displayfield].style=D}else{if(!C){Q[v.displayfield].cellStyle=D}else{Q[v.displayfield].cellAltStyle=D}}}}};e(M,f,true,false,this,K,o);ak++;e(ag,h,false,false,this,K,o);if(K.altrows){ag="cellalt"+ai;e(ag,d,false,true,this,K,o)}if(this.customCellStyles){for(var s in q.customCellStyles){h.removeClass(q.customCellStyles[s])}for(var s in q.customCellStyles){h.addClass(q.customCellStyles[s]);e(ag+q.customCellStyles[s],h,false,false,this,K,o,true,s);h.removeClass(q.customCellStyles[s])}}ai++}});c.each(this.columns.records,function(d){if(Q[this.displayfield]){Q[this.displayfield].columnsDataFields=J}});if(this.showaggregates){var T=[];var Z=X=="xls"?"_AG":"";var ae=this.groupable?this.groups.length:0;if(this.rowdetails){ae++}if(af.length>0){c.each(this.columns.records,function(l){if(this.aggregates){for(var f=0;f<this.aggregates.length;f++){if(!T[f]){T[f]={}}if(T[f]){var e=K._getaggregatename(this.aggregates[f]);var d=K._getaggregatetype(this.aggregates[f]);var h=af[l-ae];if(h){T[f][this.displayfield]=Z+e+": "+h[d]}}}}});c.each(this.columns.records,function(e){for(var d=0;d<T.length;d++){if(T[d][this.displayfield]==undefined){T[d][this.displayfield]=Z}}})}c.each(T,function(){aa.push(this)})}var ac=this;var S=c.jqx.dataAdapter.ArrayExporter(aa,Q,ab);if(a==undefined){this._renderrows(this.virtualsizeinfo);var Y=S.exportTo(X);if(this.showaggregates){c.each(T,function(){aa.pop(this)})}setTimeout(function(){ac.exporting=false},50);return Y}else{S.exportToFile(X,a,R,ah)}if(this.showaggregates){c.each(T,function(){aa.pop(this)})}this._renderrows(this.virtualsizeinfo);setTimeout(function(){ac.exporting=false},50)},_getexportcolor:function(n){var u=n;if(n=="transparent"){u="#FFFFFF"}if(!u||!u.toString()){u="#FFFFFF"}if(u.toString().indexOf("rgb")!=-1){var s=u.split(",");if(u.toString().indexOf("rgba")!=-1){var w=parseInt(s[0].substring(5));var t=parseInt(s[1]);var q=parseInt(s[2]);var o=parseInt(s[3].substring(1,4));var a={r:w,g:t,b:q};var v=this._rgbToHex(a);if(w==0&&t==0&&q==0&&o==0){return"#ffffff"}return"#"+v}var w=parseInt(s[0].substring(4));var t=parseInt(s[1]);var q=parseInt(s[2].substring(1,4));var a={r:w,g:t,b:q};var v=this._rgbToHex(a);return"#"+v}else{if(u.toString().indexOf("#")!=-1){if(u.toString().length==4){var z=u.toString().substring(1,4);u+=z}}}return u},_rgbToHex:function(a){return this._intToHex(a.r)+this._intToHex(a.g)+this._intToHex(a.b)},_intToHex:function(d){var a=(parseInt(d).toString(16));if(a.length==1){a=("0"+a)}return a.toUpperCase()},_getexportcolumntype:function(q){var o=this;var s="string";var t=o.source.datafields||((o.source._source)?o.source._source.datafields:null);if(t){var l="";c.each(t,function(){if(this.name==q.displayfield){if(this.type){l=this.type}return false}});if(l){return l}}if(q!=null){if(this.dataview.cachedrecords==undefined){return s}var a=null;if(!this.virtualmode){if(this.dataview.cachedrecords.length==0){return s}a=this.dataview.cachedrecords[0][q.displayfield];if(a!=null&&a.toString()==""){return"string"}}else{c.each(this.dataview.cachedrecords,function(){a=this[q.displayfield];return false})}if(a!=null){if(q.cellsformat.indexOf("c")!=-1){return"number"}if(q.cellsformat.indexOf("n")!=-1){return"number"}if(q.cellsformat.indexOf("p")!=-1){return"number"}if(q.cellsformat.indexOf("d")!=-1){return"date"}if(q.cellsformat.indexOf("y")!=-1){return"date"}if(q.cellsformat.indexOf("M")!=-1){return"date"}if(q.cellsformat.indexOf("m")!=-1){return"date"}if(q.cellsformat.indexOf("t")!=-1){return"date"}if(typeof a=="boolean"){s="boolean"}else{if(c.jqx.dataFormat.isNumber(a)){s="number"}else{var n=new Date(a);if(n.toString()=="NaN"||n.toString()=="Invalid Date"){if(c.jqx.dataFormat){n=c.jqx.dataFormat.tryparsedate(a);if(n!=null){if(n&&n.getFullYear()){if(n.getFullYear()==1970&&n.getMonth()==0&&n.getDate()==1){var u=new Number(a);if(!isNaN(u)){return"number"}return"string"}}return"date"}else{s="string"}}else{s="string"}}else{s="date"}}}}}return s}})})(jqxBaseFramework);(function(c){c.extend(c.jqx._jqxGrid.prototype,{savestate:function(a){var d=this.getstate();if(a!==undefined&&!c.isEmptyObject(a)){if(a.indexOf("sort")==-1){delete d.sortcolumn;delete d.sortdirection}if(a.indexOf("pager")==-1){delete d.pagenum;delete d.pagesizeoptions;delete d.pagesize}if(a.indexOf("selection")==-1){delete d.selectedcells;delete d.selectedrowindexes;delete d.selectedrowindex}if(a.indexOf("grouping")==-1){delete d.groups}if(a.indexOf("filter")==-1){delete d.filters}c.each(this.columns.records,function(f){var h=d.columns[this.datafield];if(a.indexOf("hidden_columns")==-1){delete h.hidden}if(a.indexOf("reorder")==-1){delete h.index}if(a.indexOf("columns_width")==-1){delete h.width}if(a.indexOf("columns_text")==-1){delete h.text}if(a.indexOf("alignment")==-1){delete h.align;delete h.cellsalign}})}if(window.localStorage){window.localStorage["jqxGrid"+this.element.id]=this._stringify(d)}this._savedstate=d;return d},loadstate:function(t,l){var o="";if(t!=undefined&&t.width!=undefined){o=t}else{if(window.localStorage){var u=window.localStorage["jqxGrid"+this.element.id];if(u){var o=c.parseJSON(window.localStorage["jqxGrid"+this.element.id])}}else{if(this._savedstate){var o=this._savedstate}}}if(o!=null&&o!==""){if(this.virtualmode||(this.source._source.url&&this.source._source.url!="")){this.source.beginUpdate()}var q=o;if(q.width!==undefined){this.width=q.width}if(q.height!==undefined){this.height=q.height}if(this.pageable){if(q.pagesize!=undefined){this.pagesize=q.pagesize;this.dataview.pagesize=q.pagesize}if(q.pagenum!=undefined){this.dataview.pagenum=q.pagenum}if(q.pagesizeoptions!=undefined){this.pagesizeoptions=q.pagesizeoptions}if(this.pagesizeoptions){var s=0;for(var a=0;a<this.pagesizeoptions.length;a++){if(this.pagesize>=this.pagesizeoptions[a]){s=a}}if(this.pagershowrowscombo){this.pagershowrowscombo.jqxDropDownList({selectedIndex:s})}}}if(this.sortable){if(this._loading){this._loading=false}if(q.sortdirection){if(q.sortdirection.ascending||q.sortdirection.descending){this.dataview.sortfield=q.sortcolumn;var n=q.sortdirection.ascending?"asc":"desc";this.dataview.sortfielddirection=n;this.source.sortcolumn=q.sortcolumn;this.source.sortdirection=n;this.sortby(q.sortcolumn,n)}}else{if(this.dataview.sortfield!=null&&(this.dataview.sortfielddirection=="asc"||this.dataview.sortfielddirection=="desc")){this.sortby(this.dataview.sortfield,null)}}}if(this.groupable&&q.groups){this.dataview.groups=q.groups;this.groups=q.groups}this.loadingstate=true;if(this.virtualsizeinfo){this._loadselectionandcolumnwidths(q)}this.loadingstate=false;if(this.virtualmode||(this.source._source.url&&this.source._source.url!="")){if(l==true){this.source.endUpdate(false)}else{this.source.endUpdate(false);if(this.virtualmode||this.source._source.filter||this.source._source.sort){this.updatebounddata("state")}}}}},_loadselectionandcolumnwidths:function(ad){this.loadingstate=true;var aa="";if(ad!=undefined&&ad.width!=undefined){aa=ad}else{if(window.localStorage){if(window.localStorage["jqxGrid"+this.element.id]){var aa=c.parseJSON(window.localStorage["jqxGrid"+this.element.id])}}else{if(this._savedstate){var aa=this._savedstate}}}if(aa!=null&&aa!=""){var P=this._loading;this._loading=false;var K=aa;var N=this;var af=false;var ai=[];ai.length=0;var R=[];c.each(this.columns.records,function(d){var f=K.columns[this.datafield];if(f!=undefined){if(this.text!=f.text){af=true}if(this.hidden!=f.hidden){af=true}if(f.width!==undefined){this.width=f.width;if(this._width){this._width=null}if(this._percentagewidth){this._percentagewidth=null}}if(f.hidden!==undefined){this.hidden=f.hidden}if(f.pinned!==undefined){this.pinned=f.pinned}if(f.groupable!==undefined){this.groupable=f.groupable}if(f.resizable!==undefined){this.resizable=f.resizable}this.draggable=f.draggable;if(f.text!==undefined){this.text=f.text}if(f.align!==undefined){this.align=f.align}if(f.cellsalign!==undefined){this.cellsalign=f.cellsalign}if(N._columns){for(var e=0;e<N._columns.length;e++){if(N._columns[e].datafield==this.datafield){if(f.hidden!==undefined){N._columns[e]["hidden"]=f.hidden}if(f.width!==undefined){N._columns[e]["width"]=f.width}}}}if(f.index!==undefined){ai[this.datafield]=f.index;ai.length++}}});if(ai.length>0){if(this.setcolumnindex){var I=this.rowdetails?1:0;I+=this.groupable?this.groups.length:0;var L=new Array();for(var T=0;T<this.columns.records.length;T++){L.push(this.columns.records[T])}var U=0;var ag=new Array();for(var T=0;T<L.length;T++){var ac=L[T];var Z=ai[ac.datafield];if(this.groupable&&ac.grouped){U++;continue}if(T==0&&this.rowdetails){U++;continue}if(T!==Z||this.groupable||this.rowdetails){var V=U+Z;ag.push({column:ac,key:V})}}ag.sort(function(e,d){if(e.key<d.key){return -1}if(e.key>d.key){return 1}return 0});ag.reverse();c.each(ag,function(f,d){var e=this.key;N.setcolumnindex(this.column.datafield,e,false)})}this.prerenderrequired=true;if(this.groupable){this._refreshdataview()}this.rendergridcontent(true);if(this._updatefilterrowui&&this.filterable&&this.showfilterrow){this._updatefilterrowui()}this._renderrows(this.virtualsizeinfo)}if(this.filterable&&K.filters!==undefined){if(this.clearfilters){this._loading=false;this.clearfilters(false)}var aj="";var X=new c.jqx.filter();for(var T=0;T<K.filters.filterscount;T++){var W=K.filters["filtercondition"+T];var M=K.filters["filterdatafield"+T];var ac=this.getcolumn(M);if(M!=aj){X=new c.jqx.filter()}aj=M;if(ac&&ac.filterable){var H=K.filters["filtervalue"+T];var S=K.filters["filteroperator"+T];var ak=K.filters["filtertype"+T];if(ak=="datefilter"){var Q=X.createfilter(ak,H,W,null,ac.cellsformat,this.gridlocalization)}else{var Q=X.createfilter(ak,H,W)}X.addfilter(S,Q);if(this.showfilterrow){var ab=ac._filterwidget;var ah=ac._filterwidget.parent();if(ab!=null){switch(ac.filtertype){case"number":ah.find("input").val(H);if(this.host.jqxDropDownList){var Y=X.getoperatorsbyfiltertype("numericfilter");ab.find(".filter").jqxDropDownList("selectIndex",Y.indexOf(W))}break;case"date":if(this.host.jqxDateTimeInput){c(ah.children()[0]).jqxDateTimeInput("setDate",H)}else{ab.val(H)}break;case"range":if(this.host.jqxDateTimeInput){var O=K.filters["filtervalue"+(T+1)];var ak=K.filters["filtertype"+T];var Q=X.createfilter(ak,O,"LESS_THAN_OR_EQUAL");X.addfilter(S,Q);var a=new Date(H);var ae=new Date(O);if(isNaN(a)){a=c.jqx.dataFormat.tryparsedate(H)}if(isNaN(ae)){ae=c.jqx.dataFormat.tryparsedate(H)}c(ah.children()[0]).jqxDateTimeInput("setRange",a,ae);T++}else{ab.val(H)}break;case"textbox":case"default":ab.val(H);N["_oldWriteText"+ab[0].id]=H;break;case"list":if(this.host.jqxDropDownList){var J=c(ah.children()[0]).jqxDropDownList("getItems");var Z=-1;c.each(J,function(d){if(this.value==H){Z=d;return false}});c(ah.children()[0]).jqxDropDownList("selectIndex",Z)}else{ab.val(H)}break;case"checkedlist":if(!this.host.jqxDropDownList){ab.val(H)}break;case"bool":case"boolean":if(!this.host.jqxCheckBox){ab.val(H)}else{c(ah.children()[0]).jqxCheckBox({checked:H})}break}}}this.addfilter(M,X)}}if(K.filters&&K.filters.filterscount>0){this.applyfilters();if(this.showfilterrow){c.each(this.columns.records,function(){if(this.filtertype=="checkedlist"&&this.filterable){if(N.host.jqxDropDownList){var d=this;var f=d._filterwidget;var n=f.jqxDropDownList("getItems");var l=f.jqxDropDownList("listBox");l.checkAll(false);if(d.filter){l.uncheckAll(false);var o=d.filter.getfilters();for(var e=0;e<l.items.length;e++){var h=l.items[e].label;c.each(o,function(){if(this.condition=="NOT_EQUAL"){return true}if(h==this.value){l.checkIndex(e,false,false)}})}l._updateCheckedItems();var q=l.getCheckedItems().length;if(l.items.length!=q&&q>0){l.host.jqxListBox("indeterminateIndex",0,true,false)}}}}})}}if(this.pageable&&K.pagenum!==undefined){if(this.gotopage&&!this.virtualmode){this.dataview.pagenum=-1;this.gotopage(K.pagenum)}else{if(this.gotopage&&this.virtualmode){this.gotopage(K.pagenum)}}}}if(K.selectedrowindexes&&K.selectedrowindexes&&K.selectedrowindexes.length>0){this.selectedrowindexes=K.selectedrowindexes;this.selectedrowindex=K.selectedrowindex;if(this.selectionmode==="checkbox"){this._updatecheckboxselection()}}if(K.selectedcells){if(this._applycellselection){c.each(K.selectedcells,function(){N._applycellselection(this.rowindex,this.datafield,true,false)})}}if(this.groupable&&K.groups!==undefined){this._refreshdataview();this.render();this._loading=P;this.loadingstate=false;return}if(af){this.prerenderrequired=true;this.rendergridcontent(true);this._loading=P;this.loadingstate=false;if(this.updating()){return false}}else{this._loading=P;this._updatecolumnwidths();this._updatecellwidths();this.loadingstate=false}this.loadingstate=false;this._loading=P;this._renderrows(this.virtualsizeinfo)}this.loadingstate=false},getstate:function(){var s=this.getdatainformation();var B={};B.width=this.width;B.height=this.height;B.pagenum=s.paginginformation.pagenum;B.pagesize=s.paginginformation.pagesize;B.pagesizeoptions=this.pagesizeoptions;B.sortcolumn=s.sortinformation.sortcolumn;B.sortdirection=s.sortinformation.sortdirection;if(this.selectionmode!=null){if(this.getselectedcells){if(this.selectionmode.toString().indexOf("cell")!=-1){var t=this.getselectedcells();var a=new Array();c.each(t,function(){a.push({datafield:this.datafield,rowindex:this.rowindex})});B.selectedcells=a}else{var u=this.getselectedrowindexes();B.selectedrowindexes=u;B.selectedrowindex=this.selectedrowindex}}}var A={};var F=0;if(this.dataview.filters){for(var z=0;z<this.dataview.filters.length;z++){var E=this.dataview.filters[z].datafield;var H=this.dataview.filters[z].filter;var G=H.getfilters();A[E+"operator"]=H.operator;for(var D=0;D<G.length;D++){G[D].datafield=E;if(G[D].type=="datefilter"){if(G[D].value&&G[D].value.toLocaleString){var C=this.getcolumn(G[D].datafield);if(C.cellsformat){var v=this.source.formatDate(G[D].value,C.cellsformat,this.gridlocalization);if(v){A["filtervalue"+F]=v}else{A["filtervalue"+F]=G[D].value.toLocaleString()}}else{A["filtervalue"+F]=G[D].value.toLocaleString()}}else{A["filtervalue"+F]=G[D].value}}else{A["filtervalue"+F]=G[D].value}A["filtercondition"+F]=G[D].condition;A["filteroperator"+F]=G[D].operator;A["filterdatafield"+F]=E;A["filtertype"+F]=G[D].type;F++}}}A.filterscount=F;B.filters=A;B.groups=this.groups;B.columns={};var w=0;if(this.columns.records){c.each(this.columns.records,function(d,f){if(!this.datafield){return true}var e={};e.width=this.width;e.hidden=this.hidden;e.pinned=this.pinned;e.groupable=this.groupable;e.resizable=this.resizable;e.draggable=this.draggable;e.text=this.text;e.align=this.align;e.cellsalign=this.cellsalign;e.index=w++;B.columns[this.datafield]=e})}return B},_stringify:function(f){if(window.JSON&&typeof window.JSON.stringify==="function"){var h=this;var l="";try{l=window.JSON.stringify(f)}catch(a){return h._str("",{"":f})}return l}var l=this._str("",{"":f});return l},_quote:function(a){var e=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,f={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return'"'+a.replace(e,function(h){var d=f[h];return typeof d==="string"?d:"\\u"+("0000"+h.charCodeAt(0).toString(16)).slice(-4)})+'"'},_stringifyArray:function(f){var a=f.length,l=[],h;for(var h=0;h<a;h++){l.push(this._str(h,f)||"null")}return"["+l.join(",")+"]"},_stringifyObject:function(h){var o=[],n,a;var l=this;for(n in h){if(Object.prototype.hasOwnProperty.call(h,n)){a=l._str(n,h);if(a){o.push(l._quote(n)+":"+a)}}}return"{"+o.join(",")+"}"},_stringifyReference:function(a){switch(Object.prototype.toString.call(a)){case"[object Array]":return this._stringifyArray(a)}return this._stringifyObject(a)},_stringifyPrimitive:function(d,a){switch(a){case"string":return this._quote(d);case"number":return isFinite(d)?d:"null";case"boolean":return d}return"null"},_str:function(l,a){var f=a[l],h=typeof f;if(f&&typeof f==="object"&&typeof f.toJSON==="function"){f=f.toJSON(l);h=typeof f}if(/(number|string|boolean)/.test(h)||(!f&&h==="object")){return this._stringifyPrimitive(f,h)}else{return this._stringifyReference(f)}}})})(jqxBaseFramework);(function(c){c.extend(c.jqx._jqxGrid.prototype,{getcolumnindex:function(a){var f=this.getcolumn(a);var e=this.columns.records.indexOf(f);return e},setcolumnindex:function(z,t,s){var u=this.getcolumn(z);if(u.pinned){return}if(u.hidden){return}if(u.checkboxcolumn){return}if(u.grouped){return}var o=this.columns.records.indexOf(u);this.columns.records.splice(o,1);this.columns.records.splice(t,0,u);var w=0;var a=this.headerZIndex;this.columnsrow.children().detach();var q=this.toThemeProperty("jqx-grid-cell");q+=" "+this.toThemeProperty("jqx-grid-cell-pinned");if(this.filterrow){c(this.filterrow.children()[0]).children().detach();this.filterrow[0].cells=[]}var n=this;var B=null;if(n.filterrow!=undefined){var B=c(n.filterrow.children()[0])}this.columnsrow[0].cells=[];var v=false;c.each(this.columns.records,function(l,e){var h=this.uielement;n.columnsrow.append(h);if(!n.rtl){h.css("z-index",a--)}else{h.css("z-index",a++)}var f=this.width;h.css("left",w);n.columnsrow[0].cells[n.columnsrow[0].cells.length]=h[0];if(n.filterrow){var d=c('<div style="overflow: hidden; position: absolute; height: 100%;" class="'+q+'"></div>');B.append(d);d.css("left",w);d.css("z-index",a+1);d.width(this.width);d[0].left=w;d.append(this._filterwidget);n.filterrow[0].cells[n.filterrow[0].cells.length]=d[0]}if(this.hidden){v=true}if(!(this.hidden&&this.hideable)){w+=f}});if(this.groupable){var A=this.groups.length;if(A>0){if(o-A>=0){o-=A;t-=A}}}if(this.rowdetails){if(o-1>=0){o--;t--}}if(this.selectionmode=="checkbox"){if(o-1>=0){o--;t--}}var u=this._columns[o];this._columns.splice(o,1);this._columns.splice(t,0,u);this._raiseEvent(24,{columntext:u.text,datafield:u.datafield,oldindex:o,newindex:t});if(s==false){return}if(v||u.columntype=="checkbox"){this.prerenderrequired=true;this.rendergridcontent(true,false);this._updatecolumnwidths();this._updatecellwidths()}else{this._updatecolumnwidths();this._updatecellwidths()}if(this._updatefilterrowui&&this.filterable&&this.showfilterrow){this._updatefilterrowui()}if(this.showeverpresentrow){this._updateaddnewrowui()}this._rendercolumngroups();this._renderrows(this.virtualsizeinfo)},_pinnedColumnsLength:function(){var a=0;c.each(this.columns.records,function(){if(this.pinned){a++}if(this.grouped){a++}});if(this.selectionmode=="checkbox"){a++}return a},_handlecolumnsreorder:function(){var s=this;var n=-1;var t=false;if(!s.columnsreorder){return}var o="mousemove.reorder"+this.element.id;var q="mousedown.reorder"+this.element.id;var l="mouseup.reorder"+this.element.id;var a=false;if(this.isTouchDevice()&&this.touchmode!==true){a=true;o=c.jqx.mobile.getTouchEventName("touchmove")+".reorder"+this.element.id;q=c.jqx.mobile.getTouchEventName("touchstart")+".reorder"+this.element.id;l=c.jqx.mobile.getTouchEventName("touchend")+".reorder"+this.element.id}this.removeHandler(c(document),o);this.addHandler(c(document),o,function(A){if(s.resizing){return true}if(s.reordercolumn!=null){var z=parseInt(A.pageX);var d=parseInt(A.pageY);if(a){var h=s.getTouches(A);var u=h[0];if(u!=undefined){z=parseInt(u.pageX);d=parseInt(u.pageY)}}var v=s.host.coord();var D=parseInt(v.left);var C=parseInt(v.top);if(s.dragmousedownoffset==undefined||s.dragmousedownoffset==null){s.dragmousedownoffset={left:0,top:0}}var e=parseInt(z)-parseInt(s.dragmousedownoffset.left);var B=parseInt(d)-parseInt(s.dragmousedownoffset.top);s.reordercolumn.css({left:e+"px",top:B+"px"});t=false;if(z>=D&&z<=D+s.host.width()){if(d>=C&&d<=C+s.host.height()){t=true}}n=-1;if(t){s.reordercolumnicon.removeClass(s.toThemeProperty("jqx-grid-dragcancel-icon"));s.reordercolumnicon.addClass(s.toThemeProperty("jqx-grid-drag-icon"));var f=s.columnsheader.coord();var w=f.top+s.columnsheader.height();if(s.columnsdropline!=null){if(d>=f.top&&d<=w){n=s._handlereordercolumnsdroplines(z)}else{s.columnsdropline.fadeOut("slow")}}}else{if(s.columnsdropline!=null){s.columnsdropline.fadeOut("slow")}s.reordercolumnicon.removeClass(s.toThemeProperty("jqx-grid-drag-icon"));s.reordercolumnicon.addClass(s.toThemeProperty("jqx-grid-dragcancel-icon"))}if(a){A.preventDefault();A.stopPropagation();return false}}});this.columnsbounds=new Array();this.removeHandler(c(document),q);this.addHandler(c(document),q,function(f){if(s.resizing){return true}s.columnsbounds=new Array();var d=s.host.coord().left;var e=s.host.coord().top;if(s.showtoolbar){e+=s.toolbarheight}if(s.groupable&&s.showgroupsheader){e+=s.groupsheaderheight}var h=0;c.each(s.columns.records,function(w){var v=this;if(v.hidden){s.columnsbounds[s.columnsbounds.length]={top:e,column:v,left:d,width:0,height:2+s.rowsheight};return true}if(h==0){if(!s.rtl){d=parseInt(s.host.coord().left)-s.hScrollInstance.value}else{if(s.hScrollBar.css("visibility")!="hidden"){d=parseInt(s.host.coord().left)-s.hScrollInstance.max+s.hScrollInstance.value}else{d=parseInt(s.host.coord().left)+s.hScrollInstance.value}}}h++;var u=2+s.columnsheight;if(s.columnshierarchy){e=c(v.uielement).coord().top;u=c(v.uielement).height()}s.columnsbounds[s.columnsbounds.length]={top:e,column:v,left:d,width:v.width,height:u};d+=v.width})});this.removeHandler(c(document),l);this.addHandler(c(document),l,function(E){if(s.resizing){return true}s.__drag=false;c(document.body).removeClass("jqx-disableselect");var B=parseInt(E.pageX);var J=parseInt(E.pageY);if(a){var h=s.getTouches(E);var z=h[0];B=parseInt(z.pageX);J=parseInt(z.pageY)}var A=s.host.coord();var H=parseInt(A.left);var G=parseInt(A.top);var D=s.groupsheader.height();if(s.showtoolbar){G+=s.toolbarheight}s.columndragstarted=false;s.dragmousedown=null;if(s.reordercolumn!=null){var C=c.data(s.reordercolumn[0],"reorderrecord");var F=s.columns.records.indexOf(s.getcolumn(C));s.reordercolumn.remove();s.reordercolumn=null;var f=0;f+=s._pinnedColumnsLength();if(C!=null){if(t){if(n!=-1){var e=n.index;if(e>=f){var K=s.columns.records[e];if(K!=undefined){var I=s.columns.records.indexOf(s.getcolumn(K.datafield));if(K.datafield==null){var I=s.columns.records.indexOf(s.getcolumnbytext(K.text))}if(s.columngroups){var d=K;if(F<I){if(n.position=="before"){d=s.columns.records[I-1]}}if(d.columngroup!=s.getcolumn(C).columngroup){if(s.columnsdropline!=null){s.columnsdropline.remove();s.columnsdropline=null}return}}if(F<I){if(n.position=="before"){s.setcolumnindex(C,I-1)}else{s.setcolumnindex(C,I)}}else{if(F>I){s.setcolumnindex(C,I)}}if(s.autosavestate){if(s.savestate){s.savestate()}}}}}}if(s.columnsdropline!=null){s.columnsdropline.remove();s.columnsdropline=null}}}})},getcolumnbytext:function(d){var a=null;if(this.columns.records){c.each(this.columns.records,function(){if(this.text==d){a=this;return false}})}return a},_handlereordercolumnsdroplines:function(l){var a=this;var n=-1;var s=a._pinnedColumnsLength();var o=parseInt(a.host.coord().left);var t=o+a.host.width();var q=a.vScrollBar.css("visibility")!="hidden"?19:0;if(!a.rtl){q=0}c.each(a.columnsbounds,function(d){if(d>=s){if(this.width==0){return true}if(l<=this.left+this.width/2){if(l>t){a.columnsdropline.fadeOut();return false}a.columnsdropline.css("left",q+parseInt(this.left)+"px");a.columnsdropline.css("top",parseInt(this.top)+"px");a.columnsdropline.height(this.height);a.columnsdropline.fadeIn("slow");n={index:d,position:"before"};return false}else{if(l>=this.left+this.width/2){if(this.left+this.width>t){a.columnsdropline.fadeOut();return false}a.columnsdropline.css("left",q+1+this.left+this.width);a.columnsdropline.css("top",this.top);a.columnsdropline.height(this.height);a.columnsdropline.fadeIn("slow");n={index:d,position:"after"}}}}});return n},_createreordercolumn:function(u,s,n){var o=this;var q=s;if(o.reordercolumn){o.reordercolumn.remove()}if(o.columnsdropline){o.columnsdropline.remove()}o.reordercolumn=c("<div></div>");var a=u.clone();o.reordercolumn.css("z-index",999999);a.css("border-width","1px");a.css("opacity","0.4");var l=c(a.find("."+o.toThemeProperty("jqx-grid-column-menubutton")));if(l.length>0){l.css("display","none")}var v=c(a.find(".jqx-icon-close"));if(v.length>0){v.css("display","none")}o.reordercolumnicon=c('<div style="z-index: 9999; position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -7px;"></div>');o.reordercolumnicon.addClass(o.toThemeProperty("jqx-grid-drag-icon"));o.reordercolumn.css("float","left");o.reordercolumn.css("position","absolute");var t=o.host.coord();a.width(u.width()+16);o.reordercolumn.append(a);o.reordercolumn.height(u.height());o.reordercolumn.width(a.width());o.reordercolumn.append(o.reordercolumnicon);c(document.body).append(o.reordercolumn);a.css("margin-left",0);a.css("left",0);a.css("top",0);o.reordercolumn.css("left",q.left+o.dragmousedown.left);o.reordercolumn.css("top",q.top+o.dragmousedown.top);if(n!=undefined&&n){o.columnsdropline=c('<div style="z-index: 9999; display: none; position: absolute;"></div>');o.columnsdropline.width(2);o.columnsdropline.addClass(o.toThemeProperty("jqx-grid-group-drag-line"));c(document.body).append(o.columnsdropline)}},_handlecolumnsdragreorder:function(q,l){if(this.reordercolumn){this.reordercolumn.remove()}if(this.columnsdropline){this.columnsdropline.remove()}this.dragmousedown=null;this.dragmousedownoffset=null;this.columndragstarted=false;this.reordercolumn=null;var h=this;var n;var a=false;if(this.isTouchDevice()&&this.touchmode!==true){a=true}var o="mousedown.drag";var n="mousemove.drag";if(a){o=c.jqx.mobile.getTouchEventName("touchstart")+".drag";n=c.jqx.mobile.getTouchEventName("touchmove")+".drag"}else{this.addHandler(l,"dragstart",function(d){return false})}this.addHandler(l,o,function(s){if(false==q.draggable){return true}if(h.resizing){return true}h.__drag=true;var t=s.pageX;var u=s.pageY;if(a){var f=h.getTouches(s);var d=f[0];t=d.pageX;u=d.pageY}h.dragmousedown={left:t,top:u};var e=c(s.target).coord();h.dragmousedownoffset={left:parseInt(t)-parseInt(e.left),top:parseInt(u-e.top)};return true});this.addHandler(l,n,function(s){if(!q.draggable){return true}if(undefined==q.datafield){return true}if(q.pinned){return true}if(h.resizing){return true}if(h.dragmousedown){var t=s.pageX;var u=s.pageY;if(a){var e=h.getTouches(s);var v=e[0];if(v!=undefined){t=v.pageX;u=v.pageY}}n={left:t,top:u};if(!h.columndragstarted&&h.reordercolumn==null){var f=Math.abs(n.left-h.dragmousedown.left);var d=Math.abs(n.top-h.dragmousedown.top);if(f>3||d>3){h._createreordercolumn(l,n,true);c(document.body).addClass("jqx-disableselect");c.data(h.reordercolumn[0],"reorderrecord",q.datafield)}}}})}})})(jqxBaseFramework);(function(f){f.jqx.jqxWidget("jqxListMenu","",{});var e=0,d=0;f.extend(f.jqx._jqxListMenu.prototype,{defineInstance:function(){var a={filterCallback:function(c,h){var l=f.jqx.string.containsIgnoreCase(f.trim(c),h);return l},placeHolder:"Filter list items...",showFilter:false,showHeader:true,showBackButton:true,showNavigationArrows:true,alwaysShowNavigationArrows:false,backLabel:"Back",width:"100%",height:"auto",animationType:"slide",animationDuration:0,headerAnimationDuration:0,autoSeparators:false,readOnly:false,roundedCorners:true,disabled:false,enableScrolling:true,touchMode:false,_childrenMap:{},_parentMap:{},_lock:false,_backButton:null,_currentPage:null,_header:null,_oldHost:undefined,rtl:false,aria:{"aria-disabled":{name:"disabled",type:"boolean"}}};f.extend(true,this,a);return a},destroy:function(){this.host.remove()},createInstance:function(){f.jqx.aria(this);this.host.attr("data-role","listmenu");this.host.attr("role","tree")},refresh:function(a){this._render();this._removeClasses();this._addClasses();this._currentPage=this._currentPage||this.host.children(".jqx-listmenu").first();this._changeHeader(this._currentPage);this._removeEventHandlers();this._addEventHandlers()},_render:function(){this._renderHost();this._renderAutoSeparators();this._renderSublists();this._renderFilterBar();this._renderHeader();this.host.css({width:this.width,height:this.height});if(this.disabled){this.disable()}if(this.enableScrolling&&this.host.jqxPanel&&this.panel){this.panel.jqxPanel("_arrange")}},resize:function(a,c){this.width=a;this.height=c;this.host.css({width:this.width,height:this.height});if(this.panel){this.panel.jqxPanel("_arrange")}},_renderHost:function(){if(!this.host.is("div")){this._oldHost=this.host;this.host.wrap("<div/>");this.host=this.host.parent();this.element=this.host[0];if(this.host.jqxPanel&&this.enableScrolling){this.host.wrap("<div/>");this.panel=this.host.parent();this.panel[0].id="panel"+this.element.id;this.panel.jqxPanel({theme:this.theme,autoUpdate:true,width:this.width,height:this.height,touchMode:this.touchMode});this.host.css({width:"100%"});this.host.css({height:"auto"});this.host.css("border","none")}}else{this.element.style.overflow="hidden"}if(!this.enableScrolling){this.element.style.overflow="hidden"}if(f.jqx.browser.msie&&f.jqx.browser.version<8){this.element.style.position="relative"}if(this.enableScrolling&&this.panel){this.panel.jqxPanel("_arrange")}},_renderAutoSeparators:function(a){var c=this.host.find(".jqx-listmenu-auto-separator"),l=this.host.find('[data-role="listmenu"]'),a,h;c.remove();for(h=0;h<l.length;h+=1){a=f(l[h]);if(a.data("auto-separators")||this.autoSeparators){this._renderListAutoSeparators(a)}}},_renderSublists:function(){var q=[(this.host.find(".jqx-listmenu").first()[0]||this.host.find("ul,ol").first()[0])],n,s,a,o,c;this._refreshList(q[0]);while(q.length){a=q.pop();n=this._getChildrenByTagName(a,"li","LI");o=n.length;for(var l=0;l<o;l+=1){s=n[l];f(s).attr("role","treeitem");c=this._getChildList(s);this._refreshLi(s,l,o);if(c){q.push(c);this._refreshList(c,s,true)}}}},_refreshList:function(a,c,h){a=f(a);if(a.data("role")==="listmenu"){if(!a.is(".jqx-listmenu")){this._renderList(a);this._handleListId(a);this._addListClasses(a)}if(c){this._expandHierarchy(a[0],c)}if(h){this._handleSublist(a[0])}}},_renderList:function(a){a=f(a);if(!a.is(".jqx-listmenu")){a.detach();a.appendTo(this.host)}},_handleListId:function(a){if(!a[0].id){a[0].id="jqx-listmenu-"+d;d+=1}},_renderListAutoSeparators:function(l){var q=l.children("li"),a,s;var c={};for(var n=0;n<q.length;n+=1){s=f(q[n]);if(!s.data("role")){if(f.trim(s.text())[0]!==a){a=f.trim(s.text())[0];var o=f('<li data-role="separator" class="'+this.toThemeProperty("jqx-listmenu-auto-separator")+'">'+a+"</li>");o.insertBefore(s);o[0].items=new Array();c=o[0]}if(c.items){c.items[c.items.length]=s[0]}}}},_addListClasses:function(a){a.addClass("jqx-listmenu")},_expandHierarchy:function(a,c){if(c&&a){var h=c.id,l=a.id;this._childrenMap[h]=l;this._parentMap[l]=h}},_handleSublist:function(a){if(!this._currentPage||a!==this._currentPage[0]){a.style.display="none"}else{a.style.display="block"}},_getChildrenByTagName:function(l,n,c){var o=[],a={};a[n]=a[c]=true;l=l.firstChild;while(l){if(a[l.nodeName]){o.push(l)}l=l.nextSibling}return o},_renderFilterBar:function(){if(!this._filterBar){this._filterBar=f("<div/>");this._filterInput=f('<input type="text" />');this._filterBar.append(this._filterInput);this.host.prepend(this._filterBar)}var a=false;if(f.jqx.browser.msie&&f.jqx.browser.version<8){a=true}if(!a){this._filterInput.attr("placeholder",this.placeHolder)}if(!this.showFilter){this._filterBar.css("display","none")}else{this._filterBar.css("display","block")}},_renderHeader:function(){if(!this._header){this._header=f("<div/>");this.host.prepend(this._header);this._renderHeaderLabel()}this._renderBackButton();if(!this.showHeader){this._header.css("display","none")}else{this._header.css("display","block")}},_renderHeaderLabel:function(){this._headerLabel=f("<span/>");this._headerLabel.addClass(this.toThemeProperty("jqx-listmenu-header-label"));this._header.append(this._headerLabel)},_renderBackButton:function(){if(!this._backButton){this._backButton=f('<div><div style="float: left;"></div><span style="float: left;">'+this.backLabel+'</span><div style="clear:both;"></div></div>');this._header.prepend(this._backButton);this._backButton.jqxButton({theme:this.theme});this._backButton.find("div:first").addClass(this.toThemeProperty("jqx-listmenu-backbutton-arrow"));if(!this.showBackButton){this._backButton.css("display","none")}else{this._backButton.css("display","inline-block")}if(this.rtl){var a=f.jqx.browser.msie&&f.jqx.browser.version<8;if(!a){this._backButton.css("position","relative");this._backButton.css("margin-left","100%");this._backButton.css("left",-this._backButton.outerWidth()-15)}else{this._backButton.css("position","relative");this._backButton.css("left","100%");this._backButton.css("margin-left",-this._backButton.outerWidth()-45+"px")}}}if(!this.showBackButton){this._backButton.css("display","none")}else{this._backButton.css("display","inline-block")}},_removeEventHandlers:function(){var c=this.isTouchDevice()&&!this.touchMode;var a=f.jqx.mobile.getTouchEventName("touchstart");this.removeHandler(this._backButton,!c?"click":a);this.removeHandler(this._filterInput,"keyup");this.removeHandler(this._filterInput,"change")},_addEventHandlers:function(){var h=this;var c=this.isTouchDevice()&&!this.touchMode;var a=f.jqx.mobile.getTouchEventName("touchstart");this.addHandler(this._backButton,!c?"click":a,function(){h.back()});this.addHandler(this._filterInput,"keyup change",function(){h._filter(f(this).val())})},_getChildList:function(o){if(!o){return}var a=this._childrenMap[o.id],c;if(o.className.indexOf("jqx-listmenu-item")>=0&&a){return document.getElementById(a)}var l=this._getChildrenByTagName(o,"ul","UL")[0],n=this._getChildrenByTagName(o,"ol","OL")[0];c=l||n;return c},_refreshLi:function(l,a,c){if(l.parentNode&&l.parentNode.getAttribute("data-role")==="listmenu"){if(l.id==""){var h=2}this._handleLiId(l);this._renderLi(l);this._removeLiEventHandlers(l);this._addLiEventHandlers(l);this._addLiClasses(l,a,c)}},_handleLiId:function(a){if(!a.id){a.id="jqx-listmenu-item-"+e;e+=1}},_renderLi:function(l){if((/(separator|header)/).test(f(l).data("role"))||f(l).children(".jqx-listmenu-arrow-right").length>0){return}f(l).wrapInner('<span class="'+this.toThemeProperty("jqx-listmenu-item-label")+'"></span>');if(this.showNavigationArrows||this.alwaysShowNavigationArrows){var c=f("<span/>");var a=f(l).find("ul");var h=f(l).find("ol");if(this.alwaysShowNavigationArrows||(((a.length>0)&&(/(listmenu)/).test(a.data("role")))||((h.length>0)&&(/(listmenu)/).test(h.data("role"))))){c.addClass(this.toThemeProperty("jqx-listmenu-arrow-right"));if(!this.rtl){c.addClass(this.toThemeProperty("jqx-icon-arrow-right"));c.appendTo(l)}else{c.addClass(this.toThemeProperty("jqx-icon-arrow-left"));c.addClass(this.toThemeProperty("jqx-listmenu-arrow-rtl"));c.prependTo(l)}}}},_removeLiEventHandlers:function(s){var n=this.isTouchDevice();var a=f.jqx.mobile.getTouchEventName("touchstart");var c=f.jqx.mobile.getTouchEventName("touchend");var q=f.jqx.mobile.getTouchEventName("touchmove");var o=(!n?"mousedown":a)+".listmenu";var l=(!n?"mouseup":c)+".listmenu";this.removeHandler(f(s),o);this.removeHandler(f(document),l+"."+s.id)},isTouchDevice:function(){var a=f.jqx.mobile.isTouchDevice();if(this.touchMode==true){a=true}return a},_addLiEventHandlers:function(q){q=f(q);var a=this,A=this.toThemeProperty("jqx-listmenu-arrow-right-pressed"),t=q.children(".jqx-listmenu-arrow-right");var C=f.jqx.mobile.isTouchDevice();var u=f.jqx.mobile.getTouchEventName("touchstart");var s=f.jqx.mobile.getTouchEventName("touchend");var z=f.jqx.mobile.getTouchEventName("touchmove");var w=(!C?"mousedown":u)+".listmenu";var B=(!C?"mouseup":s)+".listmenu";var c=null;var v="";if(!(/(separator|readonly)/).test(q.data("role"))&&!this.readOnly){this.addHandler(q,"dragstart",function(){return false});this.addHandler(q,w,function(h){if(!a.disabled){c=h.target;v=f.jqx.position(h);if(q.find('div[data-role="content"]').length==0){if(!C){q.addClass(a.toThemeProperty("jqx-fill-state-pressed"));t.addClass(A)}}}});this.addHandler(q,B,function(h){if(!a.disabled){if(c==h.target||!C){if(C){if(f.jqx.position(h).top===v.top){a.next(q)}}else{if(f.jqx.position(h).top===v.top){a.next(q)}}}}});this.addHandler(f(document),B+"."+q[0].id,function(){if(!a.disabled){q.removeClass(a.toThemeProperty("jqx-fill-state-pressed"));t.removeClass(A)}})}},_addLiClasses:function(h,a,c){h=f(h);if(h.data("role")==="separator"){this._handleSeparatorStyle(h)}else{if(h.data("role")==="header"){this._handleHeaderStyle(h)}else{if(this.readOnly||h.data("role")==="readonly"){h.addClass(this.toThemeProperty("jqx-listmenu-item-readonly"))}else{h.removeClass(this.toThemeProperty("jqx-listmenu-item-readonly"))}this._handleItemStyle(h)}}if(a===0&&!this.showHeader&&!this.showFilter){h.addClass(this.toThemeProperty("jqx-rc-t"))}if(a===c-1){h.addClass(this.toThemeProperty("jqx-rc-b"))}},_handleSeparatorStyle:function(a){a.addClass(this.toThemeProperty("jqx-listmenu-separator"));a.addClass(this.toThemeProperty("jqx-fill-state-pressed"));a[0].style.listStyle="none"},_handleHeaderStyle:function(a){a.css("display","none")},_handleItemStyle:function(a){a.addClass(this.toThemeProperty("jqx-listmenu-item"));if(this.rtl){a.addClass(this.toThemeProperty("jqx-rtl"))}a.addClass(this.toThemeProperty("jqx-fill-state-normal"));a.addClass(this.toThemeProperty("jqx-item"))},back:function(){var a=this._currentPage,c;if(a){c=this._parentMap[a[0].id]}this._back=true;if(f("#"+c).length>0){f.jqx.aria(f("#"+c),"aria-expanded",false)}this._changePage(a,f("#"+c).parent(),this.animationDuration,true);this._back=false},next:function(o){var a=o.attr("id"),l=this._childrenMap[a],c=f("#"+l),n=f("#"+a).parent();f.jqx.aria(o,"aria-expanded",true);this._changePage(n,c,this.animationDuration)},changePage:function(a){if(typeof a==="string"){a=f(a)}if(!a[0]||(a.attr("data-role")!=="listmenu")||a.parents().index(this.host)<0){throw new Error("Invalid newPage. The chosen newPage is not listmenu or it's not part of the selected jqxListMenu hierarchy.")}if(this._currentPage[0]==a[0]){return}this._changePage(this._currentPage,a,this.animationDuration)},_changePage:function(a,l,c,n){if(!this._lock){var o="_"+this.animationType+"Change"+(n?"Back":"");if(l[0]){if(this.showFilter){if(l.find('div[data-role="content"]').length>0){f.each(l.find("li"),function(){if(f(this).data("role")==="separator"){f(this).hide()}});this._filterBar.css("display","none")}else{this._filterBar.css("display","block")}}this._lock=true;this[o](a,l,this.animationDuration,function(){this._lock=false;this._changeHeader(l);this._currentPage=l})}}},_changeHeader:function(c){var a=f(c).find('li[data-role="header"]').first();if(a[0]){var h=this;this._headerLabel.fadeOut(this.headerAnimationDuration/2,function(){h._headerLabel.html(a.html());h._headerLabel.fadeIn(h.headerAnimationDuration/2)})}},_slideChange:function(c,o,l,a){var q=this;if(this.enableScrolling&&this.panel!=null){this.panel.jqxPanel("scrollTo",0,0)}var n=this.rtl;this._initSlide(c,o);if(!n){c.animate({"margin-left":-c.width()-parseInt(c.css("margin-right"),10)||0},l,"easeInOutSine");o.animate({"margin-left":0},l,"easeInOutSine",function(){q._slideEnd(c,o);a.call(q,f(this))})}else{c.animate({"margin-left":c.width()+parseInt(c.css("margin-right"),10)||0},l,"easeInOutSine");o.animate({"margin-left":0},l,"easeInOutSine",function(){q._slideEnd(c,o);a.call(q,f(this))})}},_initSlide:function(a,h){var c=this.rtl;a.width(a.width());h.css({marginTop:-(a.outerHeight(true)),marginLeft:!c?a.width()+(parseInt(a.css("margin-right"),10)||0):-a.width()-(parseInt(a.css("margin-right"),10)||0),display:"block",height:"auto",width:a.width()})},_slideEnd:function(a,c){this.host.css("height","auto");a.css({display:"none",width:"auto",height:"auto",marginTop:0,marginLeft:0});c.css({marginTop:0,marginLeft:0,height:"auto",width:"auto",display:"block"})},_slideChangeBack:function(c,n,l,a){var o=this;this._initSlideBack(c,n);c.animate({"margin-left":!this.rtl?c.width()+parseInt(c.css("margin-right"),10)||0:-c.width()-parseInt(c.css("margin-right"),10)||0},l);n.animate({"margin-left":0},l,function(){o._slideEnd(c,n);a.call(o,f(this))})},_initSlideBack:function(a,c){a.css({marginTop:-(c.outerHeight(true)),width:a.width()});c.css({width:a.width(),marginLeft:!this.rtl?-a.width()-parseInt(a.css("margin-right"),10)||0:a.width()+parseInt(a.css("margin-right"),10)||0,display:"block",height:"auto"})},_fadeChangeBack:function(c,l,h,a){this._fadeChange(c,l,h,a)},_fadeChange:function(c,n,l,a){var o=this;c.fadeOut(l/2,function(){n.fadeIn(l/2,function(){a.call(o,f(this))})})},_removeClasses:function(){this._filterBar.removeClass(this.toThemeProperty("jqx-listmenu-filter"));this._filterBar.removeClass(this.toThemeProperty("jqx-widget-header"));this._filterInput.removeClass(this.toThemeProperty("jqx-listmenu-filter-input"));this._filterInput.removeClass(this.toThemeProperty("jqx-input"));this._header.removeClass(this.toThemeProperty("jqx-listmenu-header"));this._header.removeClass(this.toThemeProperty("jqx-widget-header"));this._header.removeClass(this.toThemeProperty("jqx-rc-t"));if(this.roundedCorners){this.host.removeClass(this.toThemeProperty("jqx-rc-all"))}this.host.removeClass(this.toThemeProperty("jqx-widget"));this.host.removeClass(this.toThemeProperty("jqx-listmenu-widget"));this.host.removeClass(this.toThemeProperty("jqx-fill-state-normal"));this.host.removeClass(this.toThemeProperty("jqx-reset"));if(this.host.find('div[data-role="content"]').length>0){this.host.find('div[data-role="content"]').removeClass(this.toThemeProperty("jqx-widget-content"))}},_addClasses:function(){if(this.roundedCorners){this.host.addClass(this.toThemeProperty("jqx-rc-all"))}else{this.host.removeClass(this.toThemeProperty("jqx-rc-all"))}this.host.addClass("jqx-widget");this.host.addClass("jqx-listmenu-widget");this.host.addClass("jqx-fill-state-normal");this.host.addClass("jqx-reset");this._filterBar.addClass(this.toThemeProperty("jqx-listmenu-filter"));this._filterBar.addClass(this.toThemeProperty("jqx-widget-header"));this._filterInput.addClass(this.toThemeProperty("jqx-listmenu-filter-input"));this._filterInput.addClass(this.toThemeProperty("jqx-input"));this._header.addClass(this.toThemeProperty("jqx-listmenu-header"));this._header.addClass(this.toThemeProperty("jqx-widget-header"));this._header.addClass(this.toThemeProperty("jqx-rc-t"));if(this.host.find('div[data-role="content"]').length>0){this.host.find('div[data-role="content"]').addClass(this.toThemeProperty("jqx-widget-content"))}},_raiseEvent:function(){},_filter:function(a){var l=this.host.find(".jqx-listmenu-item");for(var n=0;n<l.length;n+=1){var c=f.trim(f(l[n]).text());if(!this.filterCallback(c,a)){l[n].style.display="none"}else{l[n].style.display="block"}}var l=this.host.find(".jqx-listmenu-separator");for(var n=0;n<l.length;n+=1){var o=false;f.each(l[n].items,function(){if(f(this).css("display")!="none"){o=true;return false}});if(!o){l[n].style.display="none"}else{l[n].style.display="block"}}},disable:function(){this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"));this.disabled=true},enable:function(){this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled"));this.disabled=false},propertyChangedHandler:function(l,h,a,c){if(h=="disabled"){if(c){l.disable()}else{l.enable()}}if(h==="backLabel"){l._backButton.html(c);return}else{if(h==="placeHolder"){l._filterInput.attr("placeholder",c)}else{if((/(showFilter|showHeader|showBackButton|width|height|autoSeparators|readOnly)/).test(h)){l._render();return}}}}})}(jqxBaseFramework));try{(function(af,an){an.jqwidgets=an.jqwidgets||{};an.jqwidgets.knockout=function(d){var c=this;var a={},e=d.name;a.init=function(n,l,s,o){var t=an.utils.unwrapObservable(l());var f=an.toJS(t);if(d.reset){d.reset()}if(af.data(n)[e]==undefined){var q=[];af(n)[e]();widget=af.data(n)[e].instance;af.each(d,function(v,u){if(widget.hasOwnProperty(v)&&f.hasOwnProperty(v)){if(!widget.koupdating){widget.koupdatingFromObservable=true;try{var z=false;if(d.serialize){if(d.serialize(widget,v)){if(an.toJSON(f[v])!=an.toJSON(d.serialize(widget,v))){d.setProperty(widget,v,widget[v],f[v])}z=true}}if(!z){if(an.toJSON(f[v])!=an.toJSON(widget[v])){d.setProperty(widget,v,widget[v],f[v])}}}catch(w){d.setProperty(widget,v,widget[v],f[v])}q[v]=v;widget.koupdatingFromObservable=false}}});var h={};af.each(f,function(v,u){if(q[v]==undefined){h[v]=f[v]}});widget.host[e](h)}widget=af.data(n)[e].instance;widget.koupdatingFromObservable=false;widget.koupdating=false;if(d.events){af.each(d.events,function(){var u=this;af(n).on(u+"."+n.id,function(v){widget=af.data(n)[e].instance;if(!widget.koupdatingFromObservable){var w=widget;w.koupdating=true;var z=l();var A=d.getProperty(widget,v,u,t);if(A!=undefined){if(z.hasOwnProperty(A.name)&&af.isFunction(z[A.name])){if(an.isObservable(z[A.name])&&z[A.name].push){l(A.value)}else{z[A.name](A.value)}}else{if(z[A.name]){l(A.value)}}}w.koupdating=false}})})}};a.update=function(l,h,o,n,q){var s=an.utils.unwrapObservable(h());var f=an.toJS(s);widget=af.data(l)[e].instance;if(widget.koupdating){return}af.each(d,function(v,u){if(widget.hasOwnProperty(v)&&f.hasOwnProperty(v)){if(!widget.koupdating){widget.koupdatingFromObservable=true;var t=false;if(d.serialize){if(d.serialize(widget,v)){if(an.toJSON(f[v])!=an.toJSON(d.serialize(widget,v))){d.setProperty(widget,v,widget[v],f[v])}t=true}}if(!t){if(an.toJSON(f[v])!=an.toJSON(widget[v])){d.setProperty(widget,v,widget[v],f[v])}}widget.koupdatingFromObservable=false}}})};an.bindingHandlers[d.name]=a};var U=new an.jqwidgets.knockout({name:"jqxGauge",disabled:false,min:0,max:220,value:0,reset:function(){this.value=0;this.max=220;this.min=0;this.disabled=false},getProperty:function(c,a,d){},setProperty:function(e,d,c,a){if(d=="disabled"){e.host.jqxGauge({disabled:a})}if(d=="min"){e.host.jqxGauge({min:a})}if(d=="max"){e.host.jqxGauge({max:a})}if(d=="value"){e.host.jqxGauge({value:a})}}});var ak=new an.jqwidgets.knockout({name:"jqxLinearGauge",disabled:false,min:0,max:220,value:0,reset:function(){this.value=0;this.max=220;this.min=0;this.disabled=false},getProperty:function(c,a,d){},setProperty:function(e,d,c,a){if(d=="disabled"){e.host.jqxLinearGauge({disabled:a})}if(d=="min"){e.host.jqxLinearGauge({min:a})}if(d=="max"){e.host.jqxLinearGauge({max:a})}if(d=="value"){e.host.jqxLinearGauge({value:a})}}});var aa=new an.jqwidgets.knockout({name:"jqxSlider",disabled:false,min:0,max:10,value:0,reset:function(){this.value=0;this.max=10;this.min=0;this.disabled=false},events:["change"],getProperty:function(c,a,d){if(d=="change"){return{name:"value",value:a.args.value}}},setProperty:function(e,d,c,a){if(d=="disabled"){e.host.jqxSlider({disabled:a})}if(d=="min"){e.host.jqxSlider({min:parseFloat(a)})}if(d=="max"){e.host.jqxSlider({max:parseFloat(a)})}if(d=="value"){e.host.jqxSlider({value:parseFloat(a)})}}});var T=new an.jqwidgets.knockout({name:"jqxScrollBar",disabled:false,min:0,max:10,value:0,reset:function(){this.value=0;this.max=10;this.min=0;this.disabled=false},events:["valueChanged"],getProperty:function(c,a,d){if(d=="valueChanged"){return{name:"value",value:parseInt(a.currentValue)}}},setProperty:function(e,d,c,a){if(d=="disabled"){e.host.jqxScrollBar({disabled:a})}if(d=="min"){e.host.jqxScrollBar({min:parseFloat(a)})}if(d=="max"){e.host.jqxScrollBar({max:parseFloat(a)})}if(d=="value"){e.host.jqxScrollBar({value:parseFloat(a)})}}});var ap=new an.jqwidgets.knockout({name:"jqxProgressBar",disabled:false,value:0,reset:function(){this.value=0;this.disabled=false},events:["valueChanged"],getProperty:function(c,a,d){if(d=="valueChanged"){return{name:"value",value:parseInt(a.currentValue)}}},setProperty:function(e,d,c,a){if(d=="disabled"){e.host.jqxProgressBar({disabled:a})}if(d=="value"){e.host.jqxProgressBar({value:parseFloat(a)})}}});var aj=new an.jqwidgets.knockout({name:"jqxButton",disabled:false,reset:function(){this.disabled=false},getProperty:function(c,a,d){},setProperty:function(e,d,c,a){if(d=="disabled"){e.host.jqxButton({disabled:a})}}});var ag=new an.jqwidgets.knockout({name:"jqxCheckBox",checked:false,disabled:false,reset:function(){this.checked=false;this.disabled=false},events:["change"],getProperty:function(c,a,d){if(d=="change"){return{name:"checked",value:a.args.checked}}},setProperty:function(e,d,c,a){if(d=="disabled"){e.host.jqxCheckBox({disabled:a})}if(d=="checked"){if(c!=a){e.host.jqxCheckBox({checked:a})}}}});var S=new an.jqwidgets.knockout({name:"jqxRadioButton",checked:false,disabled:false,reset:function(){this.checked=false;this.disabled=false},events:["change"],getProperty:function(c,a,d){if(d=="change"){return{name:"checked",value:a.args.checked}}},setProperty:function(e,d,c,a){if(d=="disabled"){e.host.jqxRadioButton({disabled:a})}if(d=="checked"){if(c!=a){e.host.jqxRadioButton({checked:a})}}}});var W=new an.jqwidgets.knockout({name:"jqxDateTimeInput",value:null,disabled:false,reset:function(){this.value=null;this.disabled=false},events:["valueChanged"],getProperty:function(c,a,d){if(d=="valueChanged"){return{name:"value",value:a.args.date}}},setProperty:function(e,d,c,a){if(d=="value"){e.setDate(a)}if(d=="disabled"){e.host.jqxDateTimeInput({disabled:a})}}});var O=new an.jqwidgets.knockout({name:"jqxCalendar",value:null,disabled:false,reset:function(){this.value=null;this.disabled=false},events:["valueChanged"],getProperty:function(c,a,d){if(d=="valueChanged"){return{name:"value",value:a.args.date}}},setProperty:function(e,d,c,a){if(d=="value"){e.setDate(a)}if(d=="disabled"){e.host.jqxCalendar({disabled:a})}}});var Q=new an.jqwidgets.knockout({name:"jqxNumberInput",value:null,events:["valueChanged"],disabled:false,reset:function(){this.value=null;this.disabled=false},getProperty:function(c,a,d){if(d=="valueChanged"){return{name:"value",value:c.val()}}},setProperty:function(e,d,c,a){if(d=="value"){e.host.jqxNumberInput("val",a)}if(d=="disabled"){e.host.jqxNumberInput({disabled:a})}}});var ad=new an.jqwidgets.knockout({name:"jqxMaskedInput",value:null,events:["valueChanged"],disabled:false,reset:function(){this.value=null;this.disabled=false},getProperty:function(c,a,d){if(d=="valueChanged"){return{name:"value",value:c.val()}}},setProperty:function(e,d,c,a){if(d=="value"){e.host.jqxMaskedInput("val",a)}if(d=="disabled"){e.host.jqxMaskedInput({disabled:a})}}});var am=new an.jqwidgets.knockout({name:"jqxListBox",source:null,disabled:false,selectedIndex:-1,reset:function(){this.disabled=false;this.selectedIndex=-1;this.source=null},events:["change"],getProperty:function(c,a,d){if(d=="change"){this.selectedIndex=c.selectedIndex;return{name:"selectedIndex",value:c.selectedIndex}}},setProperty:function(e,d,a,f){if(d=="source"){e.source=f;e.refresh()}if(d=="disabled"){e.disabled=f;e._renderItems()}if(d=="selectedIndex"){var c=e.disabled;e.disabled=false;e.selectIndex(f);e.disabled=c;if(c){e._renderItems()}}}});var M=new an.jqwidgets.knockout({name:"jqxDropDownList",source:null,disabled:false,selectedIndex:-1,reset:function(){this.disabled=false;this.selectedIndex=-1;this.source=null},events:["change"],getProperty:function(c,a,d){if(d=="change"){return{name:"selectedIndex",value:c.selectedIndex}}},setProperty:function(e,d,c,a){if(d=="source"){e.host.jqxDropDownList({source:a})}if(d=="disabled"){e.host.jqxDropDownList({disabled:a})}if(d=="selectedIndex"){e.host.jqxDropDownList({selectedIndex:a})}}});var ae=new an.jqwidgets.knockout({name:"jqxComboBox",source:null,disabled:false,selectedIndex:-1,reset:function(){this.disabled=false;this.selectedIndex=-1;this.source=null},events:["change"],getProperty:function(c,a,d){if(d=="change"){return{name:"selectedIndex",value:c.selectedIndex}}},setProperty:function(e,d,c,a){if(d=="source"){e.host.jqxComboBox({source:a})}if(d=="disabled"){e.host.jqxComboBox({disabled:a})}if(d=="selectedIndex"){e.host.jqxComboBox({selectedIndex:a})}}});var J=new an.jqwidgets.knockout({name:"jqxInput",source:null,disabled:false,value:"",reset:function(){this.disabled=false;this.source=null},events:["change"],getProperty:function(c,a,d){if(d=="change"){return{name:"value",value:c.host.val()}}},setProperty:function(e,d,c,a){if(d=="source"){e.host.jqxInput({source:a})}if(d=="disabled"){e.host.jqxInput({disabled:a})}if(d=="value"){e.host.jqxInput({value:a})}}});var N=new an.jqwidgets.knockout({name:"jqxComplexInput",source:null,disabled:false,value:"",reset:function(){this.disabled=false;this.source=null},events:["change"],getProperty:function(c,a,d){if(d=="change"){return{name:"value",value:c.host.val()}}},setProperty:function(e,d,c,a){if(d=="source"){e.host.jqxComplexInput({source:a})}if(d=="disabled"){e.host.jqxComplexInput({disabled:a})}if(d=="value"){e.host.jqxComplexInput({value:a})}}});var al=new an.jqwidgets.knockout({name:"jqxFormattedInput",source:null,disabled:false,value:"",reset:function(){this.disabled=false;this.source=null},events:["change"],getProperty:function(c,a,d){if(d=="change"){return{name:"value",value:c.host.val()}}},setProperty:function(e,d,c,a){if(d=="source"){e.host.jqxFormattedInput({source:a})}if(d=="disabled"){e.host.jqxFormattedInput({disabled:a})}if(d=="value"){e.host.jqxFormattedInput({value:a})}}});var L=new an.jqwidgets.knockout({name:"jqxPasswordInput",source:null,disabled:false,value:"",reset:function(){this.disabled=false;this.source=null},events:["change"],getProperty:function(c,a,d){if(d=="change"){return{name:"value",value:c.host.val()}}},setProperty:function(e,d,c,a){if(d=="source"){e.host.jqxPasswordInput({source:a})}if(d=="disabled"){e.host.jqxPasswordInput({disabled:a})}if(d=="value"){e.host.jqxPasswordInput({value:a})}}});var P=new an.jqwidgets.knockout({name:"jqxTree",source:null,disabled:false,reset:function(){this.disabled=false;this.source=null},getProperty:function(c,a,d){},setProperty:function(e,d,c,a){if(d=="source"){e.host.jqxTree({source:a})}if(d=="disabled"){e.host.jqxTree({disabled:a})}}});var ai=new an.jqwidgets.knockout({name:"jqxTabs",disabled:false,reset:function(){this.disabled=false},getProperty:function(c,a,d){},setProperty:function(e,d,c,a){if(d=="disabled"){e.host.jqxTabs({disabled:a})}}});var R=new an.jqwidgets.knockout({name:"jqxWindow",disabled:false,content:"",title:"",reset:function(){this.disabled=false;this.title="";this.content=""},getProperty:function(c,a,d){},setProperty:function(e,d,c,a){if(d=="disabled"){e.host.jqxWindow({disabled:a})}else{if(d=="content"){e.host.jqxWindow("setContent",a)}else{if(d=="title"){e.host.jqxWindow({title:a})}}}}});var K=new an.jqwidgets.knockout({name:"jqxNavigationBar",disabled:false,reset:function(){this.disabled=false},getProperty:function(c,a,d){},setProperty:function(e,d,c,a){if(d=="disabled"){if(a!=this.disabled){this.disabled=a;e.host.jqxNavigationBar({disabled:a})}}}});var Y=new an.jqwidgets.knockout({name:"jqxMenu",source:null,disabled:false,reset:function(){this.disabled=false;this.source=null},getProperty:function(c,a,d){},setProperty:function(e,d,c,a){if(d=="source"){e.host.jqxMenu({source:a})}if(d=="disabled"){e.host.jqxMenu({disabled:a})}}});var I=new an.jqwidgets.knockout({name:"jqxChart",source:null,disabled:false,reset:function(){this.disabled=false;this.source=null},getProperty:function(c,a,d){},setProperty:function(e,d,c,a){if(d=="source"){this.source=a;e.host.jqxChart({source:a})}if(d=="disabled"){this.disabled=a;e.host.jqxChart({disabled:a})}}});var ao=new an.jqwidgets.knockout({name:"jqxDataTable",source:null,disabled:false,reset:function(){this.disabled=false;this.source=null},getProperty:function(c,a,d){},setProperty:function(e,d,c,a){if(d=="source"){this.source=a;e.host.jqxDataTable({source:a})}if(d=="disabled"){this.disabled=a;e.host.jqxDataTable({disabled:a})}}});var Z=new an.jqwidgets.knockout({name:"jqxTreeGrid",source:null,disabled:false,reset:function(){this.disabled=false;this.source=null},getProperty:function(c,a,d){},setProperty:function(e,d,c,a){if(d=="source"){this.source=a;e.host.jqxTreeGrid({source:a})}if(d=="disabled"){this.disabled=a;e.host.jqxTreeGrid({disabled:a})}}});var V=new an.jqwidgets.knockout({name:"jqxKnob",value:0,disabled:false,reset:function(){this.disabled=false;this.source=null},getProperty:function(c,a,d){},setProperty:function(e,d,c,a){if(d=="value"){this.value=a;e.host.jqxKnob({value:a})}if(d=="disabled"){this.disabled=a;e.host.jqxKnob({disabled:a})}}});var X=new an.jqwidgets.knockout({name:"jqxScheduler",source:null,disabled:false,reset:function(){this.disabled=false;this.source=null},getProperty:function(c,a,d){},setProperty:function(e,d,c,a){if(d=="source"){this.source=a;e.host.jqxScheduler({source:a})}if(d=="disabled"){this.disabled=a;e.host.jqxScheduler({disabled:a})}}});var ab=new an.jqwidgets.knockout({name:"jqxKanban",source:null,disabled:false,reset:function(){this.disabled=false;this.source=null},getProperty:function(c,a,d){},setProperty:function(e,d,c,a){if(d=="source"){this.source=a;e.host.jqxKanban({source:a})}if(d=="disabled"){this.disabled=a;e.host.jqxKanban({disabled:a})}}});var ac=new an.jqwidgets.knockout({name:"jqxGrid",source:null,disabled:false,selectedRowIndex:-1,reset:function(){this.disabled=false;this.source=null;this.selectedRowIndex=-1},serialize:function(a,c){if(c=="source"){if(a.source&&a.source._source){return a.source.records}}return false},events:["cellvaluechanged","cellselect","rowselect"],getProperty:function(l,o,f,h){if(f=="cellvaluechanged"){var n=l.host.jqxGrid("getrowid",o.args.rowindex);var a=l.host.jqxGrid("getrowdata",n);var q=h.source;if(q!=undefined){var c={};var s={};var d=false;var e=false;if(q()[n]){af.each(q()[n],function(u,t){c[u]=t;s[u]="";if(an.isObservable(t)&&!an.isComputed(t)){d=true;t(a[u])}if(an.isObservable(t)&&an.isComputed(t)){e=true}})}if(!d){c=a;if(q.replace){q.replace(q()[n],s);q.replace(q()[n],c)}}else{c=a;if(q.replace){q.replace(q()[n],c)}}if(e){l.host.jqxGrid("updaterow",n,an.toJS(q)[n])}return{name:"source",value:q}}}},setProperty:function(q,d,e,t){if(d=="selectedRowIndex"){q.host.jqxGrid("selectrow",t)}if(d=="source"){if(this.source==null||t==null){if(this.source!=t){this.source=t;var u={localdata:t,datatype:"local"};var f=new af.jqx.dataAdapter(u);q.host.jqxGrid({source:f})}}else{var u={localdata:t,datatype:"local"};var f=new af.jqx.dataAdapter(u);f.dataBind();if(!e.records||!f.records){return}var a=Math.max(e.records.length,f.records.length);var h=Math.abs(e.records.length-f.records.length);if(h==0){if(a>10){q.host.jqxGrid({source:f});return}}if(h>1){q.host.jqxGrid("beginupdate")}var c=new Array();for(var n=0;n<a;n++){var l=f.records[n];if(l==undefined){var s=q.host.jqxGrid("getrowid",n);c.push(s)}else{var o=e.records[n]!=undefined;if(o){if(an.toJSON(l)!=an.toJSON(e.records[n])){if(e.records[n].uid!=undefined){l.uid=e.records[n].uid;if(an.toJSON(l)==an.toJSON(e.records[n])){continue}}var s=q.host.jqxGrid("getrowid",n);q.host.jqxGrid("updaterow",s,l)}}else{q.host.jqxGrid("addrow",null,l)}}}if(c.length>0){q.host.jqxGrid("deleterow",c)}if(h>1){q.host.jqxGrid("endupdate")}}}if(d=="disabled"){q.host.jqxGrid({disabled:t})}}});var ah=new an.jqwidgets.knockout({name:"jqxBulletChart",pointer:{value:0},target:{value:0},disabled:false,reset:function(){this.pointer.value=0;this.target.value=0;this.disabled=false},getProperty:function(c,a,d){},setProperty:function(e,d,c,a){if(d=="pointer"){e.host.jqxBulletChart({pointer:a})}if(d=="target"){e.host.jqxBulletChart({target:a})}if(d=="disabled"){e.host.jqxBulletChart({disabled:a})}}})}(jqxBaseFramework,ko))}catch(error){var er=error}(function(c){var d=0;c.jqx.jqxWidget("jqxScrollView","",{});c.extend(c.jqx._jqxScrollView.prototype,{defineInstance:function(){var a={width:320,height:320,buttonsOffset:[0,0],moveThreshold:0.5,currentPage:0,animationDuration:300,showButtons:true,bounceEnabled:true,slideShow:false,slideDuration:3000,disabled:false,_mouseDown:false,_movePermited:false,_startX:-1,_startOffset:-1,_lastOffset:-1,_events:["pageChanged"],_eventsMap:{mousedown:c.jqx.mobile.getTouchEventName("touchstart"),mouseup:c.jqx.mobile.getTouchEventName("touchend"),mousemove:c.jqx.mobile.getTouchEventName("touchmove")}};c.extend(true,this,a);return a},createInstance:function(){d+=1;this._instanceId=d;this._isTouchDevice=c.jqx.mobile.isTouchDevice();var a=this;c.jqx.utilities.resize(this.host,function(){a.refresh()})},resize:function(a,e){this.width=a;this.height=e;this.refresh()},refresh:function(){this.host.width(this.width);this.host.height(this.height);this._render();this._performLayout();if(this.moveThreshold.toString().indexOf("%")>=0){this.moveThreshold=parseInt(this.moveThreshold,10)/100}this._refreshPages();this._refreshButtons();this._removeEventListeners();this._addEventListeners();this._changePage(this.currentPage,false,0);if(this.slideShow){var a=this;this.slideShowTimer=setInterval(function(){if(a.currentPage>=a._pages.length-1){a._changePage(0,true,a.animationDuration)}else{a._changePage(a.currentPage+1,true,a.animationDuration)}},this.slideDuration)}else{if(this.slideShowTimer!=undefined){clearInterval(this.slideShowTimer)}}},destroy:function(){this.host.remove()},_getEvent:function(a){if(this._isTouchDevice){return this._eventsMap[a]}return a},_eventNamespace:function(){return".scrollview"+this._instanceId},_removeEventListeners:function(){this.removeHandler(this._innerWrapper);this.removeHandler(this.host,this._getEvent("mousemove")+this._eventNamespace());this.removeHandler(c(document),this._getEvent("mouseup")+this._eventNamespace())},_getCoordinate:function(h,f){if(this._isTouchDevice){var a=c.jqx.position(h);if(f=="pageX"){return a.left}if(f=="pageY"){return a.top}if(h.originalEvent.touches){return h.originalEvent.touches[0][f]}}return h[f]},_draggedRight:function(){if(this.currentPage>0){var h=this.currentPage-1,l=c(this._pages[h]),n=l.offset().left+l.outerWidth(),a=n-this.host.offset().left;if(a>=(this.host.width()*this.moveThreshold)){this.changePage(h);return true}}return false},_draggedLeft:function(){if(this.currentPage+1<this._pages.length){var f=this.currentPage+1,h=c(this._pages[f]),a=this.host.width()-(h.offset().left-this.host.offset().left);if(a>=(this.host.width()*this.moveThreshold)){this.changePage(f);return true}}return false},_dropTarget:function(){var a;if(this._movedLeft){a=this._draggedLeft()}else{a=this._draggedRight()}if(!a){this.changePage(this.currentPage,false)}},_scrollEnabled:function(a){if(!this._mouseDown){return false}if(!this._movePermited){if(Math.abs(this._getCoordinate(a,"pageX")-this._startX)>=15){this._movePermited=true}}return this._movePermited},_setMoveDirection:function(a){if(this._lastOffset>a){this._movedLeft=true}else{this._movedLeft=false}},_getBounceOffset:function(a){var e=-(this._innerWrapper.width()-this.host.width());if(a>0){a=0}else{if(a<e){a=e}}return a},_addEventListeners:function(){var h=this;this.addHandler(this._innerWrapper,this._getEvent("mousedown")+this._eventNamespace(),function(e){h._mouseDown=true;h._startX=h._getCoordinate(e,"pageX");h._startOffset=h._lastOffset=parseInt(h._innerWrapper.css("margin-left"),10)});this.addHandler(this.host,"dragstart",function(){return false});this.addHandler(this.host,this._getEvent("mousemove")+this._eventNamespace(),function(l){if(h._scrollEnabled(l)){var e=h._startOffset+h._getCoordinate(l,"pageX")-h._startX;if(!h.bounceEnabled){e=h._getBounceOffset(e)}h._innerWrapper.css("margin-left",e);h._setMoveDirection(e);h._lastOffset=e;l.preventDefault();return false}return true});this.addHandler(c(document),this._getEvent("mouseup")+this._eventNamespace(),function(e){if(h._movePermited){h._dropTarget()}h._movePermited=false;h._mouseDown=false});try{if(document.referrer!=""||window.frameElement){if(window.top!=null){if(window.parent&&document.referrer){parentLocation=document.referrer}}if(parentLocation.indexOf(document.location.host)!=-1){var a=function(e){if(h._movePermited){h._dropTarget()}h._movePermited=false;h._mouseDown=false};if(window.top.document.addEventListener){window.top.document.addEventListener("mouseup",a,false)}else{if(window.top.document.attachEvent){window.top.document.attachEvent("onmouseup",a)}}}}}catch(f){}},_render:function(){this.host.addClass(this.toThemeProperty("jqx-scrollview"));this.host.css({overflow:"hidden",position:"relative"})},_performLayout:function(){this.host.css({width:this.width,height:this.height})},_renderPages:function(){if(!this._innerWrapper){this._innerWrapper=c("<div/>");this.host.wrapInner(this._innerWrapper);this._innerWrapper=this.host.children().first()}this._innerWrapper.addClass(this.toThemeProperty("jqx-scrollview-inner-wrapper"));this._innerWrapper.height(this.host.height())},_refreshPage:function(a){a.addClass(this.toThemeProperty("jqx-scrollview-page"));this._performPageLayout(a)},_refreshPages:function(){var e=this,a=0;this._renderPages();this._pages=this._innerWrapper.children();this._pages.each(function(){e._refreshPage(c(this));a+=c(this).outerWidth(true)});this._innerWrapper.width(a)},_performPageLayout:function(a){a.css("float","left");a.width(this.host.width());a.height(this.host.height())},_refreshButtons:function(){this._renderButtons();this._removeButtonsEventListeners();this._addButtonsEventListeners();this._performButtonsLayout()},_removeButtonsEventListeners:function(){var a=this;this._buttonsContainer.children().each(function(){a.removeHandler(c(this))})},_addButtonsEventListeners:function(){var a=this;this._buttonsContainer.children().each(function(e){a.addHandler(c(this),"click",function(){a.changePage(e)})})},_performButtonsLayout:function(){var a=(this.host.width()-this._buttonsContainer.width())/2;var e=this._buttonsContainer.outerHeight()!=0?this._buttonsContainer.outerHeight():14;this._buttonsContainer.css({position:"absolute",left:a+parseInt(this.buttonsOffset[0],10),top:this.host.height()-2*e+parseInt(this.buttonsOffset[1],10)-1})},_renderButtons:function(){if(this._buttonsContainer){this._buttonsContainer.remove()}var a,f;this._buttons=[];this._buttonsContainer=c("<span/>");for(var h=0;h<this._pages.length;h+=1){f=c('<span class="'+this.toThemeProperty("jqx-scrollview-button")+" "+this.toThemeProperty("jqx-fill-state-normal")+'"></span>');this._buttonsContainer.append(f);this._buttons[h]=f}this._buttonsContainer.appendTo(this.host);if(!this.showButtons){this._buttonsContainer.hide()}},_raiseEvent:function(h,a){var f=new c.Event(this._events[h]);f.args=a;return this.host.trigger(f)},_swapButtons:function(e,a){this._buttons[e].removeClass(this.toThemeProperty("jqx-scrollview-button-selected"));this._buttons[e].removeClass(this.toThemeProperty("jqx-fill-state-pressed"));this._buttons[a].addClass(this.toThemeProperty("jqx-scrollview-button-selected"));this._buttons[a].addClass(this.toThemeProperty("jqx-fill-state-pressed"))},_changePage:function(t,q,l){if(this.disabled){return}var n=c(this._pages[t]),o=(this.host.width()-n.width())/2,s=n.offset().left-this._innerWrapper.offset().left-o,a=this.currentPage,u=this;if(typeof l==="undefined"){l=this.animationDuration}this._innerWrapper.stop();this._swapButtons(this.currentPage,t);this.currentPage=t;this._innerWrapper.animate({marginLeft:-s},l,function(){if(q){u._raiseEvent(0,{currentPage:t,oldPage:a})}})},propertyChangedHandler:function(n,l,a,h){if(l==="currentPage"){n.currentPage=a;n.changePage(h)}else{if((/(buttonsOffset|width|height)/).test(l)){n.refresh()}else{if(l==="showButtons"){if(!h){n._buttonsContainer.css("display","none")}else{n._buttonsContainer.css("display","block")}return}else{if(l=="slideShow"){n.refresh()}}}}},changePage:function(a){if(a>=this._pages.length||a<0){throw new Error("Invalid index!")}this._changePage(a,true)},forward:function(){if(this.currentPage+1<this._pages.length){this.changePage(this.currentPage+1)}},back:function(){if(this.currentPage-1>=0){this.changePage(this.currentPage-1)}}})}(jqxBaseFramework));(function(c){var d=0;c.jqx.jqxWidget("jqxTouch","",{});c.extend(c.jqx._jqxTouch.prototype,{defineInstance:function(){this.swipeMin=50;this.swipeMax=500;this.swipeDelay=1000;this.tapHoldDelay=750;this.swipeMaxVerticalDisance=100;this.swipeMaxHorizontalDisance=100;this.orientationChangeEnabled=true;this._eventsMap={mousedown:c.jqx.mobile.getTouchEventName("touchstart"),mouseup:c.jqx.mobile.getTouchEventName("touchend"),mousemove:c.jqx.mobile.getTouchEventName("touchmove")};this._swipeLocked=false;this._rotationInterval=200;this._events=["tap","taphold","swipe","swipeleft","swiperight","swipetop","swipebottom","orientationchange"];this._instanceId=-1},createInstance:function(){d+=1;this._instanceId=d;this._isTouchDevice=c.jqx.mobile.isTouchDevice();this._defineRotateHandler()},refresh:function(){this._removeEventListeners();this._addEventListeners()},_defineRotateHandler:function(){var a=this;if(!this._rotateHandler){this._rotateHandler=function(){a._checkOrientation()}}},_getEvent:function(a){if(this._isTouchDevice){a=this._eventsMap[a]}return a+this._getEventNamespace()},_getEventNamespace:function(){return".swipe"+this._instanceId},_removeEventListeners:function(){clearInterval(this._rotateInterval);this.removeHandler(c(document),this._getEvent("mouseup"));this.removeHandler(this.host,this._getEvent("mousedown"));this.removeHandler(this.host,this._getEvent("mousemove"));if(window.removeEventListener){window.removeEventListener("resize",this._rotateHandler);window.removeEventListener("orientationchange",this._rotateHandler)}},_addEventListeners:function(){var a=this;this.addHandler(this.host,this._getEvent("mouseup"),function(e){a._resetSwipe();a._resetTap()});this.addHandler(this.host,this._getEvent("mousedown"),function(e){a._initSwipe(e);a._initTap(e)});this.addHandler(this.host,this._getEvent("mousemove"),function(e){a._maxSwipeVerticalDistance=Math.max(a._maxSwipeVerticalDistance,Math.abs(a._startY-a._getCoordinates(e).y));a._maxSwipeHorizontalDistance=Math.max(a._maxSwipeHorizontalDistance,Math.abs(a._startX-a._getCoordinates(e).x));a._mouseMoved=true;return a._handleSwipeEvents(e)});this._rotationListeners()},_handleSwipeEvents:function(a){var e=true;if(this._mouseDown&&!this._tapHoldFired){e=this._handleVerticalSwipeEvents(a);e=this._handleHorizontalSwipeEvents(a)}this._lastPosition=this._getCoordinates(a);return e},_handleVerticalSwipeEvents:function(a){var e,h;e=this._getCoordinates(a).y;h=e-this._startY;if(this._maxSwipeHorizontalDistance<this.swipeMaxHorizontalDisance){return this._swiped(a,h,2)}return true},_handleHorizontalSwipeEvents:function(a){var e,h;e=this._getCoordinates(a).x;h=e-this._startX;if(this._maxSwipeVerticalDistance<this.swipeMaxVerticalDisance){return this._swiped(a,h)}return true},_swiped:function(a,e,h){h=h||0;if(Math.abs(e)>=this.swipeMin&&!this._swipeEvent&&!this._swipeLocked){this._swipeEvent=this._getSwipeEvent(e,h)}if(Math.abs(e)<=this.swipeMax){a.stopImmediatePropagation();return false}return true},_getSwipeEvent:function(a,f){var h;if(a<0){h={eventId:3+f,data:{target:this.host}}}else{h={eventId:4+f,data:{target:this.host}}}return h},_resetSwipe:function(){if(this._swipeEvent&&!this._swipeLocked){this._raiseEvent(2,this._swipeEvent.data);this._raiseEvent(this._swipeEvent.eventId,this._swipeEvent.data)}clearTimeout(this._swipeTimeout);this._mouseDown=false},_resetTap:function(){clearTimeout(this._tapHoldTimeout);if(!this._tapHoldFired&&!this._mouseMoved){this._raiseEvent(0,{target:this.host})}},_initTap:function(a){var e=this;this._mouseMoved=false;this._tapHoldFired=false;this._tapHoldTimeout=setTimeout(function(){if(!e._mouseMoved){e._raiseEvent(1,{target:this.host});e._tapHoldFired=true}},this.tapHoldDelay)},_initSwipe:function(a){var e=this;this._mouseDown=true;this._maxSwipeVerticalDistance=0;this._maxSwipeHorizontalDistance=0;this._startX=this._getCoordinates(a).x;this._startY=this._getCoordinates(a).y;this._swipeLocked=false;this._swipeEvent=null;this._swipeTimeout=setTimeout(function(){e._swipeLocked=true},this.swipeDelay)},_rotationListeners:function(){var a=this;this._previousOrientation=window.orientation;this._previousWidth=screen.width;if(this.orientationChangeEnabled){if(window.addEventListener){window.addEventListener("resize",this._rotateHandler,false);window.addEventListener("orientationchange",this._rotateHandler,false)}this._rotateInterval=setInterval(function(){a._checkOrientation()},this._rotationInterval)}},_checkOrientation:function(){var a="vertical";if(window.orientation!==this._previousOrientation||this._previousWidth!==screen.width){if(window.orientation===90||screen.width>screen.height){a="horizontal"}this._raiseEvent(7,{orientation:a})}this._previousOrientation=window.orientation;this._previousWidth=screen.width},_raiseEvent:function(f,h){var a=c.Event(this._events[f]);a.args=h;return this.host.trigger(a)},_getCoordinates:function(e){var a=c.jqx.position(e);a.x=a.left;a.y=a.top;return a},propertyChangedHandler:function(n,l,a,h){if(l==="orientationChangeEnabled"){this.refresh()}else{return}},isTouchDevice:function(){return this._isTouchDevice}})}(jqxBaseFramework));(function(c){c.jqx.jqxWidget("jqxInput","",{});c.extend(c.jqx._jqxInput.prototype,{defineInstance:function(){var d=this;var a={disabled:false,filter:d._filter,sort:d._sort,highlight:d._highlight,dropDownWidth:null,renderer:d._renderer,opened:false,$popup:c("<ul></ul>"),source:[],roundedCorners:true,searchMode:"default",placeHolder:"",width:null,height:null,value:"",rtl:false,displayMember:"",valueMember:"",events:["select","open","close","change"],popupZIndex:20000,items:8,item:'<li><a href:"#"></a></li>',minLength:1,maxLength:null};c.extend(true,this,a);return a},createInstance:function(a){this.render()},render:function(){if(this.element.nodeName.toLowerCase()=="textarea"){this.element.style.overflow="auto"}else{if(this.element.nodeName.toLowerCase()=="div"){this.baseHost=this.element;var a=this.host.find("input");var h=false;c.each(a,function(){var d=this.type;if(d==null||d=="text"||d=="textarea"){a=c(this);h=true;return false}});if(!h){throw new Error("jqxInput: Missing Text Input in the Input Group")}if(a.length>0){this.baseHost=c(this.element);this.host=a;this.element=a[0];this.baseHost.addClass(this.toThemeProperty("jqx-widget"));this.baseHost.addClass(this.toThemeProperty("jqx-rc-all"));this.baseHost.addClass(this.toThemeProperty("jqx-input-group"));var l=this.baseHost.children();var f=this;c.each(l,function(d){c(this).addClass(f.toThemeProperty("jqx-input-group-addon"));c(this).removeClass(f.toThemeProperty("jqx-rc-all"));if(d==0){c(this).addClass(f.toThemeProperty("jqx-rc-l"))}if(d==l.length-1){c(this).addClass(f.toThemeProperty("jqx-rc-r"))}if(this!=f.element){c(this).addClass(f.toThemeProperty("jqx-fill-state-normal"))}})}}}this.addHandlers();if(this.rtl){this.host.addClass(this.toThemeProperty("jqx-rtl"))}this.host.attr("role","textbox");c.jqx.aria(this,"aria-autocomplete","both");c.jqx.aria(this,"aria-disabled",this.disabled);c.jqx.aria(this,"aria-readonly",false);c.jqx.aria(this,"aria-multiline",false);if(this.source&&this.source.length){c.jqx.aria(this,"aria-haspopup",true)}if(this.value!=""){this.element.value=this.value}this._oldsource=this.source;this._updateSource()},_updateSource:function(){var e=this;var a=function(d){var h=new Array();h=c.map(d,function(n){if(n==undefined){return null}if(typeof n==="string"||n instanceof String){return{label:n,value:n}}if(typeof n!="string"&&n instanceof String==false){var o="";var l="";if(e.displayMember!=""&&e.displayMember!=undefined){if(n[e.displayMember]){o=n[e.displayMember]}}if(e.valueMember!=""&&e.valueMember!=undefined){l=n[e.valueMember]}if(o==""){o=n.label}if(l==""){l=n.value}return{label:o,value:l}}return n});return h};if(this.source&&this.source._source){this.adapter=this.source;if(this.adapter._source.localdata!=null){this.adapter.unbindBindingUpdate(this.element.id);this.adapter.bindBindingUpdate(this.element.id,function(d){e.source=a(e.adapter.records)})}else{var f={};if(this.adapter._options.data){c.extend(e.adapter._options.data,f)}else{if(this.source._source.data){c.extend(f,this.source._source.data)}this.adapter._options.data=f}this.adapter.unbindDownloadComplete(this.element.id);this.adapter.bindDownloadComplete(this.element.id,function(d){e.source=a(e.adapter.records)})}this.source.dataBind();return}if(!c.isFunction(this.source)){this.source=a(this.source)}},_refreshClasses:function(d){var a=d?"addClass":"removeClass";this.host[a](this.toThemeProperty("jqx-widget-content"));this.host[a](this.toThemeProperty("jqx-input"));this.host[a](this.toThemeProperty("jqx-widget"));this.$popup[a](this.toThemeProperty("jqx-popup"));if(c.jqx.browser.msie){this.$popup[a](this.toThemeProperty("jqx-noshadow"))}this.$popup[a](this.toThemeProperty("jqx-input-popup"));this.$popup[a](this.toThemeProperty("jqx-menu"));this.$popup[a](this.toThemeProperty("jqx-menu-vertical"));this.$popup[a](this.toThemeProperty("jqx-menu-dropdown"));this.$popup[a](this.toThemeProperty("jqx-widget"));this.$popup[a](this.toThemeProperty("jqx-widget-content"));if(this.roundedCorners){this.host[a](this.toThemeProperty("jqx-rc-all"));this.$popup[a](this.toThemeProperty("jqx-rc-all"))}if(this.disabled){this.host[a](this.toThemeProperty("jqx-fill-state-disabled"))}else{this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled"))}},selectAll:function(){var a=this.host;setTimeout(function(){if("selectionStart" in a[0]){a[0].focus();a[0].setSelectionRange(0,a[0].value.length)}else{var d=a[0].createTextRange();d.collapse(true);d.moveEnd("character",a[0].value.length);d.moveStart("character",0);d.select()}},10)},selectLast:function(){var a=this.host;this.selectStart(a[0].value.length)},selectFirst:function(){var a=this.host;this.selectStart(0)},selectStart:function(d){var a=this.host;setTimeout(function(){if("selectionStart" in a[0]){a[0].focus();a[0].setSelectionRange(d,d)}else{var e=a[0].createTextRange();e.collapse(true);e.moveEnd("character",d);e.moveStart("character",d);e.select()}},10)},focus:function(){try{this.host.focus();var d=this;setTimeout(function(){d.host.focus()},25)}catch(a){}},resize:function(d,a){this.width=d;this.height=a;this.refresh()},refresh:function(){this._refreshClasses(false);this._refreshClasses(true);if(!this.baseHost){if(this.width){this.host.width(this.width)}if(this.height){this.host.height(this.height)}}else{if(this.width){this.baseHost.width(this.width)}if(this.height){this.baseHost.height(this.height);var e=this;var f=0;var a=this.baseHost.height()-2;if(c.jqx.browser.msie&&c.jqx.browser.version<8){this.baseHost.css("display","inline-block")}c.each(this.baseHost.children(),function(){c(this).css("height","100%");if(c.jqx.browser.msie&&c.jqx.browser.version<8){c(this).css("height",a+"px")}if(this!==e.element){f+=c(this).outerWidth()+2}});this.host.css("width",this.baseHost.width()-f-4+"px");if(c.jqx.browser.msie&&c.jqx.browser.version<9){this.host.css("min-height",a+"px");this.host.css("line-height",a+"px")}}}this.host.attr("disabled",this.disabled);if(this.maxLength){this.host.attr("maxlength",this.maxLength)}if(!this.host.attr("placeholder")){this._refreshPlaceHolder()}},_refreshPlaceHolder:function(){if("placeholder" in this.element){this.host.attr("placeHolder",this.placeHolder)}else{var a=this;if(this.element.value==""){this.element.value=this.placeHolder;this.host.focus(function(){if(a.element.value==a.placeHolder){a.element.value=""}});this.host.blur(function(){if(a.element.value==""||a.element.value==a.placeHolder){a.element.value=a.placeHolder}})}}},destroy:function(){this.removeHandlers();if(this.baseHost){this.baseHost.remove()}else{this.host.remove()}if(this.$popup){this.$popup.remove()}},propertyChangedHandler:function(a,l,f,h){if(l=="placeHolder"){a._refreshPlaceHolder();return}if(l==="theme"){c.jqx.utilities.setTheme(f,h,a.host)}if(l=="opened"){if(h){a.open()}else{a.close()}return}if(l=="source"){a._oldsource=h;a._updateSource()}if(l=="displayMember"||l=="valueMember"){a.source=a._oldsource;a._updateSource()}if(l=="disabled"){c.jqx.aria(a,"aria-disabled",a.disabled)}if(l=="value"){a.element.value=h}a.refresh()},select:function(n,l,a){var h=this.$popup.find(".jqx-fill-state-pressed").attr("data-value");var o=this.$popup.find(".jqx-fill-state-pressed").attr("data-name");this.element.value=this.renderer(o,this.element.value);this.selectedItem={label:o,value:h};this.host.attr("data-value",h);this.host.attr("data-label",o);this._raiseEvent("0",{item:{label:o,value:h},label:o,value:h});this._raiseEvent("3",{type:a,item:{label:o,value:h},label:o,value:h});return this.close()},val:function(a){if(arguments.length==0||(a!=null&&typeof(a)=="object"&&!a.label&&!a.value)){if(this.displayMember!=""&&this.valueMember!=""&&this.selectedItem){if(this.element.value===""){return""}return this.selectedItem}return this.element.value}if(a&&a.label){this.selectedItem={label:a.label,value:a.value};this.host.attr("data-value",a.value);this.host.attr("data-label",a.label);this.value=a;this.element.value=a.label;return this.element.value}this.value=a;this.element.value=a;this.host.attr("data-value",a);this.host.attr("data-label",a);if(a&&a.label){this._raiseEvent("3",{type:null,item:{label:a.label,value:a.value},label:a.label,value:a.value})}else{this._raiseEvent("3",{type:null,item:{label:a,value:a},label:a,value:a})}return this.element.value},_raiseEvent:function(h,o){if(o==undefined){o={owner:null}}var n=this.events[h];o.owner=this;var l=new c.Event(n);l.owner=this;l.args=o;if(l.preventDefault){l.preventDefault()}var a=this.host.trigger(l);return a},_renderer:function(a){return a},open:function(){if(c.jqx.isHidden(this.host)){return}var l=c.extend({},this.host.coord(true),{height:this.host[0].offsetHeight});if(this.$popup.parent().length==0){var f=this.element.id+"_popup";this.$popup[0].id=f;c.jqx.aria(this,"aria-owns",f)}this.$popup.appendTo(c(document.body)).css({position:"absolute",zIndex:this.popupZIndex,top:l.top+l.height,left:l.left}).show();var a=0;var h=this.$popup.children();c.each(h,function(){a+=c(this).outerHeight(true)-1});this.$popup.height(a);this.opened=true;this._raiseEvent("1",{popup:this.$popup});c.jqx.aria(this,"aria-expanded",true);return this},close:function(){this.$popup.hide();this.opened=false;this._raiseEvent("2",{popup:this.$popup});c.jqx.aria(this,"aria-expanded",false);return this},suggest:function(d){var a;this.query=this.element.value;if(!this.query||this.query.length<this.minLength){return this.opened?this.close():this}if(c.isFunction(this.source)){a=this.source(this.query,c.proxy(this.load,this))}else{a=this.source}if(a){return this.load(a)}return this},load:function(a){var d=this;a=c.grep(a,function(e){return d.filter(e)});a=this.sort(a);if(!a.length){if(this.opened){return this.close()}else{return this}}return this._render(a.slice(0,this.items)).open()},_filter:function(a){var f=this.query;var e=a;if(a.label!=null){e=a.label}else{if(this.displayMember){e=a[this.displayMember]}}switch(this.searchMode){case"none":break;case"containsignorecase":default:return c.jqx.string.containsIgnoreCase(e,f);case"contains":return c.jqx.string.contains(e,f);case"equals":return c.jqx.string.equals(e,f);case"equalsignorecase":return c.jqx.string.equalsIgnoreCase(e,f);case"startswith":return c.jqx.string.startsWith(e,f);case"startswithignorecase":return c.jqx.string.startsWithIgnoreCase(e,f);case"endswith":return c.jqx.string.endsWith(e,f);case"endswithignorecase":return c.jqx.string.endsWithIgnoreCase(e,f)}},_sort:function(a){var l=[],s=[],o=[],q;for(var t=0;t<a.length;t++){var q=a[t];var n=q;if(q.label){n=q.label}else{if(this.displayMember){n=q[this.displayMember]}}if(n.toString().toLowerCase().indexOf(this.query.toString().toLowerCase())===0){l.push(q)}else{if(n.toString().indexOf(this.query)>=0){s.push(q)}else{if(n.toString().toLowerCase().indexOf(this.query.toString().toLowerCase())>=0){o.push(q)}}}}return l.concat(s,o)},_highlight:function(f){var e=this.query;e=e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var a=new RegExp("("+e+")","ig");return f.replace(a,function(h,d){return"<b>"+d+"</b>"})},_render:function(a){var d=this;a=c(a).map(function(n,l){var h=l;if(l.value!=undefined){if(l.label!=undefined){n=c(d.item).attr({"data-name":l.label,"data-value":l.value})}else{n=c(d.item).attr({"data-name":l.value,"data-value":l.value})}}else{if(l.label!=undefined){n=c(d.item).attr({"data-value":l.label,"data-name":l.label})}else{if(d.displayMember!=undefined&&d.displayMember!=""){n=c(d.item).attr({"data-name":l[d.displayMember],"data-value":l[d.valueMember]})}else{n=c(d.item).attr({"data-value":l,"data-name":l})}}}if(l.label){h=l.label}else{if(d.displayMember){h=l[d.displayMember]}}n.find("a").html(d.highlight(h));var o="";if(d.rtl){o=" "+d.toThemeProperty("jqx-rtl")}n[0].className=d.toThemeProperty("jqx-item")+" "+d.toThemeProperty("jqx-menu-item")+" "+d.toThemeProperty("jqx-rc-all")+o;return n[0]});a.first().addClass(this.toThemeProperty("jqx-fill-state-pressed"));this.$popup.html(a);if(!this.dropDownWidth){this.$popup.width(this.host.outerWidth()-6)}else{this.$popup.width(this.dropDownWidth)}return this},next:function(f){var e=this.$popup.find(".jqx-fill-state-pressed").removeClass(this.toThemeProperty("jqx-fill-state-pressed")),a=e.next();if(!a.length){a=c(this.$popup.find("li")[0])}a.addClass(this.toThemeProperty("jqx-fill-state-pressed"))},prev:function(f){var e=this.$popup.find(".jqx-fill-state-pressed").removeClass(this.toThemeProperty("jqx-fill-state-pressed")),a=e.prev();if(!a.length){a=this.$popup.find("li").last()}a.addClass(this.toThemeProperty("jqx-fill-state-pressed"))},addHandlers:function(){var a=this;a.addHandler(a.host,"focus",c.proxy(a.onFocus,a));a.addHandler(a.host,"blur",c.proxy(a.onBlur,a));a.addHandler(a.host,"change.jqxinput"+a.element.id,function(l){if(!l.args){l.stopPropagation();l.preventDefault();l.stopImmediatePropagation();var n=a.val();if(n&&n.label){var o=n.label;var h=n.val}else{var o=n;var h=n}a._raiseEvent("3",{type:"keyboard",item:{label:o,value:h},label:o,value:h})}});a.addHandler(a.host,"keypress",c.proxy(a.keypress,a));a.addHandler(a.host,"keyup",c.proxy(a.keyup,a));a.addHandler(a.host,"keydown",c.proxy(a.keydown,a));a.addHandler(a.$popup,"mousedown",c.proxy(a.click,a));if(a.host.on){a.$popup.on("mouseenter","li",c.proxy(a.mouseenter,a))}else{a.$popup.bind("mouseenter","li",c.proxy(a.mouseenter,a))}},removeHandlers:function(){var a=this;a.removeHandler(a.host,"change.jqxinput"+a.element.id);a.removeHandler(a.host,"focus",c.proxy(a.onFocus,this));a.removeHandler(a.host,"blur",c.proxy(a.onBlur,this));a.removeHandler(a.host,"keypress",c.proxy(a.keypress,this));a.removeHandler(a.host,"keyup",c.proxy(a.keyup,this));a.removeHandler(a.host,"keydown",c.proxy(a.keydown,this));a.removeHandler(a.$popup,"mousedown",c.proxy(a.click,this));if(a.host.off){a.$popup.off("mouseenter","li",c.proxy(a.mouseenter,this))}else{a.$popup.unbind("mouseenter","li",c.proxy(a.mouseenter,this))}},move:function(a){if(!this.opened){return}switch(a.keyCode){case 9:case 13:case 27:a.preventDefault();break;case 38:if(!a.shiftKey){a.preventDefault();this.prev()}break;case 40:if(!a.shiftKey){a.preventDefault();this.next()}break}a.stopPropagation()},keydown:function(a){this.suppressKeyPressRepeat=~c.inArray(a.keyCode,[40,38,9,13,27]);this.move(a)},keypress:function(a){if(this.suppressKeyPressRepeat){return}this.move(a)},keyup:function(d){switch(d.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.opened){return}this.select(d,this,"keyboard");break;case 27:if(!this.opened){return}this.close();break;default:var a=this;if(this.timer){clearTimeout(this.timer)}this.timer=setTimeout(function(){a.suggest()},300)}d.stopPropagation();d.preventDefault()},clear:function(){this.host.val("")},onBlur:function(d){var a=this;setTimeout(function(){a.close()},150);a.host.removeClass(a.toThemeProperty("jqx-fill-state-focus"));this.value=this.host.val()},onFocus:function(d){var a=this;a.host.addClass(a.toThemeProperty("jqx-fill-state-focus"))},click:function(a){a.stopPropagation();a.preventDefault();this.select(a,this,"mouse")},mouseenter:function(a){this.$popup.find(".jqx-fill-state-pressed").removeClass(this.toThemeProperty("jqx-fill-state-pressed"));c(a.currentTarget).addClass(this.toThemeProperty("jqx-fill-state-pressed"))}})})(jqxBaseFramework);(function($){$.jqx.response=function(){this.defineInstance()};$.jqx.response.prototype={defineInstance:function(){this._handlers=new Array();this.refresh();var that=this;this.addHandler($(document),"scroll.jqxresponse",function(){that.scroll=that.getScroll()})},refresh:function(){this.os=this.getOS();this.browser=this.getBrowser();this.device=this.getDevice();this.viewPort=this.getViewPort();this.document=this.getDocument();this.scroll=this.getScroll();this.media=window.matchMedia||window.msMatchMedia||function(){return{}}},refreshSize:function(){this.viewPort=this.getViewPort();this.document=this.getDocument()},addHandler:function(source,event,func,data){switch(event){case"mousemove":if(window.addEventListener&&!data){source[0].addEventListener("mousemove",func,false);return false}break}if(source.on){source.on(event,func)}else{source.bind(event,func)}},removeHandler:function(source,event,func){if(event==undefined){if(source.off){source.off()}else{source.unbind()}return}if(func==undefined){if(source.off){source.off(event)}else{source.unbind(event)}}else{if(source.off){source.off(event,func)}else{source.unbind(event,func)}}},destroy:function(){this.removeHandler($(window),"resize.jqxresponse");this.removeHandler($(document),"scroll.jqxresponse");for(var i=0;i<this._handlers.length;i++){var element=this._handlers[i];this.removeHandler($(element),"mousedown.response"+element[0].id);this.removeHandler($(element),"touchstart.response"+element[0].id);this.removeHandler($(element),"mousemove.response"+element[0].id);this.removeHandler($(element),"touchmove.response"+element[0].id);this.removeHandler($(element),"mouseup.response"+element[0].id);this.removeHandler($(element),"touchend.response"+element[0].id)}},resize:function(resizeFuncs){var that=this;this.removeHandler($(window),"resize.jqxresponse");this.addHandler($(window),"resize.jqxresponse",function(event){if(resizeFuncs){if($.isArray(resizeFuncs)){for(var i=0;i<resizeFuncs.length;i++){resizeFuncs[i]()}}else{resizeFuncs()}}that.refreshSize()});if(resizeFuncs==null){this.removeHandler($(window),"resize.jqxresponse")}},pointerDown:function(element,func){if(element&&func){var touchDevice=$.jqx.mobile.isTouchDevice();var that=this;var canCallFunc=true;if(touchDevice){var touchstart=$.jqx.mobile.getTouchEventName("touchstart")+".response"+element[0].id;if(func!=null){this.addHandler($(element),touchstart,function(event){var position=$.jqx.position(event);var result=func(event,position,"touch");canCallFunc=false;setTimeout(function(){canCallFunc=true},500);return result})}else{this.removeHandler($(element),touchstart)}}if(func!=null){this.addHandler($(element),"mousedown.response"+element[0].id,function(event){var position=$.jqx.position(event);if(canCallFunc){return func(event,position,"mouse")}})}else{this.removeHandler($(element),"mousedown.response"+element[0].id)}this._handlers.push(element)}},pointerUp:function(element,func){if(element){var touchDevice=$.jqx.mobile.isTouchDevice();var that=this;var canCallFunc=true;if(touchDevice){var touchend=$.jqx.mobile.getTouchEventName("touchend")+".response"+element[0].id;if(func!=null){this.addHandler($(element),touchend,function(event){var position=$.jqx.position(event);var result=func(event,position,"touch");canCallFunc=false;setTimeout(function(){canCallFunc=true},500);return result})}else{this.removeHandler($(element),touchend)}}if(func!=null){this.addHandler($(element),"mouseup.response"+element[0].id,function(event){var position=$.jqx.position(event);if(canCallFunc){return func(event,position,"mouse")}})}else{this.removeHandler($(element),"mouseup.response"+element[0].id)}this._handlers.push(element)}},pointerMove:function(element,func){if(element){var touchDevice=$.jqx.mobile.isTouchDevice();if(touchDevice){var touchmove=$.jqx.mobile.getTouchEventName("touchmove")+".response"+element[0].id;if(func!=null){this.addHandler($(element),touchmove,function(event){var touches=$.jqx.mobile.getTouches(event);if(touches.length==1){var position=$.jqx.position(event);return func(event,position,"touch")}})}else{this.removeHandler($(element),touchmove)}}else{if(func!=null){this.addHandler($(element),"mousemove.response"+element[0].id,function(event){var position=$.jqx.position(event);return func(event,position,"mouse")})}else{this.removeHandler($(element),"mousemove.response"+element[0].id)}}this._handlers.push(element)}},isHidden:function(element){return $.jqx.isHidden($(element))},inViewPort:function(element){var viewPort=this.viewPort;if(element.getBoundingClientRect){var r=element.getBoundingClientRect?element.getBoundingClientRect():{};return r&&(r.bottom>=0&&r.top<=viewPort.height&&r.right>=0&&r.left<=viewPort.width)}return false},getScroll:function(){var obj={left:window.pageXOffset||document.scrollLeft,top:window.pageYOffset||document.scrollTop};if(obj.left==undefined){obj.left=0}if(obj.top==undefined){obj.top=0}return obj},getDocument:function(){return{width:$(document).width(),height:$(document).height()}},getViewPort:function(){return{width:$(window).width(),height:$(window).height()}},getTouch:function(){var eventName="ontouchstart";var supported=(eventName in window);if(supported){return true}else{var eventName="MSPointerDown";var supported=(eventName in window);if(supported){return true}}if($.jqx.mobile.isWindowsPhone()){return true}return false},getDevice:function(){var osName=this.os.name;var match=window.location.search.match(/deviceType=(Tablet|Phone)/),nativeDeviceType=window.deviceType;var deviceType="";if(match&&match[1]){deviceType=match[1]}else{if(nativeDeviceType==="iPhone"){deviceType="Phone"}else{if(nativeDeviceType==="iPad"){deviceType="Tablet"}else{if(osName!="Android"&&osName!="iOS"&&/Windows|Linux|MacOS|Mac OS|Mac OS X/.test(osName)){deviceType="Desktop"}else{if(osName=="iOS"&&navigator.userAgent.toLowerCase().indexOf("ipad")>=0){deviceType="Tablet"}else{if(osName=="RIMTablet"){deviceType="Tablet"}else{if(osName=="Android"){if(this.os.version&&this.os.version.substring(0,1).indexOf("3")>=0){deviceType="Tablet"}else{if(this.os.version&&this.os.version.substring(0,1).indexOf("4")>=0&&navigator.userAgent.search(/mobile/i)==-1){deviceType="Tablet"}else{deviceType="Phone"}}if(navigator.userAgent.toLowerCase().indexOf("kindle fire")>=0){deviceType="Tablet"}}else{deviceType="Phone"}}}}}}}if(/Windows/.test(osName)){if(navigator.userAgent.indexOf("Windows Phone")>=0||navigator.userAgent.indexOf("WPDesktop")>=0||navigator.userAgent.indexOf("IEMobile")>=0||navigator.userAgent.indexOf("ZuneWP7")>=0){deviceType="Phone"}else{if(navigator.userAgent.indexOf("Touch")>=0){deviceType="Tablet";if(!this.getTouch()){deviceType="Desktop"}}}}return{type:deviceType,touch:this.getTouch(),width:window.screen.width,height:window.screen.height,availWidth:window.screen.availWidth,availHeight:window.screen.availHeight}},canvas:function(){var canvasSupport=false;var canvas=document.createElement("canvas");if(canvas&&canvas.getContext&&canvas.getContext("2d")){canvasSupport=true}return canvasSupport},vml:function(){if(this._vmlSupport==undefined){var a=document.body.appendChild(document.createElement("div"));a.innerHTML='<v:shape id="vml_flag1" adj="1" />';var b=a.firstChild;b.style.behavior="url(#default#VML)";this._vmlSupport=b?typeof b.adj=="object":true;a.parentNode.removeChild(a)}return this._vmlSupport},svg:function(){return document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1")},getBrowser:function(){var ua=navigator.userAgent.toLowerCase();var name="";var match=null;var that=this;browserNames={msie:{name:"Internet Explorer",eval:/(msie) ([\w.]+)/.exec(ua)},webkit:{name:"Webkit",eval:/(webkit)[ \/]([\w.]+)/.exec(ua)},chrome:{name:"Chrome",eval:/(chrome)[ \/]([\w.]+)/.exec(ua)},safari:{name:"Safari",eval:/(safari)[ \/]([\w.]+)/.exec(ua)},edge:{name:"Edge",eval:/(edge) ([\w.]+)/.exec(ua)},opera:{name:"Opera",eval:/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(ua)},operamobile:{name:"Opera Mobile",eval:/(opera mobi)(?:.*version|)[ \/]([\w.]+)/.exec(ua)||/(opera tablet)(?:.*version|)[ \/]([\w.]+)/.exec(ua)},dolphin:{name:"Dolphin",eval:/(dolphin)[ \/]([\w.]+)/.exec(ua)},webosbrowser:{name:"webOSBrowser",eval:/(wosbrowser)(?:.*version|)[ \/]([\w.]+)/.exec(ua)},chromemobile:{name:"Chrome Mobile",eval:/(crmo)[ \/]([\w.]+)/.exec(ua)},silk:{name:"Silk",eval:/(silk)[ \/]([\w.]+)/.exec(ua)},firefox:{name:"Firefox",eval:/(firefox)[ \/]([\w.]+)/.exec(ua)},msie11:{name:"Internet Explorer 11",eval:ua.indexOf("rv:11.0")>=0&&ua.indexOf(".net4.0c")>=0},winphone:{name:"Internet Explorer Mobile",eval:ua.indexOf("windows phone 8.1")>=0},other:{name:"Other",eval:ua.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(ua)}};$.each(browserNames,function(index,value){if(this.eval){if(this.name=="Other"){if(!match){match=this.eval;name=this.name}}else{if(this.name=="Internet Explorer 11"){if(!match){match=["","msie",11];name="Internet Explorer"}}else{if(this.name=="Internet Explorer Mobile"){if(!match){match=["","msie",11];name="Internet Explorer"}}else{if(name=="Chrome"&&this.name=="Safari"){return true}match=this.eval;name=this.name}}}}});if(match){var browser={name:name,accessName:match[1]||"",version:match[2]||"0",canvas:this.canvas(),svg:this.svg(),vml:this.vml()};browser[match[1]]=match[1]}else{browser={name:"Other",browser:"other",version:""}}return browser},getOS:function(){var match=null;var version="";var userAgent=navigator.userAgent;var os="Other";var osTypes={ios:{name:"iOS",regex:new RegExp("(?:i(?:Pad|Phone|Pod)(?:.*)CPU(?: iPhone)? OS )([^\\s;]+)")},android:{name:"Android",regex:new RegExp("(?:(Android |HTC_|Silk/))([^\\s;]+)")},webos:{name:"webOS",regex:new RegExp("(?:(?:webOS|hpwOS)/)([^\\s;]+)")},blackberry:{name:"BlackBerry",regex:new RegExp("(?:BlackBerry(?:.*)Version/)([^\\s;]+)")},rimTablet:{name:"RIMTablet",regex:new RegExp("(?:RIM Tablet OS )([^\\s;]+)")},chrome:{name:"Chrome OS",regex:new RegExp("CrOS")},mac:{name:"MacOS",regex:new RegExp("mac")},win:{name:"Windows",regex:new RegExp("win")},linux:{name:"Linux",regex:new RegExp("linux")},bada:{name:"Bada",regex:new RegExp("(?:Bada/)([^\\s;]+)")},other:{name:"Other"}};var osys="";var clientStrings=[{s:"Windows 3.11",r:/Win16/},{s:"Windows 95",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows ME",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows 98",r:/(Windows 98|Win98)/},{s:"Windows CE",r:/Windows CE/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 10",r:/(Windows 10|Windows NT 10)/},{s:"Windows NT 4.0",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Windows ME",r:/Windows ME/},{s:"Android",r:/Android/},{s:"Open BSD",r:/OpenBSD/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"BB10",r:/BB10/},{s:"MeeGo",r:/MeeGo/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/},{s:"OS/2",r:/OS\/2/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}];for(var id in clientStrings){var cs=clientStrings[id];if(cs.r.test(userAgent)){osys=cs.s;break}}var osVersion="";if(/Windows/.test(osys)){osVersion=/Windows (.*)/.exec(osys)[1];osys="Windows"}if(/BB10/.test(osys)){osVersion="10";osys="BlackBerry"}switch(os){case"Mac OS X":osVersion=/Mac OS X (10[\.\_\d]+)/.exec(userAgent)[1];break;case"Android":osVersion=/Android ([\.\_\d]+)/.exec(userAgent)[1];break;case"iOS":osVersion=/OS (\d+)_(\d+)_?(\d+)?/.exec(nVer);osVersion=osVersion[1]+"."+osVersion[2]+"."+(osVersion[3]|0);break}if(osVersion!=""){version=osVersion}$.each(osTypes,function(index,value){match=userAgent.match(this.regex)||userAgent.toLowerCase().match(this.regex);if(match){if(!this.name.match(/Windows|Linux|MacOS/)){if(match[1]&&(match[1]=="HTC_"||match[1]=="Silk/")){version="2.3"}else{version=match[match.length-1]}}os={name:this.name,version:version,platform:navigator.platform};return false}});if(os&&os.name=="Other"){os.name=osys}if(os&&os.name!=""&&osys!=""){os.name=osys}if(os&&os.version==""&&osVersion!=""){os.version=osVersion}return os}}})(jqxBaseFramework);(function(l){l.jqx.jqxWidget("jqxTreeMap","",{});var h={};h["default"]=(function(){function w(o,n,B,C){this.height=C;this.width=B;this.xoffset=o;this.yoffset=n;this.shortestEdge=function(){return Math.min(this.height,this.width)};this.getCoordinates=function(J){var D=[],F=this.xoffset,I=this.yoffset,E=t(J)/this.height,G=t(J)/this.width;if(this.width>=this.height){for(var H=0;H<J.length;H+=1){D.push([F,I,F+E,I+J[H]/E]);I=I+J[H]/E}}else{for(var H=0;H<J.length;H+=1){D.push([F,I,F+J[H]/G,I+G]);F=F+J[H]/G}}return D};this.cutArea=function(E){var I;if(this.width>=this.height){var D=E/this.height,H=this.width-D;I=new w(this.xoffset+D,this.yoffset,H,this.height)}else{var F=E/this.width,G=this.height-F;I=new w(this.xoffset,this.yoffset+F,this.width,G)}return I}}function a(o,C){var B=[],D=t(o),n=C/D;for(var E=0;E<o.length;E+=1){B[E]=o[E]*n}return B}function A(H,o,C,F,B){F=(typeof F==="undefined")?0:F;B=(typeof B==="undefined")?0:B;var E=[],D,G=[];if(v(H[0])){for(var n=0;n<H.length;n+=1){E[n]=u(H[n])}D=d(E,o,C,F,B);for(var n=0;n<H.length;n+=1){G.push(A(H[n],D[n][2]-D[n][0],D[n][3]-D[n][1],D[n][0],D[n][1]))}}else{G=d(H,o,C,F,B)}return G}function d(B,C,E,o,n){o=(typeof o==="undefined")?0:o;n=(typeof n==="undefined")?0:n;var D=z(a(B,C*E),[],new w(o,n,C,E),[]);return c(D)}function c(o){var n=[];for(var B=0;B<o.length;B+=1){for(var C=0;C<o[B].length;C+=1){n.push(o[B][C])}}return n}function z(o,B,E,F){var C,D,n;if(o.length===0){F.push(E.getCoordinates(B));return}C=E.shortestEdge();D=o[0];if(q(B,D,C)){B.push(D);z(o.slice(1),B,E,F)}else{n=E.cutArea(t(B),F);F.push(E.getCoordinates(B));z(o,[],n,F)}return F}function q(o,D,C){var B;if(o.length===0){return true}B=o.slice();B.push(D);var n=s(o,C),E=s(B,C);return n>=E}function s(n,o){var C=Math.min.apply(Math,n),D=Math.max.apply(Math,n),B=t(n);return Math.max(Math.pow(o,2)*D/Math.pow(B,2),Math.pow(B,2)/(Math.pow(o,2)*C))}function v(n){return n&&n.constructor===Array}function t(B){var n=0;for(var o=0;o<B.length;o+=1){n+=B[o]}return n}function u(B){var n=0;if(v(B[0])){for(var o=0;o<B.length;o+=1){n+=u(B[o])}}else{n=t(B)}return n}return A}());function e(q,a,n,o,d,s,c,t){this.label=q;this.value=a;this.parent=n;this.children=o;this.area=d||null;this.color=s;this.data=c;this.record=t}var f={HORIZONTAL:0,VERTICAL:1,BOTH:2};l.extend(l.jqx._jqxTreeMap.prototype,{defineInstance:function(){var a={width:600,height:600,renderCallbacks:{},legendScaleCallback:function(c){return c},hoverEnabled:false,selectionEnabled:true,singleSelection:true,showLegend:true,legendLabel:"Legend",headerHeight:25,colorRange:100,layout:"default",source:[],displayMember:null,valueMember:null,colorMode:"parent",baseColor:"#C2EEFF",legendPosition:{x:0,y:0},colorRanges:[{color:"#aa9988",min:0,max:10},{color:"#ccbbcc",min:11,max:50},{color:"#000",min:50,max:100}],_root:[]};l.extend(true,this,a);return a},createInstance:function(){this.render()},render:function(){this.host.addClass(this.toThemeProperty("jqx-widget"));this._destroy();this._root=new e(undefined,0,null,[],this.host);var a=function(v,t){var d={},s;var q=null;for(var u=0;u<v.length;u+=1){if(v[u].items){q=true;break}}var z=new Array();if(q){var w=function(o,B){for(var D=0;D<o.length;D+=1){o[D].parent=B;if(!o[D].data){o[D].data=o[D].value}if(o[D].value==null){o[D].value=0}if(isNaN(parseFloat(o[D].value))){var n=o[D].value.toString();var A="";for(var E=0;E<n.length;E++){var C=n.substring(E,E+1);if(C.match(/^[0-9]+$/)!=null||C=="."){A+=C}}o[D].value=new Number(A)}else{o[D].value=parseFloat(o[D].value)}z.push(o[D]);if(o[D].items){w(o[D].items,o[D].label)}}};w(v,null);v=z}for(var u=0;u<v.length;u+=1){s=v[u];if(s.value){if(s.parent!=null){if(!d[s.parent]){d[s.parent]=0}d[s.parent]+=s.value}}}for(var u=0;u<v.length;u+=1){s=v[u];if(d[s.label]!==undefined){s.value=d[s.label]}}t._buildTree(v,t._root);t._dataList=t._buildList();t._setStyles();var c=h["default"];if(t.layout==="simple"){c=h.simple}t._render(t._root,c);t._renderLegend()};if(l.jqx.dataAdapter&&this.source!=null&&this.source._source){this.dataBind(this.source,a);return}a(this.source,this);this._trigger("bindingComplete")},dataBind:function(u,a){this.records=new Array();var q=u._source?true:false;var t=new l.jqx.dataAdapter(u,{autoBind:false});if(q){t=u;u=u._source}var s=function(v){if(u.type!=undefined){t._options.type=u.type}if(u.formatdata!=undefined){t._options.formatData=u.formatdata}if(u.contenttype!=undefined){t._options.contentType=u.contenttype}if(u.async!=undefined){t._options.async=u.async}};var n=function(z,A){z.records=t.records;var w=new Array();for(var B=0;B<z.records.length;B++){var v=z.records[B];if(z.displayMember){v.label=v[z.displayMember]}if(z.valueMember){v.value=v[z.valueMember]}v.record=v;w.push(v)}z._trigger("bindingComplete");a(w,z)};s(this);var d=this;switch(u.datatype){case"local":case"array":default:if(u.localdata!=null){t.unbindBindingUpdate(this.element.id);t.dataBind();n(this);t.bindBindingUpdate(this.element.id,function(v){n(d,v)})}break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"csv":case"tab":if(u.localdata!=null){t.unbindBindingUpdate(this.element.id);t.dataBind();n(this);t.bindBindingUpdate(this.element.id,function(){n(d)});return}var c={};if(t._options.data){l.extend(t._options.data,c)}else{if(u.data){l.extend(c,u.data)}t._options.data=c}var o=function(){n(d)};t.unbindDownloadComplete(d.element.id);t.bindDownloadComplete(d.element.id,o);t.dataBind()}},_destroy:function(){this.host.children().remove()},destroy:function(){this.host.remove()},refresh:function(a){if(!a){this._refresh()}},_refresh:function(){this.render()},_setStyles:function(){this.host.css({position:"relative",width:this.width,height:this.height});var c=false;if(this.width!=null&&this.width.toString().indexOf("%")!=-1){c=true}if(this.height!=null&&this.height.toString().indexOf("%")!=-1){c=true}var a=this;l.jqx.utilities.resize(this.host,function(){if(a.resizeTimer){clearTimeout(a.resizeTimer)}a.resizeTimer=setTimeout(function(){a.performLayout()},50)})},resize:function(a,c){this.width=a;this.height=c;this.performLayout()},performLayout:function(){var a=h["default"];this.clearSelection();this._layout(this._root,a)},_getValues:function(a){var d=[];for(var c=0;c<a.length;c+=1){d.push(a[c].value)}return d},_isColor:function(c){if(!c){return false}var a=this._colorEvaluator;if(a._isRgb(c)||a._isHex(c)){return true}return false},_colorEvaluator:{_toRgb:function(a){var c=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);return c?{r:parseInt(c[1],16),g:parseInt(c[2],16),b:parseInt(c[3],16)}:null},_toHex:function(d){var a=d.r.toString(16),c=d.g.toString(16),n=d.b.toString(16);a=a.length===1?"0"+a:a;c=c.length===1?"0"+c:c;n=n.length===1?"0"+n:n;return"#"+a+c+n},_isRgb:function(a){return(/(rgb|rgba)\s*\(\s*\d+\s*(,\s*\d+\s*){2}(,\d+\.\d+)?\)(;?)/i).test(a)},_isHex:function(a){return(/^(#([0-9A-F]{3})([0-9A-F]{3})?)$/i).test(a)},getColorByValue:function(c,t,s){var a=this._colorEvaluator,d,q,z,w,v,t;if(a._isRgb(s)){s=a._toHex(s)}s=a._toRgb(s);z=t.length;d=-Infinity;for(var u=0;u<z;u+=1){if(d<t[u].value){d=t[u].value}}q=c/d;w=Math.round(q*this.colorRange);v=a._toHex({r:Math.max(s.r-w,0),g:Math.max(s.g-w,0),b:Math.max(s.b-w,0)});return v},parent:function(a){var c=a.parent.color,d=this._colorEvaluator;if(!a.parent){return"#fff"}if(!c){c=this.baseColor}c=d.getColorByValue.call(this,a.value,a.parent.children,c);a.color=c;return c},autoColors:function(a){var c=this.baseColor,d=this._colorEvaluator;c=d.getColorByValue.call(this,a.value,this._dataList,c);a.color=c;return c},rangeColors:function(d){var a=d.value,c;for(var n=0;n<this.colorRanges.length;n+=1){c=this.colorRanges[n];if(c.min<a&&c.max>=a){return c.color}}return"#fff"}},_getColor:function(c){var d=c.color,a=this.colorMode;if(this._isColor(d)){return d}if(typeof this._colorEvaluator[a]==="function"){return this._colorEvaluator[a].call(this,c)}else{throw"Invalid colorMode"}},_renderRect:function(o,t){var n=l("<div/>"),u=o[2]-o[0],c=o[3]-o[1];var s=this._getColor(t);n.css({position:"absolute",left:o[0]-1,top:o[1]-1,width:u,height:c,backgroundColor:s});n.addClass(this.toThemeProperty("jqx-treemap-rectangle"));var d=this._colorEvaluator;var q={data:t.data,label:t.label,value:t.value,parent:t.parent,record:t.record,color:s,rgb:d._toRgb(s)};if(t.parent==this._root){q.parent=null}if(typeof this.renderCallbacks["*"]==="function"){var a=this.renderCallbacks["*"](n,q);if(a!==undefined){return n}}if(typeof this.renderCallbacks[t.label]==="function"){this.renderCallbacks[t.label](n,q)}else{var u=n.width()-2;n.html('<span style="max-width:'+u+'px;" class="jqx-treemap-label">'+t.label+"</span>")}return n},_centerLabel:function(a,c){var d=a[0].firstChild;d.style.position="absolute";if(c===f.HORIZONTAL||c===f.BOTH){d.style.left=(a[0].offsetWidth-d.offsetWidth)/2+"px"}if(c===f.VERTICAL||c===f.BOTH){d.style.top=(a[0].offsetHeight-d.offsetHeight)/2+"px"}},_trigger:function(c,d){var a=l.Event(c);a.args=d;return this.host.trigger(a)},_addHandlers:function(d,a){var c=this;d.bind("mouseenter",function(n){if(c.hoverEnabled){c.host.find(".jqx-treemap-rectangle").removeClass("jqx-treemap-rectangle-hover");d.addClass(c.toThemeProperty("jqx-treemap-rectangle-hover"))}c._trigger("mouseenterSector",a)});d.bind("mouseleave",function(n){if(c.hoverEnabled){d.removeClass("jqx-treemap-rectangle-hover")}c._trigger("mouseleaveSector",a)});d.bind("click",function(n){if(c.selectionEnabled){var o=l.data(this,"jqx-treemap-selected")||false;if(c.singleSelection){c.host.find(".jqx-treemap-rectangle-hover").each(function(s,q){l.data(q,"jqx-treemap-selected",false);l(q).removeClass("jqx-treemap-rectangle-hover")})}if(o){d.removeClass("jqx-treemap-rectangle-hover");o=false}else{d.addClass(c.toThemeProperty("jqx-treemap-rectangle-hover"));o=true}l.data(this,"jqx-treemap-selected",o);n.stopImmediatePropagation()}})},clearSelection:function(){this.host.find(".jqx-treemap-rectangle-hover").removeClass(this.toThemeProperty("jqx-treemap-rectangle-hover"));l.data(this,"jqx-treemap-selected",false)},_layoutArea:function(a,c){if(a.children.length&&a.children.length>0){this._centerLabel(c,f.HORIZONTAL);c.addClass(this.toThemeProperty("jqx-treemap-rectangle-parent"))}else{this._centerLabel(c,f.BOTH)}},_render:function(u,d){if(!u.children.length){return}var v=0;if(u.value){v=this.headerHeight}var a=this._getValues(u.children),t=u.area.offset(),q=d(a,u.area.width(),u.area.height()-v,0,v),o,c;for(var s=0;s<u.children.length;s+=1){o=u.children[s];c=this._renderRect(q[s],o);o.area=c;u.area.append(c);this._addHandlers(c,{label:o.label,value:o.value,color:o.color,sector:o.area,data:o.data});this._layoutArea(o,c);this._render(o,d)}},_layout:function(u,d){if(!u.children.length){return}var v=0;if(u.value){v=this.headerHeight}var a=this._getValues(u.children),t=u.area.offset(),s=d(a,u.area.width(),u.area.height()-v,0,v),c;for(var q=0;q<u.children.length;q+=1){var o=u.children[q];this._layoutRect(s[q],o);this._layoutArea(o,o.area);this._layout(o,d)}if(this.showLegend){l(".jqx-treemap-legend").remove();this._renderLegend()}},_layoutRect:function(o,t){var n=t.area,u=o[2]-o[0],c=o[3]-o[1];n.css({left:o[0]-1,top:o[1]-1,width:u,height:c});var d=this._colorEvaluator;var s=this._getColor(t);var q={data:t.data,label:t.label,value:t.value,parent:t.parent,record:t.record,color:s,rgb:d._toRgb(s)};if(t.parent==this._root){q.parent=null}if(typeof this.renderCallbacks["*"]==="function"){var a=this.renderCallbacks["*"](n,q);if(a!==undefined){return n}}if(typeof this.renderCallbacks[t.label]==="function"){this.renderCallbacks[t.label](n,q)}else{var u=n.width()-2;n.find(".jqx-treemap-label:first").css("max-width",u)}},_getBoundValues:function(){var n=this._root,o=[],a,c={},q={};c.value=n.value||Infinity;q.value=n.value||-Infinity;o.push(n);while(o.length){a=o.pop();if(c.value>a.value){c=a}if(q.value<a.value){q=a}for(var d=0;d<a.children.length;d+=1){o.push(a.children[d])}}return[c,q]},_getAutocolorRanges:function(){var c=this._getBoundValues(),q=5,t=c[1].value,n=c[0].value,s=(t-n)/q,a,d=[];for(var o=n;o<t;o+=s){a=Math.round(o);d.push({min:a,max:o+s,color:this._colorEvaluator.getColorByValue.call(this,a,this._dataList,this.baseColor)})}return d},_renderLegend:function(){if(!(/autoColors|rangeColors/).test(this.colorMode)||!this.showLegend){return}var c=this.colorRanges;if(this.colorMode==="autoColors"){c=this._getAutocolorRanges()}var a=this._renderColorLegend(c);this._renderLegendLabel(a)},_renderLegendLabel:function(c){var a=l('<tr><td colspan="'+c.find("td").length/2+'"/></tr>'),d=l('<div class="'+this.toThemeProperty("jqx-treemap-legend-label")+'" />');d.text(this.legendLabel);a.children().append(d);c.prepend(a)},_renderColorLegend:function(E){var t=l('<div class="'+this.toThemeProperty("jqx-treemap-legend")+'"/>'),c,u,a,d=function(n){return n};if(typeof this.legendScaleCallback==="function"){d=this.legendScaleCallback}var F=l('<table class="'+this.toThemeProperty("jqx-treemap-legend-table")+'"/>');t.append(F);F.append("<tr/>");t.append("<div/>");this.host.append(t);c=l(t.find("tr")[0]);u=l(t.find("div")[0]);u.addClass(this.toThemeProperty("jqx-treemap-legend-values"));var C=function(s,q){try{if(s.min<q.min){return -1}if(s.min>q.min){return 1}}catch(o){var n=o}return 0};E.sort(C);var D=Math.round(t.width()/E.length);var v=-2;var B=0;for(var z=0;z<E.length;z+=1){var A=l('<td class="'+this.toThemeProperty("jqx-treemap-legend-color")+'"/>');A.css("backgroundColor",E[z].color);c.append(A);if(z===0){var w=l('<span class="'+this.toThemeProperty("jqx-treemap-legend-max-value")+" "+this.toThemeProperty("jqx-treemap-legend-value")+'"/>');w.text(d(E[z].min));u.append(w);F.css("margin-left",w.width()/2);v+=w.width()/2;B=v}var w=l('<span class="'+this.toThemeProperty("jqx-treemap-legend-max-value")+" "+this.toThemeProperty("jqx-treemap-legend-value")+'"/>');v+=D;w.text(d(E[z].max));u.append(w);if(z==E.length-1){B+=w.width()/2;t.css("padding-right",B+5);v-=2}v-=w.width()/2;w.css("left",v);v+=w.width()/2}t.css({position:"absolute",left:this.legendPosition.x,bottom:this.legendPosition.y,visibility:(this.showLegend)?"visible":"hidden"});return t},_buildTree:function(d,s){var q=null,a,c,t=[];t.push(s);while(t.length){q=t.pop();for(var o=0;o<d.length;o+=1){c=d[o];if(c.parent===q.label||(!c.parent&&!q.label)){var n=q;a=new e(c.label,parseFloat(c.value,10),n,[],null,c.color,c.data,c.record);q.children.push(a);t.push(a)}}}return s},_buildList:function(){var d=[],n=[],a;n.push(this._root);while(n.length){a=n.pop();if(a!==this._root){d.push(a)}for(var c=0;c<a.children.length;c+=1){n.push(a.children[c])}}return d},propertyChangedHandler:function(c,d,a){if(d==="renderCallbacks"){return}if((/hoverEnabled|selectionEnabled/).test(d)){if(!a){this.host.find("jqx-treemap-rectangle-hover")}}else{if(d==="showLegend"){this.host.find("jqx-treemap-legend").toggle()}else{this._refresh()}}}})}(jqxBaseFramework));(function(c){c.jqx.jqxWidget("jqxPasswordInput","",{});c.extend(c.jqx._jqxPasswordInput.prototype,{defineInstance:function(){var a={width:null,height:null,disabled:false,rtl:false,placeHolder:null,showStrength:false,showStrengthPosition:"right",maxLength:null,minLength:null,showPasswordIcon:true,strengthTypeRenderer:null,passwordStrength:null,changeType:null,localization:{passwordStrengthString:"Password strength",tooShort:"Too short",weak:"Weak",fair:"Fair",good:"Good",strong:"Strong",showPasswordString:"Show Password"},strengthColors:{tooShort:"rgb(170, 0, 51)",weak:"rgb(170, 0, 51)",fair:"rgb(255, 204, 51)",good:"rgb(45, 152, 243)",strong:"rgb(118, 194, 97)"}};c.extend(true,this,a);return a},createInstance:function(a){this.render()},render:function(){var l=this;var o=c.jqx.browser.browser;var a=c.jqx.browser.version;this._browserCheck=o!="msie"||(a!="7.0"&&a!="8.0");this.widgetID=l.element.id;var h=l.host;var n="Invalid input type. Please set the type attribute of the input element to password.";if(h.attr("type")!="password"){throw n}l._hidden=true;l._setTheme();l._setAttributes();l._showPassword();l._showStrength()},refresh:function(d){var a=this;if(d==true){return}a.removeHandler(a.host,"change.passwordinput"+a.widgetID);a.removeHandler(a.host,"focus.passwordinput"+a.widgetID);a.removeHandler(a.host,"blur.passwordinput"+a.widgetID);a.removeHandler(a.host,"click.passwordinput"+a.widgetID);a.removeHandler(c(window),"resize.passwordinput"+a.widgetID);a.removeHandler(a.host,"keyup.passwordinput"+a.widgetID);a.removeHandler(a.icon,"mousedown.passwordinput"+a.iconID);a.removeHandler(a.icon,"mouseup.passwordinput"+a.iconID);a.removeHandler(c(document),"mousedown.passwordinput"+a.iconID);a._setAttributes();a._setTheme();a._showPassword();a._showStrength()},val:function(h){var l=this,f=l.element.value,a="placeholder" in l.element;if(c.isEmptyObject(h)&&h!=""){if(!a&&f===l.placeHolder){f=""}return f}else{if(a&&h===f){return}if(!a){if(h===""){if(f!==l.placeHolder){l.element.value=l.placeHolder;l.host.attr("type","text")}return}else{l.host.attr("type","password")}}l.element.value=h;if(l.showStrength===true){l._evaluateStrength()}}},propertyChangedHandler:function(a,o,h,l){var n=this.host;if(o==="theme"){c.jqx.utilities.setTheme(h,l,a.host);return}if(o=="disabled"){if(a.disabled==true){a.host.attr("disabled","disabled");a.host.addClass(a.toThemeProperty("jqx-fill-state-disabled"))}else{a.host.removeAttr("disabled");a.host.removeClass(a.toThemeProperty("jqx-fill-state-disabled"))}return}if(o=="placeHolder"){if(this._browserCheck){if("placeholder" in this.element){n.attr("placeholder",this.placeHolder)}else{if(n.val()==""){n.attr("type","text");a.element.value=l}else{if(n.val()==h){a.element.value=l}}}}}else{this.refresh()}},resize:function(d,a){this.width=d;this.height=a;this.host.width(this.width);this.host.height(this.height)},_setAttributes:function(){var a=this;var d=a.host;d.width(a.width);d.height(a.height);if(a.maxLength){d.attr("maxlength",a.maxLength)}if(a.minLength){d.attr("minLength",a.minLength)}if(a.placeHolder&&a._browserCheck){if("placeholder" in a.element){d.attr("placeholder",a.placeHolder)}else{if(d.val()==""){d.attr("type","text");a.element.value=a.placeHolder}}}if(a.disabled==true){d.attr("disabled","disabled");d.addClass(this.toThemeProperty("jqx-fill-state-disabled"))}else{d.removeAttr("disabled");d.removeClass(a.toThemeProperty("jqx-fill-state-disabled"))}a.addHandler(d,"change.passwordinput"+a.widgetID,function(e){e.stopImmediatePropagation();e.preventDefault();e.stopPropagation();a.raiseEvent()});a.addHandler(d,"click.passwordinput"+a.widgetID,function(){if(a.showPasswordIcon&&a.icon){a.icon.show();a._positionIcon()}});a.interval=null;a.addHandler(d,"keydown.passwordinput"+a.widgetID,function(){a.changeType="keyboard";if(a.showPasswordIcon&&a.icon){if(a.interval){clearInterval(a.interval)}var e=0;a.interval=setInterval(function(){if(a.icon[0].style.display!="none"){a._positionIcon();e++;if(e>5){clearInterval(a.interval)}}else{clearInterval(a.interval)}},100)}});a.addHandler(d,"focus.passwordinput"+a.widgetID,function(){a._focused=true;a.host.addClass(a.toThemeProperty("jqx-fill-state-focus"));if(a.placeHolder&&a._browserCheck&&!("placeholder" in a.element)&&d.val()==a.placeHolder){d.val("");if(a._hidden==true){d.attr("type","password")}}if(a.val().length>0){if(a.showStrength==true){var e=d.jqxTooltip("content");if(e){d.jqxTooltip("open")}}}if(a.showPasswordIcon&&a.icon){a.icon.show();a._positionIcon()}});a.addHandler(d,"blur.passwordinput"+a.widgetID,function(){a._focused=false;a.host.removeClass(a.toThemeProperty("jqx-fill-state-focus"));if(a.placeHolder&&a._browserCheck&&!("placeholder" in a.element)&&d.val()==""){a.element.value=a.placeHolder;d.attr("type","text")}if(a.showPasswordIcon==true&&a._browserCheck){if(a.rtl==false){a.host.removeClass(a.toThemeProperty("jqx-passwordinput-password-icon-ltr"))}else{a.host.removeClass(a.toThemeProperty("jqx-passwordinput-password-icon-rtl"))}}if(a.showStrength==true){d.jqxTooltip("close")}if(a.showPasswordIcon&&a.icon){a.icon.hide()}})},destroy:function(){if(this.host.jqxTooltip){this.host.jqxTooltip("destroy")}this.host.remove()},_setTheme:function(){var d=this.host;var a=this;d.addClass(a.toThemeProperty("jqx-widget"));d.addClass(a.toThemeProperty("jqx-widget-content"));d.addClass(a.toThemeProperty("jqx-input"));d.addClass(a.toThemeProperty("jqx-rc-all"));if(a.rtl==true){d.addClass(a.toThemeProperty("jqx-rtl"));d.css("direction","rtl")}else{d.removeClass(a.toThemeProperty("jqx-rtl"));d.css("direction","ltr")}},_showPassword:function(){if(this.showPasswordIcon==true&&this._browserCheck){var h=this;this.iconID=this.widgetID+"-password-icon";c("<span tabindex='-1' hasfocus='false' style='position: absolute; display: none;' id='"+h.iconID+"'></span>").insertAfter(h.host);var l=c("#"+h.iconID);h.icon=l;l.addClass(h.toThemeProperty("jqx-passwordinput-password-icon"));l.attr("title",h.localization.showPasswordString);h._positionIcon();var n=function(){h.host.attr("type","password");h._hidden=true;l.attr("title",h.localization.showPasswordString)};var a=function(){if(h._hidden==false){n()}else{if(h._hidden==true){h.host.attr("type","text");h._hidden=false}}};var o=c.jqx.mobile.isTouchDevice();if(o){h.addHandler(h.icon,"mousedown.passwordinput"+h.iconID,function(d){a();return false})}else{h.addHandler(h.icon,"mousedown.passwordinput"+h.iconID,function(d){a();return false});h.addHandler(h.icon,"mouseup.passwordinput"+h.iconID,function(d){n();return false});h.addHandler(c(document),"mousedown.passwordinput"+h.iconID,function(d){if(h._focused){n()}})}}},_positionIcon:function(){var f=this.host.offset();var a=this.host.outerWidth();var e=this.host.outerHeight();if(this.rtl==true){this.icon.offset({top:parseInt(f.top+e/2-10/2),left:f.left+2})}else{this.icon.offset({top:parseInt(f.top+e/2-10/2),left:f.left+a-18})}},_showStrength:function(){var o=this;if(o.showStrength==true){if(o.host.jqxTooltip!=undefined){var s=o.widgetID+"Strength";var l=s+"Value";var u=s+"Indicator";var q;if(!o.strengthTypeRenderer){q="<div style='width: 220px;' id='"+s+"'><div><span style='font-weight: bold;'>"+o.localization.passwordStrengthString+": </span><span id='"+l+"'></span></div><div id='"+u+"'></div></div>"}else{var t=o.host.val();if(!("placeholder" in o.element)&&o._browserCheck&&t==o.placeHolder){t=""}o._countCharacters();var a=o.localization.tooShort;var n=o.strengthTypeRenderer(t,{letters:o.letters,numbers:o.numbers,specialKeys:o.specials},a);q=n}o.host.jqxTooltip({theme:o.theme,position:o.showStrengthPosition,content:q,trigger:"none",autoHide:false,rtl:o.rtl});if(!o.strengthTypeRenderer){c("#"+l).html(o.localization.tooShort);c("#"+u).addClass("jqx-passwordinput-password-strength-inicator").css("background-color",o.strengthColors.tooShort);if(o.rtl==false){c("#"+u).css("float","left")}else{c("#"+u).css("float","right")}}o._checkStrength()}else{throw new Error("jqxPasswordInput: Missing reference to jqxtooltip.js")}}},_checkStrength:function(){var a=this;a.addHandler(c(window),"resize.passwordinput"+a.widgetID,function(){if(a.icon){a.icon.hide()}});a.addHandler(a.host,"keyup.passwordinput"+a.widgetID,function(){a._evaluateStrength()})},_raiseEvent:function(f){var e=new c.Event("change");e.args={type:this.changeType};this.changeType=null;e.owner=this;var a=this.host.trigger(e);return a},_evaluateStrength:function(){var q=this;var t=q.host.val();var s=t.length;q._countCharacters();if(s>0){if(q.showStrength==true){var l=!q.host.jqxTooltip("opened");if(l){q.host.jqxTooltip("open")}}}var u=q.letters+q.numbers+2*q.specials+q.letters*q.numbers/2+s;var a;if(s<8){a=q.localization.tooShort}else{if(u<20){a=q.localization.weak}else{if(u<30){a=q.localization.fair}else{if(u<40){a=q.localization.good}else{a=q.localization.strong}}}}if(q.strengthTypeRenderer){var n=q.strengthTypeRenderer(t,{letters:q.letters,numbers:q.numbers,specialKeys:q.specials},a);q.host.jqxTooltip({content:n})}else{if(q.passwordStrength){var n=q.passwordStrength(t,{letters:q.letters,numbers:q.numbers,specialKeys:q.specials},a);c.each(q.localization,function(){var d=this;if(n==d){a=n;return false}})}c("#"+q.widgetID+"StrengthValue").html(a);var o=c("#"+q.widgetID+"StrengthIndicator");switch(a){case q.localization.tooShort:o.css({width:"20%","background-color":q.strengthColors.tooShort});break;case q.localization.weak:o.css({width:"40%","background-color":q.strengthColors.weak});break;case q.localization.fair:o.css({width:"60%","background-color":q.strengthColors.fair});break;case q.localization.good:o.css({width:"80%","background-color":q.strengthColors.good});break;case q.localization.strong:o.css({width:"100%","background-color":q.strengthColors.strong});break}}},_countCharacters:function(){var n=this;n.letters=0;n.numbers=0;n.specials=0;var s="<>@!#$%^&*()_+[]{}?:;|'\"\\,./~`-=";var a=n.host.val();var o=a.length;for(var t=0;t<o;t++){var l=a.charAt(t);var q=a.charCodeAt(t);if((q>64&&q<91)||(q>96&&q<123)||(q>127&&q<155)||(q>159&&q<166)){n.letters+=1;continue}if(isNaN(l)==false){n.numbers+=1;continue}if(s.indexOf(l)!=-1){n.specials+=1;continue}}}})})(jqxBaseFramework);(function(c){c.jqx.jqxWidget("jqxRangeSelector","",{});c.extend(c.jqx._jqxRangeSelector.prototype,{defineInstance:function(){var a={width:400,height:100,min:0,max:100,range:{from:0,to:Infinity,min:0,max:Infinity},majorTicksInterval:10,minorTicksInterval:1,showMajorTicks:true,showMinorTicks:false,snapToTicks:true,labelsFormat:null,markersFormat:null,showLabels:true,labelsOnTicks:true,markersPosition:"top",labelsFormatFunction:null,groupLabelsFormatFunction:null,markersFormatFunction:null,showGroupLabels:false,showMarkers:true,resizable:true,moveOnClick:true,disabled:false,rtl:false,padding:"auto",events:["change"]};c.extend(true,this,a);return a},createInstance:function(o){var l=this;this._isTouchDevice=c.jqx.mobile.isTouchDevice();if(!c.jqx.dataAdapter){throw new Error("jqxRangeSelector: Missing reference to the following module: 'jqxdata.js'.")}var h=c.jqx.isHidden(this.host);this.render();var n=this.host.width();var a=this.host.height();c.jqx.utilities.resize(this.host,function(){var d=l.host.width();var e=l.host.height();l.range=l.getRange();if(h){l.refresh();h=false}else{if(n!=d||a!=e){l.refresh()}}n=l.host.width();a=l.host.height()})},render:function(){if(this.host.children().length>1||this.rangeSelector){this._removeHandlers();if(this.rangeSelector){this.rangeSelector.remove()}}this.host.addClass(this.toThemeProperty("jqx-widget"));this.host.addClass(this.toThemeProperty("jqx-rangeselector"));this.host.children(":eq(0)").addClass(this.toThemeProperty("jqx-rangeselector-content"));this._id=this.element.id;if(typeof this.min=="string"||this.min instanceof Date){this._dataType="date"}else{this._dataType="number"}this._privateProperties();this._checkProperties();this._setSize();this._scale();this._initSlider()},refresh:function(a){if(a==true){return}this.host.children(".jqx-rangeselector-ticks-container").remove();this._removeHandlers();this._privateProperties();this._checkProperties();this._setSize();this._scale();this._initSlider()},destroy:function(){this._removeHandlers();this.host.remove()},setRange:function(o,n){if(o>n){throw new Error("jqxRangeSelector: range object initialization error. 'min' should be less than 'max'");return}var u=this._getValue();if(u.from!=o||u.to!=n){var z=this._dataType=="number"?"numeric":"date";var s="The set values are in the wrong format. Please set "+z+" values.";if(typeof o=="string"||o instanceof Date){if(this._dataType=="number"){throw new Error(s)}}else{if(this._dataType=="date"){throw new Error(s)}}o=this._validateInput(o);n=this._validateInput(n);if(o>this._max){o=this._max}if(o<this._min){o=this._min}if(n>this._max){n=this._max}if(n<this._min){n=this._min}var v=n-o;if(v>this._range._max){n=o+this._range._max}else{if(v<this._range._min){n=o+this._range._min}}var q=this._valuesArray.indexOf(o);var w=this._valuesArray.indexOf(n);var a=this._ticksArray[q];var t=this._ticksArray[w];var B=Math.abs(t-a);this.slider[0].style.width=B+"px";var A=!this.rtl?a:t;this.slider[0].style.left=A;this._moveSlider(A);if(this._dataType=="date"){var o=new Date(o);var n=new Date(n)}this._raiseEvent("0",{type:null,from:o,to:n})}},val:function(a){if(arguments.length==0){return this.getRange()}if(a.from!=undefined){this.setRange(a.from,a.to)}},getRange:function(){var a=this._getValue();return a},propertyChangedHandler:function(a,o,l,n){switch(o){case"showMinorTicks":if(n==true){c("#"+this._id+" .jqx-rangeselector-ticks-minor").css("visibility","visible")}else{c("#"+this._id+" .jqx-rangeselector-ticks-minor").css("visibility","hidden")}break;case"showMarkers":var h=c("#"+this._id+"LeftMarker, #"+this._id+"RightMarker, #"+this._id+"LeftMarkerArrow, #"+this._id+"RightMarkerArrow");if(n==true){h.css("visibility","visible")}else{h.css("visibility","hidden")}break;default:this.refresh()}},_raiseEvent:function(h,n){var q=this.events[h];var l=new c.Event(q);l.owner=this;l.args=n;try{var a=this.host.trigger(l)}catch(o){}return a},_setSize:function(){this.host.width(this.width);this.host.height(this.height)},resize:function(d,a){this.width=d;this.height=a;this.refresh()},_scale:function(){var d=this.host.width();var a=this._max-this._min;this._unitPerPixel=parseFloat((a/d).toFixed(4));this._pixelPerUnit=d/a;4;this._minWidth=this._roundNumber(this._range._min/this._unitPerPixel);this._maxWidth=this._roundNumber(this._range._max/this._unitPerPixel);this._minWidth=parseInt(this._minWidth);this._maxWidth=parseInt(this._maxWidth);if(this._dataType=="number"){this._majorTicksCount=a/this.majorTicksInterval;this._majorTicksCount=Math.floor(this._majorTicksCount)+1;this._majorTicksDistance=parseInt(this._roundNumber(d/(a/this.majorTicksInterval)));this._unitsCount=a/this.minorTicksInterval;this._unitsCount=Math.floor(this._unitsCount)+1;this._unitsDistance=parseInt(this._roundNumber(d/(a/this.minorTicksInterval)))}this._addTicks()},_addTicks:function(){var h=this;this.host.append("<div id='"+this._id+"TicksContainer' class='jqx-rangeselector-ticks-container'></div>");this.rangeSelector=c("#"+this._id+"TicksContainer");this._majorTicksArray=new Array();this._ticksArray=new Array();this._valuesArray=new Array();var o=new String();c("#"+this._id+"TicksContainer").append("<div id='labelPlaceholder' style='visibility: hidden; position: absolute;'></div>");var l=this.rangeSelector.height();if(this._dataType=="number"){o=this._addNumericTicks(l)}else{o=this._addDateTicks(l)}var a=0;if(this.showLabels){a+=c("#labelPlaceholder").outerHeight()+6}if(this._dataType!="number"){if(this.showGroupLabels){a+=c("#labelPlaceholder").outerHeight()+6}}if(this.padding=="auto"){this.host.css("padding-bottom",a)}c("#labelPlaceholder").remove();c("#"+this._id+"TicksContainer").append(o);this._ticksArray.sort(function(d,e){return d-e});for(var n=1;n<this._ticksArray.length;n++){this._ticksArray[n]=this._roundNumber(this._ticksArray[n])}this._valuesArray.sort(function(d,e){return d-e});if(this._dataType=="number"){for(var n=1;n<this._valuesArray.length;n++){this._valuesArray[n]=this._roundNumber(this._valuesArray[n],"marker",true)}}for(var n=1;n<this._ticksArray.length;n++){if(this._ticksArray[n-1]==this._ticksArray[n]){this._ticksArray.splice(n,1);this._valuesArray.splice(n,1)}}if(this.rtl){this._valuesArray=this._valuesArray.reverse()}},_addNumericTicks:function(E){var w=this;var A=new String();var D=0;var F=this._min;var a=this._max;for(var B=0;B<this._majorTicksCount;B++){var G=this._id+"LabelTick"+(B+1);if(B==this._majorTicksCount-1){D=this.host.width()}var z=w.showMajorTicks?"visible":"hidden";A+="<div id='"+G+"' class='"+this.toThemeProperty("jqx-rangeselector-ticks")+" "+this.toThemeProperty("jqx-slider-tick-horizontal")+"' style='visibility: "+z+"; left: "+D+"px;'></div>";this._ticksArray.push(D);this._majorTicksArray.push(D);var I=this._id+"Label"+(B+1);var C=F;this._valuesArray.push(parseFloat(C.toFixed(4)));if(w.rtl){C=a}C=this._formatOutput(C,this.labelsFormat,this.minorTicksInterval>=1?0:2,"label");c("#labelPlaceholder").html(C);var t=c("#labelPlaceholder").width();var u=w.showLabels?"visible":"hidden";if(w.labelsOnTicks){A+="<div id='"+I+"' class='"+this.toThemeProperty("jqx-rangeselector-labels")+"' style='visibility: "+u+"; left: "+(D-t/2)+"px; top: "+E+"px;'>"+C+"</div>"}var H=D;F=F+this.majorTicksInterval;a=a-this.majorTicksInterval;var D=(F-w._min)/w._unitPerPixel;D=parseInt(D);if(!this.labelsOnTicks&&B<this._majorTicksCount-1){var v=Math.abs(H-D);A+="<div id='"+I+"' class='"+this.toThemeProperty("jqx-rangeselector-labels")+"' style='visibility: "+u+"; left: "+(H+v/2-t/2)+"px; top: "+E+"px;'>"+C+"</div>"}}var D=0;var J=this.showMinorTicks?"visible":"hidden";var F=this._min;for(var B=0;B<this._unitsCount;B++){var G=this._id+"MinorTick"+(B+1);if(B==this._unitsCount-1){D=this.host.width()}A+="<div id='"+G+"' class='"+this.toThemeProperty("jqx-rangeselector-ticks")+" "+this.toThemeProperty("jqx-rangeselector-ticks-minor")+" "+this.toThemeProperty("jqx-slider-tick-horizontal")+"' style='visibility: "+J+"; left: "+D+"px;'></div>";var K=F;if(this._valuesArray.indexOf(parseFloat(K.toFixed(4)))===-1){this._valuesArray.push(parseFloat(K.toFixed(4)));this._ticksArray.push(D)}F=F+this.minorTicksInterval;var D=(F-w._min)/w._unitPerPixel;D=parseInt(D)}return A},_getMillisecondsByInterval:function(d){var a={};if(d=="year"||d.years){a.divisor=d.years?d.years:1;return a.divisor*(365*24*3600*1000)}else{if(d=="month"||d.months){a.divisor=d.months?d.months:1;return a.divisor*(30*24*3600*1000)}else{if(d=="week"||d.weeks){a.divisor=d.weeks?d.weeks:1;return a.divisor*(7*24*3600*1000)}else{if(d=="day"||d.days){a.divisor=d.days?d.days:1;return a.divisor*(24*3600*1000)}else{if(d=="hour"||d.hours){a.divisor=d.hours?d.hours:1;return a.divisor*(3600*1000)}else{if(d=="minute"||d.minutes){a.divisor=d.minutes?d.minutes:1;return a.divisor*60*1000}else{if(d=="second"||d.seconds){a.divisor=d.seconds?d.seconds:1;return a.divisor*1000}else{if(d=="millisecond"||d.milliseconds){a.divisor=d.milliseconds?d.milliseconds:1;return a.divisor*1}}}}}}}}return a},_addDateTicks:function(q){var s=this;var t=new String();var a=function(d){var e=d=="majorTicksInterval"?s.majorTicksInterval:s.minorTicksInterval;var f=new Object();if(e=="year"||e.years){f.period="year";f.interval=86400000;f.divisor=e.years?e.years:1;f.value=f.divisor*(365*24*3600*1000)}else{if(e=="month"||e.months){f.period="month";f.interval=86400000;f.divisor=e.months?e.months:1;f.value=f.divisor*(30*24*3600*1000)}else{if(e=="week"||e.weeks){f.period="week";f.interval=86400000;f.divisor=e.weeks?e.weeks:1;f.value=f.divisor*(7*24*3600*1000)}else{if(e=="day"||e.days){f.period="day";f.interval=3600000;f.divisor=e.days?e.days:1;f.value=f.divisor*(24*3600*1000)}else{if(e=="hour"||e.hours){f.period="hour";f.interval=60000;f.divisor=e.hours?e.hours:1;f.value=f.divisor*(3600*1000)}else{if(e=="minute"||e.minutes){f.period="minute";f.interval=60*1000;f.divisor=e.minutes?e.minutes:1;f.value=f.divisor*60*1000}else{if(e=="second"||e.seconds){f.period="second";f.interval=1000;f.divisor=e.seconds?e.seconds:1;f.value=f.divisor*1000}else{if(e=="millisecond"||e.milliseconds){f.period="millisecond";f.interval=1;f.divisor=e.milliseconds?e.milliseconds:1;f.value=f.divisor*1}}}}}}}}return f};var o=function(u,e){var w=new Date(u);var d=w.getDate();var D=e=="year"&&w.getMonth()==0&&d==1;var z=e=="month"&&d==1;var C=e=="week"&&w.getDay()==0;var A=e=="day"&&w.getHours()==0;var B=e=="hour"&&w.getMinutes()==0;var h=e=="minute"&&w.getSeconds()==0;var v=e=="minute"&&w.getMilliseconds()==0;var f=e=="millisecond";if(D||z||C||A||B||h||v||f){return true}else{return false}};var l=function(f,G,z){var B=(f-s._min)/s._unitPerPixel;if(s.rtl){if(G=="majorTicksInterval"){f=s._dateMajorTicks[s._dateMajorTicks.length-z]}else{f=s._dateMinorTicks[s._dateMinorTicks.length-z]}}B=parseInt(B);var F=f;if(s._valuesArray.indexOf(F)===-1){s._ticksArray.push(B);s._valuesArray.push(F);if(G=="majorTicksInterval"){s._majorTicksArray.push(B)}}if(G=="majorTicksInterval"){var e=s._id+"LabelTick"+z;var C=s.showMajorTicks?"visible":"hidden";t+="<div id='"+e+"' class='"+s.toThemeProperty("jqx-rangeselector-ticks")+" "+s.toThemeProperty("jqx-slider-tick-horizontal")+"' style='visibility: "+C+"; left: "+B+"px;'></div>";var h=F;h=s._formatOutput(h,s.labelsFormat,s.labelPrecision,"label");c("#labelPlaceholder").html(h);var H=c("#labelPlaceholder").width();var D=s._id+"Label"+z;var I=s.showLabels?"visible":"hidden";if(!s.labelsOnTicks){var E=s._getMillisecondsByInterval(s.majorTicksInterval)/s._unitPerPixel;var d=E/2;t+="<div id='"+D+"' class='"+s.toThemeProperty("jqx-rangeselector-labels")+"' style='visibility: "+I+"; left: "+(d+B-H/2)+"px; top: "+q+"px;'>"+h+"</div>"}else{if(s.labelsOnTicks){t+="<div id='"+D+"' class='"+s.toThemeProperty("jqx-rangeselector-labels")+"' style='visibility: "+I+"; left: "+(B-H/2)+"px; top: "+q+"px;'>"+h+"</div>"}}}else{var C=s.showMinorTicks?"visible":"hidden";var A=s._id+"MinorTick"+z;t+="<div id='"+A+"' class='"+s.toThemeProperty("jqx-rangeselector-ticks")+" "+s.toThemeProperty("jqx-rangeselector-ticks-minor")+" "+s.toThemeProperty("jqx-slider-tick-horizontal")+"' style='visibility: "+C+"; left: "+B+"px;'></div>"}};var n=function(G,h,C){var f=0;var A=1;var z=new Date(s._min).getHours();var d=h.interval==86400000?true:false;var B=0;var F=new Array();for(var w=s._min;w<=s._max;w+=h.interval){if(d==true){var E=new Date(w).getHours();if(z!=E){var e;if(E==1){e=1}else{if(E==23){e=-1}}w=w-e*3600000;z=new Date(w).getHours()}}var D=o(w,h.period);if(D==true){if(f%h.divisor==0){if(C){F.push(w)}else{l(w,G,A,h.interval)}A++}f++}}return F};s._dateMajorTicks=n("majorTicksInterval",a("majorTicksInterval"),true);s._dateMinorTicks=n("minorTicksInterval",a("minorTicksInterval"),true);n("majorTicksInterval",a("majorTicksInterval"));n("minorTicksInterval",a("minorTicksInterval"));if(this.showGroupLabels==true&&this.showLabels){this._addGroupLabels(c("#labelPlaceholder").height()+q)}return t},_addGroupLabels:function(q){var u=this;var B=new Date(this._min);var s=new Date(this._max);if(s.getFullYear()-B.getFullYear()>0){var t="year";var E=86400000}else{if(s.getMonth()-B.getMonth()>0){var t="month";var E=86400000}else{if(s.getDate()-B.getDate()>0){var t="day";var E=3600000}else{return}}}var v=function(e){var f=new Date(e);var G=f.getFullYear();var d=f.getMonth();var o=f.getDate();var n;var h=true;if(t=="year"&&d==0&&o==1){n=G}else{if(t=="month"&&o==1){n=c.jqx.dataFormat.formatdate(f,"MMMM");if(d==0){n=G+" "+n}}else{if(t=="day"&&f.getHours()==0){n=c.jqx.dataFormat.formatdate(f,"dddd")}else{h=false}}}var F;if((h==true)&&u.groupLabelsFormatFunction){F=u.groupLabelsFormatFunction(n,f)}else{F=n}var l={check:h,value:F};return l};var w=new String();var z=this.toThemeProperty("jqx-rangeselector-group-labels-ticks")+" "+this.toThemeProperty("jqx-slider-tick-horizontal");var C=1;for(var A=this._min;A<this._max;A+=E){var a=v(A);if(a.check==true){var D=(A-this._min)/this._unitPerPixel;w+="<div class='"+this.toThemeProperty("jqx-rangeselector-labels")+"' style='left: "+D+"px; top: "+q+"px;'><div class='"+z+"'></div><div id='"+this._id+"GroupLabel"+C+"' class='"+this.toThemeProperty("jqx-rangeselector-group-labels")+"' style='margin-left: 5px;'>"+a.value+"</div></div>";C++}}c("#"+this._id+"TicksContainer").append(w)},_updateCursor:function(a,h){var l=this.element.style.cursor;var n=this.slider.offset().left;var o=parseInt(this.slider[0].style.width);var q=n+o;if((((a>n-5)&&(a<n+5))||((a>q-5)&&(a<q+5)))){if(l==""||l=="auto"){this.element.style.cursor="e-resize"}}else{if(l=="e-resize"){this.element.style.cursor="auto"}}},_handleMouseMove:function(G){var Z=this;var M=Z.slider;var X=G.pageX;var Y=G.pageY;if(Z._isTouchDevice){var ab=c.jqx.position(G);X=ab.left;Y=ab.top}var N=Z._hostOffset.left;var L=Z._hostWidth;if(Z.resizable&&!Z.dragging&&Z.resizeDirection=="none"){if(X>=N&&X<=N+L){if(Y>=Z._hostOffset.top&&Y<=Z._hostOffset.top+Z._hostHeight){this._updateCursor(X,Y)}}}if(!Z.isMouseDown){return true}if(Z._isTouchDevice){if(Y<Z._hostOffset.top||Y>Z._hostOffset.top+Z._hostHeight){return true}}var ad=Z._findNearestTick(Z._sliderLeftOffset+X-Z._mouseDownX);var ag=parseInt(ad);if(ag<0){return true}if(ag<0){ag=0}var ah=parseInt(M[0].style.width);var aa=ag+ah;var P=function(h){var l=parseInt(Z._maxWidth);var d=parseInt(Z._minWidth);if(h<d||h>l){return false}var e=parseInt(Z.rightMarker[0].style.left);var f=parseInt(Z.leftMarker[0].style.left);if(f>e){return false}return true};if(Z.resizable==true&&!Z.dragging){var T=ag*Z._unitPerPixel+Z._min;if(Z.resizeDirection=="left"||Z.isLeftMarkerCaptured){var K=Z.isLeftMarkerCaptured?Z.leftMarker.outerWidth():0;if(X<N-K){X=N-K}if(X>N+L+K){X=N+L+K+1}var R=M[0].style.left;var ac=ag-parseInt(R);var U=parseInt(ah-ac);if(!P(U)){if(X>Z._mouseDownX){X=Z.sliderRight-Z._minWidth-N;U=Z._minWidth;if(ah==U){return true}var ad=Z._findNearestTick(X);ag=ad;if(ag<0){return true}var S=parseInt(R)*Z._unitPerPixel+Z._min;var T=ag*Z._unitPerPixel+Z._min}else{if(Z._maxWidth!=0&&X<Z._mouseDownX&&U>Z._maxWidth){X=Z.sliderRight-Z._maxWidth-N;U=Z._maxWidth;if(ah==U){return true}var ad=Z._findNearestTick(X);ag=ad;if(ag<0){return true}var S=parseInt(R)*Z._unitPerPixel+Z._min;var T=ag*Z._unitPerPixel+Z._min}else{return true}}}Z.slider[0].style.left=ag+"px";if(R!=M[0].style.left){Z.slider[0].style.width=U+"px"}var V=Z._findNearestTick(ag);var H=Z._valuesArray[Z._ticksArray.indexOf(V)];if(H!=undefined){Z.leftMarkerValue[0].innerHTML=Z._formatOutput(H,Z.markersFormat,0,"left");if(ag!=V){Z.slider[0].style.left=V+"px"}}else{Z.leftMarkerValue[0].innerHTML=Z._formatOutput(T,Z.markersFormat,0,"left")}Z.oldX=X;Z.moved=true}else{if(Z.resizeDirection=="right"||Z.isRightMarkerCaptured){var K=Z.isRightMarkerCaptured?Z.rightMarker.outerWidth():0;var J=false;var I=false;if(X<N-K){X=N-K;I=true}if(X>N+L+K){X=N+L+K;J=true}var ae=Z._sliderInitialWidth;var W=Z._findNearestTick(ae+Z._sliderLeftOffset);var O=Z._findNearestTick(ae+X-Z._mouseDownX+Z._sliderLeftOffset);if(O<0){return true}var ac=W-O;var U=ae-ac;if(U<=0){ac=ae;U=0}var Q=parseInt(Z.element.style.width);if(Z.element.style.width.indexOf("%")>=0){Q=Z.host.width()}if(J||(Z._sliderLeftOffset+U>=Q)){U=Q-Z._sliderLeftOffset;boundDetected=true}if(U>parseInt(this._maxWidth)){U=parseInt(this._maxWidth)}if(U<parseInt(this._minWidth)){U=parseInt(this._minWidth)}Z.slider[0].style.width=U+"px";var T=(Z._sliderLeftOffset+U)*Z._unitPerPixel+Z._min;var a=Z._findNearestTick(Z._sliderLeftOffset+U);var af=Z._valuesArray[Z._ticksArray.indexOf(a)];if(af!=undefined){if(Z._sliderLeftOffset+U!=a){Z.slider[0].style.width=a-Z._sliderLeftOffset+"px"}Z.rightMarkerValue[0].innerHTML=Z._formatOutput(af,Z.markersFormat,0,"right")}else{Z.rightMarkerValue[0].innerHTML=(Z._formatOutput(T,Z.markersFormat,0,"right"))}Z.oldX=X}}Z._layoutShutter();Z._layoutMarkers();Z.moved=true}if(Z.dragging==1){Z._moveSlider(ag,true);Z.oldX=X}},_moveSlider:function(F,D){var A=this;A.moved=true;var C=parseInt(this.slider[0].style.width);var E=parseInt((F+C));var q=this._hostWidth;var v=F;if(v<0){v=0;F=v}if(v+C>q){v=q-C;F=v}if((v>=0)&&((v+C)<=(q))){this.slider[0].style.left=v+"px";var a=this._findNearestTick(v);var u=this._majorTicksArray.indexOf(a)!=-1;var s=this._valuesArray[this._ticksArray.indexOf(a)];if(s!=undefined){this.leftMarkerValue[0].innerHTML=this._formatOutput(s,this.markersFormat,0,"left");if(F!=a&&u){if(D){this.slider[0].style.left=a+"px";var E=parseInt((a+C))}}}else{this.leftMarkerValue[0].innerHTML=this._formatOutput(((v)*this._unitPerPixel+this._min),this.markersFormat,0,"left")}var w=this._findNearestTick(E);var t=this._valuesArray[this._ticksArray.indexOf(w)];if(t!=undefined){var z=this._majorTicksArray.indexOf(w)!=-1;this.rightMarkerValue[0].innerHTML=this._formatOutput(t,this.markersFormat,0,"right");if(E!=w&&z&&u){if(D){var B=(w-a);this.slider[0].style.width=B+"px"}}}else{this.rightMarkerValue[0].innerHTML=this._formatOutput(((v+C)*this._unitPerPixel+this._min),this.markersFormat,0,"right")}}this._layoutShutter();this._layoutMarkers()},_initSlider:function(){var u=this;var a=this.toThemeProperty("jqx-rangeselector-shutter")+" "+this.toThemeProperty("jqx-scrollbar-state-normal");c("#"+this._id+"TicksContainer").append("<div id='"+this._id+"ShutterLeft' class='"+a+"'></div><div id='"+this._id+"Slider' class='"+this.toThemeProperty("jqx-rangeselector-slider")+" "+this.toThemeProperty("jqx-scrollbar-thumb-state-normal")+"'><div class='"+this.toThemeProperty("jqx-rangeselector-inner-slider")+"'></div></div><div id='"+this._id+"ShutterRight' class='"+a+"'></div>");this.slider=c("#"+this._id+"Slider");this.shutterLeft=c("#"+this._id+"ShutterLeft");this.shutterRight=c("#"+this._id+"ShutterRight");this._hostOffset=this.rangeSelector.offset();this._hostWidth=this.rangeSelector.width();this._hostHeight=this.rangeSelector.height();var t=this._hostOffset;var v=this._initRange();var l=v.left;var G=v.right-l;var C=G/this._unitPerPixel;this.slider[0].style.width=Math.round(C)+"px";var B=t.left+parseInt((l-this._min)/this._unitPerPixel);this.slider.offset({left:B});this._layoutShutter();this._initMarkers();if(this.disabled==false){this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled"));this.addHandler(this.host,"dragstart.rangeselector"+this._id,function(){return false});this.addHandler(c(window),"jqxReady.rangeselector",function(){u._layoutMarkers();return false});this.isSliderCaptured=false;this.resizeDirection="none";this.isLeftMarkerCaptured=false;this.isRightMarkerCaptured=false;this.dragging=false;this._mouseDownX;var F;var D;var A="mousedown.rangeselector"+this.element.id;if(this._isTouchDevice){A=c.jqx.mobile.getTouchEventName("touchstart")+".rangeselector"+this.element.id}this.addHandler(this.host,A,function(I){u.isMouseDown=true;u._hostOffset=u.rangeSelector.offset();u._hostWidth=u.rangeSelector.width();u._hostHeight=u.rangeSelector.height();u._sliderLeftOffset=parseInt(u.slider[0].style.left);var f=I.pageX;var o=I.pageY;if(u._isTouchDevice){var n=c.jqx.position(I);f=n.left;o=n.top}u._initialSliderOffset=f-u.slider.offset().left;var e=u.slider.width();u._sliderInitialWidth=e;F=u.slider.offset().left;D=u._sliderInitialWidth;u.initialOffset=F;var J=parseInt((F+D));u.oldX=f;u._mouseDownX=f;u.resizeDirection="none";u.sliderRight=J;if((f>F-5)&&(f<F+5)&&u._heightCheck(o)){u.isSliderCaptured=false;u.dragging=false;u.resizeDirection="left"}else{if((f>J-5)&&(f<J+5)&&u._heightCheck(o)){u.isSliderCaptured=false;u.dragging=false;u.resizeDirection="right"}else{if((f>=F+5)&&(f<=J+5)&&u._heightCheck(o)){u.isSliderCaptured=true;u.dragging=true}else{u.isSliderCaptured=false;u.dragging=false;if(u.moveOnClick){if(u.isLeftMarkerCaptured||u.isRightMarkerCaptured){return false}var h=u._sliderLeftOffset+u._initialSliderOffset;var d=u._findNearestTick(h);h=d;if(h<0){h=0}var q=parseInt(u.slider[0].style.width);if(o>=u.slider.offset().top){if(f>J){u._moveSlider(h-q,true)}else{u._moveSlider(h,true)}}}}}}});this.addHandler(u.leftMarker,A,function(d){u.leftMarkerAndArrow.addClass(u.toThemeProperty("jqx-fill-state-pressed"));u.oldLeftX=d.pageX;if(u._isTouchDevice){var e=c.jqx.position(d);oldLeftX=e.left}u._mouseDownX=u.oldLeftX;u.isLeftMarkerCaptured=true});this.addHandler(u.rightMarker,A,function(d){u.rightMarkerAndArrow.addClass(u.toThemeProperty("jqx-fill-state-pressed"));u.oldRightX=d.pageX;if(u._isTouchDevice){var e=c.jqx.position(d);oldRightX=e.left}u._mouseDownX=u.oldRightX;u.isRightMarkerCaptured=true});this.addHandler(c(document),"selectstart.rangeselector"+this._id,function(d){if(u.isSliderCaptured==true||u.isLeftMarkerCaptured==true||u.isRightMarkerCaptured==true||u.dragging==true){d.preventDefault();return false}});var H="mousemove.rangeselector"+this.element.id;if(this._isTouchDevice){H=c.jqx.mobile.getTouchEventName("touchmove")+".rangeselector"+this.element.id}this.addHandler(c(document),H,function(d){u._handleMouseMove(d)});var w=function(f){try{var h=u.moved;u.moved=false;u.isMouseDown=false;u.dragging=false;u.resizeDirection="none";if(u.isLeftMarkerCaptured==true){u.leftMarkerAndArrow.removeClass(u.toThemeProperty("jqx-fill-state-pressed"));u.isLeftMarkerCaptured=false}if(u.isRightMarkerCaptured==true){u.rightMarkerAndArrow.removeClass(u.toThemeProperty("jqx-fill-state-pressed"));u.isRightMarkerCaptured=false}if(h){var e=u._getValue();u._raiseEvent("0",{type:"mouse",from:e.from,to:e.to})}}catch(d){}};this.addHandler(c(document),"mouseup.rangeselector"+this._id,function(d){w(d)});try{if(document.referrer!=""||window.frameElement){if(window.top!=null&&window.top!=window.self){var z=function(d){w(d)};var E=null;if(window.parent&&document.referrer){E=document.referrer}if(E&&E.indexOf(document.location.host)!=-1){if(window.top.document){if(window.top.document.addEventListener){window.top.document.addEventListener("mouseup",z,false)}else{if(window.top.document.attachEvent){window.top.document.attachEvent("onmouseup",z)}}}}}}}catch(s){}}else{this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"))}this._moveSlider(parseInt(u.slider[0].style.left));this.moved=false},_initMarkers:function(){var u=c("#"+this._id+"TicksContainer");var t=this.toThemeProperty("jqx-rangeselector-markers")+" "+this.toThemeProperty("jqx-disableselect")+" "+this.toThemeProperty("jqx-fill-state-normal");u.append("<div id='"+this._id+"LeftMarker' class='"+t+"'></div><div id='"+this._id+"RightMarker' class='"+t+"'></div>");var s=this.toThemeProperty("jqx-rangeselector-marker-arrow")+" "+this.toThemeProperty("jqx-fill-state-normal");if(this.markersPosition=="bottom"){s+=" "+this.toThemeProperty("jqx-rangeselector-marker-arrow-bottom")}else{s+=" "+this.toThemeProperty("jqx-rangeselector-marker-arrow-top")}u.append("<div id='"+this._id+"LeftMarkerArrow' class='"+s+" "+this.toThemeProperty("jqx-rangeselector-marker-left-arrow")+"'></div>");u.append("<div id='"+this._id+"RightMarkerArrow' class='"+s+" "+this.toThemeProperty("jqx-rangeselector-marker-right-arrow")+"'></div>");c("#"+this._id+"LeftMarker").append("<div id='"+this._id+"LeftMarkerValue' class='"+this.toThemeProperty("jqx-disableselect")+" "+this.toThemeProperty("jqx-rangeselector-markers-value")+"'></div>");c("#"+this._id+"RightMarker").append("<div id='"+this._id+"RightMarkerValue' class='"+this.toThemeProperty("jqx-disableselect")+" "+this.toThemeProperty("jqx-rangeselector-markers-value")+"'></div>");var l=c("#"+this._id+"LeftMarker, #"+this._id+"RightMarker, #"+this._id+"LeftMarkerArrow, #"+this._id+"RightMarkerArrow");var n=c("#"+this._id+"LeftMarker, #"+this._id+"LeftMarkerArrow");var a=c("#"+this._id+"RightMarker, #"+this._id+"RightMarkerArrow");if(this.showMarkers==true){l.css("visibility","visible")}else{l.css("visibility","hidden")}if(this.disabled==false&&this.resizable==true){var q=this;this.addHandler(n,"mouseenter.rangeselector"+this._id,function(d){q.element.style.cursor="pointer";n.addClass(q.toThemeProperty("jqx-fill-state-hover"))});this.addHandler(n,"mouseleave.rangeselector"+this._id,function(d){q.element.style.cursor="auto";n.removeClass(q.toThemeProperty("jqx-fill-state-hover"))});this.addHandler(a,"mouseenter.rangeselector"+this._id,function(d){q.element.style.cursor="pointer";a.addClass(q.toThemeProperty("jqx-fill-state-hover"))});this.addHandler(a,"mouseleave.rangeselector"+this._id,function(d){q.element.style.cursor="auto";a.removeClass(q.toThemeProperty("jqx-fill-state-hover"))})}this.leftMarkerAndArrow=n;this.rightMarkerAndArrow=a;this.leftMarkerArrow=c("#"+this._id+"LeftMarkerArrow");this.rightMarkerArrow=c("#"+this._id+"RightMarkerArrow");this.leftMarker=c("#"+this._id+"LeftMarker");this.rightMarker=c("#"+this._id+"RightMarker");this.leftMarkerValue=c("#"+this._id+"LeftMarkerValue");this.rightMarkerValue=c("#"+this._id+"RightMarkerValue");var o=this._initRange();this._updateMarkersValues(o.left,o.right);this._layoutMarkers();if(this.padding=="auto"){this.host.css("padding-left",this.leftMarker[0].offsetWidth);this.host.css("padding-right",this.rightMarker[0].offsetWidth);this.host.css("padding-top",this._leftMarkerHeight+7)}else{this.host.css("padding",this.padding)}},_layoutMarkers:function(){if(this.showMarkers!=true){return}if(!this._hostOffset){this._hostOffset=this.rangeSelector.offset()}if(!this._leftMarkerHeight){this._leftMarkerHeight=this.leftMarker.outerHeight();this._rightMarkerHeight=this.rightMarker.outerHeight()}var s=this._hostOffset.top;var o=parseInt(this.slider[0].style.left)+this._hostOffset.left;var t=-5;if(this.markersPosition=="bottom"){t=parseInt(this.element.style.height)+4+this._rightMarkerHeight}var u=t-this._leftMarkerHeight;var q=t-this._rightMarkerHeight;if(this.markersPosition=="bottom"){t=parseInt(this.element.style.height)-6}var l=this.leftMarker[0].offsetWidth;var a=1+o-l-this._hostOffset.left;this.leftMarker[0].style.left=a+"px";this.leftMarker[0].style.top=u+"px";this.leftMarkerArrow[0].style.left=2+a+l+"px";this.leftMarkerArrow[0].style.top=6+t+"px";var n=o+parseInt(this.slider[0].style.width)-this._hostOffset.left;this.rightMarker[0].style.left=n+"px";this.rightMarker[0].style.top=q+"px";this.rightMarkerArrow[0].style.left=7+n+"px";this.rightMarkerArrow[0].style.top=6+t+"px"},_updateMarkersValues:function(f,h){var l=f;var a=h;this.leftMarkerValue[0].innerHTML=this._formatOutput(l,this.markersFormat,0,"left",true);this.rightMarkerValue[0].innerHTML=this._formatOutput(a,this.markersFormat,0,"right",true)},_removeHandlers:function(){var h=this.element.id;var l=c("#"+h+"LeftMarker, #"+h+"LeftMarkerArrow");var a=c("#"+h+"RightMarker, #"+h+"RightMarkerArrow");var n="mousemove.rangeselector"+h;var o="mousedown.rangeselector"+h;if(this._isTouchDevice){n=c.jqx.mobile.getTouchEventName("touchmove")+".rangeselector"+h;o=c.jqx.mobile.getTouchEventName("touchstart")+".rangeselector"+h}this.removeHandler(c(document),n);this.removeHandler(c(document),"mouseup.rangeselector"+h);this.removeHandler(this.host,o);this.removeHandler(this.host,"click.rangeselector"+h);this.removeHandler(this.host,"dragstart.rangeselector"+h);this.removeHandler(l,"mouseenter.rangeselector"+h);this.removeHandler(l,"mouseleave.rangeselector"+h);this.removeHandler(a,"mouseenter.rangeselector"+h);this.removeHandler(a,"mouseleave.rangeselector"+h);this.removeHandler(c("#"+h+"LeftMarker"),o);this.removeHandler(c("#"+h+"RightMarker"),o);this.removeHandler(c("#"+h+"LeftMarkerValue, #"+h+"RightMarkerValue"),"selectstart.rangeselector"+h)},_heightCheck:function(a){var e=this.slider;var f=e.offset().top;if(a>=f&&a<=f+e.height()){return true}else{return false}},_checkProperties:function(){if(this._range._from<this._min){this._range._from=this._min}else{if(this._range._from>this._min&&this._range._from>this._max){this._range._from=this._min}}if(this._range._to>this._max){this._range._to=this._max}else{if(this._range._to<this._min&&this._range._to<this._max){this._range._to=this._max}}var d=this._max-this._min;if(this._range._min>d){this._range._min=d}if(this._range._max>d){this._range._max=d}var a=this._range._to-this._range._from;if(a<this._range._min){this._range._to=this._range._from+this._range._min}else{if(a>this._range._max){this._range._to=this._range._from+this._range._max}}},_findNearestTick:function(n){var h=0;var l=Math.abs(n-this._ticksArray[0]);for(var o=1;o<this._ticksArray.length;o++){var a=Math.abs(n-this._ticksArray[o]);if(l>a){l=a;h=o}}return this._ticksArray[h]},_privateProperties:function(){this._min=this._validateInput(this.min);this._max=this._validateInput(this.max);this._range=new Object();this._range._from=this._validateInput(this.range.from!=undefined?this.range.from:0);this._range._to=this._validateInput(this.range.to!=undefined?this.range.to:Infinity);this._range._min=this._minMaxDate(this.range.min!=undefined?this.range.min:0);this._range._max=this._minMaxDate(this.range.max!=undefined?this.range.max:Infinity)},_validateInput:function(d){var a;if(typeof d=="number"){a=d}else{if(typeof d=="string"){a=Date.parse(d)}else{if(d instanceof Date){a=d.getTime()}}}return a},_minMaxDate:function(d){if(typeof d!="number"){var a;switch(d){case"millisecond":a=1;break;case"second":a=1000;break;case"minute":a=60000;break;case"hour":a=3600000;break;case"day":a=86400000;break;case"week":a=604800000;break;default:a=d.milliseconds?d.milliseconds:0+d.seconds?1000*d.seconds:0+d.minutes?60000*d.minutes:0+d.hours?3600000*d.hours:0+d.days?86400000*d.days:0+d.weeks?604800000*d.weeks:0}return a}else{return d}},_formatOutput:function(q,o,u,s,n){var t;if(!this.values){this.values=new Array()}this.values[s]=q;if((s=="label")&&this.labelsFormatFunction){if(this._dataType=="date"){t=this._roundDate(q)}else{t=this._roundNumber(q,"label")}t=this.labelsFormatFunction(t)}else{if(s!="label"&&this.markersFormatFunction){if(this._dataType=="date"){t=this._roundDate(q)}t=this.markersFormatFunction(q,s)}else{if(!o){if(this._dataType=="date"){var a;if(this.labelsFormat==null&&this.markersFormat==null){a="both labelsFormat and markersFormat"}else{if(this.labelsFormat==null){a="labelsFormat"}else{if(this.markersFormat==null){a="markersFormat"}}}var l="When the data format is date, "+a+" should be set.";throw new Error(l)}t=q.toFixed(u)}else{if(this._dataType=="number"){t=c.jqx.dataFormat.formatnumber(q,o)}else{t=this._roundDate(q);t=c.jqx.dataFormat.formatdate(t,o)}}}}return t},_getValue:function(l){var q=this.slider;var s=q.width();var a=new Object();var t=q.offset().left-this.rangeSelector.offset().left;var n=(t*this._unitPerPixel+this._min);a.from=this._roundNumber(n,"marker");a.to=this._roundNumber(n+s*this._unitPerPixel,"marker");if(!l&&this.snapToTicks==true){var o=this._findNearestTick((a.from-this._min)/this._unitPerPixel);a.from=this._valuesArray[this._ticksArray.indexOf(o)];var u=this._findNearestTick((a.to-this._min)/this._unitPerPixel);a.to=this._valuesArray[this._ticksArray.indexOf(u)]}if(this._dataType=="date"){a.from=new Date(a.from);a.to=new Date(a.to)}return a},_roundNumber:function(f,a,h){var l;if(a=="marker"){if(h==true){f=parseFloat(f)}l=parseFloat(f)}else{if(a=="label"){l=parseFloat(f)}else{l=parseFloat(f)}}return l},_roundDate:function(l){if(typeof l=="number"){l=new Date(l)}var h=this._max-this._min;if(h>1209600000){var f=l.getDate();var a=l.getHours();if(a>12){l.setDate(f+1);l.setHours(0);l.setMinutes(0);l.setSeconds(0)}}else{if(h>172800000){l.setHours(l.getHours()+Math.round(l.getMinutes()/60));l.setMinutes(0);l.setSeconds(0)}}return l},_layoutShutter:function(){var h=parseInt(this.slider[0].style.left);this.shutterLeft[0].style.width=h+"px";this.shutterLeft[0].style.left="0px";if(c.jqx.browser.msie&&c.jqx.browser.version<9){this.shutterLeft[0].style.filter="progid:DXImageTransform.Microsoft.Alpha(Opacity=75)";this.shutterRight[0].style.filter="progid:DXImageTransform.Microsoft.Alpha(Opacity=75)"}var l=1+h+parseInt(this.slider[0].style.width);this.shutterRight[0].style.left=l+"px";var f=parseInt(this.element.style.width);if(this.element.style.width.indexOf("%")>=0){var f=parseInt(this.host.width())}var a=f-1-h-parseInt(this.slider[0].style.width);if(a<0){a=0}this.shutterRight[0].style.width=1+a+"px";if(l+1+a<2+f){this.shutterRight[0].style.width=2+a+"px"}if(a==0){this.shutterRight[0].style.width="0px"}},_initRange:function(){if(this._range._from>this._range._to){throw new Error("jqxRangeSelector: range object initialization error. 'min' should be less than 'max'");return}var l=this;var f=this._range._from;var a=this._range._to;var h={left:f,right:a};return h}})})(jqxBaseFramework);(function(c){c.jqx.jqxWidget("jqxDataTable","",{});c.extend(c.jqx._jqxDataTable.prototype,{defineInstance:function(){var a={altRows:false,aggregatesHeight:34,autoShowLoadElement:true,autoRowHeight:true,columnsHeight:30,columns:[],columnGroups:null,columnsResize:false,columnsReorder:false,dataview:null,disabled:false,editable:false,editSettings:{saveOnPageChange:true,saveOnBlur:true,saveOnSelectionChange:true,cancelOnEsc:true,saveOnEnter:true,editSingleCell:false,editOnDoubleClick:true,editOnF2:true},enableHover:true,enableBrowserSelection:false,filterHeight:30,filterable:false,filterMode:"default",groupsRenderer:null,groups:new Array(),headerZIndex:359,height:null,handleKeyboardNavigation:null,indentWidth:25,initRowDetails:false,loadingErrorMessage:"The data is still loading and you cannot set a property or call a method. You can do that once the data binding is completed. jqxDataTable raises the 'bindingComplete' event when the binding is completed.",localization:null,pagerHeight:28,pageSize:10,pageSizeOptions:["5","10","20"],pageable:false,pagerPosition:"bottom",pagerMode:"default",pageSizeMode:"default",pagerButtonsCount:5,pagerRenderer:null,ready:null,rendertoolbar:null,rowDetails:false,renderStatusBar:null,rendered:null,rendering:null,rtl:false,sortable:false,showtoolbar:false,showstatusbar:false,statusBarHeight:34,serverProcessing:false,selectionMode:"multiplerows",scrollBarSize:c.jqx.utilities.scrollBarSize,touchScrollBarSize:c.jqx.utilities.touchScrollBarSize,showAggregates:false,showHeader:true,maxHeight:999999,maxWidth:999999,autoBind:true,beginEdit:null,endEdit:null,autokoupdates:true,columnsVirtualization:false,exportSettings:{columnsHeader:true,hiddenColumns:false,serverURL:null,characterSet:null,collapsedRecords:false,recordsInView:true,fileName:"jqxDataTable"},source:{beforeprocessing:null,beforesend:null,loaderror:null,localdata:null,data:null,datatype:"array",datafields:[],url:"",root:"",record:"",id:"",totalrecords:0,recordstartindex:0,recordendindex:0,loadallrecords:true,sortcolumn:null,sortdirection:null,sort:null,filter:null,sortcomparer:null},toolbarHeight:34,tableZIndex:369,_updating:false,touchmode:"auto",width:null,that:this,incrementalSearch:true,events:["bindingComplete","sort","filter","pageChanged","pageSizeChanged","rowClick","rowDoubleClick","cellValueChanged","rowBeginEdit","rowEndEdit","rowSelect","rowUnselect","rowCheck","rowUncheck","columnResized","columnReordered","rowExpand","rowCollapse","cellBeginEdit","cellEndEdit"]};c.extend(true,this,a);this.that=this;return a},createInstance:function(S){var N=this;if(c.jqx.utilities.scrollBarSize!=15){N.scrollBarSize=c.jqx.utilities.scrollBarSize}if((N.element.nodeName.toLowerCase()=="table")||c(N.element).children("table").length>0){var L=N.host.find("tbody tr");var T=N.host.find("th");var C=new Array();if(T.length===0){T=L[0];L.splice(0,1)}if(N.localizestrings){N.localizestrings();if(N.localization!=null){N.localizestrings(N.localization,false)}}var a=[];for(var E=0;E<L.length;E++){var O=L[E];var P={};for(var F=0;F<T.length;F++){var Q=c.trim(c(T[F]).text());if(E===0){var G={name:Q};if(N.columns[F]&&N.columns[F].cellsFormat){var D=N.columns[F].cellsFormat.toLowerCase();if(D.indexOf("p")!=-1||D.indexOf("c")!=-1||D.indexOf("n")!=-1||D.indexOf("f")!=-1){G.type="number"}if(D.indexOf("d")!=-1||D.indexOf("m")!=-1||D.indexOf("y")!=-1||D.indexOf("h")!=-1||D.indexOf("m")!=-1||D.indexOf("s")!=-1||D.indexOf("t")!=-1){G.type="date"}}C.push(G)}var U=c(O).find("td:eq("+F+")");var R=C[F].type;if(R){var J=N.getvaluebytype(c.trim(U.text()),C[F]);P[Q]=J}else{P[Q]=c.trim(U.text())}}a[a.length]=P}N.host.wrap("<div></div>");var M=N.host.parent();var I=N.host.data();I.jqxDataTable.host=M;I.jqxDataTable.element=M[0];N.host.parent()[0].id=N.element.id;try{N.host.parent()[0].style=N.element.style}catch(H){}N.element=M[0];N.host=M;N.host.data(I);var K={dataFields:C,localdata:a,datatype:"array"};var A=new c.jqx.dataAdapter(K);N.source=A}if(N.source&&!N.source.dataBind){N.source=new c.jqx.dataAdapter(N.source)}var B=N.source._source.datafields;if(B&&B.length>0){N._camelCase=N.source._source.dataFields!==undefined;N.selectionMode=N.selectionMode.toLowerCase()}if(N.host.attr("tabindex")==null){N.host.attr("tabindex","0")}N.host.attr("role","grid");N.host.attr("align","left");N.host.addClass(N.toTP("jqx-grid"));N.host.addClass(N.toTP("jqx-reset"));N.host.addClass(N.toTP("jqx-rc-all"));N.host.addClass(N.toTP("jqx-widget"));N.host.addClass(N.toTP("jqx-widget-content"));if(N._testmodules()){return}N.render(true);c.jqx.utilities.resize(N.host,function(){var e=c(window).width();var h=c(window).height();var f=N.host.width();var l=N.host.height();if(N._lastHostWidth!=f||N._lastHostHeight!=l){N._updatesize(N._lastHostWidth!=f,N._lastHostHeight!=l)}N._lastWidth=e;N._lastHeight=h;N._lastHostWidth=f;N._lastHostHeight=l})},getvaluebytype:function(a,q){var n=a;if(a==null){return a}if(this.gridlocalization.decimalseparator==","){if(a.indexOf(this.gridlocalization.decimalseparator)>=0){a=a.replace(this.gridlocalization.decimalseparator,".")}}if(a.indexOf(this.gridlocalization.currencysymbol)>=0){a=a.replace(this.gridlocalization.currencysymbol,"")}if(a.indexOf(this.gridlocalization.percentagesymbol)>=0){a=a.replace(this.gridlocalization.percentagesymbol,"")}if(c.isArray(a)&&q.type!="array"){for(var o=0;o<a.length;o++){a[o]=this.getvaluebytype(a[o],q)}return a}if(q.type=="date"){if(a=="NaN"){a=""}else{var l=new Date(a);if(typeof a=="string"){if(q.format){var s=c.jqx.dataFormat.parsedate(a,q.format);if(s!=null){l=s}}}if(l.toString()=="NaN"||l.toString()=="Invalid Date"){if(c.jqx.dataFormat){a=c.jqx.dataFormat.tryparsedate(a)}else{a=l}}else{a=l}if(a==null){a=n}}}else{if(q.type=="float"||q.type=="number"||q.type=="decimal"){if(a=="NaN"){a=""}else{var a=parseFloat(a);if(isNaN(a)){a=n}}}else{if(q.type=="int"||q.type=="integer"){var a=parseInt(a);if(isNaN(a)){a=n}}else{if(q.type=="bool"||q.type=="boolean"){if(a!=null){if(a.toLowerCase!=undefined){if(a.toLowerCase()=="false"){a=false}else{if(a.toLowerCase()=="true"){a=true}}}}if(a==1){a=true}else{if(a==0&&a!==""){a=false}else{a=""}}}}}}return a},_builddataloadelement:function(){if(this.dataloadelement){this.dataloadelement.remove()}this.dataloadelement=c('<div class="jqx-datatable-load" style="z-index: 99998; background-color:rgba(50,50,50,0.1); overflow: hidden; position: absolute;"></div>');var f=c('<div style="z-index: 99999; margin-left: -66px; left: 50%; top: 50%; margin-top: -24px; position: relative; width: 100px; height: 33px; padding: 5px; font-family: verdana; font-size: 12px; color: #767676; border-color: #898989; border-width: 1px; border-style: solid; background: #f6f6f6; border-collapse: collapse;"><div style="float: left;"><div style="float: left; overflow: hidden; width: 32px; height: 32px;" class="jqx-grid-load"/><span style="margin-top: 10px; float: left; display: block; margin-left: 5px;" >'+this.gridlocalization.loadtext+"</span></div></div>");f.addClass(this.toTP("jqx-rc-all"));this.dataloadelement.addClass(this.toTP("jqx-rc-all"));f.addClass(this.toTP("jqx-fill-state-normal"));this.dataloadelement.append(f);this.dataloadelement.width(this.width);this.dataloadelement.height(this.height);this.host.prepend(this.dataloadelement);if(this.source._source.url!=""){var h=false;if(this.height==="auto"||this.height===null||this.autoheight){if(this.maxHeight==999999){h=true}}if(h){this.host.height(100);this.dataloadelement.height(100)}else{this.host.height(this.height);this.dataloadelement.height(this.height)}var a=false;if(this.width==="auto"||this.width===null||this.autoWidth){a=true}if(a){this.host.width(300);this.dataloadelement.width(300)}else{this.host.width(this.width);this.dataloadelement.width(this.width)}}},_measureElement:function(a){var e=c("<span style='visibility: hidden; white-space: nowrap;'>measure Text</span>");e.addClass(this.toTP("jqx-widget"));c(document.body).append(e);if(a=="cell"){this._cellheight=e.height()}else{this._columnheight=e.height()}e.remove()},_testmodules:function(){var a="";var l=this;var o=function(){if(a.length!=""){a+=","}};if(!this.host.jqxScrollBar){o();a+=" jqxscrollbar.js"}if(!this.host.jqxButton){o();a+=" jqxbuttons.js"}if(!c.jqx.dataAdapter){o();a+=" jqxdata.js"}if(a!=""||this.editable||this.filterable||this.pageable){var n=[];var h=function(e){switch(e){case"checkbox":if(!l.host.jqxCheckBox&&!n.checkbox){n.checkbox=true;o();a+=" jqxcheckbox.js"}break;case"dropdownlist":if(!l.host.jqxDropDownList&&!n.dropdownlist){o();n.dropdownlist=true;a+=" jqxdropdownlist.js(requires: jqxlistbox.js)"}else{if(!l.host.jqxListBox&&!n.listbox){o();n.listbox=true;a+=" jqxlistbox.js"}}break}};if((this.filterable&&this.filterMode!="simple")||(this.pagerMode=="advanced"&&this.pageable)){h("dropdownlist")}if(a!=""){throw new Error("jqxDataTable: Missing references to the following module(s): "+a);this.host.remove();return true}}return false},focus:function(){try{this.wrapper.focus();this.host.focus();var a=this;setTimeout(function(){a.wrapper.focus();a.host.focus()},25);this.focused=true}catch(e){}},hiddenParent:function(){return c.jqx.isHidden(this.host)},isBindingCompleted:function(){return !this._loading},_updatesize:function(a,l){if(this._loading){return}var o=this;var n=o.host.width();var q=o.host.height();if(!o._oldWidth){o._oldWidth=n}if(!o._oldHeight){o._oldHeight=q}if(o._resizeTimer!=undefined){clearTimeout(o._resizeTimer);o._resizeTimer=null}var s=300;var t=function(){if(o._resizeTimer){clearTimeout(o._resizeTimer)}o.resizingGrid=true;if(c.jqx.isHidden(o.host)){return}o._updatecolumnwidths();o.refresh();o._oldWidth=n;o._oldHeight=q;o.resizingGrid=false};t();o._resizeTimer=setTimeout(function(){var e=o.host.width();var f=o.host.height();if(o._oldWidth!=e||o._oldHeight!=f){t()}},s)},resize:function(a,e){if(a!=undefined){this.width=a}if(e!=undefined){this.height=e}this._updatecolumnwidths();this.refresh()},isTouchDevice:function(){if(this.touchDevice!=undefined){return this.touchDevice}var a=c.jqx.mobile.isTouchDevice();this.touchDevice=a;if(this.touchmode==true){a=true;c.jqx.mobile.setMobileSimulator(this.element);this.touchDevice=a}else{if(this.touchmode==false){a=false}}if(a){this.touchDevice=true;this.host.addClass(this.toThemeProperty("jqx-touch"));this.host.find("jqx-widget-content").addClass(this.toThemeProperty("jqx-touch"));this.host.find("jqx-widget-header").addClass(this.toThemeProperty("jqx-touch"));this.scrollBarSize=this.touchScrollBarSize}return a},toTP:function(a){return this.toThemeProperty(a)},localizestrings:function(t,o){this._cellscache=new Array();if(c.jqx.dataFormat){c.jqx.dataFormat.cleardatescache()}if(this._loading){throw new Error("jqxDataTable: "+this.loadingErrorMessage);return false}if(t!=null){for(var l in t){if(l.toLowerCase()!==l){t[l.toLowerCase()]=t[l]}}var a=["pagergotopagestring","pagershowrowsstring","pagerrangestring","pagernextbuttonstring","pagerpreviousbuttonstring","pagerfirstbuttonstring","pagerlastbuttonstring","toppagerstring","firstDay","days","months","AM","PM","patterns","percentsymbol","currencysymbol","currencysymbolposition","decimalseparator","thousandsseparator","filterapplystring","filteraddnew","filtercancelstring","filterclearstring","filterstring","filterstringcomparisonoperators","filternumericcomparisonoperators","filterdatecomparisonoperators","filterbooleancomparisonoperators","emptydatastring","filterselectstring","todaystring","clearstring","validationstring","loadtext","filtersearchstring","loadingErrorMessage"];var n=this;for(var q=0;q<a.length;q++){var s=a[q];if(t[s]!==undefined){n.gridlocalization[s]=t[s]}}if(t.loadingErrorMessage){this.loadingErrorMessage=t.loadingErrorMessage}if(o!==false){this._builddataloadelement();c(this.dataloadelement).css("visibility","hidden");c(this.dataloadelement).css("display","none")}}else{this.gridlocalization={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy\u0027-\u0027MM\u0027-\u0027dd\u0027T\u0027HH\u0027:\u0027mm\u0027:\u0027ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",d3:"dd-MMMM-yyyy",d4:"dd-MM-yy",d5:"H:mm",d6:"HH:mm",d7:"HH:mm tt",d8:"dd/MMMM/yyyy",d9:"MMMM-dd",d10:"MM-dd",d11:"MM-dd-yyyy"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:",",pagergotopagestring:"Go to page:",pagershowrowsstring:"Show rows:",pagerrangestring:" of ",pagerpreviousbuttonstring:"previous",pagernextbuttonstring:"next",pagerfirstbuttonstring:"first",pagerlastbuttonstring:"last",filterapplystring:"Apply",filtercancelstring:"Cancel",filterclearstring:"Clear Filter",filterstring:"advanced",filtersearchstring:"Search:",filterstringcomparisonoperators:["empty","not empty","contains","contains(match case)","does not contain","does not contain(match case)","starts with","starts with(match case)","ends with","ends with(match case)","equal","equal(match case)","null","not null"],filternumericcomparisonoperators:["equal","not equal","less than","less than or equal","greater than","greater than or equal","null","not null"],filterdatecomparisonoperators:["equal","not equal","less than","less than or equal","greater than","greater than or equal","null","not null"],filterbooleancomparisonoperators:["equal","not equal"],validationstring:"Entered value is not valid",emptydatastring:"No data to display",filterselectstring:"Select Filter",loadtext:"Loading...",clearstring:"Clear",todaystring:"Today",loadingErrorMessage:"The data is still loading and you cannot set a property or call a method. You can do that once the data binding is completed. jqxDataTable raises the 'bindingComplete' event when the binding is completed."}}},_updateScrollbars:function(w){var t=false;if(this.width==="auto"||this.width===null||this.autowidth){if(this.maxWidth==999999){t=true}}var H=parseInt(this.scrollBarSize);var B=this.table?this.table.height():0;var v=0;var G="inherit";var D=this.vScrollBar[0].style.visibility;var z=this.hScrollBar[0].style.visibility;if(!w){var E=this.host.height()}else{var E=w}if(!this.columnGroups){E-=this.showHeader?this.columnsHeight:0}else{E-=this.showHeader?this.columnsheader.height():0}if(this.filterable){E-=this.filter.height()}if(this.pageable){E-=this.pagerHeight;if(this.pagerPosition==="both"){E-=this.pagerHeight}}if(this.showtoolbar){E-=this.toolbarHeight}if(this.showstatusbar){E-=this.statusBarHeight}if(this.showAggregates){E-=this.aggregatesHeight}var s=false;if(this.height==="auto"||this.height===null||this.autoheight){if(this.maxHeight==999999){s=true}}if(!s&&B>E&&(this.source.records.length>0||(this.source.hierarchy&&this.source.hierarchy.length>0))){this.vScrollBar[0].style.visibility=G;v=4+parseInt(H);this.vScrollBar.jqxScrollBar({max:B-E})}else{this.vScrollBar[0].style.visibility="hidden"}if((D!=this.vScrollBar[0].style.visibility)){this._updatecolumnwidths();var C=this.table.height();if(B!=C){B=C;if(!s&&B>E&&(this.source.records.length>0||(this.source.hierarchy&&this.source.hierarchy.length>0))){this.vScrollBar[0].style.visibility=G;v=4+parseInt(H);this.vScrollBar.jqxScrollBar({max:B-E})}}}var u=this.table?this.table.width():0;if(u>3){u-=3}var I=parseInt(this.host.css("border-left-width"))+parseInt(this.host.css("border-right-width"));var a=I+this.host.width()-v;if(u>a&&!t){this.hScrollBar[0].style.visibility=G;this.hScrollBar.jqxScrollBar({max:u-a});v=4+parseInt(H);if(!s){if(B>E-v+4&&(this.source.records.length>0||(this.source.hierarchy&&this.source.hierarchy.length>0))){this.hScrollBar.jqxScrollBar({max:I+u-a});var F=this.vScrollBar[0].style.visibility==="hidden";this.vScrollBar[0].style.visibility=G;this._updatecolumnwidths();if(F){this.hScrollBar.jqxScrollBar({max:u-a+v+I})}var A=this.table?this.table.width():0;if(A>3){A-=3}if(A!=u){if(A<a){this.hScrollBar.jqxScrollBar({max:I+A-a});this.hScrollBar[0].style.visibility="hidden";v=0}}}this.vScrollBar.jqxScrollBar({max:B-E+v})}}else{this.hScrollBar[0].style.visibility="hidden"}if(this.source.records.length===0&&(this.source.hierarchy&&this.source.hierarchy.length===0)){this.vScrollBar[0].style.visibility="hidden";this.bottomRight[0].style.visibility="hidden"}if(this.vScrollBar[0].style.visibility=="hidden"){if(this.vScrollInstance.value!=0){this.vScrollInstance.setPosition(0)}}},_measureElementWidth:function(a){var f=c("<span style='visibility: hidden; white-space: nowrap;'>"+a+"</span>");f.addClass(this.toTP("jqx-widget"));f.addClass(this.toTP("jqx-grid"));f.addClass(this.toTP("jqx-grid-column-header"));f.addClass(this.toTP("jqx-widget-header"));c(document.body).append(f);var h=f.outerWidth()+20;f.remove();return h},_arrangeAutoHeight:function(o){if(!o){o=0}if(this.height==="auto"||this.height===null||this.autoheight){var a=this.table.height();var l=0;if(!this.columnGroups){l+=this.showHeader?this.columnsHeight:-1}else{l+=this.showHeader?this.columnsheader.height():-1}l+=this.showstatusbar?this.statusBarHeight:0;l+=this.showAggregates?this.aggregatesHeight:0;l+=this.showtoolbar?this.toolbarHeight:0;l+=this.pageable?this.pagerHeight:0;if(this.pagerPosition==="both"){l+=this.pageable?this.pagerHeight:0}l+=a;if(this.filterable){var n=this.filter.find(".filterrow");var s=this.filter.find(".filterrow-hidden");var q=1;if(s.length>0){q=0}l+=this.filterHeight-1+this.filterHeight*n.length*q}if(l+o>this.maxHeight){this.host.height(this.maxHeight)}else{this.host.height(l+o)}return true}return false},_arrangeAutoWidth:function(h){if(!h){h=0}if(this.width==="auto"||this.width===null||this.autowidth){var l=0;for(var a=0;a<this.columns.records.length;a++){var n=this.columns.records[a].width;if(this.columns.records[a].hidden){continue}if(n=="auto"){n=this._measureElementWidth(this.columns.records[a].text);l+=n}else{l+=n}}width=l;if(width+h>this.maxWidth){this.host.width(this.maxWidth)}else{this.host.width(width+h)}return true}return false},_measureTopAndHeight:function(){var q=this.host.height();var a=0;if(this.showtoolbar){a+=this.toolbarHeight;q-=parseInt(this.toolbarHeight)}if(this.filterable){var l=this.filter.find(".filterrow");var o=this.filter.find(".filterrow-hidden");var n=1;if(o.length>0){n=0}a+=this.filterHeight;q-=parseInt(this.filterHeight);var s=n==1?l.length:0;a+=this.filterHeight*s;q-=this.filterHeight*s}if(this.pageable&&this.pagerPosition!="bottom"){a+=parseInt(this.pagerHeight)+1;if(q>this.pagerHeight&&this.pagerPosition==="both"){q-=parseInt(this.pagerHeight)}}return{top:a,height:q}},_arrange:function(){if(!this.table){return}this._arrangeAutoHeight();this._arrangeAutoWidth();var F=this.host.width();var J=this.host.height();var T=J;var U=this;if(this.pageable){if(this.pagerPosition==="bottom"){this.toppager[0].style.visibility="hidden";this.pager[0].style.visibility="inherit"}else{if(this.pagerPosition==="both"){this.toppager[0].style.visibility="inherit";this.pager[0].style.visibility="inherit"}else{if(this.pagerPosition==="top"){this.toppager[0].style.visibility="inherit";this.pager[0].style.visibility="hidden"}}}}else{this.toppager[0].style.visibility="hidden";this.pager[0].style.visibility="hidden"}var L=0;if(this.showtoolbar){this.toolbar.width(F);this.toolbar.height(this.toolbarHeight-1);this.toolbar.css("top",0);L+=this.toolbarHeight;J-=parseInt(this.toolbarHeight)}else{this.toolbar[0].style.height="0px"}if(this.filterable){this.filter.width(F);this.filter.css("top",L);var H=this.filter.find(".filterrow");var V=this.filter.find(".filterrow-hidden");var N=1;if(V.length>0){N=0}this.filter.height(this.filterHeight-1+this.filterHeight*H.length*N);L+=this.filterHeight;J-=parseInt(this.filterHeight);var D=N==1?H.length:0;L+=this.filterHeight*D;J-=this.filterHeight*D}if(this.showstatusbar){this.statusbar.width(!this.table?F:Math.max(F,this.table.width()));this.statusbar.height(this.statusBarHeight-1)}else{this.statusbar[0].style.height="0px"}if(this.showAggregates){this.aggregates.height(this.aggregatesHeight-1)}else{this.aggregates[0].style.height="0px"}if(this.pageable&&this.pagerPosition!="bottom"){this.toppager[0].style.width=F+"px";this.toppager[0].style.height=parseInt(this.pagerHeight)+"px";this.toppager[0].style.top=parseInt(L)+"px";L+=parseInt(this.pagerHeight)+1;if(J>this.pagerHeight){J-=parseInt(this.pagerHeight)}}else{if(this.toppager[0].style.width!=F+"px"){this.toppager[0].style.width=parseInt(F)+"px"}if(this.toppager[0].style.height!=this.pagerHeight+"px"){this.toppager[0].style.height=parseInt(this.pagerHeight)+"px"}if(this.toppager[0].style.top!=L+"px"){this.toppager[0].style.top=L+"px"}var C=this.pagerPosition!="bottom"?this.pagerHeight:0;var Z=L+C+"px";if(this.content[0].style.top!=Z){this.content[0].style.top=L+this.pagerHeight+"px"}}this._updateScrollbars(T);var aa=parseInt(this.scrollBarSize);var P=4;var Y=2;var X=0;if(this.vScrollBar[0].style.visibility!="hidden"){X=aa+P}if(this.hScrollBar[0].style.visibility!="hidden"){Y=aa+P+2}if(this.showAggregates){if(this.hScrollBar[0].style.visibility==="hidden"){this.aggregates.width(!this.table?F:Math.max(F,this.table.width())+4)}else{this.aggregates.width("auto")}}if("hidden"!=this.vScrollBar[0].style.visibility||"hidden"!=this.hScrollBar[0].style.visibility){var E=this._arrangeAutoHeight(Y-2);var I=this._arrangeAutoWidth(X+1);if(E||I){var F=this.host.width();this.toppager[0].style.width=parseInt(F)+"px";this.toolbar[0].style.width=parseInt(F)+"px";this.statusbar[0].style.width=parseInt(F)+"px";this.filter[0].style.width=parseInt(F)+"px"}if(E){var K=this._measureTopAndHeight();L=K.top;J=K.height}}var Q=0;if(this.pageable){Q=this.pagerHeight;if(this.pagerPosition!="top"){Y+=this.pagerHeight}}if(this.showAggregates){Y+=this.aggregatesHeight;Q+=this.aggregatesHeight}if(this.showstatusbar){Y+=this.statusBarHeight;Q+=this.statusBarHeight}if(this.hScrollBar[0].style.height!=aa+"px"){this.hScrollBar[0].style.height=parseInt(aa)+"px"}if(this.hScrollBar[0].style.top!=L+J-P-aa-Q+"px"||this.hScrollBar[0].style.left!="0px"){this.hScrollBar[0].style.top=L+J-P-aa-Q-1+"px";this.hScrollBar[0].style.left="0px"}var R=this.hScrollBar[0].style.width;var W=false;var a=false;if(X==0){if(R!=(F-2)+"px"){this.hScrollBar[0].style.width=(F-2)+"px";W=true}}else{if(R!=(F-aa-P)+"px"){this.hScrollBar[0].style.width=(F-aa-P+"px");W=true}}if(this.vScrollBar[0].style.width!=aa+"px"){this.vScrollBar[0].style.width=aa+"px";a=true}if(this.vScrollBar[0].style.height!=parseInt(J)-Y+"px"){this.vScrollBar[0].style.height=(parseInt(J)-Y+"px");a=true}if(this.vScrollBar[0].style.left!=parseInt(F)-parseInt(aa)-P+"px"||this.vScrollBar[0].style.top!=L+"px"){this.vScrollBar[0].style.top=L+"px";this.vScrollBar[0].style.left=parseInt(F)-parseInt(aa)-P+"px"}if(this.rtl){this.vScrollBar.css({left:"0px",top:L});if(this.vScrollBar.css("visibility")!="hidden"){this.hScrollBar.css({left:aa+2})}}var S=this.vScrollInstance;S.disabled=this.disabled;var G=this.hScrollInstance;G.disabled=this.disabled;if(W){G.refresh()}if(a){S.refresh()}var O=function(e){if((e.vScrollBar[0].style.visibility!="hidden")&&(e.hScrollBar[0].style.visibility!="hidden")){e.bottomRight[0].style.visibility="inherit";e.bottomRight[0].style.left=1+parseInt(e.vScrollBar.css("left"))+"px";e.bottomRight[0].style.top=parseInt(e.hScrollBar.css("top"))+"px";if(e.rtl){e.bottomRight.css("left","0px")}e.bottomRight[0].style.width=parseInt(aa)+3+"px";e.bottomRight[0].style.height=parseInt(aa)+4+"px";if(e.showAggregates){e.bottomRight.css("z-index",99);e.bottomRight.height(parseInt(aa)+4+e.aggregatesHeight);e.bottomRight.css({top:parseInt(e.hScrollBar.css("top"))-e.aggregatesHeight})}}else{e.bottomRight[0].style.visibility="hidden"}};O(this);if(this.content[0].style.width!=F-X+"px"){this.content[0].style.width=F-X+"px"}if(this.content[0].style.height!=J-Y+3+"px"){this.content[0].style.height=J-Y+3+"px"}if(this.content[0].style.top!=L+"px"){this.content[0].style.top=parseInt(L)+"px"}if(this.rtl){this.content.css("left",X);if(this.filter&&(this.filter.children().length>0)){c(this.filter.children()).css("left",X)}if(this.table){var M=this.table.width();if(M<F-X){this.content.css("left",F-M+2);if(this.filter&&(this.filter.children().length>0)){c(this.filter.children()).css("left",F-M+2)}}}}if(this.showAggregates){this.aggregates.css("top",L+J-this.aggregatesHeight-(this.pageable?this.pagerHeight:0)-(this.showstatusbar?(this.statusBarHeight+1):0));if(this.rtl){this.aggregates.css("left","0px")}if(this.hScrollBar.css("visibility")!="hidden"){this.hScrollBar.css({top:L+J-P-aa-Q+this.aggregatesHeight+"px"});this.aggregates.css("top",1+L+J-aa-5-this.aggregatesHeight-(this.pageable?this.pagerHeight:0)-(this.showstatusbar?(this.statusBarHeight+1):0))}O(this)}if(this.showstatusbar){this.statusbar.css("top",L+J-this.statusBarHeight-(this.pageable?this.pagerHeight:0));if(this.rtl){if(this.hScrollBar.css("visibility")=="hidden"){this.statusbar.css("left",this.content.css("left"))}else{this.statusbar.css("left","0px")}}}if(this.pageable){this.pager[0].style.width=F+"px";this.pager[0].style.height=this.pagerHeight+"px";this.pager[0].style.top=parseInt(L)+parseInt(J)-parseInt(this.pagerHeight)-1+"px"}else{this.pager[0].style.height="0px"}this.vScrollBar[0].style.zIndex=this.tableZIndex+this.headerZIndex+10+this.columns.records.length;this.hScrollBar[0].style.zIndex=this.tableZIndex+this.headerZIndex+10+this.columns.records.length;if(F!=parseInt(this.dataloadelement[0].style.width)){this.dataloadelement[0].style.width=this.element.style.width}if(J!=parseInt(this.dataloadelement[0].style.height)){this.dataloadelement[0].style.height=this.element.style.height}this._hostwidth=F},scrollOffset:function(a,f){if(arguments.length==0||(a!=null&&typeof(a)=="object"&&!a.top)){return{left:this.hScrollBar.jqxScrollBar("value"),top:this.vScrollBar.jqxScrollBar("value")}}if(a!=null&&typeof(a)=="object"){var f=a.left;var h=a.top;var a=h}if(a==null||f==null||a==undefined||f==undefined){return}this.vScrollBar.jqxScrollBar("setPosition",a);this.hScrollBar.jqxScrollBar("setPosition",f)},scrollleft:function(a){if(a==null||a==undefined){return}if(this.hScrollBar.css("visibility")!="hidden"){this.hScrollBar.jqxScrollBar("setPosition",a)}},scrolltop:function(a){if(a==null||a==undefined){return}if(this.vScrollBar.css("visibility")!="hidden"){this.vScrollBar.jqxScrollBar("setPosition",a)}},beginUpdate:function(){this._updating=true;this._datachanged=false},endUpdate:function(a){this._updating=false;if(a===false){return}this._rendercolumnheaders();this.refresh()},updating:function(){return this._updating},databind:function(n,a,t){if(this.loadingstate===true){return}if(this.host.css("display")=="block"){if(this.autoShowLoadElement){c(this.dataloadelement).css("visibility","visible");c(this.dataloadelement).css("display","block");this.dataloadelement.width(this.host.width());this.dataloadelement.height(this.host.height())}else{c(this.dataloadelement).css("visibility","hidden");c(this.dataloadelement).css("display","none")}}var o=this;if(n==null){n={}}if(n.sortcomparer==undefined||n.sortcomparer==null){n.sortcomparer=null}if(n.filter==undefined||n.filter==null){n.filter=null}if(n.sort==undefined||n.sort==null){n.sort=null}if(n.data==undefined||n.data==null){n.data=null}var s=null;if(n!=null){s=n._source!=undefined?n._source.url:n.url}this.dataview=this.dataview||new c.jqx.dataView();this.dataview.pageable=this.pageable;this.dataview.grid=this;if(!o.initializedcall){if(n._source){if(this.sortable){if(n._source.sortcolumn!=undefined){this.sortcolumn=n._source.sortcolumn;this.source.sortcolumn=this.sortcolumn;this.dataview.sortfield=n._source.sortcolumn;n._source.sortcolumn=null}if(n._source.sortdirection!=undefined){this.dataview.sortfielddirection=n._source.sortdirection;var l=n._source.sortdirection;if(l=="a"||l=="asc"||l=="ascending"||l==true){var q=true}else{var q=false}if(l!=null){this.sortdirection={ascending:q,descending:!q}}else{this.sortdirection={ascending:false,descending:false}}}}}if(this.pageable){if(n._source){if(n._source.pagenum!=undefined){this.dataview.pagenum=n._source.pagenum}if(n._source.pagesize!=undefined){this.pageSize=n._source.pagesize;this.dataview.pagesize=n._source.pagesize}else{this.dataview.pagesize=n._source.pagesize;if(this.dataview.pagesize==undefined){this.dataview.pagesize=this.pageSize}}}}if(this.sortable){if(n.sortcolumn){this.dataview.sortfield=n.sortcolumn}if(n.sortdirection){this.dataview.sortfielddirection=n.sortdirection}}}this._loading=true;this.dataview.update=function(H){o._loading=false;o.rowsByKey=new Array();var E=o.source._source.datafields;if(o.groups&&o.groups.length>0){var M=Object.prototype.toString;var K=o.groups[0];Object.prototype.toString=(typeof K=="function")?K:function(){return this[K]};if(!o.source.records.sort){var L=new Array();var N=0;c.each(data,function(){L[startindex+N++]=this});data=L}o.source.records.sort(function(P,u){if(P===undefined){P=null}if(u===undefined){u=null}if(P===null&&u===null){return 0}if(P===null&&u!==null){return -1}if(P!==null&&u===null){return 1}var w=0;var z=0;if(P&&P.uid){w=P.uid}if(u&&u.uid){z=u.uid}P=P.toString();u=u.toString();if(c.jqx.dataFormat.isNumber(P)&&c.jqx.dataFormat.isNumber(u)){if(P<u){return -1}if(P>u){return 1}return 0}else{if(c.jqx.dataFormat.isDate(P)&&c.jqx.dataFormat.isDate(u)){if(P<u){return -1}if(P>u){return 1}return 0}else{if(!c.jqx.dataFormat.isNumber(P)&&!c.jqx.dataFormat.isNumber(u)){P=String(P).toLowerCase();u=String(u).toLowerCase()}}}try{if(P<u){return -1}if(P>u){return 1}}catch(A){var v=A}if(typeof(w)=="number"){if(w<z){return -1}if(w>z){return 1}}return 0});Object.prototype.toString=M}for(var f=0;f<o.source.records.length;f++){var C=o.source.records[f];o.rowsByKey[C.uid]=C;if(C.records&&C.records.length>0){var F=function(v){for(var u=0;u<v.length;u++){if(!v[u]){continue}o.rowsByKey[v[u].uid]=v[u];if(v[u].records&&v[u].records.length>0){F(v[u].records)}}};F(C.records)}if(f===0){var G=false;if(E){for(var B=0;B<E.length;B++){if(!E[B]){continue}if(!E[B].type){G=true;E[B].type="string";var I=C[E[B].name];if(I==undefined){continue}if(I===true||I===false){E[B].type="boolean"}if(I!=null&&I.toString().indexOf(o.gridlocalization.currencysymbol)>-1||I.toString().indexOf(o.gridlocalization.percentsymbol)>-1){var e=I.toString().split(" ").length;var O=new Number(o._toNumber(I.toString()));if(!isNaN(O)&&e==1){E[B].type="number"}}if(c.jqx.dataFormat.isNumber(I)||(!isNaN(parseFloat(I))&&isFinite(I))){E[B].type="number"}if(c.jqx.dataFormat.isDate(I)){E[B].type="date"}}}}if(G){for(var B=0;B<E.length;B++){var J=o.source.getvaluebytype(C[E[B].name],E[B]);if(J!=null&&E[B].type=="number"){var h=J;h=new Number(o._toNumber(h.toString()));if(!isNaN(h)){J=h}}C[E[B].name]=J}}}}if(a==="pager"||a==="filter"||a==="sort"){o.refresh()}else{o._render()}if(o.autoShowLoadElement&&!o._loading){c(o.dataloadelement).css("visibility","hidden");c(o.dataloadelement).css("display","none")}if(o.pageable){if(!o.disabled){if(o.pagernexttop){o.pagerfirsttop.jqxButton({disabled:false});o.pagerfirstbottom.jqxButton({disabled:false});o.pagerlasttop.jqxButton({disabled:false});o.pagerlastbottom.jqxButton({disabled:false});o.pagernexttop.jqxButton({disabled:false});o.pagerprevioustop.jqxButton({disabled:false});if(o.pagershowrowscombotop.jqxDropDownList){if(o.pagerMode=="advanced"){o.pagershowrowscombotop.jqxDropDownList({disabled:false});o.pagershowrowscombobottom.jqxDropDownList({disabled:false})}}o.pagernextbottom.jqxButton({disabled:false});o.pagerpreviousbottom.jqxButton({disabled:false})}}}o._updateTouchScrolling();o._raiseEvent("bindingComplete");if(t){t()}if(!o.initializedcall){o.initializedcall=true;o.isInitialized=true;if(o.ready){o.ready()}if((o.width!=null&&o.width.toString().indexOf("%")!=-1)||(o.height!=null&&o.height.toString().indexOf("%")!=-1)){o._updatesize(true)}if(o.host.css("visibility")=="hidden"){var D=c.jqx.browser.msie&&c.jqx.browser.version<8;if(o.vScrollBar.css("visibility")=="visible"){o.vScrollBar.css("visibility","inherit")}if(o.hScrollBar.css("visibility")=="visible"){o.hScrollBar.css("visibility","inherit")}o._intervalTimer=setInterval(function(){if(o.host.css("visibility")=="visible"){o._updatesize(true);clearInterval(o._intervalTimer)}},100)}}};this.dataview.databind(n)},_raiseEvent:function(a,n){if(n==undefined){n={owner:null}}var l=a;args=n;args.owner=this;var h=new c.Event(l);h.owner=this;h.args=args;var o=this.host.trigger(h);n=h.args;return o},ensureColumnVisible:function(q){var l=0;var s=0;for(var n=0;n<this.columns.records.length;n++){if(this.columns.records[n].datafield!=q){l+=this.columns.records[n].width}else{l+=this.columns.records[n].width;s=this.columns.records[n].width;break}}if(this.hScrollBar.css("visibility")!="hidden"){var a=this.hScrollBar.jqxScrollBar("value");var o=a+this.host.width();if(a>l-s){this.hScrollBar.jqxScrollBar("setPosition",l-s)}else{if(l>o){this.hScrollBar.jqxScrollBar("setPosition",a+l-o)}}}},ensurerowvisiblebykey:function(q){if(this.vScrollBar[0].style.visibility==="hidden"){return false}var a=this._getuirow(q);if(!a){return}var t=this.vScrollBar.jqxScrollBar("value");var D=this.host.height();var B=0;if(!this.columnGroups){B+=this.showHeader?this.columnsHeight:0}else{B+=this.showHeader?this.columnsheader.height():0}if(this.filterable){B+=this.filter.height()}if(this.pageable){if(this.pagerPosition==="top"){B+=this.pagerHeight}}if(this.showtoolbar){B+=this.toolbarHeight}D-=B;if(this.pageable&&this.pagerPosition!=="top"){D-=this.pagerHeight}if(this.showstatusbar){D-=this.statusBarHeightt}if(this.showAggregates){D-=this.aggregatesHeight}if(this.hScrollBar.css("visibility")!="hidden"){D-=20}var s=this.host.coord().top+B;var C=t;var F=D+C;var z=a.coord().top+t-s;z=Math.round(z);var u=z+a.outerHeight();u=Math.round(u);if(Math.round(a.position().top)===0){return this.vScrollBar.jqxScrollBar("setPosition",0)}else{var w=c(this._table.children()[1]).children().length-1;var E=this._getuikey(w);var v=this._getuirow(E);if(v){if(v[0]===a[0]){return this.vScrollBar.jqxScrollBar("setPosition",this.vScrollBar.jqxScrollBar("max"))}}}if(z<C){var A=z-a.height();if(A<0){A=0}return this.vScrollBar.jqxScrollBar("setPosition",A)}if(u>F){return this.vScrollBar.jqxScrollBar("setPosition",4+u-D-t)}},ensureRowVisible:function(e){var a=this._getkey(e);this.ensurerowvisiblebykey(a)},getColumn:function(e){var a=null;if(this.columns.records){c.each(this.columns.records,function(){if(this.datafield==e||this.displayfield==e){a=this;return false}})}return a},_setcolumnproperty:function(q,n,l){if(q==null||n==null||l==null){return null}var s=n;n=n.toLowerCase();var o=this.getColumn(q);if(o==null){return}var a=o[n];o[n]=l;o[s]=l;var t=this.getColumn(q);if(t!=null){t[n]=l}switch(n){case"filteritems":case"text":case"editable":case"resizable":case"draggable":case"hidden":case"hideable":case"renderer":case"cellsrenderer":case"align":case"aggregates":case"cellsalign":case"cellsformat":case"pinned":case"contenttype":case"filterable":case"groupable":case"cellclass":case"cellclassname":case"class":case"width":case"minwidth":case"maxwidth":if(n=="align"){this._rendercolumnheaders();this.refresh()}else{if(n=="text"||n=="class"||n=="hidden"||n=="pinned"||n=="resizable"||n=="renderer"){this._rendercolumnheaders();this.refresh()}else{if(n=="width"||n=="maxwidth"||n=="minwidth"){o._width=null;o._percentagewidth=null;this._updatecolumnwidths();this.refresh()}else{this.refresh()}}}break}},getColumnProperty:function(h,a){if(h==null||a==null){return null}a=a.toLowerCase();var f=this.getColumn(h);return f[a]},setColumnProperty:function(h,f,a){this._setcolumnproperty(h,f,a)},hideColumn:function(a){this._setcolumnproperty(a,"hidden",true)},showColumn:function(a){this._setcolumnproperty(a,"hidden",false)},updateBoundData:function(a,e){this.databind(this.source,a,e)},refresh:function(a){if(a!=true){if(c.jqx.isHidden(this.host)){return}this.vScrollInstance.setPosition(0);this._renderrows();this.updatepagerdetails();this._arrange();if(this._arrangeFilterRow){this._arrangeFilterRow()}this._renderhorizontalscroll();this._showicons();if(this.showAggregates){this._updateaggregates()}this._updateTouchScrolling()}},_updateTouchScrolling:function(){var l=this.that;if(l.isTouchDevice()){var a=c.jqx.mobile.getTouchEventName("touchstart");var h=c.jqx.mobile.getTouchEventName("touchend");var n=c.jqx.mobile.getTouchEventName("touchmove");if(l.gridcontent){l.removeHandler(l.gridcontent,a+".touchScroll");l.removeHandler(l.gridcontent,n+".touchScroll");l.removeHandler(l.gridcontent,h+".touchScroll");l.removeHandler(l.gridcontent,"touchcancel.touchScroll");c.jqx.mobile.touchScroll(l.gridcontent[0],Math.max(l.vScrollInstance.max,l.hScrollInstance.max),function(e,f){if(l.vScrollBar.css("visibility")!="hidden"){var o=l.vScrollInstance.value;l.vScrollInstance.setPosition(o+f)}if(l.hScrollBar.css("visibility")!="hidden"){var o=l.hScrollInstance.value;l.hScrollInstance.setPosition(o+e)}l.scrolled=new Date();l.vScrollInstance.thumbCapture=true},this.element.id,this.hScrollBar,this.vScrollBar)}}},_showicons:function(){if(!this.table){return}for(var o=0;o<this.columns.records.length;o++){var l=this.columns.records[o];c(l.filtericon).hide();c(l.sortasc).hide();c(l.sortdesc).hide();if(this.filterMode!=="simple"){for(var q=0;q<this.dataview.filters.length;q++){var n=this.dataview.filters[q];if(n.datafield===l.displayfield){c(l.filtericon).show();break}}}if(this.sortcolumn!==null){if(this.sortcolumn===l.displayfield){if(this.sortdirection!=null){if(this.sortdirection.ascending){c(l.sortasc).show()}else{c(l.sortdesc).show()}}}}if((l.align!="left"&&l.align!="center"&&!this.rtl)||(this.rtl&&l.align!="right"&&l.align!="center")){var a=c.jqx.isHidden(c(l.filtericon))?0:16;a+=c.jqx.isHidden(c(l.sortasc))?0:16;a+=c.jqx.isHidden(c(l.sortdesc))?0:16;var s=c(c(c(l.element).children()[0]).children()[0]);if(!this.rtl){if(a>0){s.css("margin-right",4+a+"px")}else{s.css("margin-right","4px")}}else{if(a>0){s.css("margin-left",4+a+"px")}else{s.css("margin-left","4px")}}}}},render:function(o){var u="<div style='overflow: hidden; -webkit-appearance: none; outline: none; width:100%; height: 100%; align:left; border: 0px; padding: 0px; margin: 0px; left: 0px; top: 0px; valign:top; position: relative;'><div id='wrapper"+this.element.id+"' style='overflow: hidden; -webkit-appearance: none; border: none; background: transparent; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; align:left; left: 0px; top: 0px; valign:top; position: relative;'><div id='toolbar' style='visibility: hidden; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='toppager' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='filter' style='visibility: hidden; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='content"+this.element.id+"' style='overflow: hidden; -webkit-appearance: none; border: none; background: transparent; outline: none; border: none; padding: 0px; margin-left: 0px; margin-top: 0px; margin-right: 0px; margin-bottom: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='verticalScrollBar"+this.element.id+"' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='horizontalScrollBar"+this.element.id+"' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='bottomRight' style='align:left; valign:top; left: 0px; top: 0px; border: none; position: absolute;'></div><div id='aggregates' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='statusbar' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='pager' style='z-index: 20; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div></div></div>";this.element.innerText="";this.element.innerHTML=u;this.wrapper=this.host.find("#wrapper"+this.element.id);this.content=this.host.find("#content"+this.element.id);this.content.addClass(this.toTP("jqx-reset"));var s=this.host.find("#verticalScrollBar"+this.element.id);var a=this.host.find("#horizontalScrollBar"+this.element.id);this.bottomRight=this.host.find("#bottomRight").addClass(this.toTP("jqx-grid-bottomright")).addClass(this.toTP("jqx-scrollbar-state-normal"));if(this.vScrollBar){this.vScrollBar.jqxScrollBar("destroy")}if(this.hScrollBar){this.hScrollBar.jqxScrollBar("destroy")}this.vScrollBar=s.jqxScrollBar({vertical:true,rtl:this.rtl,touchMode:this.touchmode,theme:this.theme,_triggervaluechanged:false});this.hScrollBar=a.jqxScrollBar({vertical:false,rtl:this.rtl,touchMode:this.touchmode,theme:this.theme,_triggervaluechanged:false});this.vScrollBar.css("visibility","hidden");this.hScrollBar.css("visibility","hidden");this.vScrollInstance=c.data(this.vScrollBar[0],"jqxScrollBar").instance;this.hScrollInstance=c.data(this.hScrollBar[0],"jqxScrollBar").instance;this.filter=this.host.find("#filter");this.filter[0].id="filter"+this.element.id;this.filter.addClass(this.toTP("jqx-widget-header"));this.filter.addClass(this.toTP("jqx-grid-toolbar"));this.pager=this.host.find("#pager");this.pager[0].id="pager"+this.element.id;this.toolbar=this.host.find("#toolbar");this.toolbar[0].id="toolbar"+this.element.id;this.toolbar.addClass(this.toTP("jqx-grid-toolbar"));this.toolbar.addClass(this.toTP("jqx-widget-header"));this.aggregates=this.host.find("#aggregates");this.aggregates[0].id="aggregates"+this.element.id;this.aggregates.addClass(this.toTP("jqx-grid-statusbar"));this.aggregates.addClass(this.toTP("jqx-widget-header"));this.statusbar=this.host.find("#statusbar");this.statusbar[0].id="statusbar"+this.element.id;this.statusbar.addClass(this.toTP("jqx-grid-statusbar"));this.statusbar.addClass(this.toTP("jqx-widget-header"));this.pager.addClass(this.toTP("jqx-grid-pager"));this.pager.addClass(this.toTP("jqx-widget-header"));this.toppager=this.host.find("#toppager");this.toppager.addClass(this.toTP("jqx-grid-pager-top"));this.toppager.addClass(this.toTP("jqx-widget-header"));this.gridtable=null;if(this.localizestrings){this.localizestrings();if(this.localization!=null){this.localizestrings(this.localization,false)}}this._builddataloadelement();this._cachedcolumns=this.columns;var z=this.source.datafields;if(z==null&&this.source._source){z=this.source._source.datafields}if(z){for(var w=0;w<this.columns.length;w++){var v=this.columns[w];if(v&&v.cellsFormat&&v.cellsFormat.length>2){for(var n=0;n<z.length;n++){if(z[n].name==v.datafield&&!z[n].format){z[n].format=v.cellsFormat;break}}}}}this.databind(this.source);if(this.showtoolbar){this.toolbar.css("visibility","inherit")}if(this.showstatusbar){this.statusbar.css("visibility","inherit")}if(this.showAggregates){this.aggregates.css("visibility","inherit")}this.tableheight=null;var t=this;var q=function(){if(t.content){t.content[0].scrollTop=0;t.content[0].scrollLeft=0}if(t.gridcontent){t.gridcontent[0].scrollLeft=0;t.gridcontent[0].scrollTop=0}};this.removeHandler(this.content,"scroll");this.removeHandler(this.content,"mousedown");this.addHandler(this.content,"scroll",function(e){q();return false});if(o!==true){this._render()}},_render:function(){if(this.dataview==null){return}if(this._loading){return}if(this.columnsHeight!=25||this.columnGroups){this._measureElement("column")}if(this.filterable){this.filter[0].style.visibility="inherit"}else{this.filter[0].style.visibility="hidden"}this.rowinfo=new Array();this._removeHandlers();if(this.columns==null){this.columns=new c.jqx.dataCollection(this.element)}else{this._initializeColumns()}this.host.height(this.height);this.host.width(this.width);c.jqx.utilities.html(this.content,"");this.columnsheader=this.columnsheader||c('<div style="overflow: hidden;"></div>');this.columnsheader.remove();this.columnsheader.addClass(this.toTP("jqx-widget-header"));this.columnsheader.addClass(this.toTP("jqx-grid-header"));if(!this.showHeader){this.columnsheader.css("display","none")}else{if(this.columnsheader){this.columnsheader.css("display","block")}}this.gridcontent=this.gridcontent||c('<div style="width: 100%; overflow: hidden; position: absolute;"></div>');this.gridcontent.remove();var a=this.columnsHeight;a=this._preparecolumnGroups();this.columnsheader.height(a);this.content.append(this.columnsheader);this.content.append(this.gridcontent);this._rendercolumnheaders();this.tableheight=null;this.gridcontent.find("#contenttable"+this.element.id).remove();if(this.table!=null){this.table.remove();this.table=null}this.table=c('<div id="contenttable'+this.element.id+'" style="overflow: hidden; position: relative;"></div>');this.gridcontent.addClass(this.toTP("jqx-grid-content"));this.gridcontent.addClass(this.toTP("jqx-widget-content"));this.gridcontent.append(this.table);this._renderrows();if(this.filterable){this._renderfilter()}if(this.pageable){this._initpager()}this._arrange();if(this.renderStatusBar){this.renderStatusBar(this.statusbar)}if(this.rendertoolbar){this.rendertoolbar(this.toolbar)}if(this.showAggregates){this._updateaggregates()}if(this.disabled){this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"))}this._renderhorizontalscroll();this._showicons();this._addHandlers()},clear:function(){if(this.source){this.source.records=new Array();this.source.hierarchy=new Array()}this.dataview._filteredData=new Array();this.databind(null);this._render()},_initpager:function(){var n=this;var t=this.gridlocalization.pagergotopagestring;var a=this.gridlocalization.pagerrangestring;var s=this.gridlocalization.pagershowrowsstring;var l=(this.pagerHeight-17)/2;this.pagerdiv=this.pagerdiv||c('<div style="width: 100%; height: 100%; position: relative;"></div>');this.toppagerdiv=this.toppagerdiv||c('<div style="width: 100%; height: 100%; position: relative;"></div>');if(!this.pageable){this.pagerdiv.remove();this.toppagerdiv.remove();return}if(!this.pagerRenderer){this.pagerdiv.css("top",l);this.toppagerdiv.css("top",l);var o=function(K,I){var T=this;var N=c('<div style="margin-right: 7px; width: 27px; height: 17px; float: right;"><input style="margin-top: 0px; text-align: right; width: 27px;" type="text"/></div>');var L=c('<div style="float: right; margin-right: 7px;"></div>');var J=c('<div type="button" style="padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: right;"></div>');var X=c('<div type="button" style="padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: right;"></div>');var U=c('<div type="button" style="margin-left: 3px; padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: right;"></div>');var P=c('<div type="button" style="padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: right;"></div>');var e=c('<div style="margin-right: 7px; float: right;"></div>');var h=c('<div style="margin-right: 7px; float: right;"></div>');var R=c('<div style="padding-bottom: 3px; margin-right: 3px; float: right;"></div>');N.attr("disabled",T.disabled);var Q=c('<div id="gridpagerlist" style="margin-top: 0px; margin-right: 7px; float: right;"></div>');Q[0].id="gridpagerlist"+I+T.element.id;T.removeHandler(J,"mousedown");T.removeHandler(J,"mouseup");T.removeHandler(J,"click");T.removeHandler(X,"mousedown");T.removeHandler(X,"mouseup");T.removeHandler(X,"click");T.removeHandler(U,"mousedown");T.removeHandler(U,"mouseup");T.removeHandler(U,"click");T.removeHandler(P,"mousedown");T.removeHandler(P,"mouseup");T.removeHandler(P,"click");if(!T.rtl){X.attr("title",T.gridlocalization.pagerpreviousbuttonstring);J.attr("title",T.gridlocalization.pagernextbuttonstring)}else{J.attr("title",T.gridlocalization.pagerpreviousbuttonstring);X.attr("title",T.gridlocalization.pagernextbuttonstring)}if(c.jqx.browser.msie&&c.jqx.browser.version<8){R.css("padding-top","3px")}this["pagerfirst"+I]=U;this["pagerlast"+I]=P;this["pagernext"+I]=J;this["pagerprevious"+I]=X;this["pagergotoinput"+I]=N;this["pagerdetails"+I]=e;this["pagershowrows"+I]=h;this["pagergotolabel"+I]=L;this["pagershowrowscombo"+I]=Q;this["pagerbuttons"+I]=R;if(T.pagerMode=="default"){if(!T.rtl){U.attr("title",T.gridlocalization.pagerfirstbuttonstring);P.attr("title",T.gridlocalization.pagerlastbuttonstring)}else{P.attr("title",T.gridlocalization.pagerfirstbuttonstring);U.attr("title",T.gridlocalization.pagerlastbuttonstring)}var G=c("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");G.addClass(T.toThemeProperty("jqx-icon-arrow-first"));U.wrapInner(G);var S=c("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");S.addClass(T.toThemeProperty("jqx-icon-arrow-last"));P.wrapInner(S);if(!T.rtl){K.append(U);K.append(X);K.append(R);K.append(J);K.append(P)}else{K.append(P);K.append(J);K.append(R);K.append(X);K.append(U)}P.jqxButton({cursor:"pointer",disabled:T.disabled,theme:T.theme});U.jqxButton({cursor:"pointer",disabled:T.disabled,theme:T.theme});var M=!T.rtl?"left":"right";R.css("float",M);P.css("float",M);U.css("float",M);J.css("float",M);X.css("float",M);e.css("float",T.rtl?"left":"right");if(T.rtl){e.css("margin-left","7px");e.css("margin-right","0px")}else{e.css("margin-left","0px");e.css("margin-right","7px")}}else{if(!T.rtl){K.append(J);K.append(X)}}J.jqxButton({cursor:"pointer",disabled:T.disabled,theme:T.theme});X.jqxButton({cursor:"pointer",disabled:T.disabled,theme:T.theme});var W=c("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");W.addClass(T.toThemeProperty("jqx-icon-arrow-left"));X.wrapInner(W);var V=c("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");V.addClass(T.toThemeProperty("jqx-icon-arrow-right"));J.wrapInner(V);if(!T.rtl){K.append(e)}if(T.pagerMode!="default"){if(!T.rtl){K.append(Q);K.append(h);K.append(N);K.append(L)}else{K.append(L);K.append(N);K.append(h);K.append(Q);K.append(e);K.append(J);K.append(X)}var H=T.pageSizeOptions;Q.jqxDropDownList({_checkForHiddenParent:false,rtl:T.rtl,disabled:T.disabled,source:H,enableBrowserBoundsDetection:true,keyboardSelection:false,autoDropDownHeight:true,width:44,height:16,theme:T.theme});var O=0;for(var f=0;f<H.length;f++){if(this.pageSize>=H[f]){O=f}}L[0].innerHTML=t;Q.jqxDropDownList({selectedIndex:O});var F=N.find("input");F.addClass(T.toThemeProperty("jqx-input"));F.addClass(T.toThemeProperty("jqx-widget-content"));if(this.rtl){F.css("direction","rtl")}var T=this;this.removeHandler(Q,"select");this.addHandler(Q,"select",function(v){if(v.args){if(T.vScrollInstance){T.vScrollInstance.setPosition(0)}var z=v.args.index;T.pagershowrowscombotop.data().jqxDropDownList.instance.selectIndex(z);T.pagershowrowscombobottom.data().jqxDropDownList.instance.selectIndex(z);T.pagershowrowscombobottom.data().jqxDropDownList.instance.renderSelection("mouse");T.pagershowrowscombotop.data().jqxDropDownList.instance.renderSelection("mouse");var u=T.dataview.pagenum*T.dataview.pagesize;var A=H[z];var w=T.pageSize;T.pageSize=parseInt(A);if(isNaN(T.pageSize)){T.pageSize=10}if(A>=100){T.pagershowrowscombotop.jqxDropDownList({width:55});T.pagershowrowscombobottom.jqxDropDownList({width:55})}else{T.pagershowrowscombotop.jqxDropDownList({width:44});T.pagershowrowscombobottom.jqxDropDownList({width:44})}T.dataview.pagesize=T.pageSize;var B=Math.floor(u/T.dataview.pagesize);if(B!==T.dataview.pagenum||parseInt(A)!==parseInt(w)){T._raiseEvent("pageSizeChanged",{pagenum:B,oldpageSize:w,pageSize:T.dataview.pagesize});var C=T.goToPage(B);if(!C){if(!T.serverProcessing){T.refresh()}else{T.updateBoundData("pager")}}}}});var N=N.find("input");N.addClass(T.toThemeProperty("jqx-grid-pager-input"));N.addClass(T.toThemeProperty("jqx-rc-all"));this.removeHandler(N,"keydown");this.removeHandler(N,"change");T.addHandler(N,"keydown",function(v){if(v.keyCode>=65&&v.keyCode<=90){return false}if(v.keyCode=="13"){var u=N.val();u=parseInt(u);if(!isNaN(u)){T.goToPage(u-1)}return false}});T.addHandler(N,"change",function(){var u=N.val();u=parseInt(u);if(!isNaN(u)){T.goToPage(u-1)}})}h[0].innerHTML=s;T.addHandler(J,"mouseenter",function(){V.addClass(T.toThemeProperty("jqx-icon-arrow-right-hover"))});T.addHandler(X,"mouseenter",function(){W.addClass(T.toThemeProperty("jqx-icon-arrow-left-hover"))});T.addHandler(J,"mouseleave",function(){V.removeClass(T.toThemeProperty("jqx-icon-arrow-right-hover"))});T.addHandler(X,"mouseleave",function(){W.removeClass(T.toThemeProperty("jqx-icon-arrow-left-hover"))});T.addHandler(J,"mousedown",function(){V.addClass(T.toThemeProperty("jqx-icon-arrow-right-selected"))});T.addHandler(J,"mouseup",function(){V.removeClass(T.toThemeProperty("jqx-icon-arrow-right-selected"))});T.addHandler(X,"mousedown",function(){W.addClass(T.toThemeProperty("jqx-icon-arrow-left-selected"))});T.addHandler(X,"mouseup",function(){W.removeClass(T.toThemeProperty("jqx-icon-arrow-left-selected"))});if(T.pagerMode==="default"){T.addHandler(P,"mouseenter",function(){S.addClass(T.toThemeProperty("jqx-icon-arrow-last-hover"))});T.addHandler(U,"mouseenter",function(){G.addClass(T.toThemeProperty("jqx-icon-arrow-first-hover"))});T.addHandler(P,"mouseleave",function(){S.removeClass(T.toThemeProperty("jqx-icon-arrow-last-hover"))});T.addHandler(U,"mouseleave",function(){G.removeClass(T.toThemeProperty("jqx-icon-arrow-first-hover"))});T.addHandler(P,"mousedown",function(){S.addClass(T.toThemeProperty("jqx-icon-arrow-last-selected"))});T.addHandler(U,"mousedown",function(){G.addClass(T.toThemeProperty("jqx-icon-arrow-first-selected"))});T.addHandler(P,"mouseup",function(){S.removeClass(T.toThemeProperty("jqx-icon-arrow-last-selected"))});T.addHandler(U,"mouseup",function(){G.removeClass(T.toThemeProperty("jqx-icon-arrow-first-selected"))})}T.addHandler(c(document),"mouseup.pagerbuttons"+I+this.element.id,function(){V.removeClass(T.toThemeProperty("jqx-icon-arrow-right-selected"));W.removeClass(T.toThemeProperty("jqx-icon-arrow-left-selected"));if(S){S.removeClass(T.toThemeProperty("jqx-icon-arrow-last-selected"));G.removeClass(T.toThemeProperty("jqx-icon-arrow-first-selected"))}});T.addHandler(J,"click",function(){if(!J.jqxButton("disabled")){if(!T.rtl){T.goToNextPage()}else{T.goToPrevPage()}}});T.addHandler(X,"click",function(){if(!X.jqxButton("disabled")){if(!T.rtl){T.goToPrevPage()}else{T.goToNextPage()}}});if(this.pagerMode==="default"){T.addHandler(U,"click",function(){if(!U.jqxButton("disabled")){if(!T.rtl){T.goToPage(0)}else{var u=T.dataview.totalrecords;var v=Math.ceil(u/T.pageSize);T.goToPage(v-1)}}});T.addHandler(P,"click",function(){if(!P.jqxButton("disabled")){if(!T.rtl){var u=T.dataview.totalrecords;var v=Math.ceil(u/T.pageSize);T.goToPage(v-1)}else{T.goToPage(0)}}})}};this.pagerdiv.children().remove();this.toppagerdiv.children().remove();o.call(this,this.pagerdiv,"bottom");o.call(this,this.toppagerdiv,"top");this.pager.append(this.pagerdiv);this.toppager.append(this.toppagerdiv);this.updatepagerdetails()}else{this.pagerdiv.children().remove();this.toppager.children().remove();var q=this.pagerRenderer();if(q!=null){this.pagerdiv.append(c(q))}this.pager.append(this.pagerdiv);var q=this.pagerRenderer();if(q!=null){this.toppagerdiv.append(c(q))}this.toppager.append(this.toppagerdiv)}},_updatepagertheme:function(){},goToPage:function(n,a){if(this._loading){return false}if(this.editKey!=undefined){if(this.editSettings.saveOnPageChange){var o=this.endroweditbykey(this.editKey);if(!o){return false}}else{return false}}if(n==null||n==undefined){n=0}if(n==-1){n=0}if(n<0){return false}var q=this.dataview.totalrecords;var l=this.dataview.pagenum;var s=Math.ceil(q/this.pageSize);if(n>=s){if(this.dataview.totalrecords==0){this.dataview.pagenum=0;this.updatepagerdetails()}if(n>0){n=s-1}}if(this.dataview.pagenum!=n){if(this.pageable){this.dataview.pagenum=n;this._raiseEvent("pageChanged",{pagenum:n,oldpagenum:l,pageSize:this.dataview.pagesize})}if(!this.serverProcessing){this.refresh();if(a){if(c.isFunction(a)){a()}}}else{this.updateBoundData("pager",a)}return true}return false},goToPrevPage:function(a){if(this.dataview.pagenum>0){return this.goToPage(this.dataview.pagenum-1,a)}else{if(this.pagerMode!="default"&&this.pagerMode!="advanced"){var f=this.dataview.totalrecords;var h=Math.ceil(f/this.pageSize);return this.goToPage(h-1,a)}}return false},goToNextPage:function(a){var f=this.dataview.totalrecords;if(this.summaryrows){f+=this.summaryrows.length}var h=Math.ceil(f/this.pageSize);if(this.dataview.pagenum<h-1){return this.goToPage(this.dataview.pagenum+1,a)}else{if(this.pagerMode!="default"&&this.pagerMode!="advanced"){return this.goToPage(0,a)}}return false},updatepagerdetails:function(){if(!this.pageable){return}var J=this;if(!this.serverProcessing){if(this.source.hierarchy){var G=J._names();var L=0;var B=function(h,f){for(var e=0;e<f.length;e++){if(J.dataview.filters.length==0){f[e]._visible=true}if(f[e]._visible!==false){L++}if(J.treeGrid&&J.treeGrid.pageSizeMode=="root"){continue}if(f[e].records&&(f[e][G.expanded]||f[e][G.leaf])){if(f[e]._visible!==false){B(h+1,f[e].records);if(this.treeGrid&&c(this.treeGrid).jqxTreeGrid("showSubAggregates")){if(h!=0){L--}}}}}};B(0,this.dataview.rows);this.dataview.totalrecords=L}else{this.dataview.totalrecords=this.dataview.rows.length}}var O=this.dataview.pagenum*this.pageSize;var w=(this.dataview.pagenum+1)*this.pageSize;if(w>=this.dataview.totalrecords){w=this.dataview.totalrecords}var a=this.dataview.totalrecords;O++;var z=Math.ceil(a/this.dataview.pagesize);if(z>=1){z--}z++;if(this.pageSizeMode=="root"){z=Math.ceil(this.rootRecordsLength/this.dataview.pagesize);if(z>=1){z--}z++;a=this.rootRecordsLength;this.dataview.totalrecords=this.rootRecordsLength}if(this.pagerMode!="default"){if(this["pagergotoinputbottom"]){var I=this["pagergotoinputbottom"].find("input");I.val(this.dataview.pagenum+1);I.attr("title","1 - "+z);I=this["pagergotoinputtop"].find("input");I.val(this.dataview.pagenum+1);I.attr("title","1 - "+z)}}else{var E="";var F=this.pagerButtonsCount;if(F==0||!F){F=5}var A=0;if(this.rtl){A=F-1}while((this.rtl&&A>=0)||(!this.rtl&&A<F)){var N=1+A;var D=this.dataview.pagenum/F;var M=Math.floor(D);N+=M*F;var P=this.toTP("jqx-grid-pager-number");P+=" "+this.toTP("jqx-rc-all");if(N>z&&!this.rtl){break}else{if(this.rtl&&N>z){A--;continue}}if(!this.rtl){if(A==0&&N>F){E+="<a class='"+P+"' tabindex=-1 href='javascript:;' data-page='"+(-1+N)+"'>...</a>"}}if(this.dataview.pagenum===N-1){P+=" "+this.toTP("jqx-fill-state-pressed")}if(!this.rtl){E+="<a class='"+P+"' tabindex=-1 href='javascript:;' data-page='"+N+"'>"+N+"</a>";if(A===F-1){var P=this.toTP("jqx-grid-pager-number");P+=" "+this.toTP("jqx-rc-all");if(z>=1+N){E+="<a class='"+P+"' tabindex=-1 href='javascript:;' data-page='"+(1+N)+"'>...</a>"}}}else{if(A===F-1){var P=this.toTP("jqx-grid-pager-number");P+=" "+this.toTP("jqx-rc-all");if(z>=1+N){E+="<a class='"+P+"' tabindex=-1 href='javascript:;' data-page='"+(1+N)+"'>...</a>"}}if(this.dataview.pagenum===N-1){P+=" "+this.toTP("jqx-fill-state-pressed")}E+="<a class='"+P+"' tabindex=-1 href='javascript:;' data-page='"+N+"'>"+N+"</a>"}if(this.rtl){var P=this.toTP("jqx-grid-pager-number");P+=" "+this.toTP("jqx-rc-all");if(A==0&&N>F){E+="<a class='"+P+"' tabindex=-1 href='javascript:;' data-page='"+(-1+N)+"'>...</a>"}}if(!this.rtl){A++}else{A--}}if(!this["pagerbuttonsbottom"]){return}var K=this["pagerbuttonsbottom"].find("a");this.removeHandler(K,"click");this.removeHandler(K,"mouseenter");this.removeHandler(K,"mouseleave");var K=this["pagerbuttonstop"].find("a");this.removeHandler(K,"click");this.removeHandler(K,"mouseenter");this.removeHandler(K,"mouseleave");this["pagerbuttonsbottom"][0].innerHTML=E;this["pagerbuttonstop"][0].innerHTML=E;if(this.disabled){this.host.find(".jqx-grid-pager-number").css("cursor","default")}var C=function(){K.click(function(f){if(J.disabled){return}var e=c(f.target).attr("data-page");J.goToPage(parseInt(e)-1)});K.mouseenter(function(e){if(J.disabled){return}c(e.target).addClass(J.toTP("jqx-fill-state-hover"))});K.mouseleave(function(e){if(J.disabled){return}c(e.target).removeClass(J.toTP("jqx-fill-state-hover"))})};if(this.pagerPosition==="both"||this.pagerPosition==="bottom"){var K=this["pagerbuttonsbottom"].find("a");C(K)}if(this.pagerPosition==="both"||this.pagerPosition==="top"){var K=this["pagerbuttonstop"].find("a");C(K)}}if(w==0&&w<O){O=0}if(this["pagerdetailsbottom"]){if(!this.rtl){this["pagerdetailsbottom"][0].innerHTML=O+"-"+w+this.gridlocalization.pagerrangestring+a;this["pagerdetailstop"][0].innerHTML=O+"-"+w+this.gridlocalization.pagerrangestring+a}else{this["pagerdetailsbottom"][0].innerHTML=a+this.gridlocalization.pagerrangestring+w+"-"+O;this["pagerdetailstop"][0].innerHTML=a+this.gridlocalization.pagerrangestring+w+"-"+O}}if(this.pagerMode=="default"){var H=this["pagerbuttonsbottom"].width()+c(this["pagerdetailsbottom"]).width()+160;this.pagerdiv.css("min-width",H);this.toppagerdiv.css("min-width",H)}if(O>w){this.goToPrevPage()}},_preparecolumnGroups:function(){var v=this.columnsHeight;if(this.columnGroups){this.columnshierarchy=new Array();if(this.columnGroups.length){var z=this;for(var D=0;D<this.columnGroups.length;D++){this.columnGroups[D].parent=null;this.columnGroups[D].groups=null}for(var D=0;D<this.columns.records.length;D++){this.columns.records[D].parent=null;this.columns.records[D].groups=null}var w=function(f){for(var h=0;h<z.columnGroups.length;h++){var e=z.columnGroups[h];if(e.name===f){return e}}return null};for(var D=0;D<this.columnGroups.length;D++){var u=this.columnGroups[D];if(!u.groups){u.groups=null}if(u.parentGroup){u.parentgroup=u.parentGroup}if(u.parentgroup){var a=w(u.parentgroup);if(a){u.parent=a;if(!a.groups){a.groups=new Array()}if(a.groups.indexOf(u)===-1){a.groups.push(u)}}}}for(var D=0;D<this.columns.records.length;D++){var u=this.columns.records[D];if(u.columngroup){var a=w(u.columngroup);if(a){if(!a.groups){a.groups=new Array()}u.parent=a;if(a.groups.indexOf(u)===-1){a.groups.push(u)}}}}var t=0;for(var D=0;D<this.columns.records.length;D++){var u=this.columns.records[D];var G=u;u.level=0;while(G.parent){G=G.parent;u.level++}var G=u;var H=u.level;t=Math.max(t,u.level);while(G.parent){G=G.parent;if(G){G.level=--H}}}var A=function(e){var f=new Array();if(e.columngroup){f.push(e)}if(!e.groups){return new Array()}for(var h=0;h<e.groups.length;h++){if(e.groups[h].columngroup){f.push(e.groups[h])}else{if(e.groups[h].groups){var l=A(e.groups[h]);for(var n=0;n<l.length;n++){f.push(l[n])}}}}return f};for(var D=0;D<this.columnGroups.length;D++){var u=this.columnGroups[D];var F=A(u);u.columns=F;var C=new Array();var I=0;for(var E=0;E<F.length;E++){C.push(this.columns.records.indexOf(F[E]));if(F[E].pinned){I++}}if(I!=0){throw new Error("jqxDataTable: Column Groups initialization Error. Please, check the initialization of the jqxDataTable's columns array. The columns in a column group cannot be pinned.")}C.sort(function(e,f){e=parseInt(e);f=parseInt(f);if(e<f){return -1}if(e>f){return 1}return 0});for(var B=1;B<C.length;B++){if(C[B]!=C[B-1]+1){throw new Error("jqxDataTable: Column Groups initialization Error. Please, check the initialization of the jqxDataTable's columns array. The columns in a column group are expected to be siblings in the columns array.");this.host.remove()}}}}this.columnGroupslevel=1+t;v=this.columnGroupslevel*this.columnsHeight}return v},wheel:function(h,l){if(l.autoheight&&l.hScrollBar.css("visibility")=="hidden"){h.returnValue=true;return true}var a=0;if(!h){h=window.event}if(h.originalEvent&&h.originalEvent.wheelDelta){h.wheelDelta=h.originalEvent.wheelDelta}if(h.wheelDelta){a=h.wheelDelta/120}else{if(h.detail){a=-h.detail/3}}if(a){var n=l._handleDelta(a);if(n){if(h.preventDefault){h.preventDefault()}if(h.originalEvent!=null){h.originalEvent.mouseHandled=true}if(h.stopPropagation!=undefined){h.stopPropagation()}}if(n){n=false;h.returnValue=n;return n}else{return false}}if(h.preventDefault){h.preventDefault()}h.returnValue=false},_handleDelta:function(a){if(this.vScrollBar.css("visibility")!="hidden"){var f=this.vScrollInstance.value;if(a<0){this.vScrollInstance.setPosition(this.vScrollInstance.value+2*10)}else{this.vScrollInstance.setPosition(this.vScrollInstance.value-2*10)}var h=this.vScrollInstance.value;if(f!=h){return true}}else{if(this.hScrollBar.css("visibility")!="hidden"){var f=this.hScrollInstance.value;if(a>0){if(this.hScrollInstance.value>2*10){this.hScrollInstance.setPosition(this.hScrollInstance.value-2*10)}else{this.hScrollInstance.setPosition(0)}}else{if(this.hScrollInstance.value<this.hScrollInstance.max){this.hScrollInstance.setPosition(this.hScrollInstance.value+2*10)}else{this.hScrollInstance.setPosition(this.hScrollInstance.max)}}var h=this.hScrollInstance.value;if(f!=h){return true}}}return false},_removeHandlers:function(){this.removeHandler(this.host,"focus");this.removeHandler(c(window),"jqxReady."+this.element.id);if(this._mousewheelfunc){this.removeHandler(this.host,"mousewheel",this._mousewheelfunc)}var a="mousedown";if(this.isTouchDevice()){a=c.jqx.mobile.getTouchEventName("touchstart")}this.removeHandler(this.host,"dragstart."+this.element.id);this.removeHandler(this.host,"keydown");if(this.table){this.removeHandler(this.table,"mouseleave");this.removeHandler(this.table,"mousemove");this.removeHandler(this.table,a);this.removeHandler(this.table,"selectstart."+this.element.id);if(c.jqx.browser.msie&&c.jqx.browser.version<9){this.removeHandler(this.table,"dblclick")}}},_addHandlers:function(){var l=this;this._mousewheelfunc=this._mousewheelfunc||function(e){l.wheel(e,l);return false};this.addHandler(this.host,"dragstart."+this.element.id,function(e){return false});this.addHandler(this.table,"selectstart."+this.element.id,function(e){if(l.enableBrowserSelection){return true}if(l.filterable){if(c(e.target).ischildof(l.filterrow)){return true}}if(l.rowDetails){if(c(e.target).parents("[data-role=details]").length>0){return true}}if(undefined==l.editKey){return false}});this.addHandler(c(window),"jqxReady."+this.element.id,function(){l._updatecolumnwidths();l.refresh()});if(this.editable){this.addHandler(c(document),"mousedown.gridedit"+this.element.id,function(D){if(l.editable&&l.editSettings.saveOnBlur){if(l.editKey!=null){if(!l.vScrollInstance.isScrolling()&&!l.vScrollInstance.isScrolling()){var e=l.host.coord();var w=l.host.width();var C=l.host.height();var G=false;var E=false;var H=false;if(D.pageY<e.top||D.pageY>e.top+C){G=true;E=true}if(D.pageX<e.left||D.pageX>e.left+w){G=true;H=true}if(G){var B=function(q){var s=c(q.children()[0]).data();if(s&&!s.jqxWidget){s=q.data()}if(!s){s=q.data()}if(s.jqxWidget&&s.jqxWidget.container&&s.jqxWidget.container[0].style.display=="block"){var u=s.jqxWidget;var I=u.container.coord().top;var t=u.container.coord().top+u.container.height();if(E&&(D.pageY<I||D.pageY>t)){G=true;u.close();return true}else{return false}}};var f=l._editors;if(f){for(var A=0;A<f.length;A++){var z=f[A].editor;var F=B(z);var v=z.attr("aria-owns");if(v){if(v==document.activeElement.id){return true}if(c(document.activeElement).ischildof(c("#"+v))){return true}}else{v=z.children().attr("aria-owns");if(v){if(v==document.activeElement.id){return true}if(c(document.activeElement).ischildof(c("#"+v))){return true}}}if(F===false){return}}}}if(G){l.endroweditbykey(l.editKey)}}}}})}this.removeHandler(this.host,"mousewheel",this._mousewheelfunc);this.addHandler(this.host,"mousewheel",this._mousewheelfunc);this.addHandler(this.host,"focus",function(e){if(e.preventDefault){}});this.vScrollInstance.valueChanged=function(e){if(l._timer){clearTimeout(l._timer)}l._timer=setTimeout(function(){if(l.table){l.table[0].style.top=0-l.vScrollInstance.value+"px"}},5)};this.hScrollInstance.valueChanged=function(e){if(l._timer){clearTimeout(l._timer)}l._timer=setTimeout(function(){if(l.table){l._renderhorizontalscroll()}},5)};var n="mousedown";if(this.isTouchDevice()){n=c.jqx.mobile.getTouchEventName("touchend");if(c.jqx.browser.msie&&c.jqx.browser.version<10){n="mousedown"}}var a=function(e,f){var G=null;var F=l._table.coord();var N=F.top;var J=F.left;var D=l._table[0].rows;for(var E=0;E<D.length;E++){var K=D[E];var L=K.cells;for(var C=0;C<L.length;C++){var O=L[C];var H=O.offsetLeft+J;var B=O.offsetTop+N;var I=O.offsetWidth;var M=O.offsetHeight;if(I===0||M===0){continue}if(B<=f&&f<B+M){if(H<=e&&e<H+I){G=O;break}}else{break}}}return G};var o=function(){if(l.hoveredRow){var f=l.hoveredRow[0].cells;var q=function(t){for(var s=0;s<t.length;s++){var u=t[s];var v=u.className;v=v.replace(" "+l.toTP("jqx-fill-state-hover"),"");v=v.replace(" "+l.toTP("jqx-grid-cell-hover"),"");u.className=v}};q(f);if(l._pinnedTable&&f.length>0){var e=l._pinnedTable[0].rows[l.hoveredRow[0].rowIndex].cells;q(e)}}l.hoveredRow=null};this.addHandler(this.table,"mouseleave",function(e){o();if(l.wrapper){l.wrapper.parent().removeAttr("tabindex",0);l.wrapper.removeAttr("tabindex",1);l.content.removeAttr("tabindex",2)}});var h=function(w){if(!l.enableHover){return true}l.hoveredRow=w;if(!w){return true}var q=w[0].cells;var e=l.rowDetails&&!l.treeGrid;var u=e&&!l.treeGrid?1:0;var s=0;if(u>0&&l.rtl){u=0;s=1}for(var f=u;f<q.length-s;f++){var t=q[f];t.className+=" "+l.toTP("jqx-fill-state-hover")+" "+l.toTP("jqx-grid-cell-hover")}if(l._pinnedTable){if(l._pinnedTable[0].rows.length){var v=l._pinnedTable[0].rows[l.hoveredRow[0].rowIndex].cells;for(var f=u;f<v.length-s;f++){var t=v[f];t.className+=" "+l.toTP("jqx-fill-state-hover")+" "+l.toTP("jqx-grid-cell-hover")}}}};if(l.isTouchDevice()){l.enableHover=false}this.addHandler(this.table,"mousemove",function(s){var t=s.pageX;var e=s.pageY;if(l.disabled){return true}if(!l.enableHover){return true}if(l.hScrollInstance.isScrolling()||l.vScrollInstance.isScrolling()){return true}var f=a(t,e);if(!f){return true}var q=c(f).parent();o();if(l.rowDetails&&l.treeGrid){if(q.attr("data-role")=="row-details"){return true}}if(l.renderedRecords&&l.renderedRecords.length===0){return true}if(l.editKey!=null){if(l.editKey===q.attr("data-key")){return true}}h(q);return true});this.addHandler(this.host,"keydown",function(e){return l._handleKey(e)});if(c.jqx.browser.msie&&c.jqx.browser.version<9){this.addHandler(this.table,"dblclick",function(e){l.table.trigger("mousedown",e)})}this.addHandler(this.table,n,function(P){var L=P.target;var Q=null;if(l.disabled){return true}var Y=l.table.coord();var M=P.pageX;var O=P.pageY;if(c.jqx.browser.msie&&c.jqx.browser.version<9){if(arguments&&arguments.length==2){M=arguments[1].pageX;O=arguments[1].pageY}}if(l.isTouchDevice()){var K=c.jqx.position(P);M=K.left;O=K.top;if(isNaN(M)||isNaN(O)){var K=c.jqx.position(P.originalEvent);M=K.left;O=K.top}}Q=a(M,O);var R=c(Q).parent();var H=R.attr("data-key");if(l.rowDetails&&l.treeGrid){if(R.attr("data-role")=="row-details"){return true}}var G=function(){if(!l.enableBrowserSelection){if(P.preventDefault){P.preventDefault()}P.stopPropagation()}l.host.focus()};if(H!==undefined){var U=c(Q).index();var W=l.columns.records[U];if(H==l.editKey){if(l.editSettings.editSingleCell){if(l.clickedTD==Q){return true}else{if(l.editKey!=null&&l.editSettings.saveOnSelectionChange){var I=l.endroweditbykey(l.editKey);if(!I){return true}}}}else{return true}}else{if(l.editKey!=null&&l.editSettings.saveOnSelectionChange){var I=l.endroweditbykey(l.editKey);if(!I){return true}}}l.clickedTD=Q;var V=l.rowinfo[H];if(V&&V.group){return true}var e=false;if(V){var N=l.getrowdisplayindex(V.row);var J=l.getrowindex(V.row);l._raiseEvent("rowClick",{index:N,boundIndex:J,key:H,row:V.row,originalEvent:P,dataField:W.datafield});var S=new Date().getTime();var F=300;if(!l.clickTime){l.clickTime=new Date()}if(l._lastSelectedKey==H&&(S-l.clickTime.getTime()<F)){l._raiseEvent("rowDoubleClick",{index:N,boundIndex:J,key:H,row:V.row,originalEvent:P,dataField:W.datafield});e=true;if(P.preventDefault){P.preventDefault()}}}l.clickTime=new Date();if(Q.className.indexOf("jqx-grid-group")>=0){if(!V.expanded){l.showdetailsbykey(H)}else{l.hidedetailsbykey(H)}}else{if(P.target&&P.target.className.indexOf&&P.target.className.indexOf("jqx-grid-group")>=0&&l.treeGrid){if(!V.expanded){l.treeGrid.expandRow(H)}else{l.treeGrid.collapseRow(H)}h(l._getuirow(H));if(P.stopPropagation){P.stopPropagation()}if(P.preventDefault){P.preventDefault()}}else{if(P.target&&P.target.className.indexOf&&P.target.className.indexOf("checkbox")>=0&&l.treeGrid){if(!V.checked){l.treeGrid.checkRow(H)}else{l.treeGrid.uncheckRow(H)}h(l._getuirow(H));if(P.stopPropagation){P.stopPropagation()}}else{var U=c(Q).index();var W=l.columns.records[U];if(P.stopPropagation){P.stopPropagation()}if(l.editable&&l.editKey==null){if(l._lastSelectedKey==H&&l.editSettings.editOnDoubleClick&&e){var I=l.beginroweditbykey(H,W);return true}}if(l.isTouchDevice()){if(l.scrolled&&new Date()-l.scrolled<500){if(!l.enableBrowserSelection){if(P.preventDefault){P.preventDefault()}}return false}}if(l.selectionMode==="singlerow"&&l.selectionMode!=="custom"){l.selectrowbykey(H,"mouse",false);l._lastSelectedKey=H;l._updateSelection();if(P.preventDefault){P.preventDefault()}G();return true}else{if(l.selectionMode!=="custom"){if(!P.ctrlKey&&!P.metaKey){l.clearSelection(false)}if(P.shiftKey){if(l._lastSelectedKey){var V=l.rowinfo[l._lastSelectedKey];l._doSelection(l._lastSelectedKey,true,false);var X=c(l._table.children()[1]).children(("[data-key="+l._lastSelectedKey+"]"));var T=X.index();var f=R.index();l._selectRange(f,T);l.selectrowbykey(H,"mouse",false);l._updateSelection();if(P.preventDefault){P.preventDefault()}G();return true}}}l._lastSelectedKey=H;l.clickTime=new Date();if(l.selectionMode!=="custom"){if(V){if(V.selected){l.unselectrowbykey(H,"mouse",false)}else{l.selectrowbykey(H,"mouse",false)}G()}}else{return true}l._updateSelection();if(!l.enableBrowserSelection){if(P.preventDefault){P.preventDefault()}}return true}}}}}})},_updateSelection:function(){var z=this;var a=c(z._table.children()[1]).children();var v=z._pinnedTable?c(z._pinnedTable.children()[1]).children():null;var E=z.rowDetails&&!z.treeGrid;var F=E?1:0;var D=0;if(F>0&&z.rtl){F=0;D=1}for(var B=0;B<a.length;B++){var s=a[B].cells;if(v){var G=v[B].cells}var t=null;if(a[B].getAttribute){t=a[B].getAttribute("data-key")}if(z.rowinfo[t]&&z.selectionMode!=="none"){if(z.rowinfo[t].selected){for(var C=F;C<s.length-D;C++){var u=s[C];c(u).addClass(z.toTP("jqx-grid-cell-selected")+" "+z.toTP("jqx-fill-state-pressed"));if(G){c(G[C]).addClass(z.toTP("jqx-grid-cell-selected")+" "+z.toTP("jqx-fill-state-pressed"))}}}else{for(var C=F;C<s.length-D;C++){var u=s[C];if(G){var A=G[C]}var w=u.className;w=w.replace(" jqx-fill-state-pressed","");w=w.replace(" jqx-fill-state-pressed-"+z.theme,"");w=w.replace(" jqx-grid-cell-selected","");w=w.replace(" jqx-grid-cell-selected-"+z.theme,"");u.className=w;if(A){A.className=w}}}}}},_selectRange:function(o,q){var t=c(c(this._table.children()[1]).children()[q]);var a=this;if(o>q){var l=q;var s=t;while(l<o){var s=s.next();var n=s.attr("data-key");a._doSelection(n,true,false);l++}}else{if(o<q){var l=q;var s=t;while(l>o){var s=s.prev();var n=s.attr("data-key");this._doSelection(n,true,false);l--}}}},_getuikey:function(q,l){var n=null;var o=c(this._table.children()[1]).children();n=c(o[q]).attr("data-key");if(c(o[q]).attr("data-role")){var s=c(o[q]);if(l=="next"){while(s){s=s.next();if(s){var a=s.attr("data-role");if(!a){n=s.attr("data-key");return n}}}}else{if(l=="prev"){while(s){s=s.prev();if(s){var a=s.attr("data-role");if(!a){n=s.attr("data-key");return n}}}}}return null}return n},getRows:function(){return this.source.records},getView:function(){var l=this;var h=this._names();var a=new Array();var n=function(e,o){if(!o){return}for(var f=0;f<o.length;f++){if(!o[f]){continue}if(o[f]._visible!==false){var q=c.extend({},o[f]);e.push(q);if(o[f][h.expanded]){q.records=new Array();n(q.records,o[f].records)}else{if(l.dataview.filters.length>0){q.records=new Array();n(q.records,o[f].records)}}}}};n(a,this.dataViewRecords);return a},getKeys:function(){var f=new Array();var a=this.source.records;for(var h=0;h<a.length;h++){f.push(a[h].uid)}return f},getKey:function(e){var a=this.getRows();if(a){return a[e].uid}else{return -1}},_getkey:function(l){if(this._loading){throw new Error("jqxDataTable: "+this.loadingErrorMessage);return false}var h=null;var n=function(){var f=c(this._table.children()[1]).children();var q=null;var v=0;if(this.pageable){v-=this.dataview.pagenum*this.dataview.pagesize}if(this.groups.length>0){var t=0;for(var s=0;s<f.length;s++){var u=c(f[s]);var e=u.children()[0].getAttribute("colspan");if(e>0){continue}if(t===v+l){q=u.attr("data-key");return q}t++}return q}if(this.rowDetails){var t=0;for(var s=0;s<f.length;s++){if(t===l+v){q=c(f[s]).attr("data-key");return q}if(s%2==1){t++}}}else{q=c(f[v+l]).attr("data-key")}return q};h=n.call(this);if(h==null){if(this.pageable){var o=Math.floor(l/this.dataview.pagesize);if(this.dataview.pagenum!=o){var a=this.getRows()[l];if(a&&a.uid!=null){return a.uid}else{if(isNaN(o)){return null}this.goToPage(o);h=n.call(this)}}}}return h},_getuirow:function(n){try{var t=c(this._table.children()[1]).children(("[data-key="+n+"]"));if(t.length>0){return t}}catch(q){var s=c(this._table.children()[1]).children();for(var o=0;o<s.length;o++){var a=s[o];var l=a.getAttribute("data-key");if(n==l){return c(a)}}return null}return null},_getpinneduirow:function(n){if(!this._pinnedTable){return null}try{var t=c(this._pinnedTable.children()[1]).children(("[data-key="+n+"]"));if(t.length>0){return t}}catch(q){var s=c(this._pinnedTable.children()[1]).children();for(var o=0;o<s.length;o++){var a=s[o];var l=a.getAttribute("data-key");if(n==l){return c(a)}}return null}return null},_names:function(){var a={leaf:"leaf",parent:"parent",expanded:"expanded",checked:"checked",selected:"selected",level:"level",icon:"icon",data:"data"};if(!this.source||(this.source&&!this.source._source.hierarchy)){return a}var e=this.source._source.hierarchy.reservedNames;if(!e){return a}return e},_getMatches:function(n,l){if(n==undefined||n.length==0){return -1}var s=this.renderedRecords;if(l!=undefined){s=s.slice(l)}var o=0;if(this.rowDetails&&!this.treeGrid){o++}if(o<this.columns.records.length){var q=this.columns.records[o].datafield}else{new Array()}var a=new Array();c.each(s,function(f){var e=this[q];if(!e){e=""}var h=c.jqx.string.startsWithIgnoreCase(e.toString(),n);if(h){a.push(this.uid)}});return a},_handleKey:function(Z){if(this._loading){return true}if(c(Z.target).ischildof(this.filter)){return true}if(c(Z.target).ischildof(this.toolbar)){return true}if(c(Z.target).ischildof(this.statusbar)){return true}var ad=this._names();var ao=this;var aF=Z.charCode?Z.charCode:Z.keyCode?Z.keyCode:0;var aJ=this._lastSelectedKey;var ab=this.rowinfo[aJ];var aC=this._getuirow(aJ);var aA=Z.shiftKey&&this.selectionMode!="singlerow";var ag=Z.ctrlKey||Z.metaKey;if(!aC){return}if(this.handleKeyboardNavigation){var aD=this.handleKeyboardNavigation(aF);if(aD){return true}}if(this.editable&&this.editKey==undefined&&aF===113&&this.editSettings.editOnF2){this.beginroweditbykey(aC.attr("data-key"))}if(this.editKey==undefined){if(!ag&&!aA&&this.incrementalSearch&&(!(aF>=33&&aF<=40))){var ay=-1;if(!this._searchString){this._searchString=""}if((aF==8||aF==46)&&this._searchString.length>=1){this._searchString=this._searchString.substr(0,this._searchString.length-1)}var aQ=String.fromCharCode(aF);var ap=(!isNaN(parseInt(aQ)));var an=false;if((aF>=65&&aF<=97)||ap||aF==8||aF==32||aF==46){if(!Z.shiftKey){aQ=aQ.toLocaleLowerCase()}if(aF!=8&&aF!=32&&aF!=46){if(!(this._searchString.length>0&&this._searchString.substr(0,1)==aQ)){this._searchString+=aQ}}if(aF==32){this._searchString+=" "}this._searchTime=new Date();var aJ=this.getSelection();if(aJ.length>=1){var aE=aJ[0].uid;var av=-1;for(var ae=0;ae<this.renderedRecords.length;ae++){if(this.renderedRecords[ae].uid==aE){av=ae;break}}var aw=this._getMatches(this._searchString,av);if(aw.length==0||(aw.length>0&&aw[0]==aE)){var aw=this._getMatches(this._searchString)}}else{var aw=this._getMatches(this._searchString)}if(aw.length>0){var aJ=this.getSelection();if(aJ.length>=1){var aS=aw.indexOf(aJ[0].uid);if(aS==-1){this.clearSelection(false);this.selectrowbykey(aw[0])}else{var aN=aS+1;if(aN>=aw.length){aN=0}this.clearSelection(false);this.selectrowbykey(aw[aN])}}else{this.clearSelection(false);this.selectrowbykey(aw[0])}this._lastSearchString=this._searchString}}if(this._searchTimer!=undefined){clearTimeout(this._searchTimer)}if(aF==27||aF==13){this._searchString="";this._lastSearchString=""}this._searchTimer=setTimeout(function(){ao._searchString="";ao._lastSearchString=""},500);if(ay>=0){return}if(an){return false}}}if(this.editKey!=undefined){if(aF===27&&this.editSettings.cancelOnEsc){this.endroweditbykey(this.editKey,true)}else{if(aF===13&&this.editSettings.saveOnEnter){if(Z.target&&Z.target.nodeName.toLowerCase()!="div"&&Z.target.nodeName.toLowerCase()!="input"){return true}this.endroweditbykey(this.editKey,false)}else{if(this.editSettings.editSingleCell){if(this.editColumn){var ah=this.columns.records.indexOf(this.editColumn);if(aF==9&&ah<this.columns.records.length-1&&!Z.shiftKey){var ak=this.editKey;var az=null;for(var ae=ah+1;ae<this.columns.records.length;ae++){if(this.columns.records[ae].editable&&!this.columns.records[ae].hidden){az=this.columns.records[ae];break}}if(az){this.endroweditbykey(this.editKey,false);this.beginroweditbykey(ak,az)}}else{if(aF==9&&Z.shiftKey&&ah>0){var ak=this.editKey;var at=null;for(var ae=ah-1;ae>=0;ae--){if(this.columns.records[ae].editable&&!this.columns.records[ae].hidden){at=this.columns.records[ae];break}}if(at){this.endroweditbykey(this.editKey,false);this.beginroweditbykey(ak,at)}}}if(aF==9){var aI=this.rowinfo[this.editKey];var av=this.getrowindex(aI);var aC=this._getuirow(this.editKey);if(!Z.shiftKey&&!az){var aj=null;for(var ae=0;ae<this.columns.records.length;ae++){if(this.columns.records[ae].editable&&!this.columns.records[ae].hidden){aj=this.columns.records[ae];break}}if(aj){while(aC){aC=aC.next();if(aC){var au=aC.attr("data-role");if(!au){var ar=aC.attr("data-key");break}}}if(ar){this.clearSelection(false);this._lastSelectedKey=ar;var aI=this.rowsByKey[ar];var av=this.getrowindex(aI);var al=this.getrowdisplayindex(aI);this._raiseEvent("rowSelect",{key:ar,index:al,boundIndex:av,row:this.rowsByKey[ar]});var aH=this.endroweditbykey(this.editKey,false);if(aH){this._doSelection(ar,true,true);this.beginroweditbykey(ar,aj)}else{this.beginroweditbykey(this.editKey,aj)}}}}else{if(!at&&Z.shiftKey){var aj=null;for(var ae=this.columns.records.length-1;ae>=0;ae--){if(this.columns.records[ae].editable&&!this.columns.records[ae].hidden){aj=this.columns.records[ae];break}}if(aj){while(aC){aC=aC.prev();if(aC){var au=aC.attr("data-role");if(!au){var ar=aC.attr("data-key");break}}}if(ar){this.clearSelection(false);this._lastSelectedKey=ar;var aI=this.rowsByKey[ar];var av=this.getrowindex(aI);var al=this.getrowdisplayindex(aI);this._raiseEvent("rowSelect",{key:ar,index:al,boundIndex:av,row:this.rowsByKey[ar]});this.endroweditbykey(this.editKey,false);this._doSelection(ar,true,true);this.beginroweditbykey(ar,aj)}}}}return false}}}}}return true}if(Z.ctrlKey||Z.metaKey){var aP=String.fromCharCode(aF).toLowerCase();if(aP=="c"||aP=="x"){var aJ=this.getSelection();if(aJ.length>=1){var aB="";for(var am=0;am<this.renderedRecords.length;am++){var a=this.renderedRecords[am];for(var ae=0;ae<aJ.length;ae++){var aI=aJ[ae];if(aI.uid===a.uid){for(var af=0;af<this.columns.records.length;af++){var ax=this.getCellTextByKey(aI.uid,this.columns.records[af].displayfield);aB+=ax;if(af<this.columns.records.length-1){aB+="\t"}}aB+="\r\n";break}}}if(aB!=""){aB=aB.substring(0,aB.length-1)}if(window.clipboardData){window.clipboardData.setData("Text",aB)}else{var ai=c('<textarea style="position: absolute; left: -1000px; top: -1000px;"/>');ai.val(aB);c("body").append(ai);ai.select();setTimeout(function(){document.designMode="off";ai.select();ai.remove()},100)}}}}if(aF===32&&this.treeGrid){if(this.treeGrid.checkboxes){var aJ=this.getSelection();if(aJ.length>1){for(var ae=0;ae<aJ.length;ae++){var aq=aJ[ae].uid;if(this.rowinfo[aq].checked){this.treeGrid.uncheckRow(aq,false)}else{this.treeGrid.checkRow(aq,false)}}this._renderrows();return false}else{var aE=aC.attr("data-key");if(aE){if(this.rowinfo[aE].checked){this.treeGrid.uncheckRow(aE)}else{this.treeGrid.checkRow(aE)}return false}}}}var aR=aC.index();var aa=function(n){var e=null;var l=c(ao._table.children()[1]).children().length-1;var f=c(c(ao._table.children()[1]).children()[l]);var h=f.attr("data-role");if(!h){e=f.attr("data-key")}else{while(f){f=f.prev();if(f){var h=f.attr("data-role");if(!h){e=f.attr("data-key");break}}}}if(n=="all"){return{row:f,key:e}}return e};var aO=function(l){var e=null;var f=c(c(ao._table.children()[1]).children()[0]);var h=f.attr("data-role");if(!h){e=f.attr("data-key")}else{while(f){f=f.next();if(f){var h=f.attr("data-role");if(!h){e=f.attr("data-key");break}}}}if(l=="all"){return{row:f,key:e}}return e};var aE=null;var aL=function(){if(!ag&&!aA){ao.clearSelection(false)}if(aF==33||aF==37){var e=aR;aE=ao._getuikey(e,"prev");if(!aE){aE=aO()}}else{if(aF==34||aF==39){var e=aR;aE=ao._getuikey(e,"next");if(!aE){aE=aa()}}else{if(aF==38){aE=aa()}else{if(aF==40){aE=aO()}}}}ao._lastSelectedKey=aE;var h=ao.rowsByKey[aE];var e=ao.getrowindex(h);var f=ao.getrowdisplayindex(h);ao._raiseEvent("rowSelect",{key:aE,index:f,boundIndex:e,row:ao.rowsByKey[aE]});ao._doSelection(aE,true,true);ao.host.focus()};var aM=function(){ao.clearSelection(false);var e=aO();if(aA||ag){ao._selectRange(aC.index(),0)}else{ao._lastSelectedKey=e}ao.selectrowbykey(e,"keyboard")};var aG=function(){ao.clearSelection(false);var f=aa("all");var e=f.key;if(aA||ag){ao._selectRange(aC.index(),f.row.index())}else{ao._lastSelectedKey=e}ao.selectrowbykey(e,"keyboard")};if(this.treeGrid&&this.rtl){if(aF==37){aF=39}else{if(aF==39){aF=37}}}if(aF==36||(ag&&aF==38)){aM();return false}else{if(aF==35||(ag&&aF==40)){aG();return false}else{if(aF==33||aF==37){var aE=aC.attr("data-key");if(this.rowDetails&&aF==37&&!this.treeGrid){this.hidedetailsbykey(aE);return false}else{if(this.treeGrid&&aF==37){if(this.rowinfo[aE].row&&!this.rowinfo[aE].row[ad.parent]&&!this.rowinfo[aE][ad.leaf]&&!this.rowinfo[aE].expanded){return false}if(this.rowinfo[aE].expanded&&!this.rowinfo[aE][ad.leaf]){this.treeGrid.collapseRow(aE);return false}else{if(this.rowinfo[aE].row&&this.rowinfo[aE].row[ad.parent]){aE=this.rowinfo[aE].row[ad.parent].uid}}if(this.rowinfo[aE][ad.leaf]){return false}}}if(this.pageable&&!this.treeGrid){if(!this.rtl){this.goToPrevPage(aL)}else{this.goToNextPage(aL)}return false}if(this.treeGrid&&this.pageable&&aF==33){this.goToPrevPage(aL);return false}}else{if(aF==34||aF==39){var aE=aC.attr("data-key");if(this.rowDetails&&aF==39&&!this.treeGrid){this.showdetailsbykey(aE);return false}else{if(this.treeGrid&&aF==39){if(this.rowinfo[aE][ad.leaf]){return false}if(!this.rowinfo[aE].expanded){this.treeGrid.expandRow(aE);return false}else{if(this.rowinfo[aE].row&&this.rowinfo[aE].row.records&&this.rowinfo[aE].row.records.length>0){if(this.dataview.filters.length>0){var aK=this.rowinfo[aE].row.records;for(var ae=0;ae<aK.length;ae++){if(aK[ae]._visible){aE=aK[ae].uid;break}}}else{aE=this.rowinfo[aE].row.records[0].uid}}}}}if(this.pageable&&!this.treeGrid){if(!this.rtl){this.goToNextPage(aL)}else{this.goToPrevPage(aL)}return false}if(this.treeGrid&&this.pageable&&aF==34){this.goToNextPage(aL);return false}}else{if(aF==38){while(aC){aC=aC.prev();if(aC){var au=aC.attr("data-role");if(!au){aE=aC.attr("data-key");break}}}if(this.pageable&&aE==null){this.goToPrevPage(aL);return false}}else{if(aF==40){while(aC){aC=aC.next();if(aC){var au=aC.attr("data-role");if(!au){aE=aC.attr("data-key");break}}}if(this.pageable&&aE==null){this.goToNextPage(aL);return false}}}}}}}if(aE!=null){if(!ag&&!aA){this.clearSelection(false)}if(this.rowinfo[aE]){if(this.rowinfo[aE].selected&&(ag||aA)){this._doSelection(this._lastSelectedKey,false,false);this._lastSelectedKey=aE;var aI=this.rowsByKey[aE];var av=this.getrowindex(aI);ao._updateSelection();var al=this.getrowdisplayindex(aI);this._raiseEvent("rowUnselect",{key:aE,index:al,boundIndex:av,row:aI});return false}}this._lastSelectedKey=aE;var aI=this.rowsByKey[aE];var av=this.getrowindex(aI);this._doSelection(aE,true,false);ao._updateSelection();var al=this.getrowdisplayindex(aI);this._raiseEvent("rowSelect",{key:aE,index:al,boundIndex:av,row:aI});if(this.treeGrid){if(aF==37){var aC=this._getuirow(aE);var ac=null;if(aC){var au=aC.attr("data-role");if(!au){ac=aC.attr("data-key")}}if(this.pageable&&ac==null&&this.dataview.pagenum>0){while(this._getuirow(aE)==null&&this.dataview.pagenum>0){this.goToPrevPage()}}}else{if(aF==39){var aC=this._getuirow(aE);var ac=null;if(aC){var au=aC.attr("data-role");if(!au){ac=aC.attr("data-key")}}if(this.pageable&&ac==null){this.goToNextPage()}}}}return false}},_selection:function(q){if("selectionStart" in q[0]){var e=q[0];var a=e.selectionEnd-e.selectionStart;return{start:e.selectionStart,end:e.selectionEnd,length:a,text:e.value}}else{var n=document.selection.createRange();if(n==null){return{start:0,end:e.value.length,length:0}}var o=q[0].createTextRange();var l=o.duplicate();o.moveToBookmark(n.getBookmark());l.setEndPoint("EndToStart",o);var a=n.text.length;return{start:l.text.length,end:l.text.length+n.text.length,length:a,text:n.text}}},_doSelection:function(n,h,l){if(n==null){this.clearSelection();return}if(this.selectionMode==="singlerow"){this.clearSelection(false)}var a=this.rowinfo[n];if(a){a.selected=h;this.ensurerowvisiblebykey(n)}else{this.ensurerowvisiblebykey(n);var a=this.rowinfo[n];if(a){a.selected=h}else{this.rowinfo[n]={selected:h}}}if(this.selectionMode!="none"){if(l!==false){this._renderrows()}}},clearSelection:function(o){if(this.rowinfo){var n=this.getRows();for(var a in this.rowinfo){var l=this.rowinfo[a];if(l.selected){l.selected=false;var q=n.indexOf(l.row);var s=this.getrowdisplayindex(l.row);this._raiseEvent("rowUnselect",{key:a,index:s,boundIndex:q,row:l.row})}}}if(o!==false){this._renderrows()}},exportData:function(aN){if(!c.jqx.dataAdapter.ArrayExporter){if(!this.treeGrid){throw"jqxDataTable: Missing reference to jqxdata.export.js!"}throw"jqxTreeGrid: Missing reference to jqxdata.export.js!"}var aW=this.exportSettings.columnsHeader;if(aW==undefined){aW=true}var aK=this.exportSettings.hiddenColumns;if(aK==undefined){aK=false}var am=this.exportSettings.serverURL;var au=this.exportSettings.characterSet;var aC=this.exportSettings.collapsedRecords;if(aC==undefined){aC=false}var ax=this.exportSettings.fileName;if(ax===undefined){ax=this.treeGrid?"jqxTreeGrid_Data":"jqxDataTable_Data"}var aO=this;var o=this.getRows();if(this.exportSettings.recordsInView==true){o=this.getView()}if(this.treeGrid&&this.treeGrid.virtualModeCreateRecords){var o=this.treeGrid.getRows()}if(this.groups&&this.groups.length>0){var aV=this.source.getGroupedRecords(this.groups,"records","label",null,"data",null,"parent",o);var aT=function(q,n){for(var f=0;f<q.length;f++){var l=c.extend({},q[f]);n.push(l);if(l.records&&l.records.length>0){var e=aT(l.records,new Array());for(var h=0;h<e.length;h++){if(e[h].leaf){n.push(e[h])}else{n.push(e[h])}}}}return n};var aj=aT.call(this,aV,new Array());o=aj}if(o.length==0){throw"No data to export."}this.exporting=true;if(this.altRows){this._renderrows()}var aR=new Array();for(var ae=0;ae<this.columns.records.length;ae++){if(!aK&&this.columns.records[ae].hidden){continue}aR.push(c.extend({},this.columns.records[ae]))}if(this.groups&&this.groups.length>0){if(aR.length>0){var aG=this._names();for(var ae=0;ae<o.length;ae++){if(!o[ae][aG.leaf]){if(!aO.rtl){o[ae][aR[0].displayfield]=o[ae].label}else{o[ae][aR[aR.length-1].displayfield]=o[ae].label}}}}}var aX=0;if(this.treeGrid){var aq=this.treeGrid.getRows();if(this.exportSettings.recordsInView==true){aq=this.getView()}var aG=this._names();var a0=function(h){for(var f=0;f<h.length;f++){var e=h[f];var l=e[aG.expanded]||(!e[aG.expanded]&&aC);aX=Math.max(aX,1+e[aG.level]);if(e.records&&e.records.length>0&&l){a0(h[f].records)}}};a0(aq);if(aN!="xml"&&aN!="json"){var aM=aR.length;for(var ae=0;ae<aX;ae++){var al=new d(this,this);al.width=this.indentWidth;al.datafield="Level"+ae;al.displayfield="Level"+ae;al.align="center";al.cellsalign="center";al.text="";if(!this.rtl){aR.splice(ae,0,al)}else{aR.splice(aM,0,al)}}var aI=new Array();var aJ=this.source._source.hierarchy&&this.source._source.hierarchy.groupingDataFields?true:false;var ah=function(l){for(var f=0;f<l.length;f++){var q=c.extend({},l[f]);for(var h=0;h<q[aG.level];h++){q["Level"+h]=""}var n=q[aG.expanded]||(!q[aG.expanded]&&aC);if(aN=="xls"||aN=="html"||aN=="pdf"){if(q.records&&q.records.length>0){q["Level"+q[aG.level]]=n?"-":"+"}else{q["Level"+q[aG.level]]=""}}else{q["Level"+q[aG.level]]=""}if(q[aG.leaf]){q["Level"+q[aG.level]]=""}for(var h=q[aG.level]+1;h<aX;h++){q["Level"+h]=""}if(aJ&&!q[aG.leaf]){if(!aO.rtl){q[aR[aX].displayfield]=q.label}else{q[aR[aR.length-aX-1].displayfield]=q.label}}if(q.aggregate){var s=aN=="xls"?"_AG":"";for(var h=aX;h<aR.length;h++){var e=h;if(aO.rtl){e=aR.length-h-1}if(q[aR[e].displayfield]!=undefined){q[aR[e].displayfield]=s+q[aR[e].displayfield]}}}aI.push(q);if(n&&!q[aG.leaf]){ah(q.records)}}};ah(aq);o=aI}else{o=aq}}var aY=aK!=undefined?aK:false;var a={};var aB={};var aU=[];var ap=this.host.find(".jqx-grid-cell:first");var aS=this.host.find(".jqx-grid-cell-alt:first");var aA=this.toThemeProperty;ap.removeClass(aA("jqx-grid-cell-selected"));ap.removeClass(aA("jqx-fill-state-pressed"));aS.removeClass(aA("jqx-grid-cell-selected"));aS.removeClass(aA("jqx-fill-state-pressed"));ap.removeClass(aA("jqx-grid-cell-hover"));ap.removeClass(aA("jqx-fill-state-hover"));aS.removeClass(aA("jqx-grid-cell-hover"));aS.removeClass(aA("jqx-fill-state-hover"));var ay="cell";var aD=1;var ar="column";var aH=1;var aF=[];for(var ag=0;ag<aR.length;ag++){var al=aR[ag];if(al.cellclassname!=""){al.customCellStyles=new Array();if(typeof al.cellclassname=="string"){al.customCellStyles.push(al.cellclassname)}else{for(var ae=0;ae<o.length;ae++){var a1=ae;var af=al.cellclassname(a1,al.displayfield,o[ae][al.displayfield],o[ae]);if(af){al.customCellStyles[ae]=af}}}}}c.each(aR,function(t){var n=t;if(aO.treeGrid){if(t>=aX){n=aR.length-aX-1}else{if(aX>0&&t<aX){n=0}}}var l=c(aO._table[0].rows[0].cells[n]);if(aO._table[0].rows.length>1){var e=c(aO._table[0].rows[1].cells[n]);if(e.length==0){var e=c(aO._table[0].rows[1].cells[0])}}if(l.length==0){var l=c(aO._table[0].rows[0].cells[0])}var u=this;var s=function(A){var w=aO.toThemeProperty;A.removeClass(w("jqx-cell"));A.removeClass(w("jqx-grid-cell-selected"));A.removeClass(w("jqx-fill-state-pressed"));A.removeClass(w("jqx-grid-cell-hover"));A.removeClass(w("jqx-fill-state-hover"));if(u.customCellStyles){for(var z in u.customCellStyles){A.removeClass(u.customCellStyles[z])}}};s(l);if(e){s(e)}if(this.displayfield==null){return true}if(aO.showAggregates){if(aO.getcolumnaggregateddata){aF.push(aO.getcolumnaggregateddata(this.displayfield,this.aggregates,true,o))}}var q=aO._getexportcolumntype(this);if(this.exportable&&(!this.hidden||aY)){a[this.displayfield]={};a[this.displayfield].text=this.text;a[this.displayfield].width=parseInt(this.width);if(isNaN(a[this.displayfield].width)){a[this.displayfield].width=60}if(a[this.displayfield].width>500){a[this.displayfield].width=500}a[this.displayfield].formatString=this.cellsFormat;a[this.displayfield].localization=aO.gridlocalization;a[this.displayfield].type=q;a[this.displayfield].cellsAlign=this.cellsalign;a[this.displayfield].hidden=!aW;a[this.displayfield].index=n;a[this.displayfield].maxIndex=aR.length}ay="cell"+aD;var h=this.element;if(aN!="json"&&aN!="xml"){ar="column"+aH;var f=function(z,w,A,G,B,E,F,D,C){aB[z]={index:1+F,maxIndex:aR.length};if(E.rtl){aB[z].index=aR.length-F}if(aN=="html"||aN=="xls"||aN=="pdf"){if(w){aB[z]["font-size"]=w.css("font-size");aB[z]["font-weight"]=w.css("font-weight");aB[z]["font-style"]=w.css("font-style");aB[z]["background-color"]=E._getexportcolor(w.css("background-color"));aB[z]["color"]=E._getexportcolor(w.css("color"));aB[z]["border-color"]=E._getexportcolor(w.css("border-top-color"))}if(A){aB[z]["text-align"]=B.align}else{aB[z]["text-align"]=B.cellsalign;aB[z]["formatString"]=B.cellsFormat;aB[z]["dataType"]=q}if(aN=="html"||aN=="pdf"){aB[z]["border-top-width"]="0px";if(!E.rtl){aB[z]["border-left-width"]="0px";aB[z]["border-right-width"]="1px"}else{aB[z]["border-left-width"]="1px";aB[z]["border-right-width"]="0px";if(F==aR.length-aX-1&&A){aB[z]["border-right-width"]="1px"}}aB[z]["border-bottom-width"]="1px";if(w){aB[z]["border-top-style"]=w.css("border-top-style");aB[z]["border-left-style"]=w.css("border-left-style");aB[z]["border-right-style"]=w.css("border-right-style");aB[z]["border-bottom-style"]=w.css("border-bottom-style")}if(A){if(F==0&&!E.rtl){aB[z]["border-left-width"]="1px"}else{if(F==aR.length-1&&E.rtl){aB[z]["border-right-width"]="1px"}}if(w){aB[z]["border-top-width"]="1px";aB[z]["border-bottom-width"]=w.css("border-bottom-width")}}else{if(F==0&&!E.rtl){aB[z]["border-left-width"]="1px"}else{if(F==aR.length-1&&E.rtl){aB[z]["border-right-width"]="1px"}}}if(w){aB[z]["height"]=w.css("height")}if(E.treeGrid&&!A){if(aB[z].index-1<aX){if(E.rtl){aB[z]["border-left-width"]="0px"}else{aB[z]["border-right-width"]="0px"}}else{if(aB[z].index-1==aX){if(!E.rtl){aB[z]["border-left-width"]="0px"}else{aB[z]["border-right-width"]="0px"}}}}}}if(B.exportable&&(!B.hidden||aY)){if(D==true){if(!a[B.displayfield].customCellStyles){a[B.displayfield].customCellStyles=new Array()}a[B.displayfield].customCellStyles[C]=z}else{if(A){a[B.displayfield].style=z}else{if(!G){a[B.displayfield].cellStyle=z}else{a[B.displayfield].cellAltStyle=z}}}}};f(ar,h,true,false,this,aO,t);aH++;f(ay,l,false,false,this,aO,t);if(aO.altRows){ay="cellalt"+aD;f(ay,e,false,true,this,aO,t)}if(this.customCellStyles){for(var v in u.customCellStyles){l.removeClass(u.customCellStyles[v])}for(var v in u.customCellStyles){l.addClass(u.customCellStyles[v]);f(ay+u.customCellStyles[v],l,false,false,this,aO,t,true,v);l.removeClass(u.customCellStyles[v])}}aD++}});if(aN!="json"&&aN!="xml"){if(aX>0&&this.treeGrid){var aE=aX+1;if(this.rtl){aE=aR.length-aX}if(aB["column"+aE]){var aZ=aB["column"+aE];aZ.merge=aX;aZ["border-left-width"]="1px";var av=aB["cell"+aE];for(var ae=0;ae<aR.length;ae++){var aE=ae+1;if(this.rtl){aE=aR.length-ae}aB["column"+aE].level=ae;aB["column"+aE].maxLevel=aX;aB["cell"+aE].maxLevel=aX;var al=aR[ae];if(al.customCellStyles){for(var ak in al.customCellStyles){if(aB["cell"+aE+al.customCellStyles[ak]]){aB["cell"+aE+al.customCellStyles[ak]].maxLevel=aX}}}if(aB["cellalt"+aE]){aB["cellalt"+aE].maxLevel=aX}}for(var ae=0;ae<aX;ae++){var aE=ae+1;var az=ae;if(this.rtl){aE=aR.length-ae}var aP=aB["column"+aE];aP.disabled=true;aB["cell"+aE].level=az;aB["cell"+aE].maxLevel=aX;aB["column"+aE].level=az;if(aB["cellalt"+aE]){aB["cellalt"+aE].level=az;aB["cellalt"+aE].maxLevel=aX}var al=aR[ae];if(al.customCellStyles){for(var ak in al.customCellStyles){if(aB["cell"+aE+al.customCellStyles[ak]]){aB["cell"+aE+al.customCellStyles[ak]].maxLevel=aX;aB["cell"+aE+al.customCellStyles[ak]].level=az}}}if(aN=="html"||aN=="pdf"||aN=="xls"){aP["font-size"]=aZ["font-size"];aP["font-weight"]=aZ["font-weight"];aP["font-style"]=aZ["font-style"];aP["background-color"]=aZ["background-color"];aP.color=aZ.color;aP["border-color"]=aZ["border-color"];if(aN=="html"||aN=="pdf"){aP["border-top-width"]=aZ["border-top-width"];aP["border-left-width"]=aZ["border-left-width"];if(this.rtl){aP["border-right-width"]=aZ["border-right-width"];if(ae==0){aP["border-right-width"]="1px"}}if(ae==0&&!this.rtl){aP["border-left-width"]="0px"}else{if(ae==0&&this.rtl){aP["border-left-width"]="0px"}}if(!this.rtl){aP["border-right-width"]="0px"}else{if(this.rtl){aP["border-left-width"]="0px"}}aP["border-bottom-width"]="0px";var aP=aB["cell"+aE];if(!this.rtl){aP["border-right-width"]="0px"}else{if(this.rtl){aP["border-left-width"]="0px"}}}}}}}}if(this.showAggregates){var aw=[];var ao=aN=="xls"?"_AG":"";var an=0;if(this.rowDetails&&!this.treeGrid){an++}if(aF.length>0){c.each(aR,function(h){if(this.aggregates){for(var l=0;l<this.aggregates.length;l++){if(!aw[l]){aw[l]={}}if(aw[l]){var f=aO._getaggregatename(this.aggregates[l]);var e=aO._getaggregatetype(this.aggregates[l]);var n=aF[h-an];if(n){aw[l][this.displayfield]=ao+f+": "+n[e]}}}}});c.each(aR,function(e){for(var f=0;f<aw.length;f++){if(aw[f][this.displayfield]==undefined){aw[f][this.displayfield]=ao}}})}c.each(aw,function(){o.push(this)})}var at=this;var ai=c.jqx.dataAdapter.ArrayExporter(o,a,aB,am,this.treeGrid&&(aN=="xml"||aN=="json"));if(ax==undefined){this._renderrows();var aQ=this.treeGrid&&(aN=="xml"||aN=="json");var aL=ai.exportTo(aN,this.treeGrid&&(aN=="xml"||aN=="json"));if(this.showAggregates){c.each(aw,function(){o.pop(this)})}setTimeout(function(){at.exporting=false},50);return aL}else{var aQ=this.treeGrid&&(aN=="xml"||aN=="json");ai.exportToFile(aN,ax,am,au,aQ)}if(this.showAggregates){c.each(aw,function(){o.pop(this)})}this._renderrows();setTimeout(function(){at.exporting=false},50)},_getexportcolor:function(n){var u=n;if(n=="transparent"){u="#FFFFFF"}if(!u||!u.toString()){u="#FFFFFF"}if(u.toString().indexOf("rgb")!=-1){var s=u.split(",");if(u.toString().indexOf("rgba")!=-1){var w=parseInt(s[0].substring(5));var t=parseInt(s[1]);var q=parseInt(s[2]);var o=parseInt(s[3].substring(1,4));var a={r:w,g:t,b:q};var v=this._rgbToHex(a);if(w==0&&t==0&&q==0&&o==0){return"#ffffff"}return"#"+v}var w=parseInt(s[0].substring(4));var t=parseInt(s[1]);var q=parseInt(s[2].substring(1,4));var a={r:w,g:t,b:q};var v=this._rgbToHex(a);return"#"+v}else{if(u.toString().indexOf("#")!=-1){if(u.toString().length==4){var z=u.toString().substring(1,4);u+=z}}}return u},_rgbToHex:function(a){return this._intToHex(a.r)+this._intToHex(a.g)+this._intToHex(a.b)},_intToHex:function(a){var e=(parseInt(a).toString(16));if(e.length==1){e=("0"+e)}return e.toUpperCase()},_getexportcolumntype:function(o){var n=this;var q="string";var s=n.source.datafields||((n.source._source)?n.source._source.datafields:null);if(s){var a="";c.each(s,function(){if(this.name==o.displayfield){if(this.type){a=this.type}return false}});if(a){return a}}if(o!=null){if(this.dataview.cachedrecords==undefined){return q}var u=null;if(!this.virtualmode){if(this.dataview.cachedrecords.length==0){return q}u=this.dataview.cachedrecords[0][o.displayfield];if(u!=null&&u.toString()==""){return"string"}}else{c.each(this.dataview.cachedrecords,function(){u=this[o.displayfield];return false})}if(u!=null){if(o.cellsFormat.indexOf("c")!=-1){return"number"}if(o.cellsFormat.indexOf("n")!=-1){return"number"}if(o.cellsFormat.indexOf("p")!=-1){return"number"}if(o.cellsFormat.indexOf("d")!=-1){return"date"}if(o.cellsFormat.indexOf("y")!=-1){return"date"}if(o.cellsFormat.indexOf("M")!=-1){return"date"}if(o.cellsFormat.indexOf("m")!=-1){return"date"}if(o.cellsFormat.indexOf("t")!=-1){return"date"}if(typeof u=="boolean"){q="boolean"}else{if(c.jqx.dataFormat.isNumber(u)){q="number"}else{var l=new Date(u);if(l.toString()=="NaN"||l.toString()=="Invalid Date"){if(c.jqx.dataFormat){l=c.jqx.dataFormat.tryparsedate(u);if(l!=null){if(l&&l.getFullYear()){if(l.getFullYear()==1970&&l.getMonth()==0&&l.getDate()==1){var t=new Number(u);if(!isNaN(t)){return"number"}return"string"}}return"date"}else{q="string"}}else{q="string"}}else{q="date"}}}}}return q},showDetails:function(e){var a=this._getkey(e);this.showdetailsbykey(a)},hideDetails:function(e){var a=this._getkey(e);this.hidedetailsbykey(a)},setCellValueByKey:function(L,K,G){var R=this;var W=this.rowsByKey[L];var V=this.getrowindex(W);var Y=W;if(Y!=null&&Y[K]==G){return false}if(Y!=null&&Y[K]===null&&G===""){return}var S="";if(Y!=null&&Y[K]!==G){var ab=this.getColumn(K);var aa="string";var Q=this.source.datafields||((this.source._source)?this.source._source.datafields:null);if(Q){var J="";c.each(Q,function(){if(this.name==ab.displayfield){if(this.type){J=this.type}return false}});if(J){aa=J}}S=Y[K];if(!ab.nullable||(G!=null&&G!==""&&ab.nullable&&G.label===undefined)){if(c.jqx.dataFormat.isNumber(S)||aa=="number"||aa=="float"||aa=="int"||aa=="decimal"&&aa!="date"){G=new Number(G);G=parseFloat(G);if(isNaN(G)){G=0}}else{if(c.jqx.dataFormat.isDate(S)||aa=="date"){if(G!=""){var a=G;a=new Date(a);if(a!="Invalid Date"&&a!=null){G=a}else{if(a=="Invalid Date"){a=new Date();G=a}}}}}if(Y[K]===G){return}}R.dataview._filteredData=null;R.dataview._sortData=null;R.dataview._sortHierarchyData=null;Y[K]=G;if(this.treeGrid){var N=this.treeGrid.getRow(L);if(N){N[K]=G}}if(G!=null&&G.label!=null){var ab=this.getColumn(K);Y[ab.displayfield]=G.label;Y[K]=G.value;if(this.treeGrid){var N=this.treeGrid.getRow(L);if(N){N[ab.displayfield]=G.label;N[K]=G.value}}}}if(this.source&&this.source._knockoutdatasource&&!this._updateFromAdapter&&this.autokoupdates){if(this.source._source._localdata){var E=V;var H=this.source._source._localdata()[E];this.source.suspendKO=true;var U=H;if(U[K]&&U[K].subscribe){if(G!=null&&G.label!=null){U[ab.displayfield](G.label);U[K](G.value)}else{U[K](G)}}else{var Q=this.source._source.datafields;var ac=null;var P=null;if(Q){c.each(Q,function(){if(this.name==K){P=this.map;return false}})}if(P==null){if(G!=null&&G.label!=null){U[K]=G.value;U[ab.displayfield]=G.label}else{U[K]=G}}else{var Z=P.split(this.source.mapChar);if(Z.length>0){var ad=U;for(var I=0;I<Z.length-1;I++){ad=ad[Z[I]]}ad[Z[Z.length-1]]=G}}this.source._source._localdata.replace(H,c.extend({},U))}this.source.suspendKO=false}}if(this.source.updaterow&&(sync==undefined||sync==true)){var T=false;var O=function(e){if(false==e){this.setCellValue(W,K,S,true,false)}};try{var X=L;T=this.source.updaterow(X,Y,O);if(T==undefined){T=true}}catch(F){T=false;this.setCellValue(W,K,S);return}}var M=this.getrowdisplayindex(W);var ab=this.getColumn(K);this._raiseEvent("cellValueChanged",{value:G,oldValue:S,dataField:K,displayField:ab.displayfield,key:L,boundIndex:V,index:M,row:this.rowsByKey[L]});if(this.editable){if(this.editKey!=null){return}}this._renderrows()},setCellValue:function(a,n,h){if(a==null||n==null){return false}var o=parseInt(a);var l=this._getkey(o);this.setCellValueByKey(l,n,h)},getCellText:function(a,l){if(a==null||l==null){return false}var n=parseInt(a);var h=this._getkey(n);return this.getCellTextByKey(h,l)},getCellTextByKey:function(h,l){if(h==null||l==null){return null}var n=this.getCellValueByKey(h,l);var a=this.getColumn(l);if(a&&a.cellsFormat!=""){if(c.jqx.dataFormat){if(c.jqx.dataFormat.isDate(n)){n=c.jqx.dataFormat.formatdate(n,a.cellsFormat,this.gridlocalization)}else{if(c.jqx.dataFormat.isNumber(n)||(!isNaN(parseFloat(n))&&isFinite(n))){n=c.jqx.dataFormat.formatnumber(n,a.cellsFormat,this.gridlocalization)}}}}return n},getCellValue:function(a,l){if(a==null||l==null){return false}var n=parseInt(a);var h=this._getkey(n);return this.getCellValueByKey(h,l)},getCellValueByKey:function(o,q){var a=this.rowsByKey[o];if(!a&&this.treeGrid){a=this.treeGrid.getRow(o)}var s=this.getrowindex(a);var n=a;var l="";if(n!=null){return n[q]}return null},beginRowEdit:function(e){var a=this._getkey(e);this.beginroweditbykey(a)},beginCellEdit:function(l,n){var h=this._getkey(l);var a=this.getColumn(n);this.beginroweditbykey(h,a)},endCellEdit:function(f,h,a){this.endRowEdit(f,a)},endRowEdit:function(h,a){var f=this._getkey(h);this.endroweditbykey(f,a)},getrowindex:function(a){var l=this.getRows().indexOf(a);if(l!=-1){return l}if(this.groups&&this.groups.length>0){var n=this.getRows();for(var h=0;h<n.length;h++){if(a.originalRecord){if(n[h].uid==a.originalRecord.uid){l=h;break}}else{if(n[h].uid==a.uid){l=h;break}}}}return l},getrowdisplayindex:function(a){if(this.treeGrid){return -1}var o=this.getView();var l=o.indexOf(a);if(l!=-1){return l}if(a==undefined){return l}var n=o;for(var h=0;h<n.length;h++){if(n[h].uid==a.uid||(a.originalRecord&&n[h].uid==a.originalRecord.uid)){l=h;break}}return l},beginroweditbykey:function(L,V){if(this.beginEdit){var W=this.beginEdit(L,V);if(W===false){return false}}var R=!this.treeGrid?this.groups.length:this.source._source.hierarchy&&this.source._source.hierarchy.groupingDataFields?this.source._source.hierarchy.groupingDataFields.length:0;if(R>0){var aa=this.rowsByKey[L];if(this.treeGrid){var aa=this.treeGrid.getRow(L)}if(aa.level<R){return false}}if(this._lastSelectedKey==null){this.selectrowbykey(L)}if(this.editKey===L&&this.editKey!=undefined){return false}if(this.rowinfo[L]&&this.rowinfo[L].locked){return false}if(this.editKey!=null){this.endroweditbykey(L,true);return false}var O=this.editSettings.editSingleCell;if(!V&&O&&this.columns.records&&this.columns.records.length>0){for(var H=0;H<this.columns.records.length;H++){V=this.columns.records[H];if(V.editable&&!V.hidden){break}}if(!V){return false}}if(O&&V&&!V.editable){this.editKey=null;return false}if(O){this.editColumn=V}var Y=this;var aa=this.rowsByKey[L];if(this.treeGrid){var aa=this.treeGrid.getRow(L)}var Z=this.getrowindex(aa);var T=this._getuirow(L);var Q=this._getpinneduirow(L);this._editors=new Array();var X=false;if(T){var ae=T[0].cells;var P=0;for(var H=0;H<ae.length;H++){var af=this.columns.records[H];var ai=ae[H];if(af.rowDetailscolumn){continue}if(af.checkboxcolumn){continue}if(af.pinned){ai=Q[0].cells[H]}if(O&&V&&af.datafield!=V.datafield){continue}c(ai).removeClass(this.toTP("jqx-grid-cell-selected"));c(ai).removeClass(this.toTP("jqx-fill-state-pressed"));c(ai).removeClass(this.toTP("jqx-grid-cell-hover"));c(ai).removeClass(this.toTP("jqx-fill-state-hover"));if(af.columntype=="none"){continue}var N=c(ai).outerWidth();var J=c(ai).width();if(P===0){P=c(ai).outerHeight()-1}c(ai).css("padding","0px");cellContent="<div style='height:"+P+"px; width: 100%; overflow: hidden; border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 9999;'></div>";var S=this.getCellTextByKey(L,af.displayfield);ai.innerHTML=cellContent;var ah=c(ai.firstChild);switch(af.columntype){case"textbox":case"default":var ad=c("<input style='border: none;' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' type='textbox'/>").appendTo(ah);if(this.rtl){ad.css("direction","rtl")}ad.addClass(this.toThemeProperty("jqx-input"));ad.addClass(this.toThemeProperty("jqx-widget-content"));ad.addClass(this.toThemeProperty("jqx-cell-editor"));ad[0].onfocus=function(e){setTimeout(function(){if(e){var f=c(e.target).parent().parent().index();if(f>=0){Y.ensureColumnVisible(Y.columns.records[f].datafield)}}else{var f=c(document.activeElement).parent().parent().index();if(f>=0){Y.ensureColumnVisible(Y.columns.records[f].datafield)}}if(Y.content){Y.content[0].scrollTop=0;Y.content[0].scrollLeft=0}if(Y.gridcontent){Y.gridcontent[0].scrollLeft=0;Y.gridcontent[0].scrollTop=0}},10)};if(!af.editable){ad.attr("disabled",true);ad.attr("readOnly",true);ad.addClass(this.toThemeProperty("jqx-fill-state-disabled"))}else{if(!X){X=true;var ag=c.jqx.browser.msie&&c.jqx.browser.version>10;if(!ag){ad.focus()}var aj=ad;setTimeout(function(){var f=aj.val().length;if(!ag){aj.focus()}try{if("selectionStart" in aj[0]){aj[0].setSelectionRange(0,f)}else{var l=aj[0].createTextRange();l.collapse(true);l.moveEnd("character",f);l.moveStart("character",0);l.select()}}catch(h){var e=h}},10)}}ad.width(J);ad.height(P);if(c.jqx.browser.msie&&c.jqx.browser.version<9){ad.css("line-height",parseInt(P)+"px")}ad.css("text-align",af.cellsalign);if(S===null){S=""}if(S==undefined){S=""}ad.val(S);if(af.createeditor){var U=S;var S=this.getCellValueByKey(L,af.displayfield);af.createeditor(!this.treeGrid?Z:L,S,ad,U,J,P)}this._editors.push({column:af,editor:ad});if(af.cellsFormat!=""){if(af.cellsFormat.indexOf("p")!=-1||af.cellsFormat.indexOf("c")!=-1||af.cellsFormat.indexOf("n")!=-1||af.cellsFormat.indexOf("f")!=-1){ad.keydown(function(t){var h=t.charCode?t.charCode:t.keyCode?t.keyCode:0;var o=String.fromCharCode(h);var n=parseInt(o);if(isNaN(n)){return true}if(Y._selection(ad).length>0){return true}var q="";var s=ad.val();if(af.cellsFormat.length>1){var l=parseInt(af.cellsFormat.substring(1));if(isNaN(l)){l=0}}else{var l=0}if(l>0){if(s.indexOf(Y.gridlocalization.decimalseparator)!=-1){if(Y._selection(ad).start>s.indexOf(Y.gridlocalization.decimalseparator)){return true}}}for(var f=0;f<s.length-l;f++){var e=s.substring(f,f+1);if(e.match(/^[0-9]+$/)!=null){q+=e}}if(q.length>=11){return false}})}}if(af.initeditor){var U=S;var S=this.getCellValueByKey(L,af.displayfield);af.initeditor(!this.treeGrid?Z:L,S,ad,U,J,P)}break;case"custom":case"template":if(!this.editorsCache){this.editorsCache=new Array()}var ac=c("<div style='width: 100%; height: 100%; border: none;'></div>").appendTo(ah);var I=c.trim(af.datafield).split(" ").join("");if(I.indexOf(".")!=-1){I=I.replace(".","")}var a=this.editorsCache["templateeditor_"+I];if(af.columntype=="custom"){var a=this.editorsCache["customeditor_"+I+"_"+L]}var U=S;var S=this.getCellValueByKey(L,af.displayfield);if(!a){var ad=c("<div style='border: none;'></div>");ad.width(N);ad.height(P);a=ad;if(S===null){S=""}if(af.columntype!="custom"){this.editorsCache["templateeditor_"+I]=ad}else{this.editorsCache["customeditor_"+I+"_"+L]=ad}ad.appendTo(ac);if(af.createeditor){af.createeditor(!this.treeGrid?Z:L,S,ad,U,N,P)}}else{var ad=a;ad.width(N);ad.height(P);ad.appendTo(ac)}if(af.initeditor){af.initeditor(!this.treeGrid?Z:L,S,ad,U,N,P)}this._editors.push({column:af,editor:ad});break}}}this.editKey=L;this.beginUpdate();var M=this.getrowdisplayindex(aa);this._raiseEvent("rowBeginEdit",{key:L,index:M,boundIndex:Z,row:this.rowsByKey[L]});if(O){var aa=this.rowsByKey[L];var K=null;var ab=null;if(aa){K=aa[V.datafield];ab=aa[V.displayfield]}this._raiseEvent("cellBeginEdit",{value:K,displayValue:ab,key:L,index:M,dataField:V.datafield,displayField:V.displayfield,boundIndex:Z,row:this.rowsByKey[L]})}this.endUpdate(false)},_toNumber:function(h){if(!h.indexOf&&h!=undefined){h=h.toString()}if(h.indexOf(this.gridlocalization.currencysymbol)>-1){h=h.replace(this.gridlocalization.currencysymbol,"")}var o=function(e,q,f){var t=e;if(q==f){return e}var s=t.indexOf(q);while(s!=-1){t=t.replace(q,f);s=t.indexOf(q)}return t};h=o(h,this.gridlocalization.thousandsseparator,"");h=h.replace(this.gridlocalization.decimalseparator,".");if(h.indexOf(this.gridlocalization.percentsymbol)>-1){h=h.replace(this.gridlocalization.percentsymbol,"")}var a="";for(var n=0;n<h.length;n++){var l=h.substring(n,n+1);if(l==="-"){a+="-"}if(l==="."){a+="."}if(l.match(/^[0-9]+$/)!=null){a+=l}}h=a;h=h.replace(/ /g,"");return h},_geteditorvalue:function(v,t,s,B){var o=new String();if(t){if(!v.geteditorvalue){switch(v.columntype){case"textbox":default:o=t.val();if(v.cellsFormat!=""){var q="string";var w=this.source.datafields||((this.source._source)?this.source._source.datafields:null);if(w){var a="";c.each(w,function(){if(this.name==v.displayfield){if(this.type){a=this.type}return false}});if(a){q=a}}var u=q==="number"||q==="float"||q==="int"||q==="integer";var z=q==="date"||q==="time";if(u||(q==="string"&&(v.cellsFormat.indexOf("p")!=-1||v.cellsFormat.indexOf("c")!=-1||v.cellsFormat.indexOf("n")!=-1||v.cellsFormat.indexOf("f")!=-1))){if(o===""&&v.nullable){return""}o=this._toNumber(o);o=new Number(o);if(isNaN(o)){o=""}}if(z||(q==="string"&&(v.cellsFormat.indexOf("H")!=-1||v.cellsFormat.indexOf("m")!=-1||v.cellsFormat.indexOf("M")!=-1||v.cellsFormat.indexOf("y")!=-1||v.cellsFormat.indexOf("h")!=-1||v.cellsFormat.indexOf("d")!=-1))){if(o===""&&v.nullable){return""}var A=o;o=new Date(o);if(o=="Invalid Date"||o==null||v.cellsFormat.length>1){if(c.jqx.dataFormat){o=c.jqx.dataFormat.parsedate(A,v.cellsFormat,this.gridlocalization)}if(o=="Invalid Date"||o==null){o=""}}}}if(v.displayfield!=v.datafield){o={label:o,value:o}}break}}if(v.geteditorvalue){var C=this.getCellValueByKey(B,v.displayfield);o=v.geteditorvalue(!this.treeGrid?s:B,C,t)}}return o},_validateEditors:function(I){var B=this;var H=true;var J=B.rowsByKey[I];var A=B.getrowindex(J);var z=B._editors;var I=B.editKey;var u=B._getuirow(I);for(var D=0;D<z.length;D++){var C=z[D].editor;var F=z[D].column;var v=B._geteditorvalue(F,C,A,I);if(F.validation){C.removeClass(B.toThemeProperty("jqx-grid-validation-label"));var G=F.datafield;try{var a=F.validation({value:v,row:I,datafield:F.datafield,displayfield:F.displayfield,column:F},v);var E=B.gridlocalization.validationstring;if(a.message!=undefined){E=a.message}var t=typeof a=="boolean"?a:a.result;if(!t){if(a.showmessage==undefined||a.showmessage==true){B._showvalidationpopup(u,G,E,C)}H=false}}catch(w){B._showvalidationpopup(u,G,B.gridlocalization.validationstring,C);H=false}}}return H},endroweditbykey:function(v,a){var C=this;if(C.editKey===null){return}if(this.endEdit){var z=this.endEdit(v);if(z===false){return}}var K=C.rowsByKey[v];var B=C.getrowindex(K);var A=C._editors;var H=C.editKey;var u=C._getuirow(H);if(a!==true){var I=true;if(A){I=C._validateEditors(H);if(I){var E=c.extend({},K);var J=c.extend({},K);for(var F=0;F<A.length;F++){var D=A[F].editor;var G=A[F].column;var w=C._geteditorvalue(G,D,B,H);if(w&&w.label!=undefined){E[G.displayfield]=w.label;E[G.datafield]=w.value}else{E[G.displayfield]=w}}var L=function(){C.dataview._sortHierarchyData=null;C.dataview._sortData=null;for(var q=0;q<A.length;q++){var h=A[q].editor;var t=A[q].column;var f=C._geteditorvalue(t,h,B,H);var M=J[t.displayfield];if(f&&f.label!=undefined){K[t.displayfield]=f.label;K[t.datafield]=f.value}else{K[t.displayfield]=f}if(C.treeGrid){var e=C.treeGrid.getRow(H);if(e){e[t.displayfield]=f}}if(C.editorsCache){var N=function(O){if(O&&O.jqxWidget){var P=O.jqxWidget.element.className;if(P.indexOf("dropdownlist")>=0||P.indexOf("datetimeinput")>=0||P.indexOf("combobox")>=0||P.indexOf("menu")>=0){if(O.jqxWidget.isOpened){var Q=O.jqxWidget.isOpened();if(Q){O.jqxWidget.close()}}}}};var n="customeditor_"+t.displayfield+"_"+v;var o="templateeditor_"+t.displayfield;if(C.editorsCache[n]){var s=c(C.editorsCache[n]).data();var l=C.editorsCache[n];if(!s.jqxWidget&&c(l).children()[0]&&c(c(l).children()[0]).data().jqxWidget){s=c(c(l).children()[0]).data()}N(s);C.editorsCache[n].detach()}if(C.editorsCache[o]){C.editorsCache[o].detach();var s=c(C.editorsCache[o]).data();var l=C.editorsCache[o];if(!s.jqxWidget&&c(l).children()[0]&&c(c(l).children()[0]).data().jqxWidget){s=c(c(l).children()[0]).data()}N(s)}}if(f!=M){C.beginUpdate();C._raiseEvent("cellValueChanged",{value:f,oldValue:M,dataField:t.datafield,displayField:t.displayfield,key:v,index:B,row:K});C.endUpdate(false)}}};C.updaterowbykey(C.editKey,E,false,L)}}if(!I){return false}}C._detachEditors(H);return true},_detachEditors:function(n){var u=this;var a=u.rowsByKey[n];var s=u.getrowindex(a);if(u.editorsCache){for(var t in u.editorsCache){var v=c(u.editorsCache[t]).data();if(v&&v.jqxWidget){var A=v.jqxWidget.element.className;if(A.indexOf("dropdownlist")>=0||A.indexOf("datetimeinput")>=0||A.indexOf("combobox")>=0||A.indexOf("menu")>=0){if(v.jqxWidget.isOpened){var w=v.jqxWidget.isOpened();if(w){v.jqxWidget.close()}}}}c(u.editorsCache[t]).detach()}}u.beginUpdate();var z=u.getrowdisplayindex(a);if(u.editSettings.editSingleCell){var a=u.rowsByKey[n];var o=null;var q=null;if(a){o=a[u.editColumn.datafield];q=a[u.editColumn.displayfield]}u._raiseEvent("cellEndEdit",{value:o,displayValue:q,key:n,index:z,dataField:u.editColumn.datafield,displayField:u.editColumn.displayfield,boundIndex:s,row:u.rowsByKey[n]})}u._raiseEvent("rowEndEdit",{key:n,index:z,boundIndex:s,row:u.rowsByKey[n]});u.endUpdate(false);u.editColumn=null;u.editKey=null;u._renderrows();u._renderhorizontalscroll();u.host.focus();setTimeout(function(){u.host.focus()},10)},_showvalidationpopup:function(a,H,K,z){if(K==undefined){var K=this.gridlocalization.validationstring}z.addClass(this.toThemeProperty("jqx-grid-validation-label"));var u=c("<div style='z-index: 99999; top: 0px; left: 0px; position: absolute;'></div>");var v=c("<div style='width: 20px; height: 20px; z-index: 999999; top: 0px; left: 0px; position: absolute;'></div>");u.html(K);v.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up"));u.addClass(this.toThemeProperty("jqx-grid-validation"));u.addClass(this.toThemeProperty("jqx-rc-all"));u.hide();v.hide();u.prependTo(this.table);v.prependTo(this.table);var E=this.hScrollInstance;var C=E.value;var F=parseInt(C);var A=this.getColumn(H).uielement;if(!a){return}var B=a;u.css("top",parseInt(B.position().top)+30+"px");var J=parseInt(u.css("top"));v.css("top",J-11);v.removeClass();v.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up"));var G=false;if(J>=this._table.height()){v.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-up"));v.addClass(this.toThemeProperty("jqx-grid-validation-arrow-down"));J=parseInt(B.position().top)-B.outerHeight()-5;if(J<0){J=0;v.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-down"));G=true}u.css("top",J+"px");v.css("top",J+u.outerHeight()-9)}var w=-F+parseInt(c(A).position().left);var t=parseInt(this._table.css("left"));if(isNaN(t)){t=0}if(t!=0){F=0}v.css("left",F+w+30);var I=u.width();if(I+w>this.host.width()-20){var D=I+w-this.host.width()+40;w-=D}if(!G){u.css("left",F+w)}else{u.css("left",F+parseInt(c(A).position().left)-u.outerWidth())}z.mouseenter(function(){if(z.hasClass("jqx-grid-validation-label")){u.show();v.show()}});z.mouseleave(function(){u.hide();v.hide()});if(!this.popups){this.popups=new Array()}this.popups[this.popups.length]={validation:u,validationrow:v}},addRow:function(C,a,v,q){if(a!=undefined){this._datachanged=true;if(v==undefined){v="last"}var e=false;var u=this.that;if(C==null){var B=this.dataview.filters&&this.dataview.filters.length>0;var s=!B?this.dataview.totalrecords:this.source.records.length;if(!this.pageable){if(this.source._source.totalrecords){this.dataview.totalrecords=this.source._source.totalrecords}else{if(this.source._source.totalRecords){this.dataview.totalrecords=this.source._source.totalRecords}else{if(this.source.hierarchy.length!==0){this.dataview.totalrecords=this.source.hierarchy.length}else{this.dataview.totalrecords=this.source.records.length}}}var s=!B?this.dataview.totalrecords:this.source.records.length}if(!c.isArray(a)){C=this.dataview.getid(this.dataview.source.id,a,s);if(this.getColumn(this.dataview.source.id)){a[this.dataview.source.id]=C}}else{var D=new Array();c.each(a,function(l,h){var f=u.dataview.getid(u.dataview.source.id,a[l],s+l);D.push(f);if(u.getColumn(u.dataview.source.id)){a[l][u.dataview.source.id]=f}});C=D}}else{if(!c.isArray(a)){if(this.getColumn(this.dataview.source.id)){a[this.dataview.source.id]=C}}else{c.each(a,function(l,h){var f=C[l];if(u.getColumn(u.dataview.source.id)){a[l][u.dataview.source.id]=f}})}}var w=this.treeGrid?(this.treeGrid.virtualModeCreateRecords?true:false):false;var A=function(H,l,n,f){if(H._loading){throw new Error("jqxDataTable: "+H.loadingErrorMessage);return false}var h=H.vScrollInstance.value;var o=false;if(!c.isArray(n)){n.uid=l;H.rowsByKey[l]=n;if(l==q){q=null}o=H.source.addRecord(n,f,q,w)}else{c.each(n,function(K,J){var L=null;if(l!=null&&l[K]!=null){L=l[K]}this.uid=L;H.rowsByKey[L]=this;if(l==q){q=null}o=H.source.addRecord(this,f,q,w)})}if(H.groups&&H.groups.length>0){var G=Object.prototype.toString;var E=H.groups[0];Object.prototype.toString=(typeof E=="function")?E:function(){return this[E]};if(!H.source.records.sort){var F=new Array();var I=0;c.each(data,function(){F[startindex+I++]=this});data=F}H.source.records.sort(function(J,N){if(J===undefined){J=null}if(N===undefined){N=null}if(J===null&&N===null){return 0}if(J===null&&N!==null){return -1}if(J!==null&&N===null){return 1}var L=0;var M=0;if(J&&J.uid){L=J.uid}if(N&&N.uid){M=N.uid}J=J.toString();N=N.toString();if(c.jqx.dataFormat.isNumber(J)&&c.jqx.dataFormat.isNumber(N)){if(J<N){return -1}if(J>N){return 1}return 0}else{if(c.jqx.dataFormat.isDate(J)&&c.jqx.dataFormat.isDate(N)){if(J<N){return -1}if(J>N){return 1}return 0}else{if(!c.jqx.dataFormat.isNumber(J)&&!c.jqx.dataFormat.isNumber(N)){J=String(J).toLowerCase();N=String(N).toLowerCase()}}}try{if(J<N){return -1}if(J>N){return 1}}catch(O){var K=O}if(typeof(L)=="number"){if(L<M){return -1}if(L>M){return 1}}return 0});Object.prototype.toString=G}H.dataview._filteredData=null;H.dataview._sortData=null;H.dataview._sortHierarchyData=null;if(H._updating==undefined||H._updating==false){H.refresh()}if(H.source&&H.source._knockoutdatasource&&!H._updateFromAdapter&&H.autokoupdates){if(H.source._source._localdata){H.source.suspendKO=true;H.source._source._localdata.push(n);H.source.suspendKO=false}}H.vScrollInstance.setPosition(h);return o};if(this.source.addrow){var z=function(h,f){if(h==true||h==undefined){if(f!=undefined){C=f}A(u,C,a,v)}};try{if(!u.treeGrid){e=this.source.addrow(C,a,v,z)}else{e=this.source.addrow(C,a,v,q,z)}if(e==undefined){e=true}}catch(t){e=false}if(e==false){return false}}else{A(this,C,a,v)}return e}return false},deleteRow:function(e){var a=this._getkey(e);this.deleterowbykey(a)},deleterowbykey:function(l){if(l!=undefined){this._datachanged=true;var a=false;var n=this.that;var q=function(e,f){if(e._loading){throw new Error("jqxDataTable: "+e.loadingErrorMessage);return false}e.dataview._filteredData=null;e.dataview._sortData=null;e.dataview._sortHierarchyData=null;var w=false;var v=e.vScrollInstance.value;if(!c.isArray(f)){var w=false;if(e.rowsByKey[f]){w=true;if(e.rowinfo[f].selected){e.unselectrowbykey(f,false)}if(e.treeGrid){var z=e._names();var h=e.rowsByKey[f][z.parent]}delete e.rowsByKey[f];if(e.treeGrid){if(e.rowinfo[f]){var u=e.rowinfo[f].row.records;var t=function(C){for(var B=0;B<C.length;B++){var A=C[B].uid;delete e.rowsByKey[A];delete e.rowinfo[A];if(C[B].records){t(C[B].records)}}};if(u){t(u)}}}delete e.rowinfo[f];e.source.deleteRecord(f);if(h){if(z&&h.records&&h.records.length==0){h[z.leaf]=true;e.rowinfo[h.uid][z.leaf]=true}}}}else{c.each(f,function(){var B=this;if(e.rowsByKey[B]){w=true;if(e.rowinfo[B].selected){e.unselectrowbykey(B,false)}if(e.treeGrid){var A=e._names();var C=e.rowsByKey[B][A.parent]}delete e.rowsByKey[B];if(e.treeGrid){if(e.rowinfo[B]){var E=e.rowinfo[B].row.records;var D=function(H){for(var G=0;G<H.length;G++){var F=H[G].uid;delete e.rowsByKey[F];delete e.rowinfo[F];if(H[G].records){D(H[G].records)}}};if(E){D(E);delete e.rowinfo[B]}}}e.source.deleteRecord(B);if(C){if(A&&C.records&&C.records.length==0){C[A.leaf]=true;e.rowinfo[C.uid][A.leaf]=true}}}})}e.refresh();if(e.source&&e.source._knockoutdatasource&&!e._updateFromAdapter&&e.autokoupdates){if(e.source._source._localdata){e.source.suspendKO=true;e.source._source._localdata.pop(rowdata);e.source.suspendKO=false}}e.vScrollInstance.setPosition(v);return w};if(this.source.deleterow){var s=function(e){if(e==true||e==undefined){q(n,l)}};try{this.source.deleterow(l,s);if(a==undefined){a=true}}catch(o){a=false}}else{a=q(n,l)}return a}return false},updateRow:function(h,a){var f=this._getkey(h);this.updaterowbykey(f,a)},updaterowbykey:function(v,a,q,n){if(v!=undefined&&a!=undefined){var s=this.that;var l=false;var u=function(w,B,C){if(w._loading){throw new Error("jqxDataTable: "+w.loadingErrorMessage);return false}w.dataview._filteredData=null;w.dataview._sortData=null;w.dataview._sortHierarchyData=null;var e=false;if(!c.isArray(B)){var z=w.rowsByKey[B];var D=function(E){if(!E){e=false}else{for(var F=0;F<w.columns.records.length;F++){E[w.columns.records[F].datafield]=C[w.columns.records[F].datafield];if(w.groups.length>0&&E.originalRecord){E.originalRecord[w.columns.records[F].datafield]=C[w.columns.records[F].datafield]}}e=true}};D(z);if(w.treeGrid){z=w.treeGrid.getRow(B);D(z)}}else{c.each(B,function(F,E){var G=w.rowsByKey[this];var H=function(I,J){if(!G){e=false}else{G[this]=C[F]}e=true};H(this,G);if(w.treeGrid){G=w.treeGrid.getRow(this);H(this,G)}})}var A=w.vScrollInstance.value;if(q==undefined||q==true){if(w._updating==undefined||w._updating==false){w._renderrows()}}if(w.showAggregates&&w._updatecolumnsaggregates){w._updatecolumnsaggregates()}if(w.source&&w.source._knockoutdatasource&&!w._updateFromAdapter&&w.autokoupdates){if(w.source._source._localdata){var z=w.rowsByKey[B];var h=w.getrowindex(z);var f=w.source._source._localdata()[h];w.source.suspendKO=true;w.source._source._localdata.replace(f,c.extend({},z));w.source.suspendKO=false}}w.vScrollInstance.setPosition(A);return e};if(this.source.updaterow){var t=function(e){if(e==true||e==undefined){u(s,v,a);if(n){n()}s._renderrows(false)}};try{l=this.source.updaterow(v,a,t);if(l==undefined){l=true}}catch(o){l=false}}else{l=u(s,v,a);if(l&&n){n()}s._renderrows(false)}return l}return false},lockRow:function(e){var a=this._getkey(e);this.lockrowbykey(a)},unlockRow:function(e){var a=this._getkey(e);this.unlockrowbykey(a)},lockrowbykey:function(a){if(this.rowinfo[a]){this.rowinfo[a].locked=true}else{this.rowinfo[a]={locked:true}}this._renderrows()},unlockrowbykey:function(a){if(this.rowinfo[a]){this.rowinfo[a].locked=false}else{this.rowinfo[a]={locked:false}}this._renderrows()},selectRow:function(e){var a=this._getkey(e);this.selectrowbykey(a)},unselectRow:function(e){var a=this._getkey(e);this.unselectrowbykey(a)},selectrowbykey:function(q,l,o){if(l!="keyboard"&&l!="mouse"){this._lastSelectedKey=q}var n=o!==false?true:false;this._doSelection(q,true,n);var a=this.rowsByKey[q];var s=this.getrowindex(a);var t=this.getrowdisplayindex(a);this._raiseEvent("rowSelect",{key:q,index:t,boundIndex:s,row:this.rowsByKey[q]})},unselectrowbykey:function(o,n){var l=n!==false?true:false;this._doSelection(o,false,l);var a=this.rowsByKey[o];var q=this.getrowindex(a);var s=this.getrowdisplayindex(a);this._raiseEvent("rowUnselect",{key:o,index:s,boundIndex:q,row:this.rowsByKey[o]})},getSelection:function(){var h=new Array();if(this.rowinfo){for(var a in this.rowinfo){var f=this.rowinfo[a];if(f.selected){h.push(f.row)}}}return h},showdetailsbykey:function(o){if(!this.rowDetails){return}var n=this.rowinfo[o];if(n){n.expanded=true;var v=c(this._table.children()[1]).children(("[data-key="+o+"]"));var s=c(this._pinnedTable.children()[1]).children(("[data-key="+o+"]"));if(v){var A=s.children();var t=c(A[0]);if(this.rtl){var t=c(A[A.length-1])}if(!this.rtl){t.removeClass(this.toThemeProperty("jqx-grid-group-collapse"));t.addClass(this.toThemeProperty("jqx-grid-group-expand"));t.removeClass(this.toThemeProperty("jqx-icon-arrow-right"));t.addClass(this.toThemeProperty("jqx-icon-arrow-down"))}else{t.removeClass(this.toThemeProperty("jqx-grid-group-collapse-rtl"));t.addClass(this.toThemeProperty("jqx-grid-group-expand-rtl"));t.removeClass(this.toThemeProperty("jqx-icon-arrow-left"));t.addClass(this.toThemeProperty("jqx-icon-arrow-down"))}v.next().show();var z=s.next();z.show();if(c.jqx.browser.msie&&c.jqx.browser.version<8){v.next().children().show();s.next().children().show()}if(!n.initialized){var q=n.detailsHeight;var a=this.initRowDetails(o,n.row,c(c(z).children().children().children()[0]),n);n.details=c(z).children().children().children()[0];n.initialized=true;if(a===false||n.detailsHeight!=q){if(a===false){n.expanded=false;n.nodetails=true;z.hide()}this._renderrows()}}this._updateScrollbars();if(this.height==="auto"||this.height===null||this.autoheight){this._arrange()}var u=this.getrowindex(n.row);var w=this.getrowdisplayindex(n.row);this._raiseEvent("rowExpand",{row:n.row,index:w,boundIndex:u,rowKey:o})}}},hidedetailsbykey:function(n){if(!this.rowDetails){return}var a=this.rowinfo[n];if(a){a.expanded=false;var t=c(this._table.children()[1]).children(("[data-key="+n+"]"));var s=c(this._pinnedTable.children()[1]).children(("[data-key="+n+"]"));if(t){var o=s.children();var l=c(o[0]);if(this.rtl){var l=c(o[o.length-1])}if(!this.rtl){l.addClass(this.toThemeProperty("jqx-grid-group-collapse"));l.removeClass(this.toThemeProperty("jqx-grid-group-expand"));l.addClass(this.toThemeProperty("jqx-icon-arrow-right"));l.removeClass(this.toThemeProperty("jqx-icon-arrow-down"))}else{l.addClass(this.toThemeProperty("jqx-grid-group-collapse-rtl"));l.removeClass(this.toThemeProperty("jqx-grid-group-expand-rtl"));l.addClass(this.toThemeProperty("jqx-icon-arrow-left"));l.removeClass(this.toThemeProperty("jqx-icon-arrow-down"))}t.next().hide();s.next().hide();if(c.jqx.browser.msie&&c.jqx.browser.version<8){t.next().children().hide();s.next().children().hide()}this._updateScrollbars();if(this.height==="auto"||this.height===null||this.autoheight){this._arrange()}var q=this.getrowindex(a.row);var u=this.getrowdisplayindex(a.row);this._raiseEvent("rowCollapse",{row:a.row,index:u,boundIndex:q,rowKey:n})}}},_getvirtualcolumnsindexes:function(w,n,s,o,z){if(this.rowDetails||this.rtl||this.editcell||(this.width&&this.width.toString().indexOf("%")>=0)||this.exporting){return{start:0,end:s+o}}var v=0;var q=-1;var u=s+o;if(this.autorowheight){return{start:0,end:s+o}}if(!z){for(var t=0;t<s+o;t++){var a=t;if(!this.columns.records[t].hidden){v+=this.columns.records[t].width}if(v>=w&&q==-1){q=t}if(v>n+w){u=t;break}}}u++;if(u>s+o){u=s+o}if(q==-1){q=0}return{start:q,end:u}},_renderhorizontalscroll:function(){var B=this.hScrollInstance;var A=B.value;if(this.hScrollBar.css("visibility")==="hidden"){B.value=0;A=0}var M=parseInt(A);if(this.table==null){return}var E=this.columnsrow;var D=0;var L=this.columns.records.length-D;var P=this.columns.records;var J=this.source.records.length==0;if(this.rtl){if(this.hScrollBar.css("visibility")!="hidden"){M=B.max-M}}if(J&&!this._haspinned){this.table[0].style.left=-M+"px";E[0].style.marginLeft=-M+"px"}else{if(this._haspinned||this._haspinned==undefined){for(var a=0;a<D+L;a++){var O=P[a];if(O.pinned){var N=null;if(this.showAggregates){if(this.statusbar[0].cells){N=this.statusbar[0].cells[a]}}if(this.filterrow){if(this.filterrow[0].cells){filtercell=this.filterrow[0].cells[a]}}if(!this.rtl){var R=E[0].cells[a];R.style.marginLeft=M+"px";if(N){N.style.marginLeft=M+"px"}if(this.filterrow&&filtercell){filtercell.style.marginLeft=M+"px"}}else{var R=E[0].cells[a];R.style.marginLeft=-parseInt(A)+"px";if(N){N.style.marginLeft=-parseInt(A)+"px"}if(this.filterrow&&filtercell){filtercell.style.marginLeft=-parseInt(A)+"px"}}}}if(this.columnsVirtualization){var C=this._getvirtualcolumnsindexes(M,this.host.width(),0,this.columns.records.length,false);var H=C.start;var F=C.end;for(var G=0;G<H;G++){var I=G;var z=this.columns.records[I].element[0];if(this.columns.records[I].pinned){continue}if(z.parentNode){z.parentNode.removeChild(z)}if(this.filterrow&&this.filterrow[0]){var Q=this.filterrow[0].cells[I];if(Q.parentNode){Q.parentNode.removeChild(Q)}}}for(var G=F;G<this.columns.records.length;G++){var I=G;var z=this.columns.records[I].element[0];if(this.columns.records[I].pinned){continue}if(z.parentNode){z.parentNode.removeChild(z)}if(this.filterrow&&this.filterrow[0]){var Q=this.filterrow[0].cells[I];if(Q.parentNode){Q.parentNode.removeChild(Q)}}}for(var G=H;G<F;G++){var I=G;z=this.columns.records[I].element[0];if(this.columns.records[I].pinned){continue}if(!z.parentNode){this.columnsrow[0].appendChild(z)}if(this.filterrow&&this.filterrow[0]){var Q=this.filterrow[0].cells[I];if(!Q.parentNode){this.filterrow[0].appendChild(Q)}}}}this._table[0].style.left=-M+"px";E[0].style.marginLeft=-M+"px"}else{if(this._haspinned==false){if(this.columnsVirtualization){var C=this._getvirtualcolumnsindexes(M,this.host.width(),0,this.columns.records.length,false);var H=C.start;var F=C.end;for(var G=0;G<H;G++){var I=G;var z=this.columns.records[I].element[0];if(z.parentNode){z.parentNode.removeChild(z)}if(this.filterrow&&this.filterrow[0]){var Q=this.filterrow[0].cells[I];if(Q.parentNode){Q.parentNode.removeChild(Q)}}}for(var G=F;G<this.columns.records.length;G++){var I=G;var z=this.columns.records[I].element[0];if(z.parentNode){z.parentNode.removeChild(z)}if(this.filterrow&&this.filterrow[0]){var Q=this.filterrow[0].cells[I];if(Q.parentNode){Q.parentNode.removeChild(Q)}}}for(var G=H;G<F;G++){var I=G;z=this.columns.records[I].element[0];if(!z.parentNode){this.columnsrow[0].appendChild(z)}if(this.filterrow&&this.filterrow[0]){var Q=this.filterrow[0].cells[I];if(!Q.parentNode){this.filterrow[0].appendChild(Q)}}}}this.table[0].style.left=-M+"px";E[0].style.marginLeft=-M+"px"}}if(this.filterrow){this.filterrow[0].style.left=-M+"px";if(this.rtl){this.filterrow[0].style.left=-M+parseInt(this.content.css("left"))+"px"}}}if(this.showAggregates){if(this.aggregates[0].cells){var K=0;if(this.rtl){if(this.vScrollBar.css("visibility")!="hidden"){if(this.hScrollBar.css("visibility")!="hidden"){K=2+parseInt(this.hScrollBar.css("left"))}else{K=3+parseInt(this.vScrollBar.width())}}}this.aggregates[0].style.marginLeft=-M+K+"px"}}},_initializeColumns:function(){var t=this.source.datafields;if(t==null&&this.source._source){t=this.source._source.datafields}var a=t?t.length>0:false;if(this.columns&&this.columns.records){for(var s=0;s<this.columns.records.length;s++){this._removecolumnhandlers(this.columns.records[s])}}var l=this;var u=new c.jqx.dataCollection(this.element);var n=0;this._haspinned=false;if(!this._columns){this._columns=this.columns}else{this.columns=this._columns}if(this.selectionMode=="checkbox"){var q=new d(l,this);q.visibleindex=n++;q.width=l.indentWidth;q.checkboxcolumn=true;q.editable=false;q.columntype="checkbox";q.groupable=false;q.draggable=false;q.filterable=false;q.resizable=false;q.datafield="_checkboxcolumn";u.add(q)}if(this.rowDetails&&!this.treeGrid){var q=new d(l,this);q.visibleindex=n++;q.width=l.indentWidth;q.editable=false;q.rowDetailscolumn=true;q.groupable=false;q.draggable=false;q.pinned=true;q.filterable=false;q.resizable=false;q.text="";u.add(q)}var o=new Array();c.each(this.columns,function(f){if(l.columns[f]!=undefined){var e=new d(l,this);e.visibleindex=n++;if(this.dataField!=undefined){this.datafield=this.dataField}if(this.pinned){l._haspinned=true}if(this.datafield==null){if(l.source&&l.source._source&&(l.source._source.datatype=="array")){if(!a){if(!l.source._source.datafields){l.source._source.datafields=new Array();l.source._source.datafields.push({name:f.toString()})}else{l.source._source.datafields.push({name:f.toString()})}}this.datafield=f.toString();this.displayfield=f.toString();e.datafield=this.datafield;e.displayfield=this.displayfield}}else{if(o[this.datafield]){throw new Error("jqxDataTable: Invalid column 'dataField' setting. jqxDataTable's columns should be initialized with unique data fields.");l.host.remove();return false}else{o[this.datafield]=true}}u.add(e)}});if(this.rtl){u.records.reverse()}this.columns=u},addFilter:function(h,a){var f=this.getColumn(h);if(!f){return}this.dataview.addFilter(h,a)},removeFilter:function(e){var a=this.getColumn(e);if(!a){return}this.dataview.removeFilter(e)},clearFilters:function(a,e){this.dataview.filters=new Array();this.dataview._filteredData=null;this.dataview._sortData=null;this.dataview._sortHierarchyData=null;if(e!==false){this.resetfilter()}if(a===false){return}this.applyFilters()},resetfilter:function(){if(this.filterinput){this.filterinput.val("")}if(this.filterrow){for(var s=0;s<this.filterrow[0].cells.length;s++){var u=this.filterrow[0].cells[s];var t=c(u).find("input:first");var n=c(u).find(".filterconditions");var o=this.columns.records[s];var a="";if(!o.filterable){continue}t.val("");var l=this.getcolumntypebydatafield(o);var q=new c.jqx.filter();switch(l){case"number":case"int":case"float":case"decimal":filtertype="numericfilter";conditions=q.getoperatorsbyfiltertype("numericfilter");break;case"boolean":case"bool":filtertype="booleanfilter";conditions=q.getoperatorsbyfiltertype("booleanfilter");break;case"date":case"time":filtertype="datefilter";conditions=q.getoperatorsbyfiltertype("datefilter");break;case"string":filtertype="stringfilter";conditions=q.getoperatorsbyfiltertype("stringfilter");break}if(n.length>0){if(filtertype==="stringfilter"){n.jqxDropDownList({selectedIndex:2})}else{n.jqxDropDownList({selectedIndex:0})}}}}},applyFilters:function(){if(this.editable){if(this.editKey!=null){var e=this.endroweditbykey(this.editKey)}}this.dataview._filteredData=null;this.dataview._sortData=null;this.dataview._sortHierarchyData=null;if(this.serverProcessing){this.dataview.pagenum=0;this.updateBoundData("filter")}else{this.goToPage(0);this.refresh()}if(arguments&&arguments.length>0){if(this._updateSimpleFilter){if(this.filtercolumnsList){var a=this.filtercolumnsList.jqxDropDownList("getSelectedItem").value;this._updateSimpleFilter(a)}}if(this._updateFilterRow){this._updateFilterRow()}}this._raiseEvent("filter",{filters:this.dataview.filters})},sortBy:function(l,a){this.dataview._filteredData=null;this.dataview._sortData=null;this.dataview._sortHierarchyData=null;if(this._loading){throw new Error("jqxDataTable: "+this.loadingErrorMessage);return false}if(this.editable){if(this.editKey!=null){var n=this.endroweditbykey(this.editKey)}}if(l==null){a=null;l=this.sortcolumn}if(l){var h=this;if(a=="a"||a=="asc"||a=="ascending"||a==true){ascending=true}else{ascending=false}if(a!=null){h.sortdirection={ascending:ascending,descending:!ascending}}else{h.sortdirection={ascending:false,descending:false}}if(a!=null){h.sortcolumn=l}else{h.sortcolumn=null}if(h.source.sort){h.dataview.sortfield=l;if(a==null){h.dataview.sortfielddirection=""}else{h.dataview.sortfielddirection=ascending?"asc":"desc"}if(h.source.sort&&!this._loading){h.source.sort(l,a)}}h.dataview.sortBy(l,a);h._raiseEvent("sort",{sortcolumn:this.sortcolumn,sortdirection:this.sortdirection})}if(!this.serverProcessing){this.refresh()}else{this.updateBoundData("sort")}},_togglesort:function(l){var a=this;if(this.disabled){return}if(l.sortable&&a.sortable){var n={sortcolumn:this.sortcolumn,sortdirection:this.sortdirection};var h=null;if(n.sortcolumn!=null&&n.sortcolumn==l.displayfield){h=n.sortdirection.ascending;if(h==true){h=false}else{h=null}}else{h=true}a.sortBy(l.displayfield,h)}},_renderfilter:function(){var z=this;var w=c("<div style='position: relative; margin: 4px;'><input style='height: 22px; direction: ltr;' role='textbox' type='text'/><div style='cursor: pointer; height: 100%;'><div></div></div></div>");w.height(22);var q=w.find("input");var A=w.find("div:first");w.addClass(this.toThemeProperty("jqx-rc-all"));w.addClass(this.toThemeProperty("jqx-widget"));w.addClass(this.toThemeProperty("jqx-input-group"));q.addClass(this.toThemeProperty("jqx-input"));q.addClass(this.toThemeProperty("jqx-rc-l"));q.addClass(this.toThemeProperty("jqx-input-group-addon"));q.addClass(this.toThemeProperty("jqx-widget"));q.addClass(this.toThemeProperty("jqx-widget-content"));A.addClass(this.toThemeProperty("jqx-fill-state-normal"));A.addClass(this.toThemeProperty("jqx-rc-r"));A.addClass(this.toThemeProperty("jqx-input-group-addon"));A.find("div").addClass(this.toThemeProperty("jqx-icon-search"));if(this.rtl){q.addClass(this.toThemeProperty("jqx-rtl"));q.css("direction","rtl")}this.filter.children().remove();this.filterbutton=A;var D=new Array();for(var B=0;B<z.columns.records.length;B++){if(z.columns.records[B].datafield&&z.columns.records[B].filterable){D.push({label:z.columns.records[B].text,value:z.columns.records[B].displayfield})}}var a=D.length<10?true:false;var u=c("<div style='position: relative; top: 50%; display: none; margin-right: 4px; margin-left: 4px; float: left;'>"+this.gridlocalization.filtersearchstring+"</div>");this.filter.append(u);var E=c("<div class='filtercolumns' style='position: relative; margin: 4px; float: left;'></div>");this.filter.append(E);if(E.jqxDropDownList){E.jqxDropDownList({theme:this.theme,enableBrowserBoundsDetection:true,autoDropDownHeight:a,rtl:z.rtl,dropDownWidth:220,selectedIndex:0,width:"auto",height:20,source:D,displayMember:"label",valueMember:"value"})}this.filtercolumnsList=E;var s=function(h){z.filterinput.val("");for(var f=0;f<z.dataview.filters.length;f++){var e=z.dataview.filters[f];if(e.datafield===h){z.filterinput.val(e.filter.getfilterat(0).filtervalue)}}};if(z.filterHeight!==30){z.filtercolumnsList.css("margin-top",z.filterHeight/2-10);w.css("margin-top",z.filterHeight/2-10)}z._updateSimpleFilter=s;this.addHandler(E,"select",function(f){var e=f.args.item.value;s(e)});if(this.filterMode==="simple"){this.filtercolumnsList.hide();u.show();u.css("margin-top",-this.filter.height()/2);w.css("float","left")}else{this.filtercolumnsList.show();u.hide()}var t=function(){if(!A.hasClass("jqx-fill-state-disabled")){var o=q.val();if(E.jqxDropDownList){var h=E.jqxDropDownList("getSelectedItem")}var e=function(M,H,I){var G=new c.jqx.filter();var K=z.getcolumntypebydatafield(M);var J=z._getfiltertype(K);if(J=="datefilter"){var L=G.createfilter(J,H,"EQUAL",null,M.cellsFormat,z.gridlocalization)}else{if(J=="numericfilter"||J=="booleanfilter"){if(J=="numericfilter"){if(z.gridlocalization.decimalseparator==","){if(H.indexOf(z.gridlocalization.decimalseparator)>=0){H=H.replace(z.gridlocalization.decimalseparator,".")}}if(H.indexOf(z.gridlocalization.currencysymbol)>=0){H=H.replace(z.gridlocalization.currencysymbol,"")}if(H.indexOf(z.gridlocalization.percentagesymbol)>=0){H=H.replace(z.gridlocalization.percentagesymbol,"")}}var L=G.createfilter(J,H,"EQUAL",null,M.cellsFormat,z.gridlocalization)}else{var L=G.createfilter(J,H,"CONTAINS")}}G.operator=I;G.addfilter(0,L);return G};if(z.filterMode!=="simple"){if(h){var f=h.value;var l=z.getColumn(f);var n=e(l,o,"and");if(o.length>0){z.removeFilter(f);z.addFilter(f,n);z.applyFilters()}else{z.removeFilter(f);z.applyFilters()}if(z.filterMode==="advanced"){if(z._updateFilterRow){z._updateFilterRow(true)}}}}else{z.clearFilters(false,false);if(o.length>0){for(var F=0;F<z.columns.records.length;F++){var l=z.columns.records[F];var n=e(l,o,"or");z.addFilter(l.datafield,n)}}z.applyFilters()}if(z.dataview.filters.length==0){z.filtericon.fadeOut(200)}else{z.filtericon.fadeIn(200)}}};q.keydown(function(e){if(e.keyCode===13){t();if(e.preventDefault){e.preventDefault()}return false}});A.click(function(){t()});this.filterinput=q;this.filter.append(w);if(this.filterMode=="advanced"){var C=c("<a style='float: left; position: relative; margin: 2px; margin-left: 10px;' href='#'>"+this.gridlocalization.filterstring+"</a>");w.append(C);this.addHandler(C,"click",function(l){var e=function(G){if(z.filterrow){for(var n=0;n<z.filterrow[0].cells.length;n++){var H=z.filterrow[0].cells[n];var F=c(H).find("input:first");var I=z.columns.records[n];if(!I.filterable){continue}if(G===true){F.val("")}for(var o=0;o<z.dataview.filters.length;o++){var J=z.dataview.filters[o];if(J.datafield===I.displayfield){F.val(J.filter.getfilterat(0).filtervalue);break}}}}};var f=function(F){if(z.filterrow){var G=0;for(var n=0;n<z.filterrow[0].cells.length;n++){var H=z.filterrow[0].cells[n];var o=c(H).find("input:first");var I=z.columns.records[n];if(I.hidden){H.style.visibility="hidden"}else{H.style.visibility="inherit"}if(!I.filterable){continue}H.style.left=parseInt(G)+parseInt(I.uielement[0].style.left)+"px";H.style.width=6+I.width+"px";if(o[0]){o[0].style.width=I.width-6-22+"px"}}}};z._updateFilterRow=e;z._arrangeFilterRow=f;var h=function(){z.filtercolumnsList.jqxDropDownList({disabled:true});z.filterinput.addClass(z.toThemeProperty("jqx-fill-state-disabled"));z.filterinput.attr("disabled",true);z.filterbutton.addClass(z.toThemeProperty("jqx-fill-state-disabled"))};if(z.filter.find(".filterrow").length===0){z._renderadvancedfilter();h();e();z._arrange();f()}else{if(z.filter.find(".filterrow").css("display")==="none"){h();z.filter.find(".filterrow").removeClass("filterrow-hidden");e();z.filter.find(".filterrow").show();f()}else{z.filtercolumnsList.jqxDropDownList({disabled:false});z.filterinput.removeClass(z.toThemeProperty("jqx-fill-state-disabled"));z.filterinput.attr("disabled",false);z.filterbutton.removeClass(z.toThemeProperty("jqx-fill-state-disabled"));s(z.filtercolumnsList.jqxDropDownList("getSelectedItem").value);z.filter.find(".filterrow").addClass("filterrow-hidden");z.filter.find(".filterrow").hide()}z._arrange()}return false})}var v=c("<div style='float: left; width: 16px; height: 16px; position: relative; margin: 3px;'></div>");v.attr("title",z.gridlocalization.filterclearstring);v.addClass(z.toThemeProperty("jqx-icon-close"));w.append(v);v.hide();z.filtericon=v;v.click(function(){z.clearFilters();z.filtericon.fadeOut(200)});if(z.dataview.filters.length>0){if(z.filterMode!="advanced"){s(z.dataview.filters[0].datafield)}else{if(z._updateFilterRow){z._updateFilterRow()}}}},_renderadvancedfilter:function(){var l=this;var t=function(){l.clearFilters(false,false);var A=l.filtercolumnsList.jqxDropDownList("getSelectedItem").value;var h=l.filterinput.val();for(var B=0;B<l.filterrow[0].cells.length;B++){var I=l.filterrow[0].cells[B];var J=c(I).find("input:first");var f=c(I).find(".filterconditions");var C=l.columns.records[B];var D="";if(!C.filterable){continue}if(C.displayfield===A){l.filterinput.val(J.val())}var z=l.getcolumntypebydatafield(C);var E=new c.jqx.filter();switch(z){case"number":case"int":case"float":case"decimal":filtertype="numericfilter";conditions=E.getoperatorsbyfiltertype("numericfilter");break;case"boolean":case"bool":filtertype="booleanfilter";conditions=E.getoperatorsbyfiltertype("booleanfilter");break;case"date":case"time":filtertype="datefilter";conditions=E.getoperatorsbyfiltertype("datefilter");break;case"string":filtertype="stringfilter";conditions=E.getoperatorsbyfiltertype("stringfilter");break}if(f.length==0){if(filtertype==="stringfilter"){D=conditions[2]}else{D=conditions[0]}}else{var F=f.jqxDropDownList("getSelectedItem");if(F){D=conditions[F.index]}else{if(filtertype==="stringfilter"){D=conditions[2]}else{D=conditions[0]}}}var H=J.val();if(H.length>0||(H.length==0&&D=="NOT_NULL")||(H.length==0&&D=="NOT_EMPTY")||(H.length==0&&D=="EMPTY")||(H.length==0&&D=="NULL")){var e=C.displayfield;var G=new c.jqx.filter();if(filtertype=="numericfilter"){if(l.gridlocalization.decimalseparator==","){if(H.indexOf(l.gridlocalization.decimalseparator)>=0){H=H.replace(l.gridlocalization.decimalseparator,".")}}if(H.indexOf(l.gridlocalization.currencysymbol)>=0){H=H.replace(l.gridlocalization.currencysymbol,"")}if(H.indexOf(l.gridlocalization.percentagesymbol)>=0){H=H.replace(l.gridlocalization.percentagesymbol,"")}}var E=G.createfilter(filtertype,H,D,null,C.cellsFormat,l.gridlocalization);G.addfilter(0,E);l.addFilter(e,G)}}if(l.dataview.filters.length>0){l.applyFilters()}else{l.clearFilters()}if(l.dataview.filters.length==0){l.filtericon.fadeOut(200)}else{l.filtericon.fadeIn(200)}};var q=function(){var e=c("<div style='position: relative;' class='filterrow'></div>").appendTo(l.filter);l.filterrow=e;e[0].cells=new Array();e.height(24);e.width(l.table.width());var h=0;var u=l.filtercolumnsList.jqxDropDownList("getSelectedItem").value;var f=l.filterinput.val();c.each(l.columns.records,function(){var w=this;var A=c("<div></div>").appendTo(e);A.css("position","absolute");A.css("left",h+parseInt(w.uielement[0].style.left));if(w.pinned){A.css("z-index",l.tableZIndex+l.columns.records.length);A.addClass(l.toThemeProperty("jqx-widget-header"))}e[0].cells.push(A[0]);if(!this.filterable){return true}var z=c("<input style='margin-left: 4px; height: 20px; float: left;' role='textbox' type='text'/>").appendTo(A);z.keydown(function(B){if(B.keyCode===13){t()}});if(w.displayfield===u){z.val(f)}z.addClass(l.toThemeProperty("jqx-input"));z.addClass(l.toThemeProperty("jqx-rc-all"));z.addClass(l.toThemeProperty("jqx-widget"));z.addClass(l.toThemeProperty("jqx-widget-content"));var v=c("<div style='cursor: pointer; margin-left: 4px; margin-bottom: 4px; margin-top: 6px; width: 18px; position: relative; margin-top: 4px; float: left;'></div>").appendTo(A);v.append(c("<div style='width: 16px; height: 16px;' class='"+l.toThemeProperty("jqx-grid-column-filterbutton")+"'></div>"));z.focus(function(){l.ensureColumnVisible(w.displayfield);l.filter[0].scrollLeft=0;l.ensureColumnVisible(w.displayfield);setTimeout(function(){l.filter[0].scrollLeft=0;l.ensureColumnVisible(w.displayfield)},10)});v.click(function(){var B=c("<div class='filterconditions' style='position: relative; margin-top: 1px; float: left;'></div>");B.insertAfter(v);v.remove();var D=l.getcolumntypebydatafield(w);var C=l._getfiltersbytype(D);if(D==="string"){index=2}else{index=0}B.jqxDropDownList({theme:l.theme,enableBrowserBoundsDetection:true,renderMode:"simple",arrowSize:0,selectedIndex:index,rtl:l.rtl,dropDownWidth:230,dropDownHeight:180,width:20,height:20,source:C,selectionRenderer:function(){return"<div style='width: 16px; height: 16px;' class='"+l.toThemeProperty("jqx-grid-column-filterbutton")+"'></div>"}});l.addHandler(B,"close",function(E){z.focus();setTimeout(function(){z.focus()},10)});B.removeAttr("tabindex");B.find("div").removeAttr("tabindex");B.jqxDropDownList("open")});z[0].style.width=w.width-6-22+"px"});c("<div style='clear: both;'></div>").appendTo(e)};q();var a=c("<div style='position:relative;' class='filterrow'></div>").appendTo(l.filter);var o=c("<input type='button' style='position: relative; float: left; margin-top: 4px; margin-left: 4px;' value='"+l.gridlocalization.filterapplystring+"'/>").appendTo(a);var n=c("<input type='button' style='position: relative; float: left; margin-top: 4px;  margin-left: 4px;' value='"+l.gridlocalization.filtercancelstring+"'/>").appendTo(a);var s=0;o.css("left",s);n.css("left",s);o.jqxButton({theme:l.theme});n.jqxButton({theme:l.theme});n.click(function(){l.filtercolumnsList.jqxDropDownList({disabled:false});l.filterinput.removeClass(l.toThemeProperty("jqx-fill-state-disabled"));l.filterinput.attr("disabled",false);l.filterbutton.removeClass(l.toThemeProperty("jqx-fill-state-disabled"));l.filter.find(".filterrow").addClass("filterrow-hidden");l.filter.find(".filterrow").hide();l._arrange()});o.click(function(){t()});l._renderhorizontalscroll()},_getfiltertype:function(e){var a="stringfilter";switch(e){case"number":case"int":case"float":case"decimal":a="numericfilter";break;case"boolean":case"bool":a="booleanfilter";break;case"date":case"time":a="datefilter";break;case"string":a="stringfilter";break}return a},getcolumntypebydatafield:function(l){var h=this;var n="string";var o=h.source.datafields||((h.source._source)?h.source._source.datafields:null);if(o){var a="";c.each(o,function(){if(this.name==l.displayfield){if(this.type){a=this.type}return false}});if(a){return a}}return n},_getfiltersbytype:function(h){var f=this;var a="";switch(h){case"number":case"float":case"int":a=f.gridlocalization.filternumericcomparisonoperators;break;case"date":a=f.gridlocalization.filterdatecomparisonoperators;break;case"boolean":case"bool":a=f.gridlocalization.filterbooleancomparisonoperators;break;case"string":default:a=f.gridlocalization.filterstringcomparisonoperators;break}return a},_getcellvalue:function(h,a){var f=null;f=a[h.datafield];if(h.displayfield!=null){f=a[h.displayfield]}if(f==null){f=""}return f},_renderrows:function(aG){if(this.editable){if(this.editKey!=null){if(aG!==false){var aK=this.endroweditbykey(this.editKey)}}}if(this.treeGrid){this.treeGrid._renderrows();return}if(this._loading){return}if(this._updating){return}if(this.rendering){this.rendering()}var a8=this;var ax=0;this.table[0].rows=new Array();var aU=this.toTP("jqx-cell")+" "+this.toTP("jqx-widget-content");if(this.rtl){aU+=" "+this.toTP("jqx-cell-rtl")}var aO=this.columns.records.length;var aI=c.jqx.browser.msie&&c.jqx.browser.version<8;if(aI){this.host.attr("hideFocus","true")}var aA=a8.groups.length;var aT=new Array();var bn=this.source.records;bn=this.dataview.evaluate(bn);this.dataViewRecords=bn;if(this.dataview.pagesize=="all"||!this.pageable||this.serverProcessing){var be=bn;if(this.pageable&&this.serverProcessing&&bn.length>this.dataview.pagesize){var be=bn.slice(this.dataview.pagesize*this.dataview.pagenum,this.dataview.pagesize*this.dataview.pagenum+this.dataview.pagesize)}}else{var be=bn.slice(this.dataview.pagesize*this.dataview.pagenum,this.dataview.pagesize*this.dataview.pagenum+this.dataview.pagesize)}if(a8.groups&&a8.groups.length>0){var aE=this.pageable?this.dataview.pagesize*this.dataview.pagenum:0;var ba=function(e){var n=0;var h=new Array();for(var l=0;l<e.length;l++){var f=e[l];if(f.level==0){n++}if(n>a8.dataview.pagesize*a8.dataview.pagenum&&n<=a8.dataview.pagesize*a8.dataview.pagenum+a8.dataview.pagesize){h.push(f)}if(n>a8.dataview.pagesize*a8.dataview.pagenum+a8.dataview.pagesize){break}}return h};if(this.pageSizeMode==="root"){var bd=a8.source.getGroupedRecords(a8.groups,"records","label",null,"data",null,"parent",bn,0);a8.rootRecordsLength=bd.length;bd=ba(bd)}else{var bd=a8.source.getGroupedRecords(a8.groups,"records","label",null,"data",null,"parent",be,aE)}var bb=function(f,e){for(var l=0;l<f.length;l++){var o=f[l];e.push(o);if(o.records&&o.records.length>0){var h=bb(o.records,new Array());for(var n=0;n<h.length;n++){if(h[n].leaf){e.push(h[n])}else{e.push(h[n])}}}}return e};var aT=bb.call(a8,bd,new Array());be=aT;this.rowsByKey=new Array();for(var aM=0;aM<be.length;aM++){var aW=be[aM];this.rowsByKey[aW.uid]=aW}}var aT=be;this.renderedRecords=aT;var aw=aT.length;var av=this.tableZIndex;var aD=0;var a9=0;if(aI){for(var aN=0;aN<aO;aN++){var a=this.columns.records[aN];var br=a.width;if(br<a.minwidth){br=a.minwidth}if(br>a.maxwidth){br=a.maxwidth}var bm=c('<table><tr><td role="gridcell" style="max-width: '+br+"px; width:"+br+'px;" class="'+aU+'"></td></tr></table>');c(document.body).append(bm);var bk=bm.find("td");aD=1+parseInt(bk.css("padding-left"))+parseInt(bk.css("padding-right"));bm.remove();break}}var aQ=this.rtl?" "+this.toTP("jqx-grid-table-rtl"):"";var a6="<table cellspacing='0' cellpadding='0' class='"+this.toTP("jqx-grid-table")+aQ+"' id='table"+this.element.id+"'><colgroup>";var aC="<table cellspacing='0' cellpadding='0' class='"+this.toTP("jqx-grid-table")+aQ+"' id='pinnedtable"+this.element.id+"'><colgroup>";var aS=0;var bf=aO;for(var aN=0;aN<aO;aN++){var a=this.columns.records[aN];if(a.hidden){aS++;bf--;continue}var br=a.width;if(br<a.minwidth){br=a.minwidth}if(br>a.maxwidth){br=a.maxwidth}br-=aD;if(br<0){br=0}if(aI){var a5=br;if(aN==aS){a5++}if(a.rowDetailscolumn){var a5=a5+4;aC+="<col style='max-width: "+a5+"px; width: "+a5+"px;'>";a6+="<col style='max-width: "+a5+"px; width: "+a5+"px;'>"}else{aC+="<col style='max-width: "+a5+"px; width: "+a5+"px;'>";a6+="<col style='max-width: "+a5+"px; width: "+a5+"px;'>"}}else{aC+="<col style='max-width: "+br+"px; width: "+br+"px;'>";a6+="<col style='max-width: "+br+"px; width: "+br+"px;'>"}a9+=br}a6+="</colgroup>";aC+="</colgroup>";this._hiddencolumns=false;var bp=false;if(this.rowDetails&&this._pinnedTable){this._pinnedTable.find("[data-role=details]").detach();this._table.find("[data-role=details]").detach()}if(aw===0){var bj='<tr role="row">';var bl=this.host.height();if(this.pageable){bl-=this.pagerHeight;if(this.pagerPosition==="both"){bl-=this.pagerHeight}}bl-=this.columnsHeight;if(this.filterable){var aY=this.filter.find(".filterrow");var a2=this.filter.find(".filterrow-hidden");var a4=1;if(a2.length>0){a4=0}bl-=this.filterHeight+this.filterHeight*aY.length*a4}if(this.showstatusbar){bl-=this.statusBarHeight}if(this.showAggregates){bl-=this.aggregatesHeight}if(bl<25){bl=25}if(this.hScrollBar[0].style.visibility!="hidden"){bl-=this.hScrollBar.outerHeight()}if(this.height==="auto"||this.height===null||this.autoheight){bl=300}var bm='<td colspan="'+this.columns.records.length+'" role="gridcell" style="border: none; min-height: '+bl+"px; height: "+bl+"px; max-width:"+a9+"px; width:"+a9+"px;";var aU=this.toTP("jqx-cell")+" "+this.toTP("jqx-grid-cell")+" "+this.toTP("jqx-item");aU+=" "+this.toTP("jqx-center-align");bm+='" class="'+aU+'">';bm+=this.gridlocalization.emptydatastring;bm+="</td>";bj+=bm;a6+=bj;aC+=bj;this.table[0].style.width=a9+2+"px";ax=a9}var bh=this.getRows();var bc=new Array();for(var aM=0;aM<aT.length;aM++){var aW=aT[aM];var aL=aW.uid;if(undefined===aW.uid){aW.uid=this.dataview.generatekey()}var bj='<tr data-key="'+aL+'" role="row" id="row'+aM+this.element.id+'">';var a0='<tr data-key="'+aL+'" role="row" id="row'+aM+this.element.id+'">';if(aA>0){if(aW.level<aA){var bj='<tr data-role="row-group" data-key="'+aL+'" role="row" id="row'+aM+this.element.id+'">';var a0='<tr data-role="row-group" data-key="'+aL+'" role="row" id="row'+aM+this.element.id+'">'}}var bi=0;var az=0;for(var aN=0;aN<aO;aN++){var a1=this.columns.records[aN];if(a1.pinned||(this.rtl&&this.columns.records[aO-1].pinned)){bp=true}var br=a1.width;if(br<a1.minwidth){br=a1.minwidth}if(br>a1.maxwidth){br=a1.maxwidth}br-=aD;if(br<0){br=0}var aU=this.toTP("jqx-cell")+" "+this.toTP("jqx-grid-cell")+" "+this.toTP("jqx-item");if(a1.pinned){aU+=" "+this.toTP("jqx-grid-cell-pinned")}if(this.sortcolumn===a1.displayfield){aU+=" "+this.toTP("jqx-grid-cell-sort")}if(this.altRows&&aM%2!=0){aU+=" "+this.toTP("jqx-grid-cell-alt")}if(this.rtl){aU+=" "+this.toTP("jqx-cell-rtl")}var aF="";if(aA>0){if(aW.level<aA){if(!aI){aU+=" "+this.toTP("jqx-grid-cell-pinned");aF+=' colspan="'+aO+'"';var a5=0;for(var a3=0;a3<aO;a3++){var ay=a8.columns.records[a3];var a7=ay.width;if(a7<ay.minwidth){br=ay.minwidth}if(a7>ay.maxwidth){br=ay.maxwidth}a7-=aD;if(a7<0){a7=0}if(!ay.hidden){a5+=a7}}br=a5}else{aU+=" "+this.toTP("jqx-grid-cell-pinned")}}}var bm='<td role="gridcell" '+aF+' style="max-width:'+br+"px; width:"+br+"px;";var aZ='<td role="gridcell" '+aF+' style="pointer-events: none; visibility: hidden; border-color: transparent; max-width:'+br+"px; width:"+br+"px;";if(aN==aO-1&&aO==1){bm+="border-right-color: transparent;";aZ+="border-right-color: transparent;"}var t=false;if(aA>0){if(aW.level<aA){t=true}}if(!t){if(a1.cellsalign!="left"){if(a1.cellsalign==="right"){aU+=" "+this.toTP("jqx-right-align")}else{aU+=" "+this.toTP("jqx-center-align")}}}else{if(this.rtl){aU+=" "+this.toTP("jqx-right-align")}}if(this.rowinfo[aW.uid]){if(this.rowinfo[aW.uid].selected&&!a1.rowDetailscolumn){if(this.editKey!==aW.uid){if(this.selectionMode!=="none"){aU+=" "+this.toTP("jqx-grid-cell-selected");aU+=" "+this.toTP("jqx-fill-state-pressed")}}}if(this.rowinfo[aW.uid].locked){aU+=" "+this.toTP("jqx-grid-cell-locked")}}if(!(a1.hidden)){bi+=aD+br;if(az==0){bm+="border-left-width: 0px;";aZ+="border-left-width: 0px;"}az++}else{if(!t){bm+="display: none;";aZ+="display: none;";this._hiddencolumns=true}}if(aA>0&&aI&&t&&aN>=aA){bm+="font-size: 1px; border-color: transparent;  color: transparent;";aZ+="font-size: 1px; border-color: transparent; color: transparent;"}if(a1.pinned){bm+="pointer-events: auto;";aZ+="pointer-events: auto;"}if(!t&&a1.rowDetailscolumn){if(this.rowinfo[aW.uid]){if(!this.rowinfo[aW.uid].nodetails){if(this.rowinfo[aW.uid].expanded){if(!this.rtl){aU+=" "+this.toTP("jqx-grid-group-expand")}else{aU+=" "+this.toTP("jqx-grid-group-expand-rtl")}aU+=" "+this.toTP("jqx-icon-arrow-down")}else{if(!this.rtl){aU+=" "+this.toTP("jqx-grid-group-collapse");aU+=" "+this.toTP("jqx-icon-arrow-right")}else{aU+=" "+this.toTP("jqx-grid-group-collapse-rtl");aU+=" "+this.toTP("jqx-icon-arrow-left")}}}}else{if(!this.rtl){aU+=" "+this.toTP("jqx-grid-group-collapse");aU+=" "+this.toTP("jqx-icon-arrow-right")}else{aU+=" "+this.toTP("jqx-grid-group-collapse-rtl");aU+=" "+this.toTP("jqx-icon-arrow-left")}}}if(!this.autoRowHeight||(this.autoRowHeight&&!a1.autoCellHeight)){aU+=" "+this.toTP("jqx-grid-cell-nowrap ")}var aR=a8._getcellvalue(a1,aW);var bq=a1.cellsFormat;if(aA>0){if(aW.level<aA){aR=aW.label;bq=a8.getColumn(a8.groups[aW.level]).cellsFormat}}if(bq!=""){if(c.jqx.dataFormat){if(c.jqx.dataFormat.isDate(aR)){aR=c.jqx.dataFormat.formatdate(aR,bq,a8.gridlocalization)}else{if(c.jqx.dataFormat.isNumber(aR)||(!isNaN(parseFloat(aR))&&isFinite(aR))){aR=c.jqx.dataFormat.formatnumber(aR,bq,a8.gridlocalization)}}}}if(!t){if(a1.cellclassname!=""&&a1.cellclassname){if(typeof a1.cellclassname=="string"){aU+=" "+a1.cellclassname}else{var bg=a1.cellclassname(aM,a1.datafield,aR,aW);if(bg){aU+=" "+bg}}}if(a1.cellsRenderer!=""&&a1.cellsRenderer){var bs=bh.indexOf(aW);if(bs===-1){if(aW.originalRecord){var bs=bh.indexOf(aW.originalRecord)}}aR=a1.cellsRenderer(bs,a1.datafield,aR,aW);if(aR&&(aR.indexOf("<jqx-")>=0||aR.indexOf(" ng-")>=0)){bc.push({rowKey:aW.uid,row:bs,column:a1.datafield,value:aR,columnIndex:aN})}}}else{if(this.groupsRenderer){aR=this.groupsRenderer(aR,aW,aW.level)}}bm+='" class="'+aU+'">';bm+=aR;bm+="</td>";aZ+='" class="'+aU+'">';aZ+=aR;aZ+="</td>";if(!a1.pinned){bj+=bm;if(bp){a0+=aZ}}else{a0+=bm;bj+=bm}if(aA>0&&!aI){if(aW.level<aA){break}}}if(ax==0){this.table[0].style.width=bi+2+"px";ax=bi}bj+="</tr>";a0+="</tr>";a6+=bj;aC+=a0;if(!this.rowinfo[aW.uid]){this.rowinfo[aW.uid]={group:t,row:aW,details:null,detailsHeight:200,initialized:false,expanded:false}}else{if(!("group" in this.rowinfo[aW.uid])){this.rowinfo[aW.uid].group=t}if(!("row" in this.rowinfo[aW.uid])){this.rowinfo[aW.uid].row=aW}if(!("details" in this.rowinfo[aW.uid])){this.rowinfo[aW.uid].details=null}if(!("detailsHeight" in this.rowinfo[aW.uid])){this.rowinfo[aW.uid].detailsHeight=200}if(!("initialized" in this.rowinfo[aW.uid])){this.rowinfo[aW.uid].initialized=false}if(!("expanded" in this.rowinfo[aW.uid])){this.rowinfo[aW.uid].expanded=false}}if(this.serverProcessing){this.rowinfo[aW.uid].row=aW}if(this.rowDetails){var aX=this.rowinfo[aW.uid].detailsHeight;if(this.rowinfo[aW.uid]){if(this.rowinfo[aW.uid].expanded){var aV='<tr data-role="row-details"><td valign="top" style="pointer-events: auto; overflow: hidden; min-height: '+aX+"px; max-height: "+aX+"px; height: "+aX+'px; overflow: hidden; border-left: none; border-right: none;" colspan="'+this.columns.records.length+'" role="gridcell"'}else{var aV='<tr data-role="row-details" style="display: none;"><td valign="top" style="pointer-events: auto; overflow: hidden; min-height: '+aX+"px; max-height: "+aX+"px; height: "+aX+'px; overflow: hidden; border-left: none; border-right: none;" colspan="'+this.columns.records.length+'" role="gridcell"'}}else{var aV='<tr data-role="row-details" style="display: none;"><td valign="top" style="pointer-events: auto; overflow: hidden; min-height: '+aX+"px; max-height: "+aX+"px; height: "+aX+'px; overflow: hidden; border-left: none; border-right: none;" colspan="'+this.columns.records.length+'" role="gridcell"'}var aU=this.toTP("jqx-cell")+" "+this.toTP("jqx-grid-cell")+" "+this.toTP("jqx-item");aU+=" "+this.toTP("jqx-details");aU+=" "+this.toTP("jqx-reset");aV+='" class="'+aU+'"><div style="pointer-events: auto; overflow: hidden; min-height: '+aX+"px; max-height: "+aX+"px; height: "+aX+'px;"><div data-role="details"></div></div></td></tr>';a6+=aV;aC+=aV}}a6+="</table>";aC+="</table>";if(bp){if(a8.WinJS){MSApp.execUnsafeLocalFunction(function(){a8.table.html(aC+a6)})}else{a8.table[0].innerHTML=aC+a6}var au=this.table.find("#table"+this.element.id);var w=this.table.find("#pinnedtable"+this.element.id);w.css("float","left");w.css("pointer-events","none");au.css("float","left");w[0].style.position="absolute";au[0].style.position="relative";au[0].style.zIndex=av-10;w[0].style.zIndex=av+10;this._table=au;this._table[0].style.left="0px";this._pinnedTable=w;this._pinnedTable[0].style.left="0px";this._pinnedTable[0].style.width=ax+"px";this._table[0].style.width=ax+"px";if(this.rtl){if(ax>parseInt(this.element.style.width)&&this._haspinned){this._pinnedTable[0].style.left=3-ax+parseInt(this.element.style.width)+"px"}}if(this.rowDetails){for(var aM=0;aM<aw;aM++){var aW=aT[aM];var aL=aW.uid;if(this.rowinfo[aL].details){var aH=c(this._table.children()[1]).children(("[data-key="+aL+"]"));var aB=c(this._pinnedTable.children()[1]).children(("[data-key="+aL+"]"));if(aH){var bo=aB.next();var aP=c(c(bo).children().children());aP.children().detach();aP.append(this.rowinfo[aW.uid].details)}}}}}else{if(a8.WinJS){MSApp.execUnsafeLocalFunction(function(){a8.table.html(a6)})}else{a8.table[0].innerHTML=a6}var a3=this.table.find("#table"+this.element.id);this._table=a3;if(c.jqx.browser.msie&&c.jqx.browser.version<10){this._table[0].style.width=ax+"px"}if(aw===0){this._table[0].style.width=(2+ax)+"px"}}if(aw===0){this._table[0].style.tableLayout="auto";if(this._pinnedTable){this._pinnedTable[0].style.tableLayout="auto"}}if(bc&&bc.length>0){var aJ=this._table[0].rows;c.each(bc,function(){var e=this.row;var o=this.rowKey;var f=this.column;var l=this.columnIndex;var h=a8._getuirow(o);if(h){var n=h[0].cells[l];if(c.jqx.angularCompile){c.jqx.angularCompile(n,"<div>"+n.innerHTML+"</div>")}}})}if(this.rendered){this.rendered()}},getcolumnindex:function(h){var f=this.getColumn(h);var a=this.columns.records.indexOf(f);return a},setcolumnindex:function(A,u,t){var v=this.getColumn(A);if(v.pinned){return}if(v.hidden){return}if(v.checkboxcolumn){return}if(v.grouped){return}var q=this.columns.records.indexOf(v);this.columns.records.splice(q,1);this.columns.records.splice(u,0,v);var z=0;var a=this.headerZIndex;this.columnsrow.children().detach();var s=this.toThemeProperty("jqx-grid-cell");s+=" "+this.toThemeProperty("jqx-grid-cell-pinned");s+=" "+this.toThemeProperty("jqx-item");var o=this;var C=null;if(o.filterrow!=undefined){var C=c(o.filterrow.children()[0])}this.columnsrow[0].cells=[];var w=false;c.each(this.columns.records,function(l,e){var h=this.uielement;o.columnsrow.append(h);if(!o.rtl){h.css("z-index",a--)}else{h.css("z-index",a++)}var n=!o.rtl?250+a-1:250+a+1;if(this.pinned){h.css("z-index",n)}var f=this.width;h.css("left",z);o.columnsrow[0].cells[o.columnsrow[0].cells.length]=h[0];if(this.hidden){w=true}if(!(this.hidden&&this.hideable)){z+=f}});if(this.groupable){var B=this.groups.length;if(B>0){if(q-B>=0){q-=B;u-=B}}}if(this.rowDetails){if(q-1>=0){q--;u--}}if(this.selectionMode=="checkbox"){if(q-1>=0){q--;u--}}var v=this._columns[q];this._columns.splice(q,1);this._columns.splice(u,0,v);this.resize();this._rendercolumnGroups();this._raiseEvent("columnReordered",{dataField:v.datafield,oldIndex:q,newIndex:u})},_pinnedColumnsLength:function(){var a=0;c.each(this.columns.records,function(){if(this.pinned){a++}if(this.grouped){a++}});if(this.rowDetails){a++}if(this.selectionMode=="checkbox"){a++}return a},_handlecolumnsReorder:function(){var n=this;var l=-1;var s=false;if(!n.columnsReorder){return}var o="mousemove.reorder"+this.element.id;var q="mousedown.reorder"+this.element.id;var a="mouseup.reorder"+this.element.id;var t=false;if(this.isTouchDevice()&&this.touchmode!==true){t=true;o=c.jqx.mobile.getTouchEventName("touchmove")+".reorder"+this.element.id;q=c.jqx.mobile.getTouchEventName("touchstart")+".reorder"+this.element.id;a=c.jqx.mobile.getTouchEventName("touchend")+".reorder"+this.element.id}this.removeHandler(c(document),o);this.addHandler(c(document),o,function(h){if(n.resizing){return true}if(n.reordercolumn!=null){var O=parseInt(h.pageX);var E=parseInt(h.pageY);if(t){var F=n.getTouches(h);var L=F[0];if(L!=undefined){O=parseInt(L.pageX);E=parseInt(L.pageY)}}var R=n.host.coord();var C=parseInt(R.left);var Q=parseInt(R.top);if(n.dragmousedownoffset==undefined||n.dragmousedownoffset==null){n.dragmousedownoffset={left:0,top:0}}var I=parseInt(O)-parseInt(n.dragmousedownoffset.left);var G=parseInt(E)-parseInt(n.dragmousedownoffset.top);n.reordercolumn.css({left:I+"px",top:G+"px"});s=false;if(O>=C&&O<=C+n.host.width()){if(E>=Q&&E<=Q+n.host.height()){s=true}}l=-1;if(s){n.reordercolumnicon.removeClass(n.toThemeProperty("jqx-grid-dragcancel-icon"));n.reordercolumnicon.addClass(n.toThemeProperty("jqx-grid-drag-icon"));var N=n.columnsheader.coord();var J=N.top+n.columnsheader.height();if(n.columnsdropline!=null){if(E>=N.top&&E<=J){l=n._handlereordercolumnsdroplines(O);if(n.columnGroups){if(l!=-1){var P=0;P+=n._pinnedColumnsLength();var M=l.index;if(M>=P){var f=n.columns.records[M];if(f!=undefined){var D=n.columns.records.indexOf(n.getColumn(f.datafield));if(f.datafield==null){var D=n.columns.records.indexOf(n.getcolumnbytext(f.text))}var H=c.data(n.reordercolumn[0],"reorderrecord");var K=n.columns.records.indexOf(n.getColumn(H));var e=f;if(K<D){if(l.position=="before"){e=n.columns.records[D-1]}}if(e.columngroup!=n.getColumn(H).columngroup){n.columnsdropline.hide();return}}}}}}else{n.columnsdropline.fadeOut("slow")}}}else{if(n.columnsdropline!=null){n.columnsdropline.fadeOut("slow")}n.reordercolumnicon.removeClass(n.toThemeProperty("jqx-grid-drag-icon"));n.reordercolumnicon.addClass(n.toThemeProperty("jqx-grid-dragcancel-icon"))}if(h.preventDefault){h.preventDefault();h.stopPropagation()}if(t){h.preventDefault();h.stopPropagation();return false}}});this.columnsbounds=new Array();this.removeHandler(c(document),q);this.addHandler(c(document),q,function(h){if(n.resizing){return true}n.columnsbounds=new Array();var e=n.host.coord().left;var f=n.host.coord().top;if(n.showtoolbar){f+=n.toolbarHeight}if(n.filter){f+=n.filter.height()}var u=0;c.each(n.columns.records,function(w){var v=this;if(v.hidden){n.columnsbounds[n.columnsbounds.length]={top:f,column:v,left:e,width:0,height:2};return true}if(u==0){if(!n.rtl){e=parseInt(n.host.coord().left)-n.hScrollInstance.value}else{e=parseInt(n.host.coord().left)-n.hScrollInstance.max+n.hScrollInstance.value}}u++;var z=2+n.columnsHeight;if(n.columnshierarchy){f=c(v.uielement).coord().top;z=c(v.uielement).height()}n.columnsbounds[n.columnsbounds.length]={top:f,column:v,left:e,width:v.width,height:z};e+=v.width})});this.removeHandler(c(document),a);this.addHandler(c(document),a,function(E){if(n.resizing){return true}n.__drag=false;c(document.body).removeClass("jqx-disableselect");var C=parseInt(E.pageX);var J=parseInt(E.pageY);if(t){var z=n.getTouches(E);var A=z[0];C=parseInt(A.pageX);J=parseInt(A.pageY)}var B=n.host.coord();var H=parseInt(B.left);var G=parseInt(B.top);if(n.showtoolbar){G+=n.toolbarHeight}n.columndragstarted=false;n.dragmousedown=null;if(n.reordercolumn!=null){var D=c.data(n.reordercolumn[0],"reorderrecord");var F=n.columns.records.indexOf(n.getColumn(D));n.reordercolumn.remove();n.reordercolumn=null;var h=0;h+=n._pinnedColumnsLength();if(D!=null){if(s){if(l!=-1){var f=l.index;if(f>=h){var K=n.columns.records[f];if(K!=undefined){var I=n.columns.records.indexOf(n.getColumn(K.datafield));if(K.datafield==null){var I=n.columns.records.indexOf(n.getcolumnbytext(K.text))}if(n.columnGroups){var e=K;if(F<I){if(l.position=="before"){e=n.columns.records[I-1]}}if(e.columngroup!=n.getColumn(D).columngroup){if(n.columnsdropline!=null){n.columnsdropline.remove();n.columnsdropline=null}return}}if(F<I){if(l.position=="before"){n.setcolumnindex(D,I-1)}else{n.setcolumnindex(D,I)}}else{if(F>I){n.setcolumnindex(D,I)}}}}}}if(n.columnsdropline!=null){n.columnsdropline.remove();n.columnsdropline=null}}}})},getcolumnbytext:function(a){var e=null;if(this.columns.records){c.each(this.columns.records,function(){if(this.text==a){e=this;return false}})}return e},_handlereordercolumnsdroplines:function(a){var t=this;var l=-1;var q=t._pinnedColumnsLength();var n=parseInt(t.host.coord().left);var s=n+t.host.width();var o=t.vScrollBar.css("visibility")!="hidden"?19:0;if(!t.rtl){o=0}c.each(t.columnsbounds,function(e){if(e>=q){if(this.width==0){return true}if(a<=this.left+this.width/2){if(a>s){t.columnsdropline.fadeOut();return false}t.columnsdropline.css("left",o+parseInt(this.left)+"px");t.columnsdropline.css("top",parseInt(this.top)+"px");t.columnsdropline.height(this.height);t.columnsdropline.fadeIn("slow");l={index:e,position:"before"};return false}else{if(a>=this.left+this.width/2){if(this.left+this.width>s){t.columnsdropline.fadeOut();return false}t.columnsdropline.css("left",o+1+this.left+this.width);t.columnsdropline.css("top",this.top);t.columnsdropline.height(this.height);t.columnsdropline.fadeIn("slow");l={index:e,position:"after"}}}}});return l},_createreordercolumn:function(u,s,n){var o=this;var q=s;if(o.reordercolumn){o.reordercolumn.remove()}if(o.columnsdropline){o.columnsdropline.remove()}o.reordercolumn=c("<div></div>");var a=u.clone();o.reordercolumn.css("z-index",999999);a.css("border-width","1px");a.css("opacity","0.4");var l=c(a.find("."+o.toThemeProperty("jqx-grid-column-menubutton")));if(l.length>0){l.css("display","none")}var v=c(a.find(".jqx-icon-close"));if(v.length>0){v.css("display","none")}o.reordercolumnicon=c('<div style="z-index: 9999; position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -7px;"></div>');o.reordercolumnicon.addClass(o.toThemeProperty("jqx-grid-drag-icon"));o.reordercolumn.css("float","left");o.reordercolumn.css("position","absolute");var t=o.host.coord();a.width(u.width()+16);o.reordercolumn.append(a);o.reordercolumn.height(u.height());o.reordercolumn.width(a.width());o.reordercolumn.append(o.reordercolumnicon);c(document.body).append(o.reordercolumn);a.css("margin-left",0);a.css("left",0);a.css("top",0);o.reordercolumn.css("left",q.left+o.dragmousedown.left);o.reordercolumn.css("top",q.top+o.dragmousedown.top);if(n!=undefined&&n){o.columnsdropline=c('<div style="z-index: 9999; display: none; position: absolute;"></div>');o.columnsdropline.width(2);o.columnsdropline.addClass(o.toThemeProperty("jqx-grid-group-drag-line"));c(document.body).append(o.columnsdropline)}},_handlecolumnsdragreorder:function(q,l){if(this.reordercolumn){this.reordercolumn.remove()}if(this.columnsdropline){this.columnsdropline.remove()}this.dragmousedown=null;this.dragmousedownoffset=null;this.columndragstarted=false;this.reordercolumn=null;var a=this;var n;var s=false;if(this.isTouchDevice()&&this.touchmode!==true){s=true}var o="mousedown.drag";var n="mousemove.drag";if(s){o=c.jqx.mobile.getTouchEventName("touchstart")+".drag";n=c.jqx.mobile.getTouchEventName("touchmove")+".drag"}else{this.addHandler(l,"dragstart",function(e){return false})}this.addHandler(l,o,function(h){if(false==q.draggable){return true}if(a.resizing){return true}a.__drag=true;var t=h.pageX;var u=h.pageY;if(s){var f=a.getTouches(h);var v=f[0];t=v.pageX;u=v.pageY}a.dragmousedown={left:t,top:u};var e=c(h.target).coord();a.dragmousedownoffset={left:parseInt(t)-parseInt(e.left),top:parseInt(u-e.top)};if(h.preventDefault){h.preventDefault()}return true});this.addHandler(l,n,function(h){if(!q.draggable){return true}if(undefined==q.datafield){return true}if(q.pinned){return true}if(a.resizing){return true}if(a.dragmousedown){var t=h.pageX;var u=h.pageY;if(s){var e=a.getTouches(h);var v=e[0];if(v!=undefined){t=v.pageX;u=v.pageY}}n={left:t,top:u};if(!a.columndragstarted&&a.reordercolumn==null){var f=Math.abs(n.left-a.dragmousedown.left);var w=Math.abs(n.top-a.dragmousedown.top);if(f>3||w>3){a._createreordercolumn(l,n,true);c(document.body).addClass("jqx-disableselect");c.data(a.reordercolumn[0],"reorderrecord",q.datafield)}}}})},getTouches:function(a){return c.jqx.mobile.getTouches(a)},_handlecolumnsResize:function(){var n=this;if(this.columnsResize){var a=false;if(n.isTouchDevice()){a=true}var q="mousemove.resize"+this.element.id;var u="mousedown.resize"+this.element.id;var t="mouseup.resize"+this.element.id;if(a){var q=c.jqx.mobile.getTouchEventName("touchmove")+".resize"+this.element.id;var u=c.jqx.mobile.getTouchEventName("touchstart")+".resize"+this.element.id;var t=c.jqx.mobile.getTouchEventName("touchend")+".resize"+this.element.id}this.removeHandler(c(document),q);this.addHandler(c(document),q,function(A){if(n.resizablecolumn!=null&&!n.disabled&&n.resizing){if(n.resizeline!=null){var H=n.resizablecolumn.columnelement;var h=n.host.coord();var E=parseInt(n.resizestartline.coord().left);var C=E-n._startcolumnwidth;var D=n.resizablecolumn.column.minwidth;if(D=="auto"){D=0}else{D=parseInt(D)}var B=n.resizablecolumn.column.maxwidth;if(B=="auto"){B=0}else{B=parseInt(B)}var f=A.pageX;if(a){var G=c.jqx.mobile.getTouches(A);var e=G[0];f=e.pageX}C+=D;var F=B>0?E+B:0;var z=B==0?true:n._startcolumnwidth+f-E<B?true:false;if(n.rtl){var z=true}if(z){if(!n.rtl){if(f>=h.left&&f>=C){if(F!=0&&A.pageX<F){n.resizeline.css("left",f)}else{if(F==0){n.resizeline.css("left",f)}}if(a){return false}}}else{if(f>=h.left&&f<=h.left+n.host.width()){n.resizeline.css("left",f);if(a){return false}}}}}}if(!a&&n.resizablecolumn!=null){return false}});this.removeHandler(c(document),u);this.addHandler(c(document),u,function(e){if(n.resizablecolumn!=null&&!n.disabled){var f=n.resizablecolumn.columnelement;if(f.coord().top+f.height()+5<e.pageY){n.resizablecolumn=null;return}if(f.coord().top-5>e.pageY){n.resizablecolumn=null;return}n._startcolumnwidth=n.resizablecolumn.column.width;n.resizablecolumn.column._width=null;c(document.body).addClass("jqx-disableselect");c(document.body).addClass("jqx-position-reset");n._mouseDownResize=new Date();n.resizing=true;n._resizecolumn=n.resizablecolumn.column;n.resizeline=n.resizeline||c('<div style="position: absolute;"></div>');n.resizestartline=n.resizestartline||c('<div style="position: absolute;"></div>');n.resizebackground=n.resizebackground||c('<div style="position: absolute; left: 0; top: 0; background: #000;"></div>');n.resizebackground.css("opacity",0.01);n.resizebackground.css("cursor","col-resize");n.resizeline.css("cursor","col-resize");n.resizestartline.css("cursor","col-resize");n.resizeline.addClass(n.toThemeProperty("jqx-grid-column-resizeline"));n.resizestartline.addClass(n.toThemeProperty("jqx-grid-column-resizestartline"));c(document.body).append(n.resizeline);c(document.body).append(n.resizestartline);c(document.body).append(n.resizebackground);var w=n.resizablecolumn.columnelement.coord();n.resizebackground.css("left",n.host.coord().left);n.resizebackground.css("top",n.host.coord().top);n.resizebackground.width(n.host.width());n.resizebackground.height(n.host.height());n.resizebackground.css("z-index",999999999);var h=function(E){if(!n.rtl){E.css("left",parseInt(w.left)+n._startcolumnwidth)}else{E.css("left",parseInt(w.left))}var C=0;var B=n.showtoolbar?n.toolbarHeight:0;C+=B;var z=n.showstatusbar?n.statusBarHeight:0;C+=z;var D=n.showAggregates?n.aggregatesHeight:0;C+=D;if(n.pageable&&n.pagerPosition!="bottom"){C+=n.pagerHeight}if(n.filterable){C+=n.filter.height()}var F=0;if(n.pageable&&n.pagerPosition!="top"){F=n.pagerHeight}var A=n.hScrollBar.css("visibility")!="hidden"?n.scrollBarSize:0;E.css("top",parseInt(w.top));E.css("z-index",9999999999);if(n.columnGroups){E.height(n.host.height()+n.resizablecolumn.columnelement.height()-F-C-A-n.columnGroupslevel*n.columnsHeight)}else{E.height(n.host.height()-F-C-A)}E.show("fast")};h(n.resizeline);h(n.resizestartline);n.dragmousedown=null}});var s=function(){c(document.body).removeClass("jqx-disableselect");c(document.body).removeClass("jqx-position-reset");if(!n.resizing){return}n._mouseUpResize=new Date();var C=n._mouseUpResize-n._mouseDownResize;if(C<200){n.resizing=false;if(n._resizecolumn!=null&&n.resizeline!=null&&n.resizeline.css("display")=="block"){n._resizecolumn=null;n.resizeline.hide();n.resizestartline.hide();n.resizebackground.remove()}return}n.resizing=false;if(n.disabled){return}var z=n.host.width();if(n.vScrollBar[0].style.visibility!="hidden"){z-=20}if(z<0){z=0}if(n._resizecolumn!=null&&n.resizeline!=null&&n.resizeline.css("display")=="block"){var B=parseInt(n.resizeline.css("left"));var w=parseInt(n.resizestartline.css("left"));var D=n._startcolumnwidth+B-w;if(n.rtl){var D=n._startcolumnwidth-B+w}var e=n._resizecolumn.width;n._resizecolumn.width=D;if(n._resizecolumn._percentagewidth!=undefined){n._resizecolumn._percentagewidth=(D/z)*100}for(var f=0;f<n._columns.length;f++){if(n._columns[f].datafield===n._resizecolumn.datafield){n._columns[f].width=n._resizecolumn.width;break}}var A=n.hScrollBar[0].style.visibility;var h=n._resizecolumn.displayfield;n._updatecolumnwidths();n.refresh();n._resizecolumn=null;n.resizeline.hide();n.resizestartline.hide();n.resizebackground.remove();n.resizablecolumn=null;n._raiseEvent("columnResized",{dataField:h,oldWidth:e,newWidth:D})}else{n.resizablecolumn=null}};try{if(document.referrer!=""||window.frameElement){var v=null;if(window.top!=null&&window.top!=window.self){if(window.parent&&document.referrer){v=document.referrer}}if(v&&v.indexOf(document.location.host)!=-1){var o=function(e){s()};if(window.top.document.addEventListener){window.top.document.addEventListener("mouseup",o,false)}else{if(window.top.document.attachEvent){window.top.document.attachEvent("onmouseup",o)}}}}}catch(l){}this.removeHandler(c(document),t);this.addHandler(c(document),t,function(e){var f=c.data(document.body,"contextmenu"+n.element.id);if(f!=null&&n.autoshowcolumnsmenubutton){return true}s()})}},_updatecolumnwidths:function(){var a=this.host.width();var v=a;if(this.vScrollBar.css("visibility")!=="hidden"){a-=parseInt(this.scrollBarSize)+6;v=a}var l="";if(this.columns==undefined||this.columns.records==undefined){return}var n=this;var o=false;c.each(this.columns.records,function(f,e){if(!(this.hidden)){if(this.width.toString().indexOf("%")!=-1||this._percentagewidth!=undefined){var e=0;var h=n.vScrollBar[0].style.visibility=="hidden"?0:n.scrollBarSize+5;e=parseFloat(this.width)*v/100;if(this._percentagewidth!=undefined){e=parseFloat(this._percentagewidth)*(v)/100}if(e<this.minwidth&&this.minwidth!="auto"){e=this.minwidth}if(e>this.maxwidth&&this.maxwidth!="auto"){e=this.maxwidth}a-=Math.round(e)}else{if(this.width!="auto"&&!this._width){a-=this.width}else{l+=this.text}}}});var s=this.columnsheader.find("#columntable"+this.element.id);if(s.length==0){return}var u=0;var q=s.find(".jqx-grid-column-header");var t=0;c.each(this.columns.records,function(e,w){var B=c(q[e]);var f=false;var z=this.width;var A=this.width;if(this.width.toString().indexOf("%")!=-1||this._percentagewidth!=undefined){if(this._percentagewidth!=undefined){z=parseFloat(this._percentagewidth)*v/100}else{z=parseFloat(this.width)*v/100}z=Math.round(z);f=true}if(this.width!="auto"&&!this._width&&!f){if(parseInt(B[0].style.width)!=this.width){B.width(this.width)}}else{if(f){if(z<this.minwidth&&this.minwidth!="auto"){z=this.minwidth;this.width=z}if(z>this.maxwidth&&this.maxwidth!="auto"){z=this.maxwidth;this.width=z}if(parseInt(B[0].style.width)!=z){B.width(z);this.width=z}}else{var C=Math.floor(a*(this.text.length/l.length));if(isNaN(C)){C=this.minwidth}var h=(a*(this.text.length/l.length))-C;u+=h;if(u>=1){u-=1;C++}if(u>=0.5&&e==n.columns.records.length-1){C++}if(C<0){$element=c("<span>"+this.text+"</span>");c(document.body).append($element);C=10+$element.width();$element.remove()}if(C<this.minwidth){C=this.minwidth}if(C>this.maxwidth){C=this.maxwidth}this._width="auto";this.width=C;B.width(this.width)}}if(parseInt(B[0].style.left)!=t){B.css("left",t)}if(!(this.hidden)){t+=this.width}this._requirewidthupdate=true;if(A!==this.width){o=true}});this.columnsheader.width(2+t);s.width(this.columnsheader.width());this._resizecolumnGroups();if(o){this._renderrows()}if(this.showAggregates){this._refreshcolumnsaggregates()}},_rendercolumnheaders:function(){var a=this;if(this._updating){return}this._columnsbydatafield=new Array();this.columnsheader.find("#columntable"+this.element.id).remove();var F=c('<div id="columntable'+this.element.id+'" style="height: 100%; position: relative;"></div>');F[0].cells=new Array();var D=0;var E=0;var O="";var M=this.host.width();var G=M;var K=new Array();var N=new Array();c.each(this.columns.records,function(f,e){if(!(this.hidden)){if(this.width!="auto"&&!this._width){if(this.width<this.minwidth&&this.minwidth!="auto"){M-=this.minwidth}else{if(this.width>this.maxwidth&&this.maxwidth!="auto"){M-=this.maxwidth}else{if(this.width.toString().indexOf("%")!=-1){var e=0;e=parseFloat(this.width)*G/100;if(e<this.minwidth&&this.minwidth!="auto"){e=this.minwidth}if(e>this.maxwidth&&this.maxwidth!="auto"){e=this.maxwidth}M-=e}else{if(typeof this.width=="string"){this.width=parseInt(this.width)}M-=this.width}}}}else{O+=this.text}}if(this.pinned||this.grouped||this.checkboxcolumn){if(a._haspinned){this.pinned=true}K[K.length]=this}else{N[N.length]=this}});if(!this.rtl){for(var A=0;A<K.length;A++){this.columns.replace(A,K[A])}for(var C=0;C<N.length;C++){this.columns.replace(K.length+C,N[C])}}else{var H=0;K.reverse();for(var A=this.columns.records.length-1;A>=this.columns.records.length-K.length;A--){this.columns.replace(A,K[H++])}for(var C=0;C<N.length;C++){this.columns.replace(C,N[C])}}var L=this.headerZIndex;var I=0;var B=a.columnsHeight;var z=function(f,e){var h=a.columnGroupslevel*a.columnsHeight;h=h-(e.level*a.columnsHeight);return h};var J=0;c.each(this.columns.records,function(q,u){this.height=a.columnsHeight;if(a.columnGroups){if(a.columnGroups.length){this.height=z(this.datafield,this);B=this.height}}var f=a.toTP("jqx-grid-column-header")+" "+a.toTP("jqx-widget-header");if(a.rtl){f+=" "+a.toTP("jqx-grid-column-header-rtl")}if(!a.enableBrowserSelection){f+=" "+a.toTP("jqx-disableselect")}var l=!self.rtl?250+L-1:250+L+1;var w=!a.rtl?L--:L++;var t=c('<div role="columnheader" style="z-index: '+w+';position: absolute; height: 100%;" class="'+f+'"><div style="height: 100%; width: 100%;"></div></div>');if(a.rtl&&q===0){t[0].style.borderLeftColor="transparent"}if(a.columnGroups){t[0].style.height=B+"px";t[0].style.bottom="0px";if(this.pinned){t[0].style.zIndex=l}}this.uielement=t;this.element=t;if(this.classname!=""&&this.classname){t.addClass(this.classname)}var R=this.width;var Q=false;if(this.width===null){this.width="auto"}if(this.width.toString().indexOf("%")!=-1||this._percentagewidth!=undefined){if(this._percentagewidth!=undefined){R=parseFloat(this._percentagewidth)*G/100}else{R=parseFloat(this.width)*G/100}R=Math.round(R);Q=true}if(this.width!="auto"&&!this._width&&!Q){if(R<this.minwidth&&this.minwidth!="auto"){R=this.minwidth}if(R>this.maxwidth&&this.maxwidth!="auto"){R=this.maxwidth}t[0].style.width=parseInt(R)+"px"}else{if(Q){if(R<this.minwidth&&this.minwidth!="auto"){R=this.minwidth}if(R>this.maxwidth&&this.maxwidth!="auto"){R=this.maxwidth}if(this._percentagewidth==undefined||this.width.toString().indexOf("%")!=-1){this._percentagewidth=this.width}t.width(R);this.width=R}else{var v=Math.floor(M*(this.text.length/O.length));var P=(M*(this.text.length/O.length))-v;J+=P;if(J>=1){J-=1;v++}if(J>=0.5&&q==a.columns.records.length-1){v++}if(isNaN(v)){v=this.minwidth}if(v<0){$element=c("<span>"+this.text+"</span>");c(document.body).append($element);v=10+$element.width();$element.remove()}if(v<this.minwidth){v=this.minwidth}if(v>this.maxwidth){v=this.maxwidth}this._width="auto";this.width=parseInt(v);R=this.width;t.width(this.width)}}if(this.hidden){t.css("display","none")}var V=c(t.children()[0]);F[0].cells[q]=t[0];var U=false;var s=false;var n=this.renderer!=null?this.renderer(this.text,this.align,B):a._rendercolumnheader(this.text,this.align,B,a);if(n==null){n=a._rendercolumnheader(this.text,this.align,B,a)}if(this.renderer!=null){n=c(n)}U=true;if(a.WinJS){MSApp.execUnsafeLocalFunction(function(){V.append(c(n))})}else{if(this.renderer){V.append(c(n))}else{if(n){V[0].innerHTML=n}}}if(n!=null){var S=c('<div class="iconscontainer" style="height: '+B+'px; margin-left: -32px; display: block; position: absolute; left: 100%; top: 0%; width: 32px;"><div class="filtericon '+a.toTP("jqx-widget-header")+'" style="height: '+B+'px; float: right; display: none; width: 16px;"><div class="'+a.toTP("jqx-grid-column-filterbutton")+'" style="width: 100%; height:100%;"></div></div><div class="sortasc '+a.toTP("jqx-widget-header")+'" style="height: '+B+'px; float: right; display: none; width: 16px;"><div class="'+a.toTP("jqx-grid-column-sortascbutton")+'" style="width: 100%; height:100%;"></div></div><div class="sortdesc '+a.toTP("jqx-widget-header")+'" style="height: '+B+'px; float: right; display: none; width: 16px;"><div class="'+a.toTP("jqx-grid-column-sortdescbutton")+'" style="width: 100%; height:100%;"></div></div></div>');V.append(S);var e=S.children();this.sortasc=e[1];this.sortdesc=e[2];this.filtericon=e[0];this.iconscontainer=S;if(a.rtl){S.css("margin-left","0px");S.css("left","0px");c(this.sortasc).css("float","left");c(this.filtericon).css("float","left");c(this.sortdesc).css("float","left")}}F.append(t);if(a.columnsReorder&&this.draggable&&a._handlecolumnsdragreorder){a._handlecolumnsdragreorder(this,t)}var h=this;a.addHandler(t,"click",function(X){if(h.checkboxcolumn){return true}if(a._togglesort){if(!a._loading){a._togglesort(h)}}X.preventDefault()});if(a.columnsResize&&!s){var o=false;var W="mousemove";if(a.isTouchDevice()){o=true;W=c.jqx.mobile.getTouchEventName("touchstart")}a.addHandler(t,W,function(ad){if(!h.resizable){a.resizablecolumn=null;return true}var Z=parseInt(ad.pageX);var ab=5;var X=parseInt(t.coord().left);if(a.hasTransform){X=c.jqx.utilities.getOffset(t).left}if(a._handlecolumnsResize){if(o){var ac=c.jqx.mobile.getTouches(ad);var Y=ac[0];Z=Y.pageX;ab=40;if(Z>=X+h.width-ab){a.resizablecolumn={columnelement:t,column:h};t.css("cursor","col-resize")}else{t.css("cursor","");a.resizablecolumn=null}return true}var aa=h.width;if(a.rtl){aa=0}if(Z>=X+aa-ab){if(Z<=X+aa+ab){a.resizablecolumn={columnelement:t,column:h};t.css("cursor","col-resize");return false}else{t.css("cursor","");a.resizablecolumn=null}}else{t.css("cursor","");if(Z<X+aa-ab){if(!h._animating&&!h._menuvisible){t.mouseenter()}}a.resizablecolumn=null}}})}t.css("left",E);if(!(this.hidden)){E+=R}if(h.rendered){var T=h.rendered(c(V[0].firstChild),h.align,B);if(T&&S!=null){S.hide()}}});if(E>0){this.columnsheader.width(2+E)}else{this.columnsheader.width(E)}this.columnsrow=F;a.columnsheader.append(F);F.width(E);if(this._handlecolumnsdragdrop){this._handlecolumnsdragdrop()}if(this._handlecolumnsReorder){this._handlecolumnsReorder()}if(this._handlecolumnsResize){this._handlecolumnsResize()}if(this.columnGroups){this._rendercolumnGroups()}},_rendercolumnGroups:function(){if(!this.columnGroups){return}var w=0;for(var B=0;B<this.columns.records.length;B++){if(this.columns.records[B].pinned){w++}}var J=this.headerZIndex-w+this.columns.records.length;var z=this;var E=z.toTP("jqx-grid-column-header")+" "+z.toTP("jqx-grid-columngroup-header")+" "+z.toTP("jqx-widget-header");if(z.rtl){E+=" "+z.toTP("jqx-grid-columngroup-header-rtl")}var G=this.columnsheader.find("#columntable"+this.element.id);G.find("jqx-grid-columngroup-header").remove();for(var D=0;D<this.columnGroupslevel-1;D++){for(var B=0;B<this.columnGroups.length;B++){var u=this.columnGroups[B];var I=u.level;if(I!==D){continue}var v=I*this.columnsHeight;var H=99999;if(u.groups){var K=function(e){var f=0;for(var h=0;h<e.groups.length;h++){var l=e.groups[h];if(!l.groups){if(!l.hidden){f+=l.width;H=Math.min(parseInt(l.element[0].style.left),H)}}else{f+=K(l)}}return f};u.width=K(u);u.left=H;var a=this.columnsHeight;var A=J--;var F=c('<div role="columnheader" style="z-index: '+A+';position: absolute;" class="'+E+'"></div>');var C=c(this._rendercolumnheader(u.text,u.align,this.columnsHeight,this));F.append(C);F[0].style.left=H+"px";if(H===0){F[0].style.borderLeftColor="transparent"}F[0].style.top=v+"px";F[0].style.height=a+"px";F[0].style.width=-1+u.width+"px";G.append(F);u.element=F}}}},_resizecolumnGroups:function(){if(!this.columnGroups){return}for(var t=0;t<this.columnGroups.length;t++){var l=this.columnGroups[t];var a=l.level;var n=a*this.columnsHeight;var o=99999;if(l.groups){var q=function(v){var e=0;for(var f=0;f<v.groups.length;f++){var h=v.groups[f];if(!h.groups){if(!h.hidden){e+=h.width;o=Math.min(parseInt(h.element[0].style.left),o)}}else{e+=q(h)}}return e};l.width=q(l);l.left=o;var u=this.columnsHeight;var s=l.element;s[0].style.left=o+"px";s[0].style.top=n+"px";s[0].style.height=u+"px";s[0].style.width=-1+l.width+"px"}}},_removecolumnhandlers:function(a){var l=this;var n=c(a.element);if(n.length>0){l.removeHandler(n,"mouseenter");l.removeHandler(n,"mouseleave");var h=c(a.filtericon);l.removeHandler(h,"mousedown");l.removeHandler(h,"click");l.removeHandler(n,"click")}},_calculateaggregate:function(B,v,H,D){if(!B.datafield){return null}var G=B.aggregates;if(!G){G=v}if(G){var F=new Array();for(var w=0;w<G.length;w++){if(G[w]=="count"){continue}F[F.length]=B.cellsFormat}if(this.source&&this.source.getAggregatedData){if(D==undefined){D=this.getRows();if(this.dataViewRecords){D=this.dataViewRecords}}var J=D;var I=-1;if(this.treeGrid){var t=new Array();var a=function(e){for(var f=0;f<e.length;f++){if(e[f]==undefined){continue}if(I==-1){I=e[f].level}if(!e[f].aggregate){t.push(e[f])}if(!e[f].leaf&&e[f].records&&e[f].records.length>0){a(e[f].records)}}};a(D);D=t}if(this.treeGrid&&this.filterable&&this.dataview.filters.length>0){var u=new Array();for(var w=0;w<D.length;w++){if(D[w]&&D[w]._visible!==false){u.push(D[w])}}D=u;var A=new Array();for(var w=0;w<J.length;w++){if(J[w]&&J[w]._visible!==false){A.push(J[w])}}J=A}if(H==undefined||H==true){var z=this.source.getAggregatedData([{name:B.datafield,aggregates:G,formatStrings:F}],this.gridlocalization,D,I);if(this.treeGrid){var E=this.source._source.hierarchy&&this.source._source.hierarchy.groupingDataFields?this.source._source.hierarchy.groupingDataFields.length:0;if(E==0||I>=E){if(z){if(z[B.datafield].sum!=undefined||z[B.datafield].avg!=undefined){var C=this.source.getAggregatedData([{name:B.datafield,aggregates:G,formatStrings:F}],this.gridlocalization,J,I);if(z[B.datafield].sum!=undefined){z[B.datafield].sum=C[B.datafield].sum}if(z[B.datafield].avg!=undefined){z[B.datafield].avg=C[B.datafield].avg}}}}}return z}else{var z=this.source.getAggregatedData([{name:B.datafield,aggregates:G}],this.gridlocalization,D,I);if(this.treeGrid&&z){if(z[B.datafield].sum!=undefined||z[B.datafield].avg!=undefined){var E=this.source._source.hierarchy&&this.source._source.hierarchy.groupingDataFields?this.source._source.hierarchy.groupingDataFields.length:0;if(E==0||I>=E){var C=this.source.getAggregatedData([{name:B.datafield,aggregates:G}],this.gridlocalization,J,I);if(z[B.datafield].sum!=undefined){z[B.datafield].sum=C[B.datafield].sum}if(z[B.datafield].avg!=undefined){z[B.datafield].avg=C[B.datafield].avg}}}}return z}}}return null},getcolumnaggregateddata:function(u,o,n,t){var s=this.getColumn(u);if(!s){return""}var a=(n==undefined||n==false)?false:n;if(o==null){return""}var v=s.aggregates;s.aggregates=null;var l=this._calculateaggregate(s,o,a,t);var q={};if(l){q=l[u];s.aggregates=v}return q},_updatecolumnaggregates:function(o,a,s){var n=this;if(!a){s.children().remove();s.html("");if(o.aggregatesRenderer){var l={};if(o.aggregates){l=this.getcolumnaggregateddata(o.datafield,o.aggregates)}var q=o.aggregatesRenderer({},o,s,null);s.html(q)}return}s.children().remove();s.html("");if(o.aggregatesRenderer){if(a){var q=o.aggregatesRenderer(a[o.datafield],o,s,this.getcolumnaggregateddata(o.datafield,o.aggregates),"aggregates");s.html(q)}}else{c.each(a,function(){var f=this;for(l in f){var e=c('<div style="position: relative; margin: 4px; overflow: hidden;"></div>');var h=l;h=n._getaggregatename(h);e.html(h+":"+f[l]);if(n.rtl){e.addClass(n.toThemeProperty("jqx-rtl"))}s.append(e)}})}},_getaggregatetype:function(f){switch(f){case"min":case"max":case"count":case"avg":case"product":case"var":case"varp":case"stdev":case"stdevp":case"sum":return f}var h=f;for(var a in f){h=a;break}return h},_getaggregatename:function(f){var h=f;switch(f){case"min":h="Min";break;case"max":h="Max";break;case"count":h="Count";break;case"avg":h="Avg";break;case"product":h="Product";break;case"var":h="Var";break;case"stdevp":h="StDevP";break;case"stdev":h="StDev";break;case"varp":h="VarP";case"sum":h="Sum";break}if(f===h&&typeof(h)!="string"){for(var a in f){h=a;break}}return h},_updatecolumnsaggregates:function(){var l=this.getRows();if(this.dataViewRecords){l=this.dataViewRecords}var s=this.columns.records.length;if(undefined!=this.aggregates[0].cells){for(var n=0;n<s;n++){var a=c(this.aggregates[0].cells[n]);var o=this.columns.records[n];var q=this._calculateaggregate(o,null,true,l);this._updatecolumnaggregates(o,q,a)}}},_refreshcolumnsaggregates:function(){var o=this.columns.records.length;if(undefined!=this.aggregates[0].cells){var h=0;for(var l=0;l<o;l++){var a=c(this.aggregates[0].cells[l]);var n=this.columns.records[l];if(a){a.width(n.width);a[0].style.left=h+"px";if(!(n.hidden&&n.hideable)){h+=n.width}else{a.css("display","none")}}}}},_updateaggregates:function(){var D=c('<div style="position: relative;" id="statusrow'+this.element.id+'"></div>');var A=0;var s=this.columns.records.length;var t=this.toThemeProperty("jqx-grid-cell");if(this.rtl){t+=" "+this.toThemeProperty("jqx-grid-cell-rtl");A=0;D.css("border-left-width","0px");this.aggregates.css("border-left-color","transparent")}t+=" "+this.toThemeProperty("jqx-grid-cell-pinned");var q=s+10;var a=new Array();this.aggregates[0].cells=a;for(var w=0;w<s;w++){var z=this.columns.records[w];var v=this._calculateaggregate(z);var C=z.width;if(C<z.minwidth){C=z.minwidth}if(C>z.maxwidth){C=z.maxwidth}var B=t;if(z.cellsalign){B+=" "+this.toThemeProperty("jqx-"+z.cellsalign+"-align")}var u=c('<div style="overflow: hidden; position: absolute; height: 100%;" class="'+B+'"></div>');D.append(u);u.css("left",A);if(!this.rtl){u.css("z-index",q--)}else{u.css("z-index",q++);if(w==0){u.css("border-left-width","0px")}}u.width(C);u[0].style.left=A+"px";if(!(z.hidden&&z.hideable)){A+=C}else{u.css("display","none")}a[a.length]=u[0];this._updatecolumnaggregates(z,v,u)}if(c.jqx.browser.msie&&c.jqx.browser.version<8){D.css("z-index",q--)}D.width(parseInt(A)+2);D.height(this.aggregatesHeight);this.aggregates.children().remove();this.aggregates.append(D);this.aggregates.removeClass(this.toThemeProperty("jqx-widget-header"));this.aggregates.addClass(t);this.aggregates.css("border-bottom-color","transparent");this.aggregates.css("border-top-width","1px");if(this.rtl&&this.hScrollBar.css("visibility")!="hidden"){this._renderhorizontalscroll()}},destroy:function(){var q=this;if(q.columns&&q.columns.records){for(var t=0;t<q.columns.records.length;t++){q._removecolumnhandlers(q.columns.records[t])}}q.removeHandler(c(document),"mouseup.pagerbuttonstop");q.removeHandler(c(document),"mouseup.pagerbuttonsbottom");q.removeHandler(q.content,"scroll");q.removeHandler(q.content,"mousedown");q.removeHandler(c(document),"mousedown.gridedit"+q.element.id);var s="mousemove.resize"+q.element.id;var w="mousedown.resize"+q.element.id;var u="mouseup.resize"+q.element.id;q.removeHandler(c(document),s);q.removeHandler(c(document),w);q.removeHandler(c(document),u);var s="mousemove.reorder"+q.element.id;var w="mousedown.reorder"+q.element.id;var u="mouseup.reorder"+q.element.id;q.removeHandler(c(document),s);q.removeHandler(c(document),w);q.removeHandler(c(document),u);if(q.filterable){if(q.filterrow){for(var t=0;t<q.filterrow[0].cells.length;t++){var n=q.filterrow[0].cells[t];var o=c(n).find(".filterconditions");var v=q.columns.records[t];if(o.length>0){o.jqxDropDownList("destroy")}}}if(q.filtercolumnsList){q.filtercolumnsList.jqxDropDownList("destroy")}}if(q.pageable){if(q.pagershowrowscombotop&&q.pagershowrowscombotop.jqxDropDownList){q.pagershowrowscombotop.jqxDropDownList("destroy")}if(q.pagershowrowscombobottom&&q.pagershowrowscombobottom.jqxDropDownList){q.pagershowrowscombobottom.jqxDropDownList("destroy")}var a=q.pagerbuttonsbottom.find("a");q.removeHandler(a,"click");q.removeHandler(a,"mouseenter");q.removeHandler(a,"mouseleave");a.remove();var a=q.pagerbuttonstop.find("a");q.removeHandler(a,"click");q.removeHandler(a,"mouseenter");q.removeHandler(a,"mouseleave");a.remove();if(q.pagernexttop){q.pagernexttop.jqxButton("destroy");q.pagerprevioustop.jqxButton("destroy");q.pagernextbottom.jqxButton("destroy");q.pagerpreviousbottom.jqxButton("destroy");q.pagerfirsttop.jqxButton("destroy");q.pagerfirstbottom.jqxButton("destroy");q.pagerlasttop.jqxButton("destroy");q.pagerlastbottom.jqxButton("destroy")}}q._removeHandlers();q.vScrollBar.jqxScrollBar("destroy");q.hScrollBar.jqxScrollBar("destroy");delete q.vScrollBar;delete q.hScrollBar;delete q._mousewheelfunc;c.jqx.utilities.resize(q.host,null,true);q.host.remove()},propertyChangedHandler:function(v,n,w,o){if(this.isInitialized==undefined||this.isInitialized==false){return}if(o!==w){if(n=="filterable"){v._render()}else{if(n==="height"){v.host.height(v.height);v.host.width(v.width);v._updatesize(false,true)}else{if(n==="width"){v.host.height(v.height);v.host.width(v.width);v._updatesize(true,false)}else{if(n==="source"){v.updateBoundData()}else{if(n==="columns"||n==="columnGroups"){v._columns=null;v._render()}else{if(n==="rtl"){v.content.css("left","");v.columns=v._columns;v.vScrollBar.jqxScrollBar({rtl:o});v.hScrollBar.jqxScrollBar({rtl:o});v._render()}else{if(n==="pagerMode"){v.pagerMode=o;v._initpager()}else{if(n=="pageSizeOptions"){v._initpager();var q=false;for(var u=0;u<o.length;u++){if(parseInt(o[u])==v.pageSize){q=true;break}}if(!q){c.jqx.set(v,[{pageSize:o[0]}])}}else{if(n=="pageSize"){var t=v.dataview.pagenum*v.dataview.pagesize;v.dataview.pagesize=v.pageSize;var s=Math.floor(t/v.dataview.pagesize);if(s!==v.dataview.pagenum||parseInt(o)!==parseInt(w)){v._raiseEvent("pageSizeChanged",{pagenum:o,oldpageSize:w,pageSize:v.dataview.pagesize});var a=v.goToPage(s);if(!a){if(!v.serverProcessing){v.refresh()}else{v.updateBoundData("pager")}}}}else{if(n==="pagerPosition"){v.refresh()}else{if(n==="selectionMode"){v.selectionMode=o.toLowerCase()}else{if(n=="touchmode"){v._removeHandlers();v.touchDevice=null;v.vScrollBar.jqxScrollBar({touchMode:o});v.hScrollBar.jqxScrollBar({touchMode:o});v.refresh();v._addHandlers()}else{if(n=="enableHover"){return}else{if(n=="disabled"){if(o){v.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"))}else{v.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled"))}if(v.pageable){if(v.pagernexttop){v.pagernexttop.jqxButton({disabled:o});v.pagerprevioustop.jqxButton({disabled:o});v.pagernextbottom.jqxButton({disabled:o});v.pagerpreviousbottom.jqxButton({disabled:o});v.pagerfirsttop.jqxButton({disabled:o});v.pagerfirstbottom.jqxButton({disabled:o});v.pagerlasttop.jqxButton({disabled:o});v.pagerlastbottom.jqxButton({disabled:o});if(v.pagershowrowscombotop.jqxDropDownList){if(v.pagerMode=="advanced"){v.pagershowrowscombotop.jqxDropDownList({disabled:false});v.pagershowrowscombobottom.jqxDropDownList({disabled:false})}}}v.host.find(".jqx-grid-pager-number").css("cursor",o?"default":"pointer")}v.host.find(".jqx-grid-group-collapse").css("cursor",o?"default":"pointer");v.host.find(".jqx-grid-group-expand").css("cursor",o?"default":"pointer")}else{if(n=="columnsHeight"){v._render()}else{if(n=="theme"){c.jqx.utilities.setTheme(w,o,v.host);v.vScrollBar.jqxScrollBar({theme:v.theme});v.hScrollBar.jqxScrollBar({theme:v.theme});if(v.pageable&&v.pagernexttop){v.pagernexttop.jqxButton({theme:v.theme});v.pagerprevioustop.jqxButton({theme:v.theme});v.pagernextbottom.jqxButton({theme:v.theme});v.pagerpreviousbottom.jqxButton({theme:v.theme});v.pagerfirsttop.jqxButton({theme:v.theme});v.pagerfirstbottom.jqxButton({theme:v.theme});v.pagerlasttop.jqxButton({theme:v.theme});v.pagerlastbottom.jqxButton({theme:v.theme});if(v.pagershowrowscombotop.jqxDropDownList){if(v.pagerMode=="advanced"){v.pagershowrowscombotop.jqxDropDownList({theme:v.theme});v.pagershowrowscombobottom.jqxDropDownList({theme:v.theme})}}}if(v.filterable){var z=c(".filterconditions");if(z.length>0){z.jqxDropDownList({theme:v.theme})}if(v.filtercolumnsList){v.filtercolumnsList.jqxDropDownList({theme:v.theme})}}v.refresh()}else{v.refresh()}}}}}}}}}}}}}}}}}},_rendercolumnheader:function(h,a,o,n){var l="4px";if(n.columnGroups){l=(o/2-this._columnheight/2);if(l<0){l=4}l+="px"}else{if(this.columnsHeight!=25){l=(this.columnsHeight/2-this._columnheight/2);if(l<0){l=4}l+="px"}}return'<div style="overflow: hidden; text-overflow: ellipsis; text-align: '+a+"; margin-left: 4px; margin-right: 4px; margin-bottom: "+l+"; margin-top: "+l+';"><span style="text-overflow: ellipsis; cursor: default;">'+h+"</span></div>"}});function d(e,a){this.owner=e;this.datafield=null;this.displayfield=null;this.text="";this.sortable=true;this.editable=true;this.hidden=false;this.hideable=true;this.groupable=true;this.renderer=null;this.cellsRenderer=null;this.columntype=null;this.cellsFormat="";this.align="left";this.cellsalign="left";this.width="auto";this.minwidth=25;this.maxwidth="auto";this.pinned=false;this.visibleindex=-1;this.filterable=true;this.filter=null;this.resizable=true;this.draggable=true;this.initeditor=null;this.createeditor=null;this.destroyeditor=null;this.geteditorvalue=null;this.autoCellHeight=true;this.validation=null;this.classname="";this.cellclassname="";this.aggregates=null;this.aggregatesRenderer=null;this.rendered=null;this.exportable=true;this.nullable=true;this.columngroup=null;this.columntype="textbox";this.getcolumnproperties=function(){return{nullable:this.nullable,sortable:this.sortable,hidden:this.hidden,groupable:this.groupable,width:this.width,align:this.align,editable:this.editable,minwidth:this.minwidth,maxwidth:this.maxwidth,resizable:this.resizable,datafield:this.datafield,text:this.text,exportable:this.exportable,cellsalign:this.cellsalign,pinned:this.pinned,cellsFormat:this.cellsFormat,columntype:this.columntype,classname:this.classname,cellclassname:this.cellclassname,menu:this.menu}},this.setproperty=function(n,l){if(this[n]){var h=this[n];this[n]=l;this.owner._columnPropertyChanged(this,n,l,h)}else{if(this[n.toLowerCase()]){var h=this[n.toLowerCase()];this[n.toLowerCase()]=l;this.owner._columnPropertyChanged(this,n.toLowerCase(),l,h)}}};this._initfields=function(l){if(l!=null){var n=this;if(c.jqx.hasProperty(l,"dataField")){this.datafield=c.jqx.get(l,"dataField")}if(c.jqx.hasProperty(l,"displayField")){this.displayfield=c.jqx.get(l,"displayField")}else{this.displayfield=this.datafield}if(c.jqx.hasProperty(l,"columnType")){this.columntype=c.jqx.get(l,"columnType")}if(c.jqx.hasProperty(l,"validation")){this.validation=c.jqx.get(l,"validation")}if(c.jqx.hasProperty(l,"autoCellHeight")){this.autoCellHeight=c.jqx.get(l,"autoCellHeight")}if(c.jqx.hasProperty(l,"text")){this.text=c.jqx.get(l,"text")}else{this.text=this.displayfield}if(c.jqx.hasProperty(l,"sortable")){this.sortable=c.jqx.get(l,"sortable")}if(c.jqx.hasProperty(l,"hidden")){this.hidden=c.jqx.get(l,"hidden")}if(c.jqx.hasProperty(l,"groupable")){this.groupable=c.jqx.get(l,"groupable")}if(c.jqx.hasProperty(l,"renderer")){this.renderer=c.jqx.get(l,"renderer")}if(c.jqx.hasProperty(l,"align")){this.align=c.jqx.get(l,"align")}if(c.jqx.hasProperty(l,"cellsAlign")){this.cellsalign=c.jqx.get(l,"cellsAlign")}if(c.jqx.hasProperty(l,"cellsFormat")){this.cellsFormat=c.jqx.get(l,"cellsFormat")}if(c.jqx.hasProperty(l,"width")){this.width=c.jqx.get(l,"width")}if(c.jqx.hasProperty(l,"minWidth")){this.minwidth=c.jqx.get(l,"minWidth")}if(c.jqx.hasProperty(l,"maxWidth")){this.maxwidth=c.jqx.get(l,"maxWidth")}if(c.jqx.hasProperty(l,"cellsRenderer")){this.cellsRenderer=c.jqx.get(l,"cellsRenderer")}if(c.jqx.hasProperty(l,"columnType")){this.columntype=c.jqx.get(l,"columnType")}if(c.jqx.hasProperty(l,"pinned")){this.pinned=c.jqx.get(l,"pinned")}if(c.jqx.hasProperty(l,"filterable")){this.filterable=c.jqx.get(l,"filterable")}if(c.jqx.hasProperty(l,"filter")){this.filter=c.jqx.get(l,"filter")}if(c.jqx.hasProperty(l,"resizable")){this.resizable=c.jqx.get(l,"resizable")}if(c.jqx.hasProperty(l,"draggable")){this.draggable=c.jqx.get(l,"draggable")}if(c.jqx.hasProperty(l,"editable")){this.editable=c.jqx.get(l,"editable")}if(c.jqx.hasProperty(l,"initEditor")){this.initeditor=c.jqx.get(l,"initEditor")}if(c.jqx.hasProperty(l,"createEditor")){this.createeditor=c.jqx.get(l,"createEditor")}if(c.jqx.hasProperty(l,"destroyEditor")){this.destroyeditor=c.jqx.get(l,"destroyEditor")}if(c.jqx.hasProperty(l,"getEditorValue")){this.geteditorvalue=c.jqx.get(l,"getEditorValue")}if(c.jqx.hasProperty(l,"className")){this.classname=c.jqx.get(l,"className")}if(c.jqx.hasProperty(l,"cellClassName")){this.cellclassname=c.jqx.get(l,"cellClassName")}if(c.jqx.hasProperty(l,"aggregates")){this.aggregates=c.jqx.get(l,"aggregates")}if(c.jqx.hasProperty(l,"aggregatesRenderer")){this.aggregatesRenderer=c.jqx.get(l,"aggregatesRenderer")}if(c.jqx.hasProperty(l,"rendered")){this.rendered=c.jqx.get(l,"rendered")}if(c.jqx.hasProperty(l,"exportable")){this.exportable=c.jqx.get(l,"exportable")}if(c.jqx.hasProperty(l,"nullable")){this.nullable=c.jqx.get(l,"nullable")}if(c.jqx.hasProperty(l,"columnGroup")){this.columngroup=c.jqx.get(l,"columnGroup")}if(!l instanceof String&&!(typeof l=="string")){for(var h in l){if(!n.hasOwnProperty(h)){if(!n.hasOwnProperty(h.toLowerCase())){e.host.remove();throw new Error("jqxDataTable: Invalid property name - "+h+".")}}}}}};this._initfields(a);return this}c.jqx.dataCollection=function(a){this.records=new Array();this.owner=a;this.updating=false;this.beginUpdate=function(){this.updating=true};this.resumeupdate=function(){this.updating=false};this.clear=function(){this.records=new Array()};this.replace=function(f,h){this.records[f]=h};this.isempty=function(e){if(this.records[e]==undefined){return true}return false};this.initialize=function(e){if(e<1){e=1}this.records[e-1]=-1};this.length=function(){return this.records.length};this.indexOf=function(e){return this.records.indexOf(e)};this.add=function(e){if(e==null){return false}this.records[this.records.length]=e;return true};this.insertAt=function(f,h){if(f==null||f==undefined){return false}if(h==null){return false}if(f>=0){if(f<this.records.length){this.records.splice(f,0,h);return true}else{return this.add(h)}}return false};this.remove=function(f){if(f==null||f==undefined){return false}var h=this.records.indexOf(f);if(h!=-1){this.records.splice(h,1);return true}return false};this.removeAt=function(f){if(f==null||f==undefined){return false}if(f<0){return false}if(f<this.records.length){var h=this.records[f];this.records.splice(f,1);return true}return false};return this};c.jqx.dataView=function(){this.that=this;this.grid=null;this.records=[];this.rows=[];this.columns=[];this.filters=new Array();this.pagesize=0;this.pagenum=0;this.source=null;this.databind=function(B,F){var C=B._source?true:false;var L=null;this._sortData=null;this._sortHierarchyData=null;if(C){L=B;B=B._source}else{L=new c.jqx.dataAdapter(B,{autoBind:false})}var N=function(e){L.recordids=[];L.records=new Array();L.cachedrecords=new Array();L.originaldata=new Array();L._options.totalrecords=e.totalrecords;L._options.originaldata=e.originaldata;L._options.recordids=e.recordids;L._options.cachedrecords=new Array();L._options.pagenum=e.pagenum;L._options.pageable=e.pageable;if(B.type!=undefined){L._options.type=B.type}if(B.formatdata!=undefined){L._options.formatData=B.formatdata}if(B.contenttype!=undefined){L._options.contentType=B.contenttype}if(B.async!=undefined){L._options.async=B.async}if(B.updaterow!=undefined){L._options.updaterow=B.updaterow}if(B.addrow!=undefined){L._options.addrow=B.addrow}if(B.deleterow!=undefined){L._options.deleterow=B.deleterow}if(e.pagesize==0){e.pagesize=10}L._options.pagesize=e.pagesize};var z=function(e){e.originaldata=L.originaldata;e.records=L.records;e.hierarchy=L.hierarchy;if(!e.grid.serverProcessing){e._sortData=null;e._sortfield=null;e._filteredData=null;e._sortHierarchyData=null}if(!e.hierarchy){e.hierarchy=new Array();L.hierarchy=new Array()}if(L._source.totalrecords){e.totalrecords=L._source.totalrecords}else{if(L._source.totalRecords){e.totalrecords=L._source.totalRecords}else{if(e.hierarchy.length!==0){e.totalrecords=e.hierarchy.length}else{e.totalrecords=e.records.length}}}e.cachedrecords=L.cachedrecords};N(this);this.source=B;if(F!==undefined){uniqueId=F}var K=this;switch(B.datatype){case"local":case"array":default:if(B.localdata==null){B.localdata=[]}if(B.localdata!=null){L.unbindBindingUpdate(K.grid.element.id);if((!K.grid.autoBind&&K.grid.isInitialized)||K.grid.autoBind){L.dataBind()}var G=function(){z(K);K.update()};G();L.bindBindingUpdate(K.grid.element.id,G)}break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"csv":case"tab":if(B.localdata!=null){L.unbindBindingUpdate(K.grid.element.id);if((!K.grid.autoBind&&K.grid.isInitialized)||K.grid.autoBind){L.dataBind()}var G=function(e){z(K);K.update()};G();L.bindBindingUpdate(K.grid.element.id,G);return}var w={};var D=0;var v={};for(var I=0;I<this.filters.length;I++){var M=this.filters[I].datafield;var H=this.filters[I].filter;var J=H.getfilters();v[M+"operator"]=H.operator;for(var A=0;A<J.length;A++){J[A].datafield=M;var E=J[A].value;v["filtervalue"+D]=E.toString();v["filtercondition"+D]=J[A].condition;v["filteroperator"+D]=J[A].operator;v["filterdatafield"+D]=M;D++}}v.filterslength=D;c.extend(v,{sortdatafield:K.sortfield,sortorder:K.sortfielddirection,pagenum:K.pagenum,pagesize:K.grid.pageSize});var a=L._options.data;if(L._options.data){c.extend(L._options.data,v)}else{if(B.data){c.extend(v,B.data)}L._options.data=v}var G=function(){var h=c.jqx.browser.msie&&c.jqx.browser.version<9;var f=function(){z(K);K.update()};if(h){try{f()}catch(e){}}else{f()}};L.unbindDownloadComplete(K.grid.element.id);L.bindDownloadComplete(K.grid.element.id,G);L._source.loaderror=function(f,e,h){G()};if((!K.grid.autoBind&&K.grid.isInitialized)||K.grid.autoBind){L.dataBind()}L._options.data=a}};this.addFilter=function(a,h){this._sortData=null;this._sortHierarchyData=null;var l=-1;for(var n=0;n<this.filters.length;n++){if(this.filters[n].datafield==a){l=n;break}}if(l==-1){this.filters[this.filters.length]={filter:h,datafield:a}}else{this.filters[l]={filter:h,datafield:a}}};this.removeFilter=function(a){this._sortData=null;this._sortHierarchyData=null;for(var e=0;e<this.filters.length;e++){if(this.filters[e].datafield==a){this.filters.splice(e,1);break}}};this.sortBy=function(a,h){var f=this;if(h==null){this.sortfield="";this.sortfielddirection="";return}if(h==undefined){h=true}if(h=="a"||h=="asc"||h=="ascending"||h==true){h=true}else{h=false}if(a=="constructor"){a=""}this.sortfield=a;this.sortfielddirection=h?"asc":"desc"};this._sort=function(s){if(!this.sortfield||!this.sortfielddirection){return s}if(this._sortfield==this.sortfield&&this._sortfielddirection==this.sortfielddirection&&this._sortData){return this._sortData}var n=this;var a=Object.prototype.toString;Object.prototype.toString=(typeof n.sortfield=="function")?n.sortfield:function(){return this[n.sortfield]};var o="";if(this.source.datafields){c.each(this.source.datafields,function(){if(this.name==n.sortfield){if(this.type){o=this.type}return false}})}var t=new Array();for(var q=0;q<s.length;q++){t.push(c.extend({originalRecord:s[q]},s[q]))}this._sortfield=this.sortfield;this._sortfielddirection=this.sortfielddirection;if(this.sortfielddirection==="desc"){var l=t.sort(function(e,f){return n._compare(e,f,o)}).reverse()}else{var l=t.sort(function(e,f){return n._compare(e,f,o)})}this._sortData=l;Object.prototype.toString=a;return l};this._compare=function(n,o,h){var n=n;var o=o;if(n===undefined){n=null}if(o===undefined){o=null}if(n===null&&o===null){return 0}if(n===null&&o!==null){return 1}if(n!==null&&o===null){return 1}n=n.toString();o=o.toString();if(c.jqx.dataFormat){if(h&&h!=""){switch(h){case"number":case"int":case"float":if(n<o){return -1}if(n>o){return 1}return 0;case"date":case"time":if(n<o){return -1}if(n>o){return 1}return 0;case"string":case"text":n=String(n).toLowerCase();o=String(o).toLowerCase();break}}else{if(c.jqx.dataFormat.isNumber(n)&&c.jqx.dataFormat.isNumber(o)){if(n<o){return -1}if(n>o){return 1}return 0}else{if(c.jqx.dataFormat.isDate(n)&&c.jqx.dataFormat.isDate(o)){if(n<o){return -1}if(n>o){return 1}return 0}else{if(!c.jqx.dataFormat.isNumber(n)&&!c.jqx.dataFormat.isNumber(o)){n=String(n).toLowerCase();o=String(o).toLowerCase()}}}}}try{if(n<o){return -1}if(n>o){return 1}}catch(l){var a=l}return 0};this._equals=function(a,e){return(this._compare(a,e)===0)};this.evaluate=function(a){if(this.grid.serverProcessing){if(a){if(this.grid.source._source.id==""||this.grid.source._source.id==null){if(this.grid.pageable){var E=this.grid.pageSize*this.pagenum;this.grid.rowsByKey=new Array();var z=this;c.each(a,function(e){this.uid=E;z.grid.rowsByKey[this.uid]=this;E++})}}}return a}var D=new Array();if(this.filters.length){var w=new Array();var q=function(H,n){for(var F=0;F<H.length;F++){var o=H[F];o._visible=true;var f=undefined;for(var G=0;G<this.filters.length;G++){var e=this.filters[G].filter;var l=o[this.filters[G].datafield];var h=e.evaluate(l);if(f==undefined){f=h}else{if(e.operator=="or"){f=f||h}else{f=f&&h}}}o._visible=false;if(f||o.aggregate){o._visible=true;n.push(o);w[o.uid]=o}}};if(!this._filteredData){if(this.source.hierarchy||(this.grid.source.hierarchy&&this.grid.source.hierarchy.length>0)){var s=new Array();var v=function(h,f){for(var l=0;l<f.length;l++){var e=f[l];s.push(e);if(e.records&&e.records.length>0){v(e,e.records)}}};v(null,a);q.call(this,s,D);for(var C=0;C<D.length;C++){var A=D[C];while(A.parent){var t=A.parent;if(!w[t.uid]){t._visible=true;w[t.uid]=t}A=t}}D=a}else{q.call(this,a,D)}this._filteredData=D;this.rows=D}else{this.rows=this._filteredData}}else{this.rows=a}if(this.source.hierarchy||(this.grid.source.hierarchy&&this.grid.source.hierarchy.length>0)){var z=this;var u=new Array();this._sortData=null;var B=function(e,l){z._sortData=null;var h=null;if(z.source.hierarchy.groupingDataFields){if(l&&l.length>0&&l[0].level<z.source.hierarchy.groupingDataFields.length){h=new Array();for(var f=0;f<l.length;f++){h.push(c.extend({originalRecord:l[f]},l[f]))}}else{h=z._sort(l)}}else{h=z._sort(l)}if(e.records){e.records=h}else{e=e.concat(h)}for(var f=0;f<h.length;f++){if(h[f].records&&h[f].records.length){B(h[f],h[f].records)}}return e};if(this.sortfield||this.sortfielddirection){if(this._sortHierarchyData){u=this._sortHierarchyData}else{u=B(u,a)}this.rows=u;this._sortHierarchyData=u}}else{this.rows=this._sort(this.rows)}return this.rows};this.getid=function(a,s,q){if(c(a,s).length>0){return c(a,s).text()}if(this.rows&&a!=""&&a!=undefined&&this.rows.length>0){var l=this.rows[this.rows.length-1][a];if(l==null){l=null}for(var o=1;o<=100;o++){var n=this.grid.rowsByKey[o+l];if(!n){if(this.grid&&this.grid.treeGrid&&this.grid.treeGrid.virtualModeCreateRecords){var n=this.grid.rowsByKey["jqx"+l+o];if(n){continue}return"jqx"+l+o}return l+o}}}if(a!=undefined){if(a.toString().length>0){var t=c(s).attr(a);if(t!=null&&t.toString().length>0){if(this.grid&&this.grid.treeGrid&&this.grid.treeGrid.virtualModeCreateRecords){return"jqx"+t}return t}}}if(this.rows&&this.rows.length>0){var n=this.grid.rowsByKey[q];if(n){var l=this.rows[this.rows.length-1][a];if(l==null){l=""}for(var o=1;o<=1000;o++){var n=this.grid.rowsByKey[o+l];if(!n){if(this.grid&&this.grid.treeGrid&&this.grid.treeGrid.virtualModeCreateRecords){var n=this.grid.rowsByKey["jqx"+l+o];if(n){continue}return"jqx"+l+o}return l+o}}}}if(this.grid&&this.grid.treeGrid&&this.grid.treeGrid.virtualModeCreateRecords){var n=this.grid.rowsByKey["jqx"+q];if(!n){return"jqx"+q}else{for(var o=q+1;o<=100;o++){var n=this.grid.rowsByKey["jqx"+o];if(!n){var n=this.grid.rowsByKey["jqx"+o];if(n){continue}return"jqx"+o}}}}return q};this.generatekey=function(){var a=function(){return(((1+Math.random())*16)|0)};return(""+a()+a()+"-"+a()+"-"+a())};return this}})(jqxBaseFramework);(function(c){c.jqx.jqxWidget("jqxTreeGrid","jqxDataTable",{});c.extend(c.jqx._jqxTreeGrid.prototype,{defineInstance:function(){this.base.treeGrid=this;this.base.exportSettings={recordsInView:false,columnsHeader:true,hiddenColumns:false,serverURL:null,characterSet:null,collapsedRecords:false,fileName:"jqxTreeGrid"};var a={pageSizeMode:"default",checkboxes:false,hierarchicalCheckboxes:false,icons:false,showSubAggregates:false,rowDetailsRenderer:null,virtualModeCreateRecords:null,virtualModeRecordCreating:null,loadingFailed:false};c.extend(true,this,a);return a},createInstance:function(a){this.theme=this.base.theme;var d=this},deleteRow:function(a){var d=this.base;d.deleterowbykey(a)},updateRow:function(a,e){var f=this.base;f.updaterowbykey(a,e)},setCellValue:function(l,a,f){var h=this.base;h.setCellValueByKey(l,a,f)},getCellValue:function(f,a){var e=this.base;return e.getCellValueByKey(f,a)},lockRow:function(a){var d=this.base;d.lockrowbykey(a)},unlockRow:function(a){var d=this.base;d.unlockrowbykey(a)},selectRow:function(a){var d=this.base;d.selectrowbykey(a)},unselectRow:function(a){var d=this.base;d.unselectrowbykey(a)},ensureRowVisible:function(a){var d=this.base;d.ensurerowvisiblebykey(a)},beginCellEdit:function(l,a){var f=this.base;var h=f.getColumn(a);f.beginroweditbykey(l,h)},beginRowEdit:function(a){var d=this.base;d.beginroweditbykey(a)},endCellEdit:function(l,a,f){var h=this.base;h.endroweditbykey(l,f)},endRowEdit:function(a,e){var f=this.base;f.endroweditbykey(a,e)},_showLoadElement:function(){var a=this.base;if(a.host.css("display")=="block"){if(a.autoShowLoadElement){c(a.dataloadelement).css("visibility","visible");c(a.dataloadelement).css("display","block");a.dataloadelement.width(a.host.width());a.dataloadelement.height(a.host.height())}}},_hideLoadElement:function(){var a=this.base;if(a.host.css("display")=="block"){if(a.autoShowLoadElement){c(a.dataloadelement).css("visibility","hidden");c(a.dataloadelement).css("display","none");a.dataloadelement.width(a.host.width());a.dataloadelement.height(a.host.height())}}},getKey:function(a){if(a){return a.uid}},getRows:function(){var a=this.base;if(a.source.hierarchy){if(a.source.hierarchy.length!=0){return a.source.hierarchy}}return a.source.records},getCheckedRows:function(){var l=this.base;var h=l._names();var f=new Array();var a=function(e,o){if(!o){return}for(var n=0;n<o.length;n++){if(!o[n]){continue}var q=c.extend({},o[n]);var d=l.rowinfo[o[n].uid];if(d&&d[h.checked]){e.push(q)}else{if(q[h.checked]){e.push(q)}}a(f,o[n].records)}};a(f,l.dataViewRecords);return f},getRow:function(o){var n=this.base;var a=n.source.records;if(n.source.hierarchy){var l=function(f){for(var e=0;e<f.length;e++){if(!f[e]){continue}if(f[e].uid==o){return f[e]}if(f[e].records){var d=l(f[e].records);if(d){return d}}}};var h=l(n.source.hierarchy);return h}else{for(var q=0;q<a.length;q++){if(!a[q]){continue}if(a[q].uid==o){return a[q]}}}},_renderrows:function(){var a9=this.base;var bu=this;if(a9._loading){return}if(a9._updating){return}var bd=a9._names();if(a9.source.hierarchy.length===0&&!a9.loadingFailed){if(this.virtualModeCreateRecords){var bz=function(e){if(e===false||(e&&e.length==0)){a9._loading=false;a9.loadingFailed=true;a9.source.hierarchy=new Array();bu._hideLoadElement();a9._renderrows();a9._updateScrollbars();a9._arrange();return}for(var d=0;d<e.length;d++){e[d].level=0;bu.virtualModeRecordCreating(e[d]);a9.rowsByKey[e[d].uid]=e[d]}a9.source.hierarchy=e;if(!a9.source._source.hierarchy){a9.source._source.hierarchy={}}a9._loading=false;bu._hideLoadElement();a9._renderrows();a9._updateScrollbars();a9._arrange()};a9._loading=true;this.virtualModeCreateRecords(null,bz);this._showLoadElement()}}if(a9.rendering){a9.rendering()}var bh=0;a9.table[0].rows=new Array();var bM=a9.toTP("jqx-cell")+" "+a9.toTP("jqx-widget-content")+" "+a9.toTP("jqx-item");if(a9.rtl){bM+=" "+a9.toTP("jqx-cell-rtl")}var aW=a9.columns.records.length;var a8=c.jqx.browser.msie&&c.jqx.browser.version<8;if(a8){a9.host.attr("hideFocus","true")}var t=new Array();var bP=function(h,e){for(var n=0;n<h.length;n++){var o=h[n];if(!o){continue}var f=!a9.rowinfo[o.uid]?o.expanded:a9.rowinfo[o.uid].expanded;if(a9.dataview.filters.length==0){o._visible=true}if(o._visible!==false){if(f||o[bd.leaf]){e.push(o);if(o.records&&o.records.length>0){var l=bP(o.records,new Array());for(var d=0;d<l.length;d++){e.push(l[d])}}}else{e.push(o)}}}return e};var bx=a9.source.hierarchy.length===0?a9.source.records:a9.source.hierarchy;bx=a9.dataview.evaluate(bx);a9.dataViewRecords=bx;if(this.showSubAggregates){var aL=function(e,f){if(e!=0){if(f.length>0){if(f[f.length-1]){if(!f[f.length-1].aggregate){f.push({_visible:true,level:e,siblings:f,aggregate:true,leaf:true})}}else{if(c.jqx.browser.msie&&c.jqx.browser.version<9){if(f[f.length-2]){if(!f[f.length-2].aggregate){f.push({_visible:true,level:e,siblings:f,aggregate:true,leaf:true})}}}}}}for(var d=0;d<f.length;d++){if(f[d]&&f[d].records){aL(e+1,f[d].records)}}};aL(0,bx)}var bw=function(h){var d=0;var f=new Array();for(var l=0;l<h.length;l++){var e=h[l];if(e[bd.level]==0){d++}if(d>a9.dataview.pagesize*a9.dataview.pagenum&&d<=a9.dataview.pagesize*a9.dataview.pagenum+a9.dataview.pagesize){f.push(e)}if(d>a9.dataview.pagesize*a9.dataview.pagenum+a9.dataview.pagesize){break}}return f};if(a9.source.hierarchy.length===0){if(a9.dataview.pagesize=="all"||!a9.pageable||a9.serverProcessing){var bB=bx;if(a9.pageable&&a9.serverProcessing&&bx.length>a9.dataview.pagesize){var bB=bx.slice(a9.dataview.pagesize*a9.dataview.pagenum,a9.dataview.pagesize*a9.dataview.pagenum+a9.dataview.pagesize)}}else{var bB=bx.slice(a9.dataview.pagesize*a9.dataview.pagenum,a9.dataview.pagesize*a9.dataview.pagenum+a9.dataview.pagesize)}var t=bB}else{var bx=bP.call(a9,bx,new Array());if(a9.dataview.pagesize=="all"||!a9.pageable){var bB=bx}else{var bB=bx.slice(a9.dataview.pagesize*a9.dataview.pagenum,a9.dataview.pagesize*a9.dataview.pagenum+a9.dataview.pagesize);if(this.pageSizeMode=="root"){bB=bw(bx)}}var t=bB;var be=a9.dataview.pagenum;a9.updatepagerdetails();if(a9.dataview.pagenum!=be){if(a9.dataview.pagesize=="all"||!a9.pageable){var bB=bx}else{var bB=bx.slice(a9.dataview.pagesize*a9.dataview.pagenum,a9.dataview.pagesize*a9.dataview.pagenum+a9.dataview.pagesize);if(this.pageSizeMode=="root"){bB=bw(bx)}}var t=bB}}a9.renderedRecords=t;var bo=t.length;var bO=a9.tableZIndex;var aQ=0;var bv=0;if(a8){for(var a7=0;a7<aW;a7++){var a3=a9.columns.records[a7];var bl=a3.width;if(bl<a3.minwidth){bl=a3.minwidth}if(bl>a3.maxwidth){bl=a3.maxwidth}var bn=c('<table><tr><td role="gridcell" style="max-width: '+bl+"px; width:"+bl+'px;" class="'+bM+'"></td></tr></table>');c(document.body).append(bn);var bF=bn.find("td");aQ=1+parseInt(bF.css("padding-left"))+parseInt(bF.css("padding-right"));bn.remove();break}}var bs=a9.rtl?" "+a9.toTP("jqx-grid-table-rtl"):"";var s="<table cellspacing='0' class='"+a9.toTP("jqx-grid-table")+bs+"' id='table"+a9.element.id+"'><colgroup>";var a0="<table cellspacing='0' class='"+a9.toTP("jqx-grid-table")+bs+"' id='pinnedtable"+a9.element.id+"'><colgroup>";var bK=null;for(var a7=0;a7<aW;a7++){var a3=a9.columns.records[a7];if(a3.hidden){continue}bK=a3;var bl=a3.width;if(bl<a3.minwidth){bl=a3.minwidth}if(bl>a3.maxwidth){bl=a3.maxwidth}bl-=aQ;if(bl<0){bl=0}if(a8){var bg=bl;if(a7==0){bg++}a0+="<col style='max-width: "+bl+"px; width: "+bg+"px;'>";s+="<col style='max-width: "+bl+"px; width: "+bg+"px;'>"}else{a0+="<col style='max-width: "+bl+"px; width: "+bl+"px;'>";s+="<col style='max-width: "+bl+"px; width: "+bl+"px;'>"}bv+=bl}s+="</colgroup>";a0+="</colgroup>";a9._hiddencolumns=false;var aJ=false;if(bo===0){var aN='<tr role="row">';var aK=a9.host.height();if(a9.pageable){aK-=a9.pagerHeight;if(a9.pagerPosition==="both"){aK-=a9.pagerHeight}}aK-=a9.columnsHeight;if(a9.filterable){var bT=a9.filter.find(".filterrow");var bt=a9.filter.find(".filterrow-hidden");var bm=1;if(bt.length>0){bm=0}aK-=a9.filterHeight+a9.filterHeight*bT.length*bm}if(a9.showstatusbar){aK-=a9.statusBarHeight}if(a9.showAggregates){aK-=a9.aggregatesHeight}if(aK<25){aK=25}if(a9.hScrollBar[0].style.visibility!="hidden"){aK-=a9.hScrollBar.outerHeight()}if(a9.height==="auto"||a9.height===null||a9.autoheight){aK=100}var bl=a9.host.width()+2;var bn='<td colspan="'+a9.columns.records.length+'" role="gridcell" style="border-right-color: transparent; min-height: '+aK+"px; height: "+aK+"px;  min-width:"+bv+"px; max-width:"+bv+"px; width:"+bv+"px;";var bM=a9.toTP("jqx-cell")+" "+a9.toTP("jqx-grid-cell")+" "+a9.toTP("jqx-item");bM+=" "+a9.toTP("jqx-center-align");bn+='" class="'+bM+'">';if(!a9._loading){bn+=a9.gridlocalization.emptydatastring}bn+="</td>";aN+=bn;s+=aN;a0+=aN;a9.table[0].style.width=bv+2+"px";bh=bv}var aO=a9.source._source.hierarchy&&a9.source._source.hierarchy.groupingDataFields?a9.source._source.hierarchy.groupingDataFields.length:0;for(var a6=0;a6<t.length;a6++){var br=t[a6];var bJ=br.uid;if(aO>0){if(br[bd.level]<aO){bJ=br.uid}}if(br.uid===undefined){br.uid=a9.dataview.generatekey()}var aN='<tr data-key="'+bJ+'" role="row" id="row'+a6+a9.element.id+'">';var by='<tr data-key="'+bJ+'" role="row" id="row'+a6+a9.element.id+'">';if(br.aggregate){var aN='<tr data-role="summaryrow" role="row" id="row'+a6+a9.element.id+'">';var by='<tr data-role="summaryrow" role="row" id="row'+a6+a9.element.id+'">'}var a2=0;if(!a9.rowinfo[bJ]){var a=br[bd.checked];if(a===undefined){a=false}a9.rowinfo[bJ]={selected:br[bd.selected],checked:a,icon:br[bd.icon],aggregate:br.aggregate,row:br,leaf:br[bd.leaf],expanded:br[bd.expanded]}}else{if(a9.rowinfo[bJ].checked===undefined){a9.rowinfo[bJ].checked=br[bd.checked]}if(a9.rowinfo[bJ].icon===undefined){a9.rowinfo[bJ].icon=br[bd.icon]}if(a9.rowinfo[bJ].aggregate===undefined){a9.rowinfo[bJ].aggregate=br[bd.aggregate]}if(a9.rowinfo[bJ].row===undefined){a9.rowinfo[bJ].row=br}if(a9.rowinfo[bJ].leaf===undefined){a9.rowinfo[bJ].leaf=br[bd.leaf]}if(a9.rowinfo[bJ].expanded===undefined){a9.rowinfo[bJ].expanded=br[bd.expanded]}}var aR=a9.rowinfo[bJ];aR.row=br;if(br.originalRecord){aR.originalRecord=br.originalRecord}var aM=0;for(var a7=0;a7<aW;a7++){var ba=a9.columns.records[a7];if(ba.pinned||(a9.rtl&&a9.columns.records[aW-1].pinned)){aJ=true}var bl=ba.width;if(bl<ba.minwidth){bl=ba.minwidth}if(bl>ba.maxwidth){bl=ba.maxwidth}bl-=aQ;if(bl<0){bl=0}var bM=a9.toTP("jqx-cell")+" "+a9.toTP("jqx-grid-cell")+" "+a9.toTP("jqx-item");if(ba.pinned){bM+=" "+a9.toTP("jqx-grid-cell-pinned")}if(a9.sortcolumn===ba.displayfield){bM+=" "+a9.toTP("jqx-grid-cell-sort")}if(a9.altRows&&a6%2!=0){bM+=" "+a9.toTP("jqx-grid-cell-alt")}if(a9.rtl){bM+=" "+a9.toTP("jqx-cell-rtl")}var a5="";if(aO>0&&!a8&&!br.aggregate){if(br[bd.level]<aO){a5+=' colspan="'+aW+'"';var bg=0;for(var bc=0;bc<aW;bc++){var a4=a9.columns.records[bc];if(a4.hidden){continue}var aX=a4.width;if(aX<a4.minwidth){bl=a4.minwidth}if(aX>a4.maxwidth){bl=a4.maxwidth}aX-=aQ;if(aX<0){aX=0}bg+=aX}bl=bg}}var bn='<td role="gridcell"'+a5+' style="max-width:'+bl+"px; width:"+bl+"px;";var bC='<td role="gridcell"'+a5+' style="pointer-events: none; visibility: hidden; border-color: transparent; max-width:'+bl+"px; width:"+bl+"px;";if(a7==aW-1&&aW==1){bn+="border-right-color: transparent;";bC+="border-right-color: transparent;"}if(aO>0&&br[bd.level]<aO&&!br.aggregate){if(a9.rtl){bM+=" "+a9.toTP("jqx-right-align")}}else{if(ba.cellsalign!="left"){if(ba.cellsalign==="right"){bM+=" "+a9.toTP("jqx-right-align")}else{bM+=" "+a9.toTP("jqx-center-align")}}}if(aR){if(aR.selected){if(a9.editKey!==bJ){if(a9.selectionMode!=="none"){bM+=" "+a9.toTP("jqx-grid-cell-selected");bM+=" "+a9.toTP("jqx-fill-state-pressed")}}}if(aR.locked){bM+=" "+a9.toTP("jqx-grid-cell-locked")}if(aR.aggregate){bM+=" "+a9.toTP("jqx-grid-cell-pinned")}}if(!(ba.hidden)){if(aM==0&&!a9.rtl){bn+="border-left-width: 0px;";bC+="border-left-width: 0px;"}else{bn+="border-right-width: 0px;";bC+="border-right-width: 0px;"}aM++;a2+=aQ+bl}else{bn+="display: none;";bC+="display: none;";a9._hiddencolumns=true}if(ba.pinned){bn+="pointer-events: auto;";bC+="pointer-events: auto;"}var w="";if((a9.source.hierarchy.length==0||(!br.records||(br.records&&br.records.length===0)))&&!this.virtualModeCreateRecords){aR.leaf=true}if(br.records&&br.records.length>0){aR.leaf=false}if(a9.dataview.filters.length>0){if(br.records&&br.records.length>0){var bL=false;for(var bb=0;bb<br.records.length;bb++){if(br.records[bb]._visible!==false&&br.records[bb].aggregate==undefined){bL=true;break}}if(!bL){aR.leaf=true}else{aR.leaf=false}}}if(aR&&!aR.leaf){if(aR.expanded){w+=a9.toTP("jqx-tree-grid-expand-button")+" ";if(!a9.rtl){w+=a9.toTP("jqx-grid-group-expand")}else{w+=a9.toTP("jqx-grid-group-expand-rtl")}w+=" "+a9.toTP("jqx-icon-arrow-down")}else{w+=a9.toTP("jqx-tree-grid-collapse-button")+" ";if(!a9.rtl){w+=a9.toTP("jqx-grid-group-collapse");w+=" "+a9.toTP("jqx-icon-arrow-right")}else{w+=a9.toTP("jqx-grid-group-collapse-rtl");w+=" "+a9.toTP("jqx-icon-arrow-left")}}}if(!a9.autoRowHeight||aM===1||(a9.autoRowHeight&&!ba.autoCellHeight)){bM+=" "+a9.toTP("jqx-grid-cell-nowrap")}var a1=a9._getcellvalue(ba,aR.row);if(aO>0&&!br.aggregate){if(br[bd.level]<aO){a1=br.label}}if(ba.cellsFormat!=""){if(c.jqx.dataFormat){if(c.jqx.dataFormat.isDate(a1)){a1=c.jqx.dataFormat.formatdate(a1,ba.cellsFormat,a9.gridlocalization)}else{if(c.jqx.dataFormat.isNumber(a1)||(!isNaN(parseFloat(a1))&&isFinite(a1))){a1=c.jqx.dataFormat.formatnumber(a1,ba.cellsFormat,a9.gridlocalization)}}}}if(ba.cellclassname!=""&&ba.cellclassname){if(typeof ba.cellclassname=="string"){bM+=" "+ba.cellclassname}else{var bN=ba.cellclassname(a6,ba.datafield,a9._getcellvalue(ba,aR.row),aR.row,a1);if(bN){bM+=" "+bN}}}if(ba.cellsRenderer!=""&&ba.cellsRenderer){var bq=ba.cellsRenderer(bJ,ba.datafield,a9._getcellvalue(ba,aR.row),aR.row,a1);if(bq!==undefined){a1=bq}}if(aR.aggregate){if(ba.aggregates){var bp=br.siblings.slice(0,br.siblings.length-1);var aZ=a9._calculateaggregate(ba,null,true,bp);br[ba.displayfield]="";if(aZ){if(ba.aggregatesRenderer){if(aZ){var bi=ba.aggregatesRenderer(aZ[ba.datafield],ba,null,a9.getcolumnaggregateddata(ba.datafield,ba.aggregates,false,bp),"subAggregates");a1=bi;br[ba.displayfield]+=name+":"+aZ[ba.datafield]+"\n"}}else{a1="";br[ba.displayfield]="";c.each(aZ,function(){var e=this;for(obj in e){var f=obj;f=a9._getaggregatename(f);var d='<div style="position: relative; margin: 0px; overflow: hidden;">'+f+":"+e[obj]+"</div>";a1+=d;br[ba.displayfield]+=f+":"+e[obj]+"\n"}})}}else{a1=""}}}if((aM===1&&!a9.rtl)||(ba==bK&&a9.rtl)||(aO>0&&br[bd.level]<aO)){var bH="";var aV=a9.toThemeProperty("jqx-tree-grid-indent");var aY=aR.leaf?1:0;for(var bk=0;bk<br[bd.level]+aY;bk++){bH+="<span class='"+aV+"'></span>"}var bA="<span class='"+w+"'></span>";var bf="";var aU="";if(this.checkboxes&&!br.aggregate){var bS=a9.toThemeProperty("jqx-tree-grid-checkbox")+" "+aV+" "+a9.toThemeProperty("jqx-checkbox-default")+" "+a9.toThemeProperty("jqx-fill-state-normal")+" "+a9.toThemeProperty("jqx-rc-all");var aS=true;if(c.isFunction(this.checkboxes)){aS=this.checkboxes(bJ,br);if(aS==undefined){aS=false}}if(aS){if(aR){var bj=aR.checked;if(this.hierarchicalCheckboxes==false&&bj===null){bj=false}if(bj){bf+="<span class='"+bS+"'><div class='"+a9.toThemeProperty("jqx-tree-grid-checkbox-tick")+" "+a9.toThemeProperty("jqx-checkbox-check-checked")+"'></div></span>"}else{if(bj===false){bf+="<span class='"+bS+"'></span>"}else{bf+="<span class='"+bS+"'><div class='"+a9.toThemeProperty("jqx-tree-grid-checkbox-tick")+" "+a9.toThemeProperty("jqx-checkbox-check-indeterminate")+"'></div></span>"}}}else{bf+="<span class='"+bS+"'></span>"}}}if(this.icons&&!br.aggregate){var bG=a9.toThemeProperty("jqx-tree-grid-icon")+" "+aV;if(a9.rtl){var bG=a9.toThemeProperty("jqx-tree-grid-icon")+" "+a9.toThemeProperty("jqx-tree-grid-icon-rtl")+" "+aV}var bU=a9.toThemeProperty("jqx-tree-grid-icon-size")+" "+aV;var aT=aR.icon;if(c.isFunction(this.icons)){aR.icon=this.icons(bJ,br);if(aR.icon){aT=true}}if(aT){if(aR.icon){aU+="<span class='"+bG+"'><img class='"+bU+"' src='"+aR.icon+"'/></span>"}else{aU+="<span class='"+bG+"'></span>"}}}var bI=a9.autoRowHeight&&aM===1&&ba.autoCellHeight?" "+a9.toTP("jqx-grid-cell-wrap"):"";var bD=bH+bA+bf+aU+"<span class='"+a9.toThemeProperty("jqx-tree-grid-title")+bI+"'>"+a1+"</span>";if(!a9.rtl){a1=bD}else{a1="<span class='"+a9.toThemeProperty("jqx-tree-grid-title")+bI+"'>"+a1+"</span>"+aU+bf+bA+bH}}if(aO>0&&a8&&a7>=aO){if(br[bd.level]<aO){bn+="padding-left: 5px; border-left-width: 0px;";bC+="padding-left: 5px; border-left-width: 0px;";a1="<span style='visibility: hidden;'>-</span>"}}bn+='" class="'+bM+'">';bn+=a1;bn+="</td>";bC+='" class="'+bM+'">';bC+=a1;bC+="</td>";if(!ba.pinned){aN+=bn;if(aJ){by+=bC}}else{by+=bn;aN+=bn}if(aO>0&&!a8){if(br[bd.level]<aO&&!br.aggregate){break}}}if(bh==0){a9.table[0].style.width=a2+2+"px";bh=a2}aN+="</tr>";by+="</tr>";s+=aN;a0+=by;if(a9.rowDetails&&!br.aggregate&&this.rowDetailsRenderer){var aP='<tr data-role="row-details"><td valign="top" align="left" style="pointer-events: auto; max-width:'+bl+"px; width:"+bl+'px; overflow: hidden; border-left: none; border-right: none;" colspan="'+a9.columns.records.length+'" role="gridcell"';var bM=a9.toTP("jqx-cell")+" "+a9.toTP("jqx-grid-cell")+" "+a9.toTP("jqx-item");bM+=" "+a9.toTP("jqx-details");bM+=" "+a9.toTP("jqx-reset");var bE=this.rowDetailsRenderer(bJ,br);if(bE){aP+='" class="'+bM+'"><div style="pointer-events: auto; overflow: hidden;"><div data-role="details">'+bE+"</div></div></td></tr>";s+=aP;a0+=aP}}}s+="</table>";a0+="</table>";if(aJ){if(a9.WinJS){MSApp.execUnsafeLocalFunction(function(){a9.table.html(a0+s)})}else{a9.table[0].innerHTML=a0+s}var bR=a9.table.find("#table"+a9.element.id);var bQ=a9.table.find("#pinnedtable"+a9.element.id);bQ.css("float","left");bQ.css("pointer-events","none");bR.css("float","left");bQ[0].style.position="absolute";bR[0].style.position="relative";bR[0].style.zIndex=bO-10;bQ[0].style.zIndex=bO+10;a9._table=bR;a9._table[0].style.left="0px";a9._pinnedTable=bQ;if(a8){bQ[0].style.left="0px"}a9._table[0].style.width=bh+"px";a9._pinnedTable[0].style.width=bh+"px";if(a9.rtl&&a9._haspinned){a9._pinnedTable[0].style.left=3-bh+parseInt(a9.element.style.width)+"px"}}else{if(a9.WinJS){MSApp.execUnsafeLocalFunction(function(){a9.table.html(s)})}else{a9.table[0].innerHTML=s}var bc=a9.table.find("#table"+a9.element.id);a9._table=bc;if(c.jqx.browser.msie&&c.jqx.browser.version<10){a9._table[0].style.width=bh+"px"}if(bo===0){a9._table[0].style.width=(2+bh)+"px"}}if(bo===0){a9._table[0].style.tableLayout="auto";if(a9._pinnedTable){a9._pinnedTable[0].style.tableLayout="auto"}}if(a9.showAggregates){a9._updatecolumnsaggregates()}if(a9._loading&&bo==0){a9._arrange();this._showLoadElement()}if(a9.rendered){a9.rendered()}},propertyChangedHandler:function(a,l,f,h){if(a.isInitialized==undefined||a.isInitialized==false){return}if(l=="pageSizeMode"||l=="hierarchicalCheckboxes"){a._renderrows()}},checkRow:function(t,s,a){var q=this.base;var n=q._names();if(q._loading){return}var o=q.rowinfo[t];if(o){o.checked=true;o.row[n.checked]=true;if(o.originalRecord){o.originalRecord[n.checked]=true}if(a==undefined&&this.hierarchicalCheckboxes){this.checkRows(o.row,o.row)}if(s!==false){q._renderrows()}q._raiseEvent("rowCheck",{key:t,row:o.row})}else{var l=this.getRow(t);if(l){q.rowinfo[t]={row:l,checked:true};q.rowinfo[t].row[n.checked]=true;if(l.originalRecord){q.rowinfo[t].originalRecord=l.originalRecord}q._raiseEvent("rowCheck",{key:t,row:l});if(a==undefined&&this.hierarchicalCheckboxes){this.checkRows(l,l)}if(s!==false){q._renderrows()}}}},checkRows:function(B,a){var A=this.base;var t=this;var u=A._names();var q=function(f){var e=new Array();var d=function(h){for(var l=0;l<h.length;l++){e.push(h[l]);if(h[l].records){d(h[l].records)}}};if(f.records){d(f.records)}return e};if(B!=null){var z=0;var C=false;var w=0;var D=function(f){for(var e=0;e<f.length;e++){var d=f[e][u.checked];if(d===undefined){d=false}if(d!=false){if(f[e][u.checked]==null){C=true}if(f[e].records){D(f[e].records)}z++}w++}};if(B.records){D(B.records)}if(B!=a){if(z==w){this.checkRow(B.uid,false,"tree")}else{if(z>0){this.indeterminateRow(B.uid,false,"tree")}else{this.uncheckRow(B.uid,false,"tree")}}}else{var s=a[u.checked];var v=q(a);c.each(v,function(){if(s===true){t.checkRow(this.uid,false,"tree")}else{if(s===false){t.uncheckRow(this.uid,false,"tree")}else{t.indeterminateRow(this.uid,false,"tree")}}})}var o=B[u.parent]?B[u.parent]:null;this.checkRows(o,a)}else{var s=a[u.checked];var v=q(a);c.each(v,function(){if(s===true){t.checkRow(this.uid,false,"tree")}else{if(s===false){t.uncheckRow(this.uid,false,"tree")}else{t.indeterminateRow(this.uid,false,"tree")}}})}},indeterminateRow:function(u,t,a){var q=this.base;var n=q._names();if(q._loading){return}var s=this;var o=q.rowinfo[u];if(o){o.checked=null;o.row[n.checked]=null;if(o.originalRecord){o.originalRecord[n.checked]=null}if(a==undefined&&this.hierarchicalCheckboxes){this.checkRows(o.row,o.row)}if(t!==false){q._renderrows()}}else{var l=this.getRow(u);if(l){q.rowinfo[u]={row:l,checked:null};q.rowinfo[u].row[n.checked]=null;if(l.originalRecord){q.rowinfo[u].originalRecord=l.originalRecord}if(a==undefined&&this.hierarchicalCheckboxes){this.checkRows(l,l)}if(t!==false){q._renderrows()}}}},uncheckRow:function(u,t,a){var q=this.base;var n=q._names();if(q._loading){return}var s=this;var o=q.rowinfo[u];if(o){o.checked=false;o.row[n.checked]=false;if(o.originalRecord){o.originalRecord[n.checked]=false}if(a==undefined&&this.hierarchicalCheckboxes){this.checkRows(o.row,o.row)}if(t!==false){q._renderrows()}q._raiseEvent("rowUncheck",{key:u,row:o.row})}else{var l=this.getRow(u);if(l){q.rowinfo[u]={row:l,checked:false};q.rowinfo[u].row[n.checked]=false;if(l.originalRecord){q.rowinfo[u].originalRecord=l.originalRecord}q._raiseEvent("rowUncheck",{key:u,row:l});if(a==undefined&&this.hierarchicalCheckboxes){this.checkRows(l,l)}if(t!==false){q._renderrows()}}}},expandRows:function(l){var f=this;if(!l){return}if(f.virtualModeCreateRecords){c.each(l,function(){var e=this;var d=function(){f.base._loading=false;f.expandRows(e.records)};f.base._loading=false;f.expandRow(e.uid,d)})}else{for(var h=0;h<l.length;h++){var a=l[h];f.expandRow(a.uid);f.expandRows(a.records)}}},collapseRows:function(a){if(!a){return}for(var d=0;d<a.length;d++){this.collapseRow(a[d].uid);this.collapseRows(a[d].records)}},expandAll:function(){var a=this.base;a.beginUpdate();this.expandRows(this.getRows());a.endUpdate()},collapseAll:function(){var a=this.base;a.beginUpdate();this.collapseRows(this.getRows());a.endUpdate()},expandRow:function(o,l){var u=this.base;if(u._loading){return}var t=u._names();var s=this;var w=u.rowinfo[o];if(!w){var a=this.getRow(o);if(a){u.rowinfo[o]={row:a};if(a.originalRecord){u.rowinfo[o].originalRecord=a.originalRecord}w=u.rowinfo[o]}}if(w){if(w.expanded){w.row[t.expanded]=true;return}w.expanded=true;w.row[t.expanded]=true;if(w.originalRecord){w.originalRecord[t.expanded]=true}if(this.virtualModeCreateRecords&&!w.row._loadedOnDemand){var v=function(d){w.row._loadedOnDemand=true;if(d===false){u._loading=false;s._hideLoadElement();w.leaf=true;w.row[t.leaf]=true;u._renderrows();if(l){l()}return}for(var h=0;h<d.length;h++){d[h][t.level]=w.row[t.level]+1;d[h][t.parent]=w.row;if(u.rowsByKey[d[h].uid]){u._loading=false;s._hideLoadElement();w.leaf=true;w.row[t.leaf]=true;u._renderrows();if(l){l()}throw new Error("Please, check whether you Add Records with unique ID/Key. ")}u.rowsByKey[d[h].uid]=d[h];s.virtualModeRecordCreating(d[h])}if(!w.row.records){w.row.records=d}else{w.row.records=w.row.records.concat(d)}if((!d)||(d&&d.length==0)){w.leaf=true;w.row[t.leaf]=true}if(w.originalRecord){w.originalRecord.records=d;w.originalRecord[t.expanded]=true;if(d.length==0){w.originalRecord[t.leaf]=true}}u._loading=false;s._hideLoadElement();var e=u.vScrollBar.css("visibility");u._renderrows();u._updateScrollbars();var f=e!=u.vScrollBar.css("visibility");if(u.height==="auto"||u.height===null||u.autoheight||f){u._arrange()}u._renderhorizontalscroll();if(l){l()}};if(!w.row[t.leaf]){u._loading=true;this._showLoadElement();this.virtualModeCreateRecords(w.row,v);return}}if(!u.updating()){var q=u.vScrollBar.css("visibility");u._renderrows();u._updateScrollbars();var n=q!=u.vScrollBar.css("visibility");if(u.height==="auto"||u.height===null||u.autoheight||n){u._arrange()}u._renderhorizontalscroll();u._raiseEvent("rowExpand",{row:w.row,key:o})}}},collapseRow:function(t){var s=this.base;var n=s._names();if(s._loading){return}var o=s.rowinfo[t];if(!o){var l=this.getRow(t);if(l){s.rowinfo[t]={row:l};if(l.originalRecord){s.rowinfo[t].originalRecord=l.originalRecord}o=s.rowinfo[t]}}if(o){if(!o.expanded){o.row[n.expanded]=false;return}o.expanded=false;o.row[n.expanded]=false;if(o.originalRecord){o.originalRecord[n.expanded]=false}if(!s.updating()){var a=s.vScrollBar.css("visibility");s._renderrows();s._updateScrollbars();var q=a!=s.vScrollBar.css("visibility");if(s.height==="auto"||s.height===null||s.autoheight||q){s._arrange()}s._renderhorizontalscroll();s._raiseEvent("rowCollapse",{row:o.row,key:t})}}}})})(jqxBaseFramework);(function(c){c.jqx.jqxWidget("jqxBulletChart","",{});c.extend(c.jqx._jqxBulletChart.prototype,{defineInstance:function(){var a={width:500,height:100,barSize:"50%",ranges:[{startValue:0,endValue:50,color:"#000000",opacity:0.7},{startValue:50,endValue:80,color:"#000000",opacity:0.5},{startValue:80,endValue:100,color:"#000000",opacity:0.3}],pointer:{value:65,label:"Value",size:"25%",color:""},target:{value:85,label:"Target",size:4,color:""},ticks:{position:"far",interval:20,size:10},title:"Title",description:"Description",orientation:"horizontal",labelsFormat:null,labelsFormatFunction:null,animationDuration:400,showTooltip:true,tooltipFormatFunction:null,disabled:false,rtl:false,events:["change"]};c.extend(true,this,a);return a},createInstance:function(a){if(!c.jqx.dataAdapter){throw new Error("jqxBulletChart: Missing reference to the following module: 'jqxdata.js'.")}this._setDefaultValues();this.render();var d=this;c.jqx.utilities.resize(this.host,function(){if(d._timer){clearTimeout(d._timer)}d._timer=setTimeout(function(){var e=d.animationDuration;d.animationDuration=0;d.render();setTimeout(function(){d.animationDuration=e},0)},10)},false,true)},render:function(){if(this.host.children().length>0){this._removeHandlers();if(this.showTooltip==true){this.host.jqxTooltip("destroy")}this.host.empty()}this.host.addClass(this.toThemeProperty("jqx-widget"));this.host.addClass(this.toThemeProperty("jqx-bulletchart"));this.host.width(this.width);this.host.height(this.height);var q=this.host.width();var D=this.host.height();var t;var v=this.rtl?"rtl":"ltr";if(this.orientation=="horizontal"){t=c("<div style='position: absolute; visibility: hidden; padding: 5px;'><div class='"+this.toThemeProperty("jqx-bulletchart-title")+"' style='direction: "+v+";'>"+this.title+"</div><div class='"+this.toThemeProperty("jqx-bulletchart-description")+"' style='direction: "+v+";'>"+this.description+"</div></div>")}else{if(this.orientation=="vertical"){t=c("<div style='position: absolute; visibility: hidden; padding-bottom: 15px;'><div class='"+this.toThemeProperty("jqx-bulletchart-title")+"' style='width: "+q+"px; direction: "+v+";'>"+this.title+"</div><div class='"+this.toThemeProperty("jqx-bulletchart-description")+"' style='direction: "+v+";'>"+this.description+"</div></div>")}}this.host.append(t);var u=t.outerWidth();var A=t.outerHeight();t.remove();var C,z,w,F,a,s,B,E;if(this.orientation=="horizontal"){C="jqx-bulletchart-title-container-horizontal";z="jqx-bulletchart-chart-container-horizontal";w=this._checkPercentage(this.barSize,this.host);F=u;a=this.barSize;s=0;B=q-F;E=a;if(this.width&&this.width.toString().indexOf("%")>=0){var B=parseFloat(parseFloat(B*100)/q).toString()+"%";var F=parseFloat(parseFloat(F*100)/q).toString()+"%";this._percentageWidth=true}}else{if(this.orientation=="vertical"){C="jqx-bulletchart-title-container-vertical";z="jqx-bulletchart-chart-container-vertical";w=0;F="100%";a=A;s=this._checkPercentage(this.barSize,this.host);B=this.barSize;E=D-a}}if(this.rtl==false||(this.rtl==true&&this.orientation=="vertical")){this.host.append("<div id='"+this.element.id+"titleContainer' class='"+C+"' style='top: "+w+";'></div>")}this.host.append("<div id='"+this.element.id+"ChartContainer' class='"+z+"' style='top: "+w+"; left: "+s+";'></div>");if(this.rtl==true&&this.orientation=="horizontal"){this.host.append("<div id='"+this.element.id+"titleContainer' class='"+C+"' style='top: "+w+";'></div>")}this._titleContainer=c("#"+this.element.id+"titleContainer");this._chartContainer=c("#"+this.element.id+"ChartContainer");this._titleContainer.css({width:F,height:a});this._chartContainer.css({width:B,height:E});this._min=this.ranges[0].startValue;this._max=this.ranges[this.ranges.length-1].endValue;this._interval=this._max-this._min;this._valueToPixelsHorizontal=this._chartContainer.width()/this._interval;this._valueToPixelsVertical=this._chartContainer.height()/this._interval;this._checkValues();this._appendRanges();this._appendPointerAndTarget();this._appendTitleAndDescription();if(this.ticks.position!="none"){this._appendTicksAndLabels()}if(this.disabled==true){this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"))}if(this.showTooltip==true){if(this.host.jqxTooltip!=undefined){this._initializeTooltip();this.host.data().jqxWidget=this}else{throw new Error("jqxBulletChart: Missing reference to the following module: 'jqxtooltip.js'.")}}this._updateValue(this.pointer.value,0,true)},refresh:function(a){if(!a){this.render()}},val:function(a){if(arguments.length==0||(a!=null&&typeof(a)=="object")){return this.pointer.value}else{if(a>this._max){a=this._max}else{if(a<this._min){a=this._min}}if(a!=this.pointer.value){this._updateValue(a,this.pointer.value);this.pointer.value=a;if(this.showTooltip==true){this._updateTooltip()}}}},destroy:function(){c.jqx.utilities.resize(this.host,null,true);this._removeHandlers();if(this.showTooltip==true){this.host.jqxTooltip("destroy")}this.host.remove()},propertyChangedHandler:function(q,o,h,n){if(h!=n||n instanceof Object){var a=true;var l=function(){c.each(h,function(d,e){if(n[d]==undefined){q[o][d]=e}})};switch(o){case"barSize":break;case"ranges":c.each(h,function(d,e){c.each(e,function(f,s){if(n[d]===undefined){return}if(n[d][f]==undefined){q[o][d][f]=s}})});this._setDefaultValues();break;case"pointer":l();this._updatePointer(n,h);return;case"target":l();this._updateTarget(n,h);return;case"ticks":a=false;l();c.each(h,function(d,e){if(h[d]!=q[o][d]){a=!(a&&false)}});break;case"showTooltip":if(n==true){if(this.host.jqxTooltip!=undefined){this._initializeTooltip()}else{throw new Error("jqxBulletChart: Missing reference to the following module: 'jqxtooltip.js'.")}}else{this._removeHandlers();this.host.jqxTooltip("destroy")}break;case"animationDuration":return;case"tooltipFormatFunction":this._updateTooltip();return;case"disabled":if(n==true){this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"))}else{this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled"))}return}if(a==true){this.render()}}},_raiseEvent:function(h,n){var q=this.events[h];var l=new c.Event(q);l.owner=this;l.args=n;try{var a=this.host.trigger(l)}catch(o){}return a},_removeHandlers:function(){var a=c("#"+this.element.id+"Pointer, #"+this.element.id+"Target");this.removeHandler(a,"mouseenter.bulletchart"+this.element.id);this.removeHandler(a,"mouseleave.bulletchart"+this.element.id)},_setDefaultValues:function(){var a=this.ranges;var q=this.ranges.length;for(var o=0;o<q;o++){if(a[o].startValue==undefined||a[o].endValue==undefined){throw new Error("jqxBulletChart: Each range must have its startValue and endValue set.")}if(a[o].color==undefined){this.ranges[o].color="#000000"}if(a[o].opacity==undefined){this.ranges[o].opacity=1-(1/q)*o}}var h=this.pointer;if(h.value==undefined){this.pointer.value=65}if(h.label==undefined){this.pointer.label="Value"}if(h.size==undefined){this.pointer.size="25%"}if(h.color==undefined){this.pointer.color=""}var l=this.target;if(l.value==undefined){this.target.value=85}if(l.label==undefined){this.target.label="Target"}if(l.size==undefined){this.target.size=5}if(l.color==undefined){this.target.color=""}var n=this.ticks;if(n.position==undefined){this.ticks.position="near"}if(n.interval==undefined){this.ticks.interval=20}if(n.size==undefined){this.ticks.size=10}},_checkValues:function(){if(this.pointer.value>this._max){this.pointer.value=this._max}else{if(this.pointer.value<this._min){this.pointer.value=this._min}}if(this.target.value>this._max){this.target.value=this._max}else{if(this.target.value<this._min){this.target.value=this._min}}},_appendRanges:function(){var u="";var s=this.ranges.length;for(var v=0;v<s;v++){var t=this.ranges[v];var a;if(this.orientation=="horizontal"){var q=this.rtl?"right":"left";var w=(t.startValue-this._min)*this._valueToPixelsHorizontal;var o=(t.endValue-t.startValue)*this._valueToPixelsHorizontal;a="<div class='"+this.toThemeProperty("jqx-bulletchart-range")+" "+this.toThemeProperty("jqx-bulletchart-range-horizontal")+"' style='"+q+": "+w+"px; width: "+o+"px; background-color: "+t.color+"; opacity: "+t.opacity+"'></div>"}else{if(this.orientation=="vertical"){var z=(t.startValue-this._min)*this._valueToPixelsVertical;var n=(t.endValue-t.startValue)*this._valueToPixelsVertical;a="<div class='"+this.toThemeProperty("jqx-bulletchart-range")+" "+this.toThemeProperty("jqx-bulletchart-range-vertical")+"' style='bottom: "+z+"px; height: "+n+"px; background-color: "+t.color+"; opacity: "+t.opacity+"'></div>"}}u+=a}this._chartContainer.append(u)},_appendPointerAndTarget:function(){var C="";var E=this.element.id+"Pointer";var L=this.element.id+"Target";var F=this.pointer.size;var G=this.target.value;var M=this.target.size;var H=G>0?0:parseInt(M);var B=this.pointer.color.length>0?"":this.toThemeProperty("jqx-fill-state-pressed");var K=this.target.color.length>0?"":this.toThemeProperty("jqx-fill-state-pressed");if(this.orientation=="horizontal"){var O=this._normaliseValue(F);var D=this._checkPercentage(F,this._chartContainer);var N=this.rtl?"right":"left";var v=(G-this._min)*this._valueToPixelsHorizontal-H;var a=v+parseInt(M)-this._chartContainer.width();if(v<0){v=0}else{if(a>0){v-=a}}var I=this._normaliseValue(M);C+="<div class='"+K+" "+this.toThemeProperty("jqx-bulletchart-target")+" "+this.toThemeProperty("jqx-bulletchart-target-horizontal")+"' id='"+L+"' style='"+N+": "+v+"px; width: "+I+"; background-color: "+this.target.color+"'></div>";C+="<div class='"+B+" "+this.toThemeProperty("jqx-bulletchart-pointer")+"' id='"+E+"' style='top: "+D+"; height: "+O+"; background-color: "+this.pointer.color+"'></div>"}else{if(this.orientation=="vertical"){var z=this._chartContainer.width();var A=this._normaliseValue(F);var w=this._checkPercentage(F,this._chartContainer);var P=(G-this._min)*this._valueToPixelsVertical-H;var a=P+parseInt(M)-this._chartContainer.height();if(P<0){P=0}else{if(a>0){P-=a}}var J=this._normaliseValue(M);C+="<div class='"+K+" "+this.toThemeProperty("jqx-bulletchart-target")+" "+this.toThemeProperty("jqx-bulletchart-target-vertical")+"' id='"+L+"' style='bottom: "+P+"px; height: "+J+"; background-color: "+this.target.color+"'></div>";C+="<div class='"+B+" "+this.toThemeProperty("jqx-bulletchart-pointer")+"' id='"+E+"' style='left: "+w+"; width: "+A+"; background-color: "+this.pointer.color+"'></div>"}}this._chartContainer.append(C)},_updatePointer:function(u,l){var n=c("#"+this.element.id+"Pointer");if(u.value>this._max){this.pointer.value=this._max}else{if(u.value<this._min){this.pointer.value=this._min}}if(u.value!=l.value){this._updateValue(u.value,l.value);if(this.showTooltip==true){this._updateTooltip()}}if(u.label!=l.label){if(this.showTooltip==true){this._updateTooltip()}}if(u.size!=l.size){var t=u.size;if(this.orientation=="horizontal"){var o=this._checkPercentage(t,this._chartContainer);var a=this._normaliseValue(t);n.css({top:o,height:a})}else{if(this.orientation=="vertical"){var q=this._checkPercentage(t,this._chartContainer);var s=this._normaliseValue(t);n.css({left:q,width:s})}}}if(u.color!=l.color){if(u.color==""){n.css("background-color","");n.addClass(this.toThemeProperty("jqx-fill-state-pressed"))}else{n.removeClass(this.toThemeProperty("jqx-fill-state-pressed"));n.css("background-color",u.color)}}},_updateTarget:function(w,u){var t=c("#"+this.element.id+"Target");if(w.value>this._max){this.target.value=this._max}else{if(w.value<this._min){this.target.value=this._min}}if(w.value!=u.value||w.size!=u.size){var o=w.value;var a=parseInt(w.size);var v=o>0?0:a;if(this.orientation=="horizontal"){var n=this.rtl?"right":"left";var l=(o-this._min)*this._valueToPixelsHorizontal-v;var q=l+a-this._chartContainer.width();if(l<0){l=0}else{if(q>0){l-=q}}if(this.rtl==false){t.css("left",l)}else{t.css("right",l)}t.width(a)}else{if(this.orientation=="vertical"){var s=(o-this._min)*this._valueToPixelsVertical-v;var q=s+a-this._chartContainer.height();if(s<0){s=0}else{if(q>0){s-=q}}t.css({bottom:s,height:a})}}if(this.showTooltip==true){this._updateTooltip()}}if(w.label!=u.label){if(this.showTooltip==true){this._updateTooltip()}}if(w.color!=u.color){if(w.color==""){t.css("background-color","");t.addClass(this.toThemeProperty("jqx-fill-state-pressed"))}else{t.removeClass(this.toThemeProperty("jqx-fill-state-pressed"));t.css("background-color",w.color)}}},_appendTitleAndDescription:function(){var s;if(this.orientation=="horizontal"){if(this.rtl==true){s=this.toThemeProperty("jqx-bulletchart-title-description-rtl")}else{s=this.toThemeProperty("jqx-bulletchart-title-description-ltr")}}else{s=this.toThemeProperty("jqx-bulletchart-title-description-vertical")}var n=this.rtl?"rtl":"ltr";var a="<div id='"+this.element.id+"Title' class='"+this.toThemeProperty("jqx-bulletchart-title")+" "+s+"' style='direction: "+n+";'>"+this.title+"</div><div id='"+this.element.id+"Description' class='"+this.toThemeProperty("jqx-bulletchart-description")+" "+s+"' style='direction: "+n+";'>"+this.description+"</div>";var q=c("<div style='position: absolute; visibility: hidden;'>"+a+"</div>");this._titleContainer.append(q);var l=q.children();var t=c(l[0]).height()+c(l[1]).height();q.remove();var o;if(this.orientation=="horizontal"){if(this.rtl==false){o=this.toThemeProperty("jqx-bulletchart-title-inner-container")+" "+this.toThemeProperty("jqx-bulletchart-title-inner-container-ltr")}else{o=this.toThemeProperty("jqx-bulletchart-title-inner-container")+" "+this.toThemeProperty("jqx-bulletchart-title-inner-container-rtl")}}else{o=""}this._titleContainer.append("<div class='"+o+"' style='height: "+t+"px;'>"+a+"</div>")},_appendTicksAndLabels:function(){var u=c("<div style='position: absolute; visibility: hidden;'></div>");this._chartContainer.append(u);var B="";var F=this._min<0?true:false;var I=this.ticks.size;if(this.orientation=="horizontal"){var A=this._titleContainer.width();var a=this._chartContainer.offset().top-this.host.offset().top;if(this.ticks.position=="both"||this.ticks.position=="far"){var z=this._chartContainer.height()+a}for(var C=0;C<=this._interval;C+=this.ticks.interval){var H=C*this._valueToPixelsHorizontal+A;if(C+this.ticks.interval>this._interval){H-=1}if(F){var G=(C+this._min)==0?true:false;if(G){B+="<div class='"+this.toThemeProperty("jqx-bulletchart-ticks")+" "+this.toThemeProperty("jqx-bulletchart-ticks-horizontal")+" "+this.toThemeProperty("jqx-bulletchart-zero-tick")+"' style='top: "+a+"px; "+w+": "+H+"px; height: "+this._chartContainer.height()+"px;'></div>";F=false}}var v=this._labelValue(C);u.html(v);var t=H-u.width()/2;var w=this.rtl?"right":"left";if(this.ticks.position=="both"||this.ticks.position=="far"){B+="<div class='"+this.toThemeProperty("jqx-bulletchart-ticks")+" "+this.toThemeProperty("jqx-bulletchart-ticks-horizontal")+"' style='top: "+z+"px; "+w+": "+H+"px; height: "+I+"px;'></div>";B+="<div class='"+this.toThemeProperty("jqx-bulletchart-labels")+"' style='top: "+(z+I+2)+"px; "+w+": "+t+"px;'>"+v+"</div>"}if(this.ticks.position=="both"||this.ticks.position=="near"){B+="<div class='"+this.toThemeProperty("jqx-bulletchart-ticks")+" "+this.toThemeProperty("jqx-bulletchart-ticks-horizontal")+"' style='top: "+(a-I)+"px; "+w+": "+H+"px; height: "+I+"px;'></div>";B+="<div class='"+this.toThemeProperty("jqx-bulletchart-labels")+"' style='top: "+(a-(I+u.height()+2))+"px; "+w+": "+t+"px;'>"+v+"</div>"}}}else{if(this.orientation=="vertical"){var D=this._chartContainer.offset().left-this.host.offset().left;if(this.ticks.position=="both"||this.ticks.position=="far"){var s=this._chartContainer.width()}for(var C=0;C<=this._interval;C+=this.ticks.interval){var E=C*this._valueToPixelsVertical;if(C+this.ticks.interval>this._interval){E-=1}if(F){var G=(C+this._min)==0?true:false;if(G){B+="<div class='"+this.toThemeProperty("jqx-bulletchart-ticks")+" "+this.toThemeProperty("jqx-bulletchart-ticks-vertical")+" "+this.toThemeProperty("jqx-bulletchart-zero-tick")+"' style='left: "+D+"px; bottom: "+E+"px; width: "+s+"px;'></div>";F=false}}if(this.ticks.position=="both"||this.ticks.position=="near"){B+="<div class='"+this.toThemeProperty("jqx-bulletchart-ticks")+" "+this.toThemeProperty("jqx-bulletchart-ticks-vertical")+"' style='left: "+(D-I)+"px; bottom: "+E+"px; width: "+I+"px;'></div>";var v=this._labelValue(C,"near");u.html(v);var t=u.height()/2-1;B+="<div class='"+this.toThemeProperty("jqx-bulletchart-labels")+"' style='left: "+(D-(I+u.width()+2))+"px; bottom: "+(E-t)+"px;'>"+v+"</div>"}if(this.ticks.position=="both"||this.ticks.position=="far"){B+="<div class='"+this.toThemeProperty("jqx-bulletchart-ticks")+" "+this.toThemeProperty("jqx-bulletchart-ticks-vertical")+"' style='left: "+(s+D)+"px; bottom: "+E+"px; width: "+I+"px;'></div>";var v=this._labelValue(C,"far");u.html(v);var t=u.height()/2-1;B+="<div class='"+this.toThemeProperty("jqx-bulletchart-labels")+"' style='left: "+(s+D+I+2)+"px; bottom: "+(E-t)+"px;'>"+v+"</div>"}}}}this.host.append(B);u.remove()},_labelValue:function(h,a){var f=h+this._min;var l;if(this.labelsFormatFunction){l=this.labelsFormatFunction(f,a)}else{l=c.jqx.dataFormat.formatnumber(f,this.labelsFormat)}return l},_initializeTooltip:function(){var f=this;var e=this._tooltipContent();this.host.jqxTooltip({theme:this.theme,position:"mouse",content:e,trigger:"none",autoHide:false,rtl:this.rtl});this.host.jqxTooltip("getInstance").val=c.proxy(this.val,this);var a=c("#"+this.element.id+"Pointer, #"+this.element.id+"Target");this.addHandler(a,"mouseenter.bulletchart"+this.element.id,function(d){if(f.disabled==false){f.host.jqxTooltip("open",d.pageX,d.pageY);if(d.target.id==f.element.id+"Pointer"&&f.pointer.color==""||d.target.id==f.element.id+"Target"&&f.target.color==""){c(d.target).removeClass(f.toThemeProperty("jqx-fill-state-pressed"));c(d.target).addClass(f.toThemeProperty("jqx-fill-state-hover"))}}});this.addHandler(a,"mouseleave.bulletchart"+this.element.id,function(d){if(f.disabled==false){f.host.jqxTooltip("close");if(d.target.id==f.element.id+"Pointer"&&f.pointer.color==""||d.target.id==f.element.id+"Target"&&f.target.color==""){c(d.target).removeClass(f.toThemeProperty("jqx-fill-state-hover"));c(d.target).addClass(f.toThemeProperty("jqx-fill-state-pressed"))}}})},_updateTooltip:function(){this.host.jqxTooltip({content:this._tooltipContent()})},_tooltipContent:function(){var f;if(this.tooltipFormatFunction){f=this.tooltipFormatFunction(this.pointer.value,this.target.value)}else{var a=c.jqx.dataFormat.formatnumber(this.pointer.value,this.labelsFormat);var e=c.jqx.dataFormat.formatnumber(this.target.value,this.labelsFormat);f="<div>"+this.pointer.label+": "+a+"</div><div>"+this.target.label+": "+e+"</div>"}return f},_updateValue:function(o,B,s){var t=this;var C=c("#"+this.element.id+"Pointer");var w,v,q,a;var z=function(f,d,e){if(t._min>=0){if(f=="vertical"){C.css("bottom",0)}else{if(t.rtl==true&&f=="horizontal"){C.css("right",0)}}w=(o-t._min)*d}else{if(o>=0){if(f=="horizontal"){if(t.rtl==true){v="right";q="left"}else{v="left"}}else{if(f=="vertical"){v="bottom";q="top"}}var h=-t._min*d}else{if(f=="horizontal"){if(t.rtl==true){v="left"}else{v="right";q="left"}}else{if(f=="vertical"){v="top"}}var h=e+t._min*d}C.css(v,h);if(q){C.css(q,"")}if(o*B<0){if(f=="horizontal"){C.width(0)}else{if(f=="vertical"){C.height(0)}}}w=Math.abs(o*d)}return w};var u=function(){if(!s){t._raiseEvent("0")}};if(this.orientation=="horizontal"){var A=z("horizontal",this._valueToPixelsHorizontal,this._chartContainer.width());setTimeout(function(){C.animate({width:A},t.animationDuration,u)},0)}else{if(this.orientation=="vertical"){var D=z("vertical",this._valueToPixelsVertical,this._chartContainer.height());setTimeout(function(){C.animate({height:D},t.animationDuration,u)},0)}}},_checkPercentage:function(l,o){var q=-1;if(l.indexOf){q=l.indexOf("%")}var h=function(d){if(!l.indexOf||l.indexOf("px")==-1){return d}else{return parseFloat(d.slice(0,l.indexOf("px")))}};var n=function(d){return parseFloat(d.slice(0,q))};if(q==-1){var a;if(this.orientation=="horizontal"){a=o.height()}else{if(this.orientation=="vertical"){a=o.width()}}return((a-h(l))/2)+"px"}else{return((100-n(l))/2)+"%"}},_normaliseValue:function(a){if(!a.indexOf||(a.indexOf("px")==-1&&a.indexOf("%")==-1)){return a+"px"}else{return a}}})})(jqxBaseFramework);(function(d){d.jqx.jqxWidget("jqxEditor","",{});d.extend(d.jqx._jqxEditor.prototype,{defineInstance:function(){var a={width:null,height:null,disabled:false,pasteMode:"html",editable:true,lineBreak:"default",changeType:null,toolbarPosition:"top",fontFamily:"sans-serif",commands:{bold:{tooltip:"Bold",command:"bold",type:"toggleButton"},italic:{tooltip:"Italic",command:"italic",type:"toggleButton"},underline:{tooltip:"Underline",command:"underline",type:"toggleButton"},format:{placeHolder:"Format Block",tooltip:"Format Block",command:"formatblock",value:[{value:"p",label:"Paragraph"},{value:"h1",label:"Header 1"},{value:"h2",label:"Header 2"},{value:"h3",label:"Header 3"},{value:"h4",label:"Header 4"}],type:"list",width:120,dropDownWidth:190,height:25},font:{placeHolder:"Font",tooltip:"Font Name",command:"fontname",value:[{label:"Arial",value:"Arial, Helvetica, sans-serif"},{label:"Comic Sans MS",value:'"Comic Sans MS", cursive, sans-serif'},{label:"Courier New",value:'"Courier New", Courier, monospace'},{label:"Georgia",value:"Georgia,serif"},{label:"Impact",value:"Impact,Charcoal,sans-serif"},{label:"Lucida Console",value:"'Lucida Console',Monaco,monospace"},{label:"Tahoma",value:"Tahoma,Geneva,sans-serif"},{label:"Times New Roman",value:"'Times New Roman',Times,serif"},{label:"Trebuchet MS",value:'"Trebuchet MS",Helvetica,sans-serif'},{label:"Verdana",value:"Verdana,Geneva,sans-serif"}],type:"list",width:160,height:25,dropDownWidth:160},size:{placeHolder:"Size",tooltip:"Font Size",command:"fontsize",value:[{label:"1 (8pt)",value:"xx-small"},{label:"2 (10pt)",value:"x-small"},{label:"3 (12pt)",value:"small"},{label:"4 (14pt)",value:"medium"},{label:"5 (18pt)",value:"large"},{label:"6 (24pt)",value:"x-large"},{label:"7 (36pt)",value:"xx-large"}],type:"list",width:45,height:25,dropDownWidth:160},color:{tooltip:"Text Color",command:"forecolor",value:"#000",type:"colorPicker"},background:{tooltip:"Fill Color",command:"backcolor",value:"#fff",type:"colorPicker"},left:{tooltip:"Align Left",command:"justifyleft",type:"toggleButton"},center:{tooltip:"Align Center",command:"justifycenter",type:"toggleButton"},right:{tooltip:"Align Right",command:"justifyright",type:"toggleButton"},outdent:{tooltip:"Indent Less",command:"outdent",type:"button"},indent:{tooltip:"Indent More",command:"indent",type:"button"},ul:{tooltip:"Insert unordered list",command:"insertunorderedlist",type:"toggleButton"},ol:{tooltip:"Insert ordered list",command:"insertorderedlist",type:"toggleButton"},image:{tooltip:"Insert image",command:"insertimage",type:"button"},link:{tooltip:"Insert link",command:"createlink",type:"toggleButton"},html:{tooltip:"View source",command:"viewsource",type:"toggleButton"},clean:{tooltip:"Remove Formatting",command:"removeformat",type:"button"}},createCommand:null,defaultLocalization:{bold:"Bold",italic:"Italic",underline:"Underline",format:"Format Block",font:"Font Name",size:"Font Size",color:"Text Color",background:"Fill Color",left:"Align Left",center:"Align Center",right:"Align Right",outdent:"Indent Less",indent:"Indent More",ul:"Insert unordered list",ol:"Insert ordered list",image:"Insert image",link:"Insert link",html:"View source",clean:"Remove Formatting",Remove:"Remove",Ok:"Ok",Cancel:"Cancel",Change:"Change","Go to link":"Go to link","Open in a new window/tab":"Open in a new window/tab",Align:"Align",VSpace:"VSpace",HSpace:"HSpace",Width:"Width",Height:"Height",Title:"Title",URL:"URL","Insert Image":"Insert Image","Insert Link":"Insert Link","Alt Text":"Alt Text","not set":"&ltnot set&gt",Left:"Left",Right:"Right",Paragraph:"Paragraph",Header:"Header",Arial:"Arial","Comic Sans MS":"Comic Sans MS","Courier New":"Courier New",Georgia:"Georgia",Impact:"Impact","Lucida Console":"Lucida Console",Tahoma:"Tahoma","Times New Roman":"Times New Roman","Trebuchet MS":"Trebuchet MS",Verdana:"Verdana"},localization:null,tools:"bold italic underline | format font size | color background | left center right | outdent indent | ul ol | image | link | clean | html",readOnly:false,stylesheets:new Array(),rtl:false,colorPickerTemplate:'<div class="jqx-editor-color-picker"><div role="grid"><table class="jqx-editor-color-picker-table" cellspacing="0" cellpadding="0"><tbody><tr><td aria-label="RGB (0, 0, 0)"><div title="RGB (0, 0, 0)" style="background-color: rgb(0, 0, 0);"></div></td><td aria-label="RGB (68, 68, 68)"><div title="RGB (68, 68, 68)" style="background-color: rgb(68, 68, 68);"></div></td><td aria-label="RGB (102, 102, 102)"><div title="RGB (102, 102, 102)" style="background-color: rgb(102, 102, 102);"></div></td><td aria-label="RGB (153, 153, 153)"><div title="RGB (153, 153, 153)" style="background-color: rgb(153, 153, 153);"></div></td><td aria-label="RGB (204, 204, 204)"><div title="RGB (204, 204, 204)" style="background-color: rgb(204, 204, 204);"></div></td><td aria-label="RGB (238, 238, 238)"><div title="RGB (238, 238, 238)" style="background-color: rgb(238, 238, 238);"></div></td><td aria-label="RGB (243, 243, 243)"><div title="RGB (243, 243, 243)" style="background-color: rgb(243, 243, 243);"></div></td><td aria-label="RGB (255, 255, 255)"><div title="RGB (255, 255, 255)" style="background-color: rgb(255, 255, 255);"></div></td></tr></tbody></table></div><div role="grid"><table class="jqx-editor-color-picker-table" cellspacing="0" cellpadding="0"><tbody><tr><td aria-label="RGB (255, 0, 0)"><div title="RGB (255, 0, 0)" style="background-color: rgb(255, 0, 0);"></div></td><td aria-label="RGB (255, 153, 0)"><div title="RGB (255, 153, 0)" style="background-color: rgb(255, 153, 0);"></div></td><td aria-label="RGB (255, 255, 0)"><div title="RGB (255, 255, 0)" style="background-color: rgb(255, 255, 0);"></div></td><td aria-label="RGB (0, 255, 0)"><div title="RGB (0, 255, 0)" style="background-color: rgb(0, 255, 0);"></div></td><td aria-label="RGB (0, 255, 255)"><div title="RGB (0, 255, 255)" style="background-color: rgb(0, 255, 255);"></div></td><td aria-label="RGB (0, 0, 255)"><div title="RGB (0, 0, 255)" style="background-color: rgb(0, 0, 255);"></div></td><td aria-label="RGB (153, 0, 255)"><div title="RGB (153, 0, 255)" style="background-color: rgb(153, 0, 255);"></div></td><td aria-label="RGB (255, 0, 255)"><div title="RGB (255, 0, 255)" style="background-color: rgb(255, 0, 255);"></div></td></tr></tbody></table></div><div role="grid"><table class="jqx-editor-color-picker-table" cellspacing="0" cellpadding="0"><tbody><tr><td aria-label="RGB (244, 204, 204)"><div title="RGB (244, 204, 204)" style="background-color: rgb(244, 204, 204);"></div></td><td aria-label="RGB (252, 229, 205)"><div title="RGB (252, 229, 205)" style="background-color: rgb(252, 229, 205);"></div></td><td aria-label="RGB (255, 242, 204)"><div title="RGB (255, 242, 204)" style="background-color: rgb(255, 242, 204);"></div></td><td aria-label="RGB (217, 234, 211)"><div title="RGB (217, 234, 211)" style="background-color: rgb(217, 234, 211);"></div></td><td aria-label="RGB (208, 224, 227)"><div title="RGB (208, 224, 227)" style="background-color: rgb(208, 224, 227);"></div></td><td aria-label="RGB (207, 226, 243)"><div title="RGB (207, 226, 243)" style="background-color: rgb(207, 226, 243);"></div></td><td aria-label="RGB (217, 210, 233)"><div title="RGB (217, 210, 233)" style="background-color: rgb(217, 210, 233);"></div></td><td aria-label="RGB (234, 209, 220)"><div title="RGB (234, 209, 220)" style="background-color: rgb(234, 209, 220);"></div></td></tr><tr><td id="T-Kw-Jn88" aria-label="RGB (234, 153, 153)"><div title="RGB (234, 153, 153)" style="background-color: rgb(234, 153, 153);"></div></td><td aria-label="RGB (249, 203, 156)"><div title="RGB (249, 203, 156)" style="background-color: rgb(249, 203, 156);"></div></td><td aria-label="RGB (255, 229, 153)"><div title="RGB (255, 229, 153)" style="background-color: rgb(255, 229, 153);"></div></td><td aria-label="RGB (182, 215, 168)"><div title="RGB (182, 215, 168)" style="background-color: rgb(182, 215, 168);"></div></td><td aria-label="RGB (162, 196, 201)"><div title="RGB (162, 196, 201)" style="background-color: rgb(162, 196, 201);"></div></td><td aria-label="RGB (159, 197, 232)"><div title="RGB (159, 197, 232)" style="background-color: rgb(159, 197, 232);"></div></td><td aria-label="RGB (180, 167, 214)"><div title="RGB (180, 167, 214)" style="background-color: rgb(180, 167, 214);"></div></td><td aria-label="RGB (213, 166, 189)"><div title="RGB (213, 166, 189)" style="background-color: rgb(213, 166, 189);"></div></td></tr><tr><td aria-label="RGB (224, 102, 102)"><div title="RGB (224, 102, 102)" style="background-color: rgb(224, 102, 102);"></div></td><td aria-label="RGB (246, 178, 107)"><div title="RGB (246, 178, 107)" style="background-color: rgb(246, 178, 107);"></div></td><td aria-label="RGB (255, 217, 102)"><div title="RGB (255, 217, 102)" style="background-color: rgb(255, 217, 102);"></div></td><td aria-label="RGB (147, 196, 125)"><div title="RGB (147, 196, 125)" style="background-color: rgb(147, 196, 125);"></div></td><td aria-label="RGB (118, 165, 175)"><div title="RGB (118, 165, 175)" style="background-color: rgb(118, 165, 175);"></div></td><td aria-label="RGB (111, 168, 220)"><div title="RGB (111, 168, 220)" style="background-color: rgb(111, 168, 220);"></div></td><td aria-label="RGB (142, 124, 195)"><div title="RGB (142, 124, 195)" style="background-color: rgb(142, 124, 195);"></div></td><td aria-label="RGB (194, 123, 160)"><div title="RGB (194, 123, 160)" style="background-color: rgb(194, 123, 160);"></div></td></tr><tr><td id="T-Kw-Jn104" aria-label="RGB (204, 0, 0)"><div title="RGB (204, 0, 0)" style="background-color: rgb(204, 0, 0);"></div></td><td aria-label="RGB (230, 145, 56)"><div title="RGB (230, 145, 56)" style="background-color: rgb(230, 145, 56);"></div></td><td aria-label="RGB (241, 194, 50)"><div title="RGB (241, 194, 50)" style="background-color: rgb(241, 194, 50);"></div></td><td aria-label="RGB (106, 168, 79)"><div title="RGB (106, 168, 79)" style="background-color: rgb(106, 168, 79);"></div></td><td aria-label="RGB (69, 129, 142)"><div title="RGB (69, 129, 142)" style="background-color: rgb(69, 129, 142);"></div></td><td aria-label="RGB (61, 133, 198)"><div title="RGB (61, 133, 198)" style="background-color: rgb(61, 133, 198);"></div></td><td aria-label="RGB (103, 78, 167)"><div title="RGB (103, 78, 167)" style="background-color: rgb(103, 78, 167);"></div></td><td aria-label="RGB (166, 77, 121)"><div title="RGB (166, 77, 121)" style="background-color: rgb(166, 77, 121);"></div></td></tr><tr><td aria-label="RGB (153, 0, 0)"><div title="RGB (153, 0, 0)" style="background-color: rgb(153, 0, 0);"></div></td><td aria-label="RGB (180, 95, 6)"><div title="RGB (180, 95, 6)" style="background-color: rgb(180, 95, 6);"></div></td><td aria-label="RGB (191, 144, 0)"><div title="RGB (191, 144, 0)" style="background-color: rgb(191, 144, 0);"></div></td><td aria-label="RGB (56, 118, 29)"><div title="RGB (56, 118, 29)" style="background-color: rgb(56, 118, 29);"></div></td><td aria-label="RGB (19, 79, 92)"><div title="RGB (19, 79, 92)" style="background-color: rgb(19, 79, 92);"></div></td><td aria-label="RGB (11, 83, 148)"><div title="RGB (11, 83, 148)" style="background-color: rgb(11, 83, 148);"></div></td><td aria-label="RGB (53, 28, 117)"><div title="RGB (53, 28, 117)" style="background-color: rgb(53, 28, 117);"></div></td><td aria-label="RGB (116, 27, 71)"><div title="RGB (116, 27, 71)" style="background-color: rgb(116, 27, 71);"></div></td></tr><tr><td aria-label="RGB (102, 0, 0)"><div title="RGB (102, 0, 0)" style="background-color: rgb(102, 0, 0);"></div></td><td aria-label="RGB (120, 63, 4)"><div title="RGB (120, 63, 4)" style="background-color: rgb(120, 63, 4);"></div></td><td aria-label="RGB (127, 96, 0)"><div title="RGB (127, 96, 0)" style="background-color: rgb(127, 96, 0);"></div></td><td aria-label="RGB (39, 78, 19)"><div title="RGB (39, 78, 19)" style="background-color: rgb(39, 78, 19);"></div></td><td aria-label="RGB (12, 52, 61)"><div title="RGB (12, 52, 61)" style="background-color: rgb(12, 52, 61);"></div></td><td aria-label="RGB (7, 55, 99)"><div title="RGB (7, 55, 99)" style="background-color: rgb(7, 55, 99);"></div></td><td aria-label="RGB (32, 18, 77)"><div title="RGB (32, 18, 77)" style="background-color: rgb(32, 18, 77);"></div></td><td aria-label="RGB (76, 17, 48)"><div title="RGB (76, 17, 48)" style="background-color: rgb(76, 17, 48);"></div></td></tr></tbody></table></div></div>',touchMode:false,keyPressed:null,events:["change"]};d.extend(true,this,a);this.localization=this.defaultLocalization;return a},createInstance:function(q){var c=this;c.textArea=c.host;var t=c.host.attr("contenteditable");c.host.addClass(c.toThemeProperty("jqx-widget"));if(t==true||t=="true"){c.inline=true;c.widget=c.host;c.editorDocument=document;c.selection=new e(c.editorDocument);var l=d("<div class='jqx-editor-toolbar-container' unselectable='on' aria-label='Formatting options' role='toolbar'><div class='jqx-editor-toolbar'></div>");l.insertBefore(c.host);c.toolbarContainer=l;c.toolbar=l.find(".jqx-editor-toolbar");c.editor=c.host;c.contentEditableElement=c.element}else{var o=d("<div class='jqx-editor'><div class='jqx-editor-container'><div class='jqx-editor-toolbar-container' aria-label='Formatting options' role='toolbar'><div class='jqx-editor-toolbar'></div></div><div class='jqx-editor-content'><iframe  src='javascript:\"<html></html>\"' allowtransparency='true' frameborder='0'></iframe></div></div></div>");c.widget=o;c.widget[0].className=c.widget[0].className+" "+c.element.className;try{c.widget[0].style=c.element.style}catch(s){}var n=d.trim(c.host.html())+"&#8203;";if(c.lineBreak=="default"||c.lineBreak=="div"){n="<div>"+n+"</div>"}else{if(c.lineBreak=="p"){n="<p>"+n+"</p>"}}n=n.replace(/&lt;/ig,"<");n=n.replace(/&gt;/ig,">");c.host.css("display","none");c.host.after(o);o.find("iframe").after(c.host);c.container=o.find(".jqx-editor-container");c.toolbarContainer=o.find(".jqx-editor-toolbar-container");c.toolbar=o.find(".jqx-editor-toolbar");c.iframe=o.find("iframe");c.content=o.find(".jqx-editor-content");var a=function(){c.editorDocument=c.iframe[0].contentWindow.document;c.selection=new e(c.editorDocument);var w=0;c.addHandler(c.iframe,"load",function(){w++;if(w>1){c.iframe.off("load");c.content.find("iframe").remove();var A=d("<iframe  src='javascript:\"<html></html>\"' allowtransparency='true' frameborder='0'></iframe>").appendTo(c.content);c.iframe=o.find("iframe");a()}});if(!d.jqx.browser.mozilla){c.editorDocument.designMode="On"}c.editorDocument.open();var h=c.rtl?"direction:rtl;":"";var u=d.jqx.browser.msie?"::selection{color: #fff; background: #328EFD;};::-moz-selection{color: #fff; background: #328eD;};::selection:window-inactive {background: #c7c7c7; color: #000;}::-moz-selection:window-inactive {background: #c7c7c7; color: #000;}html{font-size:13px; height:100%;}body{padding-top:1px;margin-top:-1px; padding-right: 1px; overflow-x: hidden;word-wrap: break-word;-webkit-nbsp-mode: space;-webkit-line-break: after-white-space;":"";c.editorDocument.write("<!DOCTYPE html><html><head><meta charset='utf-8' /><style>html,body{padding:0; margin:0; font-size: 13px; font-family: "+c.fontFamily+"; background:#fff; min-height:100%; "+h+"}"+u+"}h1{font-size:2em;margin:.67em 0}h2{font-size: 1.5em; margin: .75em 0}h3{font-size: 1.17em; margin: .83em 0}h4{font-size:1em; margin: 1.12em 0 }h5{font-size: .83em; margin: 1.5em 0}h6{font-size: .75em; margin: 1.67em 0}p{margin: 0px;padding:0 .2em}ul,ol{padding-left:2.5em}a{color:#00a}code{font-size:1.23em}.jqx-editor-paste-element {position: absolute; left: -1000px; height: 1px; overflow: hidden; top: -1000px;}.jqx-editor-focus {border: 1px solid #aaa !important;}</style>"+d.map(c.stylesheets,function(A){return"<link rel='stylesheet' href='"+A+"'>"}).join("")+"</head><body autocorrect='off' contenteditable='true'></body></html>");c.contentEditableElement=c.editorDocument.body;if(c.host.is("textarea")){c._textArea=c.element;var z=c.host.data();z.jqxEditor.host=o;z.jqxEditor.element=o[0];c.element=o[0];o[0].id=c._textArea.id;c._textArea.id=c._textArea.id+"TextArea";d(c.element).addClass(c.toThemeProperty("jqx-widget"));c.host=d(c.element);c.host.data(z)}else{var z=c.host.data();z.jqxEditor.host=o;z.jqxEditor.element=o[0];c.element=o[0];c.host=d(c.element);c.host.data(z)}try{c.editorDocument.execCommand("useCSS",false,false);c.editorDocument.execCommand("enableInlineTableEditing",null,false)}catch(v){}try{c.editorDocument.execCommand("styleWithCSS",0,true)}catch(v){}c.editorDocument.close();c.editor=d(c.editorDocument.body);c.editor.html(n).attr("spellcheck",false).attr("autocorrect","off")};a();d.jqx.utilities.resize(c.host,function(){c.widget.css("width",c.width);c.widget.css("height",c.height);c._arrange()})}},focus:function(){var a=this;if(d.jqx.browser.mozilla){if(!a.focused){if(a.iframe){a.iframe.focus()}a.selection.selectNode(a.editor[0].firstChild,true);a.selection.getRange().collapse(true)}}a.editor.focus();var c=a.range!=null?a.range:a.getRange();a.selectRange(c)},print:function(){var a=window.open("","_blank","width=450,height=470,left=400,top=100,menubar=yes,toolbar=no,location=no,scrollbars=yes");a.document.open();a.document.write('<!doctype html><html><head><title>Print</title></head><body onload="print();">'+this.val()+"</body></html>");a.document.close()},refresh:function(E){var u=this;d.each(this.defaultLocalization,function(h,l){if(!u.localization[h]){u.localization[h]=l}});u._removeHandlers();u.toolbar.addClass(u.toThemeProperty("jqx-widget-header"));if(u.content){u.widget.css("width",u.width);u.widget.css("height",u.height);u.widget.addClass(u.toThemeProperty("jqx-editor"));u.widget.addClass(u.toThemeProperty("jqx-widget"));u.widget.addClass(u.toThemeProperty("jqx-rc-all"));u.widget.addClass(u.toThemeProperty("jqx-widget-header"));u.content.addClass(u.toThemeProperty("jqx-widget-content"));u.container.addClass(u.toThemeProperty("jqx-editor-container"))}else{u.toolbarContainer.addClass(u.toThemeProperty("jqx-widget-header"));u.toolbarContainer.addClass(u.toThemeProperty("jqx-editor-toolbar-inline"));u.toolbarContainer.addClass(u.toThemeProperty("jqx-widget"));u.toolbarContainer.addClass(u.toThemeProperty("jqx-rc-all"));u.toolbarContainer.hide();u.toolbarContainer.css("position","absolute");u.editor.addClass(u.toThemeProperty("jqx-editor-inline"));u.toolbarContainer.css("width",u.host.outerWidth()+"px")}var t=u.toolbarContainer.index();if(u.toolbarPosition=="top"&&t!=0||u.toolbarPosition=="bottom"&&t!=1){switch(u.toolbarPosition){case"bottom":u.toolbarContainer.insertAfter(u.content);break;case"top":default:u.toolbarContainer.insertBefore(u.content);break}}var A=u.tools;if(A!==false){var v=A.split(" ");var c=A.split(" | ");var a=function(h,l){d.each(l,function(V,ac){var ad=u.commands[this];if(!ad){if(u.createCommand){ad=u.createCommand(this.toString());if(!ad){return true}if(!u.commands[this]){u.commands[this]=ad}}else{return true}}else{if(u.createCommand){var X=u.createCommand(this.toString());ad=d.extend(ad,X)}}if(u.localization[this]){ad.tooltip=u.localization[this]}switch(ad.type){case"list":if(ad.widget){ad.widget.jqxDropDownList("destroy")}var ak=function(G,H,F){if(ad.command=="formatblock"){return"<"+F+' unselectable="on" style="padding: 0px; margin: 0px;">'+H+"</"+F+">"}else{if(ad.command=="fontname"){return'<span unselectable="on" style="font-family: '+F+';">'+H+"<span>"}else{if(ad.command=="fontsize"){return'<span unselectable="on" style="font-size: '+F+';">'+H+"<span>"}}}};var af=function(){var G=u.toThemeProperty("jqx-editor-toolbar-icon")+" "+u.toThemeProperty("jqx-editor-toolbar-icon-"+ad.command);var F="<div unselectable='on' style='margin-top: 0px; padding:0px;' class='"+G+"'></div>";return F};var ai=ad.command=="formatblock"||ad.command=="fontname"||ad.command=="fontsize";var T=ad.value||[];var q=new Array();var U=ad.placeHolder||"Please Choose:";if(ad.command=="fontname"){d.each(T,function(){var F=u.localization[this.label];q.push({label:F,value:this.value})})}else{if(ad.command=="formatblock"){U=u.localization.format;d.each(T,function(){if(this.label.indexOf("Header")>=0){var F=this.label.replace("Header",u.localization.Header)}else{var F=u.localization[this.label]}q.push({label:F,value:this.value})})}else{q=T}}var n={enableBrowserBoundsDetection:true,touchMode:u.touchMode,width:ad.width||100,height:ad.height||25,dropDownWidth:ad.dropDownWidth||"auto",autoDropDownHeight:(ad.value&&ad.value.length)<12?true:false,placeHolder:U,source:q,theme:u.theme,keyboardSelection:false,focusable:false,disabled:u.disabled,rtl:u.rtl,selectionRenderer:ad.command=="fontsize"?af:null,renderer:ai?ak:null};var ah="jqx-disableselect "+u.toThemeProperty("jqx-editor-dropdownlist")+" "+u.toThemeProperty("jqx-editor-toolbar-item");var Z=d("<div unselectable='on' class='"+ah+"'></div>");Z.appendTo(h);Z.jqxDropDownList(n);if(ad.init){ad.init(Z)}var ac=null;var ae=null;var S="";u.addHandler(Z,"mousedown",function(F){if(d(".jqx-editor-dropdownpicker").length>0){d(".jqx-editor-dropdownpicker").jqxDropDownButton("close")}if(d(".jqx-editor-dropdownlist").length>0){var G=d(".jqx-editor-dropdownlist");d.each(G,function(I,H){if(H!=Z[0]){d(H).jqxDropDownList("close")}})}});u.addHandler(Z,"open",function(F){if(!u.focused){u.focus()}u.updating=true;u.activeElement=Z;ac=Z.val();S=""});u.addHandler(Z,"change",function(F){u.updating=false;u.activeElement=null;ae=Z.val();S=F.args.type;if(d.jqx.browser.msie&&d.jqx.browser.version<9){u.focus()}});u.addHandler(Z,"close",function(F){u.updating=false;u.activeElement=null;if(ac!=ae){if(S=="mouse"||S=="keyboard"){u._refreshTools()}}});u._addCommandHandler(Z,"change",ad.command,null,ad);break;case"colorPicker":if(ad.widget){d(ad.colorPicker).remove();ad.widget.jqxDropDownButton("destroy")}var aj=d('<div unselectable="on" style="padding-top: 4px;"></div>').attr("id","picker-"+ad.command);var ah="jqx-disableselect "+u.toThemeProperty("jqx-editor-dropdownpicker")+" "+u.toThemeProperty("jqx-editor-toolbar-item");var Z=d("<div unselectable='on' class='"+ah+"'></div>");Z.appendTo(h);Z.append(aj);Z.jqxDropDownButton({touchMode:u.touchMode,disabled:u.disabled,enableBrowserBoundsDetection:true,width:ad.width||45,height:ad.height||25,rtl:u.rtl,focusable:false,theme:u.theme});var W=d('<div unselectable="on" style="z-index: 55;">');var ag=u.toThemeProperty("jqx-editor-toolbar-icon")+" "+u.toThemeProperty("jqx-editor-toolbar-icon-"+ad.command);var o=d("<div unselectable='on' class='"+ag+"'></div>");W.append(o);var R=d('<div unselectable="on" class="jqx-editor-color-bar">').attr("id","bar-"+ad.command).css("background-color",ad.value);W.append(R);Z.jqxDropDownButton("setContent",W);aj.append(d(u.colorPickerTemplate));ad.colorPicker=aj;if(ad.init){ad.init(Z)}aj.find("tr").attr("role","row").attr("unselectable","on");aj.find("td").attr("role","gridcell").attr("unselectable","on").css("-webkit-user-select","none");aj.find("div").attr("unselectable","on");u.addHandler(Z,"mousedown",function(F){if(d(".jqx-editor-dropdownlist").length>0){d(".jqx-editor-dropdownlist").jqxDropDownList("close")}if(d(".jqx-editor-dropdownpicker").length>0){var G=d(".jqx-editor-dropdownpicker");d.each(G,function(I,H){if(H!=Z[0]){d(H).jqxDropDownButton("close")}})}});u.addHandler(Z,"open",function(){if(!u.focused){u.focus()}u.updating=true;u.activeElement=aj});u.addHandler(Z,"close",function(F){u.updating=false;u.activeElement=null;if(ac!=ae){if(S=="mouse"||S=="keyboard"){u._refreshTools()}}});u.addHandler(aj,"keydown",function(P){var H=P.keyCode;var K=d(aj).find(".jqx-editor-color-picker-selected-cell");var F=aj.find("tr");var M=F.length;var N=K.parent().children().length;var L=K.index();var J=-999;var G=K.parent();d.each(F,function(am,al){if(this==G[0]){J=am;return false}});switch(H){case 27:Z.jqxDropDownButton("close");break;case 13:d(K).trigger("mousedown");break;case 38:J--;break;case 40:J++;break;case 39:L++;break;case 37:L--;break}if(J>=0&&J<=M){if(L>=0&&L<=N){var G=aj.find("tr")[J];var I=d(G).children()[L];var O=d(I).children().css("background-color");ad.val(O)}}});var Q=d(aj).find("td");ad.val=function(G){var F=u._rgbToHex(G);d.each(Q,function(){var I=d(this).children().css("background-color");var H=u._rgbToHex(I);if(H==F){Q.removeClass("jqx-editor-color-picker-selected-cell");d(this).addClass("jqx-editor-color-picker-selected-cell");d("#bar-"+ad.command).css("background",I);return false}})};ad.val(ad.value);u._addCommandHandler(Q,"mousedown",ad.command,null,ad);break;case"button":case"toggleButton":default:if(ad.widget){if(ad.type=="button"){ad.widget.jqxButton("destroy")}else{ad.widget.jqxToggleButton("destroy")}}var ab=ad.command;var Y=ad.action;var ag=u.toThemeProperty("jqx-editor-toolbar-icon")+" "+u.toThemeProperty("jqx-editor-toolbar-icon-"+ab);var o=d("<div unselectable='on' class='"+ag+"'></div>");var Z=d("<div unselectable='on'></div>").addClass("jqx-disableselect").addClass(u.toThemeProperty("jqx-editor-toolbar-button"));if(!ad.init){Z.append(o)}else{if(ab){Z.append(o)}}Z.appendTo(h);if(ad.type=="button"){Z.jqxButton({disabled:u.disabled,rtl:u.rtl,theme:u.theme})}else{if(ad.type=="toggleButton"){Z.jqxToggleButton({disabled:u.disabled,rtl:u.rtl,uiToggle:false,theme:u.theme})}}if(ad.init){ad.init(Z)}ad.toggled=false;ad.toggle=function(){ad.toggled=!ad.toggled};u.addHandler(Z,"mousedown",function(F){if(F.preventDefault){F.preventDefault()}if(F.stopPropagation){F.stopPropagation()}return false});if(!d.jqx.mobile.isTouchDevice()){u._addCommandHandler(Z,"click",ab,Y,ad)}else{u._addCommandHandler(Z,"mousedown",ab,Y,ad)}break}ad.widget=Z;if(Z){try{if(ad.tooltip!=""){ad.widget.attr("title",ad.tooltip);ad.widget.attr("data-tooltip",ad.tooltip)}if(ad.command){ad.widget.attr("data-command",ad.command)}ad.widget.attr("aria-label",ad.tooltip)}catch(aa){}if(ad.type=="button"||ad.type=="toggleButton"){if(l.length>2){if(V==0){Z.css("border-right-radius","0px");Z.addClass(u.toThemeProperty("jqx-rc-l"))}else{if(V==l.length-1){Z.css("border-left-radius","0px");Z.addClass(u.toThemeProperty("jqx-rc-r"))}}Z.removeClass(u.toThemeProperty("jqx-rc-all"))}if(V!=0&&V!=l.length-1&&l.length>2){Z.css("border-left-radius","0px");Z.css("border-right-radius","0px");Z.removeClass(u.toThemeProperty("jqx-rc-all"))}else{if(l.length==2){if(V==0){Z.css("border-right-radius","0px");Z.addClass(u.toThemeProperty("jqx-rc-l"))}else{Z.css("border-left-radius","0px");Z.addClass(u.toThemeProperty("jqx-rc-r"))}Z.removeClass(u.toThemeProperty("jqx-rc-all"))}else{if(l.length==1){Z.css("margin-right","0px")}}}}}})};u.toolbar.css("direction",!this.rtl?"ltr":"rtl");if(c.length==0){a(u.toolbar,v)}else{for(var z=0;z<c.length;z++){var C=c[z];var v=C.split(" ");var s=u.toThemeProperty("jqx-editor-toolbar-group")+" "+u.toThemeProperty("jqx-fill-state-normal");var w=d("<div class='"+s+"'></div>");w.addClass(u.toThemeProperty("jqx-rc-all"));u.toolbar.append(w);a(w,v)}var B=u.toolbar.find(".jqx-editor-toolbar-group");var D=B.length;for(var z=0;z<D;z++){if(d(B[z]).children().length==0){d(B[z]).remove()}}}if(d.jqx.browser.msie&&d.jqx.browser.version<8){d(".jqx-editor-toolbar-group").css("float","left");d(".jqx-editor-toolbar-group").children().css("float","left");d(".jqx-editor-toolbar-group").css("zoom","1");d(".jqx-editor-toolbar-group").children().css("zoom","1")}}u._arrange();u._addHandlers()},_arrange:function(){var a=this;if(a.content){if(a.tools==""||a.tools==false){a.content.height(a.container.outerHeight()-parseInt(a.container.css("padding-top"))-parseInt(a.container.css("padding-bottom"))-6);a.content.css("margin-top","4px");a.toolbar.hide()}else{a.toolbar.show();a.content.css("margin-top","0px");a.content.height(a.container.outerHeight()-a.toolbar.outerHeight()-parseInt(a.container.css("padding-top"))-parseInt(a.container.css("padding-bottom"))-2);if(a.toolbarPosition!="top"){a.content.css("margin-top","4px");a.content.css("margin-bottom","0px")}}if(d.jqx.browser.msie&&d.jqx.browser.version<8){a.content.css("margin-top","4px");a.content.height(a.container.height()-a.toolbar.outerHeight()-2*parseInt(a.container.css("padding-bottom"))-10);a.content.width(a.container.width()-2*parseInt(a.container.css("padding-left"))-2)}if(a.editor.height()<a.content.height()){a.editor.height(a.content.height())}}},propertyChangedHandler:function(o,n,a,c){var l=o;if(l.isInitialized==undefined||l.isInitialized==false){return}if(n=="pasteMode"||n=="lineBreak"||n=="editable"){return}if(n=="disabled"){o._refreshTools()}if(n=="width"||n=="height"||n=="toolbarPosition"){o._arrange();return}if(n=="theme"){d.jqx.utilities.setTheme(a,c,o.host)}o.refresh()},selectRange:function(c){var a=this;if(!c){c=a.getRange()}a.selection.selectRange(c)},getRange:function(){var a=this;return a.selection.getRange()},getSelectedElement:function(){var q,c,v,s;var o=this;try{if(o.editorDocument.getSelection){var a=o.editorDocument.getSelection();q=a.getRangeAt(a.rangeCount-1);v=q.startContainer;s=q.endContainer;c=q.commonAncestorContainer;if(v.nodeName=="#text"){c=c.parentNode}if(v.nodeName=="#text"){v=v.parentNode}if(v.nodeName.toLowerCase()=="body"){v=v.firstChild}if(s.nodeName=="#text"){s=s.parentNode}if(s.nodeName.toLowerCase()=="body"){s=s.lastChild}if(v==s){c=v}return s}else{if(o.editorDocument.selection){q=o.editorDocument.selection.createRange();if(!q.duplicate){return null}c=q.parentElement();var t=q.duplicate();var u=q.duplicate();t.collapse(true);u.moveToElementText(t.parentElement());u.setEndPoint("EndToStart",t);v=t.parentElement();t=q.duplicate();u=q.duplicate();u.collapse(false);t.moveToElementText(u.parentElement());t.setEndPoint("StartToEnd",u);s=u.parentElement();if(v.nodeName.toLowerCase()=="body"){v=v.firstChild}if(s.nodeName.toLowerCase()=="body"){s=s.lastChild}if(v==s){c=v}return s}}}catch(n){return null}return null},_addHandlers:function(){var c=this;c.addHandler(c.toolbar,"mousedown.editor"+c.element.id,function(l){if(l.preventDefault){l.preventDefault()}if(l.stopPropagation){l.stopPropagation()}return false});var a=function(){if(c._textArea){if(!c.updating){c._textArea.value=c.val()}}if(c.changed){c._raiseEvent("change");c.changed=false}c.focused=false;if(c.inline){c.host.removeClass(c.toThemeProperty("jqx-fill-state-focus"));c.host.removeClass(c.toThemeProperty("jqx-editor-inline-focus"));if(c.tools==""||c.tools==null){return}c.toolbarContainer.fadeOut("fast")}};var h=function(){c.focused=true;if(c.inline){c.host.addClass(c.toThemeProperty("jqx-fill-state-focus"));c.host.addClass(c.toThemeProperty("jqx-editor-inline-focus"));c.host.addClass(c.toThemeProperty("jqx-rc-all"));if(c.tools==""||c.tools==null){return}c.toolbarContainer.fadeIn("fast");var l=c.host.coord();if(c.toolbarPosition!="bottom"){c.toolbarContainer.offset({left:l.left,top:l.top-c.toolbarContainer.outerHeight()-5})}else{c.toolbarContainer.offset({left:l.left,top:l.top+5+c.host.height()})}}};if(d.jqx.browser.mozilla){this.addHandler(d(document),"mousedown.editor"+c.element.id,function(l){a()})}c.addHandler(c.editor,"blur.editor"+c.element.id,function(l){a()});c.addHandler(c.editor,"focus.editor"+c.element.id,function(l){h()});c.addHandler(c.editor,"beforedeactivate.editor"+c.element.id,function(l){c.range=c.getRange()});c.addHandler(c.editor,"mousedown.editor"+c.element.id,function(l){if(!l.target.href){if(c.linkPopup){c.linkPopup.remove()}}c.range=c.getRange();if(d.jqx.browser.mozilla){h();l.stopPropagation()}if(d(".jqx-editor-dropdownpicker").length>0){d(".jqx-editor-dropdownpicker").jqxDropDownButton("close")}if(d(".jqx-editor-dropdownlist").length>0){d(".jqx-editor-dropdownlist").jqxDropDownList("close")}if(c.inline){c.editor.focus()}});if(d.jqx.mobile.isTouchDevice()){c.addHandler(d(c.editorDocument),"selectionchange.editor"+c.element.id,function(){if(c.editorDocument.activeElement!=c.editor[0]){setTimeout(function(){if(c.iframe){c.iframe[0].contentWindow.focus()}},500)}});c.addHandler(d(c.editorDocument),"touchstart.editor"+c.element.id,function(){setTimeout(function(){if(c.iframe){c.iframe[0].contentWindow.focus()}},500)})}c.addHandler(c.editor,"mouseup.editor"+c.element.id,function(l){if(c._documentMode=="source"){return true}c.range=c.getRange();c._refreshTools(null,true)});c.addHandler(c.editor,"keydown.editor"+c.element.id,function(F){if(c.keyPressed){c.keyPressed(F)}if(c._documentMode=="source"){return true}if(d.jqx.browser.mozilla){if(!c.focused){h()}}c.changeType="keyboard";if(c.disabled){if(F.preventDefault){F.preventDefault()}return false}if(c.updating){if(c.activeElement){var z=d.Event("keydown");d.extend(z,F);c.activeElement.trigger(z)}if(F.preventDefault){F.preventDefault()}return false}var w=F||window.event;var t=w.keyCode;var s=String.fromCharCode(t).toLowerCase();if(!c.editable){var A=[9,33,34,35,36,37,38,39,40,40,45];if(d.inArray(w.keyCode,A)==-1&&!(w.ctrlKey&&s=="c")&&!(w.ctrlKey&&s=="a")){F.preventDefault()}}if(c.selection.getText().length>0||c.linkPopup){var A=[8,9,13,33,34,35,36,37,38,39,40,40,45,46];if(!d.inArray(w.keyCode,A)!=-1||(w.keyCode==65&&w.ctrlKey&&!w.altKey&&!w.shiftKey)){if(c._refreshToolsTimer){clearTimeout(c._refreshToolsTimer)}c._refreshToolsTimer=setTimeout(function(){c._refreshTools(null,true,w.keyCode)},10)}}if(t==13&&c.lineBreak!="default"){var B=c.getSelectedElement();if(B){var v=B.nodeName.toLowerCase();switch(v){case"pre":case"li":case"ul":case"ol":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return true}var u=B;while(u!=null){if(u.nodeName=="#document"){u=c.editorDocument.body;break}if(u.parentNode==c.editorDocument.body||u==c.editorDocument.body){break}u=u.parentNode}}if(u){var C=c.getRange();if(c.editorDocument.body.innerHTML=="<div></div>"&&c.lineBreak!="br"){c.selection.insertContent("&#8203;")}if(c.lineBreak=="div"){if(u==c.editorDocument.body){d(u).append("<div>&#8203;</div><span id='INSERTION_MARKER'>&nbsp;</span>")}else{d("<div>&#8203;</div><span id='INSERTION_MARKER'>&nbsp;</span>").insertAfter(u)}}else{if(c.lineBreak=="p"){if(u==c.editorDocument.body){d(u).append("<p>&#8203;</p><span id='INSERTION_MARKER'>&nbsp;</span>")}else{d("<p>&#8203;</p><span id='INSERTION_MARKER'>&nbsp;</span>").insertAfter(u)}}else{c.execute("insertHTML","<br/>&#8203;<span id='INSERTION_MARKER'>&nbsp;</span>")}}c.selectRange(C);var D=d(c.editorDocument).find("#INSERTION_MARKER");if(c.lineBreak!="br"){c.selection.selectNode(d(D).prev()[0],true)}else{c.selection.selectNode(D[0],true);if(c.getRange().setStartAfter){c.getRange().setStartAfter(D[0])}}D.remove();c.selection.collapse(false);if(u&&u.nodeName&&c.lineBreak=="br"){if(u.nodeName.toLowerCase()!="#text"){c.selection.selectNode(u,true);if(c.getRange().setStartAfter){c.getRange().setStartAfter(u)}c.selection.collapse(false)}}if(c.lineBreak!="br"){C=c.getRange();if(C.select){C.select()}}if(F.preventDefault){F.preventDefault()}return false}}if(w.ctrlKey&&(s=="k"||s=="u"||s=="b"||s=="i")){if(F.preventDefault){F.preventDefault()}var E=null;switch(s){case"k":E="link";break;case"u":E="underline";break;case"b":E="bold";break;case"i":E="italic";break}if(c.commands[E].widget){c.commands[E].widget.trigger("click")}return false}});c.addHandler(c.editor,"paste.editor"+c.element.id,function(q){if(c._documentMode=="source"){return true}if(c.readOnly){return true}c.updating=true;c.readOnly=true;var o=q;var s=function(l,n){if(n){if(!c.paragraphise){l=l.replace(/\n/g,"<br />")}else{l="<p>"+l+"</p>";l=l.replace(/\n/g,"</p><p>");l=l.replace(/<p>\s<\/p>/gi,"")}}else{l=l.replace(/<html[^>]*?>(.*)/gim,"$1");l=l.replace(/<\/html>/gi,"");l=l.replace(/<body[^>]*?>(.*)/gi,"$1");l=l.replace(/<\/body>/gi,"");l=l.replace(/<style[^>]*?>[\s\S]*?<\/style[^>]*>/gi,"");l=l.replace(/<(?:meta|link)[^>]*>\s*/gi,"");l=l.replace(/<\\?\?xml[^>]*>/gi,"");l=l.replace(/<w:[^>]*>[\s\S]*?<\/w:[^>]*>/gi,"");l=l.replace(/<o:p>\s*<\/o:p>/g,"");l=l.replace(/<o:p>[\s\S]*?<\/o:p>/g,"&nbsp;");l=l.replace(/<\/?\w+:[^>]*>/gi,"");l=l.replace(/<\!--[\s\S]*?-->/g,"");l=l.replace(/<\!\[[\s\S]*?\]>/g,"");l=l.replace(/\s*mso-[^:]+:[^;"']+;?/gi,"");l=l.replace(/<(\w[^>]*) style='([^\']*)'([^>]*)/gim,"<$1$3");l=l.replace(/<(\w[^>]*) style="([^\"]*)"([^>]*)/gim,"<$1$3");l=l.replace(/\s*margin: 0cm 0cm 0pt\s*;/gi,"");l=l.replace(/\s*margin: 0cm 0cm 0pt\s*"/gi,'"');l=l.replace(/\s*text-indent: 0cm\s*;/gi,"");l=l.replace(/\s*text-indent: 0cm\s*"/gi,'"');l=l.replace(/\s*text-align: [^\s;]+;?"/gi,'"');l=l.replace(/\s*page-break-before: [^\s;]+;?"/gi,'"');l=l.replace(/\s*font-variant: [^\s;]+;?"/gi,'"');l=l.replace(/\s*tab-stops:[^;"']*;?/gi,"");l=l.replace(/\s*tab-stops:[^"']*/gi,"");l=l.replace(/\s*face="[^"']*"/gi,"");l=l.replace(/\s*face=[^ >]*/gi,"");l=l.replace(/\s*font-family:[^;"']*;?/gi,"");l=l.replace(/\s*font-size:[^;"']*;?/gi,"");l=l.replace(/<(\w[^>]*) class=([^ |>]*)([^>]*)/gi,"<$1$3");l=l.replace(/<(\w+)[^>]*\sstyle="[^"']*display\s?:\s?none[\s \S]*?<\/\1>/ig,"");l=l.replace(/\s*style='\s*'/gi,"");l=l.replace(/\s*style="\s*"/gi,"");l=l.replace(/<span\s*[^>]*>\s*&nbsp;\s*<\/span>/gi,"&nbsp;");l=l.replace(/<span\s*[^>]*><\/span>/gi,"");l=l.replace(/<(\w[^>]*) align=([^ |>]*)([^>]*)/gi,"<$1$3");l=l.replace(/<(\w[^>]*) lang=([^ |>]*)([^>]*)/gi,"<$1$3");l=l.replace(/<span([^>]*)>([\s\S]*?)<\/span>/gi,"$2");l=l.replace(/<font\s*>([\s\S]*?)<\/font>/gi,"$1");l=l.replace(/<(u|i|strike)>&nbsp;<\/\1>/gi,"&nbsp;");l=l.replace(/<h\d>\s*<\/h\d>/gi,"");l=l.replace(/<(\w[^>]*) language=([^ |>]*)([^>]*)/gi,"<$1$3");l=l.replace(/<(\w[^>]*) onmouseover="([^\"']*)"([^>]*)/gi,"<$1$3");l=l.replace(/<(\w[^>]*) onmouseout="([^\"']*)"([^>]*)/gi,"<$1$3");l=l.replace(/<h(\d)([^>]*)>/gi,"<h$1>");l=l.replace(/<(h\d)><font[^>]*>([\s\S]*?)<\/font><\/\1>/gi,"<$1>$2</$1>");l=l.replace(/<(h\d)><em>([\s\S]*?)<\/em><\/\1>/gi,"<$1>$2</$1>");l=l.replace(/<b\b[^>]*>(.*?)<\/b[^>]*>/gi,"<strong>$1</strong>");l=l.replace(/<i\b[^>]*>(.*?)<\/i[^>]*>/gi,"<em>$1</em>");l=l.replace(/<\s+[^>]*>/gi,"");l=l.replace(/<span>([\s\S]*?)<\/span>/gi,"$1");l=l.replace(/<span>([\s\S]*?)<\/span>/gi,"$1");l=l.replace(/<div>([\s\S]*?)<\/div>/gi,"$1");l=l.replace(/<div>([\s\S]*?)<\/div>/gi,"$1");l=l.replace(/<([^\s>]+)(\s[^>]*)?>\s*<\/\1>/g,"");l=l.replace(/<([^\s>]+)(\s[^>]*)?>\s*<\/\1>/g,"");l=l.replace(/<([^\s>]+)(\s[^>]*)?>\s*<\/\1>/g,"");if(l.trim){l=l.trim()}if(!c.paragraphise){l.replace(/<p>/gi,"<br />");l.replace(/<\/p>/gi,"")}else{var A=l.substr(0,2);if("<p"!==A){l="<p>"+l+"</p>";l=l.replace(/\n/g,"</p><p>");l=l.replace(/<br[^>]*>/gi,"</p><p>")}}l=l.replace(/<br>/gi,"<br />");l=l.replace(/<br[^>]*><\/p>/gim,"</p>");l=l.replace(/<p>&nbsp;<\/p>/gi,"");l=l.replace(/<p>\s<\/p>/gi,"");l=l.replace(/<([^\s>]+)(\s[^>]*)?>\s*<\/\1>/g,"");l=l.replace(/MsoNormal/gi,"");l=l.replace(/<\/?meta[^>]*>/gi,"");l=l.replace(/<\/?xml[^>]*>/gi,"");l=l.replace(/<\?xml[^>]*\/>/gi,"");l=l.replace(/<!--(.*)-->/gi,"");l=l.replace(/<!--(.*)>/gi,"");l=l.replace(/<!(.*)-->/gi,"");l=l.replace(/<w:[^>]*>(.*)<\/w:[^>]*>/gi,"");l=l.replace(/<w:[^>]*\/>/gi,"");l=l.replace(/<\/?w:[^>]*>/gi,"");l=l.replace(/<m:[^>]*\/>/gi,"");l=l.replace(/<m:[^>]>(.*)<\/m:[^>]*>/gi,"");l=l.replace(/<o:[^>]*>(.*)<\/o:[^>]*>/gi,"");l=l.replace(/<o:[^>]*\/>/gi,"");l=l.replace(/<\/?m:[^>]*>/gi,"");l=l.replace(/style=\"([^>]*)\"/gi,"");l=l.replace(/style=\'([^>]*)\'/gi,"");l=l.replace(/class=\"(.*)\"/gi,"");l=l.replace(/class=\'(.*)\'/gi,"");l=l.replace(/<b>/gi,"<strong>");l=l.replace(/<\/b>/gi,"</strong>");l=l.replace(/<p[^>]*>/gi,"<p>");l=l.replace(/<\/p[^>]*>/gi,"</p>");l=l.replace(/<span[^>]*>/gi,"");l=l.replace(/<\/span[^>]*>/gi,"");l=l.replace(/<st1:[^>]*>/gi,"");l=l.replace(/<\/st1:[^>]*>/gi,"");l=l.replace(/<font[^>]*>/gi,"");l=l.replace(/<\/font[^>]*>/gi,"");l=l.replace("  ","");l=l.replace(/<strong><\/strong>/gi,"");l=l.replace(/<p><\/p>/gi,"");l=l.replace(/\/\*(.*)\*\//gi,"");l=l.replace(/<!--/gi,"");l=l.replace(/-->/gi,"");l=l.replace(/<style[^>]*>[^<]*<\/style[^>]*>/gi,"");l=l.trim()}return l};var z=c.getRange();if(c.pasteMode=="text"&&!d.jqx.browser.mozilla){c.selection.insertContent('<textarea cols="50" contenteditable="false" class="jqx-editor-paste-element"></textarea>')}else{c.selection.insertContent('<div class="jqx-editor-paste-element">&nbsp;</div>')}var w=d(window).scrollTop();var v=d(c.editorDocument).find(".jqx-editor-paste-element");v.css("top",w+"px");if(c.editor[0].createTextRange){q.preventDefault();var t=c.editor[0].createTextRange();t.moveToElementText(v[0]);t.execCommand("Paste")}else{var u=c.editorDocument.createRange();u.selectNodeContents(v[0]);c.selectRange(u)}if(c.pasteMode=="text"&&!d.jqx.browser.mozilla){v.select()}c.marker=v;setTimeout(function(){c.selectRange(z);var l=function(I){var K=c.editorDocument.createElement("div");var J=c.editorDocument.createDocumentFragment();K.innerHTML=I;while(K.firstChild){J.appendChild(K.firstChild)}return J};if(c.pasteMode!="text"){var C=l(c.marker.html());if(C.firstChild&&C.firstChild.className==="jqx-editor-paste-element"){var A=[];for(var F=0,H=C.childNodes.length;F<H;F++){A.push(C.childNodes[F].innerHTML)}C=l(A.join("<br />"))}var B=document.createElement("div");B.appendChild(C.cloneNode(true));var D=B.innerHTML}else{var D=c.marker.val();if(c.marker.html()!=""&&c.marker.val().indexOf("\n")==-1){var D=c.marker.html();D=D.replace(/&nbsp;/gm,"");D=D.replace(/\n\n/gm,"\n");D=D.replace(/<br[^>]*>/gi,"\n");D=D.replace(/<li[^>]*>/gi,"\n");D=D.replace(/<p[^>]*>/gi,"\n");c.marker.html(D);var D=c.marker.text()}}var n=s(D,c.pasteMode=="text");var E=c.getRange();c.selection.insertContent(n+"<span id='INSERTION_MARKER'>&nbsp;</span>");c.marker.remove();var G=d(c.editorDocument).find("#INSERTION_MARKER");c.selection.selectNode(G[0],true);if(c.getRange().setStartAfter){c.getRange().setStartAfter(G[0])}G.remove();c.selection.collapse(false);G.removeAttr("id");c._refreshTools();c.changed=true},100);c.updating=false;c.readOnly=false});c.addHandler(c.editor,"keyup.editor"+c.element.id,function(n){if(c._documentMode=="source"){return true}if(c.updating||c.disabled||!c.editable){if(n.preventDefault){n.preventDefault()}if(n.stopPropagation){n.stopPropagation()}return false}c.range=c.getRange();c.changed=true;var o=n||window.event;var q=o.keyCode;var l=[8,9,13,33,34,35,36,37,38,39,40,40,45,46];if(d.inArray(o.keyCode,l)!=-1||(o.keyCode==65&&o.ctrlKey&&!o.altKey&&!o.shiftKey)){c._refreshTools(null,true,o.keyCode)}});c.addHandler(c.editor,"click.editor"+c.element.id,function(n){if(c._documentMode=="source"){return true}if(c.editImage){d(c.editImage).removeClass("jqx-editor-focus");c.editImage=null}if(n.target.tagName.toLowerCase()=="img"){var l=n.target;c.editImage=l;d(c.editImage).addClass("jqx-editor-focus")}});c.addHandler(c.editor,"dblclick.editor"+c.element.id,function(n){if(c._documentMode=="source"){return true}if(n.target.tagName.toLowerCase()=="img"){var l=n.target;if(d("#imageWindow"+this.element.id).length>0){c.editImage=l;c._updateImageWindow()}}})},_updateLinkWindow:function(){var n=this;var c=d("#linkWindow"+this.element.id);c.jqxWindow({position:{center:n.widget}});c.jqxWindow("open");var q=c.find("input");var l=c.find(".jqx-editor-link-checkbox");var o=c.find("button:first");var s=d(c.find("button")[1]);if(n.editLink&&n.editLink.href){q[0].value=n.editLink.href||"";q[1].value=d(n.editLink).text()||n.editLink.href;l.val(d(n.editLink).attr("target")=="_blank");s.show()}else{q[0].value="";q[1].value="";if(!n.selection.isCollapsed()){var a=n.selection.getText();if(a.match(/^(?!:\/\/)([a-zA-Z0-9]+\.)?[a-zA-Z0-9][a-zA-Z0-9-]+\.[a-zA-Z]{2,6}?$/i)){q[0].value=a}else{q[1].value=a}}l.val(false);s.hide()}if(q[0].value.length>0){o.jqxButton({disabled:false})}else{o.jqxButton({disabled:true})}},_updateImageWindow:function(){var n=this;var c=n.editImage;if(!c){c=d("<img>")[0]}var l=d("#imageWindow"+this.element.id);l.jqxWindow({position:{center:n.widget}});l.jqxWindow("open");var q=l.find("input");var s=d(l.find("button")[1]);if(n.editImage){s.show()}else{s.hide()}q[0].value=c.src;if(q[0].value==""){q[0].value=""}q[1].value=c.alt;if(c.style.width!="auto"){q[2].value=c.style.width}else{q[2].value=""}if(c.style.height!="auto"){q[3].value=c.style.height}else{q[3].value=""}if(c.style.marginLeft&&c.style.marginLeft!="0px"){q[4].value=c.style.marginLeft}else{q[4].value=""}if(c.style.marginTop&&c.style.marginTop!="0px"){q[5].value=c.style.marginTop}else{q[5].value=""}var a=l.find(".jqx-editor-align");var o=d(c).css("float");if(o=="left"){a.jqxDropDownList({selectedIndex:1})}else{if(o=="right"){a.jqxDropDownList({selectedIndex:2})}else{a.jqxDropDownList({selectedIndex:0})}}},_removeHandlers:function(){var a=this;if(a.editor){a.removeHandler(a.editor,"blur.editor"+a.element.id);a.removeHandler(a.editor,"focus.editor"+a.element.id);a.removeHandler(a.editor,"click.editor"+a.element.id);a.removeHandler(a.editor,"mousedown.editor"+a.element.id);a.removeHandler(a.editor,"mouseup.editor"+a.element.id);a.removeHandler(a.editor,"keyup.editor"+a.element.id);a.removeHandler(a.editor,"keydown.editor"+a.element.id);a.removeHandler(a.editor,"beforedeactivate.editor"+a.element.id);a.removeHandler(a.editor,"dblclick.editor"+a.element.id)}if(a.toolbar){a.removeHandler(a.toolbar,"mousedown.editor"+a.element.id)}},getParentByTag:function(c,h){var h=h.toLowerCase(),a=c;do{if(h==""||a.nodeName.toLowerCase()==h){return a}}while(a=a.parentNode);return c},isStyleProperty:function(n,o,a,c){var o=o.toLowerCase(),l=n;do{if(l.nodeName.toLowerCase()==o&&l.style[a]==c){return !0}}while(l=l.parentNode);return !1},setStyleProperty:function(c,h){this.style[h]=!1;var a=this.getParentByTag(c,h);a&&a.tagName.toLowerCase()==h&&(this.style[h]=!0);if(h=="del"&&this.getParentByTag(c,"strike")&&this.getParentByTag(c,"strike").tagName.toLowerCase()=="strike"){this.style.del=!0}},updateStyle:function(o){var n=this;var o=n.getSelectedElement()?n.getSelectedElement():o;if(!o||!n.setStyleProperty){return}try{if(window.getComputedStyle){if(o.nodeName.toLowerCase()=="#text"){o=n.editor[0]}var q=window.getComputedStyle(o,null);var c=((q.getPropertyValue("font-weight")==401)?700:q.getPropertyValue("font-weight"));n.style={fontStyle:q.getPropertyValue("font-style"),fontSize:q.getPropertyValue("font-size"),textDecoration:q.getPropertyValue("text-decoration"),fontWeight:c,fontFamily:q.getPropertyValue("font-family"),textAlign:q.getPropertyValue("text-align"),color:n._rgbToHex(q.color),backColor:n._rgbToHex(q.backgroundColor)};n.style.fontStyle=q.getPropertyValue("font-style");n.style.vAlign=q.getPropertyValue("vertical-align");n.style.del=n.isStyleProperty(o,"span","textDecoration","line-through");n.style.u=n.isStyleProperty(o,"span","textDecoration","underline");var l=function(h){var s="transparent";var t="rgba(0, 0, 0, 0)";while(h&&(window.getComputedStyle(h).backgroundColor==s||window.getComputedStyle(h).backgroundColor==t)){h=h.parentNode}return h?window.getComputedStyle(h).backgroundColor:s};if(!n.style.backColor){n.style.backColor=n._rgbToHex(l(o))}}else{var q=o.currentStyle;n.style={fontStyle:q.fontStyle,fontSize:q.fontSize,textDecoration:q.textDecoration,fontWeight:q.fontWeight,fontFamily:q.fontFamily,textAlign:q.textAlign,color:n._rgbToHex(q.color),backColor:n._rgbToHex(q.backgroundColor)}}n.setStyleProperty(o,"h1");n.setStyleProperty(o,"h2");n.setStyleProperty(o,"h3");n.setStyleProperty(o,"h4");n.setStyleProperty(o,"h5");n.setStyleProperty(o,"h6");n.setStyleProperty(o,"del");n.setStyleProperty(o,"sub");n.setStyleProperty(o,"sup");n.setStyleProperty(o,"u");if(o.nodeName.toLowerCase()=="a"){if(n.style.textDecoration=="underline"){n.style.u=true}}if(n.style.h1||n.style.h2||n.style.h3||n.style.h4||n.style.h5||n.style.h6){n.style.heading=true}}catch(a){return null}},_refreshTools:function(A,z,c){var t=this;if(t.updating){return}var A=t.getSelectedElement()?t.getSelectedElement():A;if(!A||!t.setStyleProperty){return}t.updateStyle(A);var a=t.readOnly;t.readOnly=true;if(t.tools!==false){var u=t.tools.split(" ");var s=t.tools.split(" | ");var q=function(h){d.each(h,function(n,l){var o=t.commands[this];if(!o){return true}switch(o.type){case"list":o.widget.jqxDropDownList("clearSelection");o.widget.jqxDropDownList({disabled:t.disabled});break;case"colorPicker":o.val(o.value);o.widget.jqxDropDownButton({disabled:t.disabled});break;case"toggleButton":o.widget.jqxToggleButton("unCheck");o.widget.jqxToggleButton({disabled:t.disabled});break;case"button":default:o.widget.jqxButton({disabled:t.disabled});break}})};if(s.length==0){q(u)}else{for(var v=0;v<s.length;v++){var B=s[v];var u=B.split(" ");q(u)}}if(t.style){var w=function(h){d.each(h,function(J,Q){var R=t.commands[this];if(!R){return true}if(R.refresh){R.refresh(R.widget,t.style);return true}switch(R.type){case"list":if(R.command=="fontname"){var W=-1;var T=999;for(var K=0;K<R.value.length;K++){var Q=R.value[K].label.toLowerCase();var L=t.style.fontFamily.toLowerCase().indexOf(Q);if(L>=0){if(L<T){W=K}T=Math.min(T,L)}}R.widget.jqxDropDownList("selectIndex",W)}else{if(R.command=="formatblock"){var Q=null;if(t.style.h1){Q="h1"}else{if(t.style.h2){Q="h2"}else{if(t.style.h3){Q="h3"}else{if(t.style.h4){Q="h4"}else{if(t.style.h5){Q="h5"}else{if(t.style.h6){Q="h6"}}}}}}R.widget.jqxDropDownList("selectItem",Q)}else{if(R.command=="fontsize"){var Y="xx-small,x-small,small,medium,large,x-large,xx-large".split(",");var U=-1;try{var U=A.getAttribute("size")-1;if(U==-1){U=t.editorDocument.queryCommandValue(R.command)-1}}catch(o){}var S=Y[U];R.widget.val(S)}}}break;case"colorPicker":var V=function(C){if(typeof C!="number"){return C}return"rgb("+(C&255)+", "+((C&65280)>>8)+", "+((C&16711680)>>16)+")"};var P=V(t.editorDocument.queryCommandValue(R.command));if(R.command=="backcolor"){if(t.style.backColor==null){P="#FFFFFF"}}var l=t._rgbToHex(P);if(l){R.val(l)}else{if(R.command=="forecolor"){R.val(t.style.color)}else{if(R.command=="backcolor"){R.val(t.style.backColor)}}}break;case"toggleButton":if(R.command=="viewsource"){return}if(!R.command){return}var X=false;var Z=t.editorDocument.queryCommandState(R.command)&&t.editorDocument.queryCommandEnabled(R.command);if(R.command=="createlink"&&A.nodeName.toLowerCase()=="a"){var n=true;if(d(A).text().indexOf(t.selection.getText())==-1&&t.selection.getText()!=""){n=false}if(n){if(t.linkPopup){t.linkPopup.remove()}Z=true;t.linkPopup=d("<div class='jqx-editor-link-popup' contentEditable='false' style='overflow: hidden; white-space: nowrap; padding: 5px; height: 17px; font-size: 12px; color: #222222; background: #F5F5F5; position: absolute; z-index: 9999;'>"+t.localization["Go to link"]+": <a target='_blank' style='color:#222222;' href='"+A.href+"'>"+A.href+"</a> - <a style='color:#222222;' href='#change'>"+t.localization.Change+"</a> - <a style='color:#222222;' href='#remove'>"+t.localization.Remove+"</a></div>").appendTo(t.editor);var O=d(A).coord();var N=O.left;if(O.left+t.linkPopup.width()>t.editor.width()){N=t.editor.width()-t.linkPopup.width()-15}t.linkPopup.offset({top:d(A).height()+O.top+5,left:N});t.addHandler(t.linkPopup,"mousedown",function(D){if(D.target&&D.target.href){var E=d(D.target).index();switch(E){case 1:t.editor.focus();t.selection.selectNode(A,true);t.commands.link.widget.trigger("click");break;case 2:try{t.editor.focus();t.selection.selectNode(A);t.execute("unlink");t.commands.underline.toggled=false;t.selection.collapse(false);t._refreshTools()}catch(C){}break;default:window.open(D.target.href,"_blank");break}}if(D.preventDefault){D.preventDefault()}if(D.stopPropagation){D.stopPropagation()}return false})}}if(R.command=="bold"){if(t.style.fontWeight&&(t.style.fontWeight>=600||t.style.fontWeight=="bold")){X=true}if(t.selection.isCollapsed()){R.toggled=Z}else{R.toggled=Z||X}Z=R.toggled}else{if(R.command=="italic"){if(t.style.fontStyle&&t.style.fontStyle=="italic"){X=true}if(!z){Z=R.toggled}else{R.toggled=Z}}else{if(R.command=="underline"){if(t.style.u){X=true}if(!z){Z=R.toggled}else{R.toggled=Z}}else{if(R.command=="justifyleft"){if(t.style.textAlign=="left"){X=true}}else{if(R.command=="justifyright"){if(t.style.textAlign=="right"){X=true}}else{if(R.command=="justifycenter"){if(t.style.textAlign=="center"){X=true}}else{if(R.command=="justifyfull"){if(t.style.textAlign=="justify"){X=true}}else{d.each(t.style,function(D,C){if(R.command==D.toLowerCase()){X=true}})}}}}}}}var M=Z;if(X&&R.command.indexOf("justify")!=-1){R.widget.jqxToggleButton("check")}else{if(M){R.widget.jqxToggleButton("check")}else{if(X&&t.range.collapsed===false){R.widget.jqxToggleButton("check")}else{if(d.jqx.browser.msie&&d.jqx.browser.version<9&&X&&!t.selection.isCollapsed()){R.widget.jqxToggleButton("check")}}}}break;case"button":default:if(R.refresh){R.refresh(R.widget,t.style)}break}})};if(s.length==0){w(u)}else{for(var v=0;v<s.length;v++){var B=s[v];var u=B.split(" ");w(u)}}}}t.readOnly=a},_rgbToHex:function(n){if(n){if(n.substr(0,1)==="#"){if(n.length==4){var c=n.substr(1,1);var l=n.substr(2,1);var o=n.substr(3,1);return"#"+c+c+l+l+o+o}return n}var a=/(.*?)rgb\((\d+),\s*(\d+),\s*(\d+)\)/i.exec(n);if(!a){return null}var c=parseInt(a[2],10).toString(16);var l=parseInt(a[3],10).toString(16);var o=parseInt(a[4],10).toString(16);return"#"+((c.length==1?"0"+c:c)+(l.length==1?"0"+l:l)+(o.length==1?"0"+o:o))}return null},_preventDefault:function(c,a){if(a!==false){if(d(".jqx-editor-dropdownpicker").length>0){d(".jqx-editor-dropdownpicker").jqxDropDownButton("close")}if(d(".jqx-editor-dropdownlist").length>0){d(".jqx-editor-dropdownlist").jqxDropDownList("close")}}if(c.preventDefault){c.preventDefault()}if(c.stopPropagation){c.stopPropagation()}c.cancelBubble=true;c.returnValue=false},_addCommandHandler:function(l,n,a,c,q){var o=this;if(!a&&q.init){a="custom"}switch(a){case"custom":switch(q.type){case"list":action=function(h){if(o._documentMode!="source"){if(h.args.type!="none"){q.value=d(this).val();o.execute("custom",q);if(!o.readOnly){o._refreshTools()}}}o._preventDefault(h,false)};break;case"colorPicker":action=function(h){if(o._documentMode!="source"){var t=d(q.colorPicker).find("td").removeClass("jqx-editor-color-picker-selected-cell");if(h.target.nodeName.toLowerCase()=="div"){var s=d(h.target).css("background-color");d(h.target).parent().addClass("jqx-editor-color-picker-selected-cell")}else{var s=d(h.target).find("div").css("background-color");d(h.target).addClass("jqx-editor-color-picker-selected-cell")}d("#bar-"+a).css("background",s);q.widget.val=function(){var w=function(z){if(typeof z!="number"){return z}return"rgb("+(z&255)+", "+((z&65280)>>8)+", "+((z&16711680)>>16)+")"};var v=w(s);var u=o._rgbToHex(v);return u};q.widget.jqxDropDownButton("close");o.execute("custom",q)}o._preventDefault(h);return false};break;case"button":case"toggleButton":default:action=function(t){if(d(".jqx-editor-dropdownpicker").length>0){d(".jqx-editor-dropdownpicker").jqxDropDownButton("close")}if(d(".jqx-editor-dropdownlist").length>0){d(".jqx-editor-dropdownlist").jqxDropDownList("close")}o._preventDefault(t);var h=d(this).attr("data-command");var s=this;if(o._documentMode!="source"){if(q.toggle){q.toggle()}o.execute("custom",q);o._refreshTools()}return false};break}break;case"formatblock":action=function(h){if(o._documentMode!="source"){if(h.args.type!="none"){o.execute(d(this).attr("data-command"),"<"+d(this).val()+">",q);if(!o.readOnly){o.commands.bold.toggled=false;o._refreshTools()}}}o._preventDefault(h,false)};break;case"fontsize":action=function(u){if(o._documentMode!="source"){if(u.args.type!="none"){var s=d(this).val();var h="xx-small,x-small,small,medium,large,x-large,xx-large".split(",");var t=d(this).jqxDropDownList("getSelectedIndex")+1;var t=1+h.indexOf(s);o.execute(d(this).attr("data-command"),t,q)}}o._preventDefault(u,false)};break;case"fontname":action=function(s){if(o._documentMode!="source"){if(s.args.type!="none"){var h=d(this).val();o.execute(d(this).attr("data-command"),h,q)}}o._preventDefault(s,false)};break;case"forecolor":case"backcolor":action=function(h){if(o._documentMode!="source"){var t=d(q.colorPicker).find("td").removeClass("jqx-editor-color-picker-selected-cell");if(h.target.nodeName.toLowerCase()=="div"){var s=d(h.target).css("background-color");d(h.target).parent().addClass("jqx-editor-color-picker-selected-cell")}else{var s=d(h.target).find("div").css("background-color");d(h.target).addClass("jqx-editor-color-picker-selected-cell")}d("#bar-"+a).css("background",s);q.widget.jqxDropDownButton("close");o.execute(a,s,q)}o._preventDefault(h);return false};break;case"viewsource":action=function(h){if(o.linkPopup){o.linkPopup.remove()}q.toggle();o.setMode(q.toggled);if(d(".jqx-editor-dropdownpicker").length>0){d(".jqx-editor-dropdownpicker").jqxDropDownButton("close")}if(d(".jqx-editor-dropdownlist").length>0){d(".jqx-editor-dropdownlist").jqxDropDownList("close")}o._preventDefault(h);return false};break;case"insertimage":action=function(h){o._insertImageAction(h,o,q)};break;case"createlink":action=function(h){o._createLinkAction(h,o,q)};break;default:action=function(u){if(d(".jqx-editor-dropdownpicker").length>0){d(".jqx-editor-dropdownpicker").jqxDropDownButton("close")}if(d(".jqx-editor-dropdownlist").length>0){d(".jqx-editor-dropdownlist").jqxDropDownList("close")}o._preventDefault(u);var h=d(this).attr("data-command");var t=this;if(o._documentMode!="source"){if(h=="underline"){if(o.getSelectedElement()){var s=o.getSelectedElement();if(s&&s.nodeName.toLowerCase()=="a"){if(q.toggled){d(s).css("text-decoration","none")}else{d(s).css("text-decoration","underline")}q.toggle();o._refreshTools();return false}}}if(q.toggle){q.toggle()}o.execute(h,d(this).val(),q);o._refreshTools()}return false};break}o.addHandler(l,n,action);return false},_createLinkAction:function(C,t,s){var t=this;if(t._documentMode=="source"){t._preventDefault(C);return}if(!t.focused){t.editor.focus()}t.range=t.getRange();var B=t.getSelectedElement();if(B.nodeName.toLowerCase()=="a"){t.editLink=B}else{t.editLink=null}if(d("#linkWindow"+this.element.id).length>0){if(t.editLink){t.selection.selectNode(B,true)}t._updateLinkWindow();t._preventDefault(C);return false}var q=d("<div class='jqx-editor-window jqx-editor-link-window'><div>"+t.localization["Insert Link"]+"</div><div><table style='border-collapse: separate; border-spacing: 2px;'><tr><td align='right'>"+t.localization.URL+":</td><td><input style='width: 200px; height: 23px;' value=''/></td><tr/><tr><td align='right'>"+t.localization.Title+":</td><td><input style='width: 200px; height: 23px;' value=''/></td><tr/><tr><td align='right'></td><td><div class='jqx-editor-link-checkbox'>"+t.localization["Open in a new window/tab"]+"</div></td><tr/><tr><td align='right'></td><td align='right'><button>Ok</button><button style='margin-left: 5px;'>Remove</button><button style='margin-left: 5px;'>Cancel</button></td><tr/></table></div></div>");q[0].id="linkWindow"+this.element.id;var u=q.find("input");u.addClass(t.toThemeProperty("jqx-widget"));u.addClass(t.toThemeProperty("jqx-widget-content"));u.addClass(t.toThemeProperty("jqx-input"));var v=q.find(".jqx-editor-link-checkbox").jqxCheckBox({theme:t.theme,height:23,width:180});var z=q.find("button:first").jqxButton({theme:t.theme,disabled:true});var a=d(q.find("button")[1]).jqxButton({theme:t.theme});var w=q.find("button:last").jqxButton({theme:t.theme});z.val(t.localization.Ok);w.val(t.localization.Cancel);a.val(t.localization.Remove);t.addHandler(w,!d.jqx.mobile.isTouchDevice()?"click":d.jqx.mobile.getTouchEventName("touchstart"),function(h){t.editor.focus();t.selectRange(t.range);t._refreshTools();t._preventDefault(h)});if(!t.editLink||(t.editLink&&!t.editLink.href)){a.hide()}var A=false;t.addHandler(d(u[0]),"focus",function(){if(u[1].value==""||u[1].value==u[0].value){A=true}else{A=false}});t.addHandler(d(u[1]),"keyup",function(h){if(h.keyCode){if(h.keyCode==13){z.trigger("click")}if(h.keyCode==27){w.trigger("click")}}});t.addHandler(d(u[0]),"keyup change",function(h){if(u[0].value.length>0){z.jqxButton({disabled:false})}else{z.jqxButton({disabled:true})}if(A){u[1].value=u[0].value}if(h.keyCode){if(h.keyCode==13){z.trigger("click")}if(h.keyCode==27){w.trigger("click")}}});t.addHandler(a,!d.jqx.mobile.isTouchDevice()?"click":d.jqx.mobile.getTouchEventName("touchstart"),function(l){q.jqxWindow("close");try{t.editor.focus();t.selection.selectNode(t.editLink);t.execute("unlink");t.selection.collapse(false);t.commands.underline.toggled=false;t._refreshTools()}catch(h){}t._preventDefault(l)});t.addHandler(z,!d.jqx.mobile.isTouchDevice()?"click":d.jqx.mobile.getTouchEventName("touchstart"),function(h){var n=q.find("input");var l=d("<a>"+(n[1].value||n[0].value)+"</a>");if(v.val()){l.attr("target","_blank")}l[0].href=d.trim(n[0].value);if(n[0].value.indexOf("http")==-1&&n[0].value.indexOf("mailto")==-1){l[0].href="http://"+d.trim(n[0].value)}if(!t.focused){t.editor.focus()}if(t.range){t.selectRange(t.range)}if(t.editLink){d(t.editLink).remove()}t.execute("insertHTML",""+l[0].outerHTML+"<span id='INSERTION_MARKER'>&nbsp;</span>",s);t.editor.focus();var o=d(t.editorDocument).find("#INSERTION_MARKER");t.selection.selectNode(o[0],true);if(t.getRange().setStartAfter){t.getRange().setStartAfter(o[0])}o.remove();t.selection.collapse(false);t._refreshTools();t._preventDefault(h)});t.updating=true;q.appendTo(document.body);t.addHandler(q,"open",function(){t.updating=true;setTimeout(function(){t.range=t.getRange();d(u[0]).focus()},25)});q.jqxWindow({resizable:false,width:280,okButton:z,cancelButton:w,theme:t.theme,isModal:true,position:{center:t.widget}});t.addHandler(q,"close",function(){t.updating=false});if(!t.focused){t.editor.focus();t.selectRange(t.range)}if(t.editLink){u[0].value=t.editLink.href||"";u[1].value=d(t.editLink).text();v.val(d(t.editLink).attr("target")=="_blank")}else{if(!t.selection.isCollapsed()){var c=t.selection.getText();if(c.match(/^(?!:\/\/)([a-zA-Z0-9]+\.)?[a-zA-Z0-9][a-zA-Z0-9-]+\.[a-zA-Z]{2,6}?$/i)){u[0].value=c}else{u[1].value=c}}}if(u[0].value.length>0){z.jqxButton({disabled:false})}else{z.jqxButton({disabled:true})}t._preventDefault(C);return false},_insertImageAction:function(c,l,o){if(l._documentMode=="source"){l._preventDefault(c);return}if(!l.focused){l.editor.focus()}l.range=l.getRange();if(d("#imageWindow"+this.element.id).length>0){l._updateImageWindow();l._preventDefault(c);return false}var n=d("<div class='jqx-editor-window jqx-editor-image-window'><div>"+l.localization["Insert Image"]+"</div><div><table style='border-collapse: separate; border-spacing: 2px;'><tr><td align='right'>"+l.localization.URL+":</td><td><input style='width: 180px; height: 23px;' value=''/></td><tr/><tr><td align='right'>"+l.localization["Alt Text"]+":</td><td><input style='width: 180px; height: 23px;' value=''/></td><tr/><tr><td align='right'>"+l.localization.Width+":</td><td><input style='width: 180px; height: 23px;' value=''/></td><tr/><tr><td align='right'>"+l.localization.Height+":</td><td><input style='width: 180px; height: 23px;' value=''/></td><tr/><tr><td align='right'>"+l.localization.HSpace+":</td><td><input style='width: 180px; height: 23px;' class='jqx-editor-hspace'/></td><tr/><tr><td align='right'>"+l.localization.VSpace+":</td><td><input style='width: 180px; height: 23px;' class='jqx-editor-vspace'/></td><tr/><tr><td align='right'>"+l.localization.Align+":</td><td><div class='jqx-editor-align'></div></td><tr/><tr><td align='right'></td><td align='right'><button>Ok</button><button style='margin-left: 5px;'>Remove</button><button style='margin-left: 5px;'>Cancel</button></td><tr/></table></div></div>");n[0].id="imageWindow"+this.element.id;var s=n.find("input");s.addClass(l.toThemeProperty("jqx-widget"));s.addClass(l.toThemeProperty("jqx-widget-content"));s.addClass(l.toThemeProperty("jqx-input"));n.find(".jqx-editor-align").jqxDropDownList({autoDropDownHeight:true,selectedIndex:0,theme:l.theme,height:23,width:180,source:[l.localization["not set"],l.localization.Left,l.localization.Right]});var q=n.find("button:first").jqxButton({theme:l.theme});var a=n.find("button:last").jqxButton({theme:l.theme});var t=d(n.find("button")[1]).jqxButton({theme:l.theme});q.val(l.localization.Ok);a.val(l.localization.Cancel);t.val(l.localization.Remove);t.hide();l.addHandler(t,!d.jqx.mobile.isTouchDevice()?"click":d.jqx.mobile.getTouchEventName("touchstart"),function(h){d(l.editImage).removeClass("jqx-editor-focus");d(l.editImage).remove();l.editImage=null;l._preventDefault(h);n.jqxWindow("close");l._raiseEvent("change")});l.addHandler(a,!d.jqx.mobile.isTouchDevice()?"click":d.jqx.mobile.getTouchEventName("touchstart"),function(h){d(l.editImage).removeClass("jqx-editor-focus");l.editImage=null;l._preventDefault(h)});l.addHandler(q,!d.jqx.mobile.isTouchDevice()?"click":d.jqx.mobile.getTouchEventName("touchstart"),function(z){d(l.editImage).removeClass("jqx-editor-focus");var h=n.find("input");var w=l.editImage?d(l.editImage):d('<img style="border: 1px solid transparent;">');var A=w.attr("src",h[0].value).attr("unselectable","on");if(h[1].value){A.attr("alt",h[1].value).attr("title",h[1].value)}if(h[2].value&&!isNaN(parseInt(h[2].value))){A.width(h[2].value)}else{A.css("width","auto")}if(h[3].value&&!isNaN(parseInt(h[3].value))){A.height(h[3].value)}else{A.css("height","auto")}if(h[4].value){if(h[4].value.toString()=="auto"){A.css("margin-left","auto");A.css("margin-right","auto")}else{if(h[4].value.toString().indexOf("%")!=-1){A.css("margin-left",parseInt(h[4].value)+"%");A.css("margin-right",parseInt(h[4].value)+"%")}else{A.css("margin-left",parseInt(h[4].value)+"px");A.css("margin-right",parseInt(h[4].value)+"px")}}}else{A.css("margin-left","0px");A.css("margin-right","0px")}if(h[5].value){if(h[5].value.toString()=="auto"){A.css("margin-top","auto");A.css("margin-bottom","auto")}else{if(h[5].value.toString().indexOf("%")!=-1){A.css("margin-top",parseInt(h[5].value)+"%");A.css("margin-bottom",parseInt(h[5].value)+"%")}else{A.css("margin-top",parseInt(h[5].value)+"px");A.css("margin-bottom",parseInt(h[5].value)+"px")}}}else{A.css("margin-top","0px");A.css("margin-bottom","0px")}var v=n.find(".jqx-editor-align").jqxDropDownList("selectedIndex");if(v==1){A.css("float","left")}else{if(v==2){A.css("float","right")}else{if(v==0){A.css("float","none")}}}A.css("resize",false);A[0].oncontrolselect=function(){return false};A[0].selectstart=function(){return false};if(!l.editImage){if(!l.focused){l.editor.focus()}if(l.range){l.selectRange(l.range)}l.execute("insertHTML",A[0].outerHTML+"<span id='INSERTION_MARKER'>&nbsp;</span>",o);l.editor.focus();var u=d(l.editorDocument).find("#INSERTION_MARKER");l.selection.selectNode(u[0],true);if(l.getRange().setStartAfter){l.getRange().setStartAfter(u[0])}u.remove();l.selection.collapse(false);l._refreshTools();l._preventDefault(z)}l.editImage=null;l._preventDefault(z)});n.appendTo(document.body);l.updating=true;l.addHandler(n,"open",function(){l.updating=true;setTimeout(function(){l.range=l.getRange();d(s[0]).focus()},25)});n.jqxWindow({resizable:false,width:280,okButton:q,cancelButton:a,theme:l.theme,isModal:true,position:{center:l.widget}});l.addHandler(n,"close",function(){l.updating=false});if(!l.focused){l.editor.focus();l.selectRange(l.range)}l._preventDefault(c);return false},editmode:function(c){var h=this;if(!c&&!h.readOnly){h._removeHandlers();h.editor.attr("contentEditable",false);var l=document.createTextNode(h.editor.html());var a=d("<pre>");a.html(l).attr({id:"sourceText",contentEditable:true}).css("height","100%");h.editor.html(a);if(h.buttons.hasOwnProperty("html")){h.buttons.html.addClass("active")}a.focus()}else{if(c&&h.readOnly){var l=h.editor.find("#sourceText").text();h.editor.html(l);if(h.buttons.hasOwnProperty("html")){h.buttons.html.removeClass("active")}h.editor.attr("contentEditable",true);h._addHandlers()}}h.readOnly=!c},setMode:function(q){var l=this;if(!l.range){l.editor.focus();l.range=l.getRange()}var n;var s=l.editor[0];if(q){l._documentMode="source";var a=new f();var c=a.HTMLtoXML(s.innerHTML);c=a.FormatHTML(c);n=document.createTextNode(c);s.innerHTML="";var t=document.createElement("pre");s.contentEditable=false;t.style.height="100%";t.style.margin="0px";t.style.outline="none";t.style.display="block";t.id="sourceText";t.contentEditable=true;t.appendChild(n);s.appendChild(t);this.readOnly=true}else{this._documentMode="html";if(document.all){s.innerHTML=s.innerText}else{if(s.textContent){s.innerHTML=s.textContent}else{n=document.createRange();n.selectNodeContents(s.firstChild);s.innerHTML=n.toString()}}s.contentEditable=true;l.readOnly=false;l._refreshTools();l.editor.focus();l.selection.selectNode(l.editor[0]);l.editor.scrollTop(0);l.selection.collapse(true)}d.each(this.commands,function(){if(this.widget){if(this.command!="viewsource"){switch(this.type){case"list":this.widget.jqxDropDownList({disabled:q});break;case"colorPicker":this.widget.jqxDropDownButton({disabled:q});break;case"button":this.widget.jqxButton({disabled:q});break;case"toggleButton":this.widget.jqxToggleButton({toggled:false,disabled:q});break}}}});l.editor.focus();if(d.jqx.browser.mozilla){var o=d("<a href='#'>anchor</a>");l.editor.prepend(o);o.focus();o.remove();l.selection.collapse(true)}if(l.commands.html.widget){l.commands.html.widget.jqxToggleButton({toggled:q=="source"||q==true});l.commands.html.toggled=q=="source"||q==true}},execute:function(l,q,s){var o=this;if(!o.readOnly){var c=o.editorDocument;if(o._documentMode=="source"){return}o.changeType="mouse";if(o.linkPopup){o.linkPopup.remove()}o.editor.focus();if(d.jqx.browser.mozilla){}if(d.jqx.mobile.isTouchDevice()){setTimeout(function(){},25)}var t=function(h){try{if(h.command&&h.command.toLowerCase()=="inserthtml"){var u=o.getRange();var w=h.value;if(w.toString().indexOf("<")==-1){w="<span>"+h.value+"</span>"}o.selection.insertContent(""+w+"<span id='INSERTION_MARKER'>&nbsp;</span>");o.selectRange(u);setTimeout(function(){var z=d(o.editorDocument).find("#INSERTION_MARKER");o.selection.selectNode(d(z).prev()[0],true);z.remove();o.selection.collapse(false)},10)}else{if(h.command){if(c.queryCommandEnabled(h.command)){c.execCommand(h.command,false,h.value)}else{return false}}else{if(c.queryCommandEnabled(h)){c.execCommand(h,false,h)}else{return false}}}}catch(v){}};if(l=="custom"){var n=q.action(q.widget,o.editor);if(n){t(n)}}else{try{if(s&&s.action){var n=s.action(s.widget,o.editor);t(n)}else{if(c.queryCommandEnabled(l)){c.execCommand(l,false,q)}else{if(l=="insertHTML"){o.selection.insertContent(q)}else{return false}}}}catch(a){if(l=="insertHTML"){o.selection.insertContent(q)}else{return false}}}if(d.jqx.mobile.isTouchDevice()){setTimeout(function(){if(o.iframe){o.iframe[0].contentWindow.focus()}},500)}o._raiseEvent("change",{command:l,args:q});o.changed=true;o.range=o.getRange()}},destroy:function(){var o=this;o._removeHandlers();var a=o.tools.split(" ");var q=o.tools.split(" | ");d.jqx.utilities.resize(this.host,null,true);var s=function(h){d.each(h,function(w,v){var l=o.commands[this];if(!l){return true}switch(l.type){case"list":l.widget.jqxDropDownList("destroy");break;case"colorPicker":l.colorPicker.remove();l.widget.jqxDropDownButton("destroy");break;case"toggleButton":l.widget.jqxToggleButton("destroy");break;case"custom":if(o.destroyTool){o.destroyTool(this)}break;case"button":default:l.widget.jqxToggleButton("destroy");if(l.command==="insertimage"){if(d("#imageWindow"+o.element.id).length>0){d("#imageWindow"+o.element.id).find(".jqx-editor-align").jqxDropDownList("destroy");d("#imageWindow"+o.element.id).find("button").jqxButton("destroy")}}else{if(l.command==="createlink"){if(d("#linkWindow"+o.element.id).length>0){d("#linkWindow"+o.element.id).find(".jqx-editor-align").jqxDropDownList("destroy");d("#linkWindow"+o.element.id).find("button").jqxButton("destroy");d("#linkWindow"+o.element.id).find(".jqx-editor-link-checkbox").jqxCheckBox("destroy")}}}break}})};if(q.length==0){s(a)}else{for(var t=0;t<q.length;t++){var u=q[t];var a=u.split(" ");s(a)}}var n=d("#linkWindow"+this.element.id);var c=d("#imageWindow"+this.element.id);if(n&&n.length>0){n.jqxWindow("destroy")}if(c&&c.length>0){c.jqxWindow("destroy")}if(o.inline){o.toolbar.remove()}else{o.widget.remove();o.host.remove()}o.iframe.remove();o.iframe=null;o.selection=null;o.editorDocument=null;o.contentEditableElement=null},val:function(a){if(a!=undefined&&typeof a!="object"){this.editor.html(a)}return this.editor.html()},_raiseEvent:function(a,n){if(n==undefined){n={owner:null}}if(this._documentMode=="source"){return true}var l=a;n.type=this.changeType;this.changeType=null;args=n;args.owner=this;var c=new d.Event(l);c.owner=this;c.args=args;if(this._textArea){var o=d(this._textArea).trigger(c)}else{var o=this.host.trigger(c)}n=c.args;return o}});var e=function(c){var a={initialize:function(h){this.document=h},getSelection:function(){return(this.document.getSelection)?this.document.getSelection():this.document.selection},getRange:function(){var l=this.getSelection();if(!l){return null}try{return l.rangeCount>0?l.getRangeAt(0):(this.document.createRange?this.document.createRange():this.document.selection.createRange())}catch(h){return this.document.body.createTextRange()}},selectRange:function(l){if(l.select){l.select()}else{var h=this.getSelection();if(h.addRange){h.removeAllRanges();h.addRange(l)}}},selectNode:function(o,n){var q=this.getRange();var s=this.getSelection();if(q.moveToElementText){q.moveToElementText(o);q.select()}else{if(s.addRange){try{n?q.selectNodeContents(o):q.selectNode(o);s.removeAllRanges();s.addRange(q)}catch(t){var l=t}}else{s.setBaseAndExtent(o,0,o,1)}}return o},isCollapsed:function(){var h=this.getRange();if(h.item){return false}return h.boundingWidth==0||this.getSelection().isCollapsed},collapse:function(o){var l=this.getRange();var n=this.getSelection();if(l.select){l.collapse(o);l.select()}else{o?n.collapseToStart():n.collapseToEnd()}},getContent:function(){var l=this.getRange();var o=d("<div>")[0];if(this.isCollapsed()){return""}if(l.cloneContents){o.appendChild(l.cloneContents())}else{if(l.item!=undefined||l.htmlText!=undefined){d(o).html(l.item?l.item(0).outerHTML:l.htmlText)}else{d(o).html(l.toString())}}var n=d(o).html();return n},getText:function(){var h=this.getRange();var l=this.getSelection();return this.isCollapsed()?"":h.text||(l.toString?l.toString():"")},getNode:function(){var h=this.getRange();if(!d.jqx.browser.msie||d.jqx.browser.version>=9){var l=null;if(h){l=h.commonAncestorContainer;if(!h.collapsed){if(h.startContainer==h.endContainer){if(h.startOffset-h.endOffset<2){if(h.startContainer.hasChildNodes()){l=h.startContainer.childNodes[h.startOffset]}}}}while(typeof(l)!="element"){l=l.parentNode}}return c.id(l)}return c.id(h.item?h.item(0):h.parentElement())},insertContent:function(n){var o=this.getRange();if(o.pasteHTML){o.pasteHTML(n);o.collapse(false);o.select()}else{if(o.insertNode){o.deleteContents();if(o.createContextualFragment){o.insertNode(o.createContextualFragment(n))}else{var l=this.document;var q=l.createDocumentFragment();var s=l.createElement("div");q.appendChild(s);s.outerHTML=n;o.insertNode(q)}}}}};a.initialize(c);return a};var f=function(){var a=/^<([-A-Za-z0-9_]+)((?:\s+\w+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,w=/^<\/([-A-Za-z0-9_]+)[^>]*>/,s=/([-A-Za-z0-9_]+)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))?/g;var t=z("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed");var A=z("address,applet,blockquote,button,center,dd,del,dir,div,dl,dt,fieldset,form,frameset,hr,iframe,ins,isindex,li,map,menu,noframes,noscript,object,ol,p,pre,script,table,tbody,td,tfoot,th,thead,tr,ul");var o=z("a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,span,strike,strong,sub,sup,textarea,tt,u,var");var v=z("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr");var c=z("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected");var q=z("script,style");var u=this.HTMLParser=function(n,C){var H,G,l,F=[],E=n;F.last=function(){return this[this.length-1]};while(n){G=true;if(!F.last()||!q[F.last()]){if(n.indexOf("<!--")==0){H=n.indexOf("-->");if(H>=0){if(C.comment){C.comment(n.substring(4,H))}n=n.substring(H+3);G=false}}else{if(n.indexOf("</")==0){l=n.match(w);if(l){n=n.substring(l[0].length);l[0].replace(w,h);G=false}}else{if(n.indexOf("<")==0){l=n.match(a);if(l){n=n.substring(l[0].length);l[0].replace(a,B);G=false}}}}if(G){H=n.indexOf("<");var D=H<0?n:n.substring(0,H);n=H<0?"":n.substring(H);if(C.chars){C.chars(D)}}}else{n=n.replace(new RegExp("(.*)</"+F.last()+"[^>]*>"),function(J,I){I=I.replace(/<!--(.*?)-->/g,"$1").replace(/<!\[CDATA\[(.*?)]]>/g,"$1");if(C.chars){C.chars(I)}return""});h("",F.last())}E=n}h();function B(M,L,K,J){L=L.toLowerCase();if(A[L]){while(F.last()&&o[F.last()]){h("",F.last())}}if(v[L]&&F.last()==L){h("",L)}J=t[L]||!!J;if(!J){F.push(L)}if(C.start){var I=[];K.replace(s,function(O,P){var N=arguments[2]?arguments[2]:arguments[3]?arguments[3]:arguments[4]?arguments[4]:c[P]?P:"";I.push({name:P,value:N,escaped:N.replace(/(^|[^\\])"/g,'$1\\"')})});if(C.start){C.start(L,I,J)}}}function h(L,I){if(!I){var K=0}else{for(var K=F.length-1;K>=0;K--){if(F[K].toLowerCase()==I.toLowerCase()){break}}}if(K>=0){for(var J=F.length-1;J>=K;J--){if(C.end){C.end(F[J])}}F.length=K}}};this.HTMLtoXML=function(h){var l="";h=h.replace(/\r/ig,"");h=h.replace(/\n/ig,"");u(h,{start:function(D,B,C){l+="<"+D;for(var n=0;n<B.length;n++){l+=" "+B[n].name+'="'+B[n].escaped+'"'}l+=(C?"/":"")+">"},end:function(n){l+="</"+n+">\r\n"},chars:function(n){l+=n},comment:function(n){l+="<!--"+n+"-->"}});return l};this.FormatHTML=function(Q,S){var I,R,V,N,L,K;S=S||{};R=S.indent_size||4;V=S.indent_char||" ";L=S.brace_style||"collapse";N=Infinity;K=S.unformatted||["a","span","bdo","em","strong","dfn","code","samp","kbd","var","cite","abbr","acronym","q","sub","sup","tt","i","b","big","small","u","s","strike","font","ins","del","pre","address","dt","h1","h2","h3","h4","h5","h6"];function U(){this.pos=0;this.token="";this.current_mode="CONTENT";this.tags={parent:"parent1",parentcount:1,parent1:""};this.tag_type="";this.token_text=this.last_token=this.last_text=this.token_type="";this.Utils={whitespace:"\n\r\t ".split(""),single_token:"br,input,link,meta,!doctype,basefont,base,area,hr,wbr,param,img,isindex,?xml,embed,?php,?,?=".split(","),extra_liners:"head,body,/html".split(","),in_array:function(B,D){for(var C=0;C<D.length;C++){if(B===D[C]){return true}}return false}};this.get_content=function(){var E="",C=[],B=false;while(this.input.charAt(this.pos)!=="<"){if(this.pos>=this.input.length){return C.length?C.join(""):["","TK_EOF"]}E=this.input.charAt(this.pos);this.pos++;this.line_char_count++;if(this.Utils.in_array(E,this.Utils.whitespace)){if(C.length){B=true}this.line_char_count--;continue}else{if(B){if(this.line_char_count>=this.max_char){C.push("\n");for(var D=0;D<this.indent_level;D++){C.push(this.indent_string)}this.line_char_count=0}else{C.push(" ");this.line_char_count++}B=false}}C.push(E)}return C.length?C.join(""):""};this.get_contents_to=function(D){if(this.pos==this.input.length){return["","TK_EOF"]}var F="";var C="";var B=new RegExp("</"+D+"\\s*>","igm");B.lastIndex=this.pos;var E=B.exec(this.input);var G=E?E.index:this.input.length;if(this.pos<G){C=this.input.substring(this.pos,G);this.pos=G}return C};this.record_tag=function(B){if(this.tags[B+"count"]){this.tags[B+"count"]++;this.tags[B+this.tags[B+"count"]]=this.indent_level}else{this.tags[B+"count"]=1;this.tags[B+this.tags[B+"count"]]=this.indent_level}this.tags[B+this.tags[B+"count"]+"parent"]=this.tags.parent;this.tags.parent=B+this.tags[B+"count"]};this.retrieve_tag=function(C){if(this.tags[C+"count"]){var B=this.tags.parent;while(B){if(C+this.tags[C+"count"]===B){break}B=this.tags[B+"parent"]}if(B){this.indent_level=this.tags[C+this.tags[C+"count"]];this.tags.parent=this.tags[B+"parent"]}delete this.tags[C+this.tags[C+"count"]+"parent"];delete this.tags[C+this.tags[C+"count"]];if(this.tags[C+"count"]==1){delete this.tags[C+"count"]}else{this.tags[C+"count"]--}}};this.get_tag=function(){var G="",E=[],Z=false,C,H;do{if(this.pos>=this.input.length){return E.length?E.join(""):["","TK_EOF"]}G=this.input.charAt(this.pos);this.pos++;this.line_char_count++;if(this.Utils.in_array(G,this.Utils.whitespace)){Z=true;this.line_char_count--;continue}if(G==="'"||G==='"'){if(!E[1]||E[1]!=="!"){G+=this.get_unformatted(G);Z=true}}if(G==="="){Z=false}if(E.length&&E[E.length-1]!=="="&&G!==">"&&Z){if(this.line_char_count>=this.max_char){this.print_newline(false,E);this.line_char_count=0}else{E.push(" ");this.line_char_count++}Z=false}if(G==="<"){C=this.pos-1}E.push(G)}while(G!==">");var B=E.join("");var Y;if(B.indexOf(" ")!=-1){Y=B.indexOf(" ")}else{Y=B.indexOf(">")}var D=B.substring(1,Y).toLowerCase();if(B.charAt(B.length-2)==="/"||this.Utils.in_array(D,this.Utils.single_token)){this.tag_type="SINGLE"}else{if(D==="script"){this.record_tag(D);this.tag_type="SCRIPT"}else{if(D==="style"){this.record_tag(D);this.tag_type="STYLE"}else{if(this.Utils.in_array(D,K)){var F=this.get_unformatted("</"+D+">",B);E.push(F);if(C>0&&this.Utils.in_array(this.input.charAt(C-1),this.Utils.whitespace)){E.splice(0,0,this.input.charAt(C-1))}H=this.pos-1;if(this.Utils.in_array(this.input.charAt(H+1),this.Utils.whitespace)){E.push(this.input.charAt(H+1))}this.tag_type="SINGLE"}else{if(D.charAt(0)==="!"){if(D.indexOf("[if")!=-1){if(B.indexOf("!IE")!=-1){var F=this.get_unformatted("-->",B);E.push(F)}this.tag_type="START"}else{if(D.indexOf("[endif")!=-1){this.tag_type="END";this.unindent()}else{if(D.indexOf("[cdata[")!=-1){var F=this.get_unformatted("]]>",B);E.push(F);this.tag_type="SINGLE"}else{var F=this.get_unformatted("-->",B);E.push(F);this.tag_type="SINGLE"}}}}else{if(D.charAt(0)==="/"){this.retrieve_tag(D.substring(1));this.tag_type="END"}else{this.record_tag(D);this.tag_type="START"}if(this.Utils.in_array(D,this.Utils.extra_liners)){this.print_newline(true,this.output)}}}}}}return E.join("")};this.get_unformatted=function(E,D){if(D&&D.indexOf(E)!=-1){return""}var F="";var C="";var B=true;do{if(this.pos>=this.input.length){return C}F=this.input.charAt(this.pos);this.pos++;if(this.Utils.in_array(F,this.Utils.whitespace)){if(!B){this.line_char_count--;continue}if(F==="\n"||F==="\r"){C+="\n";this.line_char_count=0;continue}}C+=F;this.line_char_count++;B=true}while(C.indexOf(E)==-1);return C};this.get_token=function(){var D;if(this.last_token==="TK_TAG_SCRIPT"||this.last_token==="TK_TAG_STYLE"){var C=this.last_token.substr(7);D=this.get_contents_to(C);if(typeof D!=="string"){return D}return[D,"TK_"+C]}if(this.current_mode==="CONTENT"){D=this.get_content();if(typeof D!=="string"){return D}else{return[D,"TK_CONTENT"]}}if(this.current_mode==="TAG"){D=this.get_tag();if(typeof D!=="string"){return D}else{var B="TK_TAG_"+this.tag_type;return[D,B]}}};this.get_full_indent=function(B){B=this.indent_level+B||0;if(B<1){return""}return Array(B+1).join(this.indent_string)};this.printer=function(C,D,F,G,B){this.input=C||"";this.output=[];this.indent_character=D;this.indent_string="";this.indent_size=F;this.brace_style=B;this.indent_level=0;this.max_char=G;this.line_char_count=0;for(var E=0;E<this.indent_size;E++){this.indent_string+=this.indent_character}this.print_newline=function(H,Z){this.line_char_count=0;if(!Z||!Z.length){return}if(!H){while(this.Utils.in_array(Z[Z.length-1],this.Utils.whitespace)){Z.pop()}}Z.push("\n");for(var Y=0;Y<this.indent_level;Y++){Z.push(this.indent_string)}};this.print_token=function(H){this.output.push(H)};this.indent=function(){this.indent_level++};this.unindent=function(){if(this.indent_level>0){this.indent_level--}}};return this}I=new U();I.printer(Q,V,R,N,L);while(true){var J=I.get_token();I.token_text=J[0];I.token_type=J[1];if(I.token_type==="TK_EOF"){break}switch(I.token_type){case"TK_TAG_START":I.print_newline(false,I.output);I.print_token(I.token_text);I.indent();I.current_mode="CONTENT";break;case"TK_TAG_STYLE":case"TK_TAG_SCRIPT":I.print_newline(false,I.output);I.print_token(I.token_text);I.current_mode="CONTENT";break;case"TK_TAG_END":if(I.last_token==="TK_CONTENT"&&I.last_text===""){var M=I.token_text.match(/\w+/)[0];var l=I.output[I.output.length-1].match(/<\s*(\w+)/);if(l===null||l[1]!==M){I.print_newline(true,I.output)}}I.print_token(I.token_text);I.current_mode="CONTENT";break;case"TK_TAG_SINGLE":var X=I.token_text.match(/^\s*<([a-z]+)/i);if(!X||!I.Utils.in_array(X[1],K)){I.print_newline(false,I.output)}I.print_token(I.token_text);I.current_mode="CONTENT";break;case"TK_CONTENT":if(I.token_text!==""){I.print_token(I.token_text)}I.current_mode="TAG";break;case"TK_STYLE":case"TK_SCRIPT":if(I.token_text!==""){I.output.push("\n");var n=I.token_text;if(S.indent_scripts=="keep"){var h=0}else{if(S.indent_scripts=="separate"){var h=-I.indent_level}else{var h=1}}var W=I.get_full_indent(h);var P=n.match(/^\s*/)[0];var T=P.match(/[^\n\r]*$/)[0].split(I.indent_string).length-1;var O=I.get_full_indent(h-T);n=n.replace(/^\s*/,W).replace(/\r\n|\r|\n/g,"\n"+O).replace(/\s*$/,"");if(n){I.print_token(n);I.print_newline(true,I.output)}}I.current_mode="TAG";break}I.last_token=I.token_type;I.last_text=I.token_text}return I.output.join("")};function z(h){var l={},B=h.split(",");for(var n=0;n<B.length;n++){l[B[n]]=true}return l}}})(jqxBaseFramework);(function(c){c.jqx.jqxWidget("jqxNotification","",{});c.extend(c.jqx._jqxNotification.prototype,{defineInstance:function(){var a={width:"auto",height:"auto",appendContainer:null,position:"top-right",zIndex:99999,browserBoundsOffset:5,notificationOffset:5,opacity:0.9,hoverOpacity:1,autoOpen:false,animationOpenDelay:400,animationCloseDelay:800,closeOnClick:true,autoClose:true,autoCloseDelay:3000,showCloseButton:true,template:"info",icon:null,blink:false,disabled:false,rtl:false,events:["open","close","click"]};c.extend(true,this,a);return a},createInstance:function(a){var d=this;d.render();if(d.autoOpen==true){d.open()}},render:function(){var d=this;if(d.host.hasClass("jqx-notification")==false){d.host.addClass(d.toThemeProperty("jqx-rc-all"));d.host.addClass(d.toThemeProperty("jqx-notification"));d.host.css({zIndex:d.zIndex,display:"none",opacity:d.opacity});d._container=d._notificationContainer();d._appendContent();d._setHoverFunctions();d._instances=new Array();d._instanceKey=0;var a=c.data(document.body,"jqxNotifications");if(a==undefined){a=0}c.data(document.body,"jqxNotifications",(a+1))}else{d.refresh()}},refresh:function(a){if(!a){this._appendContent(true)}},open:function(){var d=this;if(d.disabled==false){var a=d.host.clone();a.removeAttr("id");a.width(d.width);a.height(d.height);if(this.width!=null&&this.width.toString().indexOf("%")!=-1){a.css("width",this.width)}if(this.height!=null&&this.height.toString().indexOf("%")!=-1){a.css("height",this.height)}if(!d.appendContainer&&(d.position=="bottom-left"||d.position=="bottom-right")){a.css("margin-top",d.notificationOffset);d._container.prepend(a)}else{a.css("margin-bottom",d.notificationOffset);d._container.append(a)}d._addHandlers(a);a.fadeIn(d.animationOpenDelay,function(){d._raiseEvent("0")});if(d.blink==true){a._blinkInterval=setInterval(function(){a.fadeTo(400,d.opacity/1.5,function(){a.fadeTo(400,d.opacity)})},850)}if(d.autoClose==true){a._autoCloseTimeout=setTimeout(function(){d._close(a)},d.autoCloseDelay)}a._key=d._instanceKey;d._instances[d._instanceKey]=a;d._instanceKey++}},closeAll:function(){var d=this;for(var a=0;a<d._instances.length;a++){if(d._instances[a]){d._close(d._instances[a])}}},closeLast:function(){var d=this;for(var a=d._instances.length;a>=0;a--){if(d._instances[a]){d._close(d._instances[a]);break}}},destroy:function(){var d=this;d.closeAll();d.host.remove();var a=c.data(document.body,"jqxNotifications");c.data(document.body,"jqxNotifications",(a-1));d._destroyContainers(a-1)},propertyChangedHandler:function(t,s,l,o){var q=this;if(o!=l){switch(s){case"width":case"height":var a=l.indexOf&&l.indexOf("%")!=-1;a==undefined?a=false:a=a;var n=o.indexOf&&o.indexOf("%")!=-1;n==undefined?n=false:n=n;if(n!=a){q[s]=l}break;case"appendContainer":case"position":q._container=q._notificationContainer();break;case"browserBoundsOffset":if(!q.appendContainer){q._position(q._container)}break;case"opacity":q.host.css("opacity",o);break;case"showCloseButton":case"template":case"icon":case"rtl":q._appendContent(true);break}}},_raiseEvent:function(l,q){var n=this;var t=n.events[l];var o=new c.Event(t);o.owner=n;o.args=q;try{var a=n.host.trigger(o)}catch(s){}return a},_close:function(a){var d=this;if(d._instances[a._key]){d._instances[a._key]=false;clearInterval(a._blinkInterval);clearTimeout(a._autoCloseTimeout);a.fadeOut(d.animationCloseDelay,function(){d._removeHandlers(a);a.remove();d._raiseEvent("1")})}},_addHandlers:function(a){var e=this;e.addHandler(a,"click.notification"+e.element.id,function(d){e._raiseEvent("2");if(e.closeOnClick==true){e._close(a)}});e.addHandler(a,"mouseenter.notification"+e.element.id,function(d){if(!a._blinkInterval){e.mouseenterFunction(a)}});e.addHandler(a,"mouseleave.notification"+e.element.id,function(d){if(!a._blinkInterval&&a.css("display")!="none"){e.mouseleaveFunction(a)}});if(e.showCloseButton==true){var f=a.find(".jqx-notification-close-button");e.addHandler(f,"click.notification"+e.element.id,function(d){d.stopPropagation();e._close(a)})}},_removeHandlers:function(a){var e=this;e.removeHandler(a,"click.notification"+e.element.id);e.removeHandler(a,"click.mouseenter"+e.element.id);e.removeHandler(a,"click.mouseleave"+e.element.id);var f=a.find(".jqx-notification-close-button");if(f.length>0){e.removeHandler(f,"click.notification"+e.element.id)}},_appendContent:function(u){var q=this;var w;var B=q.host.html();if(!u){w=q.host.children().detach()}if(u){q.host.removeAttr("class");q.host.addClass(q.toThemeProperty("jqx-rc-all"));q.host.addClass(q.toThemeProperty("jqx-notification"))}var a=c("<table class='"+q.toThemeProperty("jqx-notification-table")+"'></table>");var z=c("<tr></tr>");a.append(z);var t=q.rtl?"jqx-notification-content-rtl":"";if(!u){var s=c("<td class='"+q.toThemeProperty("jqx-notification-content")+" "+t+"'></td>")}else{var s=q.host.find(".jqx-notification-content");B=s.html();w=s.detach();if(q.rtl){s.addClass("jqx-notification-content-rtl")}else{s.removeClass("jqx-notification-content-rtl")}}z.html(s);var v=function(){if(q.rtl==false){o.addClass("jqx-notification-icon-ltr");s.before(o)}else{o.addClass("jqx-notification-icon-rtl");s.after(o)}};var o;if(q.template){q.host.addClass("jqx-widget");q.host.addClass("jqx-popup");q.host.addClass("jqx-notification-"+q.template);o=c("<td class='"+q.toThemeProperty("jqx-notification-icon")+" jqx-notification-icon-"+q.template+"'></td>");v()}else{q.host.addClass(q.toThemeProperty("jqx-widget"));q.host.addClass(q.toThemeProperty("jqx-popup"));q.host.addClass(q.toThemeProperty("jqx-fill-state-normal"));if(q.icon){o=c("<td class='"+q.toThemeProperty("jqx-notification-icon")+"'></td>");q.icon.padding=q.icon.padding?parseInt(q.icon.padding):5;o.css({width:(parseInt(q.icon.width)+q.icon.padding),height:q.icon.height,"background-image":"url('"+q.icon.url+"')"});v()}}if(q.showCloseButton==true){var n;if(q.template){n="jqx-notification-close-button jqx-notification-close-button-"+q.template}else{n=q.toThemeProperty("jqx-icon-close")+" "+q.toThemeProperty("jqx-notification-close-button")}var A=c("<td class='"+q.toThemeProperty("jqx-notification-close-button-container")+"'><div class='"+n+" "+q.element.id+"CloseButton' title='Close'></div></td>");if(q.rtl==false){A.find("div").addClass("jqx-notification-close-button-ltr");s.after(A)}else{A.find("div").addClass("jqx-notification-close-button-rtl");s.before(A)}}q.host[0].innerHTML="";q.host.append(a);if(w.length>0){q.host.find(".jqx-notification-content").append(w)}else{q.host.find(".jqx-notification-content").html(B)}},_position:function(a){var n=this;var h;var o;var l;var q;switch(n.position){case"top-right":h="";o=n.browserBoundsOffset;l=n.browserBoundsOffset;q="";break;case"top-left":h=n.browserBoundsOffset;o="";l=n.browserBoundsOffset;q="";break;case"bottom-left":h=n.browserBoundsOffset;o="";l="";q=n.browserBoundsOffset;break;case"bottom-right":h="";o=n.browserBoundsOffset;l="";q=n.browserBoundsOffset;break}a.css({left:h,right:o,top:l,bottom:q})},_notificationContainer:function(){var d=this;var a;if(!d.appendContainer){a=c("#jqxNotificationDefaultContainer-"+d.position);if(a.length==0){c("body").append("<div id='jqxNotificationDefaultContainer-"+d.position+"' class='jqx-notification-container'></div>");a=c("#jqxNotificationDefaultContainer-"+d.position);if(d.width.indexOf&&d.width.indexOf("%")!=-1){a.addClass(d.toThemeProperty("jqx-notification-container-full-width"))}if(d.height.indexOf&&d.height.indexOf("%")!=-1){a.addClass(d.toThemeProperty("jqx-notification-container-full-height"))}d._position(a)}}else{a=c(d.appendContainer);if(a.length==0){throw new Error("jqxNotification: Invalid appendContainer jQuery Selector - "+d.appendContainer+"! Please, check whether the used ID or CSS Class name is correct.")}}return a},_destroyContainers:function(a){if(a==0){c(".jqx-notification-container").remove()}},_setHoverFunctions:function(){var a=this;var d=false;if(c.jqx.browser.browser=="msie"&&c.jqx.browser.version=="9.0"){d=true}if(d==false){a.mouseenterFunction=function(e){e.fadeTo("fast",a.hoverOpacity)};a.mouseleaveFunction=function(e){e.fadeTo("fast",a.opacity)}}else{a.mouseenterFunction=function(e){e.css("filter","alpha(opacity = "+(a.hoverOpacity*100)+")")};a.mouseleaveFunction=function(e){e.css("filter","alpha(opacity = "+(a.opacity*100)+")")}}}})})(jqxBaseFramework);if(!jqxBaseFramework){var jqxBaseFramework=window.minQuery||window.jQuery}(function(aa,Q,Z){if(!Q){return}aa.jqx=aa.jqx||{};aa.jqx.AMD=false;var ag=Q.module("jqwidgets",[]);var J=Q.module("jqwidgets-amd",[],function(){aa.jqx.AMD=true});var ac=null;var N=null;var I=null;var E=null;var L=null;var af=new Array();var M=new Array();var S=new Array();var O=new Array();var ab=new Array();var ae=new Array();var ad={};var G=false;var W=function(){var f=document.getElementsByTagName("script");var d,e,c;for(d=0;e=f[d];d++){c=e.src;if(c.indexOf("jqxcore.js")>=0){var a=c.substring(0,c.indexOf("jqxcore.js"));break}}return a}();function F(e,d,n,h,l){if(h&&l){switch(e){case"jqxGrid":case"jqxDataTable":case"jqxTreeGrid":if(n.columns){var a=h.columns||h;var f=l.columns||l;if(a.length!=f.length){return false}var c={};aa.each(a,function(u,s){var t=this;for(var q in this){if(t[q]!=f[u][q]){var o=t.datafield||t.dataField;if(!c[o]){c[o]={}}c[o][q]=t[q]}}});if(!aa.isEmptyObject(c)){aa.each(c,function(s,o){for(var q in o){var t=aa(d).jqxProxy("getcolumnproperty",s,q);if(t!==o[q]){aa(d).jqxProxy("setcolumnproperty",s,q,o[q])}}});return true}}break}}return false}function ah(c,q,d,s,h,l,w){var v=function(z){if(l==="jqxTree"||l==="jqxMenu"){return z}if(typeof z=="object"){if(z&&z._bindingUpdate!=null){return z}}var A={};var C=false;if(aa.isArray(z)||(z instanceof Object&&!z.url&&!(z.localdata||z.localData))){if(l==="jqxChart"){return z}C=true;A.localData=z;A.type="array";if(z[0]){var B=new Array();if(aa.type(z[0])=="object"){aa.each(z[0],function(ak,aj){var ai={name:ak,type:aa.type(aj)};B.push(ai)});A.datafields=B}}}else{if(z&&z.url){A=z}else{if(z&&(z.localdata||z.localData)){A=z}}}if(aa.jqx.dataAdapter){var D=new aa.jqx.dataAdapter(A);return D}else{if(C){return z}}return null};if(d.jqxSource!=Z){var f=c.$watchCollection(d.jqxSource,function(A,B){if(A!=B){if(Q.equals(A,B)){return}if(A&&B&&A._source&&B._source&&Q.equals(A._source,B._source)){return}var C=v(A);aa(q).jqxProxy({source:C});var z=Q.extend({},c.$eval(d.jqxSettings));if(d.jqxSettings&&z&&z.propertyChanged){z.propertyChanged("source",B,A)}}});w.push(f)}else{if(d.jqxSettings!=Z){var n={};var t=null;var e=ac(d.jqxSettings)(c);var o=q.controller();for(var u in o){if(e&&o[u]==e.source){t=u;break}}if(!t){for(var u in c){if(e&&c[u]==e.source){t=u;break}}}if(t){var a="";for(var u in c){if(c[u]==o){a=u;break}}if(a!=""){t=a+"."+t}var f=h.$watchCollection(t,function(z,A){if(z!=A){if(Q.equals(z,A)){return}if(z&&A&&z._source&&A._source&&Q.equals(z._source,A._source)){return}var B=aa.isArray(z)||aa.type(z)==="array";if(new Date()-n["jqxSettings.source"]>1000||n=={}||!n["jqxSettings.source"]||B){var C=v(z);aa(q).jqxProxy({source:C});var D=Q.extend({},c.$eval(d.jqxSettings));if(d.jqxSettings&&D&&D.propertyChanged){D.propertyChanged("source",A,z)}n.property=new Date()}}});w.push(f)}var f=c.$watchCollection(d.jqxSettings+".source",function(A,B){if(A!=B){if(Q.equals(A,B)){return}if(A&&B&&A._source&&B._source&&Q.equals(A._source,B._source)){return}if(new Date()-n.property>1000||!n["jqxSettings.property"]||n=={}){var C=v(A);aa(q).jqxProxy({source:C});var z=Q.extend({},c.$eval(d.jqxSettings));if(d.jqxSettings&&z&&z.propertyChanged){z.propertyChanged("source",B,A)}n["jqxSettings.source"]=new Date()}}});w.push(f);var f=c.$watchCollection(d.jqxSettings,function(A,B){if(!A){return}if(!B){var C=v(A.source);aa(q).jqxProxy({source:C});return}if(A.source!=B.source){if(Q.equals(A.source,B.source)){return}if(A&&B&&A.source&&B.source&&A.source._source&&B.source._source&&Q.equals(A.source._source,B.source._source)){return}if(A.source&&B.source&&aa.isArray(A.source)&&aa.isArray(B.source)){if(R(A.source)==R(B.source)){return}}if(new Date()-n.property>1000||!n["jqxSettings.source"]||n=={}){var C=v(A.source);aa(q).jqxProxy({source:C});var z=Q.extend({},c.$eval(d.jqxSettings));if(d.jqxSettings&&z&&z.propertyChanged){z.propertyChanged("source",B.source,A.source)}n["jqxSettings.source"]=new Date()}}});w.push(f)}}return v(s)}function R(c){if(c==null){return""}var a="";aa.each(c,function(f){var d=this;if(f>0){a+=", "}a+="[";var h=0;if(aa.type(d)=="object"){for(var e in d){if(h>0){a+=", "}a+="{"+e+":"+d[e]+"}";h++}}else{if(h>0){a+=", "}a+="{"+f+":"+d+"}";h++}a+="]"});return a}function X(c,e,f,h,d,a){aa.extend(aa.jqx["_"+h+""].prototype,{definedInstance:function(){if(this.element&&this.element!==e[0]){return true}if(this.base&&this.base.element!==e[0]){return true}var n=this;aa.each(a,function(s,q){n.addHandler(aa(e),s,function(t){c.$parent?aa.proxy(q,d)(t):q(t);if(c.$root.$$phase!="$apply"&&c.$root.$$phase!="$digest"){c.$apply()}})});var l=f.$attr;aa.each(f,function(s,q){if(s.indexOf("jqxOn")>=0){var v=l[s].substring(7);var t=aa.camelCase(v);var u=q;n.addHandler(aa(e),t,function(z){z.data=f.data||f.jqxData;if(u.indexOf("(")>=0){var A=u.indexOf("(");var w=ac(u.substring(0,A))(c);if(w){w(z)}else{c.$emit(t,z)}}else{c.$emit(u,z)}if(c.$root.$$phase!="$apply"&&c.$root.$$phase!="$digest"){c.$apply()}})}});if(f.jqxInstance){var o=ac(f.jqxInstance).assign;if(o){o(c,n)}if(c.$root.$$phase!="$apply"&&c.$root.$$phase!="$digest"){c.$apply()}}}})}function Y(c,e,h,l,d,a){if(!h.jqxSettings){return}var f=ac(h.jqxSettings)(c);if(!f){return}if(!f.apply){f.apply=f[l]=function(){var n=arguments;var o=new Array();if(n.length==0){return true}aa.each(M[d.$id+l+h.jqxSettings],function(t,s){var q=this;o.push({widgetName:l,element:q,result:aa.jqx.jqxWidgetProxy(l,q,n)})});if(o.length==1){return o[0].result}return o};f.digest=function(){if(!/^\$(digest|apply)$/.test(c.$root.$$phase)){c.$digest()}};f.refresh=function(o,q){var t={};var n=aa(e)[l]("getInstance");aa.each(f,function(w,u){if(w==="created"||w==="propertyChanged"||w=="data"||w=="refresh"||w==l||w=="apply"){return true}var v=n.events||n._events;if((v&&v.indexOf(w)>=0)||w.match(/(mousedown|click|mouseenter|mouseleave|mouseup|keydown|keyup|focus|blur|keypress)/g)){return true}if(o!=Z&&o.indexOf(w)===-1){return true}t[w]=u});if(t!=={}){if(q){aa.each(t,function(v,u){f[v]=n[v]});if(c.$root.$$phase!="$apply"&&c.$root.$$phase!="$digest"){c.$apply()}}else{aa.each(M[d.$id+l+h.jqxSettings],function(v,u){aa(this).jqxProxy(t)});if(h.jqxWatchSettings!=Z){if(d){var s=ac(h.jqxSettings)(d);aa.each(s,function(A,u){if(A.match(/(source|propertyChanged|created|data|apply|refresh)/g)){return true}var w=n.events||n._events;if((w&&w.indexOf(A)>=0)||A.match(/(mousedown|click|mouseenter|mouseleave|mouseup|keydown|keyup|focus|blur|keypress)/g)){return true}if(A===l){return true}if(!S[h.jqxSettings+"."+A]){var v=A;var z=d.$watch(h.jqxSettings+"."+A,function(ai,B){if(ai!=B){if(Q.equals(ai,B)){return}var C={};C[v]=ai;aa.each(M[d.$id+l+h.jqxSettings],function(al,aj){var ak=F(l,aa(this),C,ai,B);if(!ak){aa(this).jqxProxy(C)}});var D=Q.extend({},c.$eval(h.jqxSettings));if(h.jqxSettings&&D&&D.propertyChanged){D.propertyChanged(v,B,ai)}}},true);S[h.jqxSettings+"."+A]=z}})}}}}if(ad[e[0].id]){t={};aa.each(ad[e[0].id],function(){if(o!=Z&&o.indexOf(aa.camelCase(this.value.substring(4)))===-1){return true}t[aa.camelCase(this.value.substring(4))]=c.$eval(this.label);if(q){var u=aa.parse(this.label)(c).assign;if(u){u(c,n[aa.camelCase(this.value.substring(4))])}}});if(!q){aa.each(M[d.$id+l+h.jqxSettings],function(v,u){aa(this).jqxProxy(t)})}else{if(c.$root.$$phase!="$apply"&&c.$root.$$phase!="$digest"){c.$apply()}}}};M[d.$id+l+h.jqxSettings]=new Array();M[d.$id+l+h.jqxSettings].push(a)}else{if(!M[d.$id+l+h.jqxSettings]){M[d.$id+l+h.jqxSettings]=new Array()}M[d.$id+l+h.jqxSettings].push(a)}}function V(a,h,c,q,f,n,l){var e=/(jqxGrid|jqxTree|jqxMenu|jqxDataTable|jqxTreeGrid|jqxListBox|jqxTreeMap|jqxComboBox|jqxDropDownList|jqxChart)/ig;if(c.jqxSettings&&n&&n.source===Z&&c.jqxSource===Z&&q.match(e)){if(q.match(/(jqxTree|jqxMenu)/ig)){if(h[0].innerHTML.toLowerCase().indexOf("ul")===-1){n.source=[]}}else{n.source=[]}}if(n.source!==Z&&c.jqxSettings){n.source=ah(a,h,c,n.source,f,q,l)}else{if(c.jqxSource!==Z){var s=Q.extend({},a.$eval(c.jqxSource));var o=c.jqxSource&&c.jqxSource.dataBind?true:false;if(o){n.source=ah(a,h,c,c.jqxSource,f,q,l)}else{n.source=ah(a,h,c,s,f,q,l)}}}var d=a.$watch(c.ngDisabled,function(t,u){if(t!=Z){if(t!=u||aa(h).jqxProxy("disabled")!==t){var v={};v.disabled=t;aa(h).jqxProxy(v)}}});l.push(d)}function U(c,o,d,v,f){var s=new Array();var t=Q.extend({},c.$eval(d.jqxSettings));V(c,o,d,v,f,t,s);var l={};var n={};if(ad[o[0].id]){aa.each(ad[o[0].id],function(){var A=this.label;var w=this.value;var D=aa.camelCase(w.substring("4"));if(typeof d[A]!=="undefined"){var aj=c.$eval(d[A]);if(aj===Z&&aa.type(d[A])==="string"){aj=d[A]}if(D=="instance"){return true}if(aa.type(aj)==="array"&&v!=="source"){aj=aj.slice(0)}else{if(aa.type(aj)==="object"&&v!=="source"){aj=aa.extend({},aj)}}var ai=/(columnmenuopening|columnmenuclosing|aggregatesrenderer|tooltipFormatFunction|labelsFormatFunction|rendergridrows|draw|renderFiles|initTools|initFeedBack|onTargetDrop|drawBefore|dragStart|dragEnd|onDropTargetEnter|onDropTargetLeave|onDrag|createCommand|ready|render|initrowdetails|initTabContent|initContent|renderer|renderToolbar|renderStatusBar|groupsrenderer|pagerrenderer|groupcolumnrenderer|updatefilterconditions|handlekeyboardnavigation|updatefilterpanel|rendered|virtualModeCreateRecords|virtualModeRecordCreating|search|selectionRenderer)/ig;var ak=/(searchMode)/ig;var C=/(ready|aggregatesrenderer|initrowdetails|initTabContent|initContent|renderToolbar|renderStatusBar|pagerRenderer)/ig;if(aa.isFunction(aj)&&!D.match(ai)){n[index]=aj}else{if(D.match(ai)&&!D.match(ak)){var B=function(){var al=aj.apply(this,arguments);if(D.match(C)&&!/^\$(digest|apply)$/.test(c.$root.$$phase)){c.$digest()}return al};l[D]=B;return true}l[D]=aj}var z=function(ao,aq){if(ao!=aq){if(Q.equals(ao,aq)){return}var ap=aa.camelCase(w.substring("4"));if(ap=="watch"){if(d.jqxWatch.indexOf(",")>=0||d.jqxWatch.indexOf("[")>=0){var am=d.jqxWatch;am=am.replace("[","");am=am.replace("]","");am=am.trim();am=am.split(",");aa.each(am,function(ay,av){var au=this.split(".");for(var ax=0;ax<au.length;ax++){if(au[ax] in aa(o).data().jqxWidget){ap=au[ax];break}else{if(au[ax].toLowerCase() in aa(o).data().jqxWidget){ap=au[ax].toLowerCase();break}}}var aA={};aA[ap]=ao[ay];var az=F(v,aa(o),aA,ao,aq);if(!az){aa(o).jqxProxy(aA);var aw=Q.extend({},c.$eval(d.jqxSettings));if(d.jqxSettings&&aw&&aw.propertyChanged){aw.propertyChanged(ap,aq,ao)}}});return}var am=d.jqxWatch.split(".");for(var an=0;an<am.length;an++){if(am[an] in aa(o).data().jqxWidget){ap=am[an];break}else{if(am[an].toLowerCase() in aa(o).data().jqxWidget){ap=am[an].toLowerCase();break}}}}var at={};at[ap]=ao;var ar=F(v,aa(o),at,ao,aq);if(!ar){aa(o).jqxProxy(at);var al=Q.extend({},c.$eval(d.jqxSettings));if(d.jqxSettings&&al&&al.propertyChanged){al.propertyChanged(ap,aq,ao)}}}};if(D=="watch"){delete l[D];var z=c.$watch(d[A],z,true);s.push(z)}else{var z=c.$watch(d[A],z);s.push(z)}}})}if(o[0].id==""){if(Z==af[v]){af[v]=0}o[0].id=v+af[v]++}var u=aa(o)[v];if(!u){throw new Error("Missing required JavaScript references for: "+v);return null}aa.each(t,function(z,w){if(z==="data"||z==="created"||z==="propertyChanged"){return true}var B=/(columnmenuopening|columnmenuclosing|aggregatesrenderer|tooltipFormatFunction|labelsFormatFunction|rendergridrows|renderFiles|initTools|draw|drawBefore|dragStart|dragEnd|initFeedBack|onTargetDrop|onDropTargetEnter|onDropTargetLeave|onDrag|createCommand|ready|render|initrowdetails|initTabContent|initContent|renderer|renderToolbar|renderStatusBar|groupsrenderer|pagerrenderer|groupcolumnrenderer|updatefilterconditions|handlekeyboardnavigation|updatefilterpanel|rendered|virtualModeCreateRecords|virtualModeRecordCreating|search|selectionRenderer)/ig;var A=/(searchMode)/ig;var C=/(ready|aggregatesrenderer|initrowdetails|initTabContent|initContent|renderToolbar|renderStatusBar|pagerRenderer)/ig;if(aa.isFunction(w)&&!z.match(B)){n[z]=w}else{if(z.match(B)&&!z.match(A)){var D=function(){var ai=w.apply(this,arguments);if(z.match(C)&&!/^\$(digest|apply)$/.test(c.$root.$$phase)){c.$digest()}return ai};l[z]=D;return true}if(aa.type(w)==="array"&&z!=="source"){w=w.slice(0)}else{if(aa.type(w)==="object"&&z!=="source"){w=aa.extend({},w)}}l[z]=w}});X(c,o,d,v,f,n);var h=o[0];Y(c,o,d,v,f,h);var q=aa(o)[v](l);var a=aa(o)[v]("getInstance");P(c,o,d,v,f,t,h,a,l,s);var e=c.$on("$destroy",function(){if(a&&a.destroy&&!a.isDestroyed){a.isDestroyed=true;if(aa(o).parents().length>0){aa(o)[v]("destroy")}a=null}else{aa(o).remove();a=null}for(var w=0;w<s.length;w++){s[w]()}l=[];n=[];e()});return a}function P(c,o,d,t,h,q,l,a,n,s){if(d.jqxSettings){if(d.jqxWatchSettings!=Z){if(h){var e=ac(d.jqxSettings)(h);aa.each(e,function(A,u){if(A.match(/(source|created|propertyChanged|data|apply|refresh)/g)){return true}var w=a.events||a._events;if((w&&w.indexOf(A)>=0)||A.match(/(mousedown|click|mouseenter|mouseleave|mouseup|keydown|keyup|focus|blur|keypress)/g)){return true}if(A===t){return true}if(n.hasOwnProperty(A)){var v=A;var z=h.$watch(d.jqxSettings+"."+A,function(ai,aj){if(ai!=aj){if(Q.equals(ai,aj)){return}var C={};C[v]=ai;var B=F(t,aa(o),C,ai,aj);if(!B){aa(o).jqxProxy(C);var D=Q.extend({},c.$eval(d.jqxSettings));if(d.jqxSettings&&D&&D.propertyChanged){D.propertyChanged(v,aj,ai)}}}},true);S[d.jqxSettings+"."+A]=z;s.push(z)}})}}var f=c.$watch(d.jqxSettings,function(v,w){var A={};var B=false;if(v!=w){if(Q.equals(v,w)){return}aa.each(v,function(ak,ai){if(ak==="source"){if(w.source!=null){return true}else{var C=ah(c,o,d,ai,h,s);A[ak]=C}}if(ak==="created"){return true}if(ak==="propertyChanged"){return true}if(ak==="data"){c.$apply();return true}var aj=a.events||a._events;if((aj&&aj.indexOf(ak)>=0)||ak.match(/(mousedown|click|mouseenter|mouseleave|mouseup|keydown|keyup|focus|blur|keypress)/g)){return true}var D=function(al){if(d.jqxWatchSettings!=Z){if(h){if(!S[d.jqxSettings+"."+al]){var al=ak;var am=h.$watch(d.jqxSettings+"."+al,function(ao,ap){if(ao!=ap){if(Q.equals(ao,ap)){return}var ar={};ar[al]=ao;var aq=F(t,aa(o),ar,ao,ap);if(!aq){aa(o).jqxProxy(ar);var an=Q.extend({},c.$eval(d.jqxSettings));if(d.jqxSettings&&an&&an.propertyChanged){an.propertyChanged(al,ap,ao)}}}},true);S[d.jqxSettings+"."+al]=am;s.push(am)}}}};if(!(ai instanceof Object)&&(w==null||ai!==w[ak])){A[ak]=ai;D(ak);B=true}else{if(ak!==t&&ak!=="apply"&&ak!=="created"&&ak!=="propertyChanged"&&(ai instanceof Object)&&(w==null||(R(ai)!==R(w[ak]))||(R(ai)==""&&R(w[ak])==""))){A[ak]=ai;D(ak);B=true}}});if(A!=={}&&B){var z=F(t,aa(o),A,v,w);if(!z){aa(o).jqxProxy(A);var u=Q.extend({},c.$eval(d.jqxSettings));if(d.jqxSettings&&u&&u.propertyChanged){u.propertyChanged(index,w,v)}}}}});s.push(f)}}function H(o,u,a,w){var e=o[0].nodeName.toLowerCase();var d=aa(o).parent();var t=aa(o).html();var c=d&&d[0]&&d[0].nodeName.toLowerCase()=="ng-include"?true:false;if(aa(o).parents("[ui-view]").length>0){c=true}if(c&&!u){aa(o).attr("data-jqx-ng-include",true);return}var n='<div id="jqx-ngwidget">'+t+"</div>";if(e.indexOf("jqx")>=0){var s=o[0].attributes;var l=o;if(e.indexOf("input")>=0){if(e.indexOf("date")>=0||e.indexOf("number")>=0){aa(o).replaceWith('<div id="jqx-ngwidget"></div>')}else{if(e.indexOf("password")>=0){aa(o).replaceWith('<input id="jqx-ngwidget" type="password"/>')}else{aa(o).replaceWith('<input id="jqx-ngwidget"/>')}}}else{if(e.indexOf("jqx-button")>=0&&e.indexOf("jqx-button-group")==-1){aa(o).replaceWith('<button id="jqx-ngwidget">'+t+"</button>")}else{if(e.indexOf("jqx-toggle-button")>=0){aa(o).replaceWith('<button id="jqx-ngwidget">'+t+"</button>")}else{if(e.indexOf("jqx-link-button")>=0){if(aa(o).find("a").length>0){var q=aa(o).find("a");q.attr("id","jqx-ngwidget");aa(o).replaceWith(q)}else{aa(o).replaceWith('<a id="jqx-ngwidget">'+t+"</a>")}}else{if(e.indexOf("jqx-data-table")>=0||e.indexOf("jqx-grid")>=0){if(aa(o).find("tr").length>0){aa(o).replaceWith('<div id="jqx-ngwidget">'+t+"</div>")}else{aa(o).replaceWith('<div id="jqx-ngwidget"></div>')}}else{if(e.indexOf("jqx-list-box")>=0||e.indexOf("jqx-drop-down-list")>=0||e.indexOf("jqx-combo-box")>=0){if(aa(o).find("option").length>0){aa(o).replaceWith('<select id="jqx-ngwidget">'+t+"</select>")}else{if(aa(o).find("li").length>0){aa(o).replaceWith('<ul id="jqx-ngwidget">'+t+"</ul>")}else{aa(o).replaceWith('<div id="jqx-ngwidget"></div>')}}}else{if(e.indexOf("jqx-list-menu")>=0){aa(o).replaceWith('<ul id="jqx-ngwidget" data-role="listmenu">'+t+"</ul>")}else{if(e.indexOf("jqx-tooltip")>=0){var v=aa(o).children();v.detach();aa(v).insertAfter(aa(o));aa.each(s,function(){if(aa(v)[0]){aa(v)[0].setAttribute(this.name,this.value)}});aa(o).remove();o=v}else{aa(o).replaceWith(n)}}}}}}}}l=d.find("#jqx-ngwidget").removeAttr("id");aa.each(s,function(){if(aa(l)[0]){aa(l)[0].setAttribute(this.name,this.value)}})}var f=o[0];if(l&&l.length){f=l[0]}var h=this;if(f.id==""){if(Z==af[w]){af[w]=0}f.id=w+af[w]++}aa.each(a,function(A,z){if(A!==w&&A!="jqxNgModel"&&A.indexOf("jqxOn")==-1&&A!="jqxData"&&A!="jqxWatchSettings"&&A!="jqxCreated"&&A!="jqxSource"&&A!="jqxCreate"&&A!="jqxSettings"&&A.indexOf("jqx")>=0){if(!ad[f.id]){ad[f.id]=new Array()}ad[f.id].push({label:A,value:a.$attr[A]})}});return aa(f)}function K(c,a){function d(f){a.filesCount=0;var n=f.length;if(f.scripts){var h=f.scripts.length;for(var o in f.deps){h++;var q=f.deps[o];h+=q.length}n=h}var l=function(s,v){var t=0;var w=0;var u=function(){var D=s[t];var C=aa('script[src*="'+D+'"]').length;if(C===0){var A=document.getElementsByTagName("head")[0];var B=document.createElement("script");B.type="text/javascript";var ai=function(){a.filesCount++;w++;ab[D]=false;if(O[D]!=Z){aa.each(O[D],function(){this.documentReady=true;if(this.scriptsLoaded){this.scriptsLoaded()}})}O[D]=true;if(a.filesCount==n){a.documentReady=true;if(a.scriptsLoaded){a.scriptsLoaded()}return}if(w===s.length&&v){v()}};if(B.addEventListener){B.addEventListener("load",ai,false)}else{if(window.attachEvent){B.attachEvent("onreadystatechange",function(){if(B.readyState=="complete"||B.readyState=="loaded"){ai()}})}}ab[D]=true;var z=W;if(D=="globalize.js"){z=W+"globalization/"}B.src=z+D;A.appendChild(B);t++;if(t<s.length){u()}}else{a.filesCount++;if(a.filesCount==n){if(O[D]===true||ab[D]===Z){a.documentReady=true;if(a.scriptsLoaded){a.scriptsLoaded()}return}else{if(O[D]==Z){O[D]=new Array()}O[D].push(a);return}}t++;if(t<s.length){u()}w++;if(w===s.length&&v){v()}}};u()};if(!f.scripts){l(f)}else{l(f.scripts);aa.each(f.deps,function(s,t){var u=new Array();u.push(s);l(u,function(){l(t)})})}}var e={jqxCalendar:["jqxdatetimeinput.js","jqxcalendar.js","jqxtooltip.js","globalize.js","jqxbuttons.js"],jqxDateTimeInput:["jqxdatetimeinput.js","jqxcalendar.js","jqxtooltip.js","globalize.js","jqxbuttons.js"],jqxScheduler:["jqxscheduler.js","jqxscheduler.api.js","jqxdate.js","jqxmenu.js","jqxwindow.js","jqxcheckbox.js","jqxnumberinput.js","jqxscrollbar.js","jqxlistbox.js","jqxdropdownlist.js","jqxinput.js","jqxradiobutton.js","jqxdatetimeinput.js","jqxcalendar.js","jqxtooltip.js","globalize.js","jqxbuttons.js"],jqxListBox:["jqxlistbox.js","jqxdata.js","jqxbuttons.js","jqxscrollbar.js"],jqxComboBox:["jqxlistbox.js","jqxdata.js","jqxbuttons.js","jqxscrollbar.js","jqxcombobox.js"],jqxDropDownList:["jqxlistbox.js","jqxdata.js","jqxbuttons.js","jqxscrollbar.js","jqxdropdownlist.js"],jqxKanban:["jqxkanban.js","jqxsortable.js"],jqxSortable:["jqxsortable.js"],jqxKnob:["jqxdraw.js","jqxknob.js"],jqxGrid:{scripts:["jqxdatetimeinput.js","jqxcalendar.js","jqxmenu.js","jqxtooltip.js","jqxscrollbar.js","jqxbuttons.js","jqxlistbox.js","jqxdropdownlist.js","jqxcombobox.js","jqxcheckbox.js","globalize.js"],deps:{"jqxgrid.js":["jqxgrid.selection.js","jqxgrid.filter.js","jqxgrid.sort.js","jqxgrid.storage.js","jqxgrid.grouping.js","jqxgrid.pager.js","jqxgrid.columnsresize.js","jqxgrid.columnsreorder.js","jqxgrid.edit.js","jqxgrid.export.js","jqxgrid.aggregates.js"],"jqxdata.js":["jqxdata.export.js"]}},jqxDataTable:{scripts:["jqxdatatable.js","jqxdatetimeinput.js","jqxcalendar.js","jqxmenu.js","jqxtooltip.js","jqxscrollbar.js","jqxbuttons.js","jqxlistbox.js","jqxdropdownlist.js","jqxcombobox.js","jqxcheckbox.js","globalize.js","jqxinput.js"],deps:{"jqxdata.js":["jqxdata.export.js"]}},jqxTreeGrid:{scripts:["jqxdatetimeinput.js","jqxcalendar.js","jqxmenu.js","jqxtooltip.js","jqxscrollbar.js","jqxbuttons.js","jqxlistbox.js","jqxdropdownlist.js","jqxcombobox.js","jqxcheckbox.js","globalize.js","jqxinput.js"],deps:{"jqxdatatable.js":["jqxtreegrid.js"],"jqxdata.js":["jqxdata.export.js"]}},jqxDockingLayout:{scripts:["jqxmenu.js"],deps:{"jqxlayout.js":["jqxdockinglayout.js"]}},jqxCheckBox:["jqxcheckbox.js"],jqxRadioButton:["jqxradiobutton.js"],jqxBulletChart:["jqxbulletchart.js","jqxtooltip.js"],jqxRangeSelector:["jqxrangeselector.js"],jqxScrollView:["jqxbuttons.js","jqxscrollview.js"],jqxSwitchButton:["jqxswitchbutton.js"],jqxTouch:["jqxtouch.js"],jqxColorPicker:["jqxcolorpicker.js"],jqxInput:["jqxinput.js"],jqxTextArea:["jqxtextarea.js","jqxbuttons.js","jqxscrollbar.js"],jqxTagCloud:["jqxtagcloud.js"],jqxPopover:["jqxpopover.js"],jqxLayout:["jqxlayout.js","jqxmenu.js","jqxwindow.js"],jqxLoader:["jqxloader.js"],jqxResponsivePanel:["jqxresponsivepanel.js"],jqxEditor:["jqxeditor.js"],jqxNumberInput:["jqxbuttons.js","jqxnumberinput.js"],jqxMaskedInput:["jqxmaskedinput.js"],jqxSlider:["jqxbuttons.js","jqxslider.js"],jqxPanel:["jqxbuttons.js","jqxscrollbar.js","jqxpanel.js"],jqxButton:["jqxbuttons.js"],jqxLinkButton:["jqxbuttons.js"],jqxToggleButton:["jqxbuttons.js"],jqxRepeatButton:["jqxbuttons.js"],jqxDropDownButton:["jqxdropdownbutton.js"],jqxNotification:["jqxnotification.js"],jqxDockPanel:["jqxdockpanel.js"],jqxProgressBar:["jqxprogressbar.js"],jqxListMenu:["jqxbuttons.js","jqxscrollbar.js","jqxpanel.js","jqxlistmenu.js"],jqxTree:["jqxbuttons.js","jqxscrollbar.js","jqxpanel.js","jqxtree.js","jqxdata.js"],jqxMenu:["jqxmenu.js","jqxdata.js"],jqxTabs:["jqxtabs.js","jqxbuttons.js"],jqxDragDrop:["jqxdragdrop.js"],jqxDraw:["jqxdraw.js"],jqxWindow:["jqxwindow.js"],jqxDocking:["jqxwindow.js","jqxdocking.js"],jqxButtonGroup:["jqxbuttons.js","jqxbuttongroup.js"],jqxChart:["jqxdata.js","jqxchart.js"],jqxNavigationBar:["jqxnavigationbar.js"],jqxExpander:["jqxexpander.js"],jqxResponse:["jqxresponse.js"],jqxPasswordInput:["jqxpasswordinput.js"],jqxRating:["jqxrating.js"],jqxSplitter:["jqxbuttons.js","jqxsplitter.js"],jqxValidator:["jqxvalidator.js"],jqxTooltip:["jqxtooltip.js"],jqxGauge:["jqxdraw.js","jqxgauge.js"],jqxLinearGauge:["jqxdraw.js","jqxgauge.js"],jqxTreeMap:["jqxtreemap.js"],jqxRibbon:["jqxbuttons.js","jqxribbon.js"],jqxFormattedInput:["jqxbuttons.js","jqxformattedinput.js"],jqxComplexInput:["jqxbuttons.js","jqxcomplexinput.js"],jqxToolBar:["jqxtoolbar.js"],jqxFileUpload:["jqxfileupload.js"],jqxNavBar:["jqxnavbar.js"]};d(e[c])}aa.jqx.angularCompile=function(d,e){if(d.length>0){d=d[0]}var a=Q.element(d);var c=a.injector();if(e==Z){e=d.innerHTML}c.invoke(["$compile","$rootScope",function(f,l){var h=a.html(e).scope();f(a)(h||l);if(!/^\$(digest|apply)$/.test(l.$$phase)){l.$digest()}else{if(!/^\$(digest|apply)$/.test(h.$$phase)){h.$digest()}}}])};function T(d){var c={};var a=function(e,s,f,z,A){if(aa(s).attr("data-jqx-ng-include")){aa(s).removeAttr("data-jqx-ng-include");var w=aa(s.children()).detach();s=H(s,true,f,d);s.append(w);E(s)(e);var h=true;for(var t in f){if(t.toString().indexOf("jqx")==-1){continue}if(e[f[t]]!=Z){h=false}if(f[t].split(".").length>1){var v=f[t].split(".");for(var u=0;u<v.length;u++){if(e[v[u]]!=Z){h=false}}}}if(h&&f.jqxSettings){if(!ac(f.jqxSettings)(e)){h=false}}if(h){e=e.$parent}}if(aa.jqx.AMD){var o={};ae[d]=false;o.documentReady=false;K(d,o)}var B=s[0].style.visibility;var q=s[0].style.display;s[0].style.visibility="hidden";s[0].style.display="none";var l=e;var n=I(function(){I.cancel(n);n=Z;var ai=function(){var ap=z[0];s[0].style.visibility=B;s[0].style.display=q;var ao=U(e,s,f,d,l);var al=d.toLowerCase();var am=d.match(/(input|list|radio|checkbox|combobox|rating|slider|scrollbar|progress|range|editor|picker|range|gauge|textarea|calendar|switch|button)/ig);var an={element:s[0],name:d,instance:aa(s).data().jqxWidget,id:s[0].id,scope:e};var au=function(){e.$emit(d+"Created",an);if(f.jqxSettings&&ac(f.jqxSettings)(e)&&ac(f.jqxSettings)(e).created){N(function(){var av=ac(f.jqxSettings)(e).created;av(an)})}if(f.jqxCreated){N(function(){var av=ac(f.jqxCreated)(e);av(an)})}};if(d==="jqxGrid"||d==="jqxDataTable"){var at=0;var ar=I(function(){if(!aa(s).data().jqxWidget){I.cancel(ar);ar=Z}else{if(aa(s).data().jqxWidget.initializedcall||at==25){I.cancel(ar);ar=Z;au()}}at++},100)}else{au()}N(function aq(){if(ap){ap.$render=function(){var az=ap.$viewValue;if(az===Z){az=ap.$modelValue}if(d==="jqxRadioButton"){if(e.$eval(aa(s).attr("value"))==ap.$viewValue){aa(s).val(true)}else{if(e.$eval(aa(s).attr("value"))=="true"&&ap.$viewValue==true){aa(s).val(true)}else{aa(s).val(false)}}return}else{if(d==="jqxCheckBox"){if(e.$eval(aa(s).attr("ng-true-value"))==ap.$viewValue){aa(s).val(true)}if(e.$eval(aa(s).attr("ng-false-value"))==ap.$viewValue){aa(s).val(false)}else{aa(s).val(ap.$viewValue)}return}}if(az!=aa(s).val()){N(function(){aa(s).val(az)})}};if(d==="jqxRadioButton"){if(e.$eval(aa(s).attr("value"))==ap.$viewValue){aa(s).val(true)}else{if(e.$eval(aa(s).attr("value"))=="true"&&ap.$viewValue==true){aa(s).val(true)}else{aa(s).val(false)}}}else{if(d==="jqxCheckBox"){if(e.$eval(aa(s).attr("ng-true-value"))==ap.$viewValue){aa(s).val(true)}if(e.$eval(aa(s).attr("ng-false-value"))==ap.$viewValue){aa(s).val(false)}else{aa(s).val(ap.$viewValue)}}else{if(d==="jqxDropDownList"||d==="jqxComboBox"||d==="jqxListBox"||d==="jqxInput"||d==="jqxTextArea"){if(f.jqxNgModel!=Z){var ay=aa(s).data().jqxWidget;if(d!="jqxInput"){if(ay.valueMember){ay.selectItem(ap.$viewValue[ay.valueMember])}else{if(ay.displayMember){ay.selectItem(ap.$viewValue[ay.displayMember])}else{aa(s).val(ap.$viewValue)}}}else{aa(s).val(ap.$viewValue)}}else{aa(s).val(ap.$viewValue)}}else{if(d==="jqxDateTimeInput"||d==="jqxCalendar"){if(f.jqxNgModel!=Z){var ay=aa(s).data().jqxWidget;if(ay.selectionMode=="range"){ay.setRange(ap.$viewValue)}else{ay.setDate(ap.$viewValue)}}else{aa(s).val(ap.$viewValue)}}else{if(d=="jqxToggleButton"){var ay=aa(s).data().jqxWidget;ay.toggled=true;ay.refresh()}else{aa(s).val(ap.$viewValue)}}}}}if(am){var aw="keyup change";if(d=="jqxScrollBar"){aw="valueChanged"}if(d=="jqxToggleButton"){aw="keyup click"}if(d=="jqxInput"){aw="keyup change select"}var av;var ax=ao.host;if(!ax&&ao.base){ax=ao.base.host}aa(ax).on(aw,function(az){var aA=az.args;if(av){N.cancel(av)}av=N(function(){if(d==="jqxRadioButton"){if(aA&&aA.type!="api"){ap.$setViewValue(e.$eval(aa(s).attr("value")))}}else{if(d==="jqxCheckBox"){if(aa(s).attr("ng-true-value")!=Z&&aA.checked){ap.$setViewValue(aa(s).attr("ng-true-value"))}else{if(aa(s).attr("ng-false-value")!=Z&&!aA.checked){ap.$setViewValue(aa(s).attr("ng-false-value"))}else{ap.$setViewValue(aa(s).val())}}}else{if(d==="jqxDropDownList"||d==="jqxComboBox"||d==="jqxListBox"||d==="jqxInput"||d==="jqxTextArea"){var aB=aa(s).val();if(f.jqxNgModel!=Z){var aC=aa(s).data().jqxWidget;if(aC.getSelectedItem){aB=aC.getSelectedItem();if(aB.originalItem){aB=aB.originalItem}}if(d==="jqxInput"||d==="jqxTextArea"){aB=aC.selectedItem}ap.$setViewValue(aB)}else{ap.$setViewValue(aB)}}else{if(d==="jqxDateTimeInput"||d==="jqxCalendar"){if(f.jqxNgModel!=Z){var aC=aa(s).data().jqxWidget;if(aC.selectionMode=="range"){ap.$setViewValue(aC.getRange())}else{ap.$setViewValue(aC.getDate())}}else{if(aa.type(ap.$viewValue)==="date"){var aC=aa(s).data().jqxWidget;if(aC.selectionMode=="range"){ap.$setViewValue(aC.getRange())}else{ap.$setViewValue(aC.getDate())}}else{ap.$setViewValue(aa(s).val())}}}else{if(d=="jqxToggleButton"){var aC=aa(s).data().jqxWidget;ap.$setViewValue(aC.toggled)}else{ap.$setViewValue(aa(s).val())}}}}}e.$emit(d+"ModelChange",ap.$viewValue)})})}}})};if(f.ngShow!==Z&&f.jqxCreate===Z){var aj=e.$watch(f.ngShow,function(al,am){if(al){ai();aj()}});return}var D=function(){if(f.jqxCreate!=null||f.jqxCreate!=null){if(f.jqxCreate===true||(f.jqxCreate!==null&&aa.type(f.jqxCreate)=="object")){ai()}else{var al=e.$watch(f.jqxCreate,function(am,an){if(typeof am=="number"){N(ai,am);al()}else{if(am){ai();al()}}})}}else{ai()}};if(aa.jqx.AMD){var ak=function(){var am=true;for(var al in ae){if(!ae[al]){am=false;break}}if(am){if(!G){e.$emit("jQWidgetsScriptsLoaded");G=true}for(var al in ae){aa.each(ae[al],function(){this()});ae[al]=new Array()}}};if(o.documentReady){var C={element:s[0],name:d,scope:e};e.$emit(d+"ScriptsLoaded",C);if(!ae[d]){ae[d]=new Array()}ae[d].push(D);ak()}else{o.scriptsLoaded=function(){var al={element:s[0],name:d,scope:e};e.$emit(d+"ScriptsLoaded",al);if(!ae[d]){ae[d]=new Array()}ae[d].push(D);ak()}}}else{D()}})};ag.directive(d,["$timeout","$interval","$parse","$compile","$log",function(q,l,o,e,f){N=q;I=l;ac=o;E=e;L=f;var h={};var n;return{restrict:"ACE",require:["?ngModel"],scope:false,template:function(s,t){H(s,false,t,d);n=this.scope},controller:["$scope","$attrs","$element","$transclude",function(s,v,t,u){}],compile:function(t,u,s){return{pre:function(v,z,B,w,A){},post:function(v,z,B,w,A){a(v,z,B,w,A)}}},link:a}}])}T("jqxBulletChart");T("jqxButtonGroup");T("jqxButton");T("jqxRepeatButton");T("jqxToggleButton");T("jqxLinkButton");T("jqxCalendar");T("jqxChart");T("jqxCheckBox");T("jqxComplexInput");T("jqxColorPicker");T("jqxComboBox");T("jqxDataTable");T("jqxDateTimeInput");T("jqxDocking");T("jqxDockPanel");T("jqxDragDrop");T("jqxDraw");T("jqxDropDownButton");T("jqxDropDownList");T("jqxEditor");T("jqxExpander");T("jqxFormattedInput");T("jqxFileUpload");T("jqxGauge");T("jqxLinearGauge");T("jqxGrid");T("jqxInput");T("jqxListBox");T("jqxListMenu");T("jqxMaskedInput");T("jqxMenu");T("jqxNavigationBar");T("jqxNavBar");T("jqxNotification");T("jqxNumberInput");T("jqxPanel");T("jqxPasswordInput");T("jqxProgressBar");T("jqxRadioButton");T("jqxRangeSelector");T("jqxRating");T("jqxRibbon");T("jqxScrollBar");T("jqxScrollView");T("jqxSlider");T("jqxSplitter");T("jqxSwitchButton");T("jqxTabs");T("jqxToolBar");T("jqxTooltip");T("jqxTouch");T("jqxTree");T("jqxTreeGrid");T("jqxTreeMap");T("jqxValidator");T("jqxWindow");T("jqxTagCloud");T("jqxPopover");T("jqxKanban");T("jqxKnob");T("jqxSortablePlugin");T("jqxScheduler");T("jqxTextArea");T("jqxLayout");T("jqxDockingLayout");T("jqxResponsivePanel");T("jqxLoader")})(jqxBaseFramework,window.angular);(function(c){c.jqx.jqxWidget("jqxToolBar","",{});c.extend(c.jqx._jqxToolBar.prototype,{defineInstance:function(){var a={width:"100%",minWidth:null,maxWidth:null,height:35,tools:"",initTools:null,minimizeWidth:200,disabled:false,rtl:false,events:["open","close"]};c.extend(true,this,a)},createInstance:function(){var a=this;a._toolToWidgetMapping={button:"jqxButton",toggleButton:"jqxToggleButton",dropdownlist:"jqxDropDownList",combobox:"jqxComboBox",input:"jqxInput"};a._toolChanges=new Array();a.render()},render:function(){var d=this,a=true;d.host.html("");d.host.removeClass(d.toThemeProperty("jqx-widget jqx-fill-state-normal jqx-rc-all jqx-toolbar jqx-fill-state-disabled"));d._setSize();d._destroyTools(false);if(d._toolWidgets){a=false;d._minimizeButton.add(d._minimizePopup).remove()}d._appendMinimizeButton();d._addClasses();d._createTools();if(d.disabled===true){d.host.addClass(d.toThemeProperty("jqx-fill-state-disabled"));d._disableTools(true)}d._minimize();d._removeHandlers();d._addHandlers();if(a===false&&d._toolChanges.length>0){d._restoreChanges()}},refresh:function(a){if(a!==true){this.render()}},getTools:function(){return this._toolWidgets},destroy:function(){var a=this;a._removeHandlers();a._destroyTools();a.host.remove()},_destroyTools:function(e){var f=this;if(e!==false){e=true}if(f._toolWidgets){for(var a=f._toolWidgets.length-1;a>=0;a--){f._destroyTool(a,e)}}},_destroyTool:function(q,h){var n=this;q=parseInt(q,10);var a=n._toolWidgets[q];if(a){var o=a.type;var l=n._getBothTools(a);if(o!=="custom"){l[n._toolToWidgetMapping[o]]("destroy")}else{l.remove()}if(a.menuSeparator){a.menuSeparator.remove()}n._toolWidgets.splice(q,1);if(n._checkType(o)){n._refreshButtonGroups()}n._minimize();if(h!==false){n._toolChanges.push({action:"destroyTool",index:q})}}},destroyTool:function(a){this._destroyTool(a,true)},addTool:function(l,q,s,w){var o=this,n,u,v,t;if(q==="first"){n=0}else{n=o._toolWidgets.length}if(o._toolWidgets[n-1]){u=o._toolWidgets[n-1].tool;if(o._toolWidgets[n-1].separatorAfterWidget){v="|"}else{v=o._toolWidgets[n-1].type}}if(s===true){t="|"}else{if(o._toolWidgets[n+1]){t=o._toolWidgets[n+1].type}}var a=o._initializeTool(n,l,u,v,t,w,false);if(q==="first"){o._toolWidgets.splice(0,0,a)}else{o._toolWidgets.push(a)}o._removeHandlers();o._addHandlers();if(o._checkType(l)){o._refreshButtonGroups()}if(q!=="first"&&o._minimizedTools>0){o._minimizeTool(true)}else{o._minimize()}o._toolChanges.push({action:"addTool",type:l,position:q,separator:s,initCallback:w})},_disableTools:function(a){var e=this;for(var f=0;f<e._toolWidgets.length;f++){e.disableTool(f,a)}},disableTool:function(o,q){var l=this;o=parseInt(o,10);var a=l._toolWidgets[o];if(a){var n=a.type;var h=l._getBothTools(a);if(n!=="custom"){h[l._toolToWidgetMapping[n]]({disabled:q})}l._toolChanges.push({action:"disableTool",index:o,disable:q})}},propertyChangedHandler:function(C,q,D,s){if(q!=="initTools"){if(s!==D){switch(q){case"theme":if(D!==""){C.host.removeClass("jqx-widget-"+D+" jqx-fill-state-normal-"+D+" jqx-rc-all-"+D+" jqx-toolbar-"+D);C._minimizePopup.removeClass("jqx-popup-"+D+" jqx-fill-state-normal-"+D+" jqx-rc-b-"+D+" jqx-toolbar-minimized-popup-"+D)}C._addClasses();C._minimizePopup.addClass(C.toThemeProperty("jqx-popup jqx-fill-state-normal jqx-rc-b jqx-toolbar-minimized-popup"));for(var A=0;A<C._toolWidgets.length;A++){var z=C._toolWidgets[A];if(z.type!=="custom"){var u=C._getBothTools(z);if(z.menuTool){if(z.menuSeparator){z.menuSeparator.removeClass("jqx-fill-state-pressed-"+D+" jqx-toolbar-minimized-popup-separator-"+D);z.menuSeparator.addClass(C.toThemeProperty("jqx-fill-state-pressed jqx-toolbar-minimized-popup-separator"))}}u[C._toolToWidgetMapping[C._toolWidgets[A].type]]({theme:s})}}c.jqx.utilities.setTheme(D,s,C.host);break;case"width":C.host.width(s);C._minimize();break;case"minWidth":C.host.css("min-width",s);C._minimize();break;case"maxWidth":C.host.css("max-width",s);C._minimize();break;case"height":C.host.height(s);for(var B=0;B<C._toolWidgets.length;B++){var a=C._toolWidgets[B];var v=a.type;var w=C._getBothTools(a);if(v==="button"||v==="toggleButton"||v==="repeatButton"||v==="linkButton"){w.css("height",s)}else{if(v==="dropdownlist"||v==="combobox"||v==="input"){w[C._toolToWidgetMapping[v]]({height:s-2})}}}break;case"tools":C._removeHandlers();C._destroyTools();C._createTools();C._addHandlers();C._minimize();break;case"minimizeWidth":if(C._isOpen===true){var t=parseInt(C._minimizePopup.css("left"),10)-(s-D);C._minimizePopup.css({width:s+"px",left:t+"px"})}else{C._minimizePopup.width(s)}break;case"rtl":C.render();break;case"disabled":if(s===true){C.host.addClass(C.toThemeProperty("jqx-fill-state-disabled"));C._disableTools(true)}else{C.host.removeClass(C.toThemeProperty("jqx-fill-state-disabled"));C._disableTools(false)}break}}}},_raiseEvent:function(h,o){if(o===undefined){o={owner:null}}var n=this.events[h];o.owner=this;var l=new c.Event(n);l.owner=this;l.args=o;if(l.preventDefault){l.preventDefault()}var a=this.host.trigger(l);return a},_addClasses:function(){var a=this;a.host.addClass(a.toThemeProperty("jqx-widget jqx-fill-state-normal jqx-rc-all jqx-toolbar"));if(a.rtl===true){a.host.addClass(a.toThemeProperty("jqx-toolbar-rtl"))}},_checkType:function(a){if(a==="button"||a==="toggleButton"||a==="repeatButton"||a==="linkButton"){return true}return false},_refreshButtonGroups:function(){var d=this;function a(o,q,n,s,l,t){o[q+"Class"](d.toThemeProperty("jqx-toolbar-tool-inner-button"));o[n+"Class"](d.toThemeProperty("jqx-rc-all"));o[s+"Class"](d.toThemeProperty("jqx-rc-l"));o[l+"Class"](d.toThemeProperty("jqx-rc-r"));o.css("border-left-width",t+"px")}c.each(d._toolWidgets,function(u,o){if(d._checkType(o.type)){var s,t;var l=d._getBothTools(o);if(u>0){if(d._toolWidgets[u-1].separatorAfterWidget){s="|"}else{s=d._toolWidgets[u-1]}}if(o.separatorAfterWidget){t="|"}else{if(u<d._toolWidgets.length-1){t=d._toolWidgets[u+1]}}var v=s&&d._checkType(s.type);var n=o.separatorAfterWidget===false&&t&&d._checkType(t.type);if(!v&&!n){a(l,"remove","add","remove","remove",1)}else{if(!v&&n){a(l,"remove","remove","add","remove",1)}else{if(v&&n){a(l,"add","remove","remove","remove",0)}else{if(v&&!n){a(l,"remove","remove","remove","add",0)}}}}var q=d.rtl?"rtl":"ltr";if(!n){if(o.separatorAfterWidget){l.removeClass(d.toThemeProperty("jqx-toolbar-tool-no-separator-"+q));l.addClass(d.toThemeProperty("jqx-toolbar-tool-separator-"+q))}else{l.removeClass(d.toThemeProperty("jqx-toolbar-tool-separator-"+q));l.addClass(d.toThemeProperty("jqx-toolbar-tool-no-separator-"+q))}}else{l.removeClass(d.toThemeProperty("jqx-toolbar-tool-separator-"+q));l.removeClass(d.toThemeProperty("jqx-toolbar-tool-no-separator-"+q))}}})},_addHandlers:function(){var a=this;var d=a.element.id;c.jqx.utilities.resize(a.host,function(){if(c.jqx.browser.msie&&c.jqx.browser.version<8&&typeof a.width==="string"&&a.width.charAt(a.width.length-1)==="%"){var l=a.host.parent().width();var h=l*parseFloat(a.width.replace("%",""))/100;var n=parseInt(a.host.css("border-left-width"),10)+parseInt(a.host.css("border-right-width"),10)+parseInt(a.host.css("padding-left"),10)+parseInt(a.host.css("padding-right"),10);a.host.css("width",h-n-1)}if(a._isOpen===true){a._minimizePopup.hide();a._isOpen=false;a._raiseEvent("1")}a._minimize()});a.addHandler(c(document),"click.jqxToolbar"+d,function(){if(a._isOpen===true){a._openMinimizePopup()}});a.addHandler(a._minimizeButton,"click.jqxToolbar"+d,function(e){e.stopPropagation();a._openMinimizePopup()});a.addHandler(c(".jqx-popup"),"click.jqxToolbar"+d,function(e){if(!c(e.target).hasClass("jqx-window-content")){e.stopPropagation()}})},_removeHandlers:function(){var a=this;var d=a.element.id;a.removeHandler(c(document),"click.jqxToolbar"+d);a.removeHandler(a._minimizeButton,"click.jqxToolbar"+d);a.removeHandler(c(".jqx-popup"),"click.jqxToolbar"+d)},_setSize:function(){var a=this;a.host.width(a.width);a.host.height(a.height);if(a.minWidth){a.host.css("min-width",a.minWidth)}if(a.maxWidth){a.host.css("max-width",a.maxWidth)}},_createTools:function(){var l=this;var h=l.tools.split(" ");var f=c.trim(l.tools.replace(/\|/g,""));f=f.replace(/\s+/g," ");f=f.split(" ");l._toolWidgets=new Array();var a=0;c.each(f,function(s,e){if(f[s]!==h[s+a]){a++}var o=s+a;var u;if(l._toolWidgets[s-1]){u=l._toolWidgets[s-1].tool}var q=h[o];var v=h[o-1];var t=h[o+1];var w=l.initTools;var d=l._initializeTool(s,q,u,v,t,w,true);l._toolWidgets.push(d)});l._minimizePopup.css({display:"none",visibility:"visible"})},_initializeTool:function(G,J,N,B,A,L,D){var E=this,M,C;var K=E._initializeWidget(J,M,C,N);M=K.tool;C=K.menuTool;var O=true;M.addClass(E.toThemeProperty("jqx-toolbar-tool"));if(E.rtl===true){M.addClass(E.toThemeProperty("jqx-toolbar-tool-rtl"))}if(E.initTools){var v;if(D===true){v=E.initTools(J,G,M,false)}else{v=L(J,M,false)}if(!v||(v.minimizable!==false&&v.menuTool!==false)){if(D===true){E.initTools(J,G,C,true)}else{L(J,C,true)}C.addClass(E.toThemeProperty("jqx-toolbar-tool-minimized"))}else{if(J!=="custom"){C[E._toolToWidgetMapping[J]]("destroy")}else{C.remove()}if(v.minimizable===false){O=false}C=false}}var P=false;var a=M;if(C){a=a.add(C);C.css("display","none")}var F;var H=E.rtl?"rtl":"ltr";var w=["button","toggleButton","repeatButton","linkButton"];var z={button:"jqxButton",toggleButton:"jqxToggleButton",repeatButton:"jqxRepeatButton",linkButton:"jqxRepeatButton"};if(A==="|"){P=true;a.addClass(E.toThemeProperty("jqx-toolbar-tool-separator-"+H));if(C){F=c('<div class="'+E.toThemeProperty("jqx-fill-state-pressed jqx-toolbar-minimized-popup-separator")+'"></div>');E._minimizePopup.append(F)}}else{if(w.indexOf(J)===-1||(w.indexOf(J)!==-1&&w.indexOf(A)===-1)){a.addClass(E.toThemeProperty("jqx-toolbar-tool-no-separator-"+H))}}if(w.indexOf(B)===-1&&w.indexOf(J)!==-1&&w.indexOf(A)!==-1){if(E.rtl===false){a[z[J]]({roundedCorners:"left"})}else{a[z[J]]({roundedCorners:"right"});a.css("border-left-width",0)}}else{if(w.indexOf(B)!==-1&&w.indexOf(J)!==-1&&w.indexOf(A)!==-1){a.addClass(E.toThemeProperty("jqx-toolbar-tool-inner-button"));a.css("border-left-width",0)}else{if(w.indexOf(B)!==-1&&w.indexOf(J)!==-1&&w.indexOf(A)===-1){if(E.rtl===false){a[z[J]]({roundedCorners:"right"});a.css("border-left-width",0)}else{a[z[J]]({roundedCorners:"left"})}}}}if(c.jqx.browser.msie&&c.jqx.browser.version<8&&J==="combobox"){a.find(".jqx-combobox-arrow-normal").width(18)}var I={type:J,tool:M,separatorAfterWidget:P,minimizable:O,minimized:false,menuTool:C,menuSeparator:F};return I},_initializeWidget:function(o,q,s,l){var n=this;function t(){s=q.clone();if(l){l.after(q);n._minimizePopup.append(s)}else{n.host.prepend(q);n._minimizePopup.prepend(s)}}if(o!=="custom"&&n.host[n._toolToWidgetMapping[o]]===undefined){var a=n._toolToWidgetMapping[o].toLowerCase();throw new Error("jqxToolBar: Missing reference to "+a+".js")}switch(o){case"button":case"toggleButton":q=c("<button></button>");t();q.add(s)[n._toolToWidgetMapping[o]]({theme:n.theme,height:n.host.height(),disabled:n.disabled,rtl:n.rtl});break;case"dropdownlist":case"combobox":q=c("<div></div>");t();q.add(s)[n._toolToWidgetMapping[o]]({theme:n.theme,autoDropDownHeight:true,height:n.host.height()-2,disabled:n.disabled,rtl:n.rtl});break;case"input":q=c('<input type="text" />');t();q.add(s).jqxInput({theme:n.theme,height:n.host.height()-2,disabled:n.disabled,rtl:n.rtl});break;case"custom":q=c("<div></div>");t();break}return{tool:q,menuTool:s}},_appendMinimizeButton:function(){var a=this;a._minimizedTools=0;a._minimizeButton=c('<div class="'+a.toThemeProperty("jqx-menu-minimized-button jqx-toolbar-minimized-button")+'"></div>');a._minimizePopup=c('<div id="'+a.element.id+'Popup" class="'+a.toThemeProperty("jqx-popup jqx-fill-state-normal jqx-rc-b jqx-toolbar-minimized-popup")+'"></div>');if(a.rtl===true){a._minimizeButton.addClass(a.toThemeProperty("jqx-toolbar-minimized-button-rtl"));a._minimizePopup.addClass(a.toThemeProperty("jqx-toolbar-minimized-popup-rtl"))}a.host.append(a._minimizeButton);c("body").append(a._minimizePopup);a._isOpen=false;a._minimizePopup.width(a.minimizeWidth)},_openMinimizePopup:function(){var l=this;if(l._isOpen===false){var a=l.host.offset();var f=a.left;if(l.rtl===false){f+=l.host.outerWidth()-l._minimizePopup.outerWidth()}var h=a.top+l.host.outerHeight()-1;l._minimizePopup.css({left:f,top:h});l._minimizePopup.slideDown("fast");l._isOpen=true;l._raiseEvent("0")}else{l._minimizePopup.slideUp("fast");l._isOpen=false;l._raiseEvent("1")}},_minimize:function(){var n=this,q=0;if(n._minimizedTools>0){q=n._minimizeButton.outerWidth()+parseInt(n._minimizeButton.css("margin-left"),10)}var t=n.host.width()-parseInt(n.host.css("padding-left"),10)-parseInt(n.host.css("padding-right"),10)-q;if(t<0){return}var a=0;var s;for(var o=0;o<n._toolWidgets.length;o++){if(n._toolWidgets[o].minimized===false){var l=n._toolWidgets[o].tool.outerWidth(true);a+=l}else{if(s===undefined){s=n._toolWidgets[o].tool.outerWidth(true)}}}if(a>t){n._minimizeTool(true);n._minimize()}else{if(s!==undefined&&(a+s)<t){n._minimizeTool(false);n._minimize()}}},_minimizeTool:function(h){var n=this,a,l;if(h===true){for(var o=n._toolWidgets.length-1;o>=0;o--){a=n._toolWidgets[o];if(a.minimizable===false){continue}if(a.minimized===false){l=n._getToolValue(a.tool,a.type);a.tool[0].style.display="none";if(a.menuTool){a.menuTool.show();n._setToolValue(l,a.menuTool,a.type)}if(a.menuSeparator){a.menuSeparator.show()}n._toolWidgets[o].minimized=true;n._minimizedTools++;if(n._minimizedTools===1){n._minimizeButton.show()}break}}}else{for(var q=0;q<n._toolWidgets.length;q++){a=n._toolWidgets[q];if(a.minimized===true){if(a.menuTool){l=n._getToolValue(a.menuTool,a.type);a.menuTool.hide()}if(a.menuSeparator){a.menuSeparator.hide()}a.tool.show();if(a.menuTool){n._setToolValue(l,a.tool,a.type)}n._toolWidgets[q].minimized=false;n._minimizedTools--;if(n._minimizedTools===0){n._minimizeButton.hide()}break}}}},_getToolValue:function(a,l){var h;switch(l){case"button":case"custom":h=undefined;break;case"toggleButton":var f=a.hasClass("jqx-fill-state-pressed");h={text:a.text(),toggled:f};break;case"dropdownlist":case"combobox":h=a[this._toolToWidgetMapping[l]]("getSelectedIndex");break;case"input":h=a.val();break}return h},_setToolValue:function(h,a,l){if(h!==undefined){switch(l){case"button":case"custom":break;case"toggleButton":a.text(h.text);var f=a.hasClass("jqx-fill-state-pressed");if(f!==h.toggled){a.jqxToggleButton("toggle")}break;case"dropdownlist":case"combobox":h=a[this._toolToWidgetMapping[l]]("selectIndex",h);break;case"input":a.val(h);break}}},_restoreChanges:function(){var a=this;c.each(a._toolChanges,function(f,e){if(e.action==="addTool"){a.addTool(e.type,e.position,e.separator,e.initCallback)}else{if(e.action==="destroyTool"){a._destroyTool(e.index)}else{if(e.action==="disableTool"){a.disableTool(e.index,e.disable)}}}})},_getBothTools:function(a){var d=a.tool;if(a.menuTool){d=d.add(a.menuTool)}return d}})})(jqxBaseFramework);(function(c){c.jqx.jqxWidget("jqxComplexInput","",{});c.extend(c.jqx._jqxComplexInput.prototype,{defineInstance:function(){var a={width:null,height:null,decimalNotation:"default",value:"",spinButtons:false,spinButtonsStep:1,placeHolder:"",roundedCorners:true,disabled:false,rtl:false,changeType:null,events:["change"]};c.extend(true,this,a)},createInstance:function(){var a=this;a._firefox=c.jqx.browser.browser==="mozilla";a._currentNumber={};a._allowedCharacters=new RegExp(/([\+\-\.0-9i])/i);a.render()},render:function(){var o=this;if(o.element.nodeName.toUpperCase()==="DIV"){o.baseHost=o.host;o.host=o.baseHost.children("input");o.element=o.host[0]}if(o.spinButtons===true){if(!o.baseHost){throw new Error("jqxComplexInput: Invalid HTML structure. Please initialize the complex input from a div with an input and another div inside.")}o._appendSpinButtons()}o._addClasses();o._setSize();o._removeHandlers();o._addHandlers();if(o.decimalNotation==="exponential"&&o.value.toLowerCase().indexOf("e")!==-1){var h=o._exponentialToDecimal(o.value);var l=h.realPart;var q=h.imaginaryPart;var a=q<0?"-":"+";var n=l+" "+a+" "+Math.abs(q)+"i";o._currentNumber={value:n,realPart:l,imaginaryPart:q}}else{o._currentNumber={value:o.value,realPart:o._getReal(o.value),imaginaryPart:o._getImaginary(o.value)}}if(o.decimalNotation==="default"){o.element.value=o.value}else{o._setNotation()}o._refreshPlaceHolder()},refresh:function(a){if(a!==true){this.render()}},destroy:function(){var a=this;a._removeHandlers();a.host.destroy()},val:function(q){var s=this;if(typeof q==="string"||typeof q==="object"&&c.isEmptyObject(q)===false){var l,t;if(typeof q==="string"){q=q.toLowerCase();if(q.indexOf("e")===-1){l=s._getReal(q);t=s._getImaginary(q)}else{var n=s._exponentialToDecimal(q);l=n.realPart*1;t=n.imaginaryPart*1}}else{if(typeof q==="object"&&c.isEmptyObject(q)===false){l=q.real;t=q.imaginary}}var a=t>=0?"+":"-";var o=l+" "+a+" "+Math.abs(t)+"i";if(o!==s._currentNumber.value){s.element.value=o;s._onChange(s.value);if(s.decimalNotation!=="default"){s._setNotation()}}}else{return s.element.value}},getReal:function(){return this._currentNumber.realPart},_getReal:function(l){if(!l||(typeof l==="object"&&c.isEmptyObject(l)===true)){l=this.element.value}var q=c.trim(l),n="";if((l.match(/i/g)||[]).length===0){return parseFloat(q)}if(l.charAt(0)==="+"){q=q.slice(1,l.length)}else{if(l.charAt(0)==="-"){q=q.slice(1,l.length);n="-"}}function h(d){q=q.slice(0,d);q=c.trim(q);return parseFloat(n+""+q)}var a=q.indexOf("+");if(a!==-1){return h(a)}var o=q.indexOf("-");if(o!==-1){return h(o)}return 0},getImaginary:function(){return this._currentNumber.imaginaryPart},_getImaginary:function(l){if(!l||(typeof l==="object"&&c.isEmptyObject(l)===true)){l=this.element.value}if((l.match(/i/g)||[]).length===0){return 0}var n=c.trim(l),o="";if(n.charAt(0)==="-"||n.charAt(0)==="+"){o=n.charAt(0)==="-"?"-":"+";n=c.trim(n.slice(1,l.length))}function h(d,e){n=n.slice(d+1,n.indexOf("i"));n=c.trim(n);if(n===""){n=1}return parseFloat(e+""+n)}var a=n.indexOf("+");if(a!==-1){return h(a,"+")}var q=n.indexOf("-");if(q!==-1){return h(q,"-")}n=o+""+n.slice(0,n.indexOf("i"));if(n===""||n==="+"){return 1}else{if(n==="-"){return -1}else{return parseFloat(n)}}},getDecimalNotation:function(l,q){var n=this;function o(d){var e=d.indexOf("e");var f=d.slice(e+1);var s=d.slice(0,e+1);s=s.replace("e","10");s+=n._toSuperScript(f);s=s.replace("+","");return s}function a(v){var d=v.indexOf("e");var e=v.slice(d+1);var s=v.slice(0,d);var f=parseInt(e,10)%3;s=s*Math.pow(10,f);var t=v.slice(0,d).length-f-2;if(t>=0){s=s.toFixed(t)}var u=s+"10"+n._toSuperScript((parseInt(e,10)-f).toString());return u}if(l==="real"){l=n._currentNumber.realPart}else{if(l==="imaginary"){l=n._currentNumber.imaginaryPart}}var h=l.toExponential();if(q==="scientific"){return o(h)}else{if(q==="engineering"){return a(h)}else{return h}}},propertyChangedHandler:function(v,q,w,t){if(t!==w){switch(q){case"width":case"height":v._setSize();break;case"decimalNotation":if(t==="default"){v.element.value=v._currentNumber.value}else{v._setNotation()}break;case"value":v.element.value=t;v._onChange(w);break;case"spinButtons":var n=function(){v.host.removeClass(v.toThemeProperty("jqx-rc-all"));if(v.rtl===false){v.host.addClass(v.toThemeProperty("jqx-rc-l"));v._spinButtonsContainer.addClass(v.toThemeProperty("jqx-rc-r"))}else{v.host.addClass(v.toThemeProperty("jqx-rc-r"));v._spinButtonsContainer.addClass(v.toThemeProperty("jqx-rc-l"))}};if(v._spinButtonsContainer){var o=v.host.width();var s=v._spinButtonsContainer.outerWidth();if(t===false){v.host.width(o+s);v._spinButtonsContainer.hide();v.host.addClass(v.toThemeProperty("jqx-rc-all"))}else{v.host.width(o-s);v._spinButtonsContainer.show();n()}}else{if(t===true){var a=c("<div></div>");if(v.baseHost){v.host.after(a);v.render()}else{var z=v.element.id;v.host.removeAttr("id");v.host.wrap('<div id="'+z+'" style="display: inline-block;"></div>');var A=c("#"+z);A.append(a);var u=v.host.data();u.jqxComplexInput.host=A;u.jqxComplexInput.element=A[0];v.baseHost=A;v.baseHost.data(u);v.render()}n()}}break;case"placeHolder":v._refreshPlaceHolder(w);break;case"roundedCorners":if(v._spinButtonsContainer){if(t===true){if(v.rtl===false){v.host.addClass(v.toThemeProperty("jqx-rc-l"));v._spinButtonsContainer.addClass(v.toThemeProperty("jqx-rc-r"))}else{v.host.addClass(v.toThemeProperty("jqx-rc-r"));v._spinButtonsContainer.addClass(v.toThemeProperty("jqx-rc-l"))}}else{if(v.rtl===false){v.host.removeClass(v.toThemeProperty("jqx-rc-l"));v._spinButtonsContainer.removeClass(v.toThemeProperty("jqx-rc-r"))}else{v.host.removeClass(v.toThemeProperty("jqx-rc-r"));v._spinButtonsContainer.removeClass(v.toThemeProperty("jqx-rc-l"))}}}else{if(t===true){v.host.addClass(v.toThemeProperty("jqx-rc-all"))}else{v.host.removeClass(v.toThemeProperty("jqx-rc-all"))}}break;case"disabled":if(t===true){v.host.attr("disabled",true);v.host.addClass(v.toThemeProperty("jqx-fill-state-disabled jqx-input-disabled"));if(v._spinButtonsContainer){v._spinButtonsContainer.addClass(v.toThemeProperty("jqx-fill-state-disabled"))}}else{v.host.removeAttr("disabled");v.host.removeClass(v.toThemeProperty("jqx-fill-state-disabled jqx-input-disabled"));if(v._spinButtonsContainer){v._spinButtonsContainer.removeClass(v.toThemeProperty("jqx-fill-state-disabled"))}}break;case"rtl":if(v._spinButtonsContainer){if(t===true){v.host.addClass(v.toThemeProperty("jqx-complex-input-child-rtl"));v._spinButtonsContainer.removeClass(v.toThemeProperty("jqx-complex-input-spin-buttons-container-ltr"));v._spinButtonsContainer.addClass(v.toThemeProperty("jqx-complex-input-child-rtl jqx-complex-input-spin-buttons-container-rtl"));if(v.roundedCorners===true){v.host.removeClass(v.toThemeProperty("jqx-rc-l"));v.host.addClass(v.toThemeProperty("jqx-rc-r"));v._spinButtonsContainer.removeClass(v.toThemeProperty("jqx-rc-r"));v._spinButtonsContainer.addClass(v.toThemeProperty("jqx-rc-l"))}}else{v.host.removeClass(v.toThemeProperty("jqx-complex-input-child-rtl"));v._spinButtonsContainer.removeClass(v.toThemeProperty("jqx-complex-input-child-rtl jqx-complex-input-spin-buttons-container-rtl"));v._spinButtonsContainer.addClass(v.toThemeProperty("jqx-complex-input-spin-buttons-container-ltr"));if(v.roundedCorners===true){v.host.removeClass(v.toThemeProperty("jqx-rc-r"));v.host.addClass(v.toThemeProperty("jqx-rc-l"));v._spinButtonsContainer.removeClass(v.toThemeProperty("jqx-rc-l"));v._spinButtonsContainer.addClass(v.toThemeProperty("jqx-rc-r"))}}}break;case"theme":c.jqx.utilities.setTheme(w,t,v.host);break}}},_raiseEvent:function(h,o){if(o===undefined){o={owner:null}}var n=this.events[h];o.owner=this;var l=new c.Event(n);l.owner=this;o.type=this.changeType;this.changeType=null;l.args=o;if(l.preventDefault){l.preventDefault()}var a=this.host.trigger(l);return a},_appendSpinButtons:function(){var a=this;a._spinButtonsContainer=c(a.baseHost.children("div"));a._spinButtonsContainer.attr("unselectable","on");a._spinButtonsContainer.addClass(a.toThemeProperty("jqx-fill-state-normal jqx-complex-input-child jqx-formatted-input-spin-buttons-container jqx-complex-input-spin-buttons-container"));if(a.rtl===false){a._spinButtonsContainer.addClass(a.toThemeProperty("jqx-complex-input-spin-buttons-container-ltr"))}else{a._spinButtonsContainer.addClass(a.toThemeProperty("jqx-complex-input-child-rtl jqx-complex-input-spin-buttons-container-rtl"))}var d='<div unselectable="on" class="'+a.toThemeProperty("jqx-fill-state-normal jqx-formatted-input-spin-button")+'"><div class="'+a.toThemeProperty("jqx-input-icon")+'"></div></div>';a._upbutton=c(d);a._spinButtonsContainer.append(a._upbutton);a._downbutton=c(d);a._spinButtonsContainer.append(a._downbutton);a._upArrow=a._upbutton.find("div");a._upArrow.addClass(a.toThemeProperty("jqx-icon-arrow-up"));a._downArrow=a._downbutton.find("div");a._downArrow.addClass(a.toThemeProperty("jqx-icon-arrow-down"));a._upArrow.add(a._downArrow).attr("unselectable","on")},_addClasses:function(){var a=this;a.host.addClass(a.toThemeProperty("jqx-widget jqx-input jqx-complex-input jqx-widget-content"));if(a.baseHost){a.baseHost.addClass(a.toThemeProperty("jqx-widget jqx-complex-input-parent"));a.host.addClass(a.toThemeProperty("jqx-complex-input-child"))}if(a.roundedCorners===true){if(a._spinButtonsContainer){if(a.rtl===false){a.host.addClass(a.toThemeProperty("jqx-rc-l"));a._spinButtonsContainer.addClass(a.toThemeProperty("jqx-rc-r"))}else{a.host.addClass(a.toThemeProperty("jqx-rc-r"));a._spinButtonsContainer.addClass(a.toThemeProperty("jqx-rc-l"))}}else{a.host.addClass(a.toThemeProperty("jqx-rc-all"))}}if(a.disabled===true){a.host.attr("disabled",true);a.host.addClass(a.toThemeProperty("jqx-fill-state-disabled jqx-input-disabled"));if(a._spinButtonsContainer){a._spinButtonsContainer.addClass(a.toThemeProperty("jqx-fill-state-disabled"))}}if(a.rtl===true){a.host.add(a._spinButtonsContainer).addClass(a.toThemeProperty("jqx-complex-input-child-rtl"))}},_refreshPlaceHolder:function(d){var a=this;if("placeholder" in a.element){a.host.attr("placeHolder",a.placeHolder)}else{if(a.element.value===""||a.element.value===d){a.element.value=a.placeHolder}}},_setSize:function(){var e=this;function a(){var d=e.baseHost.height();var o=parseInt(e.host.css("border-left-width"),10)+parseInt(e.host.css("border-right-width"),10)+parseInt(e.host.css("padding-left"),10)+parseInt(e.host.css("padding-right"),10);var n=0;if(c.jqx.browser.msie&&c.jqx.browser.version<8){n=o;e.host.height(e.baseHost.height()-(parseInt(e.host.css("border-top-width"),10)+parseInt(e.host.css("border-bottom-width"),10)+parseInt(e.host.css("padding-top"),10)+parseInt(e.host.css("padding-bottom"),10))*2)}if(e._spinButtonsContainer){var l=typeof e.width==="string"&&e.width.charAt(e.width.length-1)==="%"?1:0;e.host.width(e.baseHost.width()-o-e._spinButtonsContainer.outerWidth()-n-l);if(c.jqx.browser.msie&&c.jqx.browser.version<8){e._spinButtonsContainer.height(d-(parseInt(e._spinButtonsContainer.css("border-top-width"),10)+parseInt(e._spinButtonsContainer.css("border-bottom-width"),10)+parseInt(e._spinButtonsContainer.css("padding-top"),10)+parseInt(e._spinButtonsContainer.css("padding-bottom"),10))*2)}}else{e.host.width(e.baseHost.width()-o-n)}}if(e.baseHost){e.baseHost.width(e.width);e.baseHost.height(e.height);a()}else{e.host.width(e.width);e.host.height(e.height)}if(c.jqx.browser.msie&&c.jqx.browser.version<9){e.host.css("line-height",e.host.height()+"px")}var f=e.baseHost||e.host;c.jqx.utilities.resize(f,function(){a();if((c.jqx.browser.msie&&c.jqx.browser.version<9||!c.jqx.browser.msie)&&typeof e.height==="string"&&e.height.charAt(e.height.length-1)==="%"){e.host.css("line-height",e.host.height()+"px")}})},_addHandlers:function(){var h=this,f;if(h.baseHost){f=h.baseHost[0].id}else{f=h.element.id}var a=[8,9,13,32,35,36,37,38,39,40,46];h.addHandler(h.host,"focus.jqxComplexInput"+f,function(){h.host.addClass(h.toThemeProperty("jqx-fill-state-focus"));if(h._spinButtonsContainer){h._spinButtonsContainer.addClass(h.toThemeProperty("jqx-fill-state-focus"))}if(!("placeholder" in h.element)&&(h.element.value===h.placeHolder)){h.element.value=""}if(h.decimalNotation!=="default"){var d=h._getCaretPosition();h.element.value=h._currentNumber.value;h._setCaretPosition(d)}});h.addHandler(h.host,"blur.jqxComplexInput"+f,function(){h.host.removeClass(h.toThemeProperty("jqx-fill-state-focus"));if(h._spinButtonsContainer){h._spinButtonsContainer.removeClass(h.toThemeProperty("jqx-fill-state-focus"))}if(h.element.value!==h.value||(("placeholder" in h.element)||(!("placeholder" in h.element)&&h.element.value===""))){h._onChange(h.value)}if(!("placeholder" in h.element)&&(h.element.value===""||h.element.value===h.placeHolder)){h.element.value=h.placeHolder}if(h.decimalNotation!=="default"){h._setNotation()}});h.addHandler(h.host,"keydown.jqxComplexInput"+f,function(o){var n=!o.charCode?o.which:o.charCode;h.changeType="keyboard";if(o.ctrlKey===true&&(n===67||n===86||n===88)){return}var q=String.fromCharCode(n);if(n>=96&&n<=105){q=(n-96).toString();n=n-48}if((!h._firefox&&n===187||h._firefox&&n===61)&&o.shiftKey===true){q="+"}else{if((!h._firefox&&n===189||h._firefox&&n===173)&&o.shiftKey===false){q="-"}else{if(n===190&&o.shiftKey===false){q="."}}}var d=h._allowedCharacters.test(q);if(d===true){if(q==="+"||q==="-"){var s=(h.element.value.match(/-/g)||[]).length+(h.element.value.match(/\+/g)||[]).length;if(s>1){return false}}else{if(q==="."){var e=(h.element.value.match(/\./g)||[]).length;if(e>1){return false}}else{if(q.toLowerCase()==="i"){if(h.element.value.indexOf(q.toLowerCase())!==-1){return false}}}}}else{if(a.indexOf(n)!==-1){return}else{return false}}});h.addHandler(h.host,"keypress.jqxComplexInput"+f,function(e){var d=!e.charCode?e.which:e.charCode;if(d===13){if(h.element.value!==h.value){h._onChange(h.value)}}});if(h._spinButtonsContainer){var l=h._upbutton.add(h._downbutton);h.addHandler(h._upbutton,"mousedown.jqxComplexInputSpinButtonUp"+f,function(){if(!h.disabled&&h.value!==""&&h.value!==null){h._upbutton.addClass(h.toThemeProperty("jqx-fill-state-pressed"));h.changeType="mouse";h._incrementOrDecrement(true)}});h.addHandler(h._upbutton,"mouseup.jqxComplexInputSpinButtonUp"+f,function(){if(!h.disabled&&h.value!==""&&h.value!==null){h._upbutton.removeClass(h.toThemeProperty("jqx-fill-state-pressed"))}});h.addHandler(h._downbutton,"mousedown.jqxComplexInputSpinButtonDown"+f,function(){if(!h.disabled&&h.value!==""&&h.value!==null){h._downbutton.addClass(h.toThemeProperty("jqx-fill-state-pressed"));h.changeType="mouse";h._incrementOrDecrement(false)}});h.addHandler(h._downbutton,"mouseup.jqxComplexInputSpinButtonDown"+f,function(){if(!h.disabled&&h.value!==""&&h.value!==null){h._downbutton.removeClass(h.toThemeProperty("jqx-fill-state-pressed"))}});h.addHandler(l,"mouseenter.jqxComplexInputSpinButtons"+f,function(d){if(!h.disabled&&h.value!==""&&h.value!==null){var e=c(d.target);if(e.hasClass("jqx-icon-arrow-up")||e.children().hasClass("jqx-icon-arrow-up")){h._upbutton.addClass(h.toThemeProperty("jqx-fill-state-hover"));h._upArrow.addClass(h.toThemeProperty("jqx-icon-arrow-up-hover"))}else{h._downbutton.addClass(h.toThemeProperty("jqx-fill-state-hover"));h._downArrow.addClass(h.toThemeProperty("jqx-icon-arrow-down-hover"))}}});h.addHandler(l,"mouseleave.jqxComplexInputSpinButtons"+f,function(d){if(!h.disabled&&h.value!==""&&h.value!==null){var e=c(d.target);if(e.hasClass("jqx-icon-arrow-up")||e.children().hasClass("jqx-icon-arrow-up")){h._upbutton.removeClass(h.toThemeProperty("jqx-fill-state-hover"));h._upArrow.removeClass(h.toThemeProperty("jqx-icon-arrow-up-hover"))}else{h._downbutton.removeClass(h.toThemeProperty("jqx-fill-state-hover"));h._downArrow.removeClass(h.toThemeProperty("jqx-icon-arrow-down-hover"))}}});h.addHandler(c("body"),"mouseup.jqxComplexInputSpinButtons"+f,function(){h._upbutton.add(h._downbutton).removeClass(h.toThemeProperty("jqx-fill-state-pressed"))})}},_removeHandlers:function(){var f=this,e;if(f.baseHost){e=f.baseHost[0].id}else{e=f.element.id}f.removeHandler(f.host,"focus.jqxComplexInput"+e);f.removeHandler(f.host,"blur.jqxComplexInput"+e);f.removeHandler(f.host,"keydown.jqxComplexInput"+e);f.removeHandler(f.host,"keypress.jqxComplexInput"+e);if(f._spinButtonsContainer){var a=f._upbutton.add(f._downbutton);f.removeHandler(f._upbutton,"mousedown.jqxComplexInputSpinButtonUp"+e);f.removeHandler(f._upbutton,"mouseup.jqxComplexInputSpinButtonUp"+e);f.removeHandler(f._downbutton,"mousedown.jqxComplexInputSpinButtonDown"+e);f.removeHandler(f._downbutton,"mouseup.jqxComplexInputSpinButtonDown"+e);f.removeHandler(a,"mouseenter.jqxComplexInputSpinButtons"+e);f.removeHandler(a,"mouseleave.jqxComplexInputSpinButtons"+e);f.removeHandler(c("body"),"mouseup.jqxComplexInputSpinButtons"+e)}},_onChange:function(D){var t=this,u,a;var q=t.element.value.toLowerCase();if(c.trim(q)!==""&&c.trim(q)!==t.placeHolder){if(q.indexOf("++")!==-1||q.indexOf("+-")!==-1){var A=q.indexOf("+");q=q.slice(0,A+1)+""+q.slice(A+2,q.length)}else{if(q.indexOf("--")!==-1||q.indexOf("-+")!==-1){var v=q.indexOf("-");q=q.slice(0,v+1)+""+q.slice(v+2,q.length)}}if(q.indexOf("..")!==-1){var C=q.indexOf(".");q=q.slice(0,C+1)+""+q.slice(C+2,q.length)}var s=t._getReal(q);var z=t._getImaginary(q);var E=" ";var B=z>=0?"+":"-";var w="i";u=s;a=z;if(isNaN(u)||isNaN(a)){t.element.value=D;return}t.element.value=s+""+E+""+B+""+E+""+Math.abs(z)+""+w;t.value=t.element.value}else{u=0;a=0;t.value=""}if(t.value!==D){t._currentNumber={value:t.value,realPart:u,imaginaryPart:a};t._raiseEvent("0",{value:t.value,oldValue:D,realPart:u,imaginaryPart:a})}},_incrementOrDecrement:function(o){var v=this,t,a,s=v.host.is(":focus"),n=v.element.value,q=v._currentNumber.realPart,w=v._currentNumber.imaginaryPart;if(s){t=v._getCaretPosition()}if(w>=0){a=n.indexOf("+")}else{if(n.charAt(0)==="-"){n=n.slice(1,n.length)}a=n.indexOf("-")}function u(l){var d=l.toString(),e=d.indexOf("."),f,h,B;if(e!==-1){h=parseInt(d.slice(0,e),10);B=d.slice(d.indexOf(".")+1);f="."}else{h=l;B="";f=""}if(o===true){l=h+v.spinButtonsStep}else{l=h-v.spinButtonsStep}l=parseFloat(l+""+f+""+B);return l}if(t===undefined||t<=a){q=u(q)}else{w=u(w)}var z=w>=0?"+":"-";var A=q+" "+z+" "+Math.abs(w)+"i";v.element.value=A;v._onChange(v.value);if(s){v._setCaretPosition(t)}else{if(v.decimalNotation!=="default"){v._setNotation()}}},_getCaretPosition:function(){var f=this.element;if("selectionStart" in f){return f.selectionStart}else{if(document.selection){f.focus();var e=document.selection.createRange();var a=document.selection.createRange().text.length;e.moveStart("character",-f.value.length);return e.text.length-a}}},_setCaretPosition:function(d){var a=this.element;setTimeout(function(){if("selectionStart" in a){a.focus();a.setSelectionRange(d,d)}else{var e=a.createTextRange();e.collapse(true);e.moveEnd("character",d);e.moveStart("character",d);e.select()}},10)},_exponentialToDecimal:function(n){var q=n.indexOf("e")+2;var s=n.slice(q);var a=s.indexOf("+");var o=s.indexOf("-");if(a!==-1&&(a<o||o===-1)){q=a}else{q=o}var t=s.slice(q);var l=n.replace(t,"");t=t.slice(0,t.length-1);var u=t.charAt(0);t=c.trim(t.slice(1));if(u==="-"){t="-"+t}l=parseFloat(l).toFixed(20)*1;t=parseFloat(t).toFixed(20)*1;return{realPart:l,imaginaryPart:t}},_setNotation:function(){var h=this;var f=h.getDecimalNotation(h._currentNumber.realPart,h.decimalNotation);var l=h.getDecimalNotation(Math.abs(h._currentNumber.imaginaryPart),h.decimalNotation);var a=h._currentNumber.imaginaryPart>=0?"+":"-";h.element.value=f+" "+a+" "+l+"i"},_toSuperScript:function(n,o){var q="-0123456789";var t="";var u="";for(var s=0;s<n.length;s++){if(o===true){var a=t.indexOf(n.charAt(s));u+=(a!==-1?q[a]:n[s])}else{var l=q.indexOf(n.charAt(s));u+=(l!==-1?t[l]:n[s])}}return u}})})(jqxBaseFramework);(function(c){c.jqx.jqxWidget("jqxFormattedInput","",{});c.extend(c.jqx._jqxFormattedInput.prototype,{defineInstance:function(){var a={width:null,height:null,radix:10,decimalNotation:"default",value:"0",min:"-9223372036854775808",max:"9223372036854775807",upperCase:false,spinButtons:true,spinButtonsStep:1,dropDown:false,dropDownWidth:null,popupZIndex:20000,placeHolder:"",roundedCorners:true,disabled:false,rtl:false,changeType:null,_opened:false,$popup:c("<ul></ul>"),item:'<li><a href="#"></a></li>',events:["open","close","change","radixChange"]};c.extend(true,this,a)},createInstance:function(){var a=this;a._Long();a._regex={2:new RegExp(/([0-1])/),8:new RegExp(/([0-7])/),10:new RegExp(/([0-9\-])/),16:new RegExp(/([0-9]|[a-f])/i)};a.render()},render:function(){var f=this;f._radixNumber=f._getRadix(f.radix);if(f.value!==""){f._number=new f.longObj.math.Long.fromString((f.value).toString(),f._radixNumber)}if(f.baseHost){f.host=f.baseHost;f.element=f.host[0]}if(this.element.nodeName.toLowerCase()==="div"){this.baseHost=this.element;var a=this.host.find("input");var h=false;c.each(a,function(){var d=this.type;if(d===null||d==="text"||d==="textarea"){a=c(this);h=true;return false}});if(!h){throw new Error("jqxFormattedInput: Missing Text Input in the Input Group")}if(a.length>0){this.baseHost=c(this.element);this.host=a;this.element=a[0];this.baseHost.addClass(this.toThemeProperty("jqx-widget"));this.baseHost.addClass(this.toThemeProperty("jqx-rc-all"));this.baseHost.addClass(this.toThemeProperty("jqx-input-group"));var l=this.baseHost.children();c.each(l,function(e){c(this).addClass(f.toThemeProperty("jqx-input-group-addon"));c(this).removeClass(f.toThemeProperty("jqx-rc-all"));if(e===0){c(this).addClass(f.toThemeProperty("jqx-rc-l"))}if(e===l.length-1){c(this).addClass(f.toThemeProperty("jqx-rc-r"))}if(this!==f.element){c(this).addClass(f.toThemeProperty("jqx-fill-state-normal"))}if(this.nodeName.toLowerCase()==="div"){f.appendSpinButtons=function(n){f._spinButtonsContainer=c(n);f._spinButtonsContainer.addClass(f.toThemeProperty("jqx-formatted-input-spin-buttons-container"));var o='<div class="'+f.toThemeProperty("jqx-fill-state-normal jqx-formatted-input-spin-button")+'"><div class="'+f.toThemeProperty("jqx-input-icon")+'"></div></div>';f._upbutton=c(o);f._spinButtonsContainer.append(f._upbutton);f._downbutton=c(o);f._spinButtonsContainer.append(f._downbutton);f._upArrow=f._upbutton.find("div");f._upArrow.addClass(f.toThemeProperty("jqx-icon-arrow-up"));f._downArrow=f._downbutton.find("div");f._downArrow.addClass(f.toThemeProperty("jqx-icon-arrow-down"));f._spinButtonsStepLong=new f.longObj.math.Long.fromNumber(f.spinButtonsStep)};var d=function(n){f._addon=c(n);f._addon.addClass(f.toThemeProperty("jqx-formatted-input-addon"));if(!f._arrow){f._arrow=c('<div class="'+f.toThemeProperty("jqx-icon")+" "+f.toThemeProperty("jqx-icon-arrow-down")+'"></div>');f._arrow.appendTo(f._addon)}};if(f.rtl===false){if(!f._spinButtonsContainer&&f.spinButtons===true){f.appendSpinButtons(this)}else{if(!f._addon&&f.dropDown===true&&((e===2)||(e===1&&f.spinButtons===false))){d(this)}}}else{if(!f._addon&&f.dropDown===true){d(this);if(f.spinButtons===true){f._addon.addClass(f.toThemeProperty("jqx-formatted-input-addon-rtl"))}}else{if(!f._spinButtonsContainer&&f.spinButtons===true&&((e===1)||(e===0&&f.dropDown===false))){f.appendSpinButtons(this);f._spinButtonsContainer.addClass(f.toThemeProperty("jqx-formatted-input-spin-buttons-container-rtl"));if(f.dropDown===true){f._addon.addClass(f.toThemeProperty("jqx-formatted-input-addon-rtl"))}}}}}})}}f._inputAndAddon=f.host;if(f.baseHost){if(f._spinButtonsContainer){f._inputAndAddon=f._inputAndAddon.add(f._spinButtonsContainer)}if(f._addon){f._inputAndAddon=f._inputAndAddon.add(f._addon)}}f.removeHandlers();this.addHandlers();if(this.rtl){this.host.addClass(this.toThemeProperty("jqx-rtl"))}this.host.attr("role","textbox");c.jqx.aria(this,"aria-autocomplete","both");c.jqx.aria(this,"aria-disabled",this.disabled);c.jqx.aria(this,"aria-readonly",false);c.jqx.aria(this,"aria-multiline",false);c.jqx.aria(this,"aria-haspopup",true);if(f.value!==""&&f.value!==null){if(f.upperCase===true){f.host.addClass(f.toThemeProperty("jqx-formatted-input-upper-case"))}else{f.host.addClass(f.toThemeProperty("jqx-formatted-input-lower-case"))}if(f._radixNumber===10&&f.decimalNotation==="exponential"){f.element.value=f._getDecimalNotation("exponential")}else{f.element.value=f.value}}else{if(f._spinButtonsContainer){f._spinButtonsContainer.addClass(f.toThemeProperty("jqx-fill-state-disabled"))}}if(f._radixNumber!==10&&f.min.toString()==="-9223372036854775808"){f._minLong=new f.longObj.math.Long.fromNumber(f.min)}else{f._setMinMax("min")}if(f._radixNumber!==10&&f.max.toString()==="9223372036854775807"){f._maxLong=new f.longObj.math.Long.fromNumber(f.max)}else{f._setMinMax("max")}},_refreshClasses:function(d){var a=d?"addClass":"removeClass";this.host[a](this.toThemeProperty("jqx-widget-content"));this.host[a](this.toThemeProperty("jqx-input"));this.host[a](this.toThemeProperty("jqx-formatted-input"));this.host[a](this.toThemeProperty("jqx-widget"));this.$popup[a](this.toThemeProperty("jqx-popup"));if(c.jqx.browser.msie){this.$popup[a](this.toThemeProperty("jqx-noshadow"))}this.$popup[a](this.toThemeProperty("jqx-input-popup"));this.$popup[a](this.toThemeProperty("jqx-menu"));this.$popup[a](this.toThemeProperty("jqx-menu-vertical"));this.$popup[a](this.toThemeProperty("jqx-menu-dropdown"));this.$popup[a](this.toThemeProperty("jqx-widget"));this.$popup[a](this.toThemeProperty("jqx-widget-content"));if(this.roundedCorners){this.host[a](this.toThemeProperty("jqx-rc-all"));this.$popup[a](this.toThemeProperty("jqx-rc-all"));if(this.baseHost){this.baseHost[a](this.toThemeProperty("jqx-rc-all"));if(this.rtl===false){this.host[a](this.toThemeProperty("jqx-rc-l"));if(this._addon){this._addon[a](this.toThemeProperty("jqx-rc-r"))}}else{this.host[a](this.toThemeProperty("jqx-rc-r"));if(this._addon){this._addon[a](this.toThemeProperty("jqx-rc-l"))}}}}else{this.host.removeClass(this.toThemeProperty("jqx-rc-all"));this.$popup.removeClass(this.toThemeProperty("jqx-rc-all"));if(this.baseHost){this.baseHost.removeClass(this.toThemeProperty("jqx-rc-all"));if(this.rtl===false){this.host.removeClass(this.toThemeProperty("jqx-rc-l"));if(this._addon){this._addon.removeClass(this.toThemeProperty("jqx-rc-r"))}}else{this.host.removeClass(this.toThemeProperty("jqx-rc-r"));if(this._addon){this._addon.removeClass(this.toThemeProperty("jqx-rc-l"))}}}}if(this.disabled){this.host[a](this.toThemeProperty("jqx-fill-state-disabled"));if(this.baseHost){if(this._spinButtonsContainer){this._spinButtonsContainer[a](this.toThemeProperty("jqx-fill-state-disabled"))}if(this._addon){this._addon[a](this.toThemeProperty("jqx-fill-state-disabled"))}}}else{this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled"));if(this.baseHost&&this.value!==""&&this.value!==null){if(this._spinButtonsContainer){this._spinButtonsContainer.removeClass(this.toThemeProperty("jqx-fill-state-disabled"))}if(this._addon){this._addon.removeClass(this.toThemeProperty("jqx-fill-state-disabled"))}}}},selectAll:function(){var a=this.host;setTimeout(function(){if("selectionStart" in a[0]){a[0].focus();a[0].setSelectionRange(0,a[0].value.length)}else{var d=a[0].createTextRange();d.collapse(true);d.moveEnd("character",a[0].value.length);d.moveStart("character",0);d.select()}},10)},selectLast:function(){var a=this.host;this.selectStart(a[0].value.length)},selectFirst:function(){this.selectStart(0)},selectStart:function(d){var a=this.host;setTimeout(function(){if("selectionStart" in a[0]){a[0].focus();a[0].setSelectionRange(d,d)}else{var e=a[0].createTextRange();e.collapse(true);e.moveEnd("character",d);e.moveStart("character",d);e.select()}},10)},focus:function(){try{this.host.focus();var d=this;setTimeout(function(){d.host.focus()},25)}catch(a){}},refresh:function(){var q=this;this._refreshClasses(false);this._refreshClasses(true);if(!this.baseHost){if(this.width){this.host.width(this.width)}if(this.height){this.host.height(this.height)}}else{if(this.width){this.baseHost.width(this.width)}if(this.height){this.baseHost.height(this.height);var s=0;var a=this.baseHost.height()-2;if(c.jqx.browser.msie&&c.jqx.browser.version<8){this.baseHost.css("display","inline-block")}c.each(this.baseHost.children(),function(){c(this).css("height","100%");if(c.jqx.browser.msie&&c.jqx.browser.version<8){c(this).css("height",a+"px")}if(this!==q.element){s+=c(this).outerWidth()}});var u=(typeof q.width==="string"&&q.width.charAt(q.width.length-1)==="%")?1:0;this.host.css("width",this.baseHost.width()-s-u+"px");if(c.jqx.browser.msie&&c.jqx.browser.version<9){if(q._spinButtonsContainer){if(q.rtl===false||q.rtl===true&&q._addon){q._spinButtonsContainer.css("border-left-width","0")}}if(q._addon){if(q.rtl===false){q._addon.css("border-left-width","0")}else{if(!q._spinButtonsContainer){q._addon.css("border-right-width","0")}}}var n=0;if(c.jqx.browser.version<8){var o=0;var t=parseInt(q.host.css("border-left-width"),10)+parseInt(q.host.css("border-right-width"),10);var l=parseInt(q.host.css("padding-left"),10)+parseInt(q.host.css("padding-right"),10);if(q._spinButtonsContainer){t+=parseInt(q._spinButtonsContainer.css("border-left-width"),10)+parseInt(q._spinButtonsContainer.css("border-right-width"),10);l+=parseInt(q._spinButtonsContainer.css("padding-left"),10)+parseInt(q._spinButtonsContainer.css("padding-right"),10);if(!q._addon){o=2}}if(q._addon){t+=parseInt(q._addon.css("border-left-width"),10)+parseInt(q._addon.css("border-right-width"),10);l+=parseInt(q._addon.css("padding-left"),10)+parseInt(q._addon.css("padding-right"),10);if(!q._spinButtonsContainer){o=2}}q.host.width(q.host.width()-(l+t)-o);n=6}q.host.height(q.baseHost.height()-(parseInt(q.host.css("border-top-width"),10)+parseInt(q.host.css("border-bottom-width"),10)+parseInt(q.host.css("padding-top"),10)+parseInt(q.host.css("padding-bottom"),10)+n));var v=q.host.height()+"px";q.host.css("min-height",v);q.host.css("line-height",v)}}}this.host.attr("disabled",this.disabled);if(!this.host.attr("placeholder")){this._refreshPlaceHolder()}},_refreshPlaceHolder:function(){if("placeholder" in this.element){this.host.attr("placeHolder",this.placeHolder)}else{var a=this;if(this.element.value===""){this.element.value=this.placeHolder;this.host.focus(function(){if(a.element.value===a.placeHolder){a.element.value=""}});this.host.blur(function(){if(a.element.value===""||a.element.value===a.placeHolder){a.element.value=a.placeHolder}})}}},destroy:function(){this.removeHandlers();if(this.baseHost){c.jqx.utilities.resize(this.baseHost,null,true);this.baseHost.remove()}else{c.jqx.utilities.resize(this.host,null,true);this.host.remove()}if(this.$popup){this.$popup.remove()}},propertyChangedHandler:function(a,o,h,l){if(o==="placeHolder"){a._refreshPlaceHolder();return}if(o==="theme"){c.jqx.utilities.setTheme(h,l,a.host);return}if(o==="disabled"){c.jqx.aria(a,"aria-disabled",a.disabled)}if(o==="value"&&h.toString().toUpperCase()!==l.toString().toUpperCase()){a.val(l);return}if(h!==l&&o==="radix"){a._changeRadix(l);return}if(h!==l&&o==="decimalNotation"&&a._radixNumber===10){if(l==="exponential"){a.element.value=a._getDecimalNotation("exponential")}else{a.element.value=a._number.toString(10)}}if(h!==l&&(o==="min"||o==="max")){a._setMinMax(o);a._validateValue(a.value,true);a.value=a.element.value;return}if(h!==l&&(o==="upperCase")&&a.element.value!==""){if(l===true){a.host.removeClass(a.toThemeProperty("jqx-formatted-input-lower-case"));a.host.addClass(a.toThemeProperty("jqx-formatted-input-upper-case"))}else{a.host.removeClass(a.toThemeProperty("jqx-formatted-input-upper-case"));a.host.addClass(a.toThemeProperty("jqx-formatted-input-lower-case"))}return}function q(f,e){var d=a.host.width();var s=f.outerWidth();if(e===false){a.host.width(d+s);f.hide();if(a.rtl===true){if(a.spinButtons===true){a._spinButtonsContainer.addClass(a.toThemeProperty("jqx-formatted-input-spin-buttons-container-rtl-border"))}if(a.dropDown===true){a._addon.removeClass(a.toThemeProperty("jqx-formatted-input-addon-rtl"))}}}else{a.host.width(d-s);f.show();if(a.rtl===true&&a.spinButtons===true&&a.dropDown===true){a._spinButtonsContainer.removeClass(a.toThemeProperty("jqx-formatted-input-spin-buttons-container-rtl-border"));a._addon.addClass(a.toThemeProperty("jqx-formatted-input-addon-rtl"))}}}function n(s,e){if(e===true){var f=c("<div></div>");if(a.baseHost){var u=a.baseHost.children("div");if((a.rtl===false&&s==="spinButtons")||(a.rtl===true&&s==="dropDown")){u.before(f)}else{u.after(f)}a.render();a.host.width(a.host.width()-f.outerWidth())}else{var v=a.element.id;a.host.removeAttr("id");a.host.wrap('<div id="'+v+'" style="display: inline-block;"></div>');var d=c("#"+v);if(a.rtl===false){d.append(f)}else{d.prepend(f)}var t=a.host.data();t.jqxFormattedInput.host=d;t.jqxFormattedInput.element=d[0];a.baseHost=d;a.baseHost.data(t);a.render();a.refresh()}}}if(o==="spinButtons"){if(h!==l){if(a._spinButtonsContainer){q(a._spinButtonsContainer,l)}else{n("spinButtons",l)}return}else{return}}if(h!==l&&o==="spinButtonsStep"){a._spinButtonsStepLong=new a.longObj.math.Long.fromNumber(l)}if(o==="dropDown"){if(h!==l){if(a._addon){q(a._addon,l)}else{n("dropDown",l)}return}else{return}}a.refresh()},select:function(h,f,a){var l=this;if(!a){a=l.$popup.find(".jqx-fill-state-pressed").attr("data-value")}l._changeRadix(parseInt(a,10));l._setMaxLength(true);l.close()},val:function(n){var o=this;if((n||n==="")&&!(typeof n==="object"&&c.isEmptyObject(n)===true)&&n!=="binary"&&n!=="octal"&&n!=="decimal"&&n!=="exponential"&&n!=="scientific"&&n!=="engineering"&&n!=="hexadecimal"){n=n.toString();if(n.toUpperCase()!==o.element.value.toString().toUpperCase()){var a=o.element.value;if(o.upperCase===true){n=n.toUpperCase()}var q=n.split("");for(var t=0;t<q.length;t++){if(!o._regex[""+o._radixNumber+""].test(q[t])){return}}var l=o._validateValue(n,true);o._raiseEvent("2",{value:l,oldValue:a,radix:o._radixNumber});o.value=l;return l}else{return n}}else{if(n&&!(typeof n==="object"&&c.isEmptyObject(n)===true)){if(n==="exponential"||n==="scientific"||n==="engineering"){return o._getDecimalNotation(n)}else{var s=o._getRadix(n);return o._number.toString(s)}}else{return o.element.value}}},_changeRadix:function(o){var l=this;var n=l._getRadix(o);var h=l.value!==""?l._number.toString(n):"";var a=l.radix;var q=l.value;l.radix=o;l._radixNumber=n;l.element.value=h;l.value=h;this._raiseEvent("3",{radix:o,oldRadix:a,value:h,oldValue:q})},_raiseEvent:function(h,o){if(o===undefined){o={owner:null}}var n=this.events[h];o.owner=this;var l=new c.Event(n);l.owner=this;if(h==2){o.type=this.changeType;this.changeType=null}l.args=o;if(l.preventDefault){l.preventDefault()}var a;if(this.baseHost){a=this.baseHost.trigger(l)}else{a=this.host.trigger(l)}return a},open:function(){var h=this;h._setPopupOptions();h._render(h._popupOptions);if(c.jqx.isHidden(this.host)){return}var o;if(h.baseHost){o=c.extend({},h.baseHost.coord(true),{height:h.baseHost[0].offsetHeight})}else{o=c.extend({},h.host.coord(true),{height:h.host[0].offsetHeight})}if(this.$popup.parent().length===0){var l=this.element.id+"_popup";this.$popup[0].id=l;c.jqx.aria(this,"aria-owns",l)}this.$popup.appendTo(c(document.body)).css({position:"absolute",zIndex:this.popupZIndex,top:o.top+o.height,left:o.left}).show();var a=0;var n=this.$popup.children();c.each(n,function(){a+=c(this).outerHeight(true)-1});this.$popup.height(a);this._opened=true;if(h.baseHost){h._addon.addClass(h.toThemeProperty("jqx-fill-state-pressed jqx-combobox-arrow-selected"));h._arrow.addClass(h.toThemeProperty("jqx-icon-arrow-down-selected"))}this._raiseEvent("0",{popup:this.$popup});c.jqx.aria(this,"aria-expanded",true);return this},close:function(){var a=this;this.$popup.hide();this._opened=false;if(a.baseHost){a._addon.removeClass(a.toThemeProperty("jqx-fill-state-pressed jqx-combobox-arrow-selected"));a._arrow.removeClass(a.toThemeProperty("jqx-icon-arrow-down-selected"))}this._raiseEvent("1",{popup:this.$popup});c.jqx.aria(this,"aria-expanded",false);return this},_render:function(l){var f=this;l=c(l).map(function(n,e){var d=e;var q;switch(n){case 0:q=2;break;case 1:q=8;break;case 2:q=10;break;case 3:q=16;break}n=c(f.item).attr("data-value",q);n.find("a").html(d).attr("data-value",q);var o="";if(f.rtl){o=" "+f.toThemeProperty("jqx-rtl")+" "+f.toThemeProperty("jqx-formatted-input-item-rtl")}n[0].className=f.toThemeProperty("jqx-item")+" "+f.toThemeProperty("jqx-menu-item")+" "+f.toThemeProperty("jqx-formatted-input-item")+" "+f.toThemeProperty("jqx-rc-all")+o;return n[0]});var a;switch(f._radixNumber){case 2:a=0;break;case 8:a=1;break;case 10:a=2;break;case 16:a=3;break}l.eq(a).addClass(this.toThemeProperty("jqx-fill-state-pressed"));this.$popup.html(l);if(!this.dropDownWidth){if(f.baseHost){var h=(typeof f.width==="string"&&f.width.charAt(f.width.length-1)==="%")?1:0;this.$popup.width(this.baseHost.outerWidth()-6-h)}else{this.$popup.width(this.host.outerWidth()-6)}}else{this.$popup.width(this.dropDownWidth)}return this},next:function(){var d=this.$popup.find(".jqx-fill-state-pressed").removeClass(this.toThemeProperty("jqx-fill-state-pressed")),a=d.next();if(!a.length){a=c(this.$popup.find("li")[0])}a.addClass(this.toThemeProperty("jqx-fill-state-pressed"))},prev:function(){var d=this.$popup.find(".jqx-fill-state-pressed").removeClass(this.toThemeProperty("jqx-fill-state-pressed")),a=d.prev();if(!a.length){a=this.$popup.find("li").last()}a.addClass(this.toThemeProperty("jqx-fill-state-pressed"))},addHandlers:function(){var f=this;this.addHandler(this.host,"focus",c.proxy(this.onFocus,this));this.addHandler(this.host,"blur",c.proxy(this.onBlur,this));this.addHandler(this.host,"keypress",c.proxy(this.keypress,this));this.addHandler(this.host,"keyup",c.proxy(this.keyup,this));this.addHandler(this.host,"keydown",c.proxy(this.keydown,this));this.addHandler(this.$popup,"mousedown",c.proxy(this.click,this));if(this.host.on){this.$popup.on("mouseenter","li",c.proxy(this.mouseenter,this))}else{this.$popup.bind("mouseenter","li",c.proxy(this.mouseenter,this))}this.addHandler(this.host,"change",function(d){d.stopPropagation();d.preventDefault()});if(f.baseHost){var e=f.baseHost.attr("id");if(f._spinButtonsContainer){var a=f._upbutton.add(f._downbutton);f.addHandler(f._upbutton,"mousedown.jqxFormattedInputSpinButtonUp"+e,function(){if(!f.disabled&&f.value!==""&&f.value!==null){f._upbutton.addClass(f.toThemeProperty("jqx-fill-state-pressed"));f.changeType="mouse";f._incrementOrDecrement("add")}});f.addHandler(f._upbutton,"mouseup.jqxFormattedInputSpinButtonUp"+e,function(){if(!f.disabled&&f.value!==""&&f.value!==null){f._upbutton.removeClass(f.toThemeProperty("jqx-fill-state-pressed"))}});f.addHandler(f._downbutton,"mousedown.jqxFormattedInputSpinButtonDown"+e,function(){if(!f.disabled&&f.value!==""&&f.value!==null){f.changeType="mouse";f._downbutton.addClass(f.toThemeProperty("jqx-fill-state-pressed"));f._incrementOrDecrement("subtract")}});f.addHandler(f._downbutton,"mouseup.jqxFormattedInputSpinButtonDown"+e,function(){if(!f.disabled&&f.value!==""&&f.value!==null){f._downbutton.removeClass(f.toThemeProperty("jqx-fill-state-pressed"))}});f.addHandler(a,"mouseenter.jqxFormattedInputSpinButtons"+e,function(d){if(!f.disabled&&f.value!==""&&f.value!==null){var h=c(d.target);if(h.hasClass("jqx-icon-arrow-up")||h.children().hasClass("jqx-icon-arrow-up")){f._upbutton.addClass(f.toThemeProperty("jqx-fill-state-hover"));f._upArrow.addClass(f.toThemeProperty("jqx-icon-arrow-up-hover"))}else{f._downbutton.addClass(f.toThemeProperty("jqx-fill-state-hover"));f._downArrow.addClass(f.toThemeProperty("jqx-icon-arrow-down-hover"))}}});f.addHandler(a,"mouseleave.jqxFormattedInputSpinButtons"+e,function(d){if(!f.disabled&&f.value!==""&&f.value!==null){var h=c(d.target);if(h.hasClass("jqx-icon-arrow-up")||h.children().hasClass("jqx-icon-arrow-up")){f._upbutton.removeClass(f.toThemeProperty("jqx-fill-state-hover"));f._upArrow.removeClass(f.toThemeProperty("jqx-icon-arrow-up-hover"))}else{f._downbutton.removeClass(f.toThemeProperty("jqx-fill-state-hover"));f._downArrow.removeClass(f.toThemeProperty("jqx-icon-arrow-down-hover"))}}});f.addHandler(c("body"),"mouseup.jqxFormattedInputSpinButtons"+e,function(){f._upbutton.add(f._downbutton).removeClass(f.toThemeProperty("jqx-fill-state-pressed"))})}if(f._addon){f.addHandler(f._addon,"click.jqxFormattedInputAddon"+e,function(){if(!f.disabled){if(f._opened){f.close()}else{f.open()}}});f.addHandler(f._addon,"mouseenter.jqxFormattedInputAddon"+e,function(){if(!f.disabled&&f.value!==""&&f.value!==null){f._addon.addClass(f.toThemeProperty("jqx-fill-state-hover jqx-combobox-arrow-hover"));f._arrow.addClass(f.toThemeProperty("jqx-icon-arrow-down-hover"))}});f.addHandler(f._addon,"mouseleave.jqxFormattedInputAddon"+e,function(){if(!f.disabled&&f.value!==""&&f.value!==null){f._addon.removeClass(f.toThemeProperty("jqx-fill-state-hover jqx-combobox-arrow-hover"));f._arrow.removeClass(f.toThemeProperty("jqx-icon-arrow-down-hover"))}});f.addHandler(f._addon.add(f._arrow),"blur.jqxFormattedInputAddon"+e,function(){if(f._opened&&!f.disabled){f.close()}})}c.jqx.utilities.resize(f.baseHost,function(){if(f._opened===true){f.close()}var d=0;if(f._spinButtonsContainer){d+=f._spinButtonsContainer.outerWidth()}if(f._addon){d+=f._addon.outerWidth()}f.host.css("width",f.baseHost.width()-d-1)})}},removeHandlers:function(){var f=this;this.removeHandler(this.host,"focus",c.proxy(this.onFocus,this));this.removeHandler(this.host,"blur",c.proxy(this.onBlur,this));this.removeHandler(this.host,"keypress",c.proxy(this.keypress,this));this.removeHandler(this.host,"keyup",c.proxy(this.keyup,this));this.removeHandler(this.host,"keydown",c.proxy(this.keydown,this));this.removeHandler(this.$popup,"mousedown",c.proxy(this.click,this));if(this.host.off){this.$popup.off("mouseenter","li",c.proxy(this.mouseenter,this))}else{this.$popup.unbind("mouseenter","li",c.proxy(this.mouseenter,this))}if(f.baseHost){var e=f.baseHost.attr("id");if(f._spinButtonsContainer){var a=f._upbutton.add(f._downbutton);f.removeHandler(f._upbutton,"mousedown.jqxFormattedInputSpinButtonUp"+e);f.removeHandler(f._upbutton,"mouseup.jqxFormattedInputSpinButtonUp"+e);f.removeHandler(f._downbutton,"mousedown.jqxFormattedInputSpinButtonDown"+e);f.removeHandler(f._downbutton,"mouseup.jqxFormattedInputSpinButtonDown"+e);f.removeHandler(a,"mouseenter.jqxFormattedInputSpinButtons"+e);f.removeHandler(a,"mouseleave.jqxFormattedInputSpinButtons"+e);f.removeHandler(c("body"),"mouseup.jqxFormattedInputSpinButtons"+e)}if(f._addon){f.removeHandler(f._addon,"click.jqxFormattedInputAddon"+e);f.removeHandler(f._addon,"mouseenter.jqxFormattedInputAddon"+e);f.removeHandler(f._addon,"mouseleave.jqxFormattedInputAddon"+e);f.removeHandler(f._addon.add(f._arrow),"blur.jqxFormattedInputAddon"+e)}}},move:function(a){if(!this._opened){return}switch(a.keyCode){case 9:case 13:case 27:a.preventDefault();break;case 38:a.preventDefault();this.prev();break;case 40:a.preventDefault();this.next();break}a.stopPropagation()},keydown:function(t){var u=this;u.changeType="keyboard";this.suppressKeyPressRepeat=~c.inArray(t.keyCode,[40,38,9,13,27]);this.move(t);var a=!t.charCode?t.which:t.charCode,q=String.fromCharCode(a);if(a>=96&&a<=105){q=a-96;a=a-48}if(t.altKey===true){if(a===40){if(u._addon){this.open()}return}else{if(a===38){if(u._addon){this.close()}return}}}if(t.ctrlKey===true){if(a===67){return}else{if(a===65){u.selectAll();return}}}var B=[8,9,13,37,38,39,40,46,88];var v=u._regex[""+u._radixNumber+""];if(B.indexOf(a)===-1&&(!v.test(q)&&!v.test(t.key)&&!v.test(t["char"]))){t.preventDefault();return false}else{var s=u.host[0].selectionStart;var z=u.host[0].selectionEnd-s;var A=this._getCaretPosition(this.host[0]);var D=this.element.value;var C=D.split("");if(a===8){if(z>0){C.splice(s,z)}else{C.splice(A-1,1)}}else{if(a===46){if(z>0){C.splice(s,z)}else{C.splice(A,1)}}else{if(a===88){if(t.ctrlKey===true){if(z>0){C.splice(s,z)}}else{t.preventDefault()}}else{if(a===189){if(C[0]==="-"){C.splice(0,1);u._minus=false}else{C.splice(0,0,"-");u._minus=true}t.preventDefault()}else{var w=B.indexOf(a)===-1?q:"";if(z>0){C.splice(s,z);C.splice(s,0,w)}else{C.splice(A,0,w)}}}}}C=C.join("");if(C!==D){var e=u._validateValue(C,false);if(e===false){u._inputAndAddon.addClass(u.toThemeProperty("jqx-input-invalid"))}else{u._inputAndAddon.removeClass(u.toThemeProperty("jqx-input-invalid"))}}}},keypress:function(d){var a=this;if(a.suppressKeyPressRepeat){return}a.move(d)},keyup:function(d){var a=this;switch(d.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(this._opened){this.select(d,this)}else{a._change()}break;case 27:if(!this._opened){return}this.close();break;case 189:if(a._radixNumber===10){if(a._minus===true){a.element.value="-"+a.element.value}else{a.element.value=a.element.value.slice(1)}}break}d.stopPropagation();d.preventDefault();if(a.element.value!==""){if(a.upperCase){a.host.addClass(a.toThemeProperty("jqx-formatted-input-upper-case"))}else{a.host.addClass(a.toThemeProperty("jqx-formatted-input-lower-case"))}if(a._spinButtonsContainer){a._spinButtonsContainer.removeClass(a.toThemeProperty("jqx-fill-state-disabled"))}}else{a.host.removeClass(a.toThemeProperty("jqx-formatted-input-upper-case jqx-formatted-input-lower-case"));if(a._spinButtonsContainer){a._spinButtonsContainer.addClass(a.toThemeProperty("jqx-fill-state-disabled"))}}},_getCaretPosition:function(a){var e=0;if(document.selection){a.focus();var f=document.selection.createRange();f.moveStart("character",-a.value.length);e=f.text.length}else{if(a.selectionStart||a.selectionStart==="0"){e=a.selectionStart}}return(e)},onBlur:function(){var a=this;if(a._opened){a.close()}a._setMaxLength();a._inputAndAddon.removeClass(a.toThemeProperty("jqx-fill-state-focus"));a._change();if(a._radixNumber===10&&a.decimalNotation==="exponential"){a.element.value=a._getDecimalNotation("exponential")}a._refreshPlaceHolder()},onFocus:function(){var a=this;a._setMaxLength(true);a._inputAndAddon.addClass(a.toThemeProperty("jqx-fill-state-focus"));if(a._radixNumber===10&&a.decimalNotation==="exponential"){a.element.value=a._number.toString(10)}},click:function(d){d.stopPropagation();d.preventDefault();var a=c(d.target).attr("data-value");this.select(d,this,a)},mouseenter:function(a){this.$popup.find(".jqx-fill-state-pressed").removeClass(this.toThemeProperty("jqx-fill-state-pressed"));c(a.currentTarget).addClass(this.toThemeProperty("jqx-fill-state-pressed"))},_change:function(){var f=this;var a=f.value;var e=f._validateValue(f.element.value,true);f._inputAndAddon.removeClass(f.toThemeProperty("jqx-input-invalid"));if(e.toUpperCase()!==a.toString().toUpperCase()){f._raiseEvent("2",{value:e,oldValue:a,radix:f._radixNumber});f.value=e}},_getRadix:function(a){switch(a){case 10:case"decimal":return 10;case 2:case"binary":return 2;case 8:case"octal":return 8;case 16:case"hexadecimal":return 16}},_setPopupOptions:function(){var a=this;a._popupOptions=new Array();if(a.value!==""){a._popupOptions.push(a._number.toString(2)+" <em>(BIN)</em>");a._popupOptions.push(a._number.toString(8)+" <em>(OCT)</em>");a._popupOptions.push(a._number.toString(10)+" <em>(DEC)</em>");a._popupOptions.push(a._number.toString(16)+" <em>(HEX)</em>")}else{a._popupOptions.push("BIN");a._popupOptions.push("OCT");a._popupOptions.push("DEC");a._popupOptions.push("HEX")}},_validateValue:function(n,h){var o=this;if(n!==""){var l=new o.longObj.math.Long.fromString((n).toString(),o._radixNumber);if(l.lessThan(o._minLong)){if(h){o._number=o._minLong;var q=o._minLong.toString(o._radixNumber);if(o._radixNumber===16&&o.upperCase===true){q=q.toUpperCase()}o.element.value=q;return q}else{return false}}else{if(l.greaterThan(o._maxLong)){if(h){o._number=o._maxLong;var a=o._maxLong.toString(o._radixNumber);if(o._radixNumber===16&&o.upperCase===true){a=a.toUpperCase()}o.element.value=a;return a}else{return false}}else{if(h){o._number=l;o.element.value=n;return n}else{return true}}}}else{if(h){o.element.value="";return n}else{return true}}},_getNegativeDecimal:function(u,v){var q=u;if(v===8){var s=new Array();for(var z=0;z<11;z++){var D=parseInt(u.charAt(z),8).toString(2);while(D.length!==3){D="0"+D}s.push(D)}q=s.join("");if(q.charAt(0)==="0"){q=q.slice(1)}}else{if(v===16){var a=new Array();for(var A=0;A<8;A++){var t=parseInt(u.charAt(A),16).toString(2);while(t.length!==4){t="0"+t}a.push(t)}q=a.join("")}}var B="";for(var C=0;C<q.length;C++){var w=q.charAt(C)==="1"?"0":"1";B+=w}B=(parseInt(B,2)+1)*-1;return B},_setMaxLength:function(f){var e=this;var a;if(f===true){switch(e._radixNumber){case 2:a=64;break;case 8:a=22;break;case 10:a=20;break;case 16:a=16;break}}else{a=524288}e.host.attr("maxlength",a)},_setMinMax:function(a){var d=this;d["_"+a+"Long"]=new d.longObj.math.Long.fromString((d[a]).toString(),d._radixNumber)},_getDecimalNotation:function(t){var q=this;var o=q._number.toString(10);function l(e){if(e==="0"){return parseInt(e,10).toExponential()}var f;if(e.charAt(0)==="-"){f="-";e=e.slice(1,e.length)}else{f=""}var d=e.length-1;while(e.charAt(e.length-1)==="0"){e=e.slice(0,e.length-1)}var h=e.slice(1,e.length);if(h!==""){h="."+h}return f+""+e.charAt(0)+h+"e+"+d}function s(d){var e=d.indexOf("e");var f=d.slice(e+1);var h=d.slice(0,e+1);h=h.replace("e","10");h+=q._toSuperScript(f);h=h.replace("+","");return h}function a(v){var w=v.indexOf("e");var d=v.slice(w+1);var f=v.slice(0,w);var e=parseInt(d,10)%3;f=f*Math.pow(10,e);var h=v.slice(0,w).length-e-2;if(h>=0){f=f.toFixed(h)}var u=f+"10"+q._toSuperScript((parseInt(d,10)-e).toString());return u}var n=l(o);if(t==="scientific"){return s(n)}else{if(t==="engineering"){return a(n)}else{return n}}},_toSuperScript:function(n,o){var q="-0123456789";var t="";var u="";for(var s=0;s<n.length;s++){if(o===true){var a=t.indexOf(n.charAt(s));u+=(a!==-1?q[a]:n[s])}else{var l=q.indexOf(n.charAt(s));u+=(l!==-1?t[l]:n[s])}}return u},_incrementOrDecrement:function(d){var a=this;if(a._number.toString(a._radixNumber)!==a.element.value){a._number=new a.longObj.math.Long.fromString(a.element.value,a._radixNumber)}a._number=a._number[d](a._spinButtonsStepLong);a.element.value=a._number.toString(a._radixNumber);a._change()},_negativeBinary:function(I,a){var K="";I=I.slice(1,I.length);while(I.length<64){I="0"+I}for(var w=0;w<I.length;w++){var J=I.charAt(w)==="1"?"0":"1";K+=J}var F=true;var C="";for(var z=K.length-1;z>=0;z--){var l=K.charAt(z);var H;if(l==="0"){if(F===true){H="1";F=false}else{H="0"}}else{if(F===true){H="0"}else{H="1"}}C=H+""+C}switch(a){case 2:return C;case 8:C="00"+C;var D="";for(var A=22;A>=1;A--){var v=C[A*3-3]+""+C[A*3-2]+""+C[A*3-1];D=parseInt(v,2).toString(8)+""+D}return D;case 16:var E="";for(var B=16;B>=1;B--){var G=C[B*4-4]+""+C[B*4-3]+""+C[B*4-2]+""+C[B*4-1];E=parseInt(G,2).toString(16)+""+E}return E}},_Long:function(){var d=this;d.longObj=new Object();var a=d.longObj;a.math=new Object();a.math.Long=new Object();a.math.Long=function(h,f){this.lowBits=h|0;this.highBits=f|0};a.math.Long.IntCache={};a.math.Long.fromInt=function(n){if(-128<=n&&n<128){var h=a.math.Long.IntCache[n];if(h){return h}}var l=new a.math.Long(n|0,n<0?-1:0);if(-128<=n&&n<128){a.math.Long.IntCache[n]=l}return l};a.math.Long.fromNumber=function(e){if(isNaN(e)||!isFinite(e)){return a.math.Long.ZERO}else{if(e<=-a.math.Long.TWO_PWR_63_DBL_){return a.math.Long.MIN_VALUE}else{if(e+1>=a.math.Long.TWO_PWR_63_DBL_){return a.math.Long.MAX_VALUE}else{if(e<0){return a.math.Long.fromNumber(-e).negate()}else{return new a.math.Long((e%a.math.Long.TWO_PWR_32_DBL_)|0,(e/a.math.Long.TWO_PWR_32_DBL_)|0)}}}}};a.math.Long.fromBits=function(h,f){return new a.math.Long(h,f)};a.math.Long.fromString=function(v,s){if(v.length===0){throw new Error("number format error: empty string")}var u=s||10;if(u<2||36<u){throw new Error("radix out of range: "+u)}if(v.charAt(0)==="-"){return a.math.Long.fromString(v.substring(1),u).negate()}else{if(v.indexOf("-")>=0){throw new Error('number format error: interior "-" character: '+v)}}var q=a.math.Long.fromNumber(Math.pow(u,8));var n=a.math.Long.ZERO;for(var w=0;w<v.length;w+=8){var o=Math.min(8,v.length-w);var t=parseInt(v.substring(w,w+o),u);if(o<8){var z=a.math.Long.fromNumber(Math.pow(u,o));n=n.multiply(z).add(a.math.Long.fromNumber(t))}else{n=n.multiply(q);n=n.add(a.math.Long.fromNumber(t))}}return n};a.math.Long.TWO_PWR_16_DBL_=1<<16;a.math.Long.TWO_PWR_24_DBL_=1<<24;a.math.Long.TWO_PWR_32_DBL_=a.math.Long.TWO_PWR_16_DBL_*a.math.Long.TWO_PWR_16_DBL_;a.math.Long.TWO_PWR_31_DBL_=a.math.Long.TWO_PWR_32_DBL_/2;a.math.Long.TWO_PWR_48_DBL_=a.math.Long.TWO_PWR_32_DBL_*a.math.Long.TWO_PWR_16_DBL_;a.math.Long.TWO_PWR_64_DBL_=a.math.Long.TWO_PWR_32_DBL_*a.math.Long.TWO_PWR_32_DBL_;a.math.Long.TWO_PWR_63_DBL_=a.math.Long.TWO_PWR_64_DBL_/2;a.math.Long.ZERO=a.math.Long.fromInt(0);a.math.Long.ONE=a.math.Long.fromInt(1);a.math.Long.NEG_ONE=a.math.Long.fromInt(-1);a.math.Long.MAX_VALUE=a.math.Long.fromBits(4294967295|0,2147483647|0);a.math.Long.MIN_VALUE=a.math.Long.fromBits(0,2147483648|0);a.math.Long.TWO_PWR_24_=a.math.Long.fromInt(1<<24);a.math.Long.prototype.toInt=function(){return this.lowBits};a.math.Long.prototype.toNumber=function(){return this.highBits*a.math.Long.TWO_PWR_32_DBL_+this.getLowBitsUnsigned()};a.math.Long.prototype.toString=function(s){var u=s||10;if(u<2||36<u){throw new Error("radix out of range: "+u)}if(this.isZero()){return"0"}var q,n;if(this.isNegative()){if(this.equals(a.math.Long.MIN_VALUE)){var w=a.math.Long.fromNumber(u);var A=this.div(w);q=A.multiply(w).subtract(this);return A.toString(u)+q.toInt().toString(u)}else{switch(u){case 2:case 8:case 16:n="-"+this.negate().toString(2);return d._negativeBinary(n,u);default:n="-"+this.negate().toString(u);return n}}}var o=a.math.Long.fromNumber(Math.pow(u,6));q=this;n="";while(true){var t=q.div(o);var v=q.subtract(t.multiply(o)).toInt();var z=v.toString(u);q=t;if(q.isZero()){return z+n}else{while(z.length<6){z="0"+z}n=""+z+n}}};a.math.Long.prototype.getHighBits=function(){return this.highBits};a.math.Long.prototype.getLowBits=function(){return this.lowBits};a.math.Long.prototype.getLowBitsUnsigned=function(){return(this.lowBits>=0)?this.lowBits:a.math.Long.TWO_PWR_32_DBL_+this.lowBits};a.math.Long.prototype.getNumBitsAbs=function(){if(this.isNegative()){if(this.equals(a.math.Long.MIN_VALUE)){return 64}else{return this.negate().getNumBitsAbs()}}else{var f=this.highBits!==0?this.highBits:this.lowBits;for(var h=31;h>0;h--){if((f&(1<<h))!==0){break}}return this.highBits!==0?h+33:h+1}};a.math.Long.prototype.isZero=function(){return this.highBits===0&&this.lowBits===0};a.math.Long.prototype.isNegative=function(){return this.highBits<0};a.math.Long.prototype.isOdd=function(){return(this.lowBits&1)===1};a.math.Long.prototype.equals=function(e){return(this.highBits===e.highBits)&&(this.lowBits===e.lowBits)};a.math.Long.prototype.notEquals=function(e){return(this.highBits!==e.highBits)||(this.lowBits!==e.lowBits)};a.math.Long.prototype.lessThan=function(e){return this.compare(e)<0};a.math.Long.prototype.lessThanOrEqual=function(e){return this.compare(e)<=0};a.math.Long.prototype.greaterThan=function(e){return this.compare(e)>0};a.math.Long.prototype.greaterThanOrEqual=function(e){return this.compare(e)>=0};a.math.Long.prototype.compare=function(l){if(this.equals(l)){return 0}var n=this.isNegative();var h=l.isNegative();if(n&&!h){return -1}if(!n&&h){return 1}if(this.subtract(l).isNegative()){return -1}else{return 1}};a.math.Long.prototype.negate=function(){if(this.equals(a.math.Long.MIN_VALUE)){return a.math.Long.MIN_VALUE}else{return this.not().add(a.math.Long.ONE)}};a.math.Long.prototype.add=function(w){var A=this.highBits>>>16;var E=this.highBits&65535;var v=this.lowBits>>>16;var D=this.lowBits&65535;var t=w.highBits>>>16;var C=w.highBits&65535;var s=w.lowBits>>>16;var B=w.lowBits&65535;var q=0,z=0,F=0,u=0;u+=D+B;F+=u>>>16;u&=65535;F+=v+s;z+=F>>>16;F&=65535;z+=E+C;q+=z>>>16;z&=65535;q+=A+t;q&=65535;return a.math.Long.fromBits((F<<16)|u,(q<<16)|z)};a.math.Long.prototype.subtract=function(e){return this.add(e.negate())};a.math.Long.prototype.multiply=function(w){if(this.isZero()){return a.math.Long.ZERO}else{if(w.isZero()){return a.math.Long.ZERO}}if(this.equals(a.math.Long.MIN_VALUE)){return w.isOdd()?a.math.Long.MIN_VALUE:a.math.Long.ZERO}else{if(w.equals(a.math.Long.MIN_VALUE)){return this.isOdd()?a.math.Long.MIN_VALUE:a.math.Long.ZERO}}if(this.isNegative()){if(w.isNegative()){return this.negate().multiply(w.negate())}else{return this.negate().multiply(w).negate()}}else{if(w.isNegative()){return this.multiply(w.negate()).negate()}}if(this.lessThan(a.math.Long.TWO_PWR_24_)&&w.lessThan(a.math.Long.TWO_PWR_24_)){return a.math.Long.fromNumber(this.toNumber()*w.toNumber())}var A=this.highBits>>>16;var E=this.highBits&65535;var v=this.lowBits>>>16;var D=this.lowBits&65535;var t=w.highBits>>>16;var C=w.highBits&65535;var s=w.lowBits>>>16;var B=w.lowBits&65535;var q=0,z=0,F=0,u=0;u+=D*B;F+=u>>>16;u&=65535;F+=v*B;z+=F>>>16;F&=65535;F+=D*s;z+=F>>>16;F&=65535;z+=E*B;q+=z>>>16;z&=65535;z+=v*s;q+=z>>>16;z&=65535;z+=D*C;q+=z>>>16;z&=65535;q+=A*B+E*s+v*C+D*t;q&=65535;return a.math.Long.fromBits((F<<16)|u,(q<<16)|z)};a.math.Long.prototype.div=function(w){if(w.isZero()){throw new Error("division by zero")}else{if(this.isZero()){return a.math.Long.ZERO}}var t,q;if(this.equals(a.math.Long.MIN_VALUE)){if(w.equals(a.math.Long.ONE)||w.equals(a.math.Long.NEG_ONE)){return a.math.Long.MIN_VALUE}else{if(w.equals(a.math.Long.MIN_VALUE)){return a.math.Long.ONE}else{var A=this.shiftRight(1);t=A.div(w).shiftLeft(1);if(t.equals(a.math.Long.ZERO)){return w.isNegative()?a.math.Long.ONE:a.math.Long.NEG_ONE}else{q=this.subtract(w.multiply(t));var n=t.add(q.div(w));return n}}}}else{if(w.equals(a.math.Long.MIN_VALUE)){return a.math.Long.ZERO}}if(this.isNegative()){if(w.isNegative()){return this.negate().div(w.negate())}else{return this.negate().div(w).negate()}}else{if(w.isNegative()){return this.div(w.negate()).negate()}}var v=a.math.Long.ZERO;q=this;while(q.greaterThanOrEqual(w)){t=Math.max(1,Math.floor(q.toNumber()/w.toNumber()));var o=Math.ceil(Math.log(t)/Math.LN2);var s=(o<=48)?1:Math.pow(2,o-48);var z=a.math.Long.fromNumber(t);var u=z.multiply(w);while(u.isNegative()||u.greaterThan(q)){t-=s;z=a.math.Long.fromNumber(t);u=z.multiply(w)}if(z.isZero()){z=a.math.Long.ONE}v=v.add(z);q=q.subtract(u)}return v};a.math.Long.prototype.modulo=function(e){return this.subtract(this.div(e).multiply(e))};a.math.Long.prototype.not=function(){return a.math.Long.fromBits(~this.lowBits,~this.highBits)};a.math.Long.prototype.and=function(e){return a.math.Long.fromBits(this.lowBits&e.lowBits,this.highBits&e.highBits)};a.math.Long.prototype.or=function(e){return a.math.Long.fromBits(this.lowBits|e.lowBits,this.highBits|e.highBits)};a.math.Long.prototype.xor=function(e){return a.math.Long.fromBits(this.lowBits^e.lowBits,this.highBits^e.highBits)};a.math.Long.prototype.shiftLeft=function(h){h&=63;if(h===0){return this}else{var n=this.lowBits;if(h<32){var l=this.highBits;return a.math.Long.fromBits(n<<h,(l<<h)|(n>>>(32-h)))}else{return a.math.Long.fromBits(0,n<<(h-32))}}};a.math.Long.prototype.shiftRight=function(h){h&=63;if(h===0){return this}else{var l=this.highBits;if(h<32){var n=this.lowBits;return a.math.Long.fromBits((n>>>h)|(l<<(32-h)),l>>h)}else{return a.math.Long.fromBits(l>>(h-32),l>=0?0:-1)}}};a.math.Long.prototype.shiftRightUnsigned=function(h){h&=63;if(h===0){return this}else{var l=this.highBits;if(h<32){var n=this.lowBits;return a.math.Long.fromBits((n>>>h)|(l<<(32-h)),l>>>h)}else{if(h===32){return a.math.Long.fromBits(l,0)}else{return a.math.Long.fromBits(l>>>(h-32),0)}}}}}})})(jqxBaseFramework);(function(c){c.jqx.jqxWidget("jqxRibbon","",{});c.extend(c.jqx._jqxRibbon.prototype,{defineInstance:function(){var a={width:null,height:"auto",mode:"default",position:"top",selectedIndex:-1,selectionMode:"click",popupCloseMode:"click",animationType:"fade",animationDelay:400,scrollPosition:"both",disabled:false,rtl:false,scrollStep:10,scrollDelay:30,reorder:false,initContent:null,_roundedCorners:true,_removeByDrag:false,events:["select","unselect","change","_removeByDrag","reorder"]};c.extend(true,this,a)},createInstance:function(){var a=this;a._browser=c.jqx.browser;if(a.mode!=="popup"&&a.selectedIndex===-1){a.selectedIndex=0}a._originalHTML=a.host.html();a._render(true)},render:function(){this._render()},refresh:function(a){if(a!==true){this._render()}},destroy:function(){var a=this;a._removeHandlers();a.host.remove()},selectAt:function(a){this._selectAt(a)},clearSelection:function(){this._clearSelection()},disableAt:function(a){var d=this;d._items[a]._disabled=true;c(d._items[a]).addClass(d.toThemeProperty("jqx-fill-state-disabled"));if(a===d.selectedIndex){d._clearSelection()}},enableAt:function(a){var d=this;d._items[a]._disabled=false;c(d._items[a]).removeClass(d.toThemeProperty("jqx-fill-state-disabled"))},hideAt:function(a){var d=this;c(d._items[a]).css("display","none");d._checkScrollButtons();if(a===d.selectedIndex){d._clearSelection()}else{d._updatePositions()}},showAt:function(a){var d=this;if(d._orientation==="horizontal"){c(d._items[a]).css("display","inline-block")}else{c(d._items[a]).css("display","inherit")}d._checkScrollButtons();d._updatePositions()},val:function(a){var d=this;if(a){d._selectAt(a)}else{return d.selectedIndex}},addAt:function(a,l){var o=this;o._removeHandlers();var h=c('<li class="'+o.toThemeProperty("jqx-ribbon-item")+" "+o.toThemeProperty("jqx-ribbon-item-"+o.position)+'">'+l.title+"</li>");var n=c('<div class="'+o.toThemeProperty("jqx-widget-content")+" "+o.toThemeProperty("jqx-ribbon-content-section")+" "+o.toThemeProperty("jqx-ribbon-content-section-"+o.position)+'"></div>');n.append(l.content);switch(o.position){case"top":h.addClass(o.toThemeProperty("jqx-rc-t"));n.addClass(o.toThemeProperty("jqx-rc-b"));break;case"bottom":h.addClass(o.toThemeProperty("jqx-rc-b"));n.addClass(o.toThemeProperty("jqx-rc-t"));break;case"left":h.addClass(o.toThemeProperty("jqx-rc-l"));n.addClass(o.toThemeProperty("jqx-rc-r"));break;case"right":h.addClass(o.toThemeProperty("jqx-rc-r"));n.addClass(o.toThemeProperty("jqx-rc-l"));break}if(o.mode==="popup"){n.addClass(o.toThemeProperty("jqx-ribbon-content-section-popup"));if(o._orientation==="horizontal"){n.addClass(o.toThemeProperty("jqx-ribbon-content-section-horizontal-popup"))}else{n.addClass(o.toThemeProperty("jqx-ribbon-content-section-vertical-popup"))}}if(o.rtl===true){h.addClass(o.toThemeProperty("jqx-ribbon-item-rtl"))}if(o._items.length-1>=a){c(o._items[a]).before(h);c(o._contentSections[a]).before(n)}else{o._header.append(h);o._content.append(n)}o._updateItems();o._addHandlers();o._checkScrollButtons();if(a<=o.selectedIndex){o.selectedIndex++}o._updatePositions()},removeAt:function(a){var d=this;if(a===d.selectedIndex){d._clearSelection()}c(d._items[a]).add(d._contentSections[a]).remove();d._updateItems();d._updatePositions()},updateAt:function(a,f){var e=this;c(e._items[a]).html(f.newTitle);c(e._contentSections[a]).html(f.newContent);e._items[a]._isInitialized=false;if(e.initContent&&a===e.selectedIndex){e.initContent(a);e._items[a]._isInitialized=true}e._updatePositions()},setPopupLayout:function(o,h,n,a){var l=this;if(l.mode==="popup"){if(!c(l._contentSections[o]).attr("data-width")){if(c(l._contentSections[o])[0].style.width){c(l._contentSections[o]).attr("data-width",c(l._contentSections[o])[0].style.width)}if(c(l._contentSections[o])[0].style.height){c(l._contentSections[o]).attr("data-height",c(l._contentSections[o])[0].style.height)}}if(n){c(l._contentSections[o]).css("width",n)}if(a){c(l._contentSections[o]).css("height",a)}l._contentSections[o]._layout=h;l._positionContent(o)}},propertyChangedHandler:function(q,o,l,n){if(n!==l){switch(o){case"width":case"height":q.host.css(o,n);q._updateSize();break;case"position":q._render();break;case"mode":q._content.width("auto");q._removeHandlers(null,l);q._render();break;case"selectedIndex":q._selectAt(n,l);break;case"selectionMode":q._removeHandlers(l);q._addHandlers();break;case"scrollPosition":q._scrollButtons.removeClass(q.toThemeProperty("jqx-ribbon-scrollbutton-"+l));q._scrollButtons.addClass(q.toThemeProperty("jqx-ribbon-scrollbutton-"+n));var a=c(q._scrollButtons[0]);var h=c(q._scrollButtons[1]);q._scrollButtons.removeClass(q.toThemeProperty("jqx-rc-tr"));q._scrollButtons.removeClass(q.toThemeProperty("jqx-rc-bl"));a.removeClass(q.toThemeProperty("jqx-rc-tl"));h.removeClass(q.toThemeProperty("jqx-rc-br"));q._scrollButtonRc(a,h);q._checkScrollButtons();q._updatePositions();break;case"disabled":if(n===true){q._removeHandlers();q.host.addClass(q.toThemeProperty("jqx-fill-state-disabled"))}else{q.host.removeClass(q.toThemeProperty("jqx-fill-state-disabled"));q._addHandlers()}break;case"theme":c.jqx.utilities.setTheme(l,n,q.host);break;case"rtl":if(n===true){q._header.addClass(q.toThemeProperty("jqx-ribbon-header-rtl"));q._items.addClass(q.toThemeProperty("jqx-ribbon-item-rtl"))}else{q._header.removeClass(q.toThemeProperty("jqx-ribbon-header-rtl"));q._items.removeClass(q.toThemeProperty("jqx-ribbon-item-rtl"))}q._positionSelectionToken(q.selectedIndex);break}}},_raiseEvent:function(h,n){var q=this.events[h];var l=new jQuery.Event(q);l.owner=this;l.args=n;var a;try{a=this.host.trigger(l)}catch(o){}return a},_render:function(f){var e=this;if(f!==true){e._removeHandlers()}e._selectionTokenOffsetY=0;switch(e._browser.browser){case"mozilla":e._browserWidthRtlFlag=0;e._browserScrollRtlFlag=1;e._selectionTokenOffsetX=1;break;case"msie":e._browserWidthRtlFlag=0;e._browserScrollRtlFlag=-1;if(e._browser.version==="8.0"){e._selectionTokenOffsetX=1}else{if(e._browser.version==="7.0"){e._selectionTokenOffsetX=0;if(e.mode==="popup"&&(e.position==="bottom"||e.position==="right")){e._selectionTokenOffsetY=2}}else{e._selectionTokenOffsetX=0}}break;default:e._browserWidthRtlFlag=1;e._browserScrollRtlFlag=1;e._selectionTokenOffsetX=0}if(f===true){var a=e.host.children();e._header=c(a[0]);e._content=c(a[1]);e._checkStructure(a)}e._header.css("float","none");e._content.css("padding","0px");e.host.width(e.width);e.host.height(e.height);if(e.position==="bottom"||e.position==="right"){e._content.after(e._header)}if(e.position==="top"||e.position==="bottom"){e._orientation="horizontal"}else{e._orientation="vertical"}if(e.position==="right"){e._header.css("float","right")}else{if(e.position==="left"){e._header.css("float","left")}}e._contentSections=e._content.children();c.each(e._contentSections,function(){if(c(this).attr("data-width")!==undefined){c(this).css("width",c(this).attr("data-width"));c(this).css("height",c(this).attr("data-height"));c(this).removeAttr("data-width");c(this).removeAttr("data-height")}});if(f===true){e._selectionToken=c('<div class="'+e.toThemeProperty("jqx-ribbon-selection-token")+" "+e.toThemeProperty("jqx-ribbon-selection-token-"+e.position)+" "+e.toThemeProperty("jqx-widget-content")+'"></div>');e.host.append(e._selectionToken)}e._updateItems();e._addClasses();if(f===true){e._appendScrollButtons();e._checkScrollButtons()}e._allowSelection=true;if(e.selectedIndex!==-1){c(e._items[e.selectedIndex]).addClass(e.toThemeProperty("jqx-widget-content")).addClass(e.toThemeProperty("jqx-ribbon-item-selected"));e._positionSelectionToken(e.selectedIndex);c(e._contentSections[e.selectedIndex]).css("display","block");if(e.initContent){e.initContent(e.selectedIndex);e._items[e.selectedIndex]._isInitialized=true}}if(!e.disabled){e._addHandlers()}else{e.host.addClass(e.toThemeProperty("jqx-fill-state-disabled"))}c.jqx.utilities.resize(e.host,function(){e._updateSize()})},_updateSize:function(){var a=this;if(a._browser.version==="7.0"&&a._browser.browser==="msie"){if(a._orientation==="horizontal"){a._header.css("width",(a.host.width()-parseInt(a._header.css("padding-left"),10)-parseInt(a._header.css("padding-right"),10)-parseInt(a._header.css("border-left-width"),10)-parseInt(a._header.css("border-right-width"),10)));a._contentSections.width(a._content.width()-parseInt(a._contentSections.css("border-left-width"),10)-parseInt(a._contentSections.css("border-right-width"),10)-parseInt(a._contentSections.css("padding-left"),10)-parseInt(a._contentSections.css("padding-right"),10));if(a.mode==="default"&&typeof a.height==="string"&&a.height.indexOf("%")!==-1){a._contentSections.height(a._content.height()-a._header.height()-parseInt(a._contentSections.css("border-bottom-width"),10)-parseInt(a._contentSections.css("border-top-width"),10)-1)}}else{a._header.css("height",(a.host.height()-parseInt(a._header.css("padding-top"),10)-parseInt(a._header.css("padding-bottom"),10)-parseInt(a._header.css("border-top-width"),10)-parseInt(a._header.css("border-bottom-width"),10)));a._contentSections.height(a._content.height()-parseInt(a._contentSections.css("border-top-width"),10)-parseInt(a._contentSections.css("border-bottom-width"),10)-parseInt(a._contentSections.css("padding-top"),10)-parseInt(a._contentSections.css("padding-bottom"),10));if(a.mode==="default"&&typeof a.width==="string"&&a.height.indexOf("%")!==-1){var d=a.position==="left"?parseInt(a._contentSections.css("border-left-width"),10)+parseInt(a._contentSections.css("border-right-width"),10)+1:0;a._contentSections.width(a._content.width()-a._header.width()-d)}}}a._checkScrollButtons(true);a._updatePositions();if(a.mode==="popup"){a._positionPopup()}},_stopAnimation:function(){var a=this;if(!a._allowSelection){a.selectedIndex=a._animatingIndex;c(a._contentSections[a._animatingIndex]).finish();a._clearSelection(true,a._animatingIndex);a._allowSelection=true}},_selectAt:function(a,f){var l=this;if(f===undefined){f=l.selectedIndex}if(a!==f){l._stopAnimation();if(l._allowSelection){l._animatingIndex=a;l._clearSelection(true,f);l._allowSelection=false;l._selecting=a;if(l.selectionMode==="click"){c(l._items[a]).removeClass(l.toThemeProperty("jqx-fill-state-hover"));c(l._items[a]).removeClass(l.toThemeProperty("jqx-ribbon-item-hover"))}if(l.mode==="popup"&&l._roundedCorners){l._header.removeClass(l.toThemeProperty("jqx-rc-all"));switch(l.position){case"top":l._header.add(l._items).addClass(l.toThemeProperty("jqx-rc-t"));l._contentSections.addClass(l.toThemeProperty("jqx-rc-b"));break;case"bottom":l._header.add(l._items).addClass(l.toThemeProperty("jqx-rc-b"));l._contentSections.addClass(l.toThemeProperty("jqx-rc-t"));break;case"left":l._header.add(l._items).addClass(l.toThemeProperty("jqx-rc-l"));l._contentSections.addClass(l.toThemeProperty("jqx-rc-r"));break;case"right":l._header.add(l._items).addClass(l.toThemeProperty("jqx-rc-r"));l._contentSections.addClass(l.toThemeProperty("jqx-rc-l"));break}}c(l._items[a]).addClass(l.toThemeProperty("jqx-widget-content")).addClass(l.toThemeProperty("jqx-ribbon-item-selected"));l._selectionToken.css("display","block");l._updatePositions(a);switch(l.animationType){case"fade":c(l._contentSections[a]).fadeToggle(l.animationDelay,function(){l._animationComplete(a,f)});break;case"slide":var h=l.position;if(h==="top"){h="up"}else{if(h==="bottom"){h="down"}}l.slideAnimation=l._slide(c(l._contentSections[a]),{mode:"show",direction:h,duration:l.animationDelay},a,f);break;case"none":c(l._contentSections[a]).css("display","block");l._animationComplete(a,f);break}}else{}}},_clearSelection:function(a,f){var l=this;if(l.mode==="popup"){if(l._roundedCorners){l._header.addClass(l.toThemeProperty("jqx-rc-all"))}}l._selecting=-1;if(f===undefined){f=l.selectedIndex}c(l._items[f]).removeClass(l.toThemeProperty("jqx-widget-content")).removeClass(l.toThemeProperty("jqx-ribbon-item-selected"));l._selectionToken.css("display","none");if(a!==true&&l.animationType!=="none"){if(l.animationType==="fade"){c(l._contentSections[f]).fadeOut(l.animationDelay,function(){l._clearSelectionComplete(f)})}else{if(l.animationType==="slide"){var h=l.position;if(h==="top"){h="up"}else{if(h==="bottom"){h="down"}}l._stopAnimation();f=l.selectedIndex;l.slideAnimation=l._slide(c(l._contentSections[f]),{mode:"hide",direction:h,duration:l.animationDelay},f);l.selectedIndex=-1}}}else{c(l._contentSections[f]).css("display","none");l._clearSelectionComplete(f,a)}},_addHandlers:function(){var o=this,v=o.element.id;var l=function(d){if(o.popupCloseMode==="click"&&o.mode==="popup"){if(d.target.tagName==="svg"){return}var e=c(d.target).closest(".jqx-ribbon");if(e.length>0&&e.attr("id")!==v){o._clearSelection();return}if(d.target.className.indexOf("jqx-ribbon-content-popup")!==-1){o._clearSelection();return}if(c(d.target).ischildof(o.host)){return}var f=false;c.each(c(d.target).parents(),function(){if(this.className!==undefined){if(this.className.indexOf){if(this.className.indexOf("jqx-ribbon")!==-1){f=true;return false}if(this.className.indexOf("jqx-ribbon")!==-1){if(v===this.id){f=true}return false}}}});if(!f){o._clearSelection()}}};if(o.selectionMode==="click"){o.addHandler(o._items,"click.ribbon"+v,function(e){var d=c(e.target).closest("li")[0],f=d._index;if(!o._items[f]._disabled){if(f!==o.selectedIndex){o._selectAt(f)}else{if(o.mode==="popup"){if(o.popupCloseMode!=="none"){c(d).addClass(o.toThemeProperty("jqx-fill-state-hover"));c(d).addClass(o.toThemeProperty("jqx-ribbon-item-hover"));o._clearSelection()}}}}});var t=function(d){return((o._selecting!==d&&o._allowSelection===false)||((o._selecting===-1||o.selectedIndex!==d)&&o._allowSelection===true))&&!o._items[d]._disabled};o.addHandler(o._items,"mouseenter.ribbon"+v,function(e){var d=c(e.target).closest("li")[0];if(t(d._index)){c(d).addClass(o.toThemeProperty("jqx-fill-state-hover"));c(d).addClass(o.toThemeProperty("jqx-ribbon-item-hover"))}});o.addHandler(o._items,"mouseleave.ribbon"+v,function(e){var d=c(e.target).closest("li")[0];if(t(d._index)){c(d).removeClass(o.toThemeProperty("jqx-fill-state-hover"));c(d).removeClass(o.toThemeProperty("jqx-ribbon-item-hover"))}});if(o.mode==="popup"){o.addHandler(o.host,"mouseleave.ribbon"+v,function(){if(o.popupCloseMode==="mouseLeave"&&o.mode==="popup"){o._clearSelection()}});o.addHandler(o._contentSections,"mouseleave.ribbon"+v,function(){if(o.popupCloseMode==="mouseLeave"&&o.mode==="popup"){o._clearSelection()}});o.addHandler(c(document),"mousedown.ribbon"+v,function(d){l(d)})}var a=false,s;if(o._removeByDrag===true){o._items.addClass(o.toThemeProperty("jqx-ribbon-item-docking-layout"))}o.addHandler(o._items,"mousedown.ribbon"+v,function(e){var d=c(e.target).closest("li")[0];if((o.reorder===true||o._removeByDrag===true)&&d._index===o.selectedIndex){a=true;s=d._index;d.style.cursor="move"}});o.addHandler(o.host,"mouseup.ribbon"+v,function(){a=false;o._items.css("cursor","")});o.addHandler(o._items,"mouseenter.ribbon"+v,function(h){if(o.reorder===true&&a===true){var e=c(h.target).closest("li")[0]._index,d=c(o._items[s]).html(),f=c(o._contentSections[s]).contents().detach();o._supressSelectionEvents=true;o._oldReorderIndex=s;o.removeAt(s);o.clearSelection();o.addAt(e,{title:d,content:f});o.selectAt(e);setTimeout(function(){c(o._items[e]).mousedown()},0)}});o.addHandler(o._header,"mouseleave.ribbon"+v,function(d){if(o._removeByDrag===true&&a===true){o._raiseEvent("3",{draggedIndex:s,x:d.pageX,y:d.pageY});if(o._items.length>1){o.removeAt(s)}a=false;d.target.style.cursor=""}})}else{if(o.selectionMode==="hover"){o.addHandler(o._items,"mouseenter.ribbon"+v,function(d){var e=c(d.target).closest("li")[0]._index;if(!o._items[e]._disabled&&e!==o.selectedIndex){o._selectAt(e)}});if(o.mode==="popup"){o.addHandler(o.host,"mouseleave.ribbon"+v,function(){if(o.popupCloseMode==="mouseLeave"&&o.mode==="popup"){o._clearSelection()}});o.addHandler(o._contentSections,"mouseleave.ribbon"+v,function(){if(o.popupCloseMode==="mouseLeave"&&o.mode==="popup"){o._clearSelection()}});o.addHandler(c(document),"mousedown.ribbon"+v,function(d){l(d)});o.addHandler(o._items,"click.ribbon"+v,function(d){var e=c(d.target).closest("li")[0]._index;if(!o._items[e]._disabled){if(o.mode==="popup"){if(o.popupCloseMode!=="none"){o._clearSelection()}}}})}}}var n=(o.rtl&&o._browser.browser==="msie")?-1:1;var u=c(o._scrollButtons[0]);o.addHandler(u,"mousedown.ribbon"+v,function(){if(o._orientation==="horizontal"){o._timeoutNear=setInterval(function(){var d=o._header.scrollLeft();o._header.scrollLeft(d-o.scrollStep*n);o._updatePositions()},o.scrollDelay)}else{o._timeoutNear=setInterval(function(){var d=o._header.scrollTop();o._header.scrollTop(d-o.scrollStep);o._updatePositions()},o.scrollDelay)}return false});o.addHandler(u,"mouseup.ribbon"+v,function(){clearInterval(o._timeoutNear)});var q=c(o._scrollButtons[1]);o.addHandler(q,"mousedown.ribbon"+v,function(){if(o._orientation==="horizontal"){o._timeoutFar=setInterval(function(){var d=o._header.scrollLeft();o._header.scrollLeft(d+o.scrollStep*n);o._updatePositions()},o.scrollDelay)}else{o._timeoutFar=setInterval(function(){var d=o._header.scrollTop();o._header.scrollTop(d+o.scrollStep);o._updatePositions()},o.scrollDelay)}return false});o.addHandler(q,"mouseup.ribbon"+v,function(){clearInterval(o._timeoutFar)})},_removeHandlers:function(l,n){var q=this,h=q.element.id;if(!l){l=q.selectionMode}if(!n){n=q.mode}q.removeHandler(q._items,"mouseenter.ribbon"+h);if(l==="click"){q.removeHandler(q._items,"click.ribbon"+h);q.removeHandler(q._items,"mouseleave.ribbon"+h);q.removeHandler(q._items,"mousedown.ribbon"+h);q.removeHandler(q.host,"mouseup.ribbon"+h);q.removeHandler(q._header,"mouseleave.ribbon"+h)}else{if(l==="hover"){if(n==="popup"){q.removeHandler(q.host,"mouseleave.ribbon"+h)}}}var a=c(q._scrollButtons[0]);q.removeHandler(a,"mousedown.ribbon"+h);q.removeHandler(a,"mouseup.ribbon"+h);var o=c(q._scrollButtons[1]);q.removeHandler(o,"mousedown.ribbon"+h);q.removeHandler(o,"mouseup.ribbon"+h)},_checkStructure:function(o){var n=this;var h=o.length;if(h!==2){throw new Error("jqxRibbon: Invalid HTML structure. You need to add a ul and a div to the widget container.")}var a=n._header.children().length;var l=n._content.children().length;if(a!==l){throw new Error("jqxRibbon: Invalid HTML structure. For each list item you must have a corresponding div element.")}},_addClasses:function(){var h=this;h._contentSections.removeClass();h._content.removeClass();h._header.removeClass(h.toThemeProperty("jqx-rc-all jqx-widget-header jqx-disableselect jqx-rc-t jqx-rc-b jqx-rc-l jqx-rc-r jqx-rc-all jqx-ribbon-header-"+h._orientation+"-popup jqx-ribbon-header-bottom jqx-ribbon-header-auto jqx-ribbon-header-right jqx-ribbon-header-rtl"));h._items.removeClass(h.toThemeProperty("jqx-fill-state-disabled jqx-ribbon-item-rtl jqx-widget-content jqx-ribbon-item-selected jqx-rc-t jqx-rc-b jqx-rc-l jqx-rc-r jqx-ribbon-item-docking-layout jqx-ribbon-item jqx-ribbon-item-"+h.position));h.host.removeClass();h.host.addClass(h.toThemeProperty("jqx-widget")+" "+h.toThemeProperty("jqx-ribbon"));h._header.addClass(h.toThemeProperty("jqx-widget-header")+" "+h.toThemeProperty("jqx-disableselect")+" "+h.toThemeProperty("jqx-ribbon-header")+" "+h.toThemeProperty("jqx-ribbon-header-"+h._orientation));h._items.addClass(h.toThemeProperty("jqx-ribbon-item")+" "+h.toThemeProperty("jqx-ribbon-item-"+h.position));h._content.addClass(h.toThemeProperty("jqx-widget-content")+" "+h.toThemeProperty("jqx-ribbon-content")+" "+h.toThemeProperty("jqx-ribbon-content-"+h._orientation));h._contentSections.addClass(h.toThemeProperty("jqx-widget-content")+" "+h.toThemeProperty("jqx-ribbon-content-section")+" "+h.toThemeProperty("jqx-ribbon-content-section-"+h.position));if(h._roundedCorners){switch(h.position){case"top":h._header.add(h._items).addClass(h.toThemeProperty("jqx-rc-t"));h._contentSections.addClass(h.toThemeProperty("jqx-rc-b"));break;case"bottom":h._header.add(h._items).addClass(h.toThemeProperty("jqx-rc-b"));h._contentSections.addClass(h.toThemeProperty("jqx-rc-t"));break;case"left":h._header.add(h._items).addClass(h.toThemeProperty("jqx-rc-l"));h._contentSections.addClass(h.toThemeProperty("jqx-rc-r"));break;case"right":h._header.add(h._items).addClass(h.toThemeProperty("jqx-rc-r"));h._contentSections.addClass(h.toThemeProperty("jqx-rc-l"));break}}else{switch(h.position){case"top":h._items.addClass(h.toThemeProperty("jqx-rc-t"));break;case"bottom":h._items.addClass(h.toThemeProperty("jqx-rc-b"));break;case"left":h._items.addClass(h.toThemeProperty("jqx-rc-l"));break;case"right":h._items.addClass(h.toThemeProperty("jqx-rc-r"));break}}var l,a;if(h.mode==="popup"){if(h.selectedIndex===-1){if(h._roundedCorners){h.host.addClass(h.toThemeProperty("jqx-rc-all"));h._header.addClass(h.toThemeProperty("jqx-rc-all"))}}h.host.addClass(h.toThemeProperty("jqx-ribbon-popup"));h._header.addClass(h.toThemeProperty("jqx-ribbon-header-"+h._orientation+"-popup"));h._content.addClass(h.toThemeProperty("jqx-ribbon-content-popup"));h._contentSections.addClass(h.toThemeProperty("jqx-ribbon-content-section-popup"));h._contentSections.addClass(h.toThemeProperty("jqx-ribbon-content-popup-"+h.position));if(h._orientation==="horizontal"){h._contentSections.addClass(h.toThemeProperty("jqx-ribbon-content-section-horizontal-popup"))}else{h._contentSections.addClass(h.toThemeProperty("jqx-ribbon-content-section-vertical-popup"))}h._positionPopup()}else{if(h._orientation==="horizontal"){if(h.height!=="auto"){a=h._header.outerHeight();if(h.position==="top"){h._content.css("padding-top",a)}else{h._header.addClass(h.toThemeProperty("jqx-ribbon-header-bottom"));h._content.css("padding-bottom",a)}}else{h._header.addClass(h.toThemeProperty("jqx-ribbon-header-auto"))}}else{if(h._orientation==="vertical"){if(h.width!=="auto"){l=h._header.outerWidth();if(h.position==="left"){h._content.css("padding-left",l)}else{h._header.addClass(h.toThemeProperty("jqx-ribbon-header-right"));h._content.css("padding-right",l)}}else{h.host.addClass(h.toThemeProperty("jqx-ribbon-auto"));h._header.addClass(h.toThemeProperty("jqx-ribbon-header-auto"));h._content.addClass(h.toThemeProperty("jqx-ribbon-content-auto-width"))}}}}if(h._browser.version==="7.0"&&h._browser.browser==="msie"){if(h._orientation==="horizontal"){h._header.css("width",(h.host.width()-parseInt(h._header.css("padding-left"),10)-parseInt(h._header.css("padding-right"),10)-parseInt(h._header.css("border-left-width"),10)-parseInt(h._header.css("border-right-width"),10)));h._items.height(h._items.height()-parseInt(h._items.css("padding-top"),10)-parseInt(h._items.css("padding-bottom"),10)-parseInt(h._items.css("border-top-width"),10)-parseInt(h._items.css("border-bottom-width"),10));h._contentSections.width(h._contentSections.width()-parseInt(h._contentSections.css("border-left-width"),10)-parseInt(h._contentSections.css("border-right-width"),10)-parseInt(h._contentSections.css("padding-left"),10)-parseInt(h._contentSections.css("padding-right"),10));if(h.mode==="default"){if(h.height!=="auto"){if(h.position==="top"){h._contentSections.css("padding-top",a)}else{h._contentSections.css("padding-bottom",a)}h._content.css("height",h.host.height()+2);h._contentSections.css("height",h._content.height()-parseInt(h._contentSections.css("border-bottom-width"),10)-parseInt(h._contentSections.css("border-top-width"),10)-1)}}else{}}else{var f;if(h.position==="left"){h._content.addClass(h.toThemeProperty("jqx-ribbon-content-left"));f=parseInt(h._contentSections.css("border-left-width"),10)+parseInt(h._contentSections.css("border-right-width"),10)+1}else{h._content.addClass(h.toThemeProperty("jqx-ribbon-content-right"));f=0}h._header.css("height",(h.host.height()-parseInt(h._header.css("padding-top"),10)-parseInt(h._header.css("padding-bottom"),10)-parseInt(h._header.css("border-top-width"),10)-parseInt(h._header.css("border-bottom-width"),10)));h._items.width(h._items.width()-parseInt(h._items.css("padding-left"),10)-parseInt(h._items.css("padding-right"),10)-parseInt(h._items.css("border-left-width"),10)-parseInt(h._items.css("border-right-width"),10));h._contentSections.height(h._contentSections.height()-parseInt(h._contentSections.css("border-top-width"),10)-parseInt(h._contentSections.css("border-bottom-width"),10)-parseInt(h._contentSections.css("padding-top"),10)-parseInt(h._contentSections.css("padding-bottom"),10));if(h.mode==="default"){if(h.width!=="auto"){if(h.position==="left"){h._contentSections.css("padding-left",l)}else{h._contentSections.css("padding-right",l)}h._contentSections.width(h._content.width()-h._header.width()-f)}}else{}}}if(h.rtl===true){h._header.addClass(h.toThemeProperty("jqx-ribbon-header-rtl"));h._items.addClass(h.toThemeProperty("jqx-ribbon-item-rtl"))}},_positionPopup:function(){var l=this;var o=(l._browser.version==="7.0"&&l._browser.browser==="msie");switch(l.position){case"top":l._content.css("top",l._header.outerHeight());break;case"bottom":if(!o){l._content.css("bottom",l._header.outerHeight())}else{l._content.css("bottom",l._header.height())}break;case"left":l._content.css("left",l._header.outerWidth());break;case"right":l._content.css("right",l._header.outerWidth());if(o){var a=l._content.children();for(var n=0;n<a.length;n++){var h=c(a[n]);h.css("right",h.outerWidth())}}break}},_appendScrollButtons:function(){var n=this;var l='<div class="'+n.toThemeProperty("jqx-ribbon-scrollbutton")+" "+n.toThemeProperty("jqx-ribbon-scrollbutton-"+n.position)+" "+n.toThemeProperty("jqx-ribbon-scrollbutton-"+n.scrollPosition)+" "+n.toThemeProperty("jqx-widget-header")+'"><div class="'+n.toThemeProperty("jqx-ribbon-scrollbutton-inner")+'"></div></div>';var a=c(l);var h=c(l);var o=(n._orientation==="horizontal")?["left","right"]:["up","down"];a.find(".jqx-ribbon-scrollbutton-inner").addClass(n.toThemeProperty("jqx-icon-arrow-"+o[0]));h.find(".jqx-ribbon-scrollbutton-inner").addClass(n.toThemeProperty("jqx-icon-arrow-"+o[1]));a.addClass(n.toThemeProperty("jqx-ribbon-scrollbutton-lt"));h.addClass(n.toThemeProperty("jqx-ribbon-scrollbutton-rb"));n._scrollButtons=a.add(h);n.host.append(n._scrollButtons);if(n._orientation==="horizontal"){n._scrollButtons.height(n._header.height())}else{n._scrollButtons.width(n._header.width())}n._scrollButtonRc(a,h);if(!n.roundedCorners){return}switch(n.position){case"top":case"bottom":a.css("margin-left","-1px");h.css("margin-right","-1px");break;case"right":case"left":a.css("margin-top","-1px");h.css("margin-bottom","-1px");break}},_scrollButtonRc:function(a,e){var f=this;if(!f.roundedCorners){return}switch(f.position){case"top":if(f.scrollPosition!=="far"){a.addClass(f.toThemeProperty("jqx-rc-tl"))}if(f.scrollPosition!=="near"){e.addClass(f.toThemeProperty("jqx-rc-tr"))}break;case"bottom":if(f.scrollPosition!=="far"){a.addClass(f.toThemeProperty("jqx-rc-bl"))}if(f.scrollPosition!=="near"){e.addClass(f.toThemeProperty("jqx-rc-br"))}break;case"left":if(f.scrollPosition!=="far"){a.addClass(f.toThemeProperty("jqx-rc-tl"))}if(f.scrollPosition!=="near"){e.addClass(f.toThemeProperty("jqx-rc-bl"))}break;case"right":if(f.scrollPosition!=="far"){a.addClass(f.toThemeProperty("jqx-rc-tr"))}if(f.scrollPosition!=="near"){e.addClass(f.toThemeProperty("jqx-rc-br"))}break}},_updateItems:function(){var d=this;d._items=d._header.children();d._items.attr("unselectable","on");d._contentSections=d._content.children();for(var a=0;a<d._items.length;a++){if(d._items[a]._index===undefined){d._items[a]._disabled=false;d._items[a]._isInitialized=false;d._contentSections[a]._layout="default"}if(d._items[a]._index===d.selectedIndex){d.selectedIndex=a}d._items[a]._index=a;d._contentSections[a]._index=a}},_positionContent:function(u){var t=this;var z,n,a,s,A,o;if(t._orientation==="horizontal"){z=t.host.outerWidth();n=t.host.offset().left;a=c(t._items[u]).outerWidth();s=c(t._items[u]).offset().left;A=c(t._contentSections[u]).outerWidth();o="left"}else{z=t.host.outerHeight();n=t.host.offset().top;a=c(t._items[u]).outerHeight();s=c(t._items[u]).offset().top;A=c(t._contentSections[u]).outerHeight();o="top"}var v=c(t._contentSections[u]);var w=function(d){if(d<0){d=0}else{if(d+A>z){d=z-A}}v.css(o,d)};var q;switch(v[0]._layout){case"near":q=s-n;w(q);break;case"far":q=s-n-(A-a);w(q);break;case"center":q=s-n-(A-a)/2;w(q);break;default:v.css(o,"")}},_checkScrollButtons:function(s){var o=this;var n=0;c.each(o._items,function(){var d=c(this);if(d.css("display")!=="none"){n+=(o._orientation==="horizontal")?d.outerWidth(true):d.outerHeight(true)}});var l=o._orientation==="horizontal"?["margin-left","margin-right"]:["margin-top","margin-bottom"];var a=(o._orientation==="horizontal")?o._header.width():o._header.height();if(!o._itemMargins){o._itemMargins=[];o._itemMargins.push(c(o._items[0]).css(l[0]));o._itemMargins.push(c(o._items[o._items.length-1]).css(l[1]))}if(n>a){o._scrollButtons.css("display","block");var q=o.rtl?o._itemMargins[0]:17;var t=o.rtl?o._itemMargins[0]:17;switch(o.scrollPosition){case"near":t=0;q=34;break;case"far":t=34;q=17;break}c(o._items[0]).css(l[0],q);c(o._items[o._items.length-1]).css(l[1],t)}else{c(o._items[0]).css(l[0],o._itemMargins[0]);c(o._items[o._items.length-1]).css(l[1],o._itemMargins[1]);o._scrollButtons.css("display","none")}if(s===true){if(o._orientation==="horizontal"){o._scrollButtons.height(o._header.height())}else{o._scrollButtons.width(o._header.width())}}},_positionSelectionToken:function(t){var s=this;if(t!==-1){var w=c(s._items[t]);var q,B,z,o,u;if(s._orientation==="horizontal"){var v,a;if(s.rtl===true){if(s._browserWidthRtlFlag===1){v=s._header[0].scrollWidth-s._header[0].clientWidth}else{v=0}a=s._browserScrollRtlFlag}else{v=0;a=1}z=w[0].offsetLeft+v-s._header[0].scrollLeft*a-s._selectionTokenOffsetX+2;u=s._header.outerHeight()-1;var A=w.width()+parseInt(w.css("padding-left"),10)+parseInt(w.css("padding-right"),10);if(s.position==="top"){q=u-s._selectionTokenOffsetY;B=""}else{q="";B=u-s._selectionTokenOffsetY}s._selectionToken.css({top:q,bottom:B,left:z,width:A})}else{q=w[0].offsetTop-s._header[0].scrollTop-s._selectionTokenOffsetX+2;u=s._header.outerWidth()-1;var n=w.height()+parseInt(w.css("padding-top"),10)+parseInt(w.css("padding-bottom"),10);if(s.position==="left"){z=u-s._selectionTokenOffsetY;o=""}else{z="";o=u-s._selectionTokenOffsetY}s._selectionToken.css({top:q,left:z,right:o,height:n})}}},_updatePositions:function(a){var f=this;if(isNaN(a)){a=f.selectedIndex}if(a!==-1){f._positionSelectionToken(a);if(f.mode==="popup"&&f._contentSections[a]._layout!=="default"){f._positionContent(a)}if(f.mode==="popup"&&(f.position==="left"||f.position==="right")){f._content.width("auto");var e=f._contentSections[a].style.width&&f._contentSections[a].style.width.toString().indexOf("%")>=0;if(e){f._content[0].style.width=f._contentSections[a].style.width;f._content.width(c(f._contentSections[a]).width()-f._header.width())}else{f._content.width(c(f._contentSections[a]).width())}}}},_animationComplete:function(l,f){var h=this,a=f!==-1?f:null;h._content.css("pointer-events","auto");if(h._supressSelectionEvents!==true){h._raiseEvent("0",{selectedIndex:l});h._raiseEvent("2",{unselectedIndex:a,selectedIndex:l})}else{if(l!==h._oldReorderIndex){h._raiseEvent("4",{newIndex:l,oldIndex:h._oldReorderIndex})}h._supressSelectionEvents=false}h.selectedIndex=l;if(h.initContent&&h._items[l]._isInitialized===false){h.initContent(l);h._items[l]._isInitialized=true}h._allowSelection=true;h._selecting=null},_clearSelectionComplete:function(e,a){var f=this;f._selecting=null;if(e===undefined){e=f.selectedIndex}if(e!==-1){f._content.css("pointer-events","none");if(f._supressSelectionEvents!==true){f._raiseEvent("1",{unselectedIndex:e})}}if(a!==true){f.selectedIndex=-1}},_slide:function(E,F,w,K){var o=this;if(!o.activeAnimations){o.activeAnimations=[]}if(o.activeAnimations.length>0){for(var A=0;A<o.activeAnimations.length;A++){o.activeAnimations[A].clearQueue();o.activeAnimations[A].finish()}}else{E.clearQueue();E.finish()}var C="ui-effects-";var G={save:function(e,d){for(var f=0;f<d.length;f++){if(d[f]!==null&&e.length>0){e.data(C+d[f],e[0].style[d[f]])}}},restore:function(f,d){var e,h;for(h=0;h<d.length;h++){if(d[h]!==null){e=f.data(C+d[h]);if(e===undefined){e=""}f.css(d[h],e)}}},createWrapper:function(n){if(n.parent().is(".ui-effects-wrapper")){return n.parent()}var h={width:n.outerWidth(true),height:n.outerHeight(true),"float":n.css("float")},d=c("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),l={width:n.width(),height:n.height()},e=document.activeElement;try{e.id}catch(f){e=document.body}n.wrap(d);if(n[0]===e||c.contains(n[0],e)){c(e).focus()}d=n.parent();if(n.css("position")==="static"){d.css({position:"relative"});n.css({position:"relative"})}else{c.extend(h,{position:n.css("position"),zIndex:n.css("z-index")});c.each(["top","left","bottom","right"],function(s,q){h[q]=n.css(q);if(isNaN(parseInt(h[q],10))){h[q]="auto"}});n.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})}n.css(l);return d.css(h).show()},removeWrapper:function(d){var e=document.activeElement;if(d.parent().is(".ui-effects-wrapper")){d.parent().replaceWith(d);if(d[0]===e||c.contains(d[0],e)){c(e).focus()}}return d}};var u=["position","top","bottom","left","right","width","height"],z=F.mode,J=z==="show",a=F.direction||"left",D=(a==="up"||a==="down")?"top":"left",H=(a==="up"||a==="left"),I,B={};G.save(E,u);E.show();I=F.distance||E[D==="top"?"outerHeight":"outerWidth"](true);G.createWrapper(E).css({overflow:"hidden"});if(J){E.css(D,H?(isNaN(I)?"-"+I:-I):I)}B[D]=(J?(H?"+=":"-="):(H?"-=":"+="))+I;var v=function(){E.clearQueue();E.stop(true,true)};o.activeAnimations.push(E);E.animate(B,{duration:F.duration,easing:F.easing,complete:function(){o.activeAnimations.pop(E);if(z==="show"){o._animationComplete(w,K)}else{if(z==="hide"){E.hide();o._clearSelectionComplete(w)}}G.restore(E,u);G.removeWrapper(E)}});return v}})})(jqxBaseFramework);(function(c){c.jqx.jqxWidget("jqxNavBar","",{});c.extend(c.jqx._jqxNavBar.prototype,{defineInstance:function(){var a={height:"auto",minimizedHeight:30,popupAnimationDelay:250,minimizeButtonPosition:"left",width:"100%",selectedItem:0,selection:true,disabled:false,rtl:false,minimized:false,columns:null,minimizedTitle:"",orientation:"horizontal",events:["change"]};c.extend(true,this,a)},createInstance:function(a){this.render()},render:function(){var a=this;if(a.ul&&a.ul.parent()[0]!==a.element){a.ul.detach();a.host.children().remove();a.host.append(a.ul);if(a.popup){a.popup.remove()}a.host.height(null);a.host.removeClass(a.toThemeProperty("jqx-widget-header"));a.host.removeClass(a.toThemeProperty("jqx-navbar-minimized"))}a.ul=a.host.children();a._items=a.ul.children();c.each(a._items,function(){c(this).removeClass()});if(this.width!==null&&(this.width.toString().indexOf("%")>=0||this.width.toString().indexOf("px")>=0)){this.element.style.width=this.width}else{this.element.style.width=this.width+"px"}a._layoutItems();a._addClasses();a._addHandlers();a._handleMinimize();c.jqx.utilities.resize(this.host,function(){a._resizePopup()})},_layoutItems:function(){var C=this;var K=1;var L=0;var w=this.height===null||this.height==="auto";if(C.orientation==="horizontal"){if(C._items.length>5){var I=50+"%";C._items.css("width",I);var u=C.height;K=Math.ceil(C._items.length/2);if(!w){var v;var D=false;if(u.toString().indexOf("%")>=0){v=parseInt(u)/K;v+="%";D=true}else{v=parseInt(u)/K}L=2;if(D){C._items.css("height",v);C._items.css("line-height",C._items.height()+"px")}else{C._items.height(v);C._items.css("line-height",v+"px")}}}else{var I=C.host.width/2;var E=C._items.length;var I=100/E+"%";C._items.css("width",I);if(!w){if(C.height.toString().indexOf("%")>=0){C._items.css("height",v);C._items.css("line-height",C.height)}else{C._items.height(C.height);C._items.css("line-height",parseInt(C.height)+"px")}}L=E}if(C.columns){var u=C.height;var B=0;for(var G=0;G<C._items.length;G++){var a=C._items[G];c(a).css("width",C.columns[B]);B++;if(B>=C.columns.length){B=0;if(C.columns.length!==C._items.length){K++}}}var D=false;var v;if(u.toString().indexOf("%")>=0){v=parseInt(u)/K;v+="%";D=true}else{v=parseInt(u)/K}if(!w){if(D){C._items.css("height",v);C._items.css("line-height",C._items.height()+"px")}else{C._items.height(v);C._items.css("line-height",v+"px")}}L=C.columns.length}}else{var u=C.height;var B=0;for(var G=0;G<C._items.length;G++){var a=C._items[G];c(a).css("width","100%")}K=C._items.length;if(!w){var D=false;var v;if(u.toString().indexOf("%")>=0){v=parseInt(u)/K;v+="%";D=true}else{v=parseInt(u)/K}if(D){C._items.css("height",v);C._items.css("line-height",C._items.height()+"px")}else{C._items.height(v);C._items.css("line-height",v+"px")}}L=1}if(C.selection){var J=0;var F=C._items.length/L;var z=false;if(F<K){z=true}for(var G=0;G<K;G++){for(var H=0;H<L;H++){if(H<L-1){var A=C.rtl?"left":"right";c(C._items[J]).css("border-"+A+"-width","1px");c(C._items[J]).css("border-"+A+"-style","solid")}if(K>1&&G>0){c(C._items[J]).css("border-top-width","1px");c(C._items[J]).css("border-top-style","solid")}if(z&&G===K-2&&H===L-1){c(C._items[J]).css("border-bottom-width","1px");c(C._items[J]).css("border-bottom-style","solid")}J++}}}if(c.jqx.browser.msie&&c.jqx.browser.version<8){C._items.css("padding-left","0px");C._items.css("padding-right","0px");c.each(C._items,function(){c(this).css("border-left-width","0px");c(this).css("border-right-width","0px");c(this).css("position","relative");c(this).css("margin-left","-1px")});C.host.css("border","none")}},_handlePopupHeight:function(){var a=this;if(!a.minimized){return}var e;var f=false;if(a.height.toString().indexOf("%")>=0){a.host.css("height",a.height);e=a.host.height()-a.minimizedHeight-1;f=true}if(f){a.popup.height(e);a.ul.height(e);a.host.height(a.minimizedHeight);a._layoutItems()}},_handleMinimize:function(){var n=this;if(n.minimized){var h=n.host;h.height(n.minimizedHeight);h.css("box-sizing","border-box");h.addClass(n.toThemeProperty("jqx-widget-header"));h.addClass(n.toThemeProperty("jqx-navbar-minimized"));var o=c('<div style="cursor: pointer; height: 100%; margin:0px; margin-left: 5px; margin-right:5px;"></div>');h.append(o);o.css("float",n.minimizeButtonPosition);var l=c('<div style="height: 100%; margin:0px; margin-left: 5px; margin-right:5px;"></div>');l.append(n.minimizedTitle);l.css("float",n.minimizeButtonPosition==="left"?"right":"left");if(n.minimizedHeight!=="auto"){if(n.minimizedHeight.toString().indexOf("%")>=0){l.css("line-height",n.minimizedHeight)}else{l.css("line-height",parseInt(n.minimizedHeight)+"px")}}h.append(l);o.addClass(n.toThemeProperty("jqx-menu-minimized-button"));h.removeClass(n.toThemeProperty("jqx-widget-content"));n.ul.detach();var a=c("<div style='box-sizing: border-box; z-index: 999999; display: none; position: absolute;'></div>");a.addClass(n.toThemeProperty("jqx-widget jqx-widget-content jqx-popup jqx-navbar jqx-navbar-popup"));a.append(n.ul);n.popup=a;c(document.body).append(a);n.opened=false;o.click(function(){if(!n.opened){n.open()}else{n.close()}});n.button=o}},close:function(){var a=this;a.popup.fadeOut(a.popupAnimationDelay);a.opened=false},open:function(){var a=this;a.popup.fadeIn(a.popupAnimationDelay);a.popup.css("top",parseInt(a.host.coord().top)+a.host.outerHeight()-1);a.popup.width(a.host.width());var d=a.host.coord().left;a.popup.css("left",d);if(d.toString().indexOf(".5")>=0){a.popup.width(a.host.width()-0.5)}a._handlePopupHeight();a.opened=true},_resizePopup:function(){var a=this;if(a.minimized&&a.popup){a.popup.width(a.host.width());var d=a.host.coord().left;a.popup.css("left",d);if(d.toString().indexOf(".5")>=0){a.popup.width(a.host.width()-0.5)}a.popup.css("top",parseInt(a.host.coord().top)+a.host.outerHeight()-1);a._handlePopupHeight()}},selectAt:function(f){var e=this;if(!e.selection){return}c(e._items[e.selectedItem]).removeClass(e.toThemeProperty("jqx-fill-state-pressed"));c(e._items[f]).addClass(e.toThemeProperty("jqx-fill-state-pressed"));var a=e.selectedItem;e.selectedItem=f;e._raiseEvent("0",{selectedItem:f,oldSelectedItem:a})},getSelectedIndex:function(){return this.selectedItem},destroy:function(){var a=this;a._removeHandlers();a.host.remove()},propertyChangedHandler:function(a,l,f,h){a.render()},_raiseEvent:function(l,q){var n=this;var t=n.events[l];var o=new c.Event(t);o.owner=n;o.args=q;try{var a=n.host.trigger(o)}catch(s){}return a},_removeHandlers:function(){var a=this;a.removeHandler(a._items,"click.navbar"+a.element.id);a.removeHandler(a._items,"mouseenter.navbar"+a.element.id);a.removeHandler(a._items,"mouseleave.navbar"+a.element.id)},_addClasses:function(){var a=this;a.host.addClass(a.toThemeProperty("jqx-navbar"));if(a.disabled){a.host.addClass(a.toThemeProperty("jqx-fill-state-disabled"))}a._items.addClass(a.toThemeProperty("jqx-navbar-block"));if(a.selection){a.host.addClass(a.toThemeProperty("jqx-widget"));a.host.addClass(a.toThemeProperty("jqx-widget-content"));a.host.addClass(a.toThemeProperty("jqx-fill-state-normal"));a._items.addClass(a.toThemeProperty("jqx-fill-state-normal"));a._items.addClass(a.toThemeProperty("jqx-button"));if(a.selectedItem!==-1){c(a._items[a.selectedItem]).addClass(a.toThemeProperty("jqx-fill-state-pressed"))}}else{this.host.css("border","none")}if(a.rtl){a._items.addClass(a.toThemeProperty("jqx-navbar-block-rtl"))}},_addHandlers:function(){var a=this;a.addHandler(a._items,"click.navbar"+a.element.id,function(e){if(!a.disabled&&a.selection){var f=c(a._items).index(this);a.selectAt(f)}});a.addHandler(a._items,"mouseenter.navbar"+a.element.id,function(d){if(!a.disabled&&a.selection){c(d.target).addClass(a.toThemeProperty("jqx-fill-state-hover"))}});a.addHandler(a._items,"mouseleave.navbar"+a.element.id,function(d){if(!a.disabled&&a.selection){c(d.target).removeClass(a.toThemeProperty("jqx-fill-state-hover"))}})}})})(jqxBaseFramework);(function(c){c.jqx.jqxWidget("jqxFileUpload","",{});c.extend(c.jqx._jqxFileUpload.prototype,{defineInstance:function(){var a={width:null,height:"auto",uploadUrl:"",fileInputName:"",autoUpload:false,multipleFilesUpload:true,accept:null,browseTemplate:"",uploadTemplate:"",cancelTemplate:"",localization:null,renderFiles:null,disabled:false,rtl:false,events:["select","remove","uploadStart","uploadEnd"]};c.extend(true,this,a)},createInstance:function(){var a=this;if(a.host.jqxButton===undefined){throw new Error("jqxFileUpload: Missing reference to jqxbuttons.js")}if(c.jqx.browser.msie){if(c.jqx.browser.version<11){a._ieOldWebkit=true;if(c.jqx.browser.version<8){a._ie7=true}}}else{if(c.jqx.browser.webkit){a._ieOldWebkit=true}}a._fluidWidth=typeof a.width==="string"&&a.width.charAt(a.width.length-1)==="%";a._fluidHeight=typeof a.height==="string"&&a.height.charAt(a.height.length-1)==="%";a._render(true)},_render:function(a){var d=this;d._setSize();d._addClasses();if(a===true){d._appendElements()}else{d._removeHandlers()}d._addHandlers();if(d._ie7){d._borderAndPadding("width",d.host);if(d.height!=="auto"){d._borderAndPadding("height",d.host)}}c.jqx.utilities.resize(d.host,null,true);c.jqx.utilities.resize(d.host,function(){if(d._fluidWidth){if(d._ie7){d.host.css("width",d.width);d._borderAndPadding("width",d.host)}for(var o=0;o<d._fileRows.length;o++){var s=d._fileRows[o];var l=s.fileRow;if(d._ie7){l.css("width","100%");d._borderAndPadding("width",l)}if(!d.renderFiles){d._setMaxWidth(s)}}if(d.rtl&&d._ieOldWebkit){for(var q=0;q<d._forms.length;q++){var n=d._browseButton.position();d._forms[q].form.css({left:n.left,top:n.top})}}}if(d._ie7&&d._fluidHeight){d.host.css("height",d.height);d._borderAndPadding("height",d.host)}})},render:function(){this._render(false)},refresh:function(a){if(a!==true){this._render(false)}},destroy:function(){var a=this;a.cancelAll();a._removeHandlers(true);a.host.remove()},browse:function(){if(c.jqx.browser.msie&&c.jqx.browser.version<10){return}var a=this;if(a.multipleFilesUpload===true||(a.multipleFilesUpload===false&&a._fileRows.length===0)){a._forms[a._forms.length-1].fileInput.click()}},_uploadFile:function(a){var d=this;if(d._uploadQueue.length===0){d._uploadQueue.push(a)}if(!d.renderFiles){a.uploadFile.add(a.cancelFile).hide();a.loadingElement.show()}a.fileInput.attr("name",d.fileInputName);d._raiseEvent("2",{file:a.fileName});a.form[0].submit();d._fileObjectToRemove=a},uploadFile:function(a){var d=this;d._uploadFile(d._fileRows[a])},uploadAll:function(){var d=this;if(d._fileRows.length>0){for(var a=d._fileRows.length-1;a>=0;a--){d._uploadQueue.push(d._fileRows[a])}d._uploadFile(d._fileRows[0])}},cancelFile:function(a){var d=this;d._removeSingleFileRow(d._fileRows[a])},cancelAll:function(){var d=this;if(d._fileRows.length>0){for(var a=0;a<d._fileRows.length;a++){d._removeFileRow(d._fileRows[a])}setTimeout(function(){d._browseButton.css("margin-bottom",0)},400);d._fileRows.length=0;d._hideButtons(true)}},propertyChangedHandler:function(u,l,w,o){var z=u.element.id;if(l==="localization"){if(o.browseButton&&(!w||o.browseButton!==w.browseButton)){u._browseButton.text(o.browseButton);u._browseButton.jqxButton({width:"auto"})}if(o.uploadButton&&(!w||o.uploadButton!==w.uploadButton)){u._uploadButton.text(o.uploadButton);u._uploadButton.jqxButton({width:"auto"})}if(o.cancelButton&&(!w||o.cancelButton!==w.cancelButton)){u._cancelButton.text(o.cancelButton);u._cancelButton.jqxButton({width:"auto"})}if(!u.renderFiles){if(o.uploadFileTooltip&&(!w||o.uploadFileTooltip!==w.uploadFileTooltip)){c("#"+z+" .jqx-file-upload-file-upload").attr("title",o.uploadFileTooltip)}if(o.uploadFileTooltip&&(!w||o.cancelFileTooltip!==w.cancelFileTooltip)){c("#"+z+" .jqx-file-upload-file-cancel").attr("title",o.cancelFileTooltip)}}return}if(o!==w){switch(l){case"width":u.host.css("width",o);if(u._ie7){u._borderAndPadding("width",u.host);for(var v=0;v<u._fileRows.length;v++){var a=u._fileRows[v].fileRow;a.css("width","100%");u._borderAndPadding("width",a)}}u._fluidWidth=typeof o==="string"&&o.charAt(o.length-1)==="%";return;case"height":u.host.css("height",o);if(u._ie7){u._borderAndPadding("height",u.host)}u._fluidHeight=typeof o==="string"&&o.charAt(o-1)==="%";return;case"uploadUrl":for(var s=0;s<u._forms.length;s++){u._forms[s].form.attr("action",o)}return;case"accept":for(var t=0;t<u._forms.length;t++){u._forms[t].fileInput.attr("accept",o)}return;case"theme":c.jqx.utilities.setTheme(w,o,u.host);u._browseButton.jqxButton({theme:o});u._uploadButton.jqxButton({theme:o});u._cancelButton.jqxButton({theme:o});return;case"browseTemplate":u._browseButton.jqxButton({template:o});return;case"uploadTemplate":u._uploadButton.jqxButton({template:o});return;case"cancelTemplate":u._cancelButton.jqxButton({template:o});return;case"disabled":u._browseButton.jqxButton({disabled:o});u._uploadButton.jqxButton({disabled:o});u._cancelButton.jqxButton({disabled:o});if(o===true){u.host.addClass(u.toThemeProperty("jqx-fill-state-disabled"))}else{u.host.removeClass(u.toThemeProperty("jqx-fill-state-disabled"))}return;case"rtl":var q=function(d){var h=d?"addClass":"removeClass";u._browseButton[h](u.toThemeProperty("jqx-file-upload-button-browse-rtl"));u._cancelButton[h](u.toThemeProperty("jqx-file-upload-button-cancel-rtl"));u._uploadButton[h](u.toThemeProperty("jqx-file-upload-button-upload-rtl"));if(c.jqx.browser.msie&&c.jqx.browser.version>8){u._uploadButton[h](u.toThemeProperty("jqx-file-upload-button-upload-rtl-ie"))}for(var f=0;f<u._fileRows.length;f++){var e=u._fileRows[f];e.fileNameContainer[h](u.toThemeProperty("jqx-file-upload-file-name-rtl"));e.cancelFile[h](u.toThemeProperty("jqx-file-upload-file-cancel-rtl"));e.uploadFile[h](u.toThemeProperty("jqx-file-upload-file-upload-rtl"));e.loadingElement[h](u.toThemeProperty("jqx-file-upload-loading-element-rtl"))}};q(o);return}}},_raiseEvent:function(h,o){if(o===undefined){o={owner:null}}var n=this.events[h];o.owner=this;var l=new c.Event(n);l.owner=this;l.args=o;if(l.preventDefault){l.preventDefault()}var a=this.host.trigger(l);return a},_setSize:function(){var a=this;a.host.css("width",a.width);a.host.css("height",a.height)},_borderAndPadding:function(e,f){var a;if(e==="width"){a=parseInt(f.css("border-left-width"),10)+parseInt(f.css("border-right-width"),10)+parseInt(f.css("padding-left"),10)+parseInt(f.css("padding-right"),10)}else{a=parseInt(f.css("border-top-width"),10)+parseInt(f.css("border-bottom-width"),10)+parseInt(f.css("padding-top"),10)+parseInt(f.css("padding-bottom"),10)}f.css(e,f[e]()-a)},_addClasses:function(){var a=this;a.host.addClass(a.toThemeProperty("jqx-widget jqx-widget-content jqx-rc-all jqx-file-upload"));if(a.disabled===true){a.host.addClass(a.toThemeProperty("jqx-fill-state-disabled"))}},_appendElements:function(){var o=this,u="Browse",a=90,n="Upload All",s=90,t="Cancel All",q=90;var l=o.element.id;if(o.localization){if(o.localization.browseButton){u=o.localization.browseButton;a="auto"}if(o.localization.uploadButton){n=o.localization.uploadButton;s="auto"}if(o.localization.cancelButton){t=o.localization.cancelButton;q="auto"}}o._browseButton=c('<button id="'+l+'BrowseButton" class="'+o.toThemeProperty("jqx-file-upload-button-browse")+'">'+u+"</button>");o.host.append(o._browseButton);o._browseButton.jqxButton({theme:o.theme,width:a,template:o.browseTemplate,disabled:o.disabled});o._browseButton.after('<div style="clear: both;"></div>');o._bottomButtonsContainer=c('<div class="'+o.toThemeProperty("jqx-file-upload-buttons-container")+'"></div>');o.host.append(o._bottomButtonsContainer);o._uploadButton=c('<button id="'+l+'UploadButton" class="'+o.toThemeProperty("jqx-file-upload-button-upload")+'">'+n+"</button>");o._bottomButtonsContainer.append(o._uploadButton);o._uploadButton.jqxButton({theme:o.theme,width:s,template:o.uploadTemplate,disabled:o.disabled});o._cancelButton=c('<button id="'+l+'CancelButton" class="'+o.toThemeProperty("jqx-file-upload-button-cancel")+'">'+t+"</button>");o._bottomButtonsContainer.append(o._cancelButton);o._cancelButton.jqxButton({theme:o.theme,width:q,template:o.cancelTemplate,disabled:o.disabled});o._bottomButtonsContainer.after('<div style="clear: both;"></div>');if(o.rtl){o._browseButton.addClass(o.toThemeProperty("jqx-file-upload-button-browse-rtl"));o._cancelButton.addClass(o.toThemeProperty("jqx-file-upload-button-cancel-rtl"));o._uploadButton.addClass(o.toThemeProperty("jqx-file-upload-button-upload-rtl"));if(c.jqx.browser.msie&&c.jqx.browser.version>8){o._uploadButton.addClass(o.toThemeProperty("jqx-file-upload-button-upload-rtl-ie"))}}o._uploadIframe=c('<iframe name="'+l+'Iframe" class="'+o.toThemeProperty("jqx-file-upload-iframe")+'" src=""></iframe>');o.host.append(o._uploadIframe);o._iframeInitialized=false;o._uploadQueue=[];o._forms=[];o._addFormAndFileInput();o._fileRows=[]},_addFormAndFileInput:function(){var q=this;var l=q.element.id;var s=c('<form class="'+q.toThemeProperty("jqx-file-upload-form")+'" action="'+q.uploadUrl+'" target="'+l+'Iframe" method="post" enctype="multipart/form-data"></form>');q.host.append(s);var t=c('<input type="file" class="'+q.toThemeProperty("jqx-file-upload-file-input")+'" />');if(q.accept){t.attr("accept",q.accept)}s.append(t);if(q._ieOldWebkit){var u=q._browseButton.position();var o=q._browseButton.outerWidth();var n=q._browseButton.outerHeight();var a=q.rtl&&q._ie7?12:0;s.css({left:u.left-a,top:u.top,width:o,height:n});s.addClass(q.toThemeProperty("jqx-file-upload-form-ie9"));t.addClass(q.toThemeProperty("jqx-file-upload-file-input-ie9"));q.addHandler(s,"mouseenter.jqxFileUpload"+l,function(){q._browseButton.addClass(q.toThemeProperty("jqx-fill-state-hover"))});q.addHandler(s,"mouseleave.jqxFileUpload"+l,function(){q._browseButton.removeClass(q.toThemeProperty("jqx-fill-state-hover"))});q.addHandler(s,"mousedown.jqxFileUpload"+l,function(){q._browseButton.addClass(q.toThemeProperty("jqx-fill-state-pressed"))});q.addHandler(c(document),"mouseup.jqxFileUpload"+l,function(){if(q._browseButton.hasClass("jqx-fill-state-pressed")){q._browseButton.removeClass(q.toThemeProperty("jqx-fill-state-pressed"))}})}q.addHandler(t,"change.jqxFileUpload"+l,function(){var d=this.value,f;if(!c.jqx.browser.mozilla){if(d.indexOf("fakepath")!==-1){d=d.slice(12)}else{d=d.slice(d.lastIndexOf("\\")+1)}}if(c.jqx.browser.msie&&c.jqx.browser.version<10){f="IE9 and earlier do not support getting the file size."}else{f=this.files[0].size}var e=q._addFileRow(d,s,t,f);if(q._fileRows.length===1){q._browseButton.css("margin-bottom","10px");q._hideButtons(false)}if(q._ieOldWebkit){q.removeHandler(s,"mouseenter.jqxFileUpload"+l);q.removeHandler(s,"mouseleave.jqxFileUpload"+l);q.removeHandler(s,"mousedown.jqxFileUpload"+l)}q._addFormAndFileInput();q.removeHandler(t,"change.jqxFileUpload"+l);if(q.autoUpload===true){q._uploadFile(e)}});if(q._ieOldWebkit===true){q.addHandler(t,"click.jqxFileUpload"+l,function(d){if(q.multipleFilesUpload===false&&q._fileRows.length>0){d.preventDefault()}})}q._forms.push({form:s,fileInput:t})},_addFileRow:function(z,D,A,B){var v=this,q,w,o,t,a,u="Cancel",s="Upload File";q=c('<div class="'+v.toThemeProperty("jqx-widget-content jqx-rc-all jqx-file-upload-file-row")+'"></div>');if(v._fileRows.length===0){v._browseButton.after(q)}else{v._fileRows[v._fileRows.length-1].fileRow.after(q)}if(!v.renderFiles){w=c('<div class="'+v.toThemeProperty("jqx-widget-header jqx-rc-all jqx-file-upload-file-name")+'">'+z+"</div>");q.append(w);if(v.localization){if(v.localization.cancelFileTooltip){u=v.localization.cancelFileTooltip}if(v.localization.uploadFileTooltip){s=v.localization.uploadFileTooltip}}t=c('<div class="'+v.toThemeProperty("jqx-widget-header jqx-rc-all jqx-file-upload-file-cancel")+'" title="'+u+'"><div class="'+v.toThemeProperty("jqx-icon-close jqx-file-upload-icon")+'"></div></div>');q.append(t);a=c('<div class="'+v.toThemeProperty("jqx-widget-header jqx-rc-all jqx-file-upload-file-upload")+'" title="'+s+'"><div class="'+v.toThemeProperty("jqx-icon-arrow-up jqx-file-upload-icon jqx-file-upload-icon-upload")+'"></div></div>');q.append(a);o=c('<div class="'+v.toThemeProperty("jqx-file-upload-loading-element")+'"></div>');q.append(o);if(v.rtl){w.addClass(v.toThemeProperty("jqx-file-upload-file-name-rtl"));t.addClass(v.toThemeProperty("jqx-file-upload-file-cancel-rtl"));a.addClass(v.toThemeProperty("jqx-file-upload-file-upload-rtl"));o.addClass(v.toThemeProperty("jqx-file-upload-loading-element-rtl"))}v._setMaxWidth({fileNameContainer:w,uploadFile:a,cancelFile:t})}else{q.html(v.renderFiles(z))}if(v._ie7){v._borderAndPadding("width",q);v._borderAndPadding("height",q);if(!v.renderFiles){v._borderAndPadding("height",w);v._borderAndPadding("height",a);v._borderAndPadding("height",t)}}var C={fileRow:q,fileNameContainer:w,fileName:z,uploadFile:a,cancelFile:t,loadingElement:o,form:D,fileInput:A,index:v._fileRows.length};v._addFileHandlers(C);v._fileRows.push(C);v._raiseEvent("0",{file:z,size:B});return C},_setMaxWidth:function(o){var l=this;var h=o.cancelFile.outerWidth(true)+o.uploadFile.outerWidth(true);var a=l._ie7?6:0;var n=l.host.width()-parseInt(l.host.css("padding-left"),10)-parseInt(l.host.css("padding-right"),10)-h-a-7;o.fileNameContainer.css("max-width",n)},_addFileHandlers:function(a){var f=this;if(!f.renderFiles){var e=f.element.id;f.addHandler(a.uploadFile,"mouseenter.jqxFileUpload"+e,function(){if(f.disabled===false){a.uploadFile.addClass(f.toThemeProperty("jqx-fill-state-hover"))}});f.addHandler(a.uploadFile,"mouseleave.jqxFileUpload"+e,function(){if(f.disabled===false){a.uploadFile.removeClass(f.toThemeProperty("jqx-fill-state-hover"))}});f.addHandler(a.uploadFile,"click.jqxFileUpload"+e,function(){if(f.disabled===false){f._uploadFile(a)}});f.addHandler(a.cancelFile,"mouseenter.jqxFileUpload"+e,function(){if(f.disabled===false){a.cancelFile.addClass(f.toThemeProperty("jqx-fill-state-hover"))}});f.addHandler(a.cancelFile,"mouseleave.jqxFileUpload"+e,function(){if(f.disabled===false){a.cancelFile.removeClass(f.toThemeProperty("jqx-fill-state-hover"))}});f.addHandler(a.cancelFile,"click.jqxFileUpload"+e,function(){if(f.disabled===false){f._removeSingleFileRow(a)}})}},_removeSingleFileRow:function(f){var e=this;e._removeFileRow(f);e._fileRows.splice(f.index,1);if(e._fileRows.length===0){setTimeout(function(){e._browseButton.css("margin-bottom",0)},400);e._hideButtons(true)}else{for(var a=0;a<e._fileRows.length;a++){e._fileRows[a].index=a}}},_removeFileRow:function(a){var f=this;var e=f.element.id;if(!f.renderFiles){f.removeHandler(a.uploadFile,"mouseenter.jqxFileUpload"+e);f.removeHandler(a.uploadFile,"mouseleave.jqxFileUpload"+e);f.removeHandler(a.uploadFile,"click.jqxFileUpload"+e);f.removeHandler(a.cancelFile,"mouseenter.jqxFileUpload"+e);f.removeHandler(a.cancelFile,"mouseleave.jqxFileUpload"+e);f.removeHandler(a.cancelFile,"click.jqxFileUpload"+e)}a.fileRow.fadeOut(function(){a.fileRow.remove();a.form.remove()});f._raiseEvent("1",{file:a.fileName})},_hideButtons:function(a){var d=this;if(a===true){d._bottomButtonsContainer.fadeOut()}else{d._bottomButtonsContainer.fadeIn()}},_addHandlers:function(){var a=this;var d=a.element.id;if(!a._ieOldWebkit){a.addHandler(a._browseButton,"click.jqxFileUpload"+d,function(){a.browse()})}a.addHandler(a._uploadButton,"click.jqxFileUpload"+d,function(){a.uploadAll()});a.addHandler(a._cancelButton,"click.jqxFileUpload"+d,function(){a.cancelAll()});a.addHandler(a._uploadIframe,"load.jqxFileUpload"+d,function(){if(c.jqx.browser.chrome||c.jqx.browser.webkit){a._iframeInitialized=true}if(a._iframeInitialized===false){a._iframeInitialized=true}else{var e=a._uploadIframe.contents().find("body").html();a._raiseEvent("3",{file:a._uploadQueue[a._uploadQueue.length-1].fileName,response:e});if(a._fileObjectToRemove){a._removeSingleFileRow(a._fileObjectToRemove);a._fileObjectToRemove=null}a._uploadQueue.pop();if(a._uploadQueue.length>0){a._uploadFile(a._uploadQueue[a._uploadQueue.length-1])}}})},_removeHandlers:function(a){var h=this;var f=h.element.id;h.removeHandler(h._browseButton,"click.jqxFileUpload"+f);h.removeHandler(h._uploadButton,"click.jqxFileUpload"+f);h.removeHandler(h._cancelButton,"click.jqxFileUpload"+f);h.removeHandler(h._uploadIframe,"load.jqxFileUpload"+f);if(a===true){var l=h._forms[h._forms.length-1];h.removeHandler(l.fileInput,"change.jqxFileUpload"+f);if(h._ieOldWebkit){h.removeHandler(l.form,"mouseenter.jqxFileUpload"+f);h.removeHandler(l.form,"mouseleave.jqxFileUpload"+f);h.removeHandler(l.form,"mousedown.jqxFileUpload"+f);h.removeHandler(c("body"),"mouseup.jqxFileUpload"+f)}}}})})(jqxBaseFramework);(function(c){c.jqx.jqxWidget("jqxLoader","",{});c.extend(c.jqx._jqxLoader.prototype,{defineInstance:function(){var a={width:200,height:150,text:"Loading...",html:null,textPosition:"bottom",imagePosition:"center",isModal:false,autoOpen:false,rtl:false,events:["create"]};c.extend(true,this,a)},createInstance:function(a){var d=this;d._render(true);d._raiseEvent("0")},render:function(){this._render()},open:function(e,f){var a=this;if(this.width!==null&&this.width.toString().indexOf("%")!==-1){a.host.css("width",this.width)}if(this.height!==null&&this.height.toString().indexOf("%")!==-1){a.host.css("height",this.height)}a.host.show();a.host.css("left",-a.host.width()/2);a.host.css("top",-a.host.height()/2);if(e&&f){a.host.css("left",e);a.host.css("top",f)}if(a.isModal){a._modal.show()}},close:function(){var a=this;a.host.hide();if(a.isModal){a._modal.hide()}},_checkBrowser:function(){var a=this;if(c.jqx.browser.browser==="msie"){if(c.jqx.browser.version==="7.0"){if(a.isModal===false){a.host.addClass(a.toThemeProperty("jqx-loader-ie-transparency"))}a.host.css("top",Math.max(0,((c(window).height()-c(a.host).outerHeight())/2)+c(window).scrollTop())+"px");a.host.css("left",Math.max(0,((c(window).width()-c(a.host).outerWidth())/2)+c(window).scrollLeft())+"px");c(window).resize(function(){a.host.css("top",Math.max(0,((c(window).height()-c(a.host).outerHeight())/2)+c(window).scrollTop())+"px");a.host.css("left",Math.max(0,((c(window).width()-c(a.host).outerWidth())/2)+c(window).scrollLeft())+"px")});this.host.css({"margin-top":"0","margin-left":"0"})}else{if(c.jqx.browser.version==="8.0"){if(a.isModal===false){a.host.addClass(a.toThemeProperty("jqx-loader-ie-transparency"))}}}}},_textPos:function(){var a=this;this._text=a.host.children("div:eq(1)");if(this._image){this._image.css("background-position-y",a.imagePosition)}if(a.textPosition==="top"){this._text.addClass(a.toThemeProperty("jqx-loader-text-top"));this._text.removeClass(a.toThemeProperty("jqx-loader-text-bottom"));this._text.removeClass(a.toThemeProperty("jqx-loader-text-left"));this._text.removeClass(a.toThemeProperty("jqx-loader-text-right"))}else{if(a.textPosition==="bottom"){this._text.addClass(a.toThemeProperty("jqx-loader-text-bottom"));this._text.removeClass(a.toThemeProperty("jqx-loader-text-top"));this._text.removeClass(a.toThemeProperty("jqx-loader-text-left"));this._text.removeClass(a.toThemeProperty("jqx-loader-text-right"))}else{if(a.textPosition==="left"){this._text.addClass(a.toThemeProperty("jqx-loader-text-left"));this._text.removeClass(a.toThemeProperty("jqx-loader-text-right"));this._text.removeClass(a.toThemeProperty("jqx-loader-text-top"));this._text.removeClass(a.toThemeProperty("jqx-loader-text-bottom"))}else{if(a.textPosition==="right"){this._text.addClass(a.toThemeProperty("jqx-loader-text-right"));this._text.removeClass(a.toThemeProperty("jqx-loader-text-left"));this._text.removeClass(a.toThemeProperty("jqx-loader-text-top"));this._text.removeClass(a.toThemeProperty("jqx-loader-text-bottom"))}}}}},refresh:function(a){if(a!==true){this._render(false)}},destroy:function(){var a=this;a._removeHandlers();a.host.remove()},propertyChangedHandler:function(a,l,f,h){if(h!==f){switch(l){case"width":a.host.width(h);break;case"height":a.host.height(h);break;case"text":a._text.text(h);break;case"html":a.host.html(h);break;case"textPosition":a._textPos(h);break;case"rtl":if(h===true){a._text.addClass(a.toThemeProperty("jqx-loader-rtl"))}else{a._text.removeClass(a.toThemeProperty("jqx-loader-rtl"))}break}}},_raiseEvent:function(l,q){var n=this;var t=n.events[l];var o=new c.Event(t);o.owner=n;o.args=q;try{var a=n.host.trigger(o)}catch(s){}return a},_render:function(a){var f=this;f.host.width(f.width);f.host.height(f.height);if(f.autoOpen===false){f.host.hide()}if(a){if(f.html===null){f.host.append('<div class="'+f.toThemeProperty("jqx-loader-icon")+'"></div><div class="'+f.toThemeProperty("jqx-loader-text")+'">'+f.text+"</div>");f._image=f.host.children("div:eq(0)");f._text=f.host.children("div:eq(1)")}else{f.host.html(this.html)}if(f.isModal===true){var e=f.host.css("display");f._modal=c('<div id="'+f.element.id+'Modal" class="'+f.toThemeProperty("jqx-loader-modal")+'" style="display: '+e+';"></div>');c("body").append(f._modal)}}f._checkBrowser();f._textPos();f._addClass();f._removeHandlers();f._addHandlers()},_addHandlers:function(){var a=this;if(a.isModal===true){a.addHandler(c(document),"keyup.loader"+a.element.id,function(d){if(d.keyCode===27){a.close()}})}},_removeHandlers:function(){var a=this;a.removeHandler(c(document),"keyup.loader"+a.element.id)},_addClass:function(){var a=this;a.host.addClass(a.toThemeProperty("jqx-widget"));a.host.addClass(a.toThemeProperty("jqx-loader"));a.host.addClass(a.toThemeProperty("jqx-rc-all"));a.host.addClass(a.toThemeProperty("jqx-fill-state-normal"));if(a.rtl){a._text.addClass(a.toThemeProperty("jqx-loader-rtl"))}if(c.jqx.browser.msie){a.host.addClass(this.toThemeProperty("jqx-noshadow"))}a.host.addClass(this.toThemeProperty("jqx-rc-t"));a.host.addClass(this.toThemeProperty("jqx-rc-b"));a.host.addClass(this.toThemeProperty("jqx-popup"))}})})(jqxBaseFramework);(function(c){c.jqx.jqxWidget("jqxTextArea","",{});c.extend(c.jqx._jqxTextArea.prototype,{defineInstance:function(){var a=this;var d={disabled:false,filter:a._filter,sort:a._sort,highlight:a._highlight,dropDownWidth:null,renderer:a._renderer,opened:false,$popup:c("<ul></ul>"),source:[],roundedCorners:true,searchMode:"default",placeHolder:"",width:null,height:null,rtl:false,displayMember:"",valueMember:"",popupZIndex:20000,items:8,item:'<li><a href="#"></a></li>',minLength:1,maxLength:null,scrollBarSize:c.jqx.utilities.scrollBarSize,query:"",changeType:null,events:["change","select","open","close"]};c.extend(true,a,d)},createInstance:function(){var a=this;a.render();a.isInitialized=true},render:function(){var o=this,h=o.element.id;if(o.isInitialized===true){o.refresh();return}if(c.jqx.utilities.scrollBarSize!==15){o.scrollBarSize=c.jqx.utilities.scrollBarSize}var a=c('<div id="panelWrapper'+h+'" style="overflow: hidden; width: 100%; height: 100%; background-color: transparent; -webkit-appearance: none; outline: none; align:left; border: 0px; padding: 0px; margin: 0px; left: 0px; top: 0px; valign:top; position: relative;"></div>');var l=c('<div id="verticalScrollBar'+h+'" style="align: left; valign: top; left: 0px; top: 0px; position: absolute;"></div>');o._id=o.element.id;if(o.element.tagName.toLowerCase()==="div"){o._baseHost=o.host;o.host.append(a);a.append('<textarea id="area'+h+'" class="'+o.toThemeProperty("jqx-text-area-element")+'"></textarea>');a.append(l)}else{if(o.element.tagName.toLowerCase()==="textarea"){o._baseHost=c(o.element);o._baseHost.wrap("<div></div>");o._baseHost.wrap(a);o._baseHost.after(l);o.host=o._baseHost.parent().parent();o.host[0].style.cssText=o.element.style.cssText;o.element.style.cssText="";o._baseHost.addClass(o.toThemeProperty("jqx-text-area-element"))}}var n=o.host;o.wrapper=a;o.textarea=n.find("textarea");o._addClasses();if(!n.jqxButton){throw new Error("jqxTextArea: Missing reference to jqxbuttons.js.")}if(!n.jqxScrollBar){throw new Error("jqxTextArea: Missing reference to jqxscrollbar.js.")}if(null===o.width&&n[0].style&&null!==n[0].style.width){o.width=n[0].style.width}if(null===o.height&&n[0].style&&null!==n[0].style.height){o.height=n[0].style.height}o._setSize();o.vScrollBar=l;l.jqxScrollBar({vertical:true,width:15,height:"100%",max:o.height,theme:o.theme});if(c.trim(o.textarea.val())===""){o.textarea.val("")}o.textarea.attr("placeholder",o.placeHolder);if(o.maxLength!==null){o.textarea.attr("maxlength",o.maxLength)}if(c.jqx.browser.msie&&c.jqx.browser.version<10&&o.textarea.val()===""){o.textarea.val(o.placeHolder)}if((o.source instanceof Array&&o.source.length)||o.source._source||c.isFunction(o.source)){o._oldsource=o.source;o._updateSource();o._addPopupClasses();c.jqx.aria(o,"aria-haspopup",true)}o._arrange();o._addHandlers()},refresh:function(d){if(d!==true){var a=this;a._setSize();a._arrange();a._removeHandlers();a._addHandlers();if(a.opened===true){a.open()}}},_arrange:function(){var h=this;var f=h.textarea;var l=f[0].scrollHeight-f.height();var a=f[0].scrollHeight-f.height();if(a<0){a=0}h.vScrollBar.jqxScrollBar({max:a,value:f[0].scrollTop});if(l<5){f.width(h.host.width());h.vScrollBar.css("visibility","hidden")}else{f.width(h.host.width()-h.scrollBarSize);h.vScrollBar.css("visibility","visible");h._arrangeScrollbars(h.scrollBarSize)}},val:function(l){var n=this,o=n.textarea,h=o[0].value,a;if(c.jqx.browser.msie&&c.jqx.browser.version<10&&h===n.placeHolder){h=""}if(arguments.length===0||(typeof l==="object"&&c.isEmptyObject(l)===true)){if(n.displayMember!==""&&n.valueMember!==""&&n.selectedItem){if(h===""){return""}return n.selectedItem}return h}if(l&&l.label){if(n.selectedItem&&l.label===n.selectedItem.label&&l.value===n.selectedItem.value){return l.label}n.selectedItem={label:l.label,value:l.value};n.host.attr("data-value",l.value);n.host.attr("data-label",l.label);o[0].value=l.label;a=l.label}else{if(h===l){return l}o[0].value=l;n.host.attr("data-value",l);n.host.attr("data-label",l);a=l}n._arrange();n._raiseEvent("0");return a},focus:function(){this.textarea.focus()},selectAll:function(){var a=this.textarea;setTimeout(function(){if("selectionStart" in a[0]){a[0].focus();a[0].setSelectionRange(0,a[0].value.length)}else{var d=a[0].createTextRange();d.collapse(true);d.moveEnd("character",a[0].value.length);d.moveStart("character",0);d.select()}},10)},_arrangeScrollbars:function(w){var a=this;var u=a.host.width();var l=a.host.height();var n=a.vScrollBar;var o=n[0].style.visibility!=="hidden";var q=2;var s=2;n.width(w);n.height(parseInt(l,10)-q+"px");n.css({left:parseInt(u,10)-parseInt(w,10)-q-s+"px",top:"0px"});if(a.rtl){n.css({left:"0px"});var v=o?(parseInt(w,10)-2)+"px":0;if(a.textarea.children().css("direction")!=="rtl"){var t=false;if(c.jqx.browser.msie&&c.jqx.browser.version<8){t=true}if(!t){a.textarea.css("padding-left",v)}}}else{if(n.css("visibility")!=="hidden"){a.textarea.css("width",a.host.width()-a.vScrollBar.outerWidth())}}n.jqxScrollBar("refresh")},destroy:function(){var a=this;if(a.opened){a._removeItemHandlers()}a.$popup.remove();a.vScrollBar.jqxScrollBar("destroy");a._removeHandlers();a.host.remove()},propertyChangedHandler:function(a,l,f,h){if(a.isInitialized===undefined||a.isInitialized===false){return}if(h!==f){switch(l){case"theme":a.vScrollBar.jqxScrollBar({theme:a.theme});break;case"width":a.host.css("width",h);a._arrange();break;case"height":a.host.css("height",h);a._arrange();break;case"source":a._oldsource=h;a._updateSource();break;case"displayMember":case"valueMember":a.source=a._oldsource;a._updateSource();break;case"opened":if(h===true){a.open()}else{a.close()}break;case"maxLength":a.textarea.attr("maxlength",h);break;case"placeHolder":a.textarea.attr("placeholder",h);if(c.jqx.browser.msie&&c.jqx.browser.version<10&&a.textarea.val()===f){a.textarea.val(h)}break;case"scrollBarSize":a._arrange();break;case"dropDownWidth":a.$popup.width(h);break;case"roundedCorners":if(h===true){a.host.add(a.$popup).addClass(a.toThemeProperty("jqx-rc-all"))}else{a.host.add(a.$popup).removeClass(a.toThemeProperty("jqx-rc-all"))}break;case"disabled":a.vScrollBar.jqxScrollBar({disabled:h});if(h===true){a.host.addClass(a.toThemeProperty("jqx-fill-state-disabled"));a.textarea.attr("disabled","")}else{a.host.removeClass(a.toThemeProperty("jqx-fill-state-disabled"));a.textarea.removeAttr("disabled")}c.jqx.aria(a,"aria-disabled",h);break;case"rtl":if(h===true){a.textarea.addClass(a.toThemeProperty("jqx-text-area-element-rtl"))}else{a.textarea.removeClass(a.toThemeProperty("jqx-text-area-element-rtl"))}a._arrange();break}}},_raiseEvent:function(l,t){var q=this;if(t===undefined){t={owner:null}}var s=q.events[l];t.owner=q;var n=new c.Event(s);n.owner=q;if(l==0){t.type=this.changeType;this.changeType=null}n.args=t;if(n.preventDefault){n.preventDefault()}var o;if(s==="change"||q._baseHost[0].tagName.toLowerCase()==="div"){o=q.host}else{o=q._baseHost}var a=o.trigger(n);return a},_addHandlers:function(){var o=this,h=o.element.id,l=o.host,n=o.textarea;c.jqx.utilities.resize(o._baseHost,function(){o._ttimer=setTimeout(function(){o._arrange()},100)},false,true);var a=c.jqx.browser.mozilla?"wheel":"mousewheel";o.addHandler(l,a+".jqxTextArea"+h,function(d){o.wheel(d,o)});o.addHandler(l,"mouseenter.jqxTextArea"+h,function(){o.focused=true});o.addHandler(l,"mouseleave.jqxTextArea"+h,function(){o.focused=false});o.addHandler(l,"focus.jqxTextArea"+h,function(){o.focused=true});o.addHandler(l,"blur.jqxTextArea"+h,function(){o.focused=false});o.addHandler(o.wrapper,"scroll.jqxTextArea"+h,function(){if(o.wrapper[0].scrollTop!==0){o.wrapper[0].scrollTop=0}if(o.wrapper[0].scrollLeft!==0){o.wrapper[0].scrollLeft=0}});o.addHandler(n,"change.jqxTextArea"+h,function(d){d.stopPropagation();d.preventDefault();o._arrange();o._raiseEvent("0")});o.addHandler(n,"select.jqxTextArea"+h,function(d){d.stopPropagation();d.preventDefault()});o.addHandler(n,"scroll.jqxTextArea"+h,function(){o._arrange()});o.addHandler(n,"focus.jqxTextArea"+h,function(){o.host.addClass(o.toThemeProperty("jqx-fill-state-focus"));if(c.jqx.browser.msie&&c.jqx.browser.version<10&&o.textarea.val()===o.placeHolder){o.textarea.val("")}});o.addHandler(n,"blur.jqxTextArea"+h,function(){o.host.removeClass(o.toThemeProperty("jqx-fill-state-focus"));if(c.jqx.browser.msie&&c.jqx.browser.version<10){var d=o.textarea.val();if(d===""){o.textarea.val(o.placeHolder)}else{if(o.maxLength!==null&&d.length>o.maxLength){o.textarea.val(d.substr(0,o.maxLength))}}}});o.addHandler(n,"keydown.jqxTextArea"+h,function(d){o._suppressKeyPressRepeat=~c.inArray(d.keyCode,[40,38,9,13,27]);o.changeType="keyboard";o._move(d)});o.addHandler(n,"keypress.jqxTextArea"+h,function(d){if(o.maxLength!==null&&c.jqx.browser.msie&&c.jqx.browser.version<10&&n.val().length>o.maxLength){return false}if(o._suppressKeyPressRepeat){return}o._move(d)});o.addHandler(n,"keyup.jqxTextArea"+h,function(d){switch(d.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!o.opened){return}o._select();break;case 27:if(!o.opened){return}o.close();break;default:if(o.timer){clearTimeout(o.timer)}o.timer=setTimeout(function(){o._suggest()},300)}d.stopPropagation();d.preventDefault();o._arrange()});o.addHandler(o.vScrollBar,"valueChanged.jqxTextArea"+h,function(d){n.scrollTop(d.currentValue)});o.addHandler(o.$popup,"mousedown.jqxTextArea"+h,function(d){d.stopPropagation();d.preventDefault();o.changeType="mouse";o._select()})},_removeHandlers:function(){var a=this,f=a.element.id,h=a.host,l=a.textarea;c.jqx.utilities.resize(a._baseHost,null,true);a.removeHandler(h,"mousewheel.jqxTextArea"+f);a.removeHandler(h,"mouseenter.jqxTextArea"+f);a.removeHandler(h,"mouseleave.jqxTextArea"+f);a.removeHandler(h,"focus.jqxTextArea"+f);a.removeHandler(h,"blur.jqxTextArea"+f);a.removeHandler(a.wrapper,"scroll.jqxTextArea"+f);a.removeHandler(l,"change.jqxTextArea"+f);a.removeHandler(l,"select.jqxTextArea"+f);a.removeHandler(l,"scroll.jqxTextArea"+f);a.removeHandler(l,"focus.jqxTextArea"+f);a.removeHandler(l,"blur.jqxTextArea"+f);a.removeHandler(l,"keydown.jqxTextArea"+f);a.removeHandler(l,"keypress.jqxTextArea"+f);a.removeHandler(l,"keyup.jqxTextArea"+f);a.removeHandler(a.vScrollBar,"valueChanged.jqxTextArea"+f);a.removeHandler(a.$popup,"mousedown.jqxTextArea"+f)},_addItemHandlers:function(){var a=this;a.addHandler(a.$popup.find("li"),"mouseenter.jqxTextArea"+a.element.id,function(d){a.$popup.find(".jqx-fill-state-pressed").removeClass(a.toThemeProperty("jqx-fill-state-pressed"));c(d.currentTarget).addClass(a.toThemeProperty("jqx-fill-state-pressed"))})},_removeItemHandlers:function(){var a=this;a.removeHandler(a.$popup.find("li"),"mouseenter.jqxTextArea"+a.element.id)},wheel:function(h,l){var f=0;if(h.originalEvent&&c.jqx.browser.msie&&h.originalEvent.wheelDelta){f=h.originalEvent.wheelDelta/120}if(!h){h=window.event}if(h.wheelDelta){f=h.wheelDelta/120}else{if(h.detail){f=-h.detail/3}else{if(h.originalEvent.wheelDelta){f=h.originalEvent.wheelDelta/120}else{if(h.originalEvent.detail){f=-h.originalEvent.detail/3}else{if(h.originalEvent.deltaY){f=-h.originalEvent.deltaY/3}}}}}if(f){var a=l._handleDelta(f);if(!a){if(h.preventDefault){h.preventDefault()}}if(!a){return a}else{return false}}if(h.preventDefault){h.preventDefault()}h.returnValue=false},_handleDelta:function(h){var o=this,n=o.vScrollBar.jqxScrollBar("getInstance");if(o.focused){var l=n.value;if(h<0){o.scrollDown()}else{o.scrollUp()}var a=n.value;if(l!==a){return false}}return true},scrollDown:function(){var a=this;if(a.vScrollBar.css("visibility")==="hidden"){return false}var e=a.vScrollBar.jqxScrollBar("getInstance");var f=Math.min(e.value+e.largestep,e.max);e.setPosition(f);a._arrange();return true},scrollUp:function(){var a=this;if(a.vScrollBar.css("visibility")==="hidden"){return false}var e=a.vScrollBar.jqxScrollBar("getInstance");var f=Math.max(e.value-e.largestep,e.min);e.setPosition(f);a._arrange();return true},_setSize:function(){var a=this;a.host.css("width",a.width);a.host.css("height",a.height)},_addClasses:function(){var a=this;a.host.addClass(a.toThemeProperty("jqx-panel"));a.host.addClass(a.toThemeProperty("jqx-widget"));a.host.addClass(a.toThemeProperty("jqx-widget-content"));a.host.addClass(a.toThemeProperty("jqx-text-area"));a.textarea.addClass(a.toThemeProperty("jqx-widget"));a.textarea.addClass(a.toThemeProperty("jqx-widget-content"));if(a.roundedCorners===true){a.host.addClass(a.toThemeProperty("jqx-rc-all"))}if(a.disabled===true){a.host.addClass(a.toThemeProperty("jqx-fill-state-disabled"));a.textarea.attr("disabled","");c.jqx.aria(a,"aria-disabled",true)}else{c.jqx.aria(a,"aria-disabled",false)}if(a.rtl===true){a.textarea.addClass(a.toThemeProperty("jqx-text-area-element-rtl"))}},_addPopupClasses:function(){var d=this,a=d.$popup;a.addClass(d.toThemeProperty("jqx-popup"));if(c.jqx.browser.msie){a.addClass(d.toThemeProperty("jqx-noshadow"))}a.addClass(d.toThemeProperty("jqx-input-popup"));a.addClass(d.toThemeProperty("jqx-menu"));a.addClass(d.toThemeProperty("jqx-menu-vertical"));a.addClass(d.toThemeProperty("jqx-menu-dropdown"));a.addClass(d.toThemeProperty("jqx-widget"));a.addClass(d.toThemeProperty("jqx-widget-content"));if(d.roundedCorners){a.addClass(d.toThemeProperty("jqx-rc-all"))}},_updateSource:function(){var e=this;var a=function(d){var h=[];h=c.map(d,function(n){if(n===undefined){return null}if(typeof n==="string"||n instanceof String){return{label:n,value:n}}if(typeof n!=="string"&&n instanceof String===false){var o="";var l="";if(e.displayMember!==""&&e.displayMember!==undefined){if(n[e.displayMember]){o=n[e.displayMember]}}if(e.valueMember!==""&&e.valueMember!==undefined){l=n[e.valueMember]}if(o===""){o=n.label}if(l===""){l=n.value}return{label:o,value:l}}return n});return h};if(e.source&&e.source._source){e.adapter=e.source;if(e.adapter._source.localdata){e.adapter.unbindBindingUpdate(e.element.id);e.adapter.bindBindingUpdate(e.element.id,function(){e.source=a(e.adapter.records)})}else{var f={};if(e.adapter._options.data){c.extend(e.adapter._options.data,f)}else{if(e.source._source.data){c.extend(f,e.source._source.data)}e.adapter._options.data=f}e.adapter.unbindDownloadComplete(e.element.id);e.adapter.bindDownloadComplete(e.element.id,function(){e.source=a(e.adapter.records)})}e.source.dataBind();return}if(!c.isFunction(e.source)){e.source=a(e.source)}},open:function(){var n=this;if(c.jqx.isHidden(n.host)){return}var o=c.extend({},n.host.coord(true),{height:n.host[0].offsetHeight});if(n.$popup.parent().length===0){var h=n._id+"_popup";n.$popup[0].id=h;c.jqx.aria(n,"aria-owns",h)}n.$popup.appendTo(c(document.body)).css({position:"absolute",zIndex:n.popupZIndex,top:o.top+o.height,left:o.left}).show();var a=0;var l=n.$popup.children();c.each(l,function(){a+=c(this).outerHeight(true)-1});n.$popup.height(a);n.opened=true;n._raiseEvent("2",{popup:n.$popup});c.jqx.aria(n,"aria-expanded",true);n._addItemHandlers();return n},close:function(){var a=this;a._removeItemHandlers();a.$popup.hide();a.opened=false;a._raiseEvent("3",{popup:a.$popup});c.jqx.aria(a,"aria-expanded",false);return a},_suggest:function(){var d=this,a;d.query=d.textarea[0].value;if(!d.query||d.query.length<d.minLength){return d.opened?d.close():d}if(c.isFunction(d.source)){a=d.source(d.query,c.proxy(d._load,this))}else{a=d.source}if(a){return d._load(a)}return d},_load:function(a){var d=this;a=c.grep(a,function(e){return d.filter(e)});a=d.sort(a);if(!a.length){if(d.opened){return d.close()}else{return d}}return d._render(a.slice(0,d.items)).open()},_filter:function(l){var a=this;var h=a.query;var f=l;if(l.label!==undefined){f=l.label}else{if(a.displayMember){f=l[a.displayMember]}}switch(a.searchMode){case"none":break;case"contains":return c.jqx.string.contains(f,h);case"equals":return c.jqx.string.equals(f,h);case"equalsignorecase":return c.jqx.string.equalsIgnoreCase(f,h);case"startswith":return c.jqx.string.startsWith(f,h);case"startswithignorecase":return c.jqx.string.startsWithIgnoreCase(f,h);case"endswith":return c.jqx.string.endsWith(f,h);case"endswithignorecase":return c.jqx.string.endsWithIgnoreCase(f,h);default:return c.jqx.string.containsIgnoreCase(f,h)}},_sort:function(u){var a=this,l=[],s=[],o=[];for(var t=0;t<u.length;t++){var q=u[t];var n=q;if(q.label){n=q.label}else{if(a.displayMember){n=q[a.displayMember]}}if(n.toString().toLowerCase().indexOf(a.query.toString().toLowerCase())===0){l.push(q)}else{if(n.toString().indexOf(a.query)>=0){s.push(q)}else{if(n.toString().toLowerCase().indexOf(a.query.toString().toLowerCase())>=0){o.push(q)}}}}return l.concat(s,o)},_render:function(a){var d=this;a=c(a).map(function(q,o){var l=o;if(o.value!==undefined){if(o.label!==undefined){q=c(d.item).attr({"data-name":o.label,"data-value":o.value})}else{q=c(d.item).attr({"data-name":o.value,"data-value":o.value})}}else{if(o.label!==undefined){q=c(d.item).attr({"data-value":o.label,"data-name":o.label})}else{if(d.displayMember!==undefined&&d.displayMember!==""){q=c(d.item).attr({"data-name":o[d.displayMember],"data-value":o[d.valueMember]})}else{q=c(d.item).attr({"data-value":o,"data-name":o})}}}if(o.label){l=o.label}else{if(d.displayMember){l=o[d.displayMember]}}q.find("a").html(d.highlight(l));var n="",s="";if(d.roundedCorners===true){n=" "+d.toThemeProperty("jqx-rc-all")}if(d.rtl){s=" "+d.toThemeProperty("jqx-rtl")}q[0].className=d.toThemeProperty("jqx-item")+" "+d.toThemeProperty("jqx-menu-item")+n+s;return q[0]});a.first().addClass(d.toThemeProperty("jqx-fill-state-pressed"));d.$popup.html(a);if(!d.dropDownWidth){d.$popup.width(d.host.outerWidth()-6)}else{d.$popup.width(d.dropDownWidth)}return d},_highlight:function(f){var e=this.query;e=e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var a=new RegExp("("+e+")","ig");return f.replace(a,function(h,d){return"<b>"+d+"</b>"})},_select:function(){var a=this;var e=a.$popup.find(".jqx-fill-state-pressed").attr("data-value");var f=a.$popup.find(".jqx-fill-state-pressed").attr("data-name");a.textarea[0].value=a.renderer(f,a.textarea[0].value);a.selectedItem={label:f,value:e};a.host.attr("data-value",e);a.host.attr("data-label",f);a._raiseEvent("1",{item:{label:f,value:e}});a._arrange();a.textarea[0].scrollTop=a.textarea[0].scrollHeight;a._raiseEvent("0");return a.close()},_renderer:function(a){return a},_move:function(d){var a=this;if(!a.opened){return}switch(d.keyCode){case 9:case 13:case 27:d.preventDefault();break;case 38:if(!d.shiftKey){d.preventDefault();a._prev()}break;case 40:if(!d.shiftKey){d.preventDefault();a._next()}break}d.stopPropagation()},_next:function(){var a=this,e=a.$popup.find(".jqx-fill-state-pressed").removeClass(a.toThemeProperty("jqx-fill-state-pressed")),f=e.next();if(!f.length){f=c(a.$popup.find("li")[0])}f.addClass(a.toThemeProperty("jqx-fill-state-pressed"))},_prev:function(){var a=this,e=a.$popup.find(".jqx-fill-state-pressed").removeClass(a.toThemeProperty("jqx-fill-state-pressed")),f=e.prev();if(!f.length){f=a.$popup.find("li").last()}f.addClass(a.toThemeProperty("jqx-fill-state-pressed"))}})})(jqxBaseFramework);(function(c){c.jqx.jqxWidget("jqxPopover","",{});c.extend(c.jqx._jqxPopover.prototype,{defineInstance:function(){var a={arrowOffsetValue:null,animationType:"fade",position:"bottom",animationOpenDelay:"fast",animationCloseDelay:"fast",autoClose:true,isModal:false,height:null,initContent:null,offset:null,rtl:false,showArrow:true,showCloseButton:false,selector:null,title:"",width:null,_toggleElement:null,_popover:null,_popoverTop:0,_popoverLeft:0,_init:false,_ie8:(c.jqx.browser.msie&&c.jqx.browser.version===8),_ie7:(c.jqx.browser.msie&&c.jqx.browser.version<8),_left:0,_top:0,events:["open","close"]};c.extend(true,this,a)},createInstance:function(){var a=this;a._content=a.host.children()},render:function(){var o=this;var v=o.element.id;o._content.detach();o._toggleElement=c(o.selector);if(o._toggleElement.length===0){throw new Error('jqxPopover: Invalid Popover toggler: "'+o.selector+'".')}else{if(o._toggleElement===null){throw new Error("jqxPopover: Missing Popover toggler.")}}var a=c('<div id="'+v+'" class="'+o.toThemeProperty("jqx-popover")+'"><div class="'+o.toThemeProperty("jqx-popover-arrow")+'"></div><div class="'+o.toThemeProperty("jqx-popover-title")+'"></div><div class="'+o.toThemeProperty("jqx-popover-content")+'"></div></div>');c("body").append(a);var q=o.host.data();o.host.detach();o.host=a;o.host.data(q);o.element=a[0];o.element.id=v;o._popover=c("#"+v);var l=o._popover.find(".jqx-popover-title");l.append(o.title);var n=o._popover.find(".jqx-popover-content");n.append(o._content);o._popover.hide();o._removeHandlers();o._addHandlers();o._popover.addClass(o.position);l.addClass(o.toThemeProperty("jqx-widget-header"));o._popover.addClass(o.toThemeProperty("jqx-widget jqx-widget-content jqx-rc-all"));if(o.showArrow){o._popover.addClass(o.toThemeProperty("jqx-popover-arrow-"+o.position))}if(o.rtl){l.addClass(o.toThemeProperty("jqx-rtl"));l.css("direction","rtl");n.css("direction","rtl")}if(o.showCloseButton){var u=c('<div class="'+this.toThemeProperty("jqx-window-close-button-background")+'"></div>');var t=c('<div style="width: 100%; height: 100%;" class="'+this.toThemeProperty("jqx-window-close-button")+" "+this.toThemeProperty("jqx-icon-close")+'"></div>');u.append(t);l.append(u);l.css("min-height","16px");u.addClass(o.toThemeProperty("jqx-popover-close-button"));o.closeButton=t;if(o.rtl){u.addClass(o.toThemeProperty("jqx-popover-close-button-rtl"))}}if(o.arrowOffsetValue){if(o.position=="bottom"||o.position=="top"){var w=o._popover.find(".jqx-popover-arrow").css("margin-left");o._popover.find(".jqx-popover-arrow").css("margin-left",parseInt(w)+o.arrowOffsetValue)}else{var s=o._popover.find(".jqx-popover-arrow").css("margin-top");o._popover.find(".jqx-popover-arrow").css("margin-top",parseInt(s)+o.arrowOffsetValue)}}if(o.width||o.height){o._popover.css("width",o.width);o._popover.css("height",o.height)}},refresh:function(a){this.render()},destroy:function(){var a=this;if(a.length!==0){a._removeHandlers();a._popover.remove();a._removeModalBackground()}},propertyChangedHandler:function(a,o,h,l){var n=this;n.render()},_stickToToggleElement:function(){var o=this;o._popover.css("left","0px");o._popover.css("top","0px");var a=o._toggleElement;var s=a.offset();var v=a.outerHeight();var n=a.outerWidth();var t=o._popover.height();var l=o._popover.width();switch(o.position){case"left":o._popoverTop=s.top-t/2+v/2;o._popoverLeft=s.left-o._popover.outerWidth();break;case"right":o._popoverTop=s.top-t/2+v/2;o._popoverLeft=s.left+n;break;case"top":o._popoverTop=s.top-o._popover.outerHeight();o._popoverLeft=s.left-l/2+n/2;break;case"bottom":o._popoverTop=s.top+v;o._popoverLeft=s.left-l/2+n/2;break}var u=o.offset?o.offset.left:0;var q=o.offset?o.offset.top:0;o._popover.css("top",q+o._popoverTop);o._popover.css("left",u+o._popoverLeft)},open:function(){var f=this;f._stickToToggleElement();function e(){f._popover.show();f._raiseEvent("0");f._isOpen=true}function a(){if(f.initContent&&f._init===false){f.initContent();f._init=true;f._stickToToggleElement()}}if(f._ie7===true){e();a();return}switch(f.animationType){case"fade":f._popover.fadeIn(f.animationOpenDelay,function(){f._raiseEvent("0");a();f._isOpen=true});break;case"none":e();a();break}f._makeModalBackground()},close:function(){var d=this;if(!d._isOpen){return}function a(){d._popover.hide();d._raiseEvent("1");d._isOpen=false}if(d._ie7===true){a();return}switch(d.animationType){case"fade":d._popover.fadeOut(d.animationCloseDelay,function(){d._raiseEvent("1");d._isOpen=false});break;case"none":a();break}d._removeModalBackground()},_raiseEvent:function(h,o){if(o===undefined){o={owner:null}}var n=this.events[h];o.owner=this;var l=new c.Event(n);l.owner=this;l.args=o;if(l.preventDefault){l.preventDefault()}var a=this._popover.trigger(l);return a},_makeModalBackground:function(){var a=this;if(a.isModal===true){a.modalBackground=c("<div></div>");a.modalBackground.addClass(this.toThemeProperty("jqx-popover-modal-background"));c(document.body).prepend(a.modalBackground);c(document.body).addClass(a.toThemeProperty("jqx-unselectable"));a.host.addClass(a.toThemeProperty("jqx-selectable"))}},_removeModalBackground:function(){var a=this;if((a.isModal===true)&&(a.modalBackground!==undefined)){a.modalBackground.remove();c(document.body).removeClass(a.toThemeProperty("jqx-unselectable"));a.host.removeClass(a.toThemeProperty("jqx-selectable"))}},_addHandlers:function(){var a=this,d=a.element.id;a.addHandler(c(document),"keydown.jqxPopover"+d,function(e){if(e.keyCode==27){a.close()}});a.addHandler(c(document),"click.jqxPopover"+d,function(e){if(a.closeButton&&e.target==a.closeButton[0]){a.close()}if(a.autoClose===true){if(e.target!=a.element&&!c(e.target).ischildof(a._popover)){if(!a.isModal){a.close()}}}});a.addHandler(c(window),"resize.jqxPopover"+d,function(e){if(a.element.style.display!="none"){a._stickToToggleElement()}});if(a.selector){a.addHandler(a._toggleElement,"click.jqxPopover"+d,function(e){e.stopPropagation();if(a.host.css("display")!="none"){a.close()}else{a.open()}})}},_removeHandlers:function(){var a=this,d=a.element.id;a.removeHandler(c(document),"click.jqxPopover"+d);if(a.selector){a.removeHandler(a._toggleElement,"click.jqxPopover"+d)}a.removeHandler(c(document),"keydown.jqxPopover"+d);a.removeHandler(c(window),"resize.jqxPopover"+d)}})})(jqxBaseFramework);(function(c){c.jqx.jqxWidget("jqxLayout","",{});c.extend(c.jqx._jqxLayout.prototype,{defineInstance:function(){var a={width:null,height:null,minGroupWidth:100,minGroupHeight:100,layout:[],resizable:true,contextMenu:false,rtl:false,events:["create","resize","pin","unpin"]};c.extend(true,this,a)},createInstance:function(){var a=this;a._originalElement=a.host.clone();a._coordinates=[];a._ie7=c.jqx.browser.msie&&c.jqx.browser.version<8;a._touchDevice=c.jqx.mobile.isTouchDevice();a._initialization=true;a.render()},render:function(){var q=this,n,a,l;q._tabbedGroupsList=[];if(q.dockingLayout){q._overlayGroups=[];if(q._initialization===false){n=q.dockingLayout._overlay.detach();a=q.dockingLayout._dropOverlay.detach();l=q.dockingLayout._edgeOverlays.detach()}}if(q._rendered===true){q._detachContent(q.layout[0].items)}q.host.empty();if(!q.host.jqxRibbon){throw new Error("jqxLayout: Missing reference to jqxribbon.js.")}q._setSize();q._addClasses();q._removeHandlers();if(!q._rendered){if(q.layout[0].type!=="layoutGroup"){throw new Error('jqxLayout: Invalid layout structure. The first member of the layout array has to be with type: "layoutGroup".')}var o=q.layout[0].items[0].width,s=q.layout[0].items[0].height;if(!(o&&typeof o==="string"&&o.charAt(o.length-1)==="%"||s&&typeof s==="string"&&s.charAt(s.length-1)==="%")){q.layout[0].initialPxWidth=q.host.width();q.layout[0].initialPxHeight=q.host.height();q._pxToPercent(q.layout[0],true)}}q._createLayout(q.layout,q.host,{type:"host"},0);if(q.resizable===true){q._addResizeFeedbacks();q._getGroupCoordinates();q._addHandlers()}if(q.contextMenu===true){q._initMenu()}if(q._initialization===true){q._initialization=false;q._raiseEvent("0");c.jqx.utilities.resize(q.host,function(){q.render()})}else{if(q.dockingLayout){if(!q._ie7){q.host.append(n,a,l)}else{c("body").append(n,a,l)}q.dockingLayout._trackFloatGroups()}}for(var t=0;t<q._tabbedGroupsList.length;t++){q._validateTabbedGroup(q._tabbedGroupsList[t])}if(!q._rendered){q._rendered=true}},refresh:function(a){if(a!==true){this.render()}},destroy:function(){var a=this;a._mouseupHandler=null;a._docUP=null;a._removeHandlers();if(a.contextMenu===true){a._menu.jqxMenu("destroy")}a.host.remove()},saveLayout:function(){var e=this,a=[];for(var f=0;f<e.layout.length;f++){e._copyItem(e.layout[f],a)}return a},loadLayout:function(d){if(d!==undefined&&c.isEmptyObject(d)===false){var a=this;a.layout=d;a._rendered=false;a.render()}},propertyChangedHandler:function(a,o,h,l){if(o!=="layout"){if(l!==h){switch(o){case"width":case"height":a.host.css(o,l);break;case"theme":c.jqx.utilities.setTheme(h,l,a.host);if(a._menuInitialized){c.jqx.utilities.setTheme(h,l,a._menu)}if(a.dockingLayout){if(c("."+a.element.id+"FloatGroup").length>0){c("."+a.element.id+"FloatGroup").jqxWindow({theme:l})}}break;case"layout":case"resizable":a.render();break;case"contextMenu":if(l===true&&!a._menuInitialized){a.render()}break;case"rtl":var q=c("."+a.element.id+"FloatGroup");if(q.length>0){q.jqxWindow({rtl:l})}var n=a.host.add(q);if(l===true){n.find(".jqx-layout-pseudo-window-title-ltr").removeClass(a.toThemeProperty("jqx-layout-pseudo-window-title-ltr")).addClass(a.toThemeProperty("jqx-layout-pseudo-window-title-rtl"));n.find(".jqx-layout-pseudo-window-pin-background-ltr").removeClass(a.toThemeProperty("jqx-layout-pseudo-window-pin-background-ltr")).addClass(a.toThemeProperty("jqx-layout-pseudo-window-pin-background-rtl"));n.find(".jqx-layout-pseudo-window-close-background-ltr").removeClass(a.toThemeProperty("jqx-layout-pseudo-window-close-background-ltr")).addClass(a.toThemeProperty("jqx-layout-pseudo-window-close-background-rtl"));n.find(".jqx-layout-ribbon-header").removeClass(a.toThemeProperty("jqx-layout-ribbon-header-ltr")).addClass(a.toThemeProperty("jqx-layout-ribbon-header-rtl"))}else{n.find(".jqx-layout-pseudo-window-title-rtl").removeClass(a.toThemeProperty("jqx-layout-pseudo-window-title-rtl")).addClass(a.toThemeProperty("jqx-layout-pseudo-window-title-ltr"));n.find(".jqx-layout-pseudo-window-pin-background-rtl").removeClass(a.toThemeProperty("jqx-layout-pseudo-window-pin-background-rtl")).addClass(a.toThemeProperty("jqx-layout-pseudo-window-pin-background-ltr"));n.find(".jqx-layout-pseudo-window-close-background-rtl").removeClass(a.toThemeProperty("jqx-layout-pseudo-window-close-background-rtl")).addClass(a.toThemeProperty("jqx-layout-pseudo-window-close-background-ltr"));n.find(".jqx-layout-ribbon-header").removeClass(a.toThemeProperty("jqx-layout-ribbon-header-rtl")).addClass(a.toThemeProperty("jqx-layout-ribbon-header-ltr"))}n.find(".jqx-ribbon").jqxRibbon({rtl:l});break}}}else{a.render()}},_raiseEvent:function(h,o){if(o===undefined){o={owner:null}}var n=this.events[h];o.owner=this;var l=new c.Event(n);l.owner=this;l.args=o;if(l.preventDefault){l.preventDefault()}var a=this.host.trigger(l);return a},_setSize:function(){var a=this;a.host.css({width:a.width,height:a.height})},_addClasses:function(){var a=this;a.host.addClass(a.toThemeProperty("jqx-layout jqx-widget jqx-widget-content jqx-rc-all"))},_getPercentage:function(f,a,e){return(f/a.widget[e]())*100},_addHandlers:function(){var q=this,w=q.element.id,u,l;q._resize={allowed:false};q._clickedToResize=false;function n(e,f){for(var d=0;d<q._coordinates.length;d++){var h=q._coordinates[d];if(e>=h.x.from&&e<=h.x.to&&f>=h.y.from&&f<=h.y.to){if(h.orientation==="horizontal"){q.element.style.cursor="col-resize"}else{q.element.style.cursor="row-resize"}q._resize={allowed:true,widget:h.widget,side:h.side};break}else{q.element.style.cursor="default";q._resize.allowed=false}}}function a(B){if(q._resize.allowed===true){var d=q._resize.widget,D=d.current.parent,C=q._percentToPx("width",d.current.minWidth,D),G=q._percentToPx("height",d.current.minHeight,D),z=D.items[d.current.index-1],e=D.items[d.current.index+1];q._resizeStartPosition={x:B.pageX,y:B.pageY};if(!C){C=q._percentToPx("width",q.minGroupWidth,D)}if(!G){G=q._percentToPx("height",q.minGroupHeight,D)}switch(q._resize.side){case"left":var F=q._percentToPx("width",z.minWidth,D);if(!F){F=q._percentToPx("width",q.minGroupWidth,D)}u=z.widget.offset().left+F;l=d.offset().left+d.width()-C;break;case"right":var A=q._percentToPx("width",e.minWidth,D);if(!A){A=q._percentToPx("width",q.minGroupWidth,D)}u=d.offset().left+C;l=e.widget.offset().left+e.widget.width()-A;break;case"top":var E=q._percentToPx("height",z.minHeight,D);if(!E){E=q._percentToPx("height",q.minGroupHeight,D)}u=z.widget.offset().top+E;l=d.offset().top+d.height()-G;break;case"bottom":var h=q._percentToPx("height",e.minHeight,D);if(!h){h=q._percentToPx("height",q.minGroupHeight,D)}u=d.offset().top+G;l=e.widget.offset().top+e.widget.height()-h;break}var f=function(J,I){I=(typeof I==="undefined")?{top:0,left:0}:I;if(J!==top){var K=J.frameElement.getBoundingClientRect();I.left+=K.left;I.top+=K.top;I=f(J.parent,I)}return I},H;q._clickedToResize=true;q._overlay[0].style.display="block";if(q._resize.side==="left"||q._resize.side==="right"){q._verticalFeedback[0].style.height=q._resize.widget.height()+"px";H=q._ie7?f(window).top:0;q._verticalFeedback.offset({top:q._resize.widget.offset().top-q.host.offset().top+c(window).scrollTop()-H})}else{q._horizontalFeedback[0].style.width=q._resize.widget.width()+"px";H=q._ie7?f(window).left:0;q._horizontalFeedback.offset({left:q._resize.widget.offset().left-q.host.offset().left+c(window).scrollLeft()+1-H})}}}function v(z,h,C,d,A){var f=A.charAt(0).toUpperCase()+A.slice(1),D=h.parent,B,e;if(z){B=q._percentToPx(A,C["min"+f],D);e=parseFloat(C[A])/100*h.parent.widget[A]()-d}else{B=q._percentToPx(A,h["min"+f],D);e=parseFloat(h[A])/100*h.parent.widget[A]()-d}if(!B){B=q._percentToPx(A,q["minGroup"+f],D)}if(e<B){return B}else{return e}}function t(B){if(q._clickedToResize===true){var d=function(){q._clickedToResize=false;q._overlay[0].style.display="none";q._verticalFeedback[0].style.display="none";q._horizontalFeedback[0].style.display="none"},f=B.pageX,h=B.pageY,G=q._resize.widget.current,D=q._resize.widget.offset(),H=D.left,A=D.top,C,F,e,E,I,z;if(B.pageX===q._resizeStartPosition.x&&B.pageY===q._resizeStartPosition.y){d();return}if(q._resize.side==="left"||q._resize.side==="right"){z=G.width;if(q._resize.side==="left"){C=G.parent.items[G.index-1];F=H;e=f<F}else{C=G.parent.items[G.index+1];F=H+G.widget.width();e=f>=F}E=Math.abs(f-F);if(E===0){d();return}if(e){I=q._getPercentage(v(true,G,C,E,"width"),G.parent,"width");E=Math.abs(I-parseFloat(C.width));C.width=I+"%";G.width=parseFloat(G.width)+E+"%"}else{I=q._getPercentage(v(false,G,C,E,"width"),G.parent,"width");E=Math.abs(I-parseFloat(G.width));G.width=I+"%";C.width=parseFloat(C.width)+E+"%"}if(G.width===z){d();return}}else{z=G.height;if(q._resize.side==="top"){C=G.parent.items[G.index-1];F=A;e=h<F}else{C=G.parent.items[G.index+1];F=A+G.widget.height();e=h>=F}E=Math.abs(h-F);if(E===0){d();return}if(e){I=q._getPercentage(v(true,G,C,E,"height"),G.parent,"height");E=Math.abs(I-parseFloat(C.height));C.height=I+"%";G.height=parseFloat(G.height)+E+"%"}else{I=q._getPercentage(v(false,G,C,E,"height"),G.parent,"height");E=Math.abs(I-parseFloat(G.height));G.height=I+"%";C.height=parseFloat(C.height)+E+"%"}if(G.height===z){d();return}}d();q.render();q._raiseEvent("1",{item:G})}}function s(d){if(q._clickedToResize===true){var e=d.pageX,f=d.pageY;if(q._resize.side==="left"||q._resize.side==="right"){q._verticalFeedback[0].style.display="block";if(e<u){e=u;q._verticalFeedback.addClass(q.toThemeProperty("jqx-layout-resize-feedback-warning"))}else{if(e>l){e=l;q._verticalFeedback.addClass(q.toThemeProperty("jqx-layout-resize-feedback-warning"))}else{q._verticalFeedback.removeClass(q.toThemeProperty("jqx-layout-resize-feedback-warning"))}}q._verticalFeedback.offset({left:e-2})}else{q._horizontalFeedback[0].style.display="block";if(f<u){f=u;q._horizontalFeedback.addClass(q.toThemeProperty("jqx-layout-resize-feedback-warning"))}else{if(f>l){f=l;q._horizontalFeedback.addClass(q.toThemeProperty("jqx-layout-resize-feedback-warning"))}else{q._horizontalFeedback.removeClass(q.toThemeProperty("jqx-layout-resize-feedback-warning"))}}q._horizontalFeedback.offset({top:f-2});q._horizontalFeedback.offset({left:q._resize.widget.offset().left+c(window).scrollLeft()+1})}}}q._docUP=t;if(!q._touchDevice){q.addHandler(q.host,"mousemove.jqxLayout"+w,function(d){if(q._clickedToResize===false&&(!q.dockingLayout||q.dockingLayout&&q.dockingLayout._windowDragged!==true)){var e=d.pageX,f=d.pageY;n(e,f)}});q.addHandler(c(document),"mousemove.jqxLayout"+w,function(d){s(d)});q.addHandler(q.host,"mousedown.jqxLayout"+w,function(d){a(d)});q.addHandler(c(document),"mouseup.jqxLayout"+w,function(d){t(d)})}else{q.addHandler(c(document),"touchstart.jqxDockingLayout"+w,function(d){var e=d.originalEvent.touches[0];n(e.pageX,e.pageY);a(e)});q.addHandler(c(document),"touchmove.jqxDockingLayout"+w,function(d){var e=d.originalEvent.touches[0];s(e)});q.addHandler(c(document),"touchend.jqxDockingLayout"+w,function(d){var e=d.originalEvent.changedTouches[0];t(e)})}q.addHandler(c(document),"selectstart.jqxLayout"+w,function(){if(q._clickedToResize===true){return false}});if(q.dockingLayout){try{if(document.referrer!==""||window.frameElement){if(window.top.document.addEventListener){window.top.document.addEventListener("mouseup",q._mouseupHandler,false)}else{if(window.top.document.attachEvent){window.top.document.attachEvent("onmouseup",q._mouseupHandler)}}}}catch(o){}}},_removeHandlers:function(){var f=this,e=f.element.id;if(!f._touchDevice){f.removeHandler(f.host,"mousemove.jqxLayout"+e);f.removeHandler(c(document),"mousemove.jqxLayout"+e);f.removeHandler(f.host,"mousedown.jqxLayout"+e);f.removeHandler(c(document),"mouseup.jqxLayout"+e)}else{f.removeHandler(c(document),"touchstart.jqxLayout"+e);f.removeHandler(c(document),"touchmove.jqxLayout"+e);f.removeHandler(c(document),"touchend.jqxLayout"+e)}f.removeHandler(c(document),"selectstart.jqxLayout"+e);if(f.dockingLayout){try{if(document.referrer!==""||window.frameElement){if(window.top.document.removeEventListener){window.top.document.removeEventListener("mouseup",f._mouseupHandler,false)}else{if(window.top.document.detachEvent){window.top.document.detachEvent("onmouseup",f._mouseupHandler)}}}}catch(a){}}c("."+e+"FloatGroup").off("close")},_createLayout:function(C,L,G){function E(e){var f=L.children(),d=f.eq(0),h=f.eq(1);d.text(e.title);if(!e.content){N=K._originalElement.find('[data-container="'+e.contentContainer+'"]').html()}else{N=e.content}if(N===undefined){N=""}h.html(N)}var K=this,M=G.type;for(var w=0;w<C.length;w++){var B=C[w],O,N,A,F;switch(B.type){case"layoutGroup":O=c("<div></div>");O.addClass(K.toThemeProperty("jqx-layout-group-default"));if(B.orientation==="horizontal"){O.addClass(K.toThemeProperty("jqx-layout-group-default-horizontal"))}L.append(O);if(M==="host"){O.addClass(K.toThemeProperty("jqx-layout-group-root"))}else{var z=G.orientation==="horizontal"?B.width:"100%";var D=G.orientation==="horizontal"?"100%":B.height;O.css({width:z,height:D})}break;case"tabbedGroup":if(M!=="floatGroup"){O=c('<div class="'+K.toThemeProperty("jqx-layout-group-tabbed")+'"><div class="jqx-layout-window-header"><div></div></div><div><div class="jqx-layout-ribbon"><ul class="jqx-layout-ribbon-header jqx-layout-ribbon-header-'+(K.rtl?"rtl":"ltr")+'"></ul><div class="jqx-layout-ribbon-content"></div></div></div></div>');L.append(O);K._addRightClickHandler(O.find(".jqx-layout-window-header"),O)}else{O=c('<div class="jqx-layout-ribbon"><ul class="jqx-layout-ribbon-header jqx-layout-ribbon-header-'+(K.rtl?"rtl":"ltr")+'"></ul><div class="jqx-layout-ribbon-content"></div></div>');L.children().eq(1).append(O)}break;case"documentGroup":case"autoHideGroup":O=c("<div><ul></ul><div></div></div>");L.append(O);if(B.type==="documentGroup"){O.find("ul").addClass("jqx-layout-ribbon-header jqx-layout-ribbon-header-"+(K.rtl?"rtl":"ltr"))}if(K._ie7&&B.type==="autoHideGroup"){O.css("z-index",9999-500*w)}break;case"floatGroup":if(!K._rendered||B.programmaticallyAdded===true){if(!K.dockingLayout){throw new Error("Float groups are only available in the jqxDockingLayout widget. Initialize a jqxDockingLayout (requires jqxdockinglayout.js) instead of a jqxLayout.")}O=c('<div class="'+K.toThemeProperty("jqx-docking-layout-group-floating")+'"><div></div><div></div></div>');L.append(O);if(B.programmaticallyAdded===true){delete B.programmaticallyAdded}}else{continue}break;case"layoutPanel":O={};if(M==="tabbedGroup"){var v=L.find(".jqx-layout-window-header").text();if(v===""){L.find(".jqx-layout-window-header div:eq(0)").text(B.title)}F=c("<li>"+B.title+"</li>");L.find(".jqx-layout-ribbon-header").append(F);if(!K._rendered&&!B.docked){N=K._originalElement.find('[data-container="'+B.contentContainer+'"]').html();if(N===undefined){N=""}}else{N=B.detachedContent}A=c("<div></div>");A.append(N);L.find(".jqx-layout-ribbon-content").append(A);K._addRightClickHandler(F,O)}else{if(M==="autoHideGroup"){c(L.children()[0]).append("<li>"+B.title+"</li>");if(!K._rendered){N=K._originalElement.find('[data-container="'+B.contentContainer+'"]').html();if(N===undefined){N=""}}else{N=B.detachedContent}A=c("<div></div>");A.append(N);var I;if(G.alignment==="left"||G.alignment==="right"){I="jqx-layout-group-auto-hide-content-vertical"}else{I="jqx-layout-group-auto-hide-content-horizontal"}A.addClass(K.toThemeProperty(I));var J=c('<div><div class="jqx-layout-window"><div><div>'+B.title+"</div></div></div></div>");J.children().append(A);c(L.children()[1]).append(J);K._addRightClickHandler(J.find(".jqx-layout-window"),O)}else{if(M==="floatGroup"){E(B)}}}break;case"documentPanel":O={};if(M==="floatGroup"){E(B)}else{F=c("<li>"+B.title+"</li>");c(L.children()[0]).append(F);if(!K._rendered){N=K._originalElement.find('[data-container="'+B.contentContainer+'"]').html();if(N===undefined){N=""}}else{N=B.detachedContent}A=c("<div></div>");A.append(N);c(L.children()[1]).append(A);K._addRightClickHandler(F,O)}break}if(B.items&&B.items.length>0){var H=O;K._createLayout(B.items,H,B)}K._createWidget(G,L,B,O,w);if(K.dockingLayout&&(B.type==="documentGroup"||B.type==="tabbedGroup"||(B.type==="layoutGroup"&&B.items.length===0))){var a={element:O,width:O.width(),height:O.height(),offset:O.offset(),settings:B};K._overlayGroups.push(a);if(B.parent.type==="floatGroup"){B.parent._overlayGroup=a}}}},_createWidget:function(a,o,s,w,u){var v=this,B=a.orientation==="horizontal"?s.width:"100%",n=a.orientation==="horizontal"?"100%":s.height,z=false;s.parent=a;s.widget=w;s.index=u;if(s.widget){s.widget.current=s}function t(){var d=0;for(var e=0;e<s.items.length;e++){if(s.items[e].selected===true){d=e;break}}s.items[d].selected=true;return d}switch(s.type){case"tabbedGroup":var q,A;if(a.type!=="floatGroup"){q=v._initWindowPanel(w,B,n,s.type);A=w.find(".jqx-layout-ribbon");v._tabbedGroupsList.push(s)}else{A=w}if(v.dockingLayout&&(s.allowDrag!==false)){z=true}A.jqxRibbon({theme:v.theme,width:"100%",height:"100%",position:"bottom",selectionMode:"click",animationType:"none",rtl:v.rtl,_roundedCorners:false,initContent:function(e){var d=s.items[e];if(!d.initialized&&d.initContent){d.initContent(A.find(".jqx-ribbon-content-section").eq(e));d.initialized=true}},_removeByDrag:z,reorder:true});A.on("select",function(d){d.stopPropagation();if(d.target.id===A[0].id){d.stopPropagation();var f=d.args.selectedIndex;s.items[f].selected=true;var e=c(c(A.children()[1]).children()[f]).text();if(a.type!=="floatGroup"){q.html(e)}else{a.widget.find(".jqx-window-header").children().eq(0).html(e)}}});A.on("unselect",function(d){d.stopPropagation();if(d.target.id===A[0].id){s.items[d.args.unselectedIndex].selected=false}});A.on("reorder",function(d){v._swapPanelsInLayout(s.items,d.args.newIndex,d.args.oldIndex);var e=d.args.newIndex;setTimeout(function(){if(s.items[e]){v._addRightClickHandler(c(A.find(".jqx-ribbon-item")[e]),s.items[e].widget)}},200)});if(z){A.on("_removeByDrag",function(d){v.dockingLayout._removeByDragHandler(d,s,A);if(s.parent.type==="floatGroup"&&s.items.length===1){A.jqxRibbon({_removeByDrag:false})}});v.dockingLayout._addTabbedGroupHandlers(s,w)}A.jqxRibbon("selectAt",t());break;case"documentGroup":if(v.dockingLayout&&(s.allowDrag!==false)){z=true}w.jqxRibbon({theme:v.theme,width:B,height:n,_roundedCorners:false,position:"top",selectedIndex:t(),selectionMode:"click",animationType:"none",rtl:v.rtl,initContent:function(e){var d=s.items[e];if(!d.initialized&&d.initContent){d.initContent(w.find(".jqx-ribbon-content-section").eq(e));d.initialized=true}},_removeByDrag:z,reorder:true});w.on("select",function(d){d.stopPropagation();if(d.target.id===w[0].id){s.items[d.args.selectedIndex].selected=true}});w.on("unselect",function(d){d.stopPropagation();if(d.target.id===w[0].id){s.items[d.args.unselectedIndex].selected=false}});w.on("reorder",function(d){v._swapPanelsInLayout(s.items,d.args.newIndex,d.args.oldIndex);var e=d.args.newIndex;setTimeout(function(){v._addRightClickHandler(c(w.find(".jqx-ribbon-item")[e]),s.items[e].widget)},200)});if(z){w.on("_removeByDrag",function(d){v.dockingLayout._removeByDragHandler(d,s,w)})}w.addClass(v.toThemeProperty("jqx-layout-group-document"));break;case"autoHideGroup":w.jqxRibbon({theme:v.theme,width:B,height:n,mode:"popup",popupCloseMode:"click",position:s.alignment,selectionMode:"click",animationType:"none",_roundedCorners:false,rtl:v.rtl,initContent:function(f){var d=s.alignment==="top"||s.alignment==="left"?1:0,e=c(c(w.children()[d]).children()[f]),h=e.find(".jqx-layout-window");h.current=w.current.items[f];h.css("border","none");v._initWindowPanel(h,"100%","100%",s.type);if(!s.items[f].initialized&&s.items[f].initContent){s.items[f].initContent(w.find(".jqx-ribbon-content-section").eq(f).children().children().eq(1));s.items[f].initialized=true}}});w.addClass(v.toThemeProperty("jqx-layout-group-auto-hide"));break;case"floatGroup":w.addClass(v.element.id+"FloatGroup");w.jqxWindow({theme:v.theme,width:s.width,maxWidth:null,height:s.height,maxHeight:null,position:{x:s.position.x,y:s.position.y},showCloseButton:s.allowClose!==false,closeButtonAction:"close",rtl:v.rtl,initContent:function(){var d=w.find(".jqx-window-header"),f=v._touchDevice?"touchstart":"mousedown";d.on(f,function(){v.dockingLayout._windowDragged=true;if(s._overlayGroup){s._overlayGroup.self=true}v.dockingLayout._interval();if(v.resizable){v._overlay[0].style.display="block"}var h,C,l;if(s.items[0].type==="documentPanel"){h={type:"documentGroup"};C=s.items[0];l=C.title}else{if(s.items[0].type==="layoutPanel"){h={type:"tabbedGroup"};C=s.items[0];l=C.title}else{if(s.items[0].type==="tabbedGroup"){h=s.items[0]}}}v.dockingLayout._draggedWindow={fromGroup:h,fromPanel:C,title:l,element:w};v.dockingLayout._showEdgeOverlays()});d.on("mouseup",function(){v.dockingLayout._hideOverlays()});if(s.items[0].type==="tabbedGroup"){var e=s.items[0].items[w.find(".jqx-ribbon").jqxRibbon("selectedIndex")].title;w.jqxWindow("setTitle",e)}else{if(s.items[0].initContent){s.items[0].initContent(w.find(".jqx-widget-content"))}}}});w.on("moved",function(d){s.position.x=d.args.x;s.position.y=d.args.y;if(s._overlayGroup){v.dockingLayout._updateOverlayGroup(s._overlayGroup)}v.dockingLayout._windowCreate=false;v.dockingLayout._hideOverlays();v.dockingLayout._clearTextSelection()});w.on("resized",function(e){s.width=e.args.width;s.height=e.args.height;var d=c(this).offset();s.position.x=d.left;s.position.y=d.top;if(s._overlayGroup){v.dockingLayout._updateOverlayGroup(s._overlayGroup)}});w.on("close",function(d){d.stopPropagation();if(d.target.id===w[0].id){if(w.current._overlayGroup){w.current._overlayGroup.removed=true;v.dockingLayout._updateOverlayGroups()}v.dockingLayout._removeFloatGroupObject(w.current)}});break}},_initWindowPanel:function(N,D,E,M){var I=this;N.addClass(I.toThemeProperty("jqx-widget jqx-widget-content jqx-window jqx-layout-pseudo-window jqx-rc-all"));if(!I._ie7){N.css({width:D,height:E})}else{var G=N.parent();if(M==="tabbedGroup"){var P=parseInt(N.css("border-left-width"),10),v=parseInt(N.css("border-right-width"),10),z=parseInt(N.css("border-top-width"),10),K=parseInt(N.css("border-bottom-width"),10),A,w;if(D==="100%"){A=G.width()}else{A=parseFloat(D)/100*G.width()}A-=P+v;if(E==="100%"){w=G.height()}else{w=parseFloat(E)/100*G.height()}w-=z+K;N.css({width:A,height:w})}else{if(M==="autoHideGroup"){N.css({width:D,height:E})}}}var L=I.rtl?"rtl":"ltr";var B=c(N.children()[0]);var a=B.children();a.addClass(I.toThemeProperty("jqx-layout-pseudo-window-title jqx-layout-pseudo-window-title-"+L));B.addClass(I.toThemeProperty("jqx-widget-header jqx-window-header jqx-disableselect jqx-layout-pseudo-window-header"));if(I._ie7){B.css("width",B.width()-parseInt(B.css("padding-left"),10)-parseInt(B.css("padding-right"),10));B.css("height",B.height()-parseInt(B.css("padding-top"),10)-parseInt(B.css("padding-bottom"),10))}var H=0,O,J;if((I.dockingLayout&&N.current.allowClose!==false)||(!I.dockingLayout&&N.current.allowClose===true)){O=c('<div class="'+I.toThemeProperty("jqx-window-close-button-background jqx-layout-pseudo-window-close-background jqx-layout-pseudo-window-close-background-"+L)+'" title="Close"><div class="'+I.toThemeProperty("jqx-window-close-button jqx-icon-close jqx-layout-pseudo-window-close-icon")+'"></div></div>');B.append(O);H+=16}if((M==="tabbedGroup"&&N.current.allowPin!==false)||(M==="autoHideGroup"&&N.current.parent.allowUnpin!==false)){var F;switch(M){case"tabbedGroup":F="jqx-layout-pseudo-window-pin-icon";N.pinned=false;break;case"autoHideGroup":F="jqx-layout-pseudo-window-pinned-icon";N.pinned=true;break}J=c('<div class="'+I.toThemeProperty("jqx-window-close-button-background jqx-layout-pseudo-window-pin-background")+'" title="Auto Hide"><div class="'+I.toThemeProperty(F)+'"></div></div>');if(O){J.addClass(I.toThemeProperty("jqx-layout-pseudo-window-pin-background-"+L))}else{if(I.rtl===false){J.css("right",0)}}B.append(J);H+=16;if(I.dockingLayout&&M==="autoHideGroup"){I.dockingLayout._addAutoHideGroupHandlers(N.current,B,N.current.title,c(N.children()[1]).contents())}}a.css("max-width",B.width()-H);var C=c(N.children()[1]);C.css("height",1+N.height()-B.outerHeight());C.css("margin-left","-1px");C.css("margin-right","-1px");I._addWindowPanelHandlers(O,J,N);return a},_addWindowPanelHandlers:function(n,t,a){var o=this,l=o.element.id,q=a.current,s=q.type;if(n){o.addHandler(n,"click.jqxLayout"+l,function(){if(s==="tabbedGroup"&&q.items.length>1){var d=a.find(".jqx-ribbon-item-selected")[0]._index;o._close(q.items[d])}else{a.fadeOut(function(){o._close(q);a.remove()})}})}if(t){o.addHandler(t,"click.jqxLayout"+l,function(){if(s==="tabbedGroup"&&q.pinValid===true){o._pin(q)}else{if(s==="layoutPanel"){o._unPin(q.parent)}}})}},_getGroupCoordinates:function(){var e=this;e._coordinates=[];function a(d){return d==="layoutGroup"||d==="tabbedGroup"||d==="documentGroup"}function f(s){for(var w=0;w<s.length;w++){var d=s[w];if(a(d.type)){var A=s[w-1],v=s[w+1],z=d.widget.offset(),q,C,t,B,u;if(A&&a(A.type)){if(d.parent.orientation==="horizontal"){q=z.left-5;C=q+10;t=z.top-5;B=t+d.widget.height()+10;u="left"}else{q=z.left-5;C=q+d.widget.width()+10;t=z.top-5;B=t+10;u="top"}e._coordinates.push({x:{from:q,to:C},y:{from:t,to:B},widget:d.widget,side:u,orientation:d.parent.orientation})}if(v&&a(v.type)){if(d.parent.orientation==="horizontal"){q=z.left+d.widget.width()-5;C=q+10;t=z.top-5;B=t+d.widget.height()+10;u="right"}else{q=z.left-5;C=q+d.widget.width()+10;t=z.top+d.widget.height()-5;B=t+10;u="bottom"}e._coordinates.push({x:{from:q,to:C},y:{from:t,to:B},widget:d.widget,side:u,orientation:d.parent.orientation})}if(d.items){f(d.items)}}}}f(e.layout[0].items)},_close:function(s){var o=this,l;s.removed=true;if(s.type==="tabbedGroup"||s.type==="autoHideGroup"||s.type==="documentGroup"){l=s.type==="tabbedGroup"?s.widget.find(".jqx-ribbon"):s.widget;l.jqxRibbon("destroy");if(s.parent.items){var q=s.parent.items[s.index-1],t=s.parent.items[s.index+1],n=s.parent.orientation==="vertical"?"height":"width";var u=function(d){var e=(parseFloat(d[n])+parseFloat(s[n]))+"%";if(d.type==="documentGroup"){if(n==="height"){d.widget.jqxRibbon({height:e})}else{d.widget.jqxRibbon({width:e})}}else{if(d.type==="layoutGroup"||d.type==="tabbedGroup"){d.widget.css(n,e)}}d[n]=e;o._raiseEvent("1",{item:d})};if(q&&q.type!=="autoHideGroup"&&q.type!=="floatGroup"){u(q)}else{if(t&&t.type!=="autoHideGroup"&&t.type!=="floatGroup"){u(t)}}}}else{if(s.type==="layoutPanel"){if(s.parent.type==="tabbedGroup"){l=s.parent.widget.find(".jqx-ribbon");l.jqxRibbon("removeAt",s.index);o._updateLayout(o.layout);if(s.index===0){l.jqxRibbon("selectAt",0)}else{l.jqxRibbon("selectAt",s.index-1)}return}else{if(s.parent.type==="autoHideGroup"){l=s.parent.widget;l.jqxRibbon("removeAt",s.index);var a=l.children("ul").children();if(a.length===0){o._close(l.current)}}}}}o._updateLayout(o.layout);o.render()},_updateLayout:function(a){for(var e=0;e<a.length;e++){if(a[e].removed===true){a.splice(e,1);for(var f=0;f<a.length;f++){a[f].index=f}}else{if(a[e].items){this._updateLayout(a[e].items)}}}},_pin:function(w){var s=this,a=w.parent,n,t,q;if(w.alignment){n=w.alignment}else{var u=Math.abs(w.parent.items.length-1-w.index),z=Math.abs(0-w.index);if(z<u){n=w.parent.orientation==="horizontal"?"left":"top"}else{n=w.parent.orientation==="horizontal"?"right":"bottom"}}var A=n==="top"||n==="left"?w.index+1:w.index-1;if(n==="left"||n==="right"){t="width";q=w.pinnedWidth}else{t="height";q=w.pinnedHeight}if(!q){if(t==="width"){q=(8000/w.parent.widget.width())+"%"}else{if(t==="height"){q=(3000/w.parent.widget.height())+"%"}}}s._detachContent(w.items,true);var o={type:"autoHideGroup",alignment:n,items:w.items};o[t]=q;o["min"+t.charAt(0).toUpperCase()+t.slice(1)]=w["min"+t.charAt(0).toUpperCase()+t.slice(1)];o["unpinned"+t.charAt(0).toUpperCase()+t.slice(1)]=w[t];o.allowDrag=w.allowDrag;o.allowDrop=w.allowDrop;var v=a.items[A];v[t]=parseFloat(v[t])+parseFloat(w[t])-parseFloat(q)+"%";a.items.splice(w.index,0,o);w.removed=true;w.widget.find(".jqx-ribbon").jqxRibbon("destroy");w.widget.remove();s._updateLayout(s.layout);s.render();s._raiseEvent("1",{item:v});s._raiseEvent("2",{item:o})},_unPin:function(v){var t=this,o=v.parent,q=v.alignment,B=q==="top"||q==="left"?v.index+1:v.index-1,a=o.items[B],u,A,w;if(q==="left"||q==="right"){u="width";A=v.unpinnedWidth}else{u="height";A=v.unpinnedHeight}if(!A){A="10%"}t._detachContent(v.items,true);var s={type:"tabbedGroup",alignment:q,items:v.items};s["pinned"+u.charAt(0).toUpperCase()+u.slice(1)]=v[u];s.allowDrag=v.allowDrag;s.allowDrop=v.allowDrop;if(a){var z=parseFloat(a[u])+parseFloat(v[u])-parseFloat(A)+"%",n=a["min"+u.charAt(0).toUpperCase()+u.slice(1)];if(!n){n=t["minGroup"+u.charAt(0).toUpperCase()+u.slice(1)]}if(parseFloat(z)<t._getPercentage(n,o,u)){A=v[u];z=t._getPercentage(n,o,u)+"%";s["min"+u.charAt(0).toUpperCase()+u.slice(1)]=v.widget.width()}else{s["min"+u.charAt(0).toUpperCase()+u.slice(1)]=v["min"+u.charAt(0).toUpperCase()+u.slice(1)]}s[u]=A;a[u]=z;w=a}else{s["min"+u.charAt(0).toUpperCase()+u.slice(1)]=v["min"+u.charAt(0).toUpperCase()+u.slice(1)];s[u]="100%";w=s}o.items.splice(v.index,0,s);v.removed=true;v.widget.jqxRibbon("destroy");t._updateLayout(t.layout);t.render();t._raiseEvent("1",{item:w});t._raiseEvent("3",{item:s})},_copyItem:function(q,h){var l={};for(var n in q){if(q.hasOwnProperty(n)&&n!=="parent"&&n!=="widget"&&n!=="initialized"){if(n==="position"){l.position={x:q.position.x,y:q.position.y}}else{if(n==="items"){var a=[];for(var o=0;o<q.items.length;o++){this._copyItem(q.items[o],a)}l.items=a}else{l[n]=q[n]}}}}h.push(l)},_addResizeFeedbacks:function(){var a=this;a._horizontalFeedback=c('<div class="'+a.toThemeProperty("jqx-fill-state-normal jqx-layout-resize-feedback jqx-layout-resize-feedback-horizontal")+'"></div>');a._verticalFeedback=c('<div class="'+a.toThemeProperty("jqx-fill-state-normal jqx-layout-resize-feedback jqx-layout-resize-feedback-vertical")+'"></div>');a._overlay=c('<div class="'+a.toThemeProperty("jqx-layout-overlay")+'"></div>');if(a.dockingLayout&&a.dockingLayout._windowDragged){a._overlay[0].style.display="block"}a.host.append(a._horizontalFeedback,a._verticalFeedback,a._overlay)},_detachContent:function(n,t){function u(d){if(d.prevent===true){d.prevent=false}else{var e=d.parent.widget.find(".jqx-ribbon-content-section").eq(d.index);q=e.contents().detach();e.remove();d.detachedContent=q;if(t===true){d.prevent=true}}}for(var s=n.length-1;s>=0;s--){var a=n[s],l=a.type,q;if(l==="layoutGroup"||l==="tabbedGroup"||l==="documentGroup"||l==="autoHideGroup"||l==="floatGroup"){if(a.items&&a.items.length>0){this._detachContent(a.items)}}else{if(l==="layoutPanel"){if(a.parent.type==="tabbedGroup"){u(a)}else{if(a.parent.type==="autoHideGroup"){if(a.prevent===true){a.prevent=false}else{if(a.parent.alignment==="left"||a.parent.alignment==="right"){var v=a.parent.widget.find(".jqx-layout-group-auto-hide-content-vertical").eq(s);q=v.contents().detach();v.remove()}else{var o=a.parent.widget.find(".jqx-layout-group-auto-hide-content-horizontal").eq(s);q=o.contents().detach();o.remove()}a.detachedContent=q;if(t===true){a.prevent=true}}}}}else{if(l==="documentPanel"){u(a)}}}}},_pxToPercent:function(l,a){function h(d,e){var s,f;d=parseInt(d,10);if(a){f=n.host[e]()}else{f=l["initialPx"+e.charAt(0).toUpperCase()+e.slice(1)]}s=(100*d/f).toString()+"%";return s}var n=this;for(var o=0;o<l.items.length;o++){var q=l.items[o];if(q.width!==undefined){q.initialPxWidth=q.width;q.width=h(q.width,"width")}else{q.initialPxWidth=l.initialPxWidth}if(q.height!==undefined){q.initialPxHeight=q.height;q.height=h(q.height,"height")}else{q.initialPxHeight=l.initialPxHeight}if(q.unpinnedWidth!==undefined){q.unpinnedWidth=h(q.unpinnedWidth,"width")}if(q.pinnedWidth!==undefined){q.pinnedWidth=h(q.pinnedWidth,"width")}if(q.unpinnedHeight!==undefined){q.unpinnedHeight=h(q.unpinnedHeight,"height")}if(q.pinnedHeight!==undefined){q.pinnedHeight=h(q.pinnedHeight,"height")}if(q.type==="layoutGroup"&&q.items&&q.items.length>0){n._pxToPercent(q,false)}}},_percentToPx:function(e,f,a){if(f===undefined){return undefined}else{if(typeof f!=="string"||(typeof f==="string"&&f.charAt(f.length-1)!=="%")){return parseFloat(f)}else{return parseFloat(f.slice(0,f.length-1))/100*a.widget[e]()}}},_swapPanelsInLayout:function(a,l,n){var h=a[l];a[l]=a[n];a[l].index=l;a[n]=h;a[n].index=n},_initMenu:function(){var o=this;if(!o._menuInitialized){var h=o.element.id,l="",n=function(e,f,d){o._menu.jqxMenu("disable","dockOption"+h,e);o._menu.jqxMenu("disable","autoHideOption"+h,f);o._menu.jqxMenu("disable","closeOption"+h,d)};if(!o.host.jqxMenu){throw new Error("jqxLayout: Missing reference to jqxmenu.js.")}if(o.dockingLayout){l='<li id="floatOption'+h+'">Float</li>'}o._menu=c('<div class="'+o.toThemeProperty("jqx-layout-context-menu jqx-layout-context-menu-"+h)+'"><ul>'+l+'<li id="dockOption'+h+'">Dock</li><li id="autoHideOption'+h+'" style="white-space: nowrap;">Auto Hide</li><li id="closeOption'+h+'">Close</li></ul></div>');c("body").append(o._menu);o._menu.jqxMenu({theme:o.theme,width:100,height:"auto",autoOpenPopup:false,mode:"popup",popupZIndex:99999,rtl:o.rtl});o._menuInitialized=true;o._menu.on("itemclick",function(d){o._handleMenuItemClick(c(d.target).text())});var a=function(d){if(o.dockingLayout){return d.allowClose===false}else{return d.allowClose!==true}};o._menu.on("shown",function(){switch(o._contextMenuTarget.type){case"tabbedGroup":n(true,o._contextMenuTarget.allowPin===false||o._contextMenuTarget.pinValid===false,a(o._contextMenuTarget));break;case"layoutPanel":var d=o._contextMenuTarget.parent;if(d.type==="tabbedGroup"){n(true,d.allowPin===false||o._isMiddleTabbedGroup(d),a(d))}else{if(d.type==="autoHideGroup"){n(d.allowUnpin===false,true,a(o._contextMenuTarget))}}break;case"documentPanel":n(true,true,a(o._contextMenuTarget));break}})}},_addRightClickHandler:function(e,a){var f=this;if(f.contextMenu===true){f.addHandler(e,"mousedown.jqxLayout"+f.element.id,function(l){if(f.contextMenu===true&&((l.which&&l.which===3)||(l.button&&l.button===2))){var h=c(window).scrollTop(),d=c(window).scrollLeft();f._contextMenuTarget=a.current;f._menu.jqxMenu("open",parseInt(l.clientX,10)+5+d,parseInt(l.clientY,10)+5+h)}});f.addHandler(e,"contextmenu.jqxLayout"+f.element.id,function(){if(f.contextMenu===true){return false}})}},_handleMenuItemClick:function(h){var l=this,o=l._contextMenuTarget.type,a=l._contextMenuTarget.parent;switch(h){case"Float":switch(o){case"tabbedGroup":l.dockingLayout._floatTabbedGroup(l._contextMenuTarget,l._contextMenuTarget.widget);break;case"layoutPanel":if(a.type==="tabbedGroup"){l.dockingLayout._removeByDragHandler(undefined,a,a.widget,l._contextMenuTarget.index,false)}else{if(a.type==="autoHideGroup"){var n=l._contextMenuTarget.parent.widget.find(".jqx-ribbon-content").children().eq(l._contextMenuTarget.index).find(".jqx-layout-window").children().eq(1).contents();l.dockingLayout._floatAutoHideGroup(l._contextMenuTarget,l._contextMenuTarget.title,n)}}break;case"documentPanel":l.dockingLayout._removeByDragHandler(undefined,a,a.widget,l._contextMenuTarget.index,false);break}break;case"Dock":l._unPin(l._contextMenuTarget.parent);break;case"Auto Hide":switch(o){case"tabbedGroup":l._pin(l._contextMenuTarget);break;case"layoutPanel":l._pin(l._contextMenuTarget.parent);break}break;case"Close":switch(o){case"tabbedGroup":l._close(l._contextMenuTarget);break;case"layoutPanel":if(l._contextMenuTarget.parent.items.length>1){l._close(l._contextMenuTarget)}else{l._close(l._contextMenuTarget.parent)}break;case"documentPanel":l._closeDocumentPanel(l._contextMenuTarget.index,l._contextMenuTarget.parent.items,l._contextMenuTarget.parent,l._contextMenuTarget.parent.widget,false);break}}},_closeDocumentPanel:function(u,q,a,l,s){var o=this;if(s===false){l.jqxRibbon("removeAt",u)}if(q.length>1){var n=false;q[u].removed=true;o._updateLayout(q);for(var t=0;t<q.length;t++){if(q[t].selected===true){n=true;break}}setTimeout(function(){if(n===false){if(q[u]){l.jqxRibbon("selectAt",u)}else{l.jqxRibbon("selectAt",u-1)}}else{l.jqxRibbon("render")}},0)}else{o._close(a)}},_isMiddleTabbedGroup:function(a){return !(a.index===0||a.index===a.parent.items.length-1)},_validateTabbedGroup:function(l){var f=this,h=true;h=h&&l.parent.items.length>1;if(h){if(l.parent.items.length===2){var a=l.index===0?1:0;if(l.parent.items[a].type==="autoHideGroup"){h=false}}}if(h){h=h&&!f._isMiddleTabbedGroup(l)}l.pinValid=h;if(h===false){l.widget.find(".jqx-layout-pseudo-window-pin-background").addClass("jqx-fill-state-disabled")}},_mouseupHandler:function(e){var f=this;try{if(f.dockingLayout){f._docUP(e);f.dockingLayout._windowCreate=false;f.dockingLayout._hideOverlays()}}catch(a){}}})})(jqxBaseFramework);(function(c){c.jqx.jqxWidget("jqxDockingLayout","jqxLayout",{});c.extend(c.jqx._jqxDockingLayout.prototype,{defineInstance:function(){if(this.base===null){throw new Error("jqxDockingLayout: Missing reference to jqxlayout.js.")}this.base.dockingLayout=this;var a={events:["float","dock"]};c.extend(true,this,a)},createInstance:function(){var a=this;if(!a.base.host.jqxWindow){throw new Error("jqxDockingLayout: Missing reference to jqxwindow.js.")}a._oldIE=c.jqx.browser.msie&&c.jqx.browser.version<9;a._addClasses();a._createOverlay();a._createEdgeOverlays()},loadLayout:function(a){if(a!==undefined&&c.isEmptyObject(a)===false){var f=this.base,e=f.element.id;if(c("."+e+"FloatGroup").length>0){c("."+e+"FloatGroup").off();c("."+e+"FloatGroup").jqxWindow("destroy")}f.loadLayout(a)}},destroy:function(){var a=this,f=a.base,e=f.element.id;if(c("."+e+"FloatGroup").length>0){c("."+e+"FloatGroup").off();c("."+e+"FloatGroup").jqxWindow("destroy")}a._removeHandlers();f.destroy()},addFloatGroup:function(v,a,u,l,o,t,q){var w=this.base,n={type:"floatGroup",width:v,height:a,position:u,items:[],programmaticallyAdded:true},s={type:l,title:o,content:t,initContent:q};n.items.push(s);w.layout.push(n);w.render()},_raiseEvent:function(h,o){if(o===undefined){o={owner:null}}var n=this.events[h];o.owner=this;var l=new c.Event(n);l.owner=this;l.args=o;if(l.preventDefault){l.preventDefault()}var a=this.base.host.trigger(l);return a},_addClasses:function(){var a=this.base;a.host.addClass(a.toThemeProperty("jqx-docking-layout"))},_removeHandlers:function(){var a=this,f=a.base,e=f.element.id;a.removeHandler(c(document),"mousemove.jqxDockingLayout"+e);a.removeHandler(f.host,"mouseleave.jqxDockingLayout"+e);if(f._touchDevice){a.removeHandler(c(document),"touchmove.jqxDockingLayout"+e);a.removeHandler(c(document),"touchend.jqxDockingLayout"+e)}},_removeByDragHandler:function(v,l,s,o,t){if(o===undefined){o=v.args.draggedIndex}if(t===undefined){t=true}if(!s.hasClass("jqx-ribbon")){s=s.find(".jqx-ribbon")}var q=this,a=l.items,u=a[o],n=l.widget.find(".jqx-ribbon-content-section").eq(o).contents().detach();q._createFloatGroup(v,u.title,n,"documentGroup",l,u);q.base._closeDocumentPanel(o,a,l,s,t)},_floatTabbedGroup:function(s,u,A){var t=this,n,w,q=[],z=u.find(".jqx-ribbon");for(var v=0;v<s.items.length;v++){var a=s.items[v],o=z.find(".jqx-ribbon-content-section").eq(v).contents().detach();if(a.selected){n=a.title;w=v}q.push(o)}t._createFloatGroup(A,n,q,"tabbedGroup",s,null,w);t.base._close(s);if(A){A.target.style.cursor=""}},_addTabbedGroupHandlers:function(o,s){var q=this,v=q.base,w=v.element.id,t=s.find(".jqx-layout-window-header"),n=false,u,a=v._touchDevice?["touchstart","touchend"]:["mousedown","mouseup"];function l(d){if(n===true&&v._clickedToResize!==true){q._floatTabbedGroup(o,s,d);n=false}}q.addHandler(t,a[0]+".jqxDockingLayout"+w,function(e){if(o.allowDrag!==false){n=true;e.target.style.cursor="move";if(v._touchDevice){var d=e.originalEvent.touches[0];u=document.elementFromPoint(d.pageX,d.pageY)}}});q.addHandler(t,a[1]+".jqxDockingLayout"+w,function(d){n=false;d.target.style.cursor=""});if(!v._touchDevice){q.addHandler(t,"mouseleave.jqxDockingLayout"+w,function(d){l({pageX:d.pageX,pageY:d.pageY,target:d.target})})}else{q.addHandler(c(document),"touchmove.jqxDockingLayout"+w,function(e){if(v._clickedToResize===true){e.preventDefault()}var d=e.originalEvent.touches[0];if(u!==document.elementFromPoint(d.pageX,d.pageY)){l({pageX:d.pageX,pageY:d.pageY,target:u})}})}},_floatAutoHideGroup:function(l,h,n,o){var a=this;a._createFloatGroup(o,h,n.detach(),"autoHideGroup",l,l);a.base._close(l)},_addAutoHideGroupHandlers:function(t,v,q,s){var u=this,z=u.base,A=z.element.id,o=false,w,a=z._touchDevice?["touchstart","touchend"]:["mousedown","mouseup"];function n(d){if(o===true){u._floatAutoHideGroup(t,q,s,d);o=false;d.target.style.cursor=""}}u.addHandler(v,a[0]+".jqxDockingLayout"+A,function(d){if(t.parent.allowDrag!==false){o=true;d.target.style.cursor="move";if(z._touchDevice){var e=d.originalEvent.touches[0];w=document.elementFromPoint(e.pageX,e.pageY)}}});u.addHandler(v,a[1]+".jqxDockingLayout"+A,function(d){o=false;d.target.style.cursor=""});if(!z._touchDevice){u.addHandler(v,"mouseleave.jqxDockingLayout"+A,function(d){n({pageX:d.pageX,pageY:d.pageY,target:d.target})})}else{u.addHandler(c(document),"touchmove.jqxDockingLayout"+A,function(d){if(z._clickedToResize===true){d.preventDefault()}var e=d.originalEvent.touches[0];if(w!==document.elementFromPoint(e.pageX,e.pageY)){n({pageX:e.pageX,pageY:e.pageY,target:w})}})}},_createFloatGroup:function(V,J,a,ae,M,X,af){var ab=this,ad=ab.base,Y,Z,L,N,R,ai,ag=c('<div class="'+ad.toThemeProperty("jqx-docking-layout-group-floating")+" "+ad.element.id+'FloatGroup"><div></div><div></div></div>');c("body").append(ag);if(ae==="documentGroup"){if(V){Y=V.args.x;Z=V.args.y}L=M.widget.width();N=M.widget.height();R=a}else{if(ae==="tabbedGroup"){if(V){Y=V.pageX;Z=V.pageY}L=M.widget.width();N=M.widget.height();R="";ai=c("<div></div>");var K=c("<div></div>"),P=c('<ul class="jqx-layout-ribbon-header jqx-layout-ribbon-header-'+(ab.rtl?"rtl":"ltr")+'"></ul>');for(var T=0;T<M.items.length;T++){var ac=M.items[T],O=c("<div></div>");var S=c("<li>"+ac.title+"</li>");P.append(S);O.append(a[T]);K.append(O)}ai.append(P);ai.append(K);R=ai}else{if(ae==="autoHideGroup"){if(V){Y=V.pageX;Z=V.pageY}L=M.parent.widget.find(".jqx-ribbon-content").width();N=M.parent.widget.height();R=a}}}if(!Y&&!Z){var ah=ad.host.offset();Y=(ad.host.width()-L)/2+ah.left+100;Z=(ad.host.height()-N)/2+ah.top+10}ag.on("moved close",function(d){ab._hideOverlays();var e=ag.current;if(d.type==="moved"){e.position.x=d.args.x;e.position.y=d.args.y;if(e._overlayGroup){ab._updateOverlayGroup(e._overlayGroup)}ab._clearTextSelection();ab._windowCreate=false;ab._hideOverlays()}else{if(e._overlayGroup){e._overlayGroup.removed=true;ab._updateOverlayGroups()}e.removed=true;ad._updateLayout(ad.layout)}});ag.on("resized",function(e){var f=ag.current,d=c(this).offset();f.width=e.args.width;f.height=e.args.height;f.position.x=d.left;f.position.y=d.top;if(f._overlayGroup){ab._updateOverlayGroup(f._overlayGroup)}});ag.jqxWindow({theme:ad.theme,title:J,content:R,width:L,maxWidth:null,height:N,maxHeight:null,position:{x:Y-100,y:Z-10},closeButtonAction:"close",rtl:ad.rtl,initContent:function(){var d=ag.find(".jqx-window-header"),f=ad._touchDevice?"touchstart":"mousedown",e;if(ae==="autoHideGroup"){e=M.parent}else{e=M}if(V){ab._draggedWindow={fromGroup:e,fromPanel:X,title:J,element:ag};d.trigger("mousedown",[Y,Z]);ab._windowDragged=true;ab._windowCreate=true;ab._interval();if(ad.resizable){ad._overlay[0].style.display="block"}ab._showEdgeOverlays()}d.on(f,function(){ab._windowDragged=true;if(ag.current._overlayGroup){ag.current._overlayGroup.self=true}ab._interval();if(ad.resizable){ad._overlay[0].style.display="block"}ab._draggedWindow={fromGroup:e,fromPanel:X,title:J,element:ag};ab._showEdgeOverlays()});d.on("mouseup",function(){ab._hideOverlays();ab._windowCreate=false});if(ae==="tabbedGroup"){ai.jqxRibbon({theme:ad.theme,width:"100%",height:"100%",position:"bottom",selectedIndex:af,selectionMode:"click",animationType:"none",rtl:ad.rtl,reorder:true,_removeByDrag:true});ai.on("select",function(h){if(!(h.owner.widgetName&&h.owner.widgetName!=="jqxRibbon")){var l=ag.current.items[0].items[h.args.selectedIndex];ag.jqxWindow("setTitle",l.title);l.selected=true}});ai.on("unselect",function(h){if(!(h.owner.widgetName&&h.owner.widgetName!=="jqxRibbon")){ag.current.items[0].items[h.args.unselectedIndex].selected=false}});ai.on("reorder",function(h){ad._swapPanelsInLayout(ag.current.items[0].items,h.args.newIndex,h.args.oldIndex)});ai.on("_removeByDrag",function(h){ab._removeByDragHandler(h,ag.current.items[0],ai);if(ag.current.items[0].items.length===1){ai.jqxRibbon({_removeByDrag:false})}})}}});var aa={type:"floatGroup",parent:{type:"host"},widget:ag,position:{x:Y-100,y:Z-10},index:ad.layout.length,width:L,height:N},Q,U;ag.current=aa;if(X){aa.items=[];ad._copyItem(X,aa.items);Q=aa.items;U=aa}else{aa.items=[{type:"tabbedGroup",items:[],parent:aa,widget:ai}];Q=aa.items[0].items;for(var W=0;W<M.items.length;W++){ad._copyItem(M.items[W],Q)}U=aa.items[0]}for(var I=0;I<Q.length;I++){Q[I].parent=U}ad.layout.push(aa);ab._raiseEvent("0",{item:aa});ab._trackFloatGroups()},_interval:function(){var f=this;if(f._oldIE===true){var a=f._overlay.width(),e=f._overlay.height();f._oldIEInterval=setInterval(function(){f._checkPosition(a,e);if(f._windowCreate){f._draggedWindow.element.jqxWindow("move",f._x-50,f._y-10)}},1000)}},_createOverlay:function(){var s=this,q=s.base,l=q.element.id;s._overlay=c('<div class="'+q.toThemeProperty("jqx-docking-layout-overlay")+'"></div>');var u=c('<div class="jqx-docking-layout-overlay-section"><div class="'+q.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-square jqx-docking-layout-overlay-square-invisible")+'"></div><div class="'+q.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-square jqx-widget-content jqx-docking-layout-overlay-square-top")+'"><div class="'+q.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-inner-square")+'"><div class="'+q.toThemeProperty("jqx-widget-header jqx-docking-layout-overlay-inner-square-header")+'"></div><div class="'+q.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-inner-square-content")+'"><div class="'+q.toThemeProperty("jqx-widget-content jqx-fill-state-pressed jqx-docking-layout-overlay-highlight jqx-docking-layout-overlay-highlight-top")+'"></div></div></div></div><div class="'+q.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-square jqx-docking-layout-overlay-square-invisible")+'"></div></div><div class="jqx-docking-layout-overlay-section"><div class="'+q.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-square jqx-widget-content jqx-docking-layout-overlay-square-left")+'"><div class="'+q.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-inner-square")+'"><div class="'+q.toThemeProperty("jqx-widget-header jqx-docking-layout-overlay-inner-square-header")+'"></div><div class="'+q.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-inner-square-content")+'"><div class="'+q.toThemeProperty("jqx-widget-content jqx-fill-state-pressed jqx-docking-layout-overlay-highlight jqx-docking-layout-overlay-highlight-left")+'"></div></div></div></div><div class="'+q.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-square jqx-widget-content jqx-docking-layout-overlay-square-center")+'"><div class="'+q.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-inner-square")+'"><div class="'+q.toThemeProperty("jqx-widget-header jqx-docking-layout-overlay-inner-square-header")+'"></div><div class="'+q.toThemeProperty("jqx-widget-content jqx-fill-state-pressed jqx-docking-layout-overlay-inner-square-content jqx-docking-layout-overlay-highlight")+'"></div></div></div><div class="'+q.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-square jqx-widget-content jqx-docking-layout-overlay-square-right")+'"><div class="'+q.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-inner-square")+'"><div class="'+q.toThemeProperty("jqx-widget-header jqx-docking-layout-overlay-inner-square-header")+'"></div><div class="'+q.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-inner-square-content")+'"><div class="'+q.toThemeProperty("jqx-widget-content jqx-fill-state-pressed jqx-docking-layout-overlay-highlight jqx-docking-layout-overlay-highlight-right")+'"></div></div></div></div></div><div class="jqx-docking-layout-overlay-section"><div class="'+q.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-square jqx-docking-layout-overlay-square-invisible")+'"></div><div class="'+q.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-square jqx-widget-content jqx-docking-layout-overlay-square-bottom")+'"><div class="'+q.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-inner-square")+'"><div class="'+q.toThemeProperty("jqx-widget-header jqx-docking-layout-overlay-inner-square-header")+'"></div><div class="'+q.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-inner-square-content")+'"><div class="'+q.toThemeProperty("jqx-widget-content jqx-fill-state-pressed jqx-docking-layout-overlay-highlight jqx-docking-layout-overlay-highlight-bottom")+'"></div></div></div></div><div class="'+q.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-square jqx-docking-layout-overlay-square-invisible")+'"></div></div>');s._overlay.append(u);s._overlayCenter=s._overlay.find(".jqx-docking-layout-overlay-square-center").children();s._dropOverlay=c('<div class="'+s.toThemeProperty("jqx-docking-layout-drop-overlay")+'"></div>');if(!q._ie7){q.host.append(s._overlay,s._dropOverlay)}else{c("body").append(s._overlay,s._dropOverlay)}s._addOverlayHandlers();s._squares=s._overlay.find(".jqx-docking-layout-overlay-square-top").add(s._overlay.find(".jqx-docking-layout-overlay-square-left")).add(s._overlay.find(".jqx-docking-layout-overlay-square-center")).add(s._overlay.find(".jqx-docking-layout-overlay-square-right")).add(s._overlay.find(".jqx-docking-layout-overlay-square-bottom"));s._sansCenter=s._squares.not(".jqx-docking-layout-overlay-square-center").find(".jqx-docking-layout-overlay-inner-square");var t=false;function n(f,h,d,e){s._dropOverlay.show();s._dropOverlay[0].style.width=f+"px";s._dropOverlay[0].style.height=h+"px";s._dropOverlay.offset({left:d,top:e})}function o(e){e=e.closest(".jqx-docking-layout-overlay-square");t=e;if(e.find(".jqx-docking-layout-overlay-inner-square").hasClass("jqx-fill-state-disabled")){return}var d=s._dropToGroup.element.width(),f=s._dropToGroup.element.height(),h=s._dropToGroup.element.offset();if(e.hasClass("jqx-docking-layout-overlay-square-top")){n(d,f/2,h.left,h.top)}else{if(e.hasClass("jqx-docking-layout-overlay-square-left")){n(d/2,f,h.left,h.top)}else{if(e.hasClass("jqx-docking-layout-overlay-square-center")&&!s._overlayCenter.hasClass("jqx-docking-layout-square-disabled")){n(d,f,h.left,h.top)}else{if(e.hasClass("jqx-docking-layout-overlay-square-right")){n(d/2,f,h.left+d/2,h.top)}else{if(e.hasClass("jqx-docking-layout-overlay-square-bottom")){n(d,f/2,h.left,h.top+f/2)}else{if(q._touchDevice){s._dropOverlay.hide();t=false}}}}}}}function a(B){var z=s._dropToGroup.settings;if(B.find(".jqx-docking-layout-overlay-inner-square").hasClass("jqx-fill-state-disabled")){s._hideOverlays();return}if(B.hasClass("jqx-docking-layout-overlay-square-top")){s._dropHandler(0,"vertical","height","top")}else{if(B.hasClass("jqx-docking-layout-overlay-square-left")){s._dropHandler(0,"horizontal","width","left")}else{if(B.hasClass("jqx-docking-layout-overlay-square-center")){var f=s._getDraggedWindowInformation(),C=f.title,e=f.content,A,d;if(z.type==="documentGroup"){A=z.widget;d="documentPanel"}else{if(z.type==="tabbedGroup"){if(z.parent.type==="floatGroup"){A=z.widget}else{A=z.widget.find(".jqx-ribbon")}d="layoutPanel"}}if(z.type==="layoutGroup"){s._dropToEmptyLayoutGroup(f)}else{for(var v=0;v<C.length;v++){A.jqxRibbon("addAt",A.find(".jqx-ribbon-content-section").length,{title:C[v],content:e[v]});var w=z.items.length,h={type:d,title:C[v],parent:z,index:w,detachedContent:f.content[v],docked:true};z.items.push(h);q._addRightClickHandler(c(A.find(".jqx-ribbon-item")[w]),{current:h})}}if(z.parent.type==="floatGroup"){z.widget.jqxRibbon({_removeByDrag:true})}s._clearTextSelection();s._raiseEvent("1",{position:"center",item:z})}else{if(B.hasClass("jqx-docking-layout-overlay-square-right")){s._dropHandler(1,"horizontal","width","right")}else{if(B.hasClass("jqx-docking-layout-overlay-square-bottom")){s._dropHandler(1,"vertical","height","bottom")}}}}}s._removeFloatGroupObject(s._draggedWindow.element.current);s._draggedWindow.element.remove();s._hideOverlays()}if(!q._touchDevice){s.addHandler(s._squares,"mouseenter.jqxDockingLayout"+l,function(){o(c(this))});s.addHandler(s._squares,"mouseleave.jqxDockingLayout"+l,function(){s._dropOverlay.hide()});s.addHandler(s._squares,"mouseup.jqxDockingLayout"+l,function(){a(c(this))})}else{s.addHandler(c(document),"touchmove.jqxDockingLayout"+l,function(f){if(s._windowDragged){f.preventDefault();var e=f.originalEvent.touches[0],d=c(document.elementFromPoint(e.pageX,e.pageY));o(d)}});s.addHandler(c(document),"touchend.jqxDockingLayout"+l,function(){if(t!==false){a(t);t=false}})}},_addOverlayHandlers:function(){var f=this,a=f._overlay.width(),e=f._overlay.height();if(!f.base._touchDevice){f.addHandler(c(document),"mousemove.jqxDockingLayout"+f.base.element.id,function(d){f._x=d.pageX;f._y=d.pageY;if(f._windowDragged&&!f._oldIE){f._checkPosition(a,e);if(f._windowCreate){f._draggedWindow.element.jqxWindow("move",d.pageX-50,d.pageY-10)}}})}else{f.addHandler(c(document),"touchmove.jqxDockingLayout"+f.base.element.id,function(d){var h=d.originalEvent.touches[0];f._x=h.pageX;f._y=h.pageY;if(f._windowDragged&&!f._oldIE){f._checkPosition(a,e);if(f._windowCreate){f._draggedWindow.element.jqxWindow("move",h.pageX-50,h.pageY-10)}}})}},_checkPosition:function(w,q){var z=this,D=z.base,t=z._x,u=z._y;for(var A=0;A<D._overlayGroups.length;A++){var a=D._overlayGroups[A];if(!a.self){var E=a.width,s=a.height,B=a.offset,C=B.left,v=B.top;if(t>=C&&t<=C+E&&u>=v&&u<=v+s){if(((a.settings.type==="documentGroup"&&z._draggedWindow.fromGroup.type==="documentGroup")||(a.settings.type==="tabbedGroup"&&(z._draggedWindow.fromGroup.type==="tabbedGroup"||z._draggedWindow.fromGroup.type==="autoHideGroup"))||(a.settings.type==="layoutGroup"))&&a.settings.allowDrop!==false){z._overlayCenter.removeClass(D.toThemeProperty("jqx-fill-state-disabled"))}else{z._overlayCenter.addClass(D.toThemeProperty("jqx-fill-state-disabled"));if(a.settings.parent.type==="floatGroup"){return}}if(a.settings.parent.type==="floatGroup"){z._sansCenter.addClass(D.toThemeProperty("jqx-fill-state-disabled"))}else{z._sansCenter.removeClass(D.toThemeProperty("jqx-fill-state-disabled"))}z._overlay[0].style.display="block";z._overlay.offset({left:parseInt(C+E/2-w/2,10),top:parseInt(v+s/2-q/2,10)});z._dropToGroup=a;return}}}z._overlay[0].style.display="none"},_dropHandler:function(L,F,D,a){var S=this,U=S.base,Q=S._dropToGroup.settings,V=Q.parent,O=S._getDraggedWindowInformation(),K=O.title,I=O.content,M=O.groupType,B=O.itemType,P=[],W,E;if(V.orientation===F){W=Q.index+L;E={type:M,parent:V};E[D]=S._draggedWindow.element[D]();for(var G=0;G<K.length;G++){P.push({type:B,title:K[G],parent:E,prevent:true,selected:S._getFloatGroupItemSelection(G),detachedContent:I[G],docked:true})}E.items=P;S._setOptimalDimension(D,E,Q);V.items.splice(W,0,E)}else{var C,T;if(D==="width"){C="height";T="minHeight"}else{C="width";T="minWidth"}var R={type:"layoutGroup",orientation:F,parent:Q.parent,index:Q.index};R[C]=Q[C];if(Q[T]){R[T]=Q[T]}Q.parent.items.splice(Q.index,1);Q.parent.items.splice(Q.index,0,R);Q.parent=R;E={type:M,parent:R};for(var H=0;H<K.length;H++){P.push({type:B,title:K[H],parent:E,prevent:true,selected:S._getFloatGroupItemSelection(H),detachedContent:I[H],docked:true})}E.items=P;delete Q[C];Q[D]="50%";E[D]="50%";R.items=[Q];R.items.splice(0+L,0,E)}U.render();var N=E.widget.find(".jqx-ribbon-content-section");for(var J=0;J<N.length;J++){c(N[J]).append(I[J])}S._clearTextSelection();U._raiseEvent("1",{item:Q});S._raiseEvent("1",{position:a,item:E})},_setOptimalDimension:function(t,v,u){var s=this,a=t==="width"?"minWidth":"minHeight",o=u[a]||s.base["minGroup"+t.charAt(0).toUpperCase()+t.slice(1)],q;q=parseFloat(u[t])-o/u.parent.widget[t]()*100;var l=v[t]/u.parent.widget[t]()*100;if(q<l){v[t]=parseFloat(u[t])/2+"%";u[t]=parseFloat(u[t])-parseFloat(v[t])+"%";var n=parseInt(parseFloat(u[t])/100*u.parent.widget[t](),10);if(n<o){u[a]=n}}else{v[t]=l+"%";u[t]=parseFloat(u[t])-l+"%"}},_dropToEmptyLayoutGroup:function(u){var t=this,v=t._dropToGroup.settings,o=u.groupType,q={type:o,items:[],parent:v},s=u.content;if(v.orientation==="horizontal"){q.width="100%"}else{if(v.orientation==="vertical"){q.height="100%"}}for(var w=0;w<u.title.length;w++){var a={type:u.itemType,title:u.title[w],parent:q,prevent:true,selected:t._getFloatGroupItemSelection(w),detachedContent:s[w],docked:true};q.items.push(a)}v.items.push(q);t.base.render();var n=q.widget.find(".jqx-ribbon-content-section");for(var z=0;z<n.length;z++){c(n[z]).append(s[z])}},_getFloatGroupItemSelection:function(a){var e=this,f;if(e._draggedWindow.fromPanel){f=true}else{f=e._draggedWindow.element.current.items[0].items[a].selected}return f},_createEdgeOverlays:function(){function a(s){var n=s==="left"||s==="right"?"horizontal":"vertical",o='<div class="'+e.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-mini-window-edge-"+n)+'"><div class="'+e.toThemeProperty("jqx-widget-header jqx-docking-layout-overlay-inner-square-header jqx-docking-layout-overlay-inner-square-header-"+n)+'"></div><div class="'+e.toThemeProperty("jqx-widget-content jqx-fill-state-pressed jqx-docking-layout-overlay-inner-square-content jqx-docking-layout-overlay-inner-square-content-"+n)+'"></div></div>',d='<div class="'+e.toThemeProperty("jqx-docking-layout-overlay-square-edge-arrow-container jqx-docking-layout-overlay-square-edge-arrow-container-"+n)+'"><div class="'+e.toThemeProperty("jqx-fill-state-pressed jqx-docking-layout-overlay-square-edge-arrow jqx-docking-layout-overlay-square-edge-arrow-"+s)+'"></div></div>',l;if(s==="left"||s==="top"){l=o+d}else{l=d+o}var q=c('<div class="'+e.toThemeProperty("jqx-widget-content jqx-docking-layout-overlay-square jqx-docking-layout-overlay-square-edge")+'"><div class="'+e.toThemeProperty("jqx-docking-layout-overlay-inner-square-edge")+'">'+l+"</div></div>");return q}var f=this,e=f.base;f._leftOverlay=a("left");f._rightOverlay=a("right");f._topOverlay=a("top");f._bottomOverlay=a("bottom");f._edgeOverlays=f._leftOverlay.add(f._rightOverlay).add(f._topOverlay).add(f._bottomOverlay);if(!e._ie7){e.host.append(f._edgeOverlays)}else{c("body").append(f._edgeOverlays)}f._addEdgeOverlaysHandlers()},_addEdgeOverlaysHandlers:function(){function o(f,h,d,e){t._dropOverlay.show();t._dropOverlay[0].style.width=f;t._dropOverlay[0].style.height=h;t._dropOverlay.offset({left:d,top:e})}var t=this,s=t.base,l=s.element.id,u,q=false;function n(d){u=s.host.offset();d=c(d).closest(".jqx-docking-layout-overlay-square-edge")[0];q=d;switch(d){case t._leftOverlay[0]:o("100px",s.host.height()+"px",u.left,u.top);break;case t._rightOverlay[0]:o("100px",s.host.height()+"px",u.left+s.host.width()-100,u.top);break;case t._topOverlay[0]:o(s.host.width()+"px","100px",u.left,u.top);break;case t._bottomOverlay[0]:o(s.host.width()+"px","100px",u.left,u.top+s.host.height()-100);break;default:if(s._touchDevice){q=false}}}function a(d){switch(d){case t._leftOverlay[0]:t._dropToEdge("left",0,"horizontal","width");break;case t._rightOverlay[0]:t._dropToEdge("right",s.layout[0].items.length-1,"horizontal","width");break;case t._topOverlay[0]:t._dropToEdge("top",0,"vertical","height");break;case t._bottomOverlay[0]:t._dropToEdge("bottom",s.layout[0].items.length-1,"vertical","height");break}}if(!s._touchDevice){t.addHandler(t._edgeOverlays,"mouseenter.jqxDockingLayout"+l,function(){n(this)});t.addHandler(t._edgeOverlays,"mouseleave.jqxDockingLayout"+l,function(){t._dropOverlay.hide()});t.addHandler(t._edgeOverlays,"mouseup.jqxDockingLayout"+l,function(){a(this)})}else{t.addHandler(c(document),"touchmove.jqxDockingLayout"+l,function(e){if(t._windowDragged){e.preventDefault();var d=e.originalEvent.touches[0],f=c(document.elementFromPoint(d.pageX,d.pageY));n(f)}});t.addHandler(c(document),"touchend.jqxDockingLayout"+l,function(){if(q!==false){a(q);q=false}})}},_dropToEdge:function(T,S,E,C){var Q=this,U=Q.base,O=U.layout[0],M=Q._getDraggedWindowInformation(),a=M.title,H=M.content,K=M.groupType,A=M.itemType,N=[],D,I;Q._removeFloatGroupObject(Q._draggedWindow.element.current);if(O.orientation===E){D={type:K,parent:O};D[C]=Q._draggedWindow.element[C]();for(var F=0;F<a.length;F++){N.push({type:A,title:a[F],parent:D,prevent:true,selected:Q._getFloatGroupItemSelection(F),detachedContent:H[F],docked:true})}D.items=N;I=O.items[S];Q._setOptimalDimension(C,D,I);if(T==="left"||T==="top"){O.items.splice(S,0,D)}else{O.items.push(D)}}else{var B,R;if(C==="width"){B="height";R="minHeight"}else{B="width";R="minWidth"}var P={type:"layoutGroup",orientation:E,parent:O.parent,index:O.index};D={type:K,parent:P};for(var G=0;G<a.length;G++){N.push({type:A,title:a[G],parent:D,prevent:true,selected:Q._getFloatGroupItemSelection(G),detachedContent:H[G],docked:true})}D.items=N;delete O[B];delete D[B];D[C]="50%";O[C]="50%";O.parent=P;if(T==="left"||T==="top"){P.items=[D,O]}else{P.items=[O,D]}U.layout[0]=P;I=O}U.render();var L=D.widget.find(".jqx-ribbon-content-section");for(var J=0;J<L.length;J++){c(L[J]).append(H[J])}Q._clearTextSelection();U._raiseEvent("1",{item:I});Q._raiseEvent("1",{position:T+"-edge",item:D});Q._draggedWindow.element.remove();Q._hideOverlays()},_showEdgeOverlays:function(){var s=this,z=s.base,a=z.host.width(),w=z.host.height(),n=z.host.offset(),A=c(),q=true,o=true,v=true,t=true;function u(f){if(!f.items||f.items.length===0){return}var d=f.orientation,e=f.items[0],h=f.items[f.items.length-1];if(d==="horizontal"){if(e.type==="autoHideGroup"){q=q&&false}else{if(e.type==="layoutGroup"){u(e)}}if(h.type==="autoHideGroup"){o=o&&false}else{if(h.type==="layoutGroup"){u(h)}}}else{if(d==="vertical"){if(e.type==="autoHideGroup"){v=v&&false}else{if(e.type==="layoutGroup"){u(e)}}if(h.type==="autoHideGroup"){t=t&&false}else{if(h.type==="layoutGroup"){u(h)}}}}}u(z.layout[0]);if(q){A=A.add(s._leftOverlay)}if(o){A=A.add(s._rightOverlay)}if(v){A=A.add(s._topOverlay)}if(t){A=A.add(s._bottomOverlay)}A.show();s._leftOverlay.offset({left:n.left+5,top:n.top+w/2-20});s._rightOverlay.offset({left:n.left+a-40,top:n.top+w/2-20});s._topOverlay.offset({left:n.left+a/2-20,top:n.top+5});s._bottomOverlay.offset({left:n.left+a/2-20,top:n.top+w-40})},_hideOverlays:function(){var a=this,d=a.base;a._windowDragged=false;if(a._oldIE===true){clearInterval(a._oldIEInterval)}if(d.resizable){setTimeout(function(){a.base._overlay[0].style.display="none"},0)}a._overlay.hide();a._edgeOverlays.hide();a._dropOverlay.hide()},_getDraggedWindowInformation:function(){var o=this,l=[],q=[],a,n;if(o._draggedWindow.fromPanel){l.push(o._draggedWindow.title);q.push(o._draggedWindow.element.find(".jqx-window-content").contents().detach())}else{for(var s=0;s<o._draggedWindow.element.current.items[0].items.length;s++){var t=o._draggedWindow.element.current.items[0].items[s];l.push(t.title);q.push(o._draggedWindow.element.find(".jqx-ribbon-content-section").eq(s).contents().detach())}}if(o._draggedWindow.fromGroup.type==="documentGroup"){a="documentGroup";n="documentPanel"}else{a="tabbedGroup";n="layoutPanel"}return{title:l,content:q,groupType:a,itemType:n}},_removeFloatGroupObject:function(d){var a=this.base;d.removed=true;a._updateLayout(a.layout)},_trackFloatGroups:function(){var l=this,h=l.base;for(var o=1;o<h.layout.length;o++){var a=h.layout[o];if(a.items[0].type==="tabbedGroup"){var q=a.items[0].widget,n={element:q,width:q.width(),height:q.height(),offset:q.offset(),settings:a.items[0]};a._overlayGroup=n;h._overlayGroups.push(n)}}},_updateOverlayGroup:function(d){if(d){var a=d.element;d.width=a.width();d.height=a.height();d.offset=a.offset();d.self=false}},_updateOverlayGroups:function(){var e=this.base._overlayGroups;for(var a=e.length-1;a>=0;a--){var f=e[a];if(f.removed===true){e.splice(a,1)}}},_clearTextSelection:function(){try{if(document.selection){document.selection.empty()}else{if(window.getSelection){if(window.getSelection().empty){window.getSelection().empty()}else{if(window.getSelection().removeAllRanges){window.getSelection().removeAllRanges()}}}}}catch(a){}}})})(jqxBaseFramework);(function(c){c.jqx.jqxWidget("jqxResponsivePanel","",{});c.extend(c.jqx._jqxResponsivePanel.prototype,{defineInstance:function(){var a={width:null,height:null,collapseBreakpoint:1000,collapseWidth:null,toggleButton:null,toggleButtonSize:30,animationType:"fade",animationDirection:"left",animationShowDelay:"fast",animationHideDelay:"fast",autoClose:true,initContent:null,_collapsed:false,_opened:false,_init:false,_ie7:(c.jqx.browser.msie&&c.jqx.browser.version<8),events:["collapse","expand","open","close"]};c.extend(true,this,a)},createInstance:function(){var a=this;if(a.initContent&&a._init===false){a.initContent();a._init=true}a._render(true)},_render:function(f){var e=this;if(f===true&&e.toggleButton){e._toggleButton=c(e.toggleButton);if(e._toggleButton.length===0){throw new Error('jqxResponsivePanel: Invalid toggleButton selector: "'+e.toggleButton+'".')}var a=c('<div class="'+e.toThemeProperty("jqx-menu-minimized-button")+" "+e.toThemeProperty("jqx-responsive-panel-button-inner")+'"></div>');e._toggleButton.append(a)}e._setSize();e._addClasses();if(f===false){e._removeHandlers()}e._addHandlers();e._checkWindowSize()},render:function(){this._render(false)},refresh:function(a){if(a!==true){this._checkWindowSize()}},destroy:function(a){var d=this;d._removeHandlers();d.host.remove();if(a!==true&&d.toggleButton){d._toggleButton.remove()}},propertyChangedHandler:function(a,l,f,h){if(h!==f&&l!=="toggleButton"&&l!=="initContent"){switch(l){case"width":case"height":a.host.css(l,h);break;case"collapseBreakpoint":a._checkWindowSize();break;case"toggleButtonSize":if(a.toggleButton){a._toggleButton.css({width:h,height:h})}break;default:a.render()}}},open:function(){var a=this;if(a._collapsed===true&&a._opened===false){function e(){a.host.show();a._opened=true;a._raiseEvent("2");if(a.initContent&&a._init===false){a.initContent();a._init=true}}if(a._ie7===true){e();return}switch(a.animationType){case"fade":a.host.fadeIn(a.animationShowDelay,function(){a._raiseEvent("2");a._opened=true;if(a.initContent&&a._init===false){a.initContent();a._init=true}});break;case"slide":var f=a.animationDirection;if(f==="top"){f="up"}else{if(f==="bottom"){f="down"}}a._slide(a.host,{mode:"show",direction:f,duration:a.animationShowDelay});break;case"none":e();break}}},close:function(){var a=this;if(a._collapsed===true&&a._opened===true){if(a._ie7===true){a.host.hide();a._opened=false;a._raiseEvent("3");return}switch(a.animationType){case"fade":a.host.fadeOut(a.animationHideDelay,function(){a._opened=false;a._raiseEvent("3")});break;case"slide":var d=a.animationDirection;if(d==="top"){d="up"}else{if(d==="bottom"){d="down"}}a._slide(a.host,{mode:"hide",direction:d,duration:a.animationHideDelay});break;case"none":a.host.hide();a._opened=false;a._raiseEvent("3");break}}},_raiseEvent:function(h,o){if(o===undefined){o={owner:null}}var n=this.events[h];o.owner=this;var l=new c.Event(n);l.owner=this;l.args=o;if(l.preventDefault){l.preventDefault()}var a=this.host.trigger(l);return a},_setSize:function(){var a=this;a.host.css("width",a.width);a.host.css("height",a.height);if(a.toggleButton){a._toggleButton.css({width:a.toggleButtonSize,height:a.toggleButtonSize})}},_addClasses:function(){var a=this;a.host.addClass(a.toThemeProperty("jqx-responsive-panel"));a.host.addClass(a.toThemeProperty("jqx-widget"));a.host.addClass(a.toThemeProperty("jqx-widget-content"));a.host.addClass(a.toThemeProperty("jqx-rc-all"));if(a.toggleButton){a._toggleButton.addClass(a.toThemeProperty("jqx-responsive-panel-button"));a._toggleButton.addClass(a.toThemeProperty("jqx-fill-state-normal"));a._toggleButton.addClass(a.toThemeProperty("jqx-rc-all"))}},isCollapsed:function(){return this._collapsed},isOpened:function(){return this._opened},_addHandlers:function(){var a=this,d=a.element.id;a.addHandler(a.host,"click.jqxResponsivePanel"+d,function(e){e.stopPropagation()});a.addHandler(c(document),"click.jqxResponsivePanel"+d,function(){if(a._collapsed===true&&a.autoClose===true){a.close()}});a.addHandler(c(window),"resize.jqxResponsivePanel"+d,function(){setTimeout(function(){a._checkWindowSize()},0)});if(a.toggleButton){a.addHandler(a._toggleButton,"mouseenter.jqxResponsivePanel"+d,function(){a._toggleButton.addClass(a.toThemeProperty("jqx-fill-state-hover"))});a.addHandler(a._toggleButton,"mouseleave.jqxResponsivePanel"+d,function(){a._toggleButton.removeClass(a.toThemeProperty("jqx-fill-state-hover"))});a.addHandler(a._toggleButton,"mousedown.jqxResponsivePanel"+d,function(){a._toggleButton.addClass(a.toThemeProperty("jqx-fill-state-pressed"))});a.addHandler(c(document),"mouseup.jqxResponsivePanel"+d,function(){a._toggleButton.removeClass(a.toThemeProperty("jqx-fill-state-pressed"))});a.addHandler(a._toggleButton,"click.jqxResponsivePanel"+d,function(e){e.stopPropagation();if(a._opened===true){a.close()}else{a.open()}})}},_removeHandlers:function(){var a=this,d=a.element.id;a.removeHandler(a.host,"click.jqxResponsivePanel"+d);a.removeHandler(c(document),"click.jqxResponsivePanel"+d);a.removeHandler(c(window),"resize.jqxResponsivePanel"+d);if(a.toggleButton){a.removeHandler(a._toggleButton,"mouseenter.jqxResponsivePanel"+d);a.removeHandler(a._toggleButton,"mouseleave.jqxResponsivePanel"+d);a.removeHandler(a._toggleButton,"mousedown.jqxResponsivePanel"+d);a.removeHandler(c(document),"mouseup.jqxResponsivePanel"+d);a.removeHandler(a._toggleButton,"click.jqxResponsivePanel"+d)}},_checkWindowSize:function(){var d=this;var a=this.host.parent().width();if(d._collapsed===false&&a<=d.collapseBreakpoint){if(d.toggleButton){d._toggleButton.show()}if(d._opened===false){d.host.hide()}d.host.removeClass(d.toThemeProperty("jqx-responsive-panel-expanded"));d.host.addClass(d.toThemeProperty("jqx-responsive-panel-collapsed"));d._collapsed=true;d._raiseEvent("0");if(d.collapseWidth){d.host.width(d.collapseWidth)}d.host.trigger("resize")}else{if(d._collapsed===true&&a>d.collapseBreakpoint){if(d.collapseWidth){d.host.width(d.width)}if(d.toggleButton){d._toggleButton.hide()}if(d._opened===false){d.host.show()}d.host.removeClass(d.toThemeProperty("jqx-responsive-panel-collapsed"));d.host.addClass(d.toThemeProperty("jqx-responsive-panel-expanded"));d._collapsed=false;d._raiseEvent("1");if(d.initContent&&d._init===false){d.initContent();d._init=true}d.host.trigger("resize")}}},_slide:function(C,D){var u=this;if(!u.activeAnimations){u.activeAnimations=[]}if(u.activeAnimations.length>0){for(var w=0;w<u.activeAnimations.length;w++){u.activeAnimations[w].clearQueue();u.activeAnimations[w].finish()}}else{C.clearQueue();C.finish()}var A="ui-effects-";var E={save:function(e,d){for(var f=0;f<d.length;f++){if(d[f]!==null&&e.length>0){e.data(A+d[f],e[0].style[d[f]])}}},restore:function(f,d){var e,h;for(h=0;h<d.length;h++){if(d[h]!==null){e=f.data(A+d[h]);if(e===undefined){e=""}f.css(d[h],e)}}},createWrapper:function(n){if(n.parent().is(".ui-effects-wrapper")){return n.parent()}var l={width:n.outerWidth(true),height:n.outerHeight(true),"float":n.css("float")},d=c("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),h={width:n.width(),height:n.height()},e=document.activeElement;try{e.id}catch(f){e=document.body}n.wrap(d);if(n[0]===e||c.contains(n[0],e)){c(e).focus()}d=n.parent();if(n.css("position")==="static"){d.css({position:"relative"});n.css({position:"relative"})}else{c.extend(l,{position:n.css("position"),zIndex:n.css("z-index")});c.each(["top","left","bottom","right"],function(H,q){l[q]=n.css(q);if(isNaN(parseInt(l[q],10))){l[q]="auto"}});n.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})}n.css(h);return d.css(l).show()},removeWrapper:function(d){var e=document.activeElement;if(d.parent().is(".ui-effects-wrapper")){d.parent().replaceWith(d);if(d[0]===e||c.contains(d[0],e)){c(e).focus()}}return d}};var s=["position","top","bottom","left","right","width","height"],v=D.mode,a=v==="show",o=D.direction||"left",B=(o==="up"||o==="down")?"top":"left",F=(o==="up"||o==="left"),G,z={};E.save(C,s);C.show();G=D.distance||C[B==="top"?"outerHeight":"outerWidth"](true);E.createWrapper(C).css({overflow:"hidden"});if(a){C.css(B,F?(isNaN(G)?"-"+G:-G):G)}z[B]=(a?(F?"+=":"-="):(F?"-=":"+="))+G;var t=function(){C.clearQueue();C.stop(true,true)};u.activeAnimations.push(C);C.animate(z,{duration:D.duration,easing:D.easing,complete:function(){u.activeAnimations.pop(C);if(v==="show"){u._opened=true;u._raiseEvent("2");if(u.initContent&&u._init===false){u.initContent();u._init=true}}else{if(v==="hide"){C.hide();u._opened=false;u._raiseEvent("3")}}E.restore(C,s);E.removeWrapper(C)}});return t}})})(jqxBaseFramework);(function(c){c.jqx.jqxWidget("jqxTagCloud","",{});c.extend(c.jqx._jqxTagCloud.prototype,{defineInstance:function(){var a={width:null,height:null,source:null,disabled:false,rtl:false,valueMember:"value",displayMember:"label",urlMember:"url",urlBase:"",autoBind:true,takeTopWeightedItems:false,displayLimit:null,minValueToDisplay:0,maxValueToDisplay:0,minFontSize:10,maxFontSize:24,fontSizeUnit:"px",displayValue:false,sortBy:"none",alterTextCase:"none",sortOrder:"ascending",textColor:null,minColor:null,maxColor:null,tagRenderer:null};c.extend(true,this,a);return a},createInstance:function(){var a=this;a.render();a.dataBind(a.source,true)},dataBind:function(v,u){var n=this;n.records=[];var s=v._source?true:false;var l;if(s){l=v;v=v._source}else{v.datafields=[{name:n.displayMember},{name:n.valueMember},{name:n.urlMember}];l=new c.jqx.dataAdapter(v,{autoBind:true})}var a=function(){if(v.type!==undefined){l._options.type=v.type}if(v.formatdata!==undefined){l._options.formatData=v.formatdata}if(v.contenttype!==undefined){l._options.contentType=v.contenttype}if(v.async!==undefined){l._options.async=v.async}};var q=function(d){d._setSourceData(l);d._raiseEvent(1,{records:d.records});d._renderTags()};a(this);switch(v.datatype){case"local":case"array":default:if(v.localdata!=null||c.isArray(v)){l.unbindBindingUpdate(n.element.id);if(n.autoBind||(!n.autoBind&&!u)){l.dataBind()}q(n);l.bindBindingUpdate(n.element.id,function(d){q(n,d)})}break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"csv":case"tab":if(v.localdata!=null){l.unbindBindingUpdate(n.element.id);if(n.autoBind||(!n.autoBind&&!u)){l.dataBind()}q(n);l.bindBindingUpdate(n.element.id,function(){q(n)});return}var t={};if(l._options.data){c.extend(l._options.data,t)}else{if(v.data){c.extend(t,v.data)}l._options.data=t}var o=function(){q(n)};l.unbindDownloadComplete(n.element.id);l.bindDownloadComplete(n.element.id,o);if(n.autoBind||(!n.autoBind&&!u)){l.dataBind()}}n._raiseEvent(2,{records:n.records})},destroy:function(){var a=this;a.removeHandler(a._el,"keydown");a.removeHandler(a._el,"click");a.host.empty();a.host.remove()},findTagIndex:function(f){var e=this;for(var a=0;a<e.records.length;a++){if(e.records[a][e.displayMember]===f){return e.records[a].index}}return -1},getHiddenTagsList:function(){return this.hiddenList.slice()},getRenderedTags:function(){return this.renderedData.slice()},getTagsList:function(){return this.records.slice()},insertAt:function(a,l){var n=this;l.index=a;if(l[this.displayMember]===undefined){throw new Error("jqxTagCloud: Insert tag requires a valid displayMember field to be supplied in the parameter")}var h=l[n.valueMember]!==undefined?parseFloat(l[n.valueMember]):0;l[n.valueMember]=isNaN(h)?0:h;if(n.source.insertTag&&typeof(n.source.insertTag)==="function"){n.source.insertTag(a,l,function(d){if(d){n.records.splice(a,0,l);for(var e=a+1;e<n.records.length;e++){n.records[e].index+=1}for(e=0;e<n.hiddenList.length;e++){if(n.hiddenList[e]>=a){n.hiddenList[e]++}}n._renderTags()}})}else{n.records.splice(a,0,l);for(var o=a+1;o<n.records.length;o++){n.records[o].index+=1}for(o=0;o<n.hiddenList.length;o++){if(n.hiddenList[o]>=a){n.hiddenList[o]++}}n._renderTags()}},updateAt:function(a,e){var f=this;if(e[this.displayMember]===undefined){throw new Error("jqxTagCloud: Update tag requires a valid displayMember field to be supplied in the parameter")}e.index=a;e.uid=f.records[a].uid;if(f.source.updateTag&&typeof(f.source.updateTag)==="function"){f.source.updateTag(a,e,function(d){if(d){c.each(e,function(l,h){f.records[a][l]=h});f._renderTags()}})}else{c.each(e,function(h,d){f.records[a][h]=d});f._renderTags()}},removeAt:function(a){var e=this;if(e.source.deleteTag&&typeof(e.source.deleteTag)==="function"){e.source.deleteTag(a,function(d){if(d){e.records.splice(a,1);for(var h=a;h<e.records.length;h++){e.records[h].index-=1}for(h=0;h<e.hiddenList.length;h++){if(e.hiddenList[h]>a){e.hiddenList[h]--}else{if(e.hiddenList[h]===a){e.hiddentList.splice(a,1)}}}}})}else{e.records.splice(a,1);for(var f=a;f<e.records.length;f++){e.records[f].index-=1}for(f=0;f<e.hiddenList.length;f++){if(e.hiddenList[f]>a){e.hiddenList[f]--}else{if(e.hiddenList[f]===a){e.hiddentList.splice(a,1)}}}}e._renderTags()},hideItem:function(a){var h=this;if(!(typeof(a)!=="number"||h.hiddenList.indexOf(a)!==-1)){h.hiddenList.push(a);var f=-1;for(var l=0;l<h.renderedData.length;l++){if(h.renderedData[l].index===a){f=l}}if(f!==-1){c(h._el).find("li")[f].style.display="none"}}},showItem:function(a){var h=this;if(h.hiddenList.indexOf(a)!==-1){var f=-1;for(var l=0;l<h.renderedData.length;l++){if(h.renderedData[l].index===a){f=l}}if(f!==-1){c(h._el).find("li")[f].style.display=""}h.hiddenList.splice(h.hiddenList.indexOf(a),1)}},render:function(){var a=this;a._updateSize();a.renderedData=[];a._el=c("<ul>");a.host.addClass(a.toThemeProperty("jqx-widget jqx-tag-cloud"));a._setRtl();a.host.append(a._el);a.focusedItem=null;a.minColor=a._parseColor(a.minColor);a.maxColor=a._parseColor(a.maxColor);a.displayLimit=parseInt(a.displayLimit);if(a.disabled){a.host.addClass(a.toThemeProperty("jqx-fill-state-disabled"))}a.addHandler(a._el,"click",function(e){if(c(document.activeElement).parents("#"+a._el[0].parentElement.id).length){}else{if(a.focusedItem!=null){c(a.focusedItem).focus()}else{c(a._el).find("a")[0].focus();a.focusedItem=document.activeElement}}if(a.disabled){e.preventDefault()}if(e.target.tagName.toLowerCase()==="a"){e.target.focus();a.focusedItem=document.activeElement}if(e.target.tagName.toLowerCase()==="li"){c(e.target).find("a").focus();a.focusedItem=document.activeElement}var f=c(e.target).closest("li").index();if(f!==-1){a._raiseEvent(0,{label:a.renderedData[f][a.displayMember],url:a.renderedData[f][a.urlMember],value:a.renderedData[f][a.valueMember],visibleIndex:f,index:a.renderedData[f].index,target:c(e.target).closest("li")[0],originalEvent:e})}});a._addKeyboardSupport()},resize:function(f,a){var e=this;e.width=f;e.height=a;e._updateSize()},propertyChangedHandler:function(a,o,h,l){var n=this;if(o==="source"){n.dataBind(a.source)}if(o==="displayLimit"){n[o]=parseInt(l)}if(o==="minColor"||o==="maxColor"){n[o]=n._parseColor(l)}if(o==="rtl"){n._setRtl();return}if(o==="width"||o==="height"){n._updateSize();return}if(o==="textColor"){if(!(n.minColor&&n.maxColor)){n._updateColor();return}}n._renderTags()},_alterCase:function(h){var l=this;function f(d){return d.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})}if(l.alterTextCase!=="none"){switch(l.alterTextCase){case"allLower":for(var a=0;a<h.length;a++){h[a][l.displayMember]=h[a][l.displayMember].toString().toLowerCase()}break;case"allUpper":for(a=0;a<h.length;a++){h[a][l.displayMember]=h[a][l.displayMember].toString().toUpperCase()}break;case"firstUpper":for(a=0;a<h.length;a++){h[a][l.displayMember]=h[a][l.displayMember].toString().toLowerCase();h[a][l.displayMember]=h[a][l.displayMember].substr(0,1).toUpperCase()+h[a][l.displayMember].substr(1)}break;case"titleCase":for(a=0;a<h.length;a++){h[a][l.displayMember]=f(h[a][l.displayMember].toString())}break;default:throw new Error("jqxTagCloud: Invalid alterTextCase value. Possible values: 'none', 'allLower', 'allUpper', 'firstUpper', 'titleCase'")}}return h},_addKeyboardSupport:function(){var a=this;a.addHandler(a._el,"keydown",function(d){if(d.keyCode==39){c("a:focus").closest("li").next().find("a").focus();a.focusedItem=document.activeElement}if(d.keyCode==37){c("a:focus").closest("li").prev().find("a").focus();a.focusedItem=document.activeElement}})},_renderTags:function(){var t=this;var o=t.records.slice();c.each(t.records,function(e,d){if(d[t.displayMember]===undefined){throw new Error("jqxTagCloud: 'label' property must be specified for every element.")}});o=t._filter(o);o=t._sort(o);o=t._alterCase(o);t._el.empty();if(o.length===0){return}var l=t._getMaxValue(o);var q=t._getMinValue(o);var n=l-q;for(var a=0;a<o.length;a++){var s=t._prepareTag(o[a],q,n);t._el.append(s);if(t.hiddenList.indexOf(o[a].index)!=-1){s[0].style.display="none"}}t.renderedData=o;t.focusedItem=null},_prepareTag:function(B,t,v){var z=this;if(!v){v=1}var G=c("<li>");var A="";if(null!==z.tagRenderer&&typeof(z.tagRenderer)==="function"){A=z.tagRenderer.apply(z,arguments)}else{A=B[z.displayMember]+(z.displayValue?"("+B[z.valueMember]+")":"")}A=c('<a rel="tag">').append(A);var F="javascript:void(0)";if(undefined!==B[z.urlMember]){F=(z.urlBase!=null?z.urlBase:"")+B[z.urlMember]}A.attr("href",F);G.append(A);G.addClass(z.toThemeProperty("jqx-tag-cloud-item"));var K=+z.minFontSize+((z.maxFontSize-z.minFontSize)*((B[z.valueMember]-t)/v));G[0].style.fontSize=K+z.fontSizeUnit;if(z.minColor&&z.maxColor){var u=z.minColor.split("(")[1].split(")")[0];u=u.split(",");var E=parseInt(u[0]);var C=parseInt(u[1]);var a=parseInt(u[2]);var D=parseFloat(u[3]);u=z.maxColor.split("(")[1].split(")")[0];u=u.split(",");var J=parseInt(u[0]);var H=parseInt(u[1]);var w=parseInt(u[2]);var I=parseFloat(u[3]);E+=Math.floor(((B[z.valueMember]-t)/v)*(J-E));C+=Math.floor(((B[z.valueMember]-t)/v)*(H-C));a+=Math.floor(((B[z.valueMember]-t)/v)*(w-a));D+=((B[z.valueMember]-t)/v)*(I-D);G[0].style.color="rgba("+E+","+C+","+a+","+D+")";G.find("a")[0].style.color="inherit"}else{if(z.textColor!==null){G[0].style.color=z.textColor;G.find("a")[0].style.color="inherit"}}return G},_parseColor:function(s){function a(d){var e={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};if(typeof e[d.toLowerCase()]!="undefined"){return e[d.toLowerCase()]}return false}var q=c("<span>").css("color",s);s=q.css("color");var n,o,t;if(s.substr(0,4)==="rgba"){return s}else{if(s.substr(0,3)==="rgb"){var l=s.split("(")[1].split(")")[0];l=l.split(",");n=parseInt(l[0]);o=parseInt(l[1]);t=parseInt(l[2]);return("rgba("+n+","+o+","+t+",1)")}else{if(s.substr(0,1)==="#"&&s.length===7){n=parseInt(s.substr(1,2),16);o=parseInt(s.substr(3,2),16);t=parseInt(s.substr(5,2),16);return("rgba("+n+","+o+","+t+",1)")}else{if(s.substr(0,1)==="#"&&s.length===4){n=parseInt(s.substr(1,1)+s.substr(1,1),16);o=parseInt(s.substr(2,1)+s.substr(2,1),16);t=parseInt(s.substr(3,1)+s.substr(3,1),16);return("rgba("+n+","+o+","+t+",1)")}else{if(s=a(s)){n=parseInt(s.substr(1,2),16);o=parseInt(s.substr(3,2),16);t=parseInt(s.substr(5,2),16);return("rgba("+n+","+o+","+t+",1)")}}}}}return s},_events:["itemClick","bindingUpdateComplete","bindingComplete"],_raiseEvent:function(h,a){var l=this._events[h],f=c.Event(l);f.args=a;return this.host.trigger(f)},_filter:function(e){var f=this;if(f.minValueToDisplay!=0){for(var a=0;a<e.length;){if(e[a][f.valueMember]<f.minValueToDisplay){e.splice(a,1)}else{a++}}}if(f.maxValueToDisplay!=0){for(var a=0;a<e.length;){if(e[a][f.valueMember]>f.maxValueToDisplay){e.splice(a,1)}else{a++}}}if(f.displayLimit!=null&&!isNaN(f.displayLimit)){if(f.takeTopWeightedItems===true){e.sort(function(d,h){if(d[f.valueMember]<h[f.valueMember]){return 1}if(d[f.valueMember]>h[f.valueMember]){return -1}return 0});e=e.slice(0,f.displayLimit);e.sort(function(d,h){if(d.index<h.index){return -1}if(d.index>h.index){return 1}return 0})}else{e=e.slice(0,f.displayLimit)}}return e},_sort:function(d){var a=this;if(a.sortBy!=="none"){if(a.sortBy==="label"){d.sort(function(f,h){if(f[a.displayMember]<h[a.displayMember]){return -1}if(f[a.displayMember]>h[a.displayMember]){return 1}return 0})}else{if(a.sortBy==="value"){d.sort(function(f,h){if(f[a.valueMember]<h[a.valueMember]){return -1}if(f[a.valueMember]>h[a.valueMember]){return 1}return 0})}else{throw new Error("jqxTagCloud: sortBy option needs to be either 'none' or 'label' or 'value'")}}if(a.sortOrder==="ascending"){return d}else{if(a.sortOrder==="descending"){return d.reverse()}else{throw new Error("jqxTagCloud: sortOrder option needs to be either 'ascending' or 'descending'")}}}return d},_getMaxValue:function(f){var h=this;var a=f[0][h.valueMember];for(var l=0;l<f.length;l++){if(a<f[l][h.valueMember]){a=f[l][h.valueMember]}}return a},_getMinValue:function(f){var h=this;var l=f[0][h.valueMember];for(var a=0;a<f.length;a++){if(l>f[a][h.valueMember]){l=f[a][h.valueMember]}}return l},_setSourceData:function(h){var l=this;l.records=h.records;for(var a=0;a<l.records.length;a++){var f=l.records[a][l.valueMember]!==undefined?parseFloat(l.records[a][l.valueMember]):0;l.records[a][l.valueMember]=isNaN(f)?0:f;l.records[a].index=a}l.hiddenList=[]},_updateColor:function(){var a=this;if(a.textColor){c(a._el).find("li").css("color",a.textColor)}},_updateSize:function(){var a=this;if(a.width){a.host.width(a.width)}if(a.height){a.host.height(a.height)}},_setRtl:function(){var a=this;if(a.rtl){a.host.addClass(a.toThemeProperty("jqx-rtl"))}else{a.host.removeClass(a.toThemeProperty("jqx-rtl"))}}})})(jqxBaseFramework);(function(w){w.jqx.timeSpan=function(){var f={ticksPerMillisecond:10000,millisecondsPerTick:1/10000,ticksPerSecond:1000*10000,secondsPerTick:1/(1000*10000),ticksPerMinute:1000*10000*60,minutesPerTick:1/(1000*10000*60),ticksPerHour:1000*10000*3600,hoursPerTick:1/(1000*10000*3600),ticksPerDay:1000*10000*3600*24,daysPerTick:1/(1000*10000*3600*24),millisPerSecond:1000,millisPerMinute:1000*60,millisPerHour:1000*60*60,millisPerDay:1000*60*60*24,_ticks:0};w.extend(true,this,f);var e=this;e.ticks=function(){return e._ticks};e.days=function(){return parseInt(e._ticks/e.ticksPerDay)};e.timeToMS=function(H,I,F,G){var J=H*3600+I*60+F+G/1000;return parseInt(J*e.ticksPerSecond)};e.hours=function(){return parseInt(e._ticks/e.ticksPerHour)%24};e.milliseconds=function(){return parseInt(e._ticks/e.ticksPerMillisecond)%1000};e.minutes=function(){return parseInt(e._ticks/e.ticksPerMinute)%60};e.seconds=function(){return parseInt(e._ticks/e.ticksPerSecond)%60};e.totalDays=function(){return parseInt(e._ticks*e.daysPerTick)};e.totalHours=function(){return parseInt(e._ticks*e.hoursPerTick)};e.totalMilliseconds=function(){var F=e._ticks*e.millisecondsPerTick;return parseInt(F)};e.totalMinutes=function(){return parseInt(e._ticks*e.minutesPerTick)};e.totalSeconds=function(){return parseInt(e._ticks*e.secondsPerTick)};if(arguments.length===1){e._ticks=arguments[0]}else{if(arguments.length===3){e._ticks=e.timeToMS(arguments[0],arguments[1],arguments[2])}else{if(arguments.length===4){var a=arguments[0];var E=arguments[1];var h=arguments[2];var c=arguments[3];var l=0;var d=(a*3600*24+E*3600+h*60+c)*1000+l;e._ticks=d*e.ticksPerMillisecond}else{if(arguments.length===5){var a=arguments[0];var E=arguments[1];var h=arguments[2];var c=arguments[3];var l=arguments[4];var d=(a*3600*24+E*3600+h*60+c)*1000+l;e._ticks=d*e.ticksPerMillisecond}}}}e.add=function(G){var H=e._ticks+G._ticks;var F=new w.jqx.timeSpan(H);return F};e.substract=function(F){var G=_ticks-F._ticks;return new w.jqx.timeSpan(G)};e.duration=function(){if(e._ticks>=0){return new w.jqx.timeSpan(e._ticks)}else{return new w.jqx.timeSpan(-e._ticks)}};e.equals=function(F){return e._ticks==F._ticks};e.valueOf=function(){return e._ticks};e.compare=function(F,G){if(F._ticks>G._ticks){return 1}if(F._ticks<G._ticks){return -1}return 0};e.interval=function(F,I){var G=F*I;var H=G+(F>=0?0.5:-0.5);return new w.jqx.timeSpan(H*e.ticksPerMillisecond)};e.fromDays=function(F){return e.interval(F,e.millisPerDay)};e.fromHours=function(F){return e.interval(F,e.millisPerHour)};e.fromMilliseconds=function(F){return e.interval(F,1)};e.fromMinutes=function(F){return e.interval(F,e.millisPerMinute)};e.fromSeconds=function(F){return e.interval(F,e.millisPerSecond)};e.fromTicks=function(F){return new w.jqx.timeSpan(F)};return e};var v=[{id:"Local",offset:0,offsetHours:0,displayName:"",supportsDaylightSavingTime:false},{id:"Dateline Standard Time",offset:-720,offsetHours:-12,displayName:"(UTC-12:00) International Date Line West",supportsDaylightSavingTime:false},{id:"UTC-11",offset:-660,offsetHours:-11,displayName:"(UTC-11:00) Coordinated Universal Time-11",supportsDaylightSavingTime:false},{id:"Hawaiteratoran Standard Time",offset:-600,offsetHours:-10,displayName:"(UTC-10:00) Hawaiterator",supportsDaylightSavingTime:false},{id:"Alaskan Standard Time",offset:-540,offsetHours:-9,displayName:"(UTC-09:00) Alaska",supportsDaylightSavingTime:true},{id:"Pacific Standard Time (Mexico)",offset:-480,offsetHours:-8,displayName:"(UTC-08:00) Baja California",supportsDaylightSavingTime:true},{id:"Pacific Standard Time",offset:-480,offsetHours:-8,displayName:"(UTC-08:00) Pacific Time (US & Canada)",supportsDaylightSavingTime:true},{id:"US Mountain Standard Time",offset:-420,offsetHours:-7,displayName:"(UTC-07:00) Arizona",supportsDaylightSavingTime:false},{id:"Mountain Standard Time (Mexico)",offset:-420,offsetHours:-7,displayName:"(UTC-07:00) Chihuahua, La Paz, Mazatlan",supportsDaylightSavingTime:true},{id:"Mountain Standard Time",offset:-420,offsetHours:-7,displayName:"(UTC-07:00) Mountain Time (US & Canada)",supportsDaylightSavingTime:true},{id:"Central Standard Time",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Central Time (US & Canada)",supportsDaylightSavingTime:true},{id:"Central America Standard Time",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Central America",supportsDaylightSavingTime:false},{id:"Canada Central Standard Time",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Saskatchewan",supportsDaylightSavingTime:false},{id:"Central Standard Time (Mexico)",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Guadalajara, Mexico City, Monterrey",supportsDaylightSavingTime:true},{id:"SA Pacific Standard Time",offset:-300,offsetHours:-5,displayName:"(UTC-05:00) Bogota, Lima, Quito, Rio Branco",supportsDaylightSavingTime:false},{id:"Eastern Standard Time",offset:-300,offsetHours:-5,displayName:"(UTC-05:00) Eastern Time (US & Canada)",supportsDaylightSavingTime:true},{id:"US Eastern Standard Time",offset:-300,offsetHours:-5,displayName:"(UTC-05:00) Indiana (East)",supportsDaylightSavingTime:true},{id:"Venezuela Standard Time",offset:-270,offsetHours:-4.5,displayName:"(UTC-04:30) Caracas",supportsDaylightSavingTime:false},{id:"Atlantic Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Atlantic Time (Canada)",supportsDaylightSavingTime:true},{id:"Paraguay Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Asuncion",supportsDaylightSavingTime:true},{id:"Central Brazilian Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Cuiaba",supportsDaylightSavingTime:true},{id:"Pacific SA Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Santiago",supportsDaylightSavingTime:true},{id:"SA Western Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Georgetown, La Paz, Manaus, San Juan",supportsDaylightSavingTime:false},{id:"Newfoundland Standard Time",offset:-210,offsetHours:-3.5,displayName:"(UTC-03:30) Newfoundland",supportsDaylightSavingTime:true},{id:"SA Eastern Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Cayenne, Fortaleza",supportsDaylightSavingTime:false},{id:"Argentina Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Buenos Aires",supportsDaylightSavingTime:true},{id:"E. South America Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Brasilia",supportsDaylightSavingTime:true},{id:"Bahia Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Salvador",supportsDaylightSavingTime:true},{id:"Montevideo Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Montevideo",supportsDaylightSavingTime:true},{id:"Greenland Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Greenland",supportsDaylightSavingTime:true},{id:"UTC-02",offset:-120,offsetHours:-2,displayName:"(UTC-02:00) Coordinated Universal Time-02",supportsDaylightSavingTime:false},{id:"Mid-Atlantic Standard Time",offset:-120,offsetHours:-2,displayName:"(UTC-02:00) Mid-Atlantic - Old",supportsDaylightSavingTime:true},{id:"Azores Standard Time",offset:-60,offsetHours:-1,displayName:"(UTC-01:00) Azores",supportsDaylightSavingTime:true},{id:"Cape Verde Standard Time",offset:-60,offsetHours:-1,displayName:"(UTC-01:00) Cape Verde Is.",supportsDaylightSavingTime:false},{id:"Morocco Standard Time",offset:0,offsetHours:0,displayName:"(UTC) Casablanca",supportsDaylightSavingTime:true},{id:"UTC",offset:0,offsetHours:0,displayName:"(UTC) Coordinated Universal Time",supportsDaylightSavingTime:false},{id:"GMT Standard Time",offset:0,offsetHours:0,displayName:"(UTC) Dublin, Edinburgh, Lisbon, London",supportsDaylightSavingTime:true},{id:"Greenwich Standard Time",offset:0,offsetHours:0,displayName:"(UTC) Monrovia, Reykjavik",supportsDaylightSavingTime:false},{id:"Central European Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Sarajevo, Skopje, Warsaw, Zagreb",supportsDaylightSavingTime:true},{id:"Namibia Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Windhoek",supportsDaylightSavingTime:true},{id:"W. Central Africa Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) West Central Africa",supportsDaylightSavingTime:false},{id:"W. Europe Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Amsterdam, Berlin, Bern, Rome, Stockholm, Vienna",supportsDaylightSavingTime:true},{id:"Central Europe Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Belgrade, Bratislava, Budapest, Ljubljana, Prague",supportsDaylightSavingTime:true},{id:"Romance Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Brussels, Copenhagen, Madrid, Paris",supportsDaylightSavingTime:true},{id:"FLE Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Helsinki, Kyiv, Riga, Sofia, Tallinn, Vilnius",supportsDaylightSavingTime:true},{id:"South Africa Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Harare, Pretoria",supportsDaylightSavingTime:false},{id:"Turkey Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Istanbul",supportsDaylightSavingTime:true},{id:"GTB Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Athens, Bucharest",supportsDaylightSavingTime:true},{id:"Libya Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Tripoli",supportsDaylightSavingTime:true},{id:"E. Europe Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) E. Europe",supportsDaylightSavingTime:true},{id:"Jordan Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Amman",supportsDaylightSavingTime:true},{id:"Middle East Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Beirut",supportsDaylightSavingTime:true},{id:"Egypt Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Cairo",supportsDaylightSavingTime:true},{id:"Syria Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Damascus",supportsDaylightSavingTime:true},{id:"Israel Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Jerusalem",supportsDaylightSavingTime:true},{id:"Arab Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Kuwait, Riyadh",supportsDaylightSavingTime:false},{id:"E. Africa Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Nairobi",supportsDaylightSavingTime:false},{id:"Arabic Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Baghdad",supportsDaylightSavingTime:true},{id:"Kaliningrad Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Kaliningrad, Minsk",supportsDaylightSavingTime:true},{id:"Iran Standard Time",offset:210,offsetHours:3.5,displayName:"(UTC+03:30) Tehran",supportsDaylightSavingTime:true},{id:"Mauritius Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Port Louis",supportsDaylightSavingTime:true},{id:"Georgian Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Tbilisi",supportsDaylightSavingTime:false},{id:"Caucasus Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Yerevan",supportsDaylightSavingTime:true},{id:"Arabian Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Abu Dhabi, Muscat",supportsDaylightSavingTime:false},{id:"Azerbaijan Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Baku",supportsDaylightSavingTime:true},{id:"Russian Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Moscow, St. Petersburg, Volgograd",supportsDaylightSavingTime:true},{id:"Afghanistan Standard Time",offset:270,offsetHours:4.5,displayName:"(UTC+04:30) Kabul",supportsDaylightSavingTime:false},{id:"Pakistan Standard Time",offset:300,offsetHours:5,displayName:"(UTC+05:00) Islamabad, Karachi",supportsDaylightSavingTime:true},{id:"West Asia Standard Time",offset:300,offsetHours:5,displayName:"(UTC+05:00) Ashgabat, Tashkent",supportsDaylightSavingTime:false},{id:"India Standard Time",offset:330,offsetHours:5.5,displayName:"(UTC+05:30) Chennai, Kolkata, Mumbai, New Delhi",supportsDaylightSavingTime:false},{id:"Sri Lanka Standard Time",offset:330,offsetHours:5.5,displayName:"(UTC+05:30) Sri Jayawardenepura",supportsDaylightSavingTime:false},{id:"Nepal Standard Time",offset:345,offsetHours:5.75,displayName:"(UTC+05:45) Kathmandu",supportsDaylightSavingTime:false},{id:"Central Asia Standard Time",offset:360,offsetHours:6,displayName:"(UTC+06:00) Astana",supportsDaylightSavingTime:false},{id:"Bangladesh Standard Time",offset:360,offsetHours:6,displayName:"(UTC+06:00) Dhaka",supportsDaylightSavingTime:true},{id:"Ekaterinburg Standard Time",offset:360,offsetHours:6,displayName:"(UTC+06:00) Ekaterinburg",supportsDaylightSavingTime:true},{id:"Myanmar Standard Time",offset:390,offsetHours:6.5,displayName:"(UTC+06:30) Yangon (Rangoon)",supportsDaylightSavingTime:false},{id:"SE Asia Standard Time",offset:420,offsetHours:7,displayName:"(UTC+07:00) Bangkok, Hanoi, Jakarta",supportsDaylightSavingTime:false},{id:"N. Central Asia Standard Time",offset:420,offsetHours:7,displayName:"(UTC+07:00) Novosibirsk",supportsDaylightSavingTime:true},{id:"Ulaanbaatar Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Ulaanbaatar",supportsDaylightSavingTime:false},{id:"China Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Beijing, Chongqing, Hong Kong, Urumqi",supportsDaylightSavingTime:false},{id:"Singapore Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Kuala Lumpur, Singapore",supportsDaylightSavingTime:false},{id:"North Asia Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Krasnoyarsk",supportsDaylightSavingTime:true},{id:"Taipei Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Taipei",supportsDaylightSavingTime:false},{id:"W. Australia Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Perth",supportsDaylightSavingTime:true},{id:"Korea Standard Time",offset:540,offsetHours:9,displayName:"(UTC+09:00) Seoul",supportsDaylightSavingTime:false},{id:"North Asia East Standard Time",offset:540,offsetHours:9,displayName:"(UTC+09:00) Irkutsk",supportsDaylightSavingTime:true},{id:"Tokyo Standard Time",offset:540,offsetHours:9,displayName:"(UTC+09:00) Osaka, Sapporo, Tokyo",supportsDaylightSavingTime:false},{id:"AUS Central Standard Time",offset:570,offsetHours:9.5,displayName:"(UTC+09:30) Darwin",supportsDaylightSavingTime:false},{id:"Cen. Australia Standard Time",offset:570,offsetHours:9.5,displayName:"(UTC+09:30) Adelaide",supportsDaylightSavingTime:true},{id:"West Pacific Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Guam, Port Moresby",supportsDaylightSavingTime:false},{id:"Tasmania Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Hobart",supportsDaylightSavingTime:true},{id:"E. Australia Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Brisbane",supportsDaylightSavingTime:false},{id:"AUS Eastern Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Canberra, Melbourne, Sydney",supportsDaylightSavingTime:true},{id:"Yakutsk Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Yakutsk",supportsDaylightSavingTime:true},{id:"Vladivostok Standard Time",offset:660,offsetHours:11,displayName:"(UTC+11:00) Vladivostok",supportsDaylightSavingTime:true},{id:"Central Pacific Standard Time",offset:660,offsetHours:11,displayName:"(UTC+11:00) Solomon Is., New Caledonia",supportsDaylightSavingTime:false},{id:"Magadan Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Magadan",supportsDaylightSavingTime:true},{id:"Kamchatka Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Petropavlovsk-Kamchatsky - Old",supportsDaylightSavingTime:true},{id:"Fiji Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Fiji",supportsDaylightSavingTime:true},{id:"New Zealand Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Auckland, Wellington",supportsDaylightSavingTime:true},{id:"UTC+12",offset:720,offsetHours:12,displayName:"(UTC+12:00) Coordinated Universal Time+12",supportsDaylightSavingTime:false},{id:"Tonga Standard Time",offset:780,offsetHours:13,displayName:"(UTC+13:00) Nuku'alofa",supportsDaylightSavingTime:false},{id:"Samoa Standard Time",offset:780,offsetHours:13,displayName:"(UTC+13:00) Samoa",supportsDaylightSavingTime:true}];var D=[0,31,59,90,120,151,181,212,243,273,304,334,365];var n=[0,31,60,91,121,152,182,213,244,274,305,335,366];var s=365*4+1;var B=(365*4+1)*25-1;var u=((365*4+1)*25-1)*4+1;var A=(((365*4+1)*25-1)*4+1)*4;var C=(((365*4+1)*25-1)*4+1)*4+((365*4+1)*25-1)*3-367;var o=(((365*4+1)*25-1)*4+1)*25-366;var q=0;var t=((((365*4+1)*25-1)*4+1)*25-366)*(1000*10000*3600*24)-1;var z=((((365*4+1)*25-1)*4+1)*25-366)*(1000*60*60*24);w.jqx.date=function(){var a=this;a.ticksPerMillisecond=10000;a.millisecondsPerTick=1/10000;a.ticksPerSecond=1000*10000;a.secondsPerTick=1/(1000*10000);a.ticksPerMinute=1000*10000*60;a.minutesPerTick=1/(1000*10000*60);a.ticksPerHour=1000*10000*3600;a.hoursPerTick=1/(1000*10000*3600);a.ticksPerDay=1000*10000*3600*24;a.daysPerTick=1/(1000*10000*3600*24);a.millisPerSecond=1000;a.millisPerMinute=1000*60;a.millisPerHour=1000*60*60;a.millisPerDay=1000*60*60*24;a.daysPerYear=365;a.daysPer4Years=s;a.daysPer100Years=B;a.daysPer400Years=u;a.daysTo1601=A;a.daysTo1899=C;a.daysTo10000=o;a.minTicks=0;a.maxTicks=t;a.maxMillis=z;a.datePartYear=0;a.datePartDayOfYear=1;a.datePartMonth=2;a.datePartDay=3;a.daysToMonth365=D;a.daysToMonth366=n;a.minValue=new Date(0);a.maxValue=new Date(((((365*4+1)*25-1)*4+1)*25-366)*(1000*10000*3600*24)-1);a.ticksMask=4611686018427388000;a.flagsMask=13835058055282164000;a.localMask=9223372036854776000;a.ticksCeiling=4611686018427388000;a.kindUnspecified=0;a.kindUtc=4611686018427388000;a.kindLocal=9223372036854776000;a.kindLocalAmbiguousDst=13835058055282164000;a.kindShift=62;a.regexTrim=/^\s+|\s+$/g;a.regexInfinity=/^[+-]?infinity$/i;a.regexHex=/^0x[a-f0-9]+$/i;a.regexParseFloat=/^[+-]?\d*\.?\d*(e[+-]?\d+)?$/;a.calendar={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy\u0027-\u0027MM\u0027-\u0027dd\u0027T\u0027HH\u0027:\u0027mm\u0027:\u0027ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:","};a.dateData=0;a.timeZone=null;a.timeZones=v;a.internalMS=function(){return a.dateData};a.getDatePart=function(M){var N=a.internalMS();var L=parseInt(N/a.millisPerDay);var O=parseInt(L/a.daysPer400Years);L-=O*a.daysPer400Years;var J=parseInt(L/a.daysPer100Years);if(J==4){J=3}L-=J*a.daysPer100Years;var H=parseInt(L/a.daysPer4Years);L-=H*a.daysPer4Years;var Q=parseInt(L/a.daysPerYear);if(Q==4){Q=3}if(M==a.datePartYear){return parseInt(O*400+J*100+H*4+Q+1)}L-=Q*a.daysPerYear;if(M==a.datePartDayOfYear){return parseInt(L+1)}var I=Q==3&&(H!=24||J==3);var P=I?a.daysToMonth366:a.daysToMonth365;var K=L>>5+1;while(L>=P[K]){K++}if(M==a.datePartMonth){return parseInt(K)}return parseInt(L-P[K-1]+1)};a.dayOfWeek=function(){var I=a.dateData;var H=parseInt(I/a.millisPerDay+1)%7;return H},a.dayOfYear=function(){return a.getDatePart(a.datePartDayOfYear)};a.weekOfYear=function(L){var I=a.toDate();var K=L||a.calendar.firstDay;var N=new Date(I.getFullYear(),0,1);var M=N.getDay()-K;M=(M>=0?M:M+7);var H=Math.floor((I.getTime()-N.getTime()-(I.getTimezoneOffset()-N.getTimezoneOffset())*60000)/86400000)+1;var J;if(M<4){J=Math.floor((H+M-1)/7)+1;if(J>52){nYear=new Date(I.getFullYear()+1,0,1);nday=nYear.getDay()-K;nday=nday>=0?nday:nday+7;J=nday<4?1:53}}else{J=Math.floor((H+M-1)/7)}return J};a.subtract=function(H){return new w.jqx.timeSpan(a.dateData*a.ticksPerMillisecond-H.dateData*a.ticksPerMillisecond)};a.dateToMS=function(L,I,H){if(L>=1&&L<=9999&&I>=1&&I<=12){L=parseInt(L);var J=a.isLeapYear(L)?a.daysToMonth366:a.daysToMonth365;if(H>=1&&H<=J[I]-J[I-1]){var K=L-1;var M=K*365+parseInt(K/4)-parseInt(K/100)+parseInt(K/400)+J[I-1]+H-1;return M*a.millisPerDay}}};a.isLeapYear=function(H){if(H<1||H>9999){throw new Error("Year out of Range")}return H%4==0&&(H%100!=0||H%400==0)};a.timeToMS=function(I,L,J,K){if(I>=0&&I<24&&L>=0&&L<60&&J>=0&&J<60){var H=parseInt(I*3600+L*60+J);if(K>0&&K<1000){return(H*a.millisPerSecond)+K}return H*a.millisPerSecond}};a.daysInMonth=function(H,J){if(J<1||J>12){throw new Error("Month out of Range")}var I=a.isLeapYear(H)?a.daysToMonth366:a.daysToMonth365;return I[J]-I[J-1]};a.arrayIndexOf=function(I,J){if(I.indexOf){return I.indexOf(J)}for(var H=0,K=I.length;H<K;H++){if(I[H]===J){return H}}return -1};a.startsWith=function(I,H){return I.indexOf(H)===0};a.endsWith=function(I,H){return I.substr(I.length-H.length)===H},a.trim=function(H){return(H+"").replace(a.regexTrim,"")};a.expandFormat=function(L,I){I=I||"F";var J,K=L.patterns,H=I.length;if(H===1){J=K[I];if(!J){throw"Invalid date format string '"+I+"'."}I=J}else{if(H===2&&I.charAt(0)==="%"){I=I.charAt(1)}}return I};a.getEra=function(K,M){if(!M){return 0}if(typeof K==="string"){return 0}var J,L=K.getTime();for(var I=0,H=M.length;I<H;I++){J=M[I].start;if(J===null||L>=J){return I}}return 0};a.toUpper=function(H){return H.split("\u00A0").join(" ").toUpperCase()};a.toUpperArray=function(I){var H=[];for(var J=0,K=I.length;J<K;J++){H[J]=a.toUpper(I[J])}return H};a.getEraYear=function(L,I,H,K){var J=L.getFullYear();if(!K&&I.eras){J-=I.eras[H].offset}return J};a.getDayIndex=function(M,I,L){var H,K=M.days,J=M._upperDays;if(!J){M._upperDays=J=[a.toUpperArray(K.names),a.toUpperArray(K.namesAbbr),a.toUpperArray(K.namesShort)]}I=I.toUpperCase();if(L){H=a.arrayIndexOf(J[1],I);if(H===-1){H=a.arrayIndexOf(J[2],I)}}else{H=a.arrayIndexOf(J[0],I)}return H};a.getMonthIndex=function(J,K,M){var I=J.months,O=J.monthsGenitive||J.months,N=J._upperMonths,L=J._upperMonthsGen;if(!N){J._upperMonths=N=[a.toUpperArray(I.names),a.toUpperArray(I.namesAbbr)];J._upperMonthsGen=L=[a.toUpperArray(O.names),a.toUpperArray(O.namesAbbr)]}K=a.toUpper(K);var H=a.arrayIndexOf(M?N[1]:N[0],K);if(H<0){H=a.arrayIndexOf(M?L[1]:L[0],K)}return H};a.appendPreOrPostMatch=function(I,H){var L=0,K=false;for(var N=0,M=I.length;N<M;N++){var J=I.charAt(N);switch(J){case"'":if(K){H.push("'")}else{L++}K=false;break;case"\\":if(K){H.push("\\")}K=!K;break;default:H.push(J);K=false;break}}return L};a.getTokenRegExp=function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g};a.tryparseDate=function(a3,a1,ax){if(a1==undefined||a1==null){a1=a.calendar}else{if(a1!=null){if(a1&&w.type(a1)==="string"&&Globalize){var aQ=Globalize.cultures[a1];if(aQ){a1=aQ.calendar}}}}if(ax!=undefined){if(w.type(ax)==="array"){for(var aO=0;aO<ax.length;aO++){var aK=a.parseDate(a3,ax[aO],a1);if(aK){return aK}}}var aK=a.parseDate(a3,ax,a1);if(aK){return aK}}var aR=this;if(a3==""){return null}if(a3!=null&&!a3.substring){a3=a3.toString()}if(a3!=null&&a3.substring(0,6)=="/Date("){var aG=/^\/Date\((-?\d+)(\+|-)?(\d+)?\)\/$/;var aM=new Date(+a3.replace(/\/Date\((\d+)\)\//,"$1"));if(aM=="Invalid Date"){var aW=a3.match(/^\/Date\((\d+)([-+]\d\d)(\d\d)\)\/$/);var aM=null;if(aW){aM=new Date(1*aW[1]+3600000*aW[2]+60000*aW[3])}}if(aM==null||aM=="Invalid Date"||isNaN(aM)){var aP=aG.exec(a3);if(aP){var aJ=new Date(parseInt(aP[1]));if(aP[2]){var az=parseInt(aP[3]);if(aP[2]==="-"){az=-az}var aF=aJ.getUTCMinutes();aJ.setUTCMinutes(aF-az)}if(!isNaN(aJ.valueOf())){return aJ}}}return aM}var aV={jqxdate:"yyyy-MM-dd HH:mm:ss",d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy\u0027-\u0027MM\u0027-\u0027dd\u0027T\u0027HH\u0027:\u0027mm\u0027:\u0027ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",ISO8601:"yyyy-MM-ddTHH:mm:ss.sssZ",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",d3:"MM-dd-yyyy",d4:"MM.dd.yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff",iso:"yyyy-MM-ddTHH:mm:ssZ",iso_date1:"yyyy-MM-dd",iso_date2:"yyyy-MM-dd",iso_date3:"yyyy-ddd",iso_date4:"yyyy-MM-dd HH:mm",iso_date5:"yyyy-MM-dd HH:mm Z",iso_date6:"yyyy-MMM-dd",iso_date7:"yyyy-MM",iso_date8:"yyyy-MMM",iso_date9:"yyyy-MMMM",iso_date10:"yyyy-MMMM-dd",iso_time1:"HH:mm:ss.tttt",iso_time2:"HH:mm:ss",iso_time3:"HH:mm",iso_time4:"HH",iso_time5:"yyyyyy-MM-dd",iso_time6:"yyyyyy-MM-dd"};for(var aL in aV){aM=a.parseDate(a3,aV[aL],a1);if(aM){return aM}}var aX=a1.patterns;for(aL in aX){aM=a.parseDate(a3,aX[aL],a1);if(aM){if(aL=="ISO"){var av=a.parseDate(a3,aX.ISO2,a1);if(av){return av}}return aM}}if(w.type(a3)==="string"){a3=a.trim(a3);var aY=[":","/","-"," ",","];var aZ=function(H,J,I){return I.replace(new RegExp(H,"g"),J)};a3=aZ(", ",",",a3);var a7="";var aA=a3;if(a3.indexOf(":")>=0){a7=a3.substring(a3.indexOf(":")-2);a7=a.trim(a7);aA=a3.substring(0,a3.indexOf(":")-2)}else{if(a3.toUpperCase().indexOf("AM")>=0){a7=a3.substring(a3.toUpperCase().indexOf("AM")-2);a7=a.trim(a7);aA=a3.substring(0,a3.toUpperCase().indexOf("AM")-2)}else{if(a3.toUpperCase().indexOf("PM")>=0){a7=a3.substring(a3.toUpperCase().indexOf("PM")-2);a7=a.trim(a7);aA=a3.substring(0,a3.toUpperCase().indexOf("PM")-2)}}}var ba=new Date();var a5=false;if(aA){for(var aO=0;aO<aY.length;aO++){if(aA.indexOf(aY[aO])>=0){a0=aA.split(aY[aO]);break}}var a9=new Array();var aD=new Array();var at=new Array();var aN=null;var aC=null;for(var aO=0;aO<a0.length;aO++){var aT=a0[aO];var au=a.parseDate(aT,"d",a1)||a.parseDate(aT,"dd",a1)||a.parseDate(aT,"ddd",a1)||a.parseDate(aT,"dddd",a1);if(au){a9.push(au.getDate());if(aT.length>2){aN=aO;break}}}for(var aO=0;aO<a0.length;aO++){var aT=a0[aO];var aH=a.parseDate(aT,"M",a1)||a.parseDate(aT,"MM",a1)||a.parseDate(aT,"MMM",a1)||a.parseDate(aT,"MMMM",a1);if(aH){if(aN!=undefined&&aN==aO){continue}aD.push(aH.getMonth());if(aT.length>2){aC=aO;break}}}for(var aO=0;aO<a0.length;aO++){var aT=a0[aO];var ar=a.parseDate(aT,"yyyy",a1);if(ar){if(aN!=undefined&&aN==aO){continue}if(aC!=undefined&&aC==aO){continue}at.push(ar.getFullYear())}}var aU=new Array();for(var aI=0;aI<a9.length;aI++){for(var aW=0;aW<aD.length;aW++){for(var a6=0;a6<at.length;a6++){var aJ=new Date(at[a6],aD[aW],a9[aI]);if(at[a6]<1970){aJ.setFullYear(at[a6])}if(aJ.getTime()!=NaN){aU.push(aJ)}}}}if(aU.length>0){ba=aU[0];a5=true}}if(a7){var a8=a7.indexOf(":")>=0?a7.split(":"):a7;var a2=a.parseDate(a7,"h:mm tt",a1)||a.parseDate(a7,"HH:mm:ss.fff",a1)||a.parseDate(a7,"HH:mm:ss.ff",a1)||a.parseDate(a7,"h:mm:ss tt",a1)||a.parseDate(a7,"HH:mm:ss.tttt",a1)||a.parseDate(a7,"HH:mm:ss",a1)||a.parseDate(a7,"HH:mm",a1)||a.parseDate(a7,"HH",a1);var aB=0,a4=0,ay=0,aw=0;if(a2&&a2.getTime()!=NaN){aB=a2.getHours();a4=a2.getMinutes();ay=a2.getSeconds();aw=a2.getMilliseconds()}else{if(a8.length==1){aB=parseInt(a8[0])}if(a8.length==2){aB=parseInt(a8[0]);a4=parseInt(a8[1])}if(a8.length==3){aB=parseInt(a8[0]);a4=parseInt(a8[1]);if(a8[2].indexOf(".")>=0){ay=parseInt(a8[2].toString().split(".")[0]);aw=parseInt(a8[2].toString().split(".")[1])}else{ay=parseInt(a8[2])}}if(a8.length==4){aB=parseInt(a8[0]);a4=parseInt(a8[1]);ay=parseInt(a8[2]);aw=parseInt(a8[3])}}if(ba&&!isNaN(aB)&&!isNaN(a4)&&!isNaN(ay)&&!isNaN(aw)){ba.setHours(aB,a4,ay,aw);a5=true}}if(a5){return ba}}if(a3!=null){var av=null;var a0=[":","/","-"];var aS=true;for(var aT=0;aT<a0.length;aT++){if(a3.indexOf(a0[aT])!=-1){aS=false}}if(aS){var aE=new Number(a3);if(!isNaN(aE)){return new Date(aE)}}}return null};a.getParseRegExp=function(Z,aa){var X=Z._parseRegExp;if(!X){Z._parseRegExp=X={}}else{var Q=X[aa];if(Q){return Q}}var ab=a.expandFormat(Z,aa).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),ad=["^"],W=[],ae=0,R=0,S=a.getTokenRegExp(),P;while((P=S.exec(ab))!==null){var T=ab.slice(ae,P.index);ae=S.lastIndex;R+=a.appendPreOrPostMatch(T,ad);if(R%2){ad.push(P[0]);continue}var V=P[0],O=V.length,Y;switch(V){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":Y="(\\D+)";break;case"tt":case"t":Y="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":Y="(\\d{"+O+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":Y="(\\d\\d?)";break;case"zzz":Y="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":Y="([+-]?\\d\\d?)";break;case"/":Y="(\\"+Z["/"]+")";break;default:throw"Invalid date format pattern '"+V+"'.";break}if(Y){ad.push(Y)}W.push(P[0])}a.appendPreOrPostMatch(ab.slice(ae),ad);ad.push("$");var U=ad.join("").replace(/\s+/g,"\\s+"),ac={regExp:U,groups:W};return X[aa]=ac};a.outOfRange=function(I,H,J){return I<H||I>J};a.expandYear=function(K,I){var M=new Date(),H=a.getEra(M);if(I<100){var J=K.twoDigitYearMax;J=typeof J==="string"?new Date().getFullYear()%100+parseInt(J,10):J;var L=a.getEraYear(M,K,H);I+=L-(L%100);if(I>J){I-=100}}return I};a.parseDate=function(am,af,ar){if(ar==undefined||ar==null){ar=a.calendar}am=a.trim(am);var aw=ar,aJ=a.getParseRegExp(aw,af),aE=new RegExp(aJ.regExp).exec(am);if(aE===null){return null}var aN=aJ.groups,ao=null,az=null,aK=null,aL=null,ay=null,aG=0,aj,ak=0,aM=0,aA=0,av=null,au=false;for(var ai=0,ag=aN.length;ai<ag;ai++){var ax=aE[ai+1];if(ax){var an=aN[ai],aH=an.length,aF=parseInt(ax,10);switch(an){case"dd":case"d":aL=aF;if(a.outOfRange(aL,1,31)){return null}break;case"MMM":case"MMMM":case"MMMMM":case"MMMMMM":case"MMMMMMM":case"MMMMMMMM":aK=a.getMonthIndex(aw,ax,aH===3);if(a.outOfRange(aK,0,11)){return null}break;case"M":case"MM":aK=aF-1;if(a.outOfRange(aK,0,11)){return null}break;case"y":case"yy":case"yyyy":az=aH<4?a.expandYear(aw,aF):aF;if(a.outOfRange(az,0,9999)){return null}break;case"h":case"hh":aG=aF;if(aG===12){aG=0}if(a.outOfRange(aG,0,11)){return null}break;case"H":case"HH":aG=aF;if(a.outOfRange(aG,0,23)){return null}break;case"m":case"mm":ak=aF;if(a.outOfRange(ak,0,59)){return null}break;case"s":case"ss":aM=aF;if(a.outOfRange(aM,0,59)){return null}break;case"tt":case"t":au=aw.PM&&(ax===aw.PM[0]||ax===aw.PM[1]||ax===aw.PM[2]);if(!au&&(!aw.AM||(ax!==aw.AM[0]&&ax!==aw.AM[1]&&ax!==aw.AM[2]))){return null}break;case"f":case"ff":case"fff":aA=aF*Math.pow(10,3-aH);if(a.outOfRange(aA,0,999)){return null}break;case"ddd":case"dddd":ay=a.getDayIndex(aw,ax,aH===3);if(a.outOfRange(ay,0,6)){return null}break;case"zzz":var aI=ax.split(/:/);if(aI.length!==2){return null}aj=parseInt(aI[0],10);if(a.outOfRange(aj,-12,13)){return null}var aC=parseInt(aI[1],10);if(a.outOfRange(aC,0,59)){return null}av=(aj*60)+(a.startsWith(ax,"-")?-aC:aC);break;case"z":case"zz":aj=aF;if(a.outOfRange(aj,-12,13)){return null}av=aj*60;break;case"g":case"gg":var at=ax;if(!at||!aw.eras){return null}at=trim(eraNathat.toLowerCase());for(var ah=0,al=aw.eras.length;ah<al;ah++){if(at===aw.eras[ah].nathat.toLowerCase()){ao=ah;break}}if(ao===null){return null}break}}}var aB=new Date(),ap,aD=aw.convert;ap=aB.getFullYear();if(az===null){az=ap}else{if(aw.eras){az+=aw.eras[(ao||0)].offset}}if(aK===null){aK=0}if(aL===null){aL=1}if(aD){aB=aD.toGregorian(az,aK,aL);if(aB===null){return null}}else{aB.setFullYear(az,aK,aL);if(aB.getDate()!==aL){return null}if(ay!==null&&aB.getDay()!==ay){return null}}if(au&&aG<12){aG+=12}aB.setHours(aG,ak,aM,aA);if(av!==null){var aq=aB.getMinutes()-(av+aB.getTimezoneOffset());aB.setHours(aB.getHours()+parseInt(aq/60,10),aq%60)}return aB},a.toString=function(ab,ak){if(ab===undefined){ab="yyyy-MM-dd HH:mm:ss"}if(w.jqx.date.cache&&w.jqx.date.cache[a.dateData+ab]){return w.jqx.date.cache[a.dateData+ab]}if(ak&&w.type(ak)==="string"&&Globalize){var aa=Globalize.cultures[ak];if(aa){ak=aa.calendar}}var af=a.toDate();if(ak==undefined||ak==null){ak=a.calendar}if(typeof af==="string"){return af}var az=af.toString()+"_"+ab;if(!ab||!ab.length||ab==="i"){var Y;Y=a.formatDate(af,ak.patterns.F,ak);return Y}var ae=ak.eras,ao=ab==="s";ab=a.expandFormat(ak,ab);Y=[];var aw,ad=["0","00","000"],ar,ap,aq=/([^d]|^)(d|dd)([^d]|$)/g,Z=0,ai=a.getTokenRegExp(),am;function au(K,H){var J,I=K+"";if(H>1&&I.length<H){J=(ad[H-2]+I);return J.substr(J.length-H,H)}else{J=I}return J}function ac(){if(ar||ap){return ar}ar=aq.test(ab);ap=true;return ar}function ay(H,I){if(am){return am[I]}if(H.getMonth!=undefined){switch(I){case 0:return H.getFullYear();case 1:return H.getMonth();case 2:return H.getDate()}}}for(;;){var av=ai.lastIndex,aj=ai.exec(ab);var an=ab.slice(av,aj?aj.index:ab.length);Z+=a.appendPreOrPostMatch(an,Y);if(!aj){break}if(Z%2){Y.push(aj[0]);continue}var ah=aj[0],ax=ah.length;switch(ah){case"ddd":case"dddd":var al=(ax===3)?ak.days.namesAbbr:ak.days.names;Y.push(al[af.getDay()]);break;case"d":case"dd":ar=true;Y.push(au(ay(af,2),ax));break;case"MMM":case"MMMM":var ag=ay(af,1);Y.push(ak.months[ax===3?"namesAbbr":"names"][ag]);break;case"M":case"MM":Y.push(au(ay(af,1)+1,ax));break;case"y":case"yy":case"yyyy":ag=a.getEraYear(af,ak,a.getEra(af,ae),ao);if(ax<4){ag=ag%100}Y.push(au(ag,ax));break;case"h":case"hh":aw=af.getHours()%12;if(aw===0){aw=12}Y.push(au(aw,ax));break;case"H":case"HH":Y.push(au(af.getHours(),ax));break;case"m":case"mm":Y.push(au(af.getMinutes(),ax));break;case"s":case"ss":Y.push(au(af.getSeconds(),ax));break;case"t":case"tt":ag=af.getHours()<12?(ak.AM?ak.AM[0]:" "):(ak.PM?ak.PM[0]:" ");Y.push(ax===1?ag.charAt(0):ag);break;case"f":case"ff":case"fff":Y.push(au(af.getMilliseconds(),3).substr(0,ax));break;case"z":case"zz":aw=af.getTimezoneOffset()/60;Y.push((aw<=0?"+":"-")+au(Math.floor(Math.abs(aw)),ax));break;case"zzz":aw=af.getTimezoneOffset()/60;Y.push((aw<=0?"+":"-")+au(Math.floor(Math.abs(aw)),2)+":"+au(Math.abs(af.getTimezoneOffset()%60),2));break;case"g":case"gg":if(ak.eras){Y.push(ak.eras[a.getEra(af,ae)].name)}break;case"/":Y.push(ak["/"]);break;default:throw"Invalid date format pattern '"+ah+"'.";break}}var at=Y.join("");if(!w.jqx.date.cache){w.jqx.date.cache=new Array()}w.jqx.date.cache[a.dateData+ab]=at;return at};a.add=function(M,K,L){var J=a.internalMS();if(K===undefined){if(L===false){a.dateData=(J+parseInt(M._ticks/a.ticksPerMillisecond));return a}var I=new w.jqx.date((J+parseInt(M._ticks/a.ticksPerMillisecond)));I.timeZone=a.timeZone;return I}var H=(M*K);if(H<=-a.maxMillis||H>=a.maxMillis){throw new Error("Out of Range")}if(L===false){a.dateData=(J+H);return a}var I=new w.jqx.date(J+H);I.timeZone=a.timeZone;return I};a.addDays=function(I,H){return a.add(I,a.millisPerDay,H)};a.clone=function(){var H=new w.jqx.date(a.dateData);H.timeZone=a.timeZone;return H};a.clearTime=function(){var I=a.month();var J=a.year();var K=a.day();var H=new w.jqx.date(J,I,K,0,0,0,0);H.timeZone=a.timeZone;return H};a.addHours=function(I,H){return a.add(I,a.millisPerHour,H)};a.addMilliseconds=function(I,H){return a.add(I,1,H)};a.addMinutes=function(I,H){return a.add(I,a.millisPerMinute,H)};a.addMonths=function(N,O){if(N<-120000||N>120000){throw new Error("Invalid Months Value")}var J=parseInt(a.getDatePart(a.datePartYear));var I=parseInt(a.getDatePart(a.datePartMonth));var L=parseInt(a.getDatePart(a.datePartDay));var M=I-1+N;if(M>=0){I=M%12+1;J=J+M/12}else{I=12+(M+1)%12;J=J+(M-11)/12}J=parseInt(J);if(J<1||J>9999){throw new Error("Year out of range")}var K=a.daysInMonth(J,I);if(L>K){L=K}if(O===false){a.dateData=(a.dateToMS(J,I,L)+a.internalMS()%a.millisPerDay);return a}var H=new w.jqx.date((a.dateToMS(J,I,L)+a.internalMS()%a.millisPerDay));H.timeZone=a.timeZone;return H};a.addSeconds=function(I,H){return a.add(I,a.millisPerSecond,H)};a.addYears=function(I,H){return a.addMonths(I*12,H)};a.getTimeZoneOffset=function(){var K=new Date();var I=new Date(K.getFullYear(),0,1);var J=new Date(K.getFullYear(),6,1);var H=K.getTimezoneOffset()<Math.max(I.getTimezoneOffset(),J.getTimezoneOffset());return{offset:-(K.getTimezoneOffset()/60),dst:+H}};a.isInDaylightSavingTime=function(){var J=new Date();var I=new Date(J.getFullYear(),0,1);var H=new Date(J.getFullYear(),6,1);return a.date().getTimezoneOffset()<Math.max(I.getTimezoneOffset(),H.getTimezoneOffset())};a.supportsDaylightSavingTime=function(){var J=new Date();var I=new Date(J.getFullYear(),0,1);var H=new Date(J.getFullYear(),6,1);return I.getTimezoneOffset()!=H.getTimezoneOffset()};a.date=function(){var I=a.month();var J=a.year();var K=a.day();var H=new w.jqx.date(J,I,K);H.timeZone=a.timeZone;return H};a.isWeekend=function(){return a.dayOfWeek()==0||a.dayOfWeek()==6};a.toDate=function(U){var aa=a.month();var Z=a.year();var Y=a.day();var P=a.hour();var Q=a.minute();var V=a.second();var R=a.millisecond();var T=new Date(Z,aa-1,Y);if(Z<1970){T.setFullYear(Z)}T.setHours(P,Q,V,R);if(U){var M=a.timeZones.filter(function(H){return H.id==U});if(M.length){var O=M[0].offset;if(U=="Local"){O=-T.getTimezoneOffset()}var N=T.getTime();var W=T.getTimezoneOffset()*60*1000;if(a.timeZone){var S=a.timeZones.filter(function(H){return H.id==a.timeZone});if(S.length){var W=-S[0].offset*60*1000}}var X=N+W;T=new Date(X+(60*1000*O))}}return T};a.toTimeZone=function(K){var I=K;if(I==null){I="Local"}var H=a.toDate(I);var J=new w.jqx.date(H);J.timeZone=K;return J};a.day=function(){return a.getDatePart(a.datePartDay)};a.month=function(){return a.getDatePart(a.datePartMonth)};a.year=function(){return a.getDatePart(a.datePartYear)};a.millisecond=function(){return parseInt((a.internalMS())%1000)};a.hour=function(){return parseInt((a.internalMS()/a.millisPerHour)%24)};a.minute=function(){return parseInt((a.internalMS()/a.millisPerMinute)%60)};a.second=function(){return parseInt((a.internalMS()/a.millisPerSecond)%60)};a.valueOf=function(){return a.dateData};a.equals=function(H){return a.dateData===H.dateData};if(arguments.length===0){var e=new Date();a.dateData=a.dateToMS(e.getFullYear(),e.getMonth()+1,e.getDate())+a.timeToMS(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}else{if(arguments.length===1){if(arguments[0]==undefined){arguments[0]="todayDate"}var l=typeof arguments[0]==="number"&&isFinite(arguments[0]);if(!l&&w.type(arguments[0])==="string"){if(arguments[0]==="today"){var e=new Date();a.dateData=a.dateToMS(e.getFullYear(),e.getMonth()+1,e.getDate())+a.timeToMS(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}else{if(arguments[0]==="todayDate"){var e=new Date();e.setHours(0,0,0,0);a.dateData=a.dateToMS(e.getFullYear(),e.getMonth()+1,e.getDate())+a.timeToMS(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}else{var e=a.tryparseDate(arguments[0]);a.dateData=a.dateToMS(e.getFullYear(),e.getMonth()+1,e.getDate())+a.timeToMS(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}}}else{if(typeof(arguments[0])==="number"){a.dateData=arguments[0]}else{if(w.type(arguments[0])=="date"){var e=arguments[0];a.dateData=a.dateToMS(e.getFullYear(),e.getMonth()+1,e.getDate())+a.timeToMS(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}else{a.dateData=arguments[0]}}}}else{if(arguments.length===2){if(arguments[0]==undefined){arguments[0]="todayDate"}var l=typeof arguments[0]==="number"&&isFinite(arguments[0]);if(!l&&w.type(arguments[0])==="string"){if(arguments[0]==="today"){var e=new Date();a.dateData=a.dateToMS(e.getFullYear(),e.getMonth()+1,e.getDate())+a.timeToMS(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}else{if(arguments[0]==="todayDate"){var e=new Date();e.setHours(0,0,0,0);a.dateData=a.dateToMS(e.getFullYear(),e.getMonth()+1,e.getDate())+a.timeToMS(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}else{var e=a.tryparseDate(arguments[0]);a.dateData=a.dateToMS(e.getFullYear(),e.getMonth()+1,e.getDate())+a.timeToMS(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}}}else{if(typeof(arguments[0])==="number"){a.dateData=arguments[0]}else{if(w.type(arguments[0])=="date"){var e=arguments[0];a.dateData=a.dateToMS(e.getFullYear(),e.getMonth()+1,e.getDate())+a.timeToMS(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}else{a.dateData=arguments[0]}}}a.timeZone=arguments[1]}else{if(arguments.length>2){if(w.type(arguments[0])==="string"){var e=a.tryparseDate(arguments[0],arguments[2],arguments[1]);a.dateData=a.dateToMS(e.getFullYear(),e.getMonth()+1,e.getDate())+a.timeToMS(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}else{var F=arguments[0];var G=arguments[1];var E=arguments[2];var c=arguments[3];var d=arguments[4];var f=arguments[5];var h=arguments[6];if(c===undefined){c=0}if(d===undefined){d=0}if(f===undefined){f=0}if(h===undefined){h=0}G--;var e=new Date(F,G,E,c,d,f,h);if(F<1970){e.setFullYear(F)}a.dateData=a.dateToMS(e.getFullYear(),e.getMonth()+1,e.getDate())+a.timeToMS(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}}}}}return a}})(jqxBaseFramework);if(!Array.prototype.filter){Array.prototype.filter=function(h){if(this===void 0||this===null){throw new TypeError()}var o=Object(this);var l=o.length>>>0;if(typeof h!=="function"){throw new TypeError()}var q=[];var s=arguments[1];for(var t=0;t<l;t++){if(t in o){var n=o[t];if(h.call(s,n,t,o)){q.push(n)}}}return q}}(function(c){if(!c.jqx.scheduler){c.jqx.scheduler={}}c.jqx.jqxWidget("jqxScheduler","",{});c.extend(c.jqx._jqxScheduler.prototype,{defineInstance:function(){var a={altRows:false,autoShowLoadElement:true,columnsHeight:30,columns:[],columnGroups:null,dataview:null,disabled:false,enableHover:true,appointmentOpacity:0.8,headerZIndex:359,height:600,timeRulerWidth:60,loadingErrorMessage:"The data is still loading and you cannot set a property or call a method. You can do that once the data binding is completed. jqxScheduler raises the 'bindingComplete' event when the binding is completed.",localization:null,ready:null,renderToolBar:null,renderAppointment:null,rendered:null,rendering:null,rtl:false,showToolbar:true,showLegend:false,legendPosition:"bottom",legendHeight:34,rowsHeight:27,touchRowsHeight:36,appointmentsMinHeight:18,touchAppointmentsMinHeight:27,appointmentsRenderMode:"default",serverProcessing:false,selectionMode:"multiplerows",scrollBarSize:c.jqx.utilities.scrollBarSize,touchScrollBarSize:c.jqx.utilities.touchScrollBarSize,showHeader:true,maxHeight:999999,maxWidth:999999,autoBind:true,showAllDayRow:true,changedAppointments:new Array(),renderMode:"simple",views:new Array(),view:0,min:new c.jqx.date(0),max:new c.jqx.date(9999,12,31),date:new c.jqx.date("todayDate"),colors:["#307DD7","#AA4643","#89A54E","#71588F","#4198AF","#7FD13B","#EA157A","#FEB80A","#00ADDC","#738AC8","#E8601A","#FF9639","#F5BD6A","#599994","#115D6E","#D02841","#FF7C41","#FFC051","#5B5F4D","#364651","#25A0DA","#309B46","#8EBC00","#FF7515","#FFAE00","#0A3A4A","#196674","#33A6B2","#9AC836","#D0E64B","#CC6B32","#FFAB48","#FFE7AD","#A7C9AE","#888A63","#3F3943","#01A2A6","#29D9C2","#BDF271","#FFFFA6","#1B2B32","#37646F","#A3ABAF","#E1E7E8","#B22E2F","#5A4B53","#9C3C58","#DE2B5B","#D86A41","#D2A825","#993144","#FFA257","#CCA56A","#ADA072","#949681","#105B63","#EEEAC5","#FFD34E","#DB9E36","#BD4932","#BBEBBC","#F0EE94","#F5C465","#FA7642","#FF1E54","#60573E","#F2EEAC","#BFA575","#A63841","#BFB8A3","#444546","#FFBB6E","#F28D00","#D94F00","#7F203B","#583C39","#674E49","#948658","#F0E99A","#564E49","#142D58","#447F6E","#E1B65B","#C8782A","#9E3E17","#4D2B1F","#635D61","#7992A2","#97BFD5","#BFDCF5","#844341","#D5CC92","#BBA146","#897B26","#55591C","#56626B","#6C9380","#C0CA55","#F07C6C","#AD5472","#96003A","#FF7347","#FFBC7B","#FF4154","#642223","#5D7359","#E0D697","#D6AA5C","#8C5430","#661C0E","#16193B","#35478C","#4E7AC7","#7FB2F0","#ADD5F7","#7B1A25","#BF5322","#9DA860","#CEA457","#B67818","#0081DA","#3AAFFF","#99C900","#FFEB3D","#309B46","#0069A5","#0098EE","#7BD2F6","#FFB800","#FF6800","#FF6800","#A0A700","#FF8D00","#678900","#0069A5"],colorSchemes:[{name:"scheme01",colors:["#307DD7","#AA4643","#89A54E","#71588F","#4198AF"]},{name:"scheme02",colors:["#7FD13B","#EA157A","#FEB80A","#00ADDC","#738AC8"]},{name:"scheme03",colors:["#E8601A","#FF9639","#F5BD6A","#599994","#115D6E"]},{name:"scheme04",colors:["#D02841","#FF7C41","#FFC051","#5B5F4D","#364651"]},{name:"scheme05",colors:["#25A0DA","#309B46","#8EBC00","#FF7515","#FFAE00"]},{name:"scheme06",colors:["#0A3A4A","#196674","#33A6B2","#9AC836","#D0E64B"]},{name:"scheme07",colors:["#CC6B32","#FFAB48","#FFE7AD","#A7C9AE","#888A63"]},{name:"scheme08",colors:["#3F3943","#01A2A6","#29D9C2","#BDF271","#FFFFA6"]},{name:"scheme09",colors:["#1B2B32","#37646F","#A3ABAF","#E1E7E8","#B22E2F"]},{name:"scheme10",colors:["#5A4B53","#9C3C58","#DE2B5B","#D86A41","#D2A825"]},{name:"scheme11",colors:["#993144","#FFA257","#CCA56A","#ADA072","#949681"]},{name:"scheme12",colors:["#105B63","#EEEAC5","#FFD34E","#DB9E36","#BD4932"]},{name:"scheme13",colors:["#BBEBBC","#F0EE94","#F5C465","#FA7642","#FF1E54"]},{name:"scheme14",colors:["#60573E","#F2EEAC","#BFA575","#A63841","#BFB8A3"]},{name:"scheme15",colors:["#444546","#FFBB6E","#F28D00","#D94F00","#7F203B"]},{name:"scheme16",colors:["#583C39","#674E49","#948658","#F0E99A","#564E49"]},{name:"scheme17",colors:["#142D58","#447F6E","#E1B65B","#C8782A","#9E3E17"]},{name:"scheme18",colors:["#4D2B1F","#635D61","#7992A2","#97BFD5","#BFDCF5"]},{name:"scheme19",colors:["#844341","#D5CC92","#BBA146","#897B26","#55591C"]},{name:"scheme20",colors:["#56626B","#6C9380","#C0CA55","#F07C6C","#AD5472"]},{name:"scheme21",colors:["#96003A","#FF7347","#FFBC7B","#FF4154","#642223"]},{name:"scheme22",colors:["#5D7359","#E0D697","#D6AA5C","#8C5430","#661C0E"]},{name:"scheme23",colors:["#16193B","#35478C","#4E7AC7","#7FB2F0","#ADD5F7"]},{name:"scheme24",colors:["#7B1A25","#BF5322","#9DA860","#CEA457","#B67818"]},{name:"scheme25",colors:["#0081DA","#3AAFFF","#99C900","#FFEB3D","#309B46"]},{name:"scheme26",colors:["#0069A5","#0098EE","#7BD2F6","#FFB800","#FF6800"]},{name:"scheme27",colors:["#FF6800","#A0A700","#FF8D00","#678900","#0069A5"]}],resources:null,contextMenu:true,contextMenuOpen:null,contextMenuClose:null,contextMenuItemClick:null,contextMenuCreate:null,timeZone:null,statuses:{free:"white",tentative:"tentative",busy:"transparent",outOfOffice:"#800080"},appointmentDataFields:{from:"from",to:"to",id:"id",calendarId:"calendarId",description:"description",location:"location",subject:"subject",background:"background",color:"color",borderColor:"borderColor",style:"style",recurrencePattern:"recurrencePattern",recurrenceException:"recurrenceException",draggable:"draggable",resizable:"resizable",resourceId:"resourceId",status:"status",tooltip:"tooltip",hidden:"hidden",allDay:"allDay",timeZone:"timeZone",ownerId:"ownerId"},appointmentTooltips:true,tableColumns:1,tableRows:1,dayNameFormat:"full",touchDayNameFormat:"abbr",toolBarRangeFormat:"dd MMMM yyyy",toolBarRangeFormatAbbr:"dd MM yyyy",columnRenderer:null,exportSettings:{serverURL:null,characterSet:null,fileName:"jqxScheduler",dateTimeFormatString:"S",resourcesInMultipleICSFiles:false},source:{beforeprocessing:null,beforesend:null,loaderror:null,localdata:null,data:null,datatype:"array",datafields:[],url:"",root:"",record:"",id:"",totalrecords:0,recordstartindex:0,recordendindex:0,loadallrecords:true,sortcolumn:null,sortdirection:null,sort:null,filter:null,sortcomparer:null},editDialogDateTimeFormatString:"dd/MM/yyyy hh:mm tt",editDialogDateFormatString:"dd/MM/yyyy",editDialogOpen:null,editDialogCreate:null,editDialogKeyDown:null,editDialogClose:null,editDialog:true,toolbarHeight:54,tableZIndex:369,_updating:false,touchMode:"auto",width:800,that:this,beginDrag:null,endDrag:null,dragging:null,timeZones:[{id:"Dateline Standard Time",offset:-720,offsetHours:-12,displayName:"(UTC-12:00) International Date Line West",supportsDaylightSavingTime:false},{id:"UTC-11",offset:-660,offsetHours:-11,displayName:"(UTC-11:00) Coordinated Universal Time-11",supportsDaylightSavingTime:false},{id:"Hawaiteratoran Standard Time",offset:-600,offsetHours:-10,displayName:"(UTC-10:00) Hawaiterator",supportsDaylightSavingTime:false},{id:"Alaskan Standard Time",offset:-540,offsetHours:-9,displayName:"(UTC-09:00) Alaska",supportsDaylightSavingTime:true},{id:"Pacific Standard Time (Mexico)",offset:-480,offsetHours:-8,displayName:"(UTC-08:00) Baja California",supportsDaylightSavingTime:true},{id:"Pacific Standard Time",offset:-480,offsetHours:-8,displayName:"(UTC-08:00) Pacific Time (US & Canada)",supportsDaylightSavingTime:true},{id:"US Mountain Standard Time",offset:-420,offsetHours:-7,displayName:"(UTC-07:00) Arizona",supportsDaylightSavingTime:false},{id:"Mountain Standard Time (Mexico)",offset:-420,offsetHours:-7,displayName:"(UTC-07:00) Chihuahua, La Paz, Mazatlan",supportsDaylightSavingTime:true},{id:"Mountain Standard Time",offset:-420,offsetHours:-7,displayName:"(UTC-07:00) Mountain Time (US & Canada)",supportsDaylightSavingTime:true},{id:"Central Standard Time",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Central Time (US & Canada)",supportsDaylightSavingTime:true},{id:"Central America Standard Time",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Central America",supportsDaylightSavingTime:false},{id:"Canada Central Standard Time",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Saskatchewan",supportsDaylightSavingTime:false},{id:"Central Standard Time (Mexico)",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Guadalajara, Mexico City, Monterrey",supportsDaylightSavingTime:true},{id:"SA Pacific Standard Time",offset:-300,offsetHours:-5,displayName:"(UTC-05:00) Bogota, Lima, Quito, Rio Branco",supportsDaylightSavingTime:false},{id:"Eastern Standard Time",offset:-300,offsetHours:-5,displayName:"(UTC-05:00) Eastern Time (US & Canada)",supportsDaylightSavingTime:true},{id:"US Eastern Standard Time",offset:-300,offsetHours:-5,displayName:"(UTC-05:00) Indiana (East)",supportsDaylightSavingTime:true},{id:"Venezuela Standard Time",offset:-270,offsetHours:-4.5,displayName:"(UTC-04:30) Caracas",supportsDaylightSavingTime:false},{id:"Atlantic Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Atlantic Time (Canada)",supportsDaylightSavingTime:true},{id:"Paraguay Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Asuncion",supportsDaylightSavingTime:true},{id:"Central Brazilian Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Cuiaba",supportsDaylightSavingTime:true},{id:"Pacific SA Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Santiago",supportsDaylightSavingTime:true},{id:"SA Western Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Georgetown, La Paz, Manaus",supportsDaylightSavingTime:false},{id:"Newfoundland Standard Time",offset:-210,offsetHours:-3.5,displayName:"(UTC-03:30) Newfoundland",supportsDaylightSavingTime:true},{id:"SA Eastern Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Cayenne, Fortaleza",supportsDaylightSavingTime:false},{id:"Argentina Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Buenos Aires",supportsDaylightSavingTime:true},{id:"E. South America Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Brasilia",supportsDaylightSavingTime:true},{id:"Bahia Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Salvador",supportsDaylightSavingTime:true},{id:"Montevideo Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Montevideo",supportsDaylightSavingTime:true},{id:"Greenland Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Greenland",supportsDaylightSavingTime:true},{id:"UTC-02",offset:-120,offsetHours:-2,displayName:"(UTC-02:00) Coordinated Universal Time-02",supportsDaylightSavingTime:false},{id:"Mid-Atlantic Standard Time",offset:-120,offsetHours:-2,displayName:"(UTC-02:00) Mid-Atlantic - Old",supportsDaylightSavingTime:true},{id:"Azores Standard Time",offset:-60,offsetHours:-1,displayName:"(UTC-01:00) Azores",supportsDaylightSavingTime:true},{id:"Cape Verde Standard Time",offset:-60,offsetHours:-1,displayName:"(UTC-01:00) Cape Verde Is.",supportsDaylightSavingTime:false},{id:"Morocco Standard Time",offset:0,offsetHours:0,displayName:"(UTC) Casablanca",supportsDaylightSavingTime:true},{id:"UTC",offset:0,offsetHours:0,displayName:"(UTC) Coordinated Universal Time",supportsDaylightSavingTime:false},{id:"GMT Standard Time",offset:0,offsetHours:0,displayName:"(UTC) Dublin, Edinburgh, Lisbon, London",supportsDaylightSavingTime:true},{id:"Greenwich Standard Time",offset:0,offsetHours:0,displayName:"(UTC) Monrovia, Reykjavik",supportsDaylightSavingTime:false},{id:"Central European Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Sarajevo, Skopje, Warsaw, Zagreb",supportsDaylightSavingTime:true},{id:"Namibia Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Windhoek",supportsDaylightSavingTime:true},{id:"W. Central Africa Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) West Central Africa",supportsDaylightSavingTime:false},{id:"W. Europe Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Amsterdam, Berlin, Rome",supportsDaylightSavingTime:true},{id:"Central Europe Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Belgrade, Budapest, Prague",supportsDaylightSavingTime:true},{id:"Romance Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Brussels, Copenhagen, Madrid, Paris",supportsDaylightSavingTime:true},{id:"FLE Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Helsinki, Kyiv, Riga, Sofia",supportsDaylightSavingTime:true},{id:"South Africa Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Harare, Pretoria",supportsDaylightSavingTime:false},{id:"Turkey Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Istanbul",supportsDaylightSavingTime:true},{id:"GTB Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Athens, Bucharest",supportsDaylightSavingTime:true},{id:"Libya Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Tripoli",supportsDaylightSavingTime:true},{id:"E. Europe Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) E. Europe",supportsDaylightSavingTime:true},{id:"Jordan Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Amman",supportsDaylightSavingTime:true},{id:"Middle East Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Beirut",supportsDaylightSavingTime:true},{id:"Egypt Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Cairo",supportsDaylightSavingTime:true},{id:"Syria Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Damascus",supportsDaylightSavingTime:true},{id:"Israel Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Jerusalem",supportsDaylightSavingTime:true},{id:"Arab Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Kuwait, Riyadh",supportsDaylightSavingTime:false},{id:"E. Africa Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Nairobi",supportsDaylightSavingTime:false},{id:"Arabic Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Baghdad",supportsDaylightSavingTime:true},{id:"Kaliningrad Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Kaliningrad, Minsk",supportsDaylightSavingTime:true},{id:"Iran Standard Time",offset:210,offsetHours:3.5,displayName:"(UTC+03:30) Tehran",supportsDaylightSavingTime:true},{id:"Mauritius Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Port Louis",supportsDaylightSavingTime:true},{id:"Georgian Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Tbilisi",supportsDaylightSavingTime:false},{id:"Caucasus Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Yerevan",supportsDaylightSavingTime:true},{id:"Arabian Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Abu Dhabi, Muscat",supportsDaylightSavingTime:false},{id:"Azerbaijan Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Baku",supportsDaylightSavingTime:true},{id:"Russian Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Moscow, St. Petersburg, Volgograd",supportsDaylightSavingTime:true},{id:"Afghanistan Standard Time",offset:270,offsetHours:4.5,displayName:"(UTC+04:30) Kabul",supportsDaylightSavingTime:false},{id:"Pakistan Standard Time",offset:300,offsetHours:5,displayName:"(UTC+05:00) Islamabad, Karachi",supportsDaylightSavingTime:true},{id:"West Asia Standard Time",offset:300,offsetHours:5,displayName:"(UTC+05:00) Ashgabat, Tashkent",supportsDaylightSavingTime:false},{id:"India Standard Time",offset:330,offsetHours:5.5,displayName:"(UTC+05:30) Chennai, Kolkata, Mumbai, New Delhi",supportsDaylightSavingTime:false},{id:"Sri Lanka Standard Time",offset:330,offsetHours:5.5,displayName:"(UTC+05:30) Sri Jayawardenepura",supportsDaylightSavingTime:false},{id:"Nepal Standard Time",offset:345,offsetHours:5.75,displayName:"(UTC+05:45) Kathmandu",supportsDaylightSavingTime:false},{id:"Central Asia Standard Time",offset:360,offsetHours:6,displayName:"(UTC+06:00) Astana",supportsDaylightSavingTime:false},{id:"Bangladesh Standard Time",offset:360,offsetHours:6,displayName:"(UTC+06:00) Dhaka",supportsDaylightSavingTime:true},{id:"Ekaterinburg Standard Time",offset:360,offsetHours:6,displayName:"(UTC+06:00) Ekaterinburg",supportsDaylightSavingTime:true},{id:"Myanmar Standard Time",offset:390,offsetHours:6.5,displayName:"(UTC+06:30) Yangon (Rangoon)",supportsDaylightSavingTime:false},{id:"SE Asia Standard Time",offset:420,offsetHours:7,displayName:"(UTC+07:00) Bangkok, Hanoi, Jakarta",supportsDaylightSavingTime:false},{id:"N. Central Asia Standard Time",offset:420,offsetHours:7,displayName:"(UTC+07:00) Novosibirsk",supportsDaylightSavingTime:true},{id:"Ulaanbaatar Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Ulaanbaatar",supportsDaylightSavingTime:false},{id:"China Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Beijing, Chongqing, Hong Kong",supportsDaylightSavingTime:false},{id:"Singapore Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Kuala Lumpur, Singapore",supportsDaylightSavingTime:false},{id:"North Asia Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Krasnoyarsk",supportsDaylightSavingTime:true},{id:"Taipei Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Taipei",supportsDaylightSavingTime:false},{id:"W. Australia Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Perth",supportsDaylightSavingTime:true},{id:"Korea Standard Time",offset:540,offsetHours:9,displayName:"(UTC+09:00) Seoul",supportsDaylightSavingTime:false},{id:"North Asia East Standard Time",offset:540,offsetHours:9,displayName:"(UTC+09:00) Irkutsk",supportsDaylightSavingTime:true},{id:"Tokyo Standard Time",offset:540,offsetHours:9,displayName:"(UTC+09:00) Osaka, Sapporo, Tokyo",supportsDaylightSavingTime:false},{id:"AUS Central Standard Time",offset:570,offsetHours:9.5,displayName:"(UTC+09:30) Darwin",supportsDaylightSavingTime:false},{id:"Cen. Australia Standard Time",offset:570,offsetHours:9.5,displayName:"(UTC+09:30) Adelaide",supportsDaylightSavingTime:true},{id:"West Pacific Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Guam, Port Moresby",supportsDaylightSavingTime:false},{id:"Tasmania Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Hobart",supportsDaylightSavingTime:true},{id:"E. Australia Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Brisbane",supportsDaylightSavingTime:false},{id:"AUS Eastern Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Canberra, Melbourne, Sydney",supportsDaylightSavingTime:true},{id:"Yakutsk Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Yakutsk",supportsDaylightSavingTime:true},{id:"Vladivostok Standard Time",offset:660,offsetHours:11,displayName:"(UTC+11:00) Vladivostok",supportsDaylightSavingTime:true},{id:"Central Pacific Standard Time",offset:660,offsetHours:11,displayName:"(UTC+11:00) Solomon Is., New Caledonia",supportsDaylightSavingTime:false},{id:"Magadan Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Magadan",supportsDaylightSavingTime:true},{id:"Kamchatka Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Petropavlovsk-Kamchatsky - Old",supportsDaylightSavingTime:true},{id:"Fiji Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Fiji",supportsDaylightSavingTime:true},{id:"New Zealand Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Auckland, Wellington",supportsDaylightSavingTime:true},{id:"UTC+12",offset:720,offsetHours:12,displayName:"(UTC+12:00) Coordinated Universal Time+12",supportsDaylightSavingTime:false},{id:"Tonga Standard Time",offset:780,offsetHours:13,displayName:"(UTC+13:00) Nuku'alofa",supportsDaylightSavingTime:false},{id:"Samoa Standard Time",offset:780,offsetHours:13,displayName:"(UTC+13:00) Samoa",supportsDaylightSavingTime:true}]};c.extend(true,this,a);this.that=this;return a},createInstance:function(t){var n=this;n._views=new Array();n._view=n.view;for(var s=0;s<n.views.length;s++){if(c.type(n.views[s])==="string"){n._views.push({type:n.views[s]})}else{n._views.push(n.views[s])}}for(var s=0;s<n._views.length;s++){if(n._views[s].type==n.view){n._view=s;break}}if(c.jqx.utilities.scrollBarSize!=15){n.scrollBarSize=c.jqx.utilities.scrollBarSize}if(n.source&&!n.source.dataBind){n.source=new c.jqx.dataAdapter(n.source)}var a=n.source._source.datafields;if(a&&a.length>0){n._camelCase=n.source._source.dataFields!==undefined;n.selectionMode=n.selectionMode.toLowerCase()}if(n.host.attr("tabindex")==null){n.host.attr("tabindex","0")}n.host.attr("role","grid");n.host.attr("align","left");n.host.addClass(n.toTP("jqx-grid"));n.host.addClass(n.toTP("jqx-scheduler"));n.host.addClass(n.toTP("jqx-reset"));n.host.addClass(n.toTP("jqx-rc-all"));n.host.addClass(n.toTP("jqx-widget"));n.host.addClass(n.toTP("jqx-widget-content jqx-disableselect"));if(n._testmodules()){return}n.overlay=c("<div style='z-index: 999; position:absolute;'></div>");n.overlay.hide();n.overlay.appendTo(n.host);n.render(true);c.jqx.utilities.resize(n.host,function(){var e=c(window).width();var h=c(window).height();n._hostWidth=null;n._hostHeight=null;var f=n.host.width();var d=n.host.height();n._hostWidth=f;n._hostHeight=d;if(n._lastHostWidth!=f||n._lastHostHeight!=d){n._updatesize(n._lastHostWidth!=f,n._lastHostHeight!=d)}n._lastWidth=e;n._lastHeight=h;n._lastHostWidth=f;n._lastHostHeight=d});n.editRecurrenceDialog=null;var q=c("<div><div>"+n.schedulerLocalization.editRecurringAppointmentDialogTitleString+"</div><div><div>"+n.schedulerLocalization.editRecurringAppointmentDialogContentString+"</div><div style='position: absolute; white-space:nowrap; text-overflow: ellipsis; left:0px; width:100%; bottom: 0px;'><button title='"+n.schedulerLocalization.editRecurringAppointmentDialogOccurrenceString+"' id='editRecurringAppointmentOccurrence."+n.element.id+"' style='white-space:nowrap; text-overflow: ellipsis; border-left-width: 0px;  border-bottom-width: 0px; border-radius:0px; width:50%;'>"+n.schedulerLocalization.editRecurringAppointmentDialogOccurrenceString+"</button><button title='"+n.schedulerLocalization.editRecurringAppointmentDialogSeriesString+"' id='editRecurringAppointmentSeries."+n.element.id+"' style=' white-space:nowrap; text-overflow: ellipsis; border-bottom-width: 0px;  border-left-width: 0px; border-right-width:0px; width:50%; border-radius:0px;'>"+n.schedulerLocalization.editRecurringAppointmentDialogSeriesString+"</button></div></div></div>");n.editRecurrenceDialog=q;c(q).jqxWindow({rtl:n.rtl,autoFocus:false,animationType:"none",autoOpen:false,theme:n.theme,minWidth:300,minHeight:110,resizable:false});var o=q.find("button");o.jqxButton({theme:n.theme,width:"50%",height:30});var l=false;o.mousedown(function(){l=true;var d=this.id;if(d.indexOf("editRecurringAppointmentOccurrence")>=0){n.editSeries(false)}else{n.editSeries(true)}c(q).jqxWindow("close")});this.addHandler(c(q),"open",function(d){n._raiseEvent("editRecurrenceDialogOpen",{dialog:q,appointment:n.selectedJQXAppointment?n.selectedJQXAppointment.boundAppointment:null})});n.addHandler(c(q),"keydown",function(d){if(d.keyCode==13){if(c(document.activeElement).ischildof(c(q))){if(document.activeElement.nodeName.toLowerCase()=="button"){c(document.activeElement).trigger("mousedown");c(document.activeElement).trigger("mouseup");return true}}}});this.addHandler(c(q),"close",function(d){if(!l){n._removeFeedbackAndStopResize();n.overlay.hide();n.focus();n._raiseEvent("editRecurrenceDialogClose",{dialog:q,appointment:n.selectedJQXAppointment?n.selectedJQXAppointment.boundAppointment:null});return false}l=false;n.overlay.hide();n.focus();n._raiseEvent("editRecurrenceDialogClose",{dialog:q,appointment:n.selectedJQXAppointment?n.selectedJQXAppointment.boundAppointment:null})});n.editRecurrenceDialog=q},getViewStart:function(){var h=this.getVisibleDate();var a=this._views[this._view].type;var f=this._views[this._view];switch(a){case"dayView":case"timelineDayView":return h}var l=this.getFirstDayOfWeek(h);return l},getViewEnd:function(){var f=this.getViewStart();var h=1;var a=this._views[this._view].type;var l=this._views[this._view];switch(a){case"dayView":case"timelineDayView":h=1;if(l.days){h=l.days}break;case"weekView":case"timelineWeekView":h=7;if(l.days){h=l.days}break;case"monthView":case"timelineMonthView":h=41;if(l.days){h=l.days}break;case"agendaView":h=7;if(l.days){h=l.days}break}return f.addDays(h)},getFirstDayOfWeek:function(e){var f=e;var a=this.schedulerLocalization.firstDay;if(a<0||a>6){a=6}while(f.dayOfWeek()!=a){f.addDays(-1,false)}return f},getVisibleDate:function(){var n=this.date;if(n<this.min){n=this.min}if(n>this.max){n=this.max}var a=this._views[this._view].type;var h=this._views[this._view];n=n.clearTime();switch(a){case"dayView":case"weekView":case"timelineDayView":case"timelineWeekView":case"agendaView":return n}var l=n.day();var o=n.addDays(-l+1);n=o;return n},_builddataloadelement:function(){if(this.dataloadelement){this.dataloadelement.remove()}this.dataloadelement=c('<div class="jqx-datatable-load" style="z-index: 99998; background-color:rgba(50,50,50,0.1); overflow: hidden; position: absolute;"></div>');var f=c('<div style="z-index: 99999; margin-left: -66px; left: 50%; top: 50%; margin-top: -24px; position: relative; width: 100px; height: 33px; padding: 5px; font-family: verdana; font-size: 12px; color: #767676; border-color: #898989; border-width: 1px; border-style: solid; background: #f6f6f6; border-collapse: collapse;"><div style="float: left;"><div style="float: left; overflow: hidden; width: 32px; height: 32px;" class="jqx-grid-load"/><span style="margin-top: 10px; float: left; display: block; margin-left: 5px;" >'+this.schedulerLocalization.loadString+"</span></div></div>");f.addClass(this.toTP("jqx-rc-all"));this.dataloadelement.addClass(this.toTP("jqx-rc-all"));f.addClass(this.toTP("jqx-fill-state-normal"));this.dataloadelement.append(f);this.dataloadelement.width(this.width);this.dataloadelement.height(this.height);this.host.prepend(this.dataloadelement);if(this.source._source.url!=""){var a=false;if(this.height==="auto"||this.height===null||this.autoheight){if(this.maxHeight==999999){a=true}}if(a){this.host.height(100);this.dataloadelement.height(100)}else{this.host.height(this.height);this.dataloadelement.height(this.height)}var e=false;if(this.width==="auto"||this.width===null||this.autoWidth){e=true}if(e){this.host.width(300);this.dataloadelement.width(300)}else{this.host.width(this.width);this.dataloadelement.width(this.width)}}},_measureElement:function(d){var a=c("<span style='visibility: hidden; white-space: nowrap;'>measure Text</span>");a.addClass(this.toTP("jqx-widget"));c(document.body).append(a);if(d=="cell"){this._cellheight=a.height()}else{this._columnheight=a.height()}a.remove()},_testmodules:function(){var f="";var l=this;var a=function(){if(f.length!=""){f+=","}};if(!this.host.jqxScrollBar){a();f+=" jqxscrollbar.js"}if(!this.host.jqxButton){a();f+=" jqxbuttons.js"}if(!c.jqx.dataAdapter){a();f+=" jqxdata.js"}if(!this.host.jqxDateTimeInput){a();f+=" jqxdatetimeinput.js"}if(!this.host.jqxCalendar){a();f+=" jqxcalendar.js"}try{if(!Globalize){a();f+=" globalize.js"}}catch(h){}if(f!=""){throw new Error("jqxScheduler: Missing references to the following module(s): "+f);this.host.remove();return true}return false},focus:function(){try{if(this.isTouchDevice()){return}if(this._editDialog&&this._editDialog.jqxWindow("isOpen")){var d=this;setTimeout(function(){d.editDialogFields.subject.focus();d.editDialogFields.subject.select()},1);this.focused=true;return}if(document.activeElement==this.element){return}this.host.focus();var d=this;setTimeout(function(){d.host.focus()},25);this.focused=true}catch(a){}},hiddenParent:function(){return c.jqx.isHidden(this.host)},_updatesize:function(l,n){if(this._loading){return}var q=this;var o=q.host.width();var s=q.host.height();if(!q._oldWidth){q._oldWidth=o}if(!q._oldHeight){q._oldHeight=s}if(q._resizeTimer!=undefined){clearTimeout(q._resizeTimer);q._resizeTimer=null}var t=300;var a=function(){if(q._resizeTimer){clearTimeout(q._resizeTimer)}q.resizingGrid=true;if(c.jqx.isHidden(q.host)){return}q._updatecolumnwidths();q.refresh();q._oldWidth=o;q._oldHeight=s;q.resizingGrid=false};a();q._resizeTimer=setTimeout(function(){var d=q.host.width();var e=q.host.height();if(q._oldWidth!=d||q._oldHeight!=e){a()}},t)},resize:function(d,a){if(d!=undefined){this.width=d}if(a!=undefined){this.height=a}this._updatecolumnwidths();this.refresh()},isTouchDevice:function(){if(this.touchDevice!=undefined){return this.touchDevice}var a=c.jqx.mobile.isTouchDevice();this.touchDevice=a;if(this.touchMode==true){a=true;c.jqx.mobile.setMobileSimulator(this.element);this.touchDevice=a}else{if(this.touchMode==false){a=false}}if(a){this.touchDevice=true;this.host.addClass(this.toThemeProperty("jqx-touch"));this.host.find("jqx-widget-content").addClass(this.toThemeProperty("jqx-touch"));this.host.find("jqx-widget-header").addClass(this.toThemeProperty("jqx-touch"));this.scrollBarSize=this.touchScrollBarSize}return a},toTP:function(a){return this.toThemeProperty(a)},localizestrings:function(a,f){this._cellscache=new Array();if(c.jqx.dataFormat){c.jqx.dataFormat.cleardatescache()}if(this._loading){throw new Error("jqxScheduler: "+this.loadingErrorMessage);return false}if(a!=null){for(var e in this.schedulerLocalization){if(a[e]){this.schedulerLocalization[e]=a[e]}}if(a.loadingErrorMessage){this.loadingErrorMessage=a.loadingErrorMessage}if(f!==false){this._builddataloadelement();c(this.dataloadelement).css("visibility","hidden");c(this.dataloadelement).css("display","none")}}else{this.schedulerLocalization={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy\u0027-\u0027MM\u0027-\u0027dd\u0027T\u0027HH\u0027:\u0027mm\u0027:\u0027ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",d3:"dd-MMMM-yyyy",d4:"dd-MM-yy",d5:"H:mm",d6:"HH:mm",d7:"HH:mm tt",d8:"dd/MMMM/yyyy",d9:"MMMM-dd",d10:"MM-dd",d11:"MM-dd-yyyy"},agendaDateColumn:"Date",agendaTimeColumn:"Time",agendaAppointmentColumn:"Appointment",backString:"Back",forwardString:"Forward",toolBarPreviousButtonString:"previous",toolBarNextButtonString:"next",emptyDataString:"No data to display",loadString:"Loading...",clearString:"Clear",todayString:"Today",dayViewString:"Day",weekViewString:"Week",monthViewString:"Month",agendaViewString:"Agenda",timelineDayViewString:"Timeline Day",timelineWeekViewString:"Timeline Week",timelineMonthViewString:"Timeline Month",agendaAllDayString:"all day",loadingErrorMessage:"The data is still loading and you cannot set a property or call a method. You can do that once the data binding is completed. jqxScheduler raises the 'bindingComplete' event when the binding is completed.",editRecurringAppointmentDialogTitleString:"Edit Recurring Appointment",editRecurringAppointmentDialogContentString:"Do you want to edit only this occurrence or the series?",editRecurringAppointmentDialogOccurrenceString:"Edit Occurrence",editRecurringAppointmentDialogSeriesString:"Edit The Series",editDialogTitleString:"Edit Appointment",editDialogCreateTitleString:"Create New Appointment",contextMenuEditAppointmentString:"Edit Appointment",contextMenuCreateAppointmentString:"Create New Appointment",editDialogSubjectString:"Subject",editDialogLocationString:"Location",editDialogFromString:"From",editDialogToString:"To",editDialogAllDayString:"All day",editDialogExceptionsString:"Exceptions",editDialogResetExceptionsString:"Reset on Save",editDialogDescriptionString:"Description",editDialogResourceIdString:"Owner",editDialogStatusString:"Status",editDialogColorString:"Color",editDialogColorPlaceHolderString:"Select Color",editDialogTimeZoneString:"Time Zone",editDialogSelectTimeZoneString:"Select Time Zone",editDialogSaveString:"Save",editDialogDeleteString:"Delete",editDialogCancelString:"Cancel",editDialogRepeatString:"Repeat",editDialogRepeatEveryString:"Repeat every",editDialogRepeatEveryWeekString:"week(s)",editDialogRepeatEveryYearString:"year(s)",editDialogRepeatEveryDayString:"day(s)",editDialogRepeatNeverString:"Never",editDialogRepeatDailyString:"Daily",editDialogRepeatWeeklyString:"Weekly",editDialogRepeatMonthlyString:"Monthly",editDialogRepeatYearlyString:"Yearly",editDialogRepeatEveryMonthString:"month(s)",editDialogRepeatEveryMonthDayString:"Day",editDialogRepeatFirstString:"first",editDialogRepeatSecondString:"second",editDialogRepeatThirdString:"third",editDialogRepeatFourthString:"fourth",editDialogRepeatLastString:"last",editDialogRepeatEndString:"End",editDialogRepeatAfterString:"After",editDialogRepeatOnString:"On",editDialogRepeatOfString:"of",editDialogRepeatOccurrencesString:"occurrence(s)",editDialogRepeatSaveString:"Save Occurrence",editDialogRepeatSaveSeriesString:"Save Series",editDialogRepeatDeleteString:"Delete Occurrence",editDialogRepeatDeleteSeriesString:"Delete Series",editDialogStatuses:{free:"Free",tentative:"Tentative",busy:"Busy",outOfOffice:"Out of Office"}}}},_updateScrollbars:function(t){var D=false;var J=this;if(J.width==="auto"||J.width===null||J.autowidth){if(J.maxWidth==999999){D=true}}var F=J._views[J._view].type;var G=J._views[J._view];if(F=="monthView"&&J.resources&&J.resources.orientation=="none"&&!G.monthRowAutoHeight){var C=J.vScrollBar[0].style.visibility;J.hScrollBar[0].style.visibility="hidden";J.vScrollBar[0].style.visibility="hidden";if((C!=J.vScrollBar[0].style.visibility)){J._updatecolumnwidths()}return}var L=parseInt(J.scrollBarSize);var a=J.table?J.table.height():0;var E=0;var z="inherit";var C=J.vScrollBar[0].style.visibility;var w=J.hScrollBar[0].style.visibility;if(!t){var H=J.host.height()}else{var H=t}if(!J.columnGroups){H-=J.showHeader?J.columnsHeight:0}else{H-=J.showHeader?J.columnsheader.height():0}if(J.filterable){H-=J.filter.height()}if(J.pageable){H-=J.pagerHeight;if(J.pagerPosition==="both"){H-=J.pagerHeight}}if(J.showToolbar){H-=J.toolbarHeight}if(J.showLegend&&J._resources.length>0){H-=J.legendHeight}var A=false;if(J.height==="auto"||J.height===null||J.autoheight){if(J.maxHeight==999999){A=true}}if(!A&&a>H&&(J.getRows().length>0)){J.vScrollBar[0].style.visibility=z;E=4+parseInt(L);J.vScrollBar.jqxScrollBar({max:a-H})}else{J.vScrollBar[0].style.visibility="hidden"}if((C!=J.vScrollBar[0].style.visibility)){J._updatecolumnwidths()}var v=J.table?J.table.width():0;if(v>4){v-=4}var u=parseInt(J.host.css("border-left-width"))+parseInt(J.host.css("border-right-width"));var B=u+J.host.width()-E;if(v>B&&!D){J.hScrollBar[0].style.visibility=z;J.hScrollBar.jqxScrollBar({max:2+u+v-B});E=4+parseInt(L);if(!A&&a!=H){if(a>H-E+4&&(J.getRows().length>0)){J.hScrollBar.jqxScrollBar({max:u+v-B});var K=J.vScrollBar[0].style.visibility==="hidden";J.vScrollBar[0].style.visibility=z;J._updatecolumnwidths();if(K){J.hScrollBar.jqxScrollBar({max:v-B+u})}var I=J.table?J.table.width():0;if(I>3){I-=3}if(I!=v){if(I<B){J.hScrollBar.jqxScrollBar({max:u+I-B});J.hScrollBar[0].style.visibility="hidden";E=0}else{if(!K){J.hScrollBar.jqxScrollBar({max:v-B+u-L})}else{if(I>B){J.hScrollBar.jqxScrollBar({max:u+I-B})}}}}}if(a-H>0){J.vScrollBar.jqxScrollBar({max:a-H+E})}else{J.vScrollBar[0].style.visibility="hidden"}}}else{J.hScrollBar[0].style.visibility="hidden"}if(J.getRows().length===0){J.vScrollBar[0].style.visibility="hidden";J.bottomRight[0].style.visibility="hidden"}if(J.vScrollBar[0].style.visibility=="hidden"){if(J.vScrollInstance.value!=0){J.vScrollInstance.setPosition(0)}}},_measureElementWidth:function(e){var f=c("<span style='visibility: hidden; white-space: nowrap;'>"+e+"</span>");f.addClass(this.toTP("jqx-widget"));f.addClass(this.toTP("jqx-grid"));f.addClass(this.toTP("jqx-grid-column-header"));f.addClass(this.toTP("jqx-widget-header"));c(document.body).append(f);var a=f.outerWidth()+20;f.remove();return a},_arrangeAutoHeight:function(o){if(!o){o=0}if(this.height==="auto"||this.height===null||this.autoheight){var h=this.table.height();var l=0;if(!this.columnGroups){l+=this.showHeader?this.columnsHeight:-1}else{l+=this.showHeader?this.columnsheader.height():-1}l+=this.showLegend&&this._resources.length>0?this.legendHeight:0;l+=this.showToolbar?this.toolbarHeight:0;l+=this.pageable?this.pagerHeight:0;if(this.pagerPosition==="both"){l+=this.pageable?this.pagerHeight:0}l+=h;if(this.filterable){var n=this.filter.find(".filterrow");var a=this.filter.find(".filterrow-hidden");var q=1;if(a.length>0){q=0}l+=this.filterHeight-1+this.filterHeight*n.length*q}if(l+o>this.maxHeight){this.host.height(this.maxHeight)}else{this.host.height(l+o)}return true}return false},_arrangeAutoWidth:function(h){if(!h){h=0}if(this.width==="auto"||this.width===null||this.autowidth){var l=0;for(var f=0;f<this.columns.records.length;f++){var a=this.columns.records[f].width;if(this.columns.records[f].hidden){continue}if(a=="auto"){a=this._measureElementWidth(this.columns.records[f].text);l+=a}else{l+=a}}width=l;if(width+h>this.maxWidth){this.host.width(this.maxWidth)}else{this.host.width(width+h)}return true}return false},_measureTopAndHeight:function(){var a=this.host.height();var d=0;if(this.showToolbar){d+=this.toolbarHeight;a-=parseInt(this.toolbarHeight)}if(this.showLegend&&this.legendPosition!="bottom"&&this._resources.length>0){d+=parseInt(this.legendHeight)+1}return{top:d,height:a}},_arrange:function(){if(!this.table){return}this._arrangeAutoHeight();this._arrangeAutoWidth();var R=this.legendHeight;if(this._resources.length==0){R=0}var B=this._hostWidth?this._hostWidth:this.host.width();var E=this._hostHeight?this._hostHeight:this.host.height();var L=E;var M=this;if(this.showLegend&&this.legendPosition=="top"){this.legendbartop[0].style.visibility="inherit"}else{this.legendbartop[0].style.visibility="hidden"}var F=0;if(this.showToolbar){this.toolbar.width(B);this.toolbar[0].style.height=this.toolbarHeight-1+"px";this.toolbar[0].style.top="0px";F+=this.toolbarHeight;E-=parseInt(this.toolbarHeight)}else{this.toolbar[0].style.height="0px"}if(this.showLegend&&this.legendPosition=="bottom"){this.legendbarbottom[0].style.width=B+"px";this.legendbarbottom[0].style.height=R+"px"}else{this.legendbarbottom[0].style.height="0px"}if(this.showLegend&&this.legendPosition=="top"){if(this.legendbartop[0].style.width!=B+"px"){this.legendbartop[0].style.width=parseInt(B)+"px"}if(this.legendbartop[0].style.height!=R+"px"){this.legendbartop[0].style.height=parseInt(R-1)+"px"}if(this.legendbartop[0].style.top!=F+"px"){this.legendbartop[0].style.top=F+"px"}var Q=F+R+"px";if(this.content[0].style.top!=Q){F=F+R;this.content[0].style.top=F+"px"}}if(!this.showLegend){this.legendbartop[0].style.display="none";this.legendbarbottom[0].style.display="none"}this._updateScrollbars(L);var T=parseInt(this.scrollBarSize);var I=4;var P=2;var O=0;if(this.vScrollBar[0].style.visibility!="hidden"){O=T+I}if(this.hScrollBar[0].style.visibility!="hidden"){P=T+I+2}if("hidden"!=this.vScrollBar[0].style.visibility||"hidden"!=this.hScrollBar[0].style.visibility){var A=this._arrangeAutoHeight(P-2);var D=this._arrangeAutoWidth(O+1);if(A||D){this.legendbartop[0].style.width=parseInt(B)+"px";this.toolbar[0].style.width=parseInt(B)+"px";this.legendbarbottom[0].style.width=parseInt(B)+"px";this.filter[0].style.width=parseInt(B)+"px"}if(A){var a=this._measureTopAndHeight();F=a.top;E=a.height}}var H=0;if(this.showLegend&&this.legendPosition=="bottom"){P+=R;H+=R}else{if(this.showLegend){P+=R}}if(this.hScrollBar[0].style.height!=T+"px"){this.hScrollBar[0].style.height=parseInt(T)+"px"}if(this.hScrollBar[0].style.top!=F+E-I-T-H+"px"||this.hScrollBar[0].style.left!="0px"){this.hScrollBar[0].style.top=F+E-I-T-H-1+"px";this.hScrollBar[0].style.left="0px"}var J=this.hScrollBar[0].style.width;var N=false;var z=false;if(O==0){if(J!=(B-2)+"px"){this.hScrollBar[0].style.width=(B-2)+"px";N=true}}else{if(J!=(B-T-I)+"px"){this.hScrollBar[0].style.width=(B-T-I+"px");N=true}}if(this.vScrollBar[0].style.width!=T+"px"){this.vScrollBar[0].style.width=T+"px";z=true}if(this.vScrollBar[0].style.height!=parseInt(E)-P+"px"){this.vScrollBar[0].style.height=(parseInt(E)-P+"px");z=true}if(this.vScrollBar[0].style.left!=parseInt(B)-parseInt(T)-I+"px"||this.vScrollBar[0].style.top!=F+"px"){this.vScrollBar[0].style.top=F+"px";this.vScrollBar[0].style.left=parseInt(B)-parseInt(T)-I+"px"}if(this.rtl){this.vScrollBar.css({left:"0px",top:F});if(this.vScrollBar.css("visibility")!="hidden"){this.hScrollBar.css({left:T+2})}}var K=this.vScrollInstance;K.disabled=this.disabled;var C=this.hScrollInstance;C.disabled=this.disabled;if(N){C.refresh()}if(z){K.refresh()}var G=function(d){if((d.vScrollBar[0].style.visibility!="hidden")&&(d.hScrollBar[0].style.visibility!="hidden")){d.bottomRight[0].style.visibility="inherit";d.bottomRight[0].style.left=1+parseInt(d.vScrollBar.css("left"))+"px";d.bottomRight[0].style.top=parseInt(d.hScrollBar.css("top"))+"px";if(d.rtl){d.bottomRight.css("left","0px")}d.bottomRight[0].style.width=parseInt(T)+3+"px";d.bottomRight[0].style.height=parseInt(T)+4+"px"}else{d.bottomRight[0].style.visibility="hidden"}};G(this);if(this.content[0].style.width!=B-O+"px"){this.content[0].style.width=B-O+"px"}if(this.content[0].style.height!=E-P+3+"px"){this.content[0].style.height=E-P+3+"px"}if(this.content[0].style.top!=F+"px"){this.content[0].style.top=parseInt(F)+"px"}if(this.rtl){this.content.css("left",O)}if(this.showLegend&&this.legendPosition=="bottom"){this.legendbarbottom.css("top",F-1+E-R-(this.pageable?this.pagerHeight:0));if(this.rtl){if(this.hScrollBar.css("visibility")=="hidden"){this.legendbarbottom.css("left",this.content.css("left"))}else{this.legendbarbottom.css("left","0px")}}}this.vScrollBar[0].style.zIndex=this.tableZIndex+this.headerZIndex+10+this.columns.records.length;this.hScrollBar[0].style.zIndex=this.tableZIndex+this.headerZIndex+10+this.columns.records.length;if(B!=parseInt(this.dataloadelement[0].style.width)){this.dataloadelement[0].style.width=this.element.style.width}if(E!=parseInt(this.dataloadelement[0].style.height)){this.dataloadelement[0].style.height=this.element.style.height}this._hostWidth=B;this._hostHeight=L;var S=this.schedulercontent.coord();this._tableOffset=S},scrollOffset:function(e,f){if(arguments.length==0||(e!=null&&typeof(e)=="object"&&!e.top)){return{left:this.hScrollBar.jqxScrollBar("value"),top:this.vScrollBar.jqxScrollBar("value")}}if(e!=null&&typeof(e)=="object"){var f=e.left;var a=e.top;var e=a}if(e==null||f==null||e==undefined||f==undefined){return}this.vScrollBar.jqxScrollBar("setPosition",e);this.hScrollBar.jqxScrollBar("setPosition",f)},scrollleft:function(a){if(a==null||a==undefined){return}if(this.hScrollBar.css("visibility")!="hidden"){this.hScrollBar.jqxScrollBar("setPosition",a)}},scrolltop:function(a){if(a==null||a==undefined){return}if(this.vScrollBar.css("visibility")!="hidden"){this.vScrollBar.jqxScrollBar("setPosition",a)}},beginAppointmentsUpdate:function(){this._appupdating=true},endAppointmentsUpdate:function(){this._appupdating=false;this._renderrows()},beginUpdate:function(){this._updating=true;this._datachanged=false},endUpdate:function(a){this._updating=false;if(a===false){return}this._rendercolumnheaders();this.refresh()},updating:function(){return this._updating},databind:function(n,l,u){if(this.loadingstate===true){return}if(this.host.css("display")=="block"){if(this.autoShowLoadElement){c(this.dataloadelement).css("visibility","visible");c(this.dataloadelement).css("display","block");this.dataloadelement.width(this.host.width());this.dataloadelement.height(this.host.height())}else{c(this.dataloadelement).css("visibility","hidden");c(this.dataloadelement).css("display","none")}}var o=this;if(n==null){n={}}if(n.sortcomparer==undefined||n.sortcomparer==null){n.sortcomparer=null}if(n.filter==undefined||n.filter==null){n.filter=null}if(n.sort==undefined||n.sort==null){n.sort=null}if(n.data==undefined||n.data==null){n.data=null}var s=null;if(n!=null){s=n._source!=undefined?n._source.url:n.url}this.dataview=this.dataview||new c.jqx.scheduler.dataView("dataView");this.resourcesDataView=this.resourcesDataView||new c.jqx.scheduler.dataView("resourcesDataView");this.dataview.pageable=this.pageable;this.dataview.scheduler=this;this.resourcesDataView.scheduler=this;this._loading=true;this.appointments=new Array();this.uiappointments=new Array();var a=1;if(this.resources&&this.resources.source){a=2}var t=0;var q=function(){if(t==a){var d=o._resources.length>1?o._resources.length:1;if(o.resources&&o.resources.orientation==="horizontal"){o.tableColumns=d;o.tableRows=1}else{if(o.resources&&o.resources.orientation==="vertical"){o.tableRows=d;o.tableColumns=1}else{o.tableColumns=1;o.tableRows=1}}o._render();if(o.autoShowLoadElement&&!o._loading){c(o.dataloadelement).css("visibility","hidden");c(o.dataloadelement).css("display","none")}o._updateTouchScrolling();o._raiseEvent("bindingComplete");if(u){u()}if(!o.initializedcall){o.initializedcall=true;o.isInitialized=true;if((o.width!=null&&o.width.toString().indexOf("%")!=-1)||(o.height!=null&&o.height.toString().indexOf("%")!=-1)){o._updatesize(true)}if(o.ready){o.ready()}if(o.host.css("visibility")=="hidden"){var e=c.jqx.browser.msie&&c.jqx.browser.version<8;if(o.vScrollBar.css("visibility")=="visible"){o.vScrollBar.css("visibility","inherit")}if(o.hScrollBar.css("visibility")=="visible"){o.hScrollBar.css("visibility","inherit")}o._intervalTimer=setInterval(function(){if(o.host.css("visibility")=="visible"){o._updatesize(true);clearInterval(o._intervalTimer)}},100)}}}};this.dataview.update=function(f){o._loading=false;o.appointmentsByKey=new Array();o.appointments=new Array();o.uiappointments=new Array();var N=o.source._source.datafields;var U=["from","to","id","style","description","location","subject","background","color","borderColor","recurrencePattern","recurrenceException","draggable","resizable","tooltip","hidden","allDay","timeZone","ownerId","resourceId"];var W=new Array();for(var e=0;e<o.source.records.length;e++){var T=o.source.records[e];var V={};for(var I in o.appointmentDataFields){var X=o.appointmentDataFields[I];var h=T[X];if(I=="from"||I=="to"){h=new c.jqx.date(h)}if(I=="style"){if(h){var O=o.getAppointmentColors(h);V.color=O.color;V.background=O.background;V.borderColor=O.border}}if(I=="recurrencePattern"){if(h){h=new c.jqx.scheduler.recurrencePattern(h);h.timeZone=T.timeZone||o.timeZone}}if(I=="recurrenceException"){var R=new Array();if(h){if(h.indexOf("EXDATE:")>=0){h=h.substring(h.indexOf("EXDATE:")+7)}var L=new Array();if(h.indexOf(",")>=0){L=h.split(",")}else{L.push(h)}for(var d=0;d<L.length;d++){var G=L[d];if(G.indexOf(";")>=0){var S=G.split(";")[1];G=G.split(";")[0];if(S.toLowerCase().indexOf("display")>=0&&S.toLowerCase().indexOf("none")){V.hidden=true}}try{var M=c.jqx.scheduler.utilities.untilStringToDate(G);if(M!="Invalid Date"){if(V.timeZone){M=new c.jqx.date(M,V.timeZone)}else{if(o.timeZone){M=M.toTimeZone(o.timeZone)}else{M=new c.jqx.date(M)}}}}catch(K){var M=new c.jqx.date(G,o.timeZone)}R.push(M)}}h=R}V[I]=h}for(var J in U){var I=U[J];if(V[I]==undefined){var h="";if(I=="originalData"){continue}if(I=="ownerId"){h=null}if(I=="timeZone"){h=null}if(I=="recurrencePattern"){h=null}if(I=="recurrenceException"){h=null}if(I=="allDay"){h=false}if(I=="draggable"){h=true}if(I=="resizable"){h=true}if(I=="hidden"){h=false}if(I=="resourceId"){h=null}if(I=="from"){h=new c.jqx.date()}if(I=="to"){h=new c.jqx.date().addHours(1)}V[I]=h}}V.originalData=T;if(o.resources&&!o.resources.source){if(W.indexOf(V.resourceId)==-1){W.push(V.resourceId)}}o.appointmentsByKey[T.uid]=V;o.appointments.push(V);var H=new c.jqx.scheduler.appointment(V);if(V.timeZone){H.from=H.from.toTimeZone(V.timeZone);H.to=H.to.toTimeZone(V.timeZone)}if(o.timeZone){if(!V.timeZone){H.timeZone=o.timeZone}H.from=H.from.toTimeZone(o.timeZone);H.to=H.to.toTimeZone(o.timeZone)}else{H.from=H.from.toTimeZone(null);H.to=H.to.toTimeZone(null)}V.jqxAppointment=H;if(V.recurrenceException){for(var Q=0;Q<V.recurrenceException.length;Q++){var M=H.recurrenceException[Q];var P=H.clone();P.occurrenceFrom=M;var Y=H.duration();if(o.allDay){Y=new c.jqx.timeSpan(10000*(o.to-o.from))}P.from=M;P.to=M.add(Y);P.rootAppointment=H;P.hidden=true;H.exceptions.push(P)}}H.boundAppointment=V;H.scheduler=o;o.uiappointments.push(H)}o._resources=W;t++;q()};this.resourcesDataView.update=function(e){if(o.resources.dataField){o._resources=new Array();for(var d=0;d<e.length;d++){if(o._resources.indexOf(e[d][o.resources.dataField])>=0){continue}if(e[d][o.resources.dataField]){o._resources.push(e[d][o.resources.dataField])}}}else{o._resources=e}if(o.resources.orientation==undefined){o.resources.orientation="none"}t++;q()};this.dataview.databind(n);if(this.resources&&this.resources.source){this.resourcesDataView.databind(this.resources.source)}},_raiseEvent:function(h,q){if(q==undefined){q={owner:null}}var o=h;var n=q;n.owner=this;var l=new c.Event(o);l.owner=this;l.args=n;var a=this.host.trigger(l);q=l.args;return a},ensureAppointmentVisible:function(a){if(this.appointmentsByKey[a]){return this._ensureAppointmentVisible(this.appointmentsByKey[a].jqxAppointment)}return false},_ensureAppointmentVisible:function(af){if(this.vScrollBar[0].style.visibility==="hidden"&&this.hScrollBar[0].style.visibility==="hidden"){return false}if(!af){return false}var ac=this.getViewStart();var ae=this.getViewEnd();var X=c.jqx.scheduler.utilities.rangeIntersection(af.from,af.to,ac,ae);if(!X){this.navigateTo(af.from);return this._ensureAppointmentVisible(af)}var K=af.id;var P=c('[data-key="'+K+'"]');if(P.length>0){var ak=P[0]}else{if(af.elements&&af.elements.length>0){var ah=af.elements[0];var ak=ah.element}else{return false}}var a=this.vScrollInstance.value;var H=this.hScrollInstance.value;if(this.rtl){var H=this.hScrollInstance.max-H}var Q=this.element.clientHeight;var L=this.element.clientWidth;var V=0;if(!this.columnGroups){V+=this.showHeader?this.columnsHeight:0}else{V+=this.showHeader?this.columnsheader.height():0}var T=this._views[this._view].type;var Z=this._views[this._view];var R=0;if(T=="dayView"||T=="weekView"){var I=this.showAllDayRow;if(Z.timeRuler&&(T==="dayView"||T==="weekView")){if(Z.timeRuler.showAllDayRow!=undefined){I=Z.timeRuler.showAllDayRow}}if(I){if(this.tableRows==1){R=this.table[0].rows[0].clientHeight}else{R=this.table[0].rows[1].clientHeight}}var U=af.duration().days()>=1||af.allDay;if(U&&this.tableRows==1&&this.tableColumns==1){return false}}if(this.showToolbar){V+=this.toolbarHeight}Q-=V;if(this.showLegend&&this._resources.length>0){Q-=this.legendHeight}var ai=0;var ab=0;var aj=a-ai;var S=Q+aj-R;var J=H-ab;var N=L+J;var O=ak;O=c(O);var ag=O[0].clientHeight;var ad=O.position().top-R;var aa=ad+ag;if(ad<=aj){var W=ad;if(W<0){W=0}if(!U||(U&&this.tableRows>1)){this.vScrollBar.jqxScrollBar("setPosition",W)}}else{if(ad>=S){var W=ad;if(W<0){W=0}if(!U||(U&&this.tableRows>1)){this.vScrollBar.jqxScrollBar("setPosition",W-2)}}}var M=O.position().left;M=Math.round(M);var al=M+O.outerWidth();if(Math.round(O.position().left)===0){this.hScrollBar.jqxScrollBar("setPosition",0)}if(M<=J){var Y=M-O.outerWidth()+ab;if(Y<0){Y=0}if(!this.rtl){this.hScrollBar.jqxScrollBar("setPosition",M)}else{this.hScrollBar.jqxScrollBar("setPosition",this.hScrollBar.jqxScrollBar("max")-M)}}if(M>N){if(!this.rtl){this.hScrollBar.jqxScrollBar("setPosition",M)}else{this.hScrollBar.jqxScrollBar("setPosition",this.hScrollBar.jqxScrollBar("max")-M)}}},ensureVisible:function(v,n){var s=this;var a=c.type(v)=="date"?v:v.toDate();for(var t=0;t<s.rows.length;t++){for(var u=0;u<s.rows[t].cells.length;u++){var o=s.rows[t].cells[u];if(n){if(o.getAttribute("data-view")!==n){continue}}var q=o.getAttribute("data-date");var z=s._getDateByString;var w=z(q);if(w.valueOf()==a.valueOf()){return s._ensureVisible(o)}}}},_ensureVisible:function(Z){if(this.vScrollBar[0].style.visibility==="hidden"&&this.hScrollBar[0].style.visibility==="hidden"){return false}var G=this.vScrollBar.jqxScrollBar("value");var H=this.hScrollBar.jqxScrollBar("value");if(this.rtl){H=this.hScrollBar.jqxScrollBar("max")-H}var O=this._hostHeight;var L=this._hostWidth;var D=0;if(!this.columnGroups){D+=this.showHeader?this.columnsHeight:0}else{D+=this.showHeader?this.columnsheader.height():0}if(this.showToolbar){D+=this.toolbarHeight}O-=D;if(this.showLegend&&this._resources.length>0){O-=this.legendHeight}if(this.hScrollBar.css("visibility")!="hidden"){O-=20}var W=0;var T=0;var P=this._views[this._view].type;var R=this._views[this._view];var B=0;if(P=="dayView"||P=="weekView"){var I=this.showAllDayRow;if(R.timeRuler&&(P==="dayView"||P==="weekView")){if(R.timeRuler.showAllDayRow!=undefined){I=R.timeRuler.showAllDayRow}}if(I){if(this.tableRows==1){B=this.table[0].rows[0].clientHeight}else{B=this.table[0].rows[1].clientHeight}}}var X=G-W;var C=O+X-B;var J=H-T;var K=L+J;var a=Z;a=c(a);var V=a.position().top-B;var S=V+a.outerHeight();var M=a.position().left;M=Math.round(M);var Y=M+a.outerWidth();if(Math.round(a.position().left)===0){this.hScrollBar.jqxScrollBar("setPosition",0)}if(M<=J){var Q=M-a.outerWidth()+T;if(Q<0){Q=0}if(!this.rtl){this.hScrollBar.jqxScrollBar("setPosition",Q)}else{this.hScrollBar.jqxScrollBar("setPosition",this.hScrollBar.jqxScrollBar("max")-Q)}}if(Y>=K){if(!this.rtl){this.hScrollBar.jqxScrollBar("setPosition",2+T+Y-L)}else{this.hScrollBar.jqxScrollBar("setPosition",this.hScrollBar.jqxScrollBar("max")-(2+T+Y-L))}}var U=a.parent().index();if(this.tableRows>0){U--}if(Math.round(a.position().top)===0||U===0){return this.vScrollBar.jqxScrollBar("setPosition",0)}else{var N=this.table[0].rows.length-1;var E=this.table[0].rows[N];if(E[0]===a.parent()[0]){return this.vScrollBar.jqxScrollBar("setPosition",this.vScrollBar.jqxScrollBar("max"))}}if(V<=X){var F=V;if(F<0){F=0}return this.vScrollBar.jqxScrollBar("setPosition",F)}if(S>=C){return this.vScrollBar.jqxScrollBar("setPosition",4+S-O+B)}},getColumn:function(a){var d=null;if(this.columns.records){c.each(this.columns.records,function(){if(this.datafield==a||this.displayfield==a){d=this;return false}})}return d},_setcolumnproperty:function(q,n,l){if(q==null||n==null||l==null){return null}n=n.toLowerCase();var o=this.getColumn(q);if(o==null){return}var h=o[n];o[n]=l;var a=this.getColumn(q);if(a!=null){a[n]=l}switch(n){case"text":case"hidden":case"hideable":case"renderer":case"align":case"cellsalign":case"contenttype":case"cellclass":case"cellclassname":case"class":case"width":case"minwidth":case"maxwidth":if(n=="align"){this._rendercolumnheaders();this.refresh()}else{if(n=="text"||n=="class"||n=="hidden"||n=="pinned"||n=="resizable"||n=="renderer"){this._rendercolumnheaders();this.refresh()}else{if(n=="width"||n=="maxwidth"||n=="minwidth"){o._width=null;o._percentagewidth=null;this._updatecolumnwidths();this.refresh()}else{this.refresh()}}}break}},getColumnProperty:function(a,e){if(a==null||e==null){return null}e=e.toLowerCase();var f=this.getColumn(a);return f[e]},setColumnProperty:function(a,f,e){this._setcolumnproperty(a,f,e)},hideColumn:function(a){this._setcolumnproperty(a,"hidden",true)},showColumn:function(a){this._setcolumnproperty(a,"hidden",false)},updateBoundData:function(d,a){this.databind(this.source,d,a)},refresh:function(d){if(d!=true){var a=this;if(c.jqx.isHidden(a.host)){return}a.table[0].style.top="0px";a.vScrollInstance.setPosition(0);a._renderrows();a._arrange();a._renderhorizontalscroll();a._updateTouchScrolling();a._refreshToolBar();a._updateFocusedCell()}},_updateFocusedCell:function(){var l=this;if(l.focusedCell){l._updateCellsSelection();return}var s=l._views[l._view].type;var n=l._views[l._view];var t=l.showAllDayRow;if(n.timeRuler&&(s==="dayView"||s==="weekView")){if(n.timeRuler.showAllDayRow!=undefined){t=n.timeRuler.showAllDayRow}}if(!t||(s!="dayView"&&s!="weekView")){l.focusedCell=l.rows[0].cells[0];if(l.rtl){l.focusedCell=l.rows[0].cells[l.rows[0].cells.length-1]}}else{l.focusedCell=l.rows[1].cells[0];if(l.rtl){l.focusedCell=l.rows[1].cells[l.rows[1].cells.length-1]}}if(l.focusedCell.className.indexOf("jqx-scheduler-disabled-cell")>=0){l.focusedCell=null;for(var o=0;o<this.rows.length;o++){for(var q=0;q<this.rows[o].cells.length;q++){var a=this.rows[o].cells[q];if(a.className.indexOf("jqx-scheduler-disabled-cell")==-1){l.focusedCell=a;break}}if(l.focusedCell){break}}}l._lastSelectedCell=l.focusedCell;l._updateCellsSelection()},_updateTouchScrolling:function(){var l=this.that;return;if(l.isTouchDevice()){var f=c.jqx.mobile.getTouchEventName("touchstart");var h=c.jqx.mobile.getTouchEventName("touchend");var a=c.jqx.mobile.getTouchEventName("touchmove");if(l.schedulercontent){l.removeHandler(l.schedulercontent,f+".touchScroll");l.removeHandler(l.schedulercontent,a+".touchScroll");l.removeHandler(l.schedulercontent,h+".touchScroll");l.removeHandler(l.schedulercontent,"touchcancel.touchScroll");c.jqx.mobile.touchScroll(l.schedulercontent[0],Math.max(l.vScrollInstance.max,l.hScrollInstance.max),function(d,e){if(l.vScrollBar.css("visibility")!="hidden"){var n=l.vScrollInstance.value;l.vScrollInstance.setPosition(n+e)}if(l.hScrollBar.css("visibility")!="hidden"){var n=l.hScrollInstance.value;l.hScrollInstance.setPosition(n+d)}l.scrolled=new Date();l.vScrollInstance.thumbCapture=true},this.element.id,this.hScrollBar,this.vScrollBar)}}},scrollWidth:function(){return this.hScrollInstance.max},scrollHeight:function(){return this.vScrollInstance.max},scrollLeft:function(a){if(this.hScrollBar[0].style.visibility!="hidden"){this.hScrollInstance.setPosition(a)}},scrollTop:function(a){if(this.vScrollBar[0].style.visibility!="hidden"){this.vScrollInstance.setPosition(a)}},render:function(n){var t="<div style='overflow: hidden; -webkit-appearance: none; outline: none; width:100%; height: 100%; align:left; border: 0px; padding: 0px; margin: 0px; left: 0px; top: 0px; valign:top; position: relative;'><div id='wrapper"+this.element.id+"' style='overflow: hidden; -webkit-appearance: none; border: none; background: transparent; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; align:left; left: 0px; top: 0px; valign:top; position: relative;'><div id='toolbar' style='visibility: hidden; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='legendbartop' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='filter' style='visibility: hidden; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='content"+this.element.id+"' style='overflow: hidden; -webkit-appearance: none; border: none; background: transparent; outline: none; border: none; padding: 0px; margin-left: 0px; margin-top: 0px; margin-right: 0px; margin-bottom: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='verticalScrollBar"+this.element.id+"' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='horizontalScrollBar"+this.element.id+"' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='bottomRight' style='align:left; valign:top; left: 0px; top: 0px; border: none; position: absolute;'></div><div id='aggregates' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='legendbarbottom' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='pager' style='z-index: 20; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div></div></div>";this.element.innerHTML=t;this.wrapper=this.host.find("#wrapper"+this.element.id);this.content=this.host.find("#content"+this.element.id);this.content.addClass(this.toTP("jqx-reset"));var q=this.host.find("#verticalScrollBar"+this.element.id);var a=this.host.find("#horizontalScrollBar"+this.element.id);this.bottomRight=this.host.find("#bottomRight").addClass(this.toTP("jqx-grid-bottomright")).addClass(this.toTP("jqx-scrollbar-state-normal"));if(this.vScrollBar){this.vScrollBar.jqxScrollBar("destroy")}if(this.hScrollBar){this.hScrollBar.jqxScrollBar("destroy")}this.vScrollBar=q.jqxScrollBar({vertical:true,rtl:this.rtl,touchMode:this.touchMode,theme:this.theme,_triggervaluechanged:false});this.hScrollBar=a.jqxScrollBar({vertical:false,rtl:this.rtl,touchMode:this.touchMode,theme:this.theme,_triggervaluechanged:false});this.vScrollBar.css("visibility","hidden");this.hScrollBar.css("visibility","hidden");this.vScrollInstance=c.data(this.vScrollBar[0],"jqxScrollBar").instance;this.hScrollInstance=c.data(this.hScrollBar[0],"jqxScrollBar").instance;this.pager=this.host.find("#pager");this.pager[0].id="pager"+this.element.id;this.toolbar=this.host.find("#toolbar");this.toolbar[0].id="toolbar"+this.element.id;this.toolbar.addClass(this.toTP("jqx-scheduler-toolbar"));this.toolbar.addClass(this.toTP("jqx-widget-header"));this.legendbarbottom=this.host.find("#legendbarbottom");this.legendbarbottom[0].id="legendbarbottom"+this.element.id;this.legendbarbottom.addClass(this.toTP("jqx-scheduler-legend-bar-bottom"));this.legendbarbottom.addClass(this.toTP("jqx-scheduler-legend-bar"));this.legendbarbottom.addClass(this.toTP("jqx-widget-header"));this.pager.addClass(this.toTP("jqx-grid-pager"));this.pager.addClass(this.toTP("jqx-widget-header"));this.legendbartop=this.host.find("#legendbartop");this.legendbartop.addClass(this.toTP("jqx-scheduler-legend-bar-top"));this.legendbartop.addClass(this.toTP("jqx-scheduler-legend-bar"));this.legendbartop.addClass(this.toTP("jqx-widget-header"));this.schedulertable=null;if(this.localizestrings){this.localizestrings();if(this.localization!=null){this.localizestrings(this.localization,false)}}this._builddataloadelement();this._cachedcolumns=this.columns;var w=this.source.datafields;if(w==null&&this.source._source){w=this.source._source.datafields}if(w){for(var v=0;v<this.columns.length;v++){var u=this.columns[v];if(u&&u.cellsFormat&&u.cellsFormat.length>2){for(var l=0;l<w.length;l++){if(w[l].name==u.datafield&&!w[l].format){w[l].format=u.cellsFormat;break}}}}}this.databind(this.source);if(this.showToolbar){this.toolbar.css("visibility","inherit")}if(this.showLegend){this.legendbarbottom.css("visibility","inherit")}this.tableheight=null;var s=this;var o=function(){if(s.content){s.content[0].scrollTop=0;s.content[0].scrollLeft=0}if(s.schedulercontent){s.schedulercontent[0].scrollLeft=0;s.schedulercontent[0].scrollTop=0}};this.removeHandler(this.content,"scroll");this.removeHandler(this.content,"mousedown");this.addHandler(this.content,"scroll",function(d){o();return false});if(n!==true){this._render()}},_render:function(){var h=this;if(h.dataview==null){return}if(h._loading){return}if(h.columnsHeight!=25||h.columnGroups){h._measureElement("column")}h.rowinfo=new Array();h._removeHandlers();if(h.columns==null){h.columns=new c.jqx.schedulerDataCollection(h.element)}else{h._initializeColumns()}h.host.height(h.height);h.host.width(h.width);c.jqx.utilities.html(h.content,"");h.columnsheader=h.columnsheader||c('<div style="overflow: hidden;"></div>');h.columnsheader.remove();h.columnsheader.addClass(h.toTP("jqx-widget-header"));h.columnsheader.addClass(h.toTP("jqx-grid-header"));if(!h.showHeader){h.columnsheader.css("display","none")}else{if(h.columnsheader){h.columnsheader.css("display","block")}}h.schedulercontent=h.schedulercontent||c('<div style="width: 100%; overflow: hidden; position: absolute;"></div>');h.schedulercontent.remove();var n=h.columnsHeight;n=h._preparecolumnGroups();h.columnsheader.height(n);h.content.append(h.columnsheader);h.content.append(h.schedulercontent);h._rendercolumnheaders();h.tableheight=null;h.schedulercontent.find("#contenttable"+h.element.id).remove();if(h.table!=null){h.table.remove();h.table=null}if(h.pinnedtable!=null){h.pinnedtable.remove();h.pinnedtable=null}h.table=c('<div id="contenttable'+h.element.id+'" style="overflow: hidden; position: relative;"></div>');h.pinnedtable=c('<div id="contenttable2'+h.element.id+'" style="display: none; overflow: hidden; position: relative;"></div>');h.schedulercontent.addClass(h.toTP("jqx-grid-content"));h.schedulercontent.addClass(h.toTP("jqx-widget-content"));h.schedulercontent.append(h.table);if(h.tableRows==1){h.schedulercontent.append(h.pinnedtable)}h._renderrows();h._arrange();h._resourcesElements=new Array();var o=function(e,d){e.children().remove();var e=c("<div style='margin:5px; position: relative;'></div>").appendTo(e);h._resourcesElements[d]=new Array();c.each(h._resources,function(w){var s=h.getColors(w);var f=this.toString();var v=c("<div data-toggle='on' style='border-color: "+s.border+"; background: "+s.background+";' class='"+h.toThemeProperty("jqx-scheduler-legend")+"'></div>");v.appendTo(e);var t=c("<div class='"+h.toThemeProperty("jqx-scheduler-legend-label")+"'>"+f+"</div>");t.appendTo(e);h._resourcesElements[d][f]=v;var u=function(){if(v.attr("data-toggle")=="on"){h.hideAppointmentsByResource(f)}else{h.showAppointmentsByResource(f)}};h.addHandler(v,"mousedown",function(){u();return false});h.addHandler(t,"mousedown",function(){u();return false})})};o(h.legendbarbottom,"bottom");o(h.legendbartop,"top");if(h.legendPosition=="top"){h.legendbarbottom.hide()}else{h.legendbartop.hide()}if(h._resources.length==0){h.legendbarbottom.hide();h.legendbartop.hide()}if(h.renderToolBar){h.renderToolBar(h.toolbar)}else{h._renderToolBar()}if(h.disabled){h.host.addClass(h.toThemeProperty("jqx-fill-state-disabled"))}h._renderhorizontalscroll();h._addHandlers();h.clearSelection();var q=h._views[h._view].type;var l=h._views[h._view];var a=h.showAllDayRow;if(l.timeRuler&&(q==="dayView"||q==="weekView")){if(l.timeRuler.showAllDayRow!=undefined){a=l.timeRuler.showAllDayRow}}if(!a||(q!="dayView"&&q!="weekView")){h.focusedCell=h.rows[0].cells[0]}else{h.focusedCell=h.rows[1].cells[0]}h._lastSelectedCell=h.focusedCell;h._updateCellsSelection()},clear:function(){if(this.source){this.source.records=new Array();this.source.hierarchy=new Array()}this.dataview._filteredData=new Array();this.databind(null);this._render()},getJQXAppointmentByElement:function(s){var o=this;var q=s.getAttribute?s.getAttribute("data-key"):s.attr("data-key");if(q.indexOf(".")>=0){var t=q.substring(0,q.indexOf("."));var l=q.substring(q.indexOf(".")+1);var n=o.appointmentsByKey[t];var a=n.jqxAppointment.renderedAppointments[q]}else{var n=o.appointmentsByKey[q];var a=n.jqxAppointment}return a},_renderToolBar:function(){var q=this;var A=c('<div style="width: 100%; height: 100%; position: relative;"></div>');var n=(this.toolbarHeight-20)/2;A.css("top",n);q.toolbarLeftButton=c('<div type="button" style="outline: none; padding: 0px; margin-top: 3px; margin-left: 3px; margin-right: 3px; width: 27px; float: left;"></div>');q.toolbarRightButton=c('<div type="button" style="outline: none; padding: 0px; margin-top: 3px; margin-right: 3px; width: 27px; float: left;"></div>');q.toolbarLeftButton.attr("title",q.schedulerLocalization.toolBarPreviousButtonString);q.toolbarRightButton.attr("title",q.schedulerLocalization.toolBarNextButtonString);q.toolbarRightButton.jqxButton({enableHover:false,enableDefault:false,enablePressed:false,cursor:"pointer",disabled:q.disabled,theme:q.theme});q.toolbarLeftButton.jqxButton({enableHover:false,enableDefault:false,enablePressed:false,cursor:"pointer",disabled:q.disabled,theme:q.theme});q.dateTimeInput=c('<div style="outline: none; padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: left;"></div>');q.toolbarLeftButton.find(".jqx-icon-arrow-left").remove();q.toolbarRightButton.find(".jqx-icon-arrow-right").remove();var v=c("<div style='outline: none; margin-left: 6px; width: 15px; height: 15px;'></div>");v.addClass(q.toThemeProperty("jqx-icon-arrow-left"));q.toolbarLeftButton.wrapInner(v);var o=c("<div style='outline: none; margin-left: 6px; width: 15px; height: 15px;'></div>");o.addClass(q.toThemeProperty("jqx-icon-arrow-right"));q.toolbarRightButton.wrapInner(o);if(q.rtl){q.toolbarLeftButton.css("float","right");q.toolbarRightButton.css("float","right");q.dateTimeInput.css("float","right")}q.addHandler(q.toolbarRightButton,"mouseenter",function(){o.addClass(q.toThemeProperty("jqx-icon-arrow-right-hover"))});q.addHandler(q.toolbarLeftButton,"mouseenter",function(){v.addClass(q.toThemeProperty("jqx-icon-arrow-left-hover"))});q.addHandler(q.toolbarRightButton,"mouseleave",function(){o.removeClass(q.toThemeProperty("jqx-icon-arrow-right-hover"))});q.addHandler(q.toolbarLeftButton,"mouseleave",function(){v.removeClass(q.toThemeProperty("jqx-icon-arrow-left-hover"))});q.addHandler(q.toolbarRightButton,"mousedown",function(){o.addClass(q.toThemeProperty("jqx-icon-arrow-right-selected"))});q.addHandler(q.toolbarRightButton,"mouseup",function(){o.removeClass(q.toThemeProperty("jqx-icon-arrow-right-selected"))});q.addHandler(q.toolbarLeftButton,"mousedown",function(){v.addClass(q.toThemeProperty("jqx-icon-arrow-left-selected"))});q.addHandler(q.toolbarLeftButton,"mouseup",function(){v.removeClass(q.toThemeProperty("jqx-icon-arrow-left-selected"))});q.addHandler(c(document),"mouseup.pagerbuttons"+q.element.id,function(){o.removeClass(q.toThemeProperty("jqx-icon-arrow-right-selected"));v.removeClass(q.toThemeProperty("jqx-icon-arrow-left-selected"))});q.addHandler(q.toolbarRightButton,"click",function(){if(!q.toolbarRightButton.jqxButton("disabled")){if(!q.rtl){q.navigateForward()}else{q.navigateBackward()}q.focus()}});q.addHandler(q.toolbarLeftButton,"click",function(){if(!q.toolbarLeftButton.jqxButton("disabled")){if(!q.rtl){q.navigateBackward()}else{q.navigateForward()}q.focus()}});q.toolbar.children().remove();q.toolbar.append(A);if(!q.rtl){A.append(q.toolbarLeftButton);A.append(q.dateTimeInput);A.append(q.toolbarRightButton)}else{A.append(q.toolbarRightButton);A.append(q.dateTimeInput);A.append(q.toolbarLeftButton)}q.toolbarDetails=c('<div class="'+q.toTP("jqx-scheduler-toolbar-details")+'" style="margin-left: 7px; margin-top:2px; float: left;"></div>');q.toolbarViews=c('<div style="margin-right: 10px; margin-top:0px; float: right;"></div>');if(q.rtl){q.toolbarDetails.css("float","right");q.toolbarDetails.css("margin-left","0px");q.toolbarDetails.css("margin-right","7px");q.toolbarViews.css("margin-left","10px");q.toolbarViews.css("margin-right","0px");q.toolbarViews.css("float","left")}var s=new Array();if(!q.rtl){s.push(q.toolbarLeftButton);s.push(q.dateTimeInput);s.push(q.toolbarRightButton)}else{s.push(q.toolbarRightButton);s.push(q.dateTimeInput);s.push(q.toolbarLeftButton)}var a=q._views.length-1;c.each(q._views,function(f){var e="";var l=f;if(q.rtl){l=a-f}if(q._views[l].text!=undefined){e=q._views[l].text}else{switch(q._views[l].type){case"dayView":e=q.schedulerLocalization.dayViewString;break;case"weekView":e=q.schedulerLocalization.weekViewString;break;case"monthView":e=q.schedulerLocalization.monthViewString;break;case"agendaView":e=q.schedulerLocalization.agendaViewString;break;case"timelineDayView":e=q.schedulerLocalization.timelineDayViewString;break;case"timelineWeekView":e=q.schedulerLocalization.timelineWeekViewString;break;case"timelineMonthView":e=q.schedulerLocalization.timelineMonthViewString;break}}var h='<span data-type="'+q._views[l].type+'" style="cursor: pointer; outline: none; margin-left: -1px; position: relative;">'+e+"</span>";var d=c(h);d.addClass(q.toTP("jqx-group-button-normal jqx-button jqx-fill-state-normal"));s.push(d);if(l==0){if(!q.rtl){d.addClass(q.toTP("jqx-rc-l"))}else{d.addClass(q.toTP("jqx-rc-r"))}}if(l==q._views.length-1){if(!q.rtl){d.addClass(q.toTP("jqx-rc-r"))}else{d.addClass(q.toTP("jqx-rc-l"))}}if(l===q._view){d.addClass(q.toTP("jqx-fill-state-pressed"))}d.mouseenter(function(){d.addClass(q.toTP("jqx-fill-state-hover"))});d.mouseleave(function(){d.removeClass(q.toTP("jqx-fill-state-hover"))});d.mousedown(function(){q._setView(l);q.focus()});c(q.toolbarViews).append(d)});A.append(q.toolbarDetails);A.append(q.toolbarViews);if(q._views.length<2){q.toolbarViews.hide()}q.dateTimeInput.jqxDateTimeInput({rtl:q.rtl,localization:q._getDateTimeInputLocalization(),firstDayOfWeek:q.schedulerLocalization.firstDay,todayString:q.schedulerLocalization.todayString,clearString:q.schedulerLocalization.clearString,showFooter:true,height:19,width:18,renderMode:"simple"});q.addHandler(q.dateTimeInput,"change",function(d){if(!q.fromNavigate){q.navigateTo(new c.jqx.date(d.args.date,q.timeZone));q.focus()}});q.tabKeyElements=s;var t=q._views[q._view].type;var w=function(d){var e=c.jqx.formatDate(q.getViewStart().toDate(),d,q.schedulerLocalization);var f=c.jqx.formatDate(q.getViewEnd().toDate(),d,q.schedulerLocalization);if(t==="dayView"||t==="timelineDayView"){q.toolbarDetails.html(e)}else{q.toolbarDetails.html(e+" - "+f)}if(q.rtl){q.toolbarDetails.addClass("jqx-rtl");q.toolbarDetails.html("<span style='direction:rtl;'>"+f+"<span> - <span style='direction:rtl;'>"+e+"</span>")}else{q.toolbarDetails[0].style.direction="ltr"}};w(q.toolBarRangeFormat);var z=q.toolbarViews.width()+q.toolbarDetails.width()+120;var u=q.toolBarRangeFormat;if(z>q.host.width()){u=q.toolBarRangeFormatAbbr;w(u);var z=q.toolbarViews.width()+q.toolbarDetails.width()+120;if(z>q.host.width()){q.toolbarDetails.hide();var z=q.toolbarViews.width()+120;if(z>q.host.width()){q.toolbarViews.hide()}}}else{q.currentToolbarFormat=q.toolBarRangeFormat}},_setView:function(o){var q=this;q.toolbarViews.find(".jqx-fill-state-pressed").removeClass(q.toTP("jqx-fill-state-pressed"));if(!q.rtl){c(q.toolbarViews.children()[o]).addClass(q.toTP("jqx-fill-state-pressed"))}else{c(q.toolbarViews.children()[q._views.length-1-o]).addClass(q.toTP("jqx-fill-state-pressed"))}if(q._view===o){return}var v=q.vScrollBar[0].style.visibility;if(v){if(!q._scrollPosition){q._scrollPosition=new Array()}q._scrollPosition[q._view]=q.vScrollInstance.value}var u=q.hScrollBar[0].style.visibility;if(u){if(!q._hscrollPosition){q._hscrollPosition=new Array()}q._hscrollPosition[q._view]=q.hScrollInstance.value}var l=q._views[q._view].type;var s=q._views[o].type;q._view=o;q._refreshColumns();q.refresh();var n=q.hScrollBar[0].style.visibility;if(u!==n){q._renderrows()}if(q._scrollPosition[q._view]){q.vScrollInstance.setPosition(q._scrollPosition[q._view])}if(q._hscrollPosition[q._view]){q.hScrollInstance.setPosition(q._hscrollPosition[q._view])}if(q.selectedJQXAppointment){q._ensureAppointmentVisible(q.selectedJQXAppointment)}var t=q.getViewStart();var a=c.jqx.scheduler.utilities.getEndOfDay(q.getViewEnd());q._raiseEvent("viewChange",{date:q.date,from:t,to:a,oldViewType:l,newViewType:s})},_getDateTimeInputLocalization:function(){var a=this;var d={};d.backString=a.schedulerLocalization.backString;d.forwardString=a.schedulerLocalization.forwardString;d.todayString=a.schedulerLocalization.todayString;d.clearString=a.schedulerLocalization.clearString;d.calendar=a.schedulerLocalization;return d},setView:function(a){switch(a){case"dayView":this._setView(0);break;case"weekView":this._setView(1);break;case"monthView":this._setView(2);break;case"timelineDayView":this._setView(3);break;case"timelineWeekView":this._setView(4);break;case"timelineMonthView":this._setView(5);break}this.view=a},navigateForward:function(){var t=this;var n=this._views[this._view].type;var l=this._views[this._view];var u=new c.jqx.date(this.date,t.timeZone);var a=function(){while((u.dayOfWeek()==0||u.dayOfWeek()==6)&&false===l.showWeekends){u=u.addDays(1)}return u};switch(n){case"dayView":case"timelineDayView":u=u.addDays(1);u=a();break;case"weekView":case"timelineWeekView":u=u.addDays(7);break;case"monthView":case"timelineMonthView":var o=u.day();var s=u.month();var q=u.year();var v=new c.jqx.date(q,s,1);v.timeZone=t.timeZone;u=v.addMonths(1);break;case"agendaView":if(l.days){u=u.addDays(l.days)}else{u=u.addDays(7)}break}return this.navigateTo(u)},navigateBackward:function(){var t=this;var n=this._views[this._view].type;var l=this._views[this._view];var u=new c.jqx.date(this.date,t.timeZone);var a=function(){while((u.dayOfWeek()==0||u.dayOfWeek()==6)&&false===l.showWeekends){u=u.addDays(-1)}return u};switch(n){case"dayView":case"timelineDayView":u=u.addDays(-1);u=a();break;case"weekView":case"timelineWeekView":u=u.addDays(-7);break;case"monthView":case"timelineMonthView":var o=u.day();var s=u.month();var q=u.year();var v=new c.jqx.date(q,s,1);v.timeZone=t.timeZone;u=v.addMonths(-1);break;case"agendaView":if(l.days){u=u.addDays(-l.days)}else{u=u.addDays(-7)}break}return this.navigateTo(u)},_refreshToolBar:function(o){var l=this;var h=l.getViewStart();var n=l.getViewEnd();var q=function(s){var d=c.jqx.formatDate(h.toDate(),s,l.schedulerLocalization);var f=c.jqx.formatDate(n.toDate(),s,l.schedulerLocalization);var t=l._views[l._view].type;var e=l._views[l._view];if(e.showWeekends===false){if(h.dayOfWeek()==0||h.dayOfWeek()==6){h=h.addDays(1)}if(h.dayOfWeek()==0||h.dayOfWeek()==6){h=h.addDays(1)}if(n.dayOfWeek()==0||n.dayOfWeek()==6){n=n.addDays(-1)}if(n.dayOfWeek()==0||n.dayOfWeek()==6){n=n.addDays(-1)}var d=c.jqx.formatDate(h.toDate(),s,l.schedulerLocalization);var f=c.jqx.formatDate(n.toDate(),s,l.schedulerLocalization)}if(t==="dayView"||t==="timelineDayView"){l.toolbarDetails.html(d)}else{l.toolbarDetails.html(d+" - "+f)}if(l.rtl){l.toolbarDetails.addClass("jqx-rtl");l.toolbarDetails.html("<span style='direction:rtl;'>"+f+"<span> - <span style='direction:rtl;'>"+d+"</span>")}else{l.toolbarDetails[0].style.direction="ltr"}};if(o){q(l._lastFormatString||l.toolBarRangeFormat);return}q(l.toolBarRangeFormat);l.toolbarDetails.show();l.toolbarViews.show();var a=l.toolbarViews.width()+l.toolbarDetails.width()+120;if(a>l.host.width()){q(l.toolBarRangeFormatAbbr);var a=l.toolbarViews.width()+l.toolbarDetails.width()+120;if(a>l.host.width()){l.toolbarDetails.hide();var a=l.toolbarViews.width()+120;if(a>l.host.width()){l.toolbarViews.hide()}}}},navigateTo:function(a){var h=this;if(c.type(a)=="date"){a=new c.jqx.date(a)}if(a<this.min){return}if(a>this.max){return}a.timeZone=h.timeZone;h.date=a;h._refreshToolBar(true);h.fromNavigate=true;h.dateTimeInput.val(a.toDate());h.fromNavigate=false;h._refreshColumnTitles();h._renderrows();h._updateFocusedCell();var f=h.getViewStart();var l=c.jqx.scheduler.utilities.getEndOfDay(h.getViewEnd());h._raiseEvent("dateChange",{date:a,from:f,to:l})},_preparecolumnGroups:function(){var v=this.columnsHeight;if(this.columnGroups){this.columnshierarchy=new Array();if(this.columnGroups.length){var z=this;for(var D=0;D<this.columnGroups.length;D++){this.columnGroups[D].parent=null;this.columnGroups[D].groups=null}for(var D=0;D<this.columns.records.length;D++){this.columns.records[D].parent=null;this.columns.records[D].groups=null}var w=function(d){for(var f=0;f<z.columnGroups.length;f++){var e=z.columnGroups[f];if(e.name===d){return e}}return null};for(var D=0;D<this.columnGroups.length;D++){var u=this.columnGroups[D];if(!u.groups){u.groups=null}if(u.parentGroup){u.parentgroup=u.parentGroup}if(u.parentgroup){var s=w(u.parentgroup);if(s){u.parent=s;if(!s.groups){s.groups=new Array()}if(s.groups.indexOf(u)===-1){s.groups.push(u)}}}}for(var D=0;D<this.columns.records.length;D++){var u=this.columns.records[D];if(u.columngroup){var s=w(u.columngroup);if(s){if(!s.groups){s.groups=new Array()}u.parent=s;if(s.groups.indexOf(u)===-1){s.groups.push(u)}}}}var t=0;for(var D=0;D<this.columns.records.length;D++){var u=this.columns.records[D];var G=u;u.level=0;while(G.parent){G=G.parent;u.level++}var G=u;var H=u.level;t=Math.max(t,u.level);while(G.parent){G=G.parent;if(G){G.level=--H}}}var A=function(d){var e=new Array();if(d.columngroup){e.push(d)}if(!d.groups){return new Array()}for(var f=0;f<d.groups.length;f++){if(d.groups[f].columngroup){e.push(d.groups[f])}else{if(d.groups[f].groups){var h=A(d.groups[f]);for(var l=0;l<h.length;l++){e.push(h[l])}}}}return e};for(var D=0;D<this.columnGroups.length;D++){var u=this.columnGroups[D];var F=A(u);u.columns=F;var C=new Array();var a=0;for(var E=0;E<F.length;E++){C.push(this.columns.records.indexOf(F[E]));if(F[E].pinned){a++}}if(a!=0){throw new Error("jqxScheduler: Column Groups initialization Error. Please, check the initialization of the jqxScheduler's columns array. The columns in a column group cannot be pinned.")}C.sort(function(d,e){d=parseInt(d);e=parseInt(e);if(d<e){return -1}if(d>e){return 1}return 0});for(var B=1;B<C.length;B++){if(C[B]!=C[B-1]+1){throw new Error("jqxScheduler: Column Groups initialization Error. Please, check the initialization of the jqxScheduler's columns array. The columns in a column group are expected to be siblings in the columns array.");this.host.remove()}}}}this.columnGroupslevel=1+t;v=this.columnGroupslevel*this.columnsHeight}return v},wheel:function(h,l){if(l.editRecurrenceDialog&&l.editRecurrenceDialog.jqxWindow("isOpen")){return true}if(l._editDialog&&l._editDialog.jqxWindow("isOpen")){return true}if(l.autoheight&&l.hScrollBar.css("visibility")=="hidden"){h.returnValue=true;return true}var f=0;if(!h){h=window.event}if(h.originalEvent&&h.originalEvent.wheelDelta){h.wheelDelta=h.originalEvent.wheelDelta}if(h.wheelDelta){f=h.wheelDelta/120}else{if(h.detail){f=-h.detail/3}}if(f){var a=l._handleDelta(f);if(a){if(h.preventDefault){h.preventDefault()}if(h.originalEvent!=null){h.originalEvent.mouseHandled=true}if(h.stopPropagation!=undefined){h.stopPropagation()}}if(a){a=false;h.returnValue=a;return a}else{return false}}if(h.preventDefault){h.preventDefault()}h.returnValue=false},_handleDelta:function(e){if(this.vScrollBar.css("visibility")!="hidden"){var f=this.vScrollInstance.value;if(e<0){this.vScrollInstance.setPosition(this.vScrollInstance.value+2*10)}else{this.vScrollInstance.setPosition(this.vScrollInstance.value-2*10)}var a=this.vScrollInstance.value;if(f!=a){return true}}else{if(this.hScrollBar.css("visibility")!="hidden"){var f=this.hScrollInstance.value;if(e>0){if(this.hScrollInstance.value>2*10){this.hScrollInstance.setPosition(this.hScrollInstance.value-2*10)}else{this.hScrollInstance.setPosition(0)}}else{if(this.hScrollInstance.value<this.hScrollInstance.max){this.hScrollInstance.setPosition(this.hScrollInstance.value+2*10)}else{this.hScrollInstance.setPosition(this.hScrollInstance.max)}}var a=this.hScrollInstance.value;if(f!=a){return true}}}return false},_removeHandlers:function(){var n=this;if(n._mousewheelfunc){n.removeHandler(this.host,"mousewheel",n._mousewheelfunc)}n.removeHandler(c(document),"keydown.scheduler"+n.element.id);n.removeHandler(n.host,"focus");n.removeHandler(n.host,"blur");n.removeHandler(n.host,"dragstart."+n.element.id);n.removeHandler(n.host,"selectstart."+n.element.id);n.removeHandler(c(window),"jqxReady."+n.element.id);n.removeHandler(n.host,"mousewheel",n._mousewheelfunc);var o="mousedown";if(n.isTouchDevice()){o=c.jqx.mobile.getTouchEventName("touchstart");if(c.jqx.browser.msie&&c.jqx.browser.version<10){o="mousedown"}}if(n.table){n.removeHandler(n.table,"mouseleave")}var q="mousemove.scheduler"+n.element.id;var l="mouseup.scheduler"+n.element.id;if(n.isTouchDevice()&&n.touchMode!==true){q=c.jqx.mobile.getTouchEventName("touchmove")+".scheduler"+n.element.id;l=c.jqx.mobile.getTouchEventName("touchend")+".scheduler"+n.element.id}n.removeHandler(c(document),q);n.removeHandler(c(document),l);if(!n.isTouchDevice()){try{if(document.referrer!=""||window.frameElement){if(window.top!=null&&window.top!=window.self){var h=null;if(window.parent&&document.referrer){h=document.referrer}if(h&&h.indexOf(document.location.host)!=-1){n.removeHandler(c(window.top.document),"mouseup.jqxscheduler"+n.element.id)}}}}catch(a){}}n.removeHandler(n.host,q);n.removeHandler(c(document),"keydown.jqxscheduler"+n.element.id);n.removeHandler(n.host,"keydown");if(n.table){n.removeHandler(n.table,"dblclick");n.removeHandler(n.pinnedtable,o);n.removeHandler(n.table,o)}},selectAppointment:function(a){if(this.appointmentsByKey[a]){this._selectAppointment(this.appointmentsByKey[a].jqxAppointment)}},_selectAppointment:function(t,l,q){if(!t){return}var n=this;if(n.selectedAppointment){n.clearAppointmentsSelection()}var s=t.id;var u=c('[data-key="'+s+'"]');if(u.length>0){n.selectedJQXAppointment=t;if(!l){n.selectedAppointment=c(u[0])}else{n.selectedAppointment=c(l)}u.addClass(n.toTP("jqx-scheduler-selected-appointment"));if(t.resizable){u.find(".jqx-scheduler-appointment-resize-indicator").show()}var a=n._views[n._view].type;var o=n._views[n._view];switch(a){case"dayView":c(u).find(".jqx-scheduler-appointment-left-resize-indicator").hide();c(u).find(".jqx-scheduler-appointment-right-resize-indicator").hide();break;case"weekView":break;case"monthView":case"timeLineMonthView":case"timeLineDayView":case"timeLineWeekView":if(u.length>1){c.each(u,function(d){if(!n.rtl){if(d>0){c(this).find(".jqx-scheduler-appointment-left-resize-indicator").hide()}if(d<u.length-1){c(this).find(".jqx-scheduler-appointment-right-resize-indicator").hide()}}else{if(d>0){c(this).find(".jqx-scheduler-appointment-right-resize-indicator").hide()}if(d<u.length-1){c(this).find(".jqx-scheduler-appointment-left-resize-indicator").hide()}}})}break}if(q=="mouse"){n.clearSelection();return}}n.clearSelection()},clearAppointmentsSelection:function(){var e=this;if(e.selectedAppointment){var f=e.selectedAppointment.attr("data-key");var a=c('[data-key="'+f+'"]');a.removeClass(e.toTP("jqx-scheduler-selected-appointment"));a.find(".jqx-scheduler-appointment-resize-indicator").hide();e.selectedAppointment=null;e.selectedJQXAppointment=null}},selectCell:function(A,o,q){var u=this;var a=A.toDate();for(var v=0;v<u.rows.length;v++){for(var w=0;w<u.rows[v].cells.length;w++){var s=u.rows[v].cells[w];if(q){if(s.getAttribute("data-view")!==q){continue}}var t=s.getAttribute("data-date");var B=u._getDateByString;var z=B(t);if(o&&s.getAttribute("data-end-date")){if(z.valueOf()==A.valueOf()){s.setAttribute("data-selected","true");u.focusedCell=s;u._lastSelectedCell=s;u._updateCellsSelection();u._ensureVisible(u.focusedCell);return}}else{if(!o&&s.getAttribute("data-end-date")){continue}}if(z.valueOf()==a.valueOf()){s.setAttribute("data-selected","true");u.focusedCell=s;u._lastSelectedCell=s;u._updateCellsSelection();u._ensureVisible(u.focusedCell);return}}}u._updateCellsSelection()},selectRange:function(v,u,a,s){var z=this;if(v<this.min){v=this.min}if(u>this.max){u=this.max}var C=v.toDate();var E=u.toDate();var B=false;for(var A=0;A<z.rows.length;A++){for(var D=0;D<z.rows[A].cells.length;D++){var t=z.rows[A].cells[D];if(s){if(t.getAttribute("data-view")!==s){continue}}var w=t.getAttribute("data-date");var G=z._getDateByString;var F=G(w);if(a&&t.getAttribute("data-end-date")){if(F.valueOf()>=C.valueOf()&&F.valueOf()<=E.valueOf()){t.setAttribute("data-selected","true")}}else{if(!a&&t.getAttribute("data-end-date")){continue}}if(F.valueOf()>=C.valueOf()&&F.valueOf()<=E.valueOf()){t.setAttribute("data-selected","true");if(!B){z._lastSelectedCell=t;z.focusedCell=t;B=true}}}}z._updateCellsSelection()},_selectRange:function(al,V){var af=this;if(af._views[af._view].type=="agendaView"){return}var ae=al;var N=V.getAttribute("data-view");if(al.getAttribute("data-view")!==N){return}var X=V.getAttribute("data-date");var ac=ae.getAttribute("data-date");if(null==X||null==ac){return}var U=V.getAttribute("data-end-date");var O=ae.getAttribute("data-end-date");var K=U!=null||O!=null;var T=U!=null&&O!=null;var ab=af._getDateByString;var P=ab(X);var R=ab(ac);if(P<this.min.toDate()){P=this.min.toDate()}if(R<this.min.toDate()){R=this.min.toDate()}if(P>this.max.toDate()){P=this.max.toDate()}if(R>this.max.toDate()){R=this.max.toDate()}var L=Math.min(P,R);var Y=Math.max(P,R);var Z=af.rows;var ah=0;var ai=0;if(ah>0&&af.rtl){ah=0;ai=1}var aj=Z.length;if(K){aj=1;if(al.getAttribute("data-end-date")==null){R.setHours(0,0,0,0);var W=new c.jqx.date(R,af.timeZone).toString();var Q=c(ae).parent().index();c.each(Z[0].cells,function(){var l=this.getAttribute("data-date");if(l===W){al=this;T=V.getAttribute("data-end-date")!=null&&al.getAttribute("data-end-date")!=null;var h=V.getAttribute("data-date");var f=al.getAttribute("data-date");var d=ab(h);var e=ab(f);L=Math.min(d,e);Y=Math.max(d,e);return false}})}}for(var a=0;a<aj;a++){var ag=Z[a];if(K&&this.tableRows>1){var I=parseInt(al.getAttribute("data-view"));var ad=Z.length/af.tableRows;var aa=(-1+I)*ad;ak=Z[aa];ag=Z[aa]}var ak=ag.cells;for(var J=ah;J<ak.length-ai;J++){if(ak[J].getAttribute("data-view")!==N){continue}ak[J].removeAttribute("data-selected");if(!T&&ak[J].getAttribute("data-end-date")){continue}var M=ak[J].getAttribute("data-date");var S=ab(M).valueOf();if(L<=S&&S<=Y){ak[J].setAttribute("data-selected","true")}}}af._updateCellsSelection()},findCell:function(I,P){var U=this;var T=null;if(!U._tableOffset){var aa=U.schedulercontent.coord();U._tableOffset=aa}var W=U._tableOffset;var Y=W.top;var R=W.left;if(P<Y){return null}if(I<R){return null}if(P>Y+U._hostHeight){return null}if(I>R+U._hostWidth){return null}var N=false;var L=U.rows;var Q=U._views[U._view];var H=Q.type;var J=0;var S=U.vScrollInstance.value;var G=U.hScrollInstance.value;for(var M=0;M<L.length;M++){if(N){break}var V=L[M];var Z=V.cells;var a=false;if(M==0&&H=="dayView"||H=="weekView"){a=U.showAllDayRow;if(Q.timeRuler&&(H==="dayView"||H==="weekView")){if(Q.timeRuler.showAllDayRow!=undefined){a=Q.timeRuler.showAllDayRow}}if(a){J=U._allDayRowFullHeight}}for(var K=0;K<Z.length;K++){var ab=Z[K];if(K==0&&ab.getAttribute("data-time-slot")){continue}if(!ab._left){var X=ab.offsetLeft+R;var F=ab.offsetTop+Y;var O=ab.offsetWidth;var E=ab.offsetHeight;ab._left=X;ab._top=F;ab._width=O;ab._height=E}else{var X=ab._left;var F=ab._top;var O=ab._width;var E=ab._height}ab._left=X;ab._top=F;ab._width=O;ab._height=E;if(O===0||E===0){continue}if(!U.rtl){X-=G}else{if(U.hScrollInstance.element.style.visibility!="hidden"){X-=(U.hScrollInstance.max-G)}}F-=S;if(M==0&&a){F+=S}if(F<=P&&P<F+E){if(X<=I&&I<X+O){T=ab;N=true;break}}else{break}}}return T},_removeFeedbackAndStopResize:function(){var e=this;if(!e.feedback){return}e.feedback.remove();e.feedback=null;e.pinnedfeedback.remove();e.pinnedfeedback=null;if(e.feedbacks){for(var f=0;f<e.feedbacks.length;f++){e.feedbacks[f].remove()}}e._resizeDays=0;e._resizeStep=0;e._lastX=null;e.feedbacks=new Array();e.leftResize=false;e.rightResize=false;e.topResize=false;e.bottomResize=false;e.overlay.hide();e.resizing=false;e.resizeFrom=null;e._dragCell=null;e._dragStartCell=null;e.resizeTo=null;e.dragOrResize=false;e.isMouseDown=false;if(e.selectedJQXAppointment){var a=c('[data-key="'+e.selectedJQXAppointment.id+'"]');a.removeClass(e.toTP("jqx-scheduler-feedback-appointment jqx-disableselect"))}if(e.openedMonthCellPopup){e.openedMonthCellPopup.remove()}},_saveChangesAfterDragOrResize:function(E,H,a,w){var z=this;if(E===false){if(!H.isException()){if(!H.rootAppointment.recurrenceException){H.rootAppointment.recurrenceException=new Array()}if(H.rootAppointment!=null){H.rootAppointment.exceptions.push(H);H.rootAppointment.recurrenceException.push(H.occurrenceFrom)}else{H.exceptions.push(H);H.recurrenceException.push(H.occurrenceFrom)}}else{var F=H.rootAppointment?H.rootAppointment.exceptions:H.exceptions;for(var B=0;B<F.length;B++){if(F[B].occurrenceFrom.equals(H.occurrenceFrom)){F[B]=H;break}}}}else{if(E===true){if(H.isException()){var F=H.rootAppointment?H.rootAppointment.exceptions:H.exceptions;for(var B=0;B<F.length;B++){if(F[B].occurrenceFrom.equals(H.occurrenceFrom)){for(var C=0;C<H.rootAppointment.recurrenceException.length;C++){if(H.rootAppointment.recurrenceException[C].equals(F[B].occurrenceFrom)){var s=H.from;var D=new c.jqx.date(F[B].occurrenceFrom.year(),F[B].occurrenceFrom.month(),F[B].occurrenceFrom.day(),H.from.hour(),H.from.minute(),H.from.second());H.rootAppointment.recurrenceException[C]=D;break}}F[B]=H;var s=H.from;var D=new c.jqx.date(F[B].occurrenceFrom.year(),F[B].occurrenceFrom.month(),F[B].occurrenceFrom.day(),H.from.hour(),H.from.minute(),H.from.second());F[B].occurrenceFrom=D;break}}}if(H.rootAppointment!=null){H.rootAppointment.recurrencePattern=H.rootAppointment.recurrencePattern.createNewPattern();var t=H.rootAppointment.from;var v=H.rootAppointment.duration();var G=H.rootAppointment.recurrencePattern.freq;var D=null;switch(G){case"daily":D=new c.jqx.date(t.year(),t.month(),t.day(),H.from.hour(),H.from.minute(),H.from.second());break;case"weekly":D=new c.jqx.date(t.year(),t.month(),t.day(),H.from.hour(),H.from.minute(),H.from.second());break;case"monthly":D=new c.jqx.date(t.year(),t.month(),t.day(),H.from.hour(),H.from.minute(),H.from.second());break;case"yearly":D=new c.jqx.date(t.year(),t.month(),t.day(),H.from.hour(),H.from.minute(),H.from.second());break}if(w){H.rootAppointment.from=t;H.rootAppointment.to=t.add(H.duration())}else{H.rootAppointment.from=D;H.rootAppointment.to=D.add(v)}H.rootAppointment.allDay=H.allDay;H.rootAppointment.resourceId=H.resourceId;H.rootAppointment.color=H.color;H.rootAppointment.borderColor=H.borderColor;H.rootAppointment.background=H.background;H.rootAppointment.timezone=H.timezone;H.rootAppointment.subject=H.subject;H.rootAppointment.description=H.description;H.rootAppointment.location=H.location;H.rootAppointment.category=H.category;H.rootAppointment.status=H.status;if(!z.resizing){H.rootAppointment.recurrencePattern.setFrom(D)}else{H.rootAppointment.recurrencePattern.setFrom(t)}}else{H.recurrencePattern=H.recurrencePattern.createNewPattern();H.recurrencePattern.setFrom(H.from)}var u=c(a).attr("data-view");var A=z._resources[parseInt(u)-1];if(A!=null){if(H.rootAppointment!=null){H.rootAppointment.resourceId=A}else{H.resourceId=A}}}}},_handleMouseUp:function(a,n,q){var s=this;clearInterval(s._verticalIntervalDragVelocity);clearInterval(s._horizontalIntervalDragVelocity);clearInterval(s._intervalDrag);clearInterval(s._horizontalIntervalDrag);var w=a;var l=false;if(!q){if(s._dragStartCell==n){l=true}}else{if(s.resizeTo){if(w.to.equals(s.resizeTo)){l=true}}else{if(s.resizeFrom){if(w.from.equals(s.resizeFrom)){l=true}}}}if(l){var o=c('[data-key="'+a.id+'"]');o.removeClass(s.toTP("jqx-scheduler-feedback-appointment jqx-disableselect"));s._removeFeedbackAndStopResize();return}var u=w.duration();var v=w.duration().days()>=1||w.allDay;var t=function(K,Q){if(Q.allDay||v){var h=s.getMaxAllDayAppointments(s.appointmentsToRender)}if(q){if(s.resizeTo){if(s.resizeTo>s.max){s.resizeTo=s.max}if(s.resizeTo<s.min){s.resizeTo=s.min}Q.to=s.resizeTo}else{if(s.resizeFrom){if(s.resizeFrom>s.max){s.resizeFrom=s.max}if(s.resizeFrom<s.min){s.resizeFrom=s.min}Q.from=s.resizeFrom}}if(Q.from.hour()==0&&Q.from.minute()==0&&Q.to.hour()==23&&Q.to.minute()==59){Q.allDay=true}}else{var f=s._views[s._view].type;var I=s._views[s._view];var O=c(n).attr("data-date");var M=c(n).attr("data-end-date")!=null;var T=new c.jqx.date(O,s.timeZone);if(T<s.min){T=s.min}if(T>s.max){T=s.max}if(s.rtl&&v&&M){Q.to=c.jqx.scheduler.utilities.getEndOfDay(T)}else{if(s.rtl&&(f=="monthView"||f=="timelineMonthView")){Q.to=c.jqx.scheduler.utilities.getEndOfDay(T)}else{if(s.rtl&&(f=="timelineDayView"||f=="timelineWeekView")){var U=s.getMinutesPerScale();Q.to=T.addMinutes(U)}else{Q.from=T}}}if(f==="dayView"||f==="weekView"){if(!v&&!M){Q.to=T.add(u);Q.allDay=false}else{if(!v&&M){Q.to=c.jqx.scheduler.utilities.getEndOfDay(T);Q.allDay=true}else{if(v&&M&&!s.rtl){Q.to=T.add(u);if(Q.from.hour()==0&&Q.from.minute()==0&&Q.to.hour()==23&&Q.to.minute()==59){Q.allDay=true}}else{if(v&&M&&s.rtl){Q.from=c.jqx.scheduler.utilities.getStartOfDay(Q.to.add(new c.jqx.timeSpan(-u)));if(Q.from.hour()==0&&Q.from.minute()==0&&Q.to.hour()==23&&Q.to.minute()==59){Q.allDay=true}}else{if(v&&!M){var R=30;var J=I.timeRuler&&I.timeRuler.scale;switch(J){case"sixtyMinutes":case"hour":R=60;break;case"fifteenMinutes":case"quarterHour":R=15;break;case"tenMinutes":R=10;break;case"fiveMinutes":R=5;break}Q.to=T.addMinutes(R);Q.allDay=false}}}}}}else{if(f==="monthView"){if(!s.rtl){Q.to=T.add(u)}else{Q.from=c.jqx.scheduler.utilities.getStartOfDay(Q.to.add(new c.jqx.timeSpan(-u)))}}else{if(f==="timelineDayView"||f==="timelineWeekView"||f==="timelineMonthView"){if(!s.rtl){Q.to=T.add(u)}else{if(f=="timelineMonthView"){Q.from=c.jqx.scheduler.utilities.getStartOfDay(Q.to.add(new c.jqx.timeSpan(-u)))}else{var U=s.getMinutesPerScale();Q.from=T.addMinutes(U).add(new c.jqx.timeSpan(-u))}}}}}}s._saveChangesAfterDragOrResize(K,Q,n,s.resizing);var f=c(n).attr("data-view");var e=s._resources[parseInt(f)-1];if(e!=null){Q.resourceId=e}s.resizing=false;s.resizeFrom=null;s._dragCell=null;s.resizeTo=null;var S={};var G={};for(var H in s.appointmentDataFields){var V=s.appointmentDataFields[H];var d=Q[H];S[H]=d;if(H=="from"||H=="to"){d=d.toDate()}G[V]=d}S.originalData=G;Q.boundAppointment=S;s._raiseEvent("appointmentChange",{appointment:Q.boundAppointment});s.changedAppointments[Q.id]={type:"Update",appointment:Q.boundAppointment};s.table.find(".jqx-icon-arrow-down").hide();if(s._views[s._view].type=="monthView"&&s._views[s._view].monthRowAutoHeight){s._renderrows()}else{if((s._views[s._view].type=="weekView"||s._views[s._view].type=="dayView")&&(Q.allDay||v)){if(s.tableRows>1){s._renderrows()}else{var L=s.getViewStart();var N=c.jqx.scheduler.utilities.getEndOfDay(s.getViewEnd());s._prepareAppointmentsInView(L,N);s._renderAppointments(L,N);var W=s.getMaxAllDayAppointments(s.appointmentsToRender);if(W!=h){var P=W*(s._defaultRowHeight-2);if(s.isTouchDevice()){P=Math.max(22+s._defaultRowHeight,17+P)}else{P=Math.max(3*s._defaultRowHeight,17+P)}if(s.tableRows==1){c(c(s.table[0].rows[0]).find("td")).css("height",P+"px")}else{c(c(s.table[0].rows[1]).find("td")).css("height",P+"px")}c(s.oldRow).find("td").css("height",P+"px");c(s.pinnedTableRow).find("td").css("height",P+"px");s.pinnedtable.height(P);s._updateScrollbars(s._hostHeight?s._hostHeight:s.host.height())}}}else{var L=s.getViewStart();var N=c.jqx.scheduler.utilities.getEndOfDay(s.getViewEnd());s._prepareAppointmentsInView(L,N);s._renderAppointments(L,N)}}s._removeFeedbackAndStopResize()};if(w.isRecurrentAppointment()){t(false,w)}else{t(null,w)}},_handleDayWeekViewResize:function(ac,ad,ax,ab,ar){var ae=this;var az=ae._views[ae._view].type;var af=ae._views[ae._view];var an=ar.duration().days()>=1||ar.allDay;if(!an&&!ax.getAttribute("data-end-date")){var aA=function(d){if(d<10){return false}return true};var aw=ae.findCell(ae.feedback.coord().left,ad);if(ae.topResize){if(!ae._lastResizeY){ae._lastResizeY=ae.mouseDownPosition.top}if(ad>ae._lastResizeY+c(ax).height()/2){var aj=ae.selectedAppointmentTableBounds.height+ae.selectedAppointmentTableBounds.top-ab.top-c(ax).height()-3;if(aA(aj)){ae.feedback.css("top",2+ab.top+c(ax).height());ae.feedback.height(aj);ae._lastResizeY=ae.feedback.coord().top;var U=new c.jqx.date(aw.getAttribute("data-date"),ae.timeZone);ae.resizeFrom=U.addMinutes(ae.getMinutesPerScale())}}else{if(ad<ae._lastResizeY-c(ax).height()/2){var aj=ae.selectedAppointmentTableBounds.height+ae.selectedAppointmentTableBounds.top-ab.top-3;if(aA(aj)){ae.feedback.css("top",2+ab.top);ae.feedback.height(aj);ae._lastResizeY=ae.feedback.coord().top;ae.resizeFrom=new c.jqx.date(aw.getAttribute("data-date"),ae.timeZone)}}}}else{if(ae.bottomResize){if(!ae._lastResizeY){ae._lastResizeY=ae.mouseDownPosition.top}if(ad>ae._lastResizeY+c(ax).height()/2){var aa=-5+c(ax).height()+ab.top-ae.selectedAppointmentTableBounds.height-ae.selectedAppointmentTableBounds.top;var aj=ae.selectedAppointmentTableBounds.height+aa;if(aA(aj)){ae.feedback.height(aj);ae._lastResizeY=ae.selectedAppointmentTableBounds.height+aa+ae.feedback.coord().top;ae.resizeTo=new c.jqx.date(aw.getAttribute("data-date"),ae.timeZone).addMinutes(ae.getMinutesPerScale())}}else{if(ad<ae._lastResizeY-c(ax).height()/2){var aa=-5+ab.top-ae.selectedAppointmentTableBounds.height-ae.selectedAppointmentTableBounds.top;var aj=ae.selectedAppointmentTableBounds.height+aa;if(aA(aj)){ae.feedback.height(aj);ae._lastResizeY=ae.selectedAppointmentTableBounds.height+aa+ae.feedback.coord().top;ae.resizeTo=new c.jqx.date(aw.getAttribute("data-date"),ae.timeZone)}}}}}}else{var ap=function(d){if(d<ae.cellWidth-10){return false}return true};var ag=af.appointmentsRenderMode&&af.appointmentsRenderMode=="exactTime";if(ar.allDay||!ag){if(ae.leftResize){if(!ae._lastResizeX){ae._lastResizeX=ae.mouseDownPosition.left}if(ac>ae._lastResizeX+c(ax).width()/2){var aB=ae.selectedAppointmentTableBounds.width+ae.selectedAppointmentTableBounds.left-ab.left-ae.cellWidth;if(ap(aB)){ae.feedback.css("left",5+ab.left+ae.cellWidth);ae.feedback.width(aB-5);ae.feedback.hide();ae.pinnedfeedback.css("left",5+ab.left+ae.cellWidth);ae.pinnedfeedback.width(aB-5);ae._lastResizeX=ae.pinnedfeedback.coord().left;if(!ae.rtl){ae.resizeFrom=new c.jqx.date(ax.getAttribute("data-date"),ae.timeZone).addDays(1)}else{ae.resizeTo=c.jqx.scheduler.utilities.getEndOfDay(new c.jqx.date(ax.getAttribute("data-date"),ae.timeZone)).addDays(-1)}}}else{if(ac<ae._lastResizeX-c(ax).width()/2){var aB=ae.selectedAppointmentTableBounds.width+ae.selectedAppointmentTableBounds.left-ab.left;if(ap(aB)){ae.feedback.css("left",5+ab.left);ae.feedback.width(aB-5);ae.feedback.hide();ae.pinnedfeedback.css("left",5+ab.left);ae.pinnedfeedback.width(aB-5);ae._lastResizeX=ae.pinnedfeedback.coord().left;if(!ae.rtl){ae.resizeFrom=new c.jqx.date(ax.getAttribute("data-date"),ae.timeZone)}else{ae.resizeTo=c.jqx.scheduler.utilities.getEndOfDay(new c.jqx.date(ax.getAttribute("data-date"),ae.timeZone))}}}}}else{if(ae.rightResize){if(!ae._lastResizeX){ae._lastResizeX=ae.selectedAppointmentTableBounds.width+ae.selectedAppointmentTableBounds.left}var at=c(ax).width()/2;if(ac>ae._lastResizeX+at){var aa=c(ax).width()+ab.left-ae.selectedAppointmentTableBounds.width-ae.selectedAppointmentTableBounds.left;var aB=ae.selectedAppointmentTableBounds.width+aa;if(ap(aB)){ae.feedback.hide();ae.feedback.width(aB-6);ae.feedback.css("left",5+ab.left);ae.pinnedfeedback.width(aB-6);ae._lastResizeX=ae.selectedAppointmentTableBounds.width+aa+ae.pinnedfeedback.coord().left;if(!ae.rtl){ae.resizeTo=c.jqx.scheduler.utilities.getEndOfDay(new c.jqx.date(ax.getAttribute("data-date"),ae.timeZone))}else{ae.resizeFrom=new c.jqx.date(ax.getAttribute("data-date"),ae.timeZone)}}}else{if(ac<ae._lastResizeX-at){var aa=ab.left-ae.selectedAppointmentTableBounds.width-ae.selectedAppointmentTableBounds.left;var aB=ae.selectedAppointmentTableBounds.width+aa;if(ap(aB)){ae.feedback.hide();ae.feedback.css("left",5+ab.left);ae.feedback.width(aB-6);ae.pinnedfeedback.width(aB-6);ae._lastResizeX=ae.selectedAppointmentTableBounds.width+aa+ae.pinnedfeedback.coord().left;if(!ae.rtl){ae.resizeTo=c.jqx.scheduler.utilities.getEndOfDay(new c.jqx.date(ax.getAttribute("data-date"),ae.timeZone).addDays(-1))}else{ae.resizeFrom=new c.jqx.date(ax.getAttribute("data-date"),ae.timeZone).addDays(1)}}}}}}}else{var al=new Array();var aD=new Array();var W=-1;var X=-1;var av=this.host.coord().left;var a=0;var ah=ae.hScrollInstance.value;if(ae.rtl){var ah=ae.hScrollInstance.max-ae.hScrollInstance.value}if(ae.hScrollBar[0].style.visibility=="hidden"){ah=0}var S=ac+ah;for(var V=0;V<this.columns.records.length;V++){if(this.columns.records[V].timeColumn){if(!ae.rtl){av+=this.columns.records[V].width;a++}}}var am=ae.getViewStart();var Z=ae.getViewEnd();for(var V=0;V<this._getColumnsLengthPerView();V++){var aC=this.columns.records[V+a].width;if(ae.leftResize){if(!ae.rtl){al.push(av);aD.push(am.addDays(V));if(ar.from.hour()!=0||(ar.from.hour()==0&&ar.from.minute()!=0)){if(av<ae.selectedAppointmentTableBounds.left&&av+aC>ae.selectedAppointmentTableBounds.left){al.push(ae.selectedAppointmentTableBounds.left);aD.push(ar.from);W=al.length-1}}if(ar.to.hour()!=23||(ar.to.hour()==23&&ar.to.minute()!=59)){if(av<ae.selectedAppointmentTableBounds.left+ae.selectedAppointmentTableBounds.width&&av+aC>ae.selectedAppointmentTableBounds.left+ae.selectedAppointmentTableBounds.width){al.push(ae.selectedAppointmentTableBounds.left+ae.selectedAppointmentTableBounds.width+8);aD.push(ar.to);X=al.length-1}}}if(ae.rtl){al.push(av);aD.push(Z.addDays(-V-1));if(ar.from.hour()!=0||(ar.from.hour()==0&&ar.from.minute()!=0)){if(av<ae.selectedAppointmentTableBounds.left+ae.selectedAppointmentTableBounds.width&&av+aC>ae.selectedAppointmentTableBounds.left+ae.selectedAppointmentTableBounds.width){al.push(ae.selectedAppointmentTableBounds.left+ae.selectedAppointmentTableBounds.width+8);aD.push(ar.from);W=al.length-1}}if(ar.to.hour()!=23||(ar.to.hour()==23&&ar.to.minute()!=59)){if(av<ae.selectedAppointmentTableBounds.left&&av+aC>ae.selectedAppointmentTableBounds.left){al.push(ae.selectedAppointmentTableBounds.left);aD.push(ar.to);X=al.length-1}}}av+=aC}else{if(!ae.rtl){if(ar.from.hour()!=0||(ar.from.hour()==0&&ar.from.minute()!=0)){if(av<ae.selectedAppointmentTableBounds.left&&av+aC>ae.selectedAppointmentTableBounds.left){al.push(ae.selectedAppointmentTableBounds.left);aD.push(ar.from);W=al.length-1}}if(ar.to.hour()!=23||(ar.to.hour()==23&&ar.to.minute()!=59)){if(av<ae.selectedAppointmentTableBounds.left+ae.selectedAppointmentTableBounds.width&&av+aC>ae.selectedAppointmentTableBounds.left+ae.selectedAppointmentTableBounds.width){al.push(ae.selectedAppointmentTableBounds.left+ae.selectedAppointmentTableBounds.width+8);aD.push(ar.to);X=al.length-1}}av+=aC;al.push(av);aD.push(am.addDays(V))}else{if(ar.from.hour()!=0||(ar.from.hour()==0&&ar.from.minute()!=0)){if(av<ae.selectedAppointmentTableBounds.left+ae.selectedAppointmentTableBounds.width&&av+aC>ae.selectedAppointmentTableBounds.left+ae.selectedAppointmentTableBounds.width){al.push(ae.selectedAppointmentTableBounds.left+ae.selectedAppointmentTableBounds.width+8);aD.push(ar.from);W=al.length-1}}if(ar.to.hour()!=23||(ar.to.hour()==23&&ar.to.minute()!=59)){if(av<ae.selectedAppointmentTableBounds.left&&av+aC>ae.selectedAppointmentTableBounds.left){al.push(ae.selectedAppointmentTableBounds.left);aD.push(ar.to);X=al.length-1}}av+=aC;al.push(av);aD.push(Z.addDays(-V-1))}}}if(ae.leftResize){for(var V=0;V<al.length;V++){var ab=al[V];var T=al[V+1];if(!T){T=ab}var ay=V<al.length-1?S>=ab&&S<=T:S>=ab;if(ay){var aC=-ab+ae.selectedAppointmentTableBounds.left+ae.selectedAppointmentTableBounds.width;var ao=ae.pinnedfeedback.width();var Y=ae.pinnedfeedback.css("left");var au=ae.resizeTo;var ai=ae.resizeFrom;if(aC>0){ae.pinnedfeedback.css("left",ab);ae.pinnedfeedback.width(aC);if(V==W){if(!ae.rtl){ae.resizeFrom=ar.from}else{ae.resizeTo=ar.from}}else{if(V==X){if(!ae.rtl){ae.resizeFrom=ar.to}else{ae.resizeTo=ar.to}}else{if(!ae.rtl){ae.resizeFrom=aD[V]}else{ae.resizeTo=c.jqx.scheduler.utilities.getEndOfDay(aD[V])}}}}}}var aq=ae.resizeFrom;var R=ae.resizeTo;if(ae.rtl){aq=ar.from}else{R=ar.to}var ak=new c.jqx.timeSpan(10000*(R-aq));if(ak.days()<1){ae.pinnedfeedback.css("left",Y);ae.pinnedfeedback.width(ao);ae.resizeFrom=ai;ae.resizeTo=au}}else{if(ae.rightResize){for(var V=0;V<al.length;V++){var ab=al[V];var T=al[V+1];if(!T){T=ab}var ay=V<al.length-1?ac>=ab-this.cellWidth/3&&ac<=T-this.cellWidth/3:ac>=ab-this.cellWidth/3;if(ay){var aC=ab-ae.selectedAppointmentTableBounds.left-15;var ao=ae.pinnedfeedback.width();ae.pinnedfeedback.width(aC);var au=ae.resizeTo;var ai=ae.resizeFrom;if(V==W){if(!ae.rtl){ae.resizeTo=ar.from}else{ae.resizeFrom=ar.from}var aC=ab-ae.selectedAppointmentTableBounds.left-9;ae.pinnedfeedback.width(aC);break}else{if(V==X){if(!ae.rtl){ae.resizeTo=ar.to}else{ae.resizeFrom=ar.to}var aC=ab-ae.selectedAppointmentTableBounds.left-9;ae.pinnedfeedback.width(aC);break}else{if(!ae.rtl){ae.resizeTo=c.jqx.scheduler.utilities.getEndOfDay(aD[V])}else{ae.resizeFrom=aD[V]}break}}}}var aq=ae.resizeFrom;var R=ae.resizeTo;if(!ae.rtl){aq=ar.from}else{R=ar.to}var ak=new c.jqx.timeSpan(10000*(R-aq));if(ak.days()<1){ae.pinnedfeedback.width(ao);ae.resizeFrom=ai;ae.resizeTo=au}}}}}},_handleTimelineMonthViewResize:function(Z,aa,af,a,am){var ah=this;var T=ah._views[ah._view].type;var ad=ah._views[ah._view];var ab=function(d){if(d<10){return false}return true};var Y=ah.findCell(Z,ah.feedback.coord().top);if(am.allDay){if(ah.leftResize){if(!ah._lastResizeX){ah._lastResizeX=ah.mouseDownPosition.left}if(Z>ah._lastResizeX+c(af).width()/2){var V=ah.selectedAppointmentTableBounds.width+ah.selectedAppointmentTableBounds.left-a.left-c(af).width();if(ab(V)){ah.feedback.css("left",a.left+c(af).width());ah.feedback.width(V);ah._lastResizeX=ah.feedback.coord().left;if(!ah.rtl){ah.resizeFrom=new c.jqx.date(Y.getAttribute("data-date"),ah.timeZone).addDays(1)}else{ah.resizeTo=c.jqx.scheduler.utilities.getEndOfDay(new c.jqx.date(Y.getAttribute("data-date"),ah.timeZone).addDays(-1))}}}else{if(Z<ah._lastResizeX-c(af).width()/2){var V=ah.selectedAppointmentTableBounds.width+ah.selectedAppointmentTableBounds.left-a.left;if(ab(V)){ah.feedback.css("left",a.left);ah.feedback.width(V);ah._lastResizeX=ah.feedback.coord().left;if(!ah.rtl){ah.resizeFrom=new c.jqx.date(Y.getAttribute("data-date"),ah.timeZone)}else{ah.resizeTo=c.jqx.scheduler.utilities.getEndOfDay(new c.jqx.date(Y.getAttribute("data-date"),ah.timeZone))}}}}}else{if(ah.rightResize){if(!ah._lastResizeX){ah._lastResizeX=ah.mouseDownPosition.left}if(Z>ah._lastResizeX+c(af).width()/2){var aj=c(af).width()+a.left-ah.selectedAppointmentTableBounds.width-ah.selectedAppointmentTableBounds.left;var V=ah.selectedAppointmentTableBounds.width+aj-5;if(ab(V)){ah.feedback.width(V);ah._lastResizeX=ah.selectedAppointmentTableBounds.width+aj+ah.feedback.coord().left;if(!ah.rtl){ah.resizeTo=c.jqx.scheduler.utilities.getEndOfDay(new c.jqx.date(Y.getAttribute("data-date"),ah.timeZone))}else{ah.resizeFrom=new c.jqx.date(Y.getAttribute("data-date"),ah.timeZone)}}}else{if(Z<ah._lastResizeX-c(af).width()/2){var aj=a.left-ah.selectedAppointmentTableBounds.width-ah.selectedAppointmentTableBounds.left;var V=ah.selectedAppointmentTableBounds.width+aj-5;if(ab(V)){ah.feedback.width(V);ah._lastResizeX=ah.selectedAppointmentTableBounds.width+aj+ah.feedback.coord().left;if(!ah.rtl){ah.resizeTo=c.jqx.scheduler.utilities.getEndOfDay(new c.jqx.date(Y.getAttribute("data-date"),ah.timeZone).addDays(-1))}else{ah.resizeFrom=new c.jqx.date(Y.getAttribute("data-date"),ah.timeZone).addDays(1)}}}}}}}else{var ai=new Array();var N=new Array();var X=-1;var ag=-1;var an=this.host.coord().left;var ao=0;for(var Q=0;Q<this.columns.records.length;Q++){if(this.columns.records[Q].timeColumn){an+=this.columns.records[Q].width;ao++}}var P=ah.hScrollInstance.value;if(ah.rtl){var P=ah.hScrollInstance.max-ah.hScrollInstance.value}if(ah.hScrollBar[0].style.visibility=="hidden"){P=0}var at=Z+P;var ak=ah.getViewStart();var al=ah.getViewEnd();var ap=this._getColumnsLengthPerView()-1;for(var Q=0;Q<this._getColumnsLengthPerView();Q++){var ac=this.columns.records[Q+ao].width;if(ah.leftResize){ai.push(an);if(!ah.rtl){N.push(ak.addDays(Q))}else{N.push(al.addDays(-Q))}if(am.from.hour()!=0||(am.from.hour()==0&&am.from.minute()!=0)){if(an<ah.selectedAppointmentTableBounds.left&&an+ac>ah.selectedAppointmentTableBounds.left){ai.push(ah.selectedAppointmentTableBounds.left);N.push(am.from);X=ai.length-1}}if(am.to.hour()!=23||(am.to.hour()==23&&am.to.minute()!=59)){if(an<ah.selectedAppointmentTableBounds.left+ah.selectedAppointmentTableBounds.width&&an+ac>ah.selectedAppointmentTableBounds.left+ah.selectedAppointmentTableBounds.width){ai.push(ah.selectedAppointmentTableBounds.left+ah.selectedAppointmentTableBounds.width+8);N.push(am.to);ag=ai.length-1}}an+=ac}else{if(am.from.hour()!=0||(am.from.hour()==0&&am.from.minute()!=0)){if(an<ah.selectedAppointmentTableBounds.left&&an+ac>ah.selectedAppointmentTableBounds.left){ai.push(ah.selectedAppointmentTableBounds.left);N.push(am.from);X=ai.length-1}}if(am.to.hour()!=23||(am.to.hour()==23&&am.to.minute()!=59)){if(an<ah.selectedAppointmentTableBounds.left+ah.selectedAppointmentTableBounds.width&&an+ac>ah.selectedAppointmentTableBounds.left+ah.selectedAppointmentTableBounds.width){ai.push(ah.selectedAppointmentTableBounds.left+ah.selectedAppointmentTableBounds.width);N.push(am.to);ag=ai.length-1}}an+=ac;ai.push(an);if(!ah.rtl){N.push(ak.addDays(Q))}else{N.push(al.addDays(-Q-1))}}}if(ah.leftResize){for(var Q=0;Q<ai.length;Q++){var au=ai[Q];var S=ai[Q+1];if(!S){S=au}var R=Q<ai.length-1?at>=au&&at<=S:at>=au;if(R){var ac=-au+ah.selectedAppointmentTableBounds.left+ah.selectedAppointmentTableBounds.width;var ae=ah.feedback.width();var aq=ah.feedback.css("left");var W=ah.resizeTo;var O=ah.resizeFrom;ah.feedback.css("left",au);ah.feedback.width(ac);if(Q==X){if(!ah.rtl){ah.resizeFrom=am.from}else{ah.resizeTo=am.from}}else{if(Q==ag){if(!ah.rtl){ah.resizeFrom=am.to}else{ah.resizeTo=am.to}}else{if(!ah.rtl){ah.resizeFrom=N[Q]}else{ah.resizeTo=N[Q]}}}}}var U=ah.resizeFrom;var ar=ah.resizeTo;if(ah.rtl){U=am.from}else{ar=am.to}var av=new c.jqx.timeSpan(10000*(ar-U));if(ah.feedback.width()<20){ah.feedback.css("left",aq);ah.feedback.width(ae);ah.resizeFrom=O;ah.resizeTo=W}}else{if(ah.rightResize){for(var Q=0;Q<ai.length;Q++){var au=ai[Q];var S=ai[Q+1];if(!S){S=au}var R=Q<ai.length-1?at>=au-this.cellWidth/3&&at<=S-this.cellWidth/3:at>=au-this.cellWidth/3;if(R){var ac=au-ah.selectedAppointmentTableBounds.left-12;var ae=ah.feedback.width();ah.feedback.width(ac);var W=ah.resizeTo;var O=ah.resizeFrom;if(Q==X){if(!ah.rtl){ah.resizeTo=am.from}else{ah.resizeFrom=am.from}var ac=au-ah.selectedAppointmentTableBounds.left;ah.feedback.width(ac);break}else{if(Q==ag){if(!ah.rtl){ah.resizeTo=am.to}else{ah.resizeFrom=am.to}var ac=au-ah.selectedAppointmentTableBounds.left;ah.feedback.width(ac);break}else{if(!ah.rtl){ah.resizeTo=c.jqx.scheduler.utilities.getEndOfDay(N[Q])}else{ah.resizeFrom=N[Q]}break}}}}var U=ah.resizeFrom;var ar=ah.resizeTo;if(!ah.rtl){U=am.from}else{ar=am.to}var av=new c.jqx.timeSpan(10000*(ar-U));if(ah.feedback.width()<20){ah.feedback.width(ae);ah.resizeFrom=O;ah.resizeTo=W}}}}},_handleMonthViewResize:function(Z,ab,az,Y,ap){var ac=this;if(!ac.selectedJQXAppointment){return}var aA=ac._views[ac._view].type;var ad=ac._views[ac._view];var al=function(d){if(d<10){return false}return true};var ao=-5;if(ac.tableColumns>1){ao=parseInt(-5/ac.tableColumns)}for(var w=0;w<ac.columns.records.length/ac.tableColumns;w++){if(ac.columns.records[w].timeColumn){continue}ao+=ac.columns.records[w].width}var aq=ac.selectedJQXAppointment.resourceId;var ax=ac._resources.indexOf(aq);if(ac.resources&&ac.resources.orientation=="none"){ax=-1}var aB="0px";if(ax!=-1&&ac.tableRows==1){aB=ao*ax+"px"}if(ad.showWeekNumbers){if(!ac.rtl){aB=parseInt(aB)+ac.columns.records[0].width+"px"}}var ae=az.offsetWidth;var U=az.offsetHeight;var af=18;if(ac.isTouchDevice()){af=2}for(var w=0;w<6;w++){ac.feedbacks[w][0].style.left=aB;ac.feedbacks[w][0].style.width=ao+"px";ac.feedbacks[w][0].style.display="block";ac.feedbacks[w][0].style.top=parseInt(ac.rows[w].top)+af+"px";if(ac.tableRows>1){ac.feedbacks[w][0].style.top=parseInt(ac.rows[6*ax+w].top)+af+"px"}c(ac.feedbacks[w][0]).find(".jqx-scheduler-appointment-resize-indicator").css("visibility","inherit")}var aw=ac.selectedJQXAppointment.elements;var aD=aw[0].cells[0].cell;var aa=aw[aw.length-1];var W=aa.lastCellY;var ay=aa.lastCellX;var au=aw[0].cellY;var ai=aw[0].cellX;var an=parseInt(Y.top);var a=parseInt(Y.left);if(!ac.rtl){if(ac.leftResize){var V=false;for(var w=0;w<6;w++){var ah=ac.feedbacks[w];var aj=parseInt(ah[0].style.top)-af;var ak=parseInt(ah[0].style.left);if(aj<an){ah[0].style.width=ao+"px";for(var T=0;T<aw.length;T++){var at=aw[T].cellY;if(at==aj){ah[0].style.top=aw[T].y+"px"}}}else{for(var T=0;T<aw.length;T++){var at=aw[T].cellY;if(at==aj){ah[0].style.width=aw[T].width+"px";ah[0].style.top=aw[T].y+"px"}}}var am=aw[0];var av=parseInt(am.x);if(aj==au){ah[0].style.left=av+"px";if(an==au){ah[0].style.left=1+Y.left+"px";ah[0].style.width=-1+am.x+am.width-Y.left+"px";if(ad.appointmentsRenderMode=="exactTime"&&!ac.selectedJQXAppointment.allDay){var X=ac.cellWidth-(am.x-ai);var aE=ac.host.coord().left;if(Z-aE>=am.x&&Z-aE<=am.x+X+2){ah[0].style.left=av+"px";ah[0].style.width=am.width+"px";V=true}}}else{if(an>au){ah[0].style.left=av+"px";ah[0].style.width=am.width+"px"}else{if(an<au){ah[0].style.left=aB;ah[0].style.width=am.x+am.width-parseInt(aB)+"px"}}}}else{if(aj==an){ah[0].style.width=ao-Y.left+parseInt(aB)+"px";ah[0].style.left=Y.left+"px"}}if(aj>W){ah[0].style.display="none"}if(aj<an){ah[0].style.display="none"}if(an>=W){for(var T=0;T<aw.length;T++){var at=aw[T].cellY;if(an>W||(an==W&&a>ay)){if(at==aj){ah[0].style.display="block";ah[0].style.width=aw[T].width+"px";ah[0].style.left=aw[T].x+"px"}}else{if(an==W&&a<=ay){if(au!=W){ah[0].style.width=aw[T].width-Y.left+parseInt(aB)+"px"}}}}}}var ag=new c.jqx.date(az.getAttribute("data-date"),ac.timeZone);if(ag<ac.selectedJQXAppointment.to&&!V){ac.resizeFrom=ag}else{ac.resizeFrom=ac.selectedJQXAppointment.from}}else{if(ac.rightResize){var ar=false;for(var w=0;w<6;w++){var ah=ac.feedbacks[w];var aj=parseInt(ah[0].style.top)-af;var ak=parseInt(ah[0].style.left);if(aj<an){ah[0].style.width=ao+"px"}for(var T=0;T<aw.length;T++){var at=aw[T].cellY;if(at==aj){ah[0].style.top=aw[T].y+"px"}}var am=aw[0];var av=parseInt(am.x);if(aj==au){ah[0].style.left=av+"px";if(an==au){if(a>=ai){ah[0].style.width=a+ae-av-5+"px";if(ad.appointmentsRenderMode=="exactTime"&&!ac.selectedJQXAppointment.allDay){var aE=ac.host.coord().left;if(Z-aE>=ay&&Z-aE<=am.x+am.width+15){ah[0].style.width=am.width+"px";ar=true}}}else{ah[0].style.width=am.width+"px"}}else{if(an<au){ah[0].style.left=av+"px";ah[0].style.width=am.width+"px"}else{if(an>au){ah[0].style.left=av+"px";ah[0].style.width=ao-av+parseInt(aB)+"px"}}}}else{if(aj==an){ah[0].style.width=a+ae-5-parseInt(aB)+"px"}}if(aj<au){ah[0].style.display="none"}if(aj>an&&aj>au){ah[0].style.display="none"}if(an<=au){for(var T=0;T<aw.length;T++){var at=aw[T].cellY;if(an<au||(an==au&&a<ai)){if(at==aj){ah[0].style.display="block";ah[0].style.width=aw[T].width+"px"}}}}}var ag=c.jqx.scheduler.utilities.getEndOfDay(new c.jqx.date(az.getAttribute("data-date"),ac.timeZone));if(ag>ac.selectedJQXAppointment.from&&!ar){ac.resizeTo=ag}else{ac.resizeTo=ac.selectedJQXAppointment.to}}}}else{if(ac.leftResize){var ar=false;for(var w=0;w<6;w++){var ah=ac.feedbacks[w];var aj=parseInt(ah[0].style.top)-af;var ak=parseInt(ah[0].style.left);if(aj<an){ah[0].style.width=ao+"px"}else{for(var T=0;T<aw.length;T++){var at=aw[T].cellY;if(at==aj){ah[0].style.width=aw[T].width+"px";ah[0].style.top=aw[T].y+"px"}}}var am=aw[0];var av=parseInt(am.x);if(aj==au){ah[0].style.left=av+"px";if(an==au){ah[0].style.left=1+Y.left+"px";ah[0].style.width=-1+am.x+am.width-Y.left+"px";if(Y.left>am.x+am.width){ah[0].style.width=am.width+"px";ah[0].style.left=am.x+"px"}if(ad.appointmentsRenderMode=="exactTime"&&!ac.selectedJQXAppointment.allDay){var aE=ac.host.coord().left;if(Z-aE>=am.x-10&&Z-aE<=am.cellX+ac.cellWidth){ah[0].style.width=am.width+"px";ah[0].style.left=am.x+"px";ar=true}}}else{if(an<au){ah[0].style.left=av+"px";ah[0].style.width=am.width+"px"}else{if(an>au){ah[0].style.left=aB;ah[0].style.width=am.x+am.width-parseInt(aB)+"px"}}}}else{if(aj==an){ah[0].style.width=ao-Y.left+parseInt(aB)+"px";ah[0].style.left=Y.left+"px"}}if(aj<au){ah[0].style.display="none"}if(aj>an){ah[0].style.display="none"}if(an<au){for(var T=0;T<aw.length;T++){var at=aw[T].cellY;if(at==aj){ah[0].style.display="block";ah[0].style.width=aw[T].width+"px";ah[0].style.left=aw[T].x+"px"}}}if(an==au){for(var T=0;T<aw.length;T++){var at=aw[T].cellY;if(an<au||(an==au)){if(at==aj&&au!=W){ah[0].style.left=1+Y.left+parseInt(aB)+"px";if(1+Y.left+parseInt(aB)>am.x+am.width){ah[0].style.left=am.x+"px"}ah[0].style.width=-1+am.x+am.width-Y.left+"px"}}}}}var ag=c.jqx.scheduler.utilities.getEndOfDay(new c.jqx.date(az.getAttribute("data-date"),ac.timeZone));if(ag>ac.selectedJQXAppointment.from&&!ar){ac.resizeTo=ag}else{ac.resizeTo=ac.selectedJQXAppointment.to}}else{if(ac.rightResize){var V=false;for(var w=0;w<6;w++){var ah=ac.feedbacks[w];var aj=parseInt(ah[0].style.top)-af;var ak=parseInt(ah[0].style.left);if(aj<an){ah[0].style.width=ao+"px"}for(var T=0;T<aw.length;T++){var at=aw[T].cellY;if(at==aj){ah[0].style.top=aw[T].y+"px"}}var am=aw[0];var av=parseInt(am.x);if(aj==au){ah[0].style.left=av+"px";if(an==au){if(a>=ai){ah[0].style.width=a+ae-av-5+"px";if(ad.appointmentsRenderMode=="exactTime"&&!ac.selectedJQXAppointment.allDay){var aE=ac.host.coord().left;if(Z-aE>=am.lastCellX&&Z-aE<=am.x+am.width+15){ah[0].style.width=am.width+"px";V=true}}}else{ah[0].style.width=am.width+"px"}}else{if(an>au){ah[0].style.left=av+"px";ah[0].style.width=am.width+"px"}else{if(an<au){ah[0].style.left=av+"px";ah[0].style.width=ao-av+parseInt(aB)+"px"}}}}else{if(aj==an){ah[0].style.width=a+ae-5-parseInt(aB)+"px"}}if(aj>W){ah[0].style.display="none"}if(aj<an){ah[0].style.display="none"}if(an>W){for(var T=0;T<aw.length;T++){var at=aw[T].cellY;if(at==aj){ah[0].style.display="block"}if(aj==W){ah[0].style.width=aw[T].width+"px";ah[0].style.left=aw[T].x+"px"}}}if(an<=W){if(aj==W){for(var T=0;T<aw.length;T++){var at=aw[T].cellY;if(aj!=an&&at==aj&&au!=W){ah[0].style.width=aw[T].width+"px";ah[0].style.left=aw[T].x+"px"}else{if(aj==an&&at==aj&&au!=W){ah[0].style.left=aw[T].x+"px";ah[0].style.width=a+ae-5-parseInt(aB)-aw[T].x+"px"}}}}}}var ag=new c.jqx.date(az.getAttribute("data-date"),ac.timeZone);if(ag<ac.selectedJQXAppointment.to&&!V){ac.resizeFrom=ag}else{ac.resizeFrom=ac.selectedJQXAppointment.from}}}}var aC=new Array();for(var w=0;w<6;w++){var ah=ac.feedbacks[w];if(ah[0].style.display=="block"){aC.push(ah)}}c.each(aC,function(d){if(!ac.rtl){if(d>0){c(this).find(".jqx-scheduler-appointment-left-resize-indicator")[0].style.visibility="hidden"}if(d<aC.length-1){c(this).find(".jqx-scheduler-appointment-right-resize-indicator")[0].style.visibility="hidden"}}else{if(d>0){c(this).find(".jqx-scheduler-appointment-right-resize-indicator")[0].style.visibility="hidden"}if(d<aC.length-1){c(this).find(".jqx-scheduler-appointment-left-resize-indicator")[0].style.visibility="hidden"}}})},_handleTimelineDayWeekViewResize:function(o,s,B,v,D){var u=this;var q=u._views[u._view].type;var a=u._views[u._view];var A=u.getMinutesPerScale();var t=function(d){if(d<10){return false}return true};var C=u.findCell(o,u.feedback.coord().top);if(u.leftResize){if(!u._lastResizeX){u._lastResizeX=u.mouseDownPosition.left}if(o>u._lastResizeX+c(B).width()/2){var w=u.selectedAppointmentTableBounds.width+u.selectedAppointmentTableBounds.left-v.left-c(B).width();if(t(w)){u.feedback.css("left",2+v.left+c(B).width());u.feedback.width(w);u._lastResizeX=u.feedback.coord().left;if(!u.rtl){u.resizeFrom=new c.jqx.date(C.getAttribute("data-date"),u.timeZone).addMinutes(A)}else{u.resizeTo=new c.jqx.date(C.getAttribute("data-date"),u.timeZone)}}}else{if(o<u._lastResizeX-c(B).width()/2){var w=u.selectedAppointmentTableBounds.width+u.selectedAppointmentTableBounds.left-v.left;if(t(w)){u.feedback.css("left",2+v.left);u.feedback.width(w);u._lastResizeX=u.feedback.coord().left;if(!u.rtl){u.resizeFrom=new c.jqx.date(C.getAttribute("data-date"),u.timeZone)}else{u.resizeTo=new c.jqx.date(C.getAttribute("data-date"),u.timeZone).addMinutes(A)}}}}}else{if(u.rightResize){if(!u._lastResizeX){u._lastResizeX=u.mouseDownPosition.left}if(o>u._lastResizeX+c(B).width()/2){var z=c(B).width()+v.left-u.selectedAppointmentTableBounds.width-u.selectedAppointmentTableBounds.left;var w=u.selectedAppointmentTableBounds.width+z;if(t(w)){u.feedback.width(w);u._lastResizeX=u.selectedAppointmentTableBounds.width+z+u.feedback.coord().left;if(!u.rtl){u.resizeTo=new c.jqx.date(C.getAttribute("data-date"),u.timeZone).addMinutes(A)}else{u.resizeFrom=new c.jqx.date(C.getAttribute("data-date"),u.timeZone)}}}else{if(o<u._lastResizeX-c(B).width()/2){var z=v.left-u.selectedAppointmentTableBounds.width-u.selectedAppointmentTableBounds.left;var w=u.selectedAppointmentTableBounds.width+z;if(t(w)){u.feedback.width(w);u._lastResizeX=u.selectedAppointmentTableBounds.width+z+u.feedback.coord().left;if(!u.rtl){u.resizeTo=new c.jqx.date(C.getAttribute("data-date"),u.timeZone)}else{u.resizeFrom=new c.jqx.date(C.getAttribute("data-date"),u.timeZone).addMinutes(A)}}}}}}},_handleResize:function(u,l,n,a,s){var o=this;var t=o._views[o._view].type;var q=o._views[o._view];if(t==="dayView"||t==="weekView"){o._handleDayWeekViewResize(u,l,n,a,s)}else{if(t==="timelineMonthView"){o._handleTimelineMonthViewResize(u,l,n,a,s)}else{if(t==="monthView"){o._handleMonthViewResize(u,l,n,a,s)}else{if(t==="timelineDayView"||t==="timelineWeekView"){o._handleTimelineDayWeekViewResize(u,l,n,a,s)}}}}if(t==="timelineDayView"||t==="timelineMonthView"||t==="timelineWeekView"){clearInterval(o._horizontalIntervalDrag);o._horizontalIntervalDrag=setInterval(function(){var f=o.host.width();var d=o.host.coord().left;var h=d+25;var e=f+h-45;if(!o.rtl){if(u<h){o.hScrollInstance.setPosition(o.hScrollInstance.value-5)}else{if(u>e){o.hScrollInstance.setPosition(o.hScrollInstance.value+5)}}}else{if(u>e){o.hScrollInstance.setPosition(o.hScrollInstance.value-5)}else{if(u<h){o.hScrollInstance.setPosition(o.hScrollInstance.value+5)}}}},5)}else{if(t==="dayView"||t==="weekView"){clearInterval(o._intervalDrag);o._intervalDrag=setInterval(function(){var A=o.host.height();var f=0;if(!o.columnGroups){f+=o.showHeader?o.columnsHeight:0}else{f+=o.showHeader?o.columnsheader.height():0}if(o.showToolbar){f+=o.toolbarHeight}A-=f;var d=o.legendHeight;if(o._resources.length==0){d=0}if(o.showLegend){A-=d}var v=f+o.host.coord().top;var h=o.showAllDayRow;if(q.timeRuler&&(t==="dayView"||t==="weekView")){if(q.timeRuler.showAllDayRow!=undefined){h=q.timeRuler.showAllDayRow}}var e=s.duration().days()>=1||s.allDay;if(h&&e){v-=20}else{if(h&&o.resizing){v+=c(o.table[0].rows[0]).height();A-=c(o.table[0].rows[0]).height()}}var w=v+25;var z=A+w-45;if(l<w){o.vScrollInstance.setPosition(o.vScrollInstance.value-5)}else{if(l>z){o.vScrollInstance.setPosition(o.vScrollInstance.value+5)}}},5)}}o.resizing=true},_startTimers:function(a,l,s){var o=this;var n=o.host.coord();var q=0;var t=0;if(o.hScrollInstance.element.style.visibility!="hidden"){clearInterval(o._horizontalIntervalDragVelocity);o._horizontalIntervalDragVelocity=setInterval(function(){q++;if(q>40){q=40}},100);clearInterval(o._horizontalIntervalDrag);o._horizontalIntervalDrag=setInterval(function(){var f=o._hostWidth;var d=n.left;var h=d+30;var e=f+h-60;if(!o.rtl){if(a<h){o.hScrollInstance.setPosition(o.hScrollInstance.value-10-q)}else{if(a>e){o.hScrollInstance.setPosition(o.hScrollInstance.value+10+q)}else{q=0}}}else{if(a<h){o.hScrollInstance.setPosition(o.hScrollInstance.value+10+q)}else{if(a>e){o.hScrollInstance.setPosition(o.hScrollInstance.value-10-q)}else{q=0}}}},10)}if(o.vScrollInstance.element.style.visibility!="hidden"){clearInterval(o._verticalIntervalDragVelocity);o._verticalIntervalDragVelocity=setInterval(function(){t++;if(t>40){t=40}},100);clearInterval(o._intervalDrag);o._intervalDrag=setInterval(function(){var v=o._hostHeight;var h=0;if(!o.columnGroups){h+=o.showHeader?o.columnsHeight:0}else{h+=o.showHeader?o.columnsheader.height():0}var f=o._views[o._view].type;var d=o._views[o._view];if(o.showToolbar){h+=o.toolbarHeight}v-=h;if(o.showLegend&&o._resources.length>0){v-=o.legendHeight}var z=n.top;var e=h+z;if(f=="dayView"||f=="weekView"){var A=o.showAllDayRow;if(d.timeRuler&&(f==="dayView"||f==="weekView")){if(d.timeRuler.showAllDayRow!=undefined){A=d.timeRuler.showAllDayRow}}var w=s.duration().days()>=1||s.allDay;if(A&&w){e-=20}else{if(A&&o.resizing){e+=c(o.table[0].rows[0]).height()}}}var u=e+30;var B=z+v+h-30;if(l<u){o.vScrollInstance.setPosition(o.vScrollInstance.value-10-t)}else{if(l>B){o.vScrollInstance.setPosition(o.vScrollInstance.value+10+t)}else{t=0}}},10)}},_hoverCell:function(a){var d=this;if(!d.enableHover){return true}if(d._resources.length>0){if(a.className.indexOf("pinned")>=0){return true}}if(a.className.indexOf("time-column")>=0){return true}if(a.className.indexOf("jqx-scheduler-disabled-cell")>=0){return true}d.hoveredCell=a;if(!a){return true}a.className+=" "+d.toTP("jqx-fill-state-hover")+" "+d.toTP("jqx-grid-cell-hover")+" "+d.toTP("jqx-scheduler-cell-hover")},_removeHoveredCell:function(){var e=this;if(e.hoveredCell){var f=e.hoveredCell;var a=function(h){var d=f.className;d=d.replace(" "+e.toTP("jqx-fill-state-hover"),"");d=d.replace(" "+e.toTP("jqx-grid-cell-hover"),"");d=d.replace(" "+e.toTP("jqx-scheduler-cell-hover"),"");f.className=d};a(f)}e.hoveredCell=null},_addHandlers:function(){var o=this;this._mousewheelfunc=this._mousewheelfunc||function(d){o.wheel(d,o);return false};this.focused=false;var t=false;this.addHandler(c(document),"keydown.scheduler"+o.element.id,function(d){t=false;if(d.keyCode===9&&d.shiftKey&&!o.focused){t=true}});this.addHandler(this.host,"focus",function(d){if(o.focusedCell&&!o.selectedAppointment&&!t){c(o.focusedCell).addClass(o.toThemeProperty("jqx-scheduler-cell-focus"))}o.focused=true;if(t){if(o.appointmentsToRender.length>0){var e=o.appointmentsToRender[o.appointmentsToRender.length-1];o._selectAppointment(e);o._lastSelectedAppointment=e}else{if(!o.focusedCell){o._updateFocusedCell()}else{if(o.focusedCell){if(o.focusedCell.className.indexOf("-focus")==-1){o._updateCellsSelection();return false}}}}}});this.addHandler(this.host,"blur",function(d){if(o.focusedCell){if(document.activeElement==o.element){return true}if(c(document.activeElement).ischildof(o.host)){return true}c(o.focusedCell).removeClass(o.toThemeProperty("jqx-scheduler-cell-focus"));o.focused=false}});this.addHandler(this.host,"dragstart."+this.element.id,function(d){return false});this.addHandler(this.host,"selectstart."+this.element.id,function(d){if(o.enableBrowserSelection){return true}if(o.showToolBar){if(c(d.target).ischildof(o.toolbar)){return true}}if(o.rowDetails){if(c(d.target).parents("[data-role=details]").length>0){return true}}if(undefined==o.editKey){return false}});this.addHandler(c(window),"jqxReady."+this.element.id,function(){});this.removeHandler(this.host,"mousewheel",this._mousewheelfunc);this.addHandler(this.host,"mousewheel",this._mousewheelfunc);this.vScrollInstance.valueChanged=function(d){if(o._timer){clearTimeout(o._timer)}o._timer=setTimeout(function(){if(o.table){o.table[0].style.top=0-o.vScrollInstance.value+"px"}},1)};this.hScrollInstance.valueChanged=function(d){if(o._htimer){clearTimeout(o._htimer)}o._htimer=setTimeout(function(){if(o.table){o._renderhorizontalscroll()}},1)};var v="mousedown";if(this.isTouchDevice()){v=c.jqx.mobile.getTouchEventName("touchstart");if(c.jqx.browser.msie&&c.jqx.browser.version<10){v="mousedown"}}this.addHandler(this.table,"mouseleave",function(d){o._removeHoveredCell()});if(o.isTouchDevice()){o.enableHover=false}var s="mousemove.scheduler"+this.element.id;var u="mouseup.scheduler"+this.element.id;if(this.isTouchDevice()&&this.touchMode!==true){s=c.jqx.mobile.getTouchEventName("touchmove")+".scheduler"+this.element.id;u=c.jqx.mobile.getTouchEventName("touchend")+".scheduler"+this.element.id}this.addHandler(c(document),s,function(d){var ah=d.pageX;var ai=d.pageY;if(o.isTouchDevice()){var ag=c.jqx.position(d);ah=ag.left;ai=ag.top;if(isNaN(ah)||isNaN(ai)){var ag=c.jqx.position(d.originalEvent);ah=ag.left;ai=ag.top}}if(o.disabled||d.which===3){return true}if(!o.isMouseDown){return true}if(o.hScrollInstance.isScrolling()||o.vScrollInstance.isScrolling()){return true}if(o.isMouseDown&&o.mouseDown&&o.isTouchDevice()&&!o.dragOrResize){if(Math.abs(o.mouseDown.top-ai)>=10){if(new Date()-o.isMouseDownDate<1000&&new Date()-o.isMouseDownDate>100){var af=o.vScrollInstance.value;if(o.vScrollBar[0].style.visibility!="hidden"){o.vScrollInstance.setPosition(af-ai+o.mouseDown.top);d.stopPropagation();d.preventDefault();o.isMouseDownDate=new Date()}}}if(Math.abs(o.mouseDown.left-ah)>=10){if(new Date()-o.isMouseDownDate<1000&&new Date()-o.isMouseDownDate>100){var af=o.hScrollInstance.value;if(o.hScrollBar[0].style.visibility!="hidden"){o.hScrollInstance.setPosition(af-ah+o.mouseDown.left);d.stopPropagation();d.preventDefault();o.isMouseDownDate=new Date()}}}}if(o._hostWidth){var aq=o.host.coord();if(aq.left+o._hostWidth<ah||ah<aq.left){return true}if(aq.top+o._hostHeight<ai||ai<aq.top){return true}}if(o.mouseDownPosition){if((Math.abs(o.mouseDownPosition.left-ah)>=3&&Math.abs(o.mouseDownPosition.left-ah)<=10)||(Math.abs(o.mouseDownPosition.top-ai)>=3&&Math.abs(o.mouseDownPosition.top-ai)<=10)){o.dragOrResize=true}}if(o.selectedAppointment&&o.dragOrResize){var aw=null;if(o._hasOpenedMenu){return true}if(o.editRecurrenceDialog.jqxWindow("isOpen")){return true}var aE=o._views[o._view].type;var aj=o._views[o._view];var au=false;if(d.target.nodeName.toLowerCase()==="td"){var aC=d.target}else{var aC=o.findCell(ah,ai)}if(!aC){return true}if(aC.getAttribute("data-time-slot")!=undefined){return true}if(aC.className.indexOf("jqx-grid-cell-pinned")>=0){return true}if(!o.feedback){aw=o.getJQXAppointmentByElement(o.selectedAppointment);if(!aw.draggable&&!aw.resizable){aw=null;return true}if(o.beginDrag){var az=o.beginDrag(aw);if(!az){return true}}var Z=c('[data-key="'+aw.id+'"]');var at=o.selectedAppointment.position();o.feedback=o.selectedAppointment.clone(true);o.pinnedfeedback=o.selectedAppointment.clone(true);var f=!(o.selectedAppointment[0].style.cursor=="row-resize"||o.selectedAppointment[0].style.cursor=="col-resize"||o.resizing);var aD=function(z){if(f){z.find(".jqx-scheduler-appointment-resize-indicator").hide()}Z.addClass(o.toTP("jqx-scheduler-feedback-appointment jqx-disableselect"));z.find(".jqx-scheduler-appointment-duration-status").hide();z.addClass(o.toTP("jqx-scheduler-feedback-appointment"));z.addClass(o.toTP("jqx-scheduler-feedback-drag-appointment"));if(!f){z.css("z-index",400)}else{z.css("z-index",401)}};aD(o.feedback);aD(o.pinnedfeedback);if(o._views[o._view].type!="monthView"||f){o.table.append(o.feedback);if(o.tableRows==1){o.pinnedtable.append(o.pinnedfeedback)}else{o.table.append(o.pinnedfeedback)}o.feedback.css("left",at.left);o.feedback.css("top",at.top);o.pinnedfeedback.css("left",at.left);o.pinnedfeedback.css("top",at.top);if(o._views[o._view].type=="monthView"&&o.isTouchDevice()){o.feedbacks=new Array();for(var aa=0;aa<6;aa++){o.feedbacks.push(o.feedback.clone(true));c(o.feedbacks[aa]).hide();o.table.append(c(o.feedbacks[aa]))}}}else{o.feedbacks=new Array();for(var aa=0;aa<6;aa++){o.feedbacks.push(o.feedback.clone(true));c(o.feedbacks[aa]).hide();o.table.append(c(o.feedbacks[aa]))}}}if(o.dragging){var az=o.dragging(aw,aC,o.feedback);if(false===az){return true}}var ag=c(aC).position();if(o.endDrag){var al=o.feedback.css("left");var ak=o.feedback.css("top");var av=o.feedback.width();var ao=o.feedback.height}if(!aw){aw=o.selectedJQXAppointment}if(!aw){o.selectAppointment(o.uiappointments[0].id);aw=o.selectedJQXAppointment}var ax=aw.resourceId;var aB=o._resources.indexOf(ax);if(o.resources&&o.resources.orientation=="none"){aB=-1}var ac=false;var h=o.isTouchDevice();if(h&&o.touchMode!==true&&o._dragCell==null&&!(o.leftResize||o.rightResize||o.topResize||o.bottomResize||o.resizing)){switch(aE){case"dayView":case"weekView":var au=aw.duration().days()>=1||aw.allDay;if(!au){if(ai>=o.selectedAppointmentBounds.top-15&&ai<=o.selectedAppointmentBounds.top+15){ac=true;o.topResize=true}if(ai>=o.selectedAppointmentBounds.top-15+o.selectedAppointmentBounds.height&&ai<=o.selectedAppointmentBounds.top+o.selectedAppointmentBounds.height+15){ac=true;o.bottomResize=true}}else{if(ah>=o.selectedAppointmentBounds.left-15&&ah<=o.selectedAppointmentBounds.left+15){ac=true;o.leftResize=true}if(ah>=o.selectedAppointmentBounds.left+o.selectedAppointmentBounds.width-15&&ah<=o.selectedAppointmentBounds.left+o.selectedAppointmentBounds.width+15){ac=true;o.rightResize=true}}break;default:if(ah>=o.selectedAppointmentBounds.left-15&&ah<=o.selectedAppointmentBounds.left+15){ac=true;o.leftResize=true}if(ah>=o.selectedAppointmentBounds.left+o.selectedAppointmentBounds.width-15&&ah<=o.selectedAppointmentBounds.left+o.selectedAppointmentBounds.width+15){ac=true;o.rightResize=true}break}}if(h&&(o.leftResize||o.rightResize||o.topResize||o.bottomResize||o.resizing)||ac){if(aC.getAttribute("data-view")!=aB+1&&o._resources.length>0){if(o.resources.orientation!="none"){return true}}var e=o._getDateByString(aC.getAttribute("data-date"));if(e<o.min.toDate()||e>o.max.toDate()){return}o._handleResize(ah,ai,aC,ag,aw);o._oldResizeTD=aC}else{if(!h&&o.selectedAppointment[0].style.cursor=="row-resize"||o.selectedAppointment[0].style.cursor=="col-resize"||o.resizing){if(aC.getAttribute("data-view")!=aB+1&&o._resources.length>0){if(o.resources&&o.resources.orientation!="none"){return true}}var e=o._getDateByString(aC.getAttribute("data-date"));if(e<o.min.toDate()||e>o.max.toDate()){return}o._handleResize(ah,ai,aC,ag,aw);o._oldResizeTD=aC}else{if(!aw.draggable){o._removeFeedbackAndStopResize();return true}if(o._dragCell==aC){o._startTimers(ah,ai,aw);if(o.isTouchDevice()&&o.touchMode!==true){d.stopPropagation();return false}else{return}}var e=o._getDateByString(aC.getAttribute("data-date"));if(e<o.min.toDate()||e>o.max.toDate()){return}var ap=aw.duration();if(aE.indexOf("month")>=0&&new c.jqx.date(e).add(ap)>o.max){return}var ad=o.vScrollBar[0].style.visibility=="hidden"?0:6+o.vScrollBar.outerWidth();o._dragCell=aC;o.feedback[0].style.left=2+ag.left+"px";o.feedback[0].style.top=2+ag.top+"px";if(aE==="dayView"||aE==="weekView"){o.pinnedfeedback.css("left",2+ag.left);o.pinnedfeedback.css("top",2+ag.top);var aG=0;if(aC.getAttribute("data-end-date")){var aA=o.appointmentsMinHeight;if(o.isTouchDevice()){aA=o.touchAppointmentsMinHeight}if(aj.appointmentHeight){aA=aj.appointmentHeight}au=aw.duration().days()>=1||aw.allDay;o.feedback.css("top",2+ag.top+aA);o.pinnedfeedback.css("top",2+ag.top+18);if(aE=="dayView"){var ab=o.selectedAppointment.coord().left-9;o.feedback.css("left",ab);o.pinnedfeedback.css("left",ab)}if(au){o.pinnedfeedback.css("top",aw.elements[0].y);aG=o.selectedAppointment.width();if(2+ag.left+aG>o.host.width()-ad){var ar=2+ag.left+aG-o.host.width()+ad+6;aG-=ar}o.feedback.width(aG);o.feedback.height(aA);o.pinnedfeedback.width(aG);o.pinnedfeedback.height(aA)}else{aG=c(aC).width()-4;o.feedback.width(aG);o.feedback.height(aA);o.pinnedfeedback.width(aG);o.pinnedfeedback.height(aA)}o.feedback.hide();o.pinnedfeedback.show()}else{o.feedback.show();o.pinnedfeedback.hide();var ay=2;var ae=30;var am=aj.timeRuler&&aj.timeRuler.scale;switch(am){case"sixtyMinutes":case"hour":ay=1;break;case"thirtyMinutes":case"halfHour":ay=2;break;case"fifteenMinutes":case"quarterHour":ay=4;break;case"tenMinutes":ay=6;break;case"fiveMinutes":ay=12;break}aG=c(aC).width()-4;o.feedback.width(aG);au=aw.duration().days()>=1||aw.allDay;if(au){o.feedback.height((c(aC).height())-6)}else{o.feedback.height(o.selectedAppointment.height())}}o._startTimers(ah,ai,aw)}else{if(aE==="monthView"){o.feedback.css("left",1+ag.left);var aF=o.selectedAppointmentTableBounds;var an=parseInt(aF.top);if(an>ag.top&&an<ag.top+aC.offsetHeight){o.feedback.css("top",an+"px")}else{o.feedback.css("top",o.selectedAppointment.height()+ag.top-2)}if(o.isTouchDevice()){o.feedback.css("top",ag.top+2)}aG=o.selectedAppointment.width();o.feedback.width(aG);o.feedback.height(o.selectedAppointment.height());o._startTimers(ah,ai,aw)}else{if(aE==="timelineDayView"||aE==="timelineMonthView"||aE==="timelineWeekView"){var aF=o.selectedAppointmentTableBounds;var an=parseInt(aF.top);if(an>ag.top&&an<ag.top+aC.offsetHeight){o.feedback.css("top",an+"px")}o._startTimers(ah,ai,aw)}}}}}if(o.endDrag){var az=o.endDrag(aw,aC,o.feedback);if(!az){o.feedback.width(av)}o.feedback.height(ao);o.feedback.css("top",ak);o.feedback.css("left",al);return true}if(o.isTouchDevice()&&o.touchMode!==true){d.stopPropagation();return false}}});var a=function(d){o.isMouseDown=false;o.dragOrResize=false;if(o.contextMenu&&o.menu&&d.which!==3){o.menu.jqxMenu("close");o._hasOpenedMenu=false}if(d.which===3){return true}if(o.selectedAppointment&&o.feedback){if(o.editRecurrenceDialog.jqxWindow("isOpen")){return}o._handleMouseUp(o.selectedJQXAppointment,o._dragCell,o.resizing)}};this.addHandler(c(document),u,function(d){return a(d)});if(!this.isTouchDevice()){try{if(document.referrer!=""||window.frameElement){if(window.top!=null&&window.top!=window.self){var w=null;if(window.parent&&document.referrer){w=document.referrer}if(w&&w.indexOf(document.location.host)!=-1){var q=function(d){if(!self.disabled){return a(d)}};o.addHandler(c(window.top.document),"mouseup.jqxscheduler"+o.element.id,q)}}}}catch(l){}}this.addHandler(this.host,s,function(I){var F=I.pageX;var L=I.pageY;if(o.disabled||I.which===3){return true}if(o.selectedAppointment&&o.isMouseDown){return true}if(o.hScrollInstance.isScrolling()||o.vScrollInstance.isScrolling()){return true}if(o._hasOpenedMenu){return true}if(o.overlay[0].style.display!=="none"){return true}var J=null;if(I.target.className.indexOf("jqx-scheduler-appointment")>=0&&I.target.className.indexOf("jqx-scheduler-appointment-inner-content")==-1&&I.target.className.indexOf("jqx-scheduler-appointment-content")==-1&&I.target.className.indexOf("jqx-scheduler-appointment-resize-indicator")==-1){J=I.target}var P=I.target;for(var O=0;O<4;O++){if(P.parentNode){if(P.className.indexOf("jqx-scheduler-appointment")>=0&&P.className.indexOf("jqx-scheduler-appointment-innter-content")==-1&&P.className.indexOf("jqx-scheduler-appointment-content")==-1&&P.className.indexOf("jqx-scheduler-appointment-resize-indicator")==-1){J=P}P=P.parentNode}else{break}}if(J){var H=o._views[o._view].type;var e=o._views[o._view];var h=o.getJQXAppointmentByElement(J);if(h.resizable){var Q=h.duration();var G=h.allDay||Q.days()>=1||(Q.hours()==23&&Q.minutes==59&&Q.seconds==59);var M=c(J).coord();var N=c(J).position();o.selectedAppointmentBounds={top:M.top,left:M.left,width:c(J).width(),height:c(J).height()};o.selectedAppointmentTableBounds={top:N.top,left:N.left,width:c(J).width(),height:c(J).height()};var K=o.selectedAppointmentBounds;if(H=="weekView"||H=="dayView"){if(!G){if(L>=K.top-3&&L<=K.top+6){J.style.cursor="row-resize";o.topResize=true;o.bottomResize=false}else{if(L>=K.top+K.height-6&&L<=K.top+K.height+3){J.style.cursor="row-resize";o.topResize=false;o.bottomResize=true}else{J.style.cursor="pointer"}}}else{if(H!="dayView"){if(F>=K.left-3&&F<=K.left+6){J.style.cursor="col-resize";o.leftResize=true;o.rightResize=false}else{if(F>=K.left+K.width-6&&F<=K.left+K.width+3){J.style.cursor="col-resize";o.leftResize=false;o.rightResize=true}else{J.style.cursor="pointer"}}}else{J.style.cursor="pointer"}}}else{if(H=="monthView"&&h.elements.length>1){var d=o.table.coord();for(var O=0;O<h.elements.length;O++){var E=h.elements[O];var K={top:d.top+E.y,left:d.left+E.x,width:E.width,height:E.height};if((O==0&&!o.rtl)||(O==h.elements.length-1&&o.rtl)){if(F>=K.left-3&&F<=K.left+6){if(L>=K.top&&L<=K.top+K.height){J.style.cursor="col-resize";o.leftResize=true;o.rightResize=false;o.selectedAppointment=c(J);break}else{J.style.cursor="pointer"}}else{J.style.cursor="pointer"}}else{if((O==h.elements.length-1&&!o.rtl)||(O==0&&o.rtl)){if(F>=K.left+K.width-6&&F<=K.left+K.width+3){if(L>=K.top&&L<=K.top+K.height){J.style.cursor="col-resize";o.leftResize=false;o.rightResize=true;o.selectedAppointment=c(J);break}else{J.style.cursor="pointer"}}else{J.style.cursor="pointer"}}}}}else{if(F>=K.left-3&&F<=K.left+6){J.style.cursor="col-resize";o.leftResize=true;o.rightResize=false}else{if(F>=K.left+K.width-6&&F<=K.left+K.width+3){J.style.cursor="col-resize";o.leftResize=false;o.rightResize=true}else{J.style.cursor="pointer"}}}}}}if(!o.enableHover){return true}if(I.target.nodeName.toLowerCase()==="td"){var f=I.target}else{var f=o.findCell(F,L)}if(!f){return true}o._removeHoveredCell();if(o.renderedRecords&&o.renderedRecords.length===0){return true}if(o.isMouseDown){if(Math.abs(o.mousecaptureposition.left-F)>3||Math.abs(o.mousecaptureposition.top-L)>3){if(o.mousecaptureposition.clickedcell.length===0){o.selectionarea[0].style.visibility="hidden";return}if(o.lastHoveredCell!=f){if(o._selectRangeTimer){clearTimeout(o._selectRangeTimer)}o._selectRangeTimer=setTimeout(function(){var z=o._views[o._view].type;if(z!="agendaView"){o._selectRange(f,o.mousecaptureposition.clickedcell[0])}},1)}o.lastHoveredCell=f}}else{if(!J){if(o.rows.length==1&&o.rows[0].cells.length==1){return true}o._hoverCell(f)}}return true});this.addHandler(c(document),"keydown.jqxscheduler"+o.element.id,function(d){if(o.focused&&d.ctrlKey){if(d.keyCode==68){return false}}});this.addHandler(this.host,"keydown",function(d){return o._handleKey(d)});if(c.jqx.browser.msie&&c.jqx.browser.version<9){this.addHandler(this.table,"dblclick",function(d){o.table.trigger("mousedown",d)})}var n=function(P){var O=P.target;var Y=null;if(o.disabled){return true}if(!o.menu&&P.which==3){o._initMenu()}var aj=o.table.coord();var af=P.pageX;var U=P.pageY;if(c.jqx.browser.msie&&c.jqx.browser.version<9){if(arguments&&arguments.length==2){af=arguments[1].pageX;U=arguments[1].pageY}}if(o.isTouchDevice()){var f=c.jqx.position(P);af=f.left;U=f.top;if(isNaN(af)||isNaN(U)){var f=c.jqx.position(P.originalEvent);af=f.left;U=f.top}}o.mouseDown={top:U,left:af};var Y=o.findCell(af,U);if(P.target.nodeName.toLowerCase()==="td"){var Y=P.target}else{var Y=o.findCell(af,U)}var ac=o._views[o._view].type;var W=o._views[o._view];if(ac==="monthView"&&W.weekViewNavigation){if(Y&&Y.getAttribute("data-time-slot")){var S=o._getDateByString(Y.getAttribute("data-date"));var Q=new c.jqx.date(S);o.date=Q;o.setView("weekView")}}if(ac==="monthView"&&W.dayViewNavigation){var ak=c(Y).coord().top;if(Y&&U>=ak&&ak+16>=U){var S=o._getDateByString(Y.getAttribute("data-date"));var Q=new c.jqx.date(S);o.date=Q;o.setView("dayView")}}if(P.target.nodeName.toLowerCase()==="span"&&(P.target.className.indexOf("jqx-icon-arrow-down")>=0||P.target.className.indexOf("jqx-icon-close")>=0)){if(P.target.mousedown){P.target.mousedown()}return true}var aa=c(Y).parent();var d=aa.attr("data-key");o.mousecaptureposition={left:P.pageX,top:P.pageY,clickedrow:c(aa).index(),clickedcell:c(Y)};if(P.which!==3){o.isMouseDown=true;o.isMouseDownDate=new Date()}else{o.isMouseDown=false}if(o.contextMenu&&o.menu&&P.which!==3){o.menu.jqxMenu("close");o._hasOpenedMenu=false}var ae=function(A){if(P.which===3){if(o.contextMenu&&o.menu){if(A){o.menu.find("li:first").show()}else{o.menu.find("li:first").hide()}var z=o.menu.coord();if(o.menu.css("display")=="block"&&z.left==P.pageX&&z.top==P.pageY){o._hasOpenedMenu=true;P.preventDefault();P.stopPropagation();return}if(ac==="agendaView"){return}o.menu.jqxMenu("open",P.pageX,P.pageY);o._hasOpenedMenu=true;P.preventDefault();P.stopPropagation();setTimeout(function(){o.menu.jqxMenu("focus")},50)}}};var R=function(){for(var A=0;A<h.length;A++){var B=h[A].cells;for(var z=0;z<B.length;z++){B[z].removeAttribute("data-selected")}}};var ag=P.target.className.indexOf("jqx-scheduler-appointment")>=0&&P.target.className.indexOf("jqx-scheduler-appointment-duration-status")==-1&&P.target.className.indexOf("jqx-scheduler-appointment-inner-content")==-1&&P.target.className.indexOf("jqx-scheduler-appointment-status")==-1&&P.target.className.indexOf("jqx-scheduler-appointment-resize-indicator")==-1&&P.target.className.indexOf("jqx-scheduler-appointment-content")==-1?c(P.target):c(P.target).parents(".jqx-scheduler-appointment");if(ag.length==0){ag=null}if(ag&&ag[0].className.indexOf("feedback")==-1){if(ag.parents(".jqx-scheduler-month-cell-popup").length>0){return true}o.mouseDownPosition={top:U,left:af};var T=c(ag).coord();o.selectedAppointmentBounds={top:T.top,left:T.left,width:c(ag).width(),height:c(ag).height()};var f=c(ag).position();o.selectedAppointmentTableBounds={top:f.top,left:f.left,width:c(ag).width(),height:c(ag).height()};if(!o._dragStartCell){o._dragStartCell=o.findCell(T.left,T.top)}var ah=o.getJQXAppointmentByElement(ag);o._selectAppointment(ah,ag,"mouse");o._raiseEvent("appointmentClick",{appointment:ah.boundAppointment});o.clearSelection();var ab=new Date().getTime();var X=300;if(c.jqx.browser.msie&&c.jqx.browser.version<9){X=1000}if(!o.clickTime){o.clickTime=new Date()}if((ab-o.clickTime.getTime()<X)&&o._lastSelectedAppointment&&ah.id==o._lastSelectedAppointment.id&&P.which!=3){if(!ah.readOnly&&!o.editRecurrenceDialog.jqxWindow("isOpen")&&(!o._editDialog||(o._editDialog&&!o._editDialog.jqxWindow("isOpen")))){var ad=o._initDialog(ah);if(ad!==false){o._openDialog()}}o.mouseDownPosition=null;o.isMouseDown=false;if(P.preventDefault){P.preventDefault()}o._raiseEvent("appointmentDoubleClick",{appointment:ah.boundAppointment})}else{o.focus()}o._lastSelectedAppointment=ah;if(P.preventDefault){P.preventDefault()}P.stopPropagation();o.clickTime=new Date();if(!ah.readOnly){if(P.which==3){ae(true)}}return}else{if(P.which===3){var e=o.getSelection();if(e!==null){ae(false)}else{o.clearAppointmentsSelection();Y.setAttribute("data-selected","true");o._lastSelectedCell=Y;o.focusedCell=Y;o._updateCellsSelection(Y);ae(false);o._raiseEvent("cellClick",{cell:Y})}}else{if(P.which!=3){o.clearAppointmentsSelection()}}}var Z=function(){if(!o.enableBrowserSelection){if(P.preventDefault){P.preventDefault()}}var z=c(document).scrollTop();o.host.focus();c(document).scrollTop(z)};if(d!==undefined&&P.which!=3){o.clickedTD=Y;o._raiseEvent("cellClick",{cell:Y});var ai=o.rowinfo[d];var V=false;if(ai){var ab=new Date().getTime();var X=300;if(!o.clickTime){o.clickTime=new Date()}o.focus();if(o._lastSelectedCell&&o._lastSelectedCell.getAttribute("data-selected")=="true"&&Y.getAttribute("data-selected")==="true"&&(ab-o.clickTime.getTime()<X)){o._raiseEvent("cellDoubleClick",{cell:Y});V=true;o._initDialog();o._openDialog();if(P.preventDefault){P.preventDefault()}}}var h=o.rows;if(Y.getAttribute("data-selected")!="true"||P.shiftKey||ab-o.clickTime.getTime()>X){if(Y.getAttribute("data-time-slot")=="true"){return}if(!P.shiftKey){o.shiftSelectedCell=null}if(P.shiftKey&&o._lastSelectedCell&&ac!="agendaView"){if(!o.shiftSelectedCell){o.shiftSelectedCell=o._lastSelectedCell}if(Y.getAttribute("data-view")===o.shiftSelectedCell.getAttribute("data-view")){R()}o._selectRange(Y,o.shiftSelectedCell)}if(!P.shiftKey){R();var S=o._getDateByString(Y.getAttribute("data-date"));if(S>=o.min.toDate()&&S<=o.max.toDate()){Y.setAttribute("data-selected","true")}else{Y.setAttribute("data-selected","false")}}c('[data-key="'+d+'"]').removeClass(o.toTP("jqx-scheduler-selected-appointment"));o.selectedAppointment=null;var S=o._getDateByString(Y.getAttribute("data-date"));if(S>=o.min.toDate()&&S<=o.max.toDate()){o._lastSelectedCell=Y;o.focusedCell=Y}o._updateCellsSelection(Y);if(o.openedMonthCellPopup){o.openedMonthCellPopup.remove()}}o.clickTime=new Date();if(P.stopPropagation){P.stopPropagation()}}};this.addHandler(this.pinnedtable,v,function(d){var e=n(d);if(e!=undefined){return e}});this.addHandler(this.table,v,function(d){var e=n(d);if(e!=undefined){return e}})},moveAppointment:function(a,v,q,s,l){var o=this;var n=s.getAttribute("data-end-date");if(a){if(o.editRecurrenceDialog.jqxWindow("isOpen")){return}clearInterval(o._verticalIntervalDragVelocity);clearInterval(o._horizontalIntervalDragVelocity);clearInterval(o._intervalDrag);clearInterval(o._horizontalIntervalDrag);var u=a.duration();var w=a.duration().days()>=1||a.allDay;var t=function(h){if(!l){var e=o._views[o._view].type;var B=o._views[o._view];var A=v;a.from=A;if(e==="dayView"||e==="weekView"){if(!w&&!n){a.to=A.add(u);a.allDay=false}else{if(!w&&n){a.to=c.jqx.scheduler.utilities.getEndOfDay(A);a.allDay=true}else{if(w&&n){a.to=A.add(u)}else{if(w&&!n){var C=30;var z=B.timeRuler&&B.timeRuler.scale;switch(z){case"sixtyMinutes":case"hour":C=60;break;case"fifteenMinutes":case"quarterHour":C=15;break;case"tenMinutes":C=10;break;case"fiveMinutes":C=5;break}a.to=A.addMinutes(C);a.allDay=false}}}}}else{if(e==="monthView"){a.to=A.add(u)}else{if(e==="timelineDayView"||e==="timelineWeekView"||e==="timelineMonthView"){a.to=A.add(u)}}}}o._saveChangesAfterDragOrResize(h,a,s,l);if(q!=null){a.resourceId=q}o.table.find(".jqx-icon-arrow-down").hide();if(a.allDay||w){o._renderrows()}else{var f=o.getViewStart();var d=c.jqx.scheduler.utilities.getEndOfDay(o.getViewEnd());o._prepareAppointmentsInView(f,d);o._renderAppointments(f,d)}o._raiseEvent("appointmentChange",{appointment:a.boundAppointment});o.changedAppointments[a.id]={type:"Update",appointment:a.boundAppointment};o._ensureAppointmentVisible(o.selectedJQXAppointment)};if(a.isRecurrentAppointment()){t(false)}else{t(null)}}},getAppointmentProperty:function(h,a){var f=this;var l=null;if(this.appointmentsByKey[h]){l=this.appointmentsByKey[h].jqxAppointment}if(!l){return}return l[a]},setAppointmentProperty:function(q,a,n){var o=this;var t=null;if(this.appointmentsByKey[q]){t=this.appointmentsByKey[q].jqxAppointment}if(!t){return}t[a]=n;o.changedAppointments[q]={type:a,appointment:t.boundAppointment};switch(q){case"draggable":case"resizable":break;case"background":case"color":case"borderColor":case"status":case"tooltip":case"subject":case"location":case"description":case"style":var l=o.getViewStart();var s=c.jqx.scheduler.utilities.getEndOfDay(o.getViewEnd());o._prepareAppointmentsInView(l,s);o._renderAppointments(l,s);break;case"hidden":case"timeZone":if(t.isAllDayAppointment()){o._renderrows()}else{var l=o.getViewStart();var s=c.jqx.scheduler.utilities.getEndOfDay(o.getViewEnd());o._prepareAppointmentsInView(l,s);o._renderAppointments(l,s)}break;default:o._renderrows()}},deleteAppointment:function(a){if(this.appointmentsByKey[a]){this._deleteAppointment(this.appointmentsByKey[a].jqxAppointment)}},_deleteAppointment:function(a){var h=this;if(a.rootAppointment){if(!a.isException()){if(a.rootAppointment!=null){a.rootAppointment.exceptions.push(h.editAppointment);a.rootAppointment.recurrenceException.push(h.editAppointment.occurrenceFrom)}else{a.exceptions.push(h.editAppointment);a.recurrenceException.push(h.editAppointment.occurrenceFrom)}}else{var l=a.rootAppointment?a.rootAppointment.exceptions:a.exceptions;for(var n=0;n<l.length;n++){if(l[n].occurrenceFrom.equals(h.editAppointment.occurrenceFrom)){l[n]=a;break}}}a.hidden=true;h._renderrows();return}h._raiseEvent("appointmentDelete",{appointment:a.boundAppointment});var o=a.id;delete h.appointmentsByKey[o];var q=-1;for(var n=0;n<h.appointments.length;n++){if(h.appointments[n]==a.boundAppointment||h.appointments[n].id==a.boundAppointment.id){q=n;break}}if(q!=-1){h.appointments.splice(q,1)}q=-1;for(var n=0;n<h.uiappointments.length;n++){if(h.uiappointments[n]==a||h.uiappointments[n].id==a.id){q=n;break}}if(q!=-1){h.uiappointments.splice(q,1)}if(h.selectedJQXAppointment==a){h.clearAppointmentsSelection();if(h.uiappointments[q+1]){h.selectAppointment(h.uiappointments[q+1].id)}else{if(h.uiappointments[q-1]){h.selectAppointment(h.uiappointments[q-1].id)}else{if(h.uiappointments[0]){h.selectAppointment(h.uiappointments[0].id)}}}}h.changedAppointments[o]={type:"Delete",appointment:a.boundAppointment};h._renderrows()},addAppointment:function(F){var M=this;if(!F.scheduler){F.scheduler=this}if(!F.duration){if(!F.from&&!F.to){var N=F;var P={};var O=["from","to","id","style","description","location","subject","background","color","borderColor","recurrencePattern","recurrenceException","draggable","resizable","tooltip","hidden","allDay","timeZone","ownerId","resourceId"];for(var a in M.appointmentDataFields){var R=M.appointmentDataFields[a];var D=N[R];if(a=="from"||a=="to"){D=new c.jqx.date(D)}if(a=="style"){if(D){var I=M.getAppointmentColors(D);P.color=I.color;P.background=I.background;P.borderColor=I.border}}if(a=="recurrencePattern"){if(D){D=new c.jqx.scheduler.recurrencePattern(D);D.timeZone=N.timeZone||M.timeZone}}if(a=="recurrenceException"){var A=new Array();if(D){if(D.indexOf("EXDATE:")>=0){D=D.substring(D.indexOf("EXDATE:")+7)}var H=new Array();if(D.indexOf(",")>=0){H=D.split(",")}else{H.push(D)}for(var B=0;B<H.length;B++){var E=H[B];if(E.indexOf(";")>=0){var L=E.split(";")[1];E=E.split(";")[0];if(L.toLowerCase().indexOf("display")>=0&&L.toLowerCase().indexOf("none")){P.hidden=true}}try{var z=c.jqx.scheduler.utilities.untilStringToDate(E);if(z!="Invalid Date"){if(P.timeZone){z=new c.jqx.date(z,P.timeZone)}else{if(M.timeZone){z=z.toTimeZone(M.timeZone)}else{z=new c.jqx.date(z)}}}}catch(w){var z=new c.jqx.date(E,M.timeZone)}A.push(z)}}D=A}P[a]=D}for(var G in O){var a=O[G];if(P[a]==undefined){var D="";if(a=="originalData"){continue}if(a=="ownerId"){D=null}if(a=="timeZone"){D=null}if(a=="recurrencePattern"){D=null}if(a=="recurrenceException"){D=null}if(a=="allDay"){D=false}if(a=="draggable"){D=true}if(a=="resizable"){D=true}if(a=="hidden"){D=false}if(a=="resourceId"){D=null}if(a=="from"){D=new c.jqx.date()}if(a=="to"){D=new c.jqx.date().addHours(1)}P[a]=D}}P.originalData=N;var F=new c.jqx.scheduler.appointment(P);if(P.timeZone){F.from=F.from.toTimeZone(P.timeZone);F.to=F.to.toTimeZone(P.timeZone)}if(M.timeZone){if(!P.timeZone){F.timeZone=M.timeZone}F.from=F.from.toTimeZone(M.timeZone);F.to=F.to.toTimeZone(M.timeZone)}else{F.from=F.from.toTimeZone(null);F.to=F.to.toTimeZone(null)}}else{var K=new c.jqx.scheduler.appointment();for(var a in F){K[a]=F[a]}F=K}}var a=M.dataview.generatekey();F.id=a;M.appointmentsByKey[a]=F;M.appointments.push(F);var Q={};var J={};for(var C in M.appointmentDataFields){var R=M.appointmentDataFields[C];var D=F[C];Q[C]=D;if(C=="from"||C=="to"){D=D.toDate()}J[R]=D}Q.originalData=J;F.boundAppointment=Q;F.jqxAppointment=F;M._raiseEvent("appointmentAdd",{appointment:F.boundAppointment});M.uiappointments.push(F);M.changedAppointments[a]={type:"Add",appointment:F.boundAppointment};if(M.hiddenResources&&M.hiddenResources[F.resourceId]){M.hideAppointmentsByResource(F.resourceId)}else{M._renderrows()}M._selectAppointment(F);M._lastSelectedAppointment=F},_updateCellsSelection:function(){var s=this;var a=s.rows;var w=0;var v=0;if(w>0&&s.rtl){w=0;v=1}for(var t=0;t<a.length;t++){var n=a[t].cells;for(var u=w;u<n.length-v;u++){var o=n[u];if(o.getAttribute("data-selected")=="true"){var q=o.jqxClassName||o.className;if(q.indexOf("jqx-fill-state-pressed")>=0){if(o!=s.focusedCell){q=q.replace(" jqx-scheduler-cell-focus","");q=q.replace(" jqx-scheduler-cell-focus-"+s.theme,"")}else{if(o==s.focusedCell&&s.focused){q=q.replace(" jqx-scheduler-cell-focus","");q=q.replace(" jqx-scheduler-cell-focus-"+s.theme,"");if(!s.selectedAppointment){q=q+=" "+s.toTP("jqx-scheduler-cell-focus")}}}if(o.className!=q){o.className=q}o.jqxClassName=q;continue}q=q.replace(" jqx-fill-state-pressed","");q=q.replace(" jqx-fill-state-pressed-"+s.theme,"");q=q.replace(" jqx-scheduler-cell-focus","");q=q.replace(" jqx-scheduler-cell-focus-"+s.theme,"");q=q.replace(" jqx-grid-cell-selected","");q=q.replace(" jqx-grid-cell-selected-"+s.theme,"");q=q.replace(" jqx-scheduler-cell-selected","");q=q.replace(" jqx-scheduler-cell-selected-"+s.theme,"");q=q+=" "+s.toTP("jqx-fill-state-pressed jqx-grid-cell-selected jqx-scheduler-cell-selected");if(o==s.focusedCell&&s.focused&&!s.selectedAppointment){q=q+=" "+s.toTP("jqx-scheduler-cell-focus")}if(o.className!=q){o.className=q}o.jqxClassName=q}else{var q=o.jqxClassName||o.className;if(q.indexOf("jqx-fill-state-pressed")==-1){if(o!=s.focusedCell){q=q.replace(" jqx-scheduler-cell-focus","");q=q.replace(" jqx-scheduler-cell-focus-"+s.theme,"")}else{if(o==s.focusedCell&&s.focused){q=q.replace(" jqx-scheduler-cell-focus","");q=q.replace(" jqx-scheduler-cell-focus-"+s.theme,"");if(!s.selectedAppointment){q=q+=" "+s.toTP("jqx-scheduler-cell-focus")}}}if(o.className!=q){o.className=q}o.jqxClassName=q;continue}else{if(o==s.focusedCell&&s.focused){q=q.replace(" jqx-scheduler-cell-focus","");q=q.replace(" jqx-scheduler-cell-focus-"+s.theme,"");if(!s.selectedAppointment){q=q+=" "+s.toTP("jqx-scheduler-cell-focus")}if(o.className!=q){o.className=q}o.jqxClassName=q}}q=q.replace(" jqx-fill-state-pressed","");q=q.replace(" jqx-fill-state-pressed-"+s.theme,"");q=q.replace(" jqx-scheduler-cell-focus","");q=q.replace(" jqx-scheduler-cell-focus-"+s.theme,"");q=q.replace(" jqx-grid-cell-selected","");q=q.replace(" jqx-grid-cell-selected-"+s.theme,"");q=q.replace(" jqx-scheduler-cell-selected","");q=q.replace(" jqx-scheduler-cell-selected-"+s.theme,"");if(o==s.focusedCell&&s.focused&&!s.selectedAppointment){q=q+=" "+s.toTP("jqx-scheduler-cell-focus")}if(o.className!=q){o.className=q}o.jqxClassName=q;o.removeAttribute("data-selected")}}}},_getuikey:function(q,l){var n=null;var o=this.table[0].rows;n=c(o[q]).attr("data-key");if(c(o[q]).attr("data-role")){var a=c(o[q]);if(l=="next"){while(a){a=a.next();if(a){var h=a.attr("data-role");if(!h){n=a.attr("data-key");return n}}}}else{if(l=="prev"){while(a){a=a.prev();if(a){var h=a.attr("data-role");if(!h){n=a.attr("data-key");return n}}}}}return null}return n},getRows:function(){var q=this._views[this._view].type;var n=this._views[this._view];var v="halfHour";if(n.timeRuler&&n.timeRuler.scale){v=n.timeRuler.scale}var o=24;var z=this.showAllDayRow;if(n.timeRuler&&(q==="dayView"||q==="weekView")){var w=0;var t=23;if(n.timeRuler.scaleStartHour!=undefined){var w=parseInt(n.timeRuler.scaleStartHour)}if(n.timeRuler.scaleEndHour!=undefined){var t=parseInt(n.timeRuler.scaleEndHour)}if(w<0){w=0}if(t<0){t=23}if(w>23){w=0}if(t>23){t=23}o=t-w+1;if(n.timeRuler.showAllDayRow!=undefined){z=n.timeRuler.showAllDayRow}}var a=new Array();var s=0;switch(q){case"dayView":case"weekView":default:var s=o*2;if(v==="hour"||v==="sixtyMinutes"){var s=o}else{if(v==="quarterHour"||v==="fifteenMinutes"){var s=o*4}else{if(v==="tenMinutes"){var s=o*6}else{if(v==="fiveMinutes"){var s=o*12}}}}if(z){s++}break;case"monthView":var s=6;break;case"timelineDayView":case"timelineWeekView":case"timelineMonthView":var s=1;break;case"agendaView":var s=this.appointments?this.appointments.length:0;break}for(var u=0;u<s;u++){a.push({uid:u})}return a},_getDateByString:function(o){var v=o.split(" ");var a=v[0].split("-");var s=v[1].split(":");var t=parseInt(a[0],10);var u=parseInt(a[1],10)-1;var q=parseInt(a[2],10);var w=parseInt(s[0],10);var z=parseInt(s[1],10);var n=parseInt(s[2],10);var A=new Date(t,u,q,w,z,n);if(t<1970){A.setFullYear(t,u,q)}return A},_getCellByDate:function(z,v,w){var a=this.rows;if(v===undefined){v=false}if(w===undefined){if(this.focusedCell){w=this.focusedCell.getAttribute("data-view")}}for(var s=0;s<a.length;s++){var n=a[s];if(n.element.getAttribute("data-group-row")){continue}for(var t=0;t<n.cells.length;t++){var o=n.cells[t];if(o.getAttribute("rowspan")!=null){continue}if(o.getAttribute("data-view")!==w){continue}if(o.getAttribute("data-time-slot")){continue}if(v&&o.getAttribute("data-end-date")!=null){continue}var q=o.getAttribute("data-date");var u=this._getDateByString(q);if(u.valueOf()==z.valueOf()){return o}}}},_handleKey:function(C){if(this._loading){return true}var B=C.shiftKey;var I=C.ctrlKey||C.metaKey;var M=this;var a=C.charCode?C.charCode:C.keyCode?C.keyCode:0;if(M._hasOpenedMenu){if(a==27){M.closeMenu()}else{M.menu.jqxMenu("focus")}return true}if(a===13||(M.selectedAppointment&&a==46)){if(M.editRecurrenceDialog&&M.editRecurrenceDialog.jqxWindow("isOpen")){return true}if(M._editDialog&&M._editDialog.jqxWindow("isOpen")){return true}if(!M.selectedAppointment){M._initDialog();M._openDialog()}else{var S=M.getJQXAppointmentByElement(M.selectedAppointment);if(!S.readOnly){if(a==46){var G=M._initDialog(S,"delete");if(G!==false){M._openDialog()}}else{var G=M._initDialog(S);if(G!==false){M._openDialog()}}}}}if(a===27){if(M.dragOrResize){M.table.find(".jqx-icon-arrow-down").hide();var P=M.getViewStart();var Q=c.jqx.scheduler.utilities.getEndOfDay(M.getViewEnd());M._prepareAppointmentsInView(P,Q);M._renderAppointments(P,Q);M._removeFeedbackAndStopResize();return false}}var D=function(o){var Y=M.selectedAppointment;var s=M.getJQXAppointmentByElement(Y);var u=s.elements[0].cells[0].cell;var l=s.elements[s.elements.length-1].cells[s.elements[s.elements.length-1].cells.length-1].cell;var V=M.rows[M.rows.length-1].cells[M.rows[M.rows.length-1].cells.length-1];if(B||(!B&&!I&&(o=="down"||o=="right"))){u=l}var v=M._views[M._view].type;var w=M._views[M._view];var t=u;switch(o){case"left":var W=M.rowByCell[u.getAttribute("data-key")];var U=W.indexOf(u);if(U>0&&!B){t=W.cells[U-1]}else{if(v=="monthView"&&!B){var Z=W.aboveRow;if(Z){t=Z.cells[Z.cells.length-1]}}}break;case"right":var W=M.rowByCell[u.getAttribute("data-key")];var U=W.indexOf(u);if(U<W.cells.length-1){t=W.cells[U+1]}else{if(v=="monthView"){var d=W.belowRow;if(d){t=d.cells[0]}}}if(v=="monthView"&&!B&&I&&l==V){t=u}break;case"up":var W=M.rowByCell[u.getAttribute("data-key")];var U=W.indexOf(u);var Z=W.aboveRow;if(Z&&!B){t=Z.cells[U]}break;case"down":var W=M.rowByCell[u.getAttribute("data-key")];var U=W.indexOf(u);var d=W.belowRow;if(d){t=d.cells[U]}break}var f=t.getAttribute("data-date");var h=new c.jqx.date(f,M.timeZone);var v=c(t).attr("data-view");var q=M._resources[parseInt(v)-1];if(B){var v=M._views[M._view].type;var w=M._views[M._view];var X=false;if(v==="dayView"||v==="weekView"){if(u.getAttribute("data-end-date")){if(o=="left"&&(s.elements[0].cells.length>1||M.rtl)){if(!M.rtl){s.to=c.jqx.scheduler.utilities.getEndOfDay(h.addDays(-1))}else{s.to=c.jqx.scheduler.utilities.getEndOfDay(h.addDays(1))}X=true}else{if(o=="right"){if(!M.rtl||(M.rtl&&s.elements[0].cells.length>1)){s.to=c.jqx.scheduler.utilities.getEndOfDay(h)}X=true}}}else{if(o=="up"&&s.elements[0].cells.length>1){s.to=h;X=true}else{if(o=="down"){s.to=h.addMinutes(M.getMinutesPerScale());X=true}}}}else{if(v.indexOf("month")>=0){if(o=="left"&&(s.elements[0].cells.length>1||s.elements.length>1)){s.to=c.jqx.scheduler.utilities.getEndOfDay(h.addDays(-1));X=true}else{if(o=="right"){s.to=c.jqx.scheduler.utilities.getEndOfDay(h);X=true}}}else{if((!M.rtl&&o=="left"&&s.elements[0].cells.length>1)||(M.rtl&&o=="right"&&s.elements[0].cells.length>1)){s.to=h;if(M.rtl){s.to=h.addMinutes(M.getMinutesPerScale())}X=true}else{if((!M.rtl&&o=="right")||(M.rtl&&o=="left")){s.to=h.addMinutes(M.getMinutesPerScale());if(M.rtl){s.to=s.to.addMinutes(M.getMinutesPerScale())}X=true}}}}if(X){M.moveAppointment(s,h,q,t,true)}}else{if(I){M.moveAppointment(s,h,q,t)}else{M.clearAppointmentsSelection();var n=true;if(o=="down"){n=false}M.selectCell(h,n,v);M._ensureVisible(t)}}if(M.selectedAppointment){M.selectedAppointment.removeClass(M.toTP("jqx-scheduler-selected-appointment"));var e=M.selectedAppointment.attr("data-key");c('[data-key="'+e+'"]').addClass(M.toTP("jqx-scheduler-selected-appointment"));M.clearSelection()}};if(C.altKey&&M._resourcesElements&&M._resources&&M._resources.length>0){var O=function(d){var e=M._resourcesElements.bottom[d];if(e.attr("data-toggle")=="on"){M.hideAppointmentsByResource(d)}else{M.showAppointmentsByResource(d)}};var L=a>=49&&a<=58?L=a-48:-1;if(L>=1){c.each(M._resources,function(d,e){if(d==L-1){O(e);return false}});return false}}if(C.ctrlKey){if(!M.selectedAppointment){if(a==37){M.toolbarLeftButton.trigger("click");M._ensureVisible(M.focusedCell);return false}else{if(a==39){M.toolbarRightButton.trigger("click");M._ensureVisible(M.focusedCell);return false}}}if(a==49){M._setView(0);return false}else{if(a==50){M._setView(1);return false}else{if(a==51){M._setView(2);return false}else{if(a==52){M._setView(3);return false}else{if(a==53){M._setView(4);return false}else{if(a==54){M._setView(5);return false}else{if(a==68){M.dateTimeInput.jqxDateTimeInput("open");return false}else{if(a==77){M.openMenu();return false}}}}}}}}}if(a==9){if(!C.shiftKey){if(M.selectedAppointment){M.clearSelection();var R=M.selectedAppointment;var S=M.getJQXAppointmentByElement(R);var N=M.tabKeyAppointments.indexOf(S);if(N<M.tabKeyAppointments.length-1){S=M.tabKeyAppointments[N+1];M._selectAppointment(S);M._lastSelectedAppointment=S;M._ensureAppointmentVisible(S);return false}else{M.clearAppointmentsSelection();return true}}else{var S=M.tabKeyAppointments[0];if(S){M._selectAppointment(S);M._lastSelectedAppointment=S;M._ensureAppointmentVisible(S);return false}else{if(!M.focusedCell){M._updateFocusedCell();M._ensureVisible(M.focusedCell);return false}else{if(M.focusedCell){if(M.focusedCell.className.indexOf("-focus")==-1){M._updateCellsSelection();M._ensureVisible(M.focusedCell);return false}}}}}}else{if(M.selectedAppointment){M.clearSelection();var R=M.selectedAppointment;var S=M.getJQXAppointmentByElement(R);if(S){var N=M.tabKeyAppointments.indexOf(S);if(N>0){S=M.tabKeyAppointments[N-1];M._selectAppointment(S);M._lastSelectedAppointment=S;M._ensureAppointmentVisible(S);return false}else{M.clearAppointmentsSelection();if(!M.focusedCell){M._updateFocusedCell();M._ensureVisible(M.focusedCell);return false}else{if(M.focusedCell){if(M.focusedCell.className.indexOf("-focus")==-1){M._updateCellsSelection();M._ensureVisible(M.focusedCell);return false}}}return true}}}else{if(!M.focusedCell){M._updateFocusedCell();M._ensureVisible(M.focusedCell)}else{if(M.focusedCell){if(M.focusedCell.className.indexOf("-focus")==-1){M._updateCellsSelection();M._ensureVisible(M.focusedCell);return false}}}}}}if(M.selectedAppointment){if(a==37){D("left")}else{if(a==38){D("up")}else{if(a==40){D("down")}else{if(a==39){D("right")}}}}if(a>=37&&a<=40){return false}return}var K=this._lastSelectedCell;if(!K){return}if(!c(this._lastSelectedCell).parent()[0]){this._lastSelectedCell=this.rows[0].cells[0];K=this._lastSelectedCell}var H=this.rows;var F=this._views[this._view].type;var J=this._views[this._view];var z="halfHour";if(J.timeRuler&&J.timeRuler.scale){z=J.timeRuler.scale}var E=function(s,V){var f=30;switch(z){case"sixtyMinutes":case"hour":f=60;break;case"thirtyMinutes":case"halfHour":f=30;break;case"fifteenMinutes":case"quarterHour":f=15;break;case"tenMinutes":f=10;break;case"fiveMinutes":f=5;break}var v=s.getAttribute("data-date");var w=function(X,ae,ac){if(X&&(X.getAttribute("rowspan")==null||F=="agendaView")&&X.getAttribute("data-time-slot")==null){if(ac<M.min||ac>M.max){return}var Z=M.rows;var aa=M._lastSelectedCell;M._lastSelectedCell=X;if(C.shiftKey&&M._lastSelectedCell){if(!M.shiftSelectedCell){M.shiftSelectedCell=K}}else{if(!C.shiftKey){M.shiftSelectedCell=null}}if(!M.shiftSelectedCell){for(var ab=0;ab<Z.length;ab++){var Y=Z[ab];if(Y.element.getAttribute("data-group-row")){continue}for(var ad=0;ad<Y.cells.length;ad++){var ae=Y.cells[ad];ae.removeAttribute("data-selected","false")}}X.setAttribute("data-selected","true");M.focusedCell=X}else{if(X.getAttribute("data-end-date")&&M.shiftSelectedCell.getAttribute("data-end-date")){M.focusedCell=X;M._selectRange(X,M.shiftSelectedCell)}else{if(!X.getAttribute("data-end-date")&&!M.shiftSelectedCell.getAttribute("data-end-date")){M.focusedCell=X;M._selectRange(X,M.shiftSelectedCell)}else{M.focusedCell=aa;M._lastSelectedCell=aa}}}M._ensureVisible(M.focusedCell)}};var q=new c.jqx.date(v,M.timeZone);var o=s.getAttribute("data-view");switch(V){case"left":var l=M.rowByCell[s.getAttribute("data-key")];var W=l.indexOf(s);if(W>0){var e=l.cells[W-1];var u=new c.jqx.date(e.getAttribute("data-date"),M.timeZone)}w(e,s,u);break;case"right":var l=M.rowByCell[s.getAttribute("data-key")];var W=l.indexOf(s);if(W<l.cells.length-1){var e=l.cells[W+1];var u=new c.jqx.date(e.getAttribute("data-date"),M.timeZone)}w(e,s,u);break;case"up":var l=M.rowByCell[s.getAttribute("data-key")];var W=l.indexOf(s);var t=l.aboveRow;if(t){var e=t.cells[W];if(W==0&&e.getAttribute("rowspan")){var U=-1+M.rows.indexOf(l);var e=s;while(U>=0){if(M.rows[U].cells[0]==e){U--}else{e=M.rows[U].cells[0];break}}}var u=new c.jqx.date(e.getAttribute("data-date"),M.timeZone);w(e,s,u)}break;case"down":var l=M.rowByCell[s.getAttribute("data-key")];var W=l.indexOf(s);var d=l.belowRow;if(d){var e=d.cells[W];if(W==0&&e.getAttribute("rowspan")){var U=1+M.rows.indexOf(l);var e=s;while(U<M.rows.length){if(M.rows[U].cells[0]==e){U++}else{e=M.rows[U].cells[0];break}}}var u=new c.jqx.date(e.getAttribute("data-date"),M.timeZone);w(e,s,u)}break;case"home":var l=M.rowByCell[s.getAttribute("data-key")];var W=l.indexOf(s);var h=M.rows[0];var e=h.cells[W];var u=new c.jqx.date(e.getAttribute("data-date"),M.timeZone);w(e,s,u);break;case"end":var l=M.rowByCell[s.getAttribute("data-key")];var W=l.indexOf(s);var n=M.rows[M.rows.length-1];var e=n.cells[W];var u=new c.jqx.date(e.getAttribute("data-date"),M.timeZone);w(e,s,u);break}M._updateCellsSelection()};var A=function(){E(K,"home")};var T=function(){E(K,"end")};if(a==36||(I&&a==38)){A();return false}else{if(a==35||(I&&a==40)){T();return false}else{if(a==37){if(M.selectedAppointment){D(K,"left")}else{E(K,"left")}return false}else{if(a==38){if(M.selectedAppointment){D(K,"up")}else{E(K,"up")}return false}else{if(a==40){if(M.selectedAppointment){D(K,"down")}else{E(K,"down")}return false}else{if(a==39){if(M.selectedAppointment){D(K,"right")}else{E(K,"right")}return false}}}}}}},getSelectedCells:function(){var n=this;var l=n.rows;var o=l.length;var a=new Array();for(var q=0;q<o;q++){var s=l[q].cells;for(var t=0;t<s.length;t++){if(s[t].getAttribute("data-selected")){a.push(s[t])}}}return a.sort(function(e,d){return n._sortByDate(e,d)})},getSelection:function(){var q=this;var a=q.getSelectedCells();if(a.length==0){return null}var l=a[0].getAttribute("data-date");var n=a[a.length-1].getAttribute("data-date");var s=q.getMinutesPerScale();var t=q._views[q._view].type;if(t.toLowerCase().indexOf("month")>=0){s=0}if(a[0].getAttribute("data-end-date")){s=0}n=new c.jqx.date(n,q.timeZone).addMinutes(s);var t=parseInt(a[0].getAttribute("data-view"))-1;var o=q._resources[t];if(q._views[q._view].type.toLowerCase().indexOf("month")>=0){return{from:new c.jqx.date(l,q.timeZone),to:c.jqx.scheduler.utilities.getEndOfDay(n),resourceId:o}}return{from:new c.jqx.date(l,q.timeZone),to:n,resourceId:o}},clearSelection:function(){var l=this;var h=l.rows;var n=h.length;for(var o=0;o<n;o++){var q=h[o].cells;for(var a=0;a<q.length;a++){q[a].removeAttribute("data-selected")}}l._updateCellsSelection()},_getvirtualcolumnsindexes:function(w,n,s,o,z){if(this.rtl){w=this.hScrollInstance.max-w}var v=0;var q=-1;var u=s+o;if(this.autorowheight){return{start:0,end:s+o}}if(!z){for(var t=0;t<s+o;t++){var a=t;if(!this.columns.records[t].hidden){v+=this.columns.records[t].width}if(v>=w&&q==-1){q=t}if(v>n+w){u=t;break}}}u++;if(u>s+o){u=s+o}if(q==-1){q=0}return{start:q,end:u}},_renderhorizontalscroll:function(){var A=this;var E=A.hScrollInstance;var C=E.value;if(A.hScrollBar[0].style.visibility==="hidden"){E.value=0;C=0}var H=parseInt(C);if(A.table==null){return}var J=function(d){if(d.parentNode&&d.parentNode.nodeName!="#document-fragment"){return true}return false};var B=A._getvirtualcolumnsindexes(H,A._hostWidth,0,A.columns.records.length,false);var w=B.start;var t=B.end;var F=A.rows;for(var a=0;a<w;a++){var s=a;var I=A.columns.records[s].element[0];if(J(I)){I.parentNode.removeChild(I)}}for(var a=t;a<A.columns.records.length;a++){var s=a;var I=A.columns.records[s].element[0];if(J(I)){I.parentNode.removeChild(I)}}for(var a=w;a<t;a++){var s=a;I=A.columns.records[s].element[0];if(!J(I)){A.columnsrow[0].appendChild(I)}}var u=A.columnsrow;var D=0;var v=A.columns.records.length-D;var G=A.columns.records;var z=A.source.records.length==0;if(A.rtl){if(A.hScrollBar.css("visibility")!="hidden"){H=E.max-H}}A.table[0].style.left=-H+"px";if(A.pinnedtable[0].style.display=="block"){A.pinnedtable[0].style.left=-H+"px"}u[0].style.marginLeft=-H+"px"},_getDayName:function(a,e){if(a>=7){a-=7}if(!e){e=this.dayNameFormat;if(this.isTouchDevice()){e=this.touchDayNameFormat}}var f=this.schedulerLocalization.days.names[a];switch(e){case"full":f=this.schedulerLocalization.days.names[a];break;case"abbr":f=this.schedulerLocalization.days.namesAbbr[a];break;case"shortest":f=this.schedulerLocalization.days.namesShort[a];break;case"firstTwoLetters":f=f.substring(0,2);break;case"firstLetter":f=f.substring(0,1);break}return f},_initializeColumns:function(){if(this._views.length===0){this._views.push({type:"dayView"})}if(!this._views[this._view]){throw new Error("jqxScheduler: View is undefined. You need to define the View in the Views Array when you create jqxScheduler")}var P=this._views[this._view].type;var S=this._views[this._view];if(this.columns&&this.columns.records){for(var a=0;a<this.columns.records.length;a++){this._removecolumnhandlers(this.columns.records[a])}}this.columns=new Array();var M=new Array();var V=this;var N=function(z,q){var w="halfHour";if(S.timeRuler&&S.timeRuler.scale){w=S.timeRuler.scale}var l=24;var A=0;var n=23;if(S.timeRuler){if(S.timeRuler.scaleStartHour!=undefined){var A=parseInt(S.timeRuler.scaleStartHour)}if(S.timeRuler.scaleEndHour!=undefined){var n=parseInt(S.timeRuler.scaleEndHour)}if(A<0){A=0}if(n<0){n=23}if(A>23){A=0}if(n>23){n=23}l=n-A+1}var u=60;var o=2;if(w){switch(w){case"sixtyMinutes":case"hour":o=1;break;case"thirtyMinutes":case"halfHour":o=2;break;case"fifteenMinutes":case"quarterHour":o=4;break;case"tenMinutes":o=6;break;case"fiveMinutes":o=12;break}}var f=new Array();var h="auto";if(S.timeRuler&&S.timeRuler.formatString){h=S.timeRuler.formatString}var B=A;var t=l;var d=z.addHours(B);var e="auto";if(S.columnWidth){e=o*S.columnWidth}else{e=o*80}for(var s=0;s<t;s++){var C=d.toDate();if(h==="auto"){if((C.getHours()==0&&C.getMinutes()==0)||(C.getHours()==12&&C.getMinutes()==0)){var v="hh tt"}else{var v="hh:mm"}}else{if(c.isFunction(h)){var v=h(C)}}if(c.jqx.dataFormat.isDate(C)){C=c.jqx.dataFormat.formatdate(C,v,V.schedulerLocalization)}d=d.addMinutes(u,false);V.columns.push({columnGroup:q,text:C,width:e})}};for(var E=0;E<this.tableColumns;E++){if(this.tableColumns>1){var X=V._resources[E]?V._resources[E]:"Resource"+E;M.push({text:X,name:X})}var F="left";if(this.rtl){F="right"}switch(P){case"dayView":var W=this.getViewStart();if(false===S.showWeekends){if(W.dayOfWeek()===0||W.dayOfWeek()===6){W=W.addDays(1)}if(W.dayOfWeek()===0||W.dayOfWeek()===6){W=W.addDays(1)}}var G="auto";if(S&&S.columnWidth){G=S.columnWidth}var X=V._resources[E]?V._resources[E]:"Resource"+E;this.columns.push({align:F,width:G,columnGroup:X,text:this._getDayName(W.dayOfWeek())});break;case"weekView":case"monthView":for(var a=0;a<7;a++){var D=this.schedulerLocalization.firstDay+a;if(false===S.showWeekends){if(a===0||a===6){continue}}var G="auto";if(S&&S.columnWidth){G=S.columnWidth}var X=V._resources[E]?V._resources[E]:"Resource"+E;this.columns.push({align:P=="weekView"?F:"center",width:G,columnGroup:X,text:this._getDayName(D)})}break;case"timelineDayView":var X=V._resources[E]?V._resources[E]:"Resource"+E;N(V.getViewStart(),X);break;case"timelineWeekView":for(var a=0;a<7;a++){var D=this.schedulerLocalization.firstDay+a;if(false===S.showWeekends){if(a===0||a===6){continue}}var X=V._resources[E]?V._resources[E]:"Resource"+E;M.push({align:V.rtl?"right":"left",parentGroup:X,name:this._getDayName(D)+E,text:this._getDayName(D)});N(V.getViewStart().addDays(a),this._getDayName(D)+E)}break;case"timelineMonthView":var U=V.getViewStart();var O="auto";if(S.timeRuler&&S.timeRuler.formatString){O=S.timeRuler.formatString}for(var a=0;a<41;a++){var D=U.dayOfWeek();if(false===S.showWeekends){if(D===0||D===6){continue}}var G="auto";if(S.columnWidth){G=S.columnWidth}else{G=100}var L=U.toDate();if(O==="auto"){var aa="dd";L=U.toDate();if(L.getDate()===1){aa="MMM dd"}}else{if(c.isFunction(O)){var aa=O(L)}}if(c.jqx.dataFormat.isDate(L)){L=c.jqx.dataFormat.formatdate(L,aa,V.schedulerLocalization)}U=U.addDays(1);var X=V._resources[E]?V._resources[E]:"Resource"+E;V.columns.push({columnGroup:X,text:L,width:G})}break;case"agendaView":var T=S.dateColumnWidth;var H=S.timeColumnWidth;var Q=S.appointmentColumnWidth;if(!Q){Q="70%"}if(!H){H="auto"}if(!T){T="auto"}V.columns.push({text:V.schedulerLocalization.agendaDateColumn,width:T});V.columns.push({text:V.schedulerLocalization.agendaTimeColumn,width:H});V.columns.push({text:V.schedulerLocalization.agendaAppointmentColumn,width:Q});break}}if(M.length>0){this.columnGroups=M}var V=this;var J=new c.jqx.schedulerDataCollection(this.element);var Z=0;this._columns=this.columns;var K="left";var Y=new c.jqx.scheduler.column(V,this);Y.visibleindex=Z++;Y.text="";Y.width=V.timeRulerWidth;Y.editable=false;Y.timeColumn=true;K="left";Y.text="";Y.hidden=false;Y.width=V.timeRulerWidth;var ab=false;if(S.timeRuler&&(P==="dayView"||P==="weekView")){Y._text=S.timeRuler.text||"";K=S.timeRuler.position||"left";Y.hidden=S.timeRuler.hidden||false;Y.width=S.timeRuler.width||V.timeRulerWidth;if(S.timeRuler.timeZones){ab=true}}else{if(P!=="dayView"&&P!=="weekView"){Y.hidden=true}}var R=function(e){var d=new c.jqx.scheduler.column(V,V);d.visibleindex=Z++;d.text="";d.width=V.timeRulerWidth;d.editable=false;d.timeColumn=true;K="left";d.text="";d.hidden=false;d.timeZone=S.timeRuler.timeZones[e].id;d.width=V.timeRulerWidth;if(S.timeRuler&&(P==="dayView"||P==="weekView")){d._text=S.timeRuler.timeZones[a].text||"";d.hidden=S.timeRuler.hidden||false;d.width=S.timeRuler.width||V.timeRulerWidth;J.add(d)}};if(K==="left"&&(P==="dayView"||P==="weekView")){if(S.timeRuler&&S.timeRuler.timeZones){for(var a=0;a<S.timeRuler.timeZones.length;a++){R(a)}}J.add(Y)}if(K==="left"&&P==="monthView"&&S.showWeekNumbers){Y.hidden=false;J.add(Y)}var I=new Array();c.each(this.columns,function(e){if(V.columns[e]!=undefined){var d=new c.jqx.scheduler.column(V,this);d.visibleindex=Z++;J.add(d)}});if(K==="right"&&(P==="dayView"||P==="weekView")){if(S.timeRuler){for(var a=0;a<S.timeRuler.timeZones.length;a++){R(a)}}J.add(Y)}if(K==="right"&&P==="monthView"&&S.showWeekNumbers){Y.hidden=false;J.add(Y)}if(this.rtl){J.records.reverse()}this.columns=J},_getColumnsLengthPerView:function(){var a=this._views[this._view].type;var e=this._views[this._view];var f=1;switch(a){case"dayView":f=1;break;case"weekView":if(e.showWeekends!==false){f=7}else{f=5}break;case"monthView":if(e.showWeekends!==false){f=7}else{f=5}break;case"timelineDayView":case"timelineWeekView":case"timelineMonthView":f=this.columns.records.length;break;case"agendaView":f=this.columns.records.length;break}return f},_renderagenda:function(){var bh=this;var bv=bh._views[bh._view].type;var bi=bh._views[bh._view];var aX=bh.getViewStart();var a8=c.jqx.scheduler.utilities.getEndOfDay(bh.getViewEnd());bh._prepareAppointmentsInView(aX,a8);var aJ=bh.appointmentsToRender.length;var aW=new Array();var a1=0;for(var aI=0;aI<bh.appointmentsToRender.length;aI++){var bo=bh.appointmentsToRender[aI];var aG=bo.from.clearTime();while(aG<c.jqx.scheduler.utilities.getEndOfDay(bo.to)){var bz=aG.toString();if(!aW[bz]){aW[bz]={date:aG,appointments:new Array()};aW[bz].appointments.push(bo);aW[aW.length]=aW[bz];a1++}else{aW[bz].appointments.push(bo);a1++}aG=aG.addDays(1).clearTime()}}var aP=0;var aR=0;bh.rows=new Array();var aD=c.jqx.browser.msie&&c.jqx.browser.version<8;var a7=0;var aA=0;var aO=bh.rtl?" "+bh.toTP("jqx-grid-table-rtl"):"";var a=0;var bl="<table cellspacing='0' cellpadding='0' class='"+bh.toTP("jqx-grid-table")+aO+"' id='table"+bh.element.id+"'><colgroup>";var a5=bh.columns.records.length;for(var aN=0;aN<a5;aN++){var ay=bh.columns.records[aN];if(ay.hidden){a7++;nonHiddenColumns--;continue}var bA=ay.width;if(bA<ay.minwidth){bA=ay.minwidth}if(bA>ay.maxwidth){bA=ay.maxwidth}bA-=aA;if(bA<0){bA=0}if(aD){var bb=bA;if(aN==a7){bb++}bl+="<col style='max-width: "+bb+"px; width: "+bb+"px;'>"}else{bl+="<col style='max-width: "+bA+"px; width: "+bA+"px;'>"}a+=bA}bl+="</colgroup>";if(aJ==0){var bt='<tr role="row">';var bx=this.host.height();var aE=0;if(!bh.columnGroups){aE+=bh.showHeader?bh.columnsHeight:0}else{aE+=bh.showHeader?bh.columnsheader.height():0}if(bh.showToolbar){aE+=bh.toolbarHeight}if(bh.showLegend&&bh._resources.length>0){aE+=bh.legendHeight}bx-=aE;var by='<td colspan="'+this.columns.records.length+'" role="gridcell" style="border: none; min-height: '+bx+"px; height: "+bx+"px; max-width:"+a+"px; width:"+a+"px;";var a9=this.toTP("jqx-cell")+" "+this.toTP("jqx-grid-cell")+" "+this.toTP("jqx-item");a9+=" "+this.toTP("jqx-center-align");by+='" class="'+a9+'">';by+=this.schedulerLocalization.emptyDataString;by+="</td>";bt+=by;bt+="</tr>";bl+=bt;this.table[0].style.width=a+2+"px";aR=a}var bu=bh.rowsHeight;if(bh.isTouchDevice()){rowsHeight=bh.touchRowsHeight}for(var aI=0;aI<aW.length;aI++){var a3=aI;var aG=aW[aI];for(var a2=0;a2<aG.appointments.length;a2++){var bs=0;var bt='<tr data-key="'+a3+'" role="row">';aP=0;var bm=aG.appointments[a2];for(var aN=0;aN<a5;aN++){var a4=bh.columns.records[aN];var aQ=aN;if(bh.rtl){aQ=a5-1-aN}var bA=a4.width;if(bA<a4.minwidth){bA=a4.minwidth}if(bA>a4.maxwidth){bA=a4.maxwidth}bA-=aA;if(bA<0){bA=0}var a9=bh.toTP("jqx-cell")+" "+bh.toTP("jqx-grid-cell")+" "+bh.toTP("jqx-item");if(bh.rtl){a9+=" "+bh.toTP("jqx-cell-rtl")}var aZ="";var a3=bh.dataview.generatekey();var bn=-1;var bw=aG.date;var bx=bu+"px";var by='<td data-key="'+a3+'" data-view="'+(bn)+'" data-date="'+bw.toString()+'" role="gridcell" '+aZ+' style="max-width:'+bA+"px; width:"+bA+"px; height: "+bx+"; min-height: "+bu+"px;";if(aQ==0&&a2==0){var aT=aG.appointments.length;var by='<td rowspan="'+aT+'" data-key="'+a3+'" data-view="'+(bn)+'" data-date="'+bw.toString()+'" role="gridcell" '+aZ+' style="max-width:'+bA+"px; width:"+bA+"px;  min-height: "+bu+"px;";a9+=" "+bh.toTP("jqx-center-align")}else{if(aQ==0){aP++;continue}}if(bh.rtl&&aQ==1){a9+=" "+bh.toTP("jqx-right-align")}if(!(a4.hidden)){bs+=aA+bA;if(aP==0&&!bh.rtl){by+="border-left-width: 0px;"}else{by+="border-left-width: 1px;"}aP++}else{by+="display: none;";bh._hiddencolumns=true}by+='" class="'+a9+'">';var aS="";if(aQ==0&&a2==0){var ba=bw.toString("dddd",bh.schedulerLocalization);var aV=bw.toString("MMMM, yyyy",bh.schedulerLocalization);var aL=bh.toTP("jqx-scheduler-agenda-date");var bq=bh.toTP("jqx-scheduler-agenda-day");var br=bh.toTP("jqx-scheduler-agenda-week");aS='<div class="'+aL+'"><strong class="'+bq+'">'+bw.day()+'</strong><br/><em class="'+br+'">'+ba+'</em><br/><span class="'+aL+'">'+aV+"</span></div>"}if(aQ==1){var aK="auto";var bi=this._views[this._view];var bj=bm.from;var w=bm.to;if(bi.timeRuler&&bi.timeRuler.formatString){aK=bi.timeRuler.formatString}var bd=aK;var a0=aK;if(aK==="auto"){if((bj.hour()==0&&bj.minute()==0)||(bj.hour()==12&&bj.minute()==0)){var bd="hh tt"}else{var bd="hh:mm"}if((w.hour()==0&&w.minute()==0)||(w.hour()==12&&w.minute()==0)){var a0="hh tt"}else{var a0="hh:mm"}}var aL=bh.toTP("jqx-scheduler-agenda-time");if(bm.allDay){aS="<span class='"+aL+"'>"+bh.schedulerLocalization.agendaAllDayString+"</span>"}else{if(!bh.rtl){aS="<span class='"+aL+"'>"+bj.toString(bd,bh.schedulerLocalization)+" - "+w.toString(a0,bh.schedulerLocalization)+"</span>"}else{aS="<span class='"+aL+"'>"+w.toString(a0,bh.schedulerLocalization)+" - "+bj.toString(bd,bh.schedulerLocalization)+"</span>"}}}else{if(aQ==2){if(bm.resourceId){c.each(bh._resources,function(n,d){if(bm.resourceId==d){var l=bh.getColors(n);var f=this.toString();var e=bh.toTP("jqx-scheduler-agenda-appointment-resource jqx-scheduler-legend");if(bh.rtl){var e=bh.toTP("jqx-scheduler-agenda-appointment-resource-rtl jqx-scheduler-legend")}var h="<div class='"+e+"' style='margin-right: 5px; border-color: "+l.border+"; background: "+l.background+";' class='"+bh.toThemeProperty("jqx-scheduler-legend")+"'></div>";aS=h}})}var az=bm.subject?bm.subject:"(No Title)";var bc=bm.location;var bk=bm.description;var aF=bm.status?bh.schedulerLocalization.editDialogStatuses[bm.status]:"";var bB=bm.isRecurrentAppointment();var bf=bm.isException();var t=""+bh.schedulerLocalization.editDialogSubjectString+": "+az+"";if(bc){t+="\n"+bh.schedulerLocalization.editDialogLocationString+": "+bc+""}if(bk){t+="\n"+bh.schedulerLocalization.editDialogDescriptionString+": "+bk+""}if(aF){t+="\n"+bh.schedulerLocalization.editDialogStatusString+": "+aF+""}if(bB){t+="\n"+bh.schedulerLocalization.editDialogRepeatString+": "+bB+""}var aL=bh.toTP("jqx-scheduler-agenda-appointment jqx-scheduler-legend-label");if(bh.rtl){var aL=bh.toTP("jqx-scheduler-agenda-appointment-rtl jqx-scheduler-legend-label")}aS+="<span title='"+t+"' class='"+aL+"'>"+az+"</span>"}}by+=aS;by+="</td>";bt+=by}if(aR==0){bh.table[0].style.width=bs+2+"px";bh.pinnedtable[0].style.width=bs+2+"px";aR=bs}bt+="</tr>";bl+=bt}}bl+="</table>";bh.table[0].innerHTML=bl;bh.pinnedtable[0].innerHTML=bl;bh.pinnedtable[0].style.display="none";var a6=c(bh.table[0].firstChild);var aC=c(bh.pinnedtable[0].firstChild);bh._table=a6;bh._pinnedtable=aC;if(c.jqx.browser.msie&&c.jqx.browser.version<10){bh._table[0].style.width=aR+"px";bh._pinnedtable[0].style.width=aR+"px"}if(aJ===0){bh._table[0].style.width=(2+aR)+"px";bh._pinnedtable[0].style.width=(2+aR)+"px";bh._pinnedtable[0].style.display="none"}bh._pinnedtable[0].style.display="none";bh._table.addClass("jqx-grid-table-one-cell jqx-disableselect");bh.table[0].rows=bh.table[0].firstChild.rows;bh.rowByCell=new Array();bh.columnCells=new Array();function bp(){var d={};d.cells=new Array();d.indexOf=function(e){for(var f=0;f<d.cells.length;f++){if(d.cells[f].getAttribute("data-key")==e.getAttribute("data-key")){return f}}return -1};return d}bh.cellWidth=0;bh.cellHeight=0;var aU=bh.table[0].rows.length;for(var aI=0;aI<aU;aI++){var aY=bh.table[0].rows[aI];if(aY.getAttribute("data-group-row")){continue}var bg=new bp();bg.aboveRow=null;bg.belowRow=null;if(bh.rows.length>0){bg.aboveRow=bh.rows[bh.rows.length-1];bh.rows[bh.rows.length-1].belowRow=bg}bg.element=aY;bh.rows.push(bg);var aH=false;for(var aN=0;aN<aY.cells.length;aN++){if(aY.cells.length<bh.columns.records.length&&!aH){var be=aI;while(be>=0){var aB=bh.table[0].rows[be];if(bh.table[0].rows[be].cells.length==bh.columns.records.length){var aM=aB.cells[0];if(!bh.columnCells[bg.cells.length]){bh.columnCells[bg.cells.length]=new Array()}bh.columnCells[bg.cells.length].push(aM);if(bh.cellWidth==0){bh.cellWidth=aM.clientWidth}if(bh.cellHeight==0&&(aU==1||aI>1)){bh.cellHeight=aM.clientHeight}bg.cells.push(aM);aH=true;break}be--}}var aM=aY.cells[aN];if(aM.style.display==="none"){continue}if(aM.className.indexOf("jqx-grid-cell-pinned")>=0){continue}if(!bh.columnCells[bg.cells.length]){bh.columnCells[bg.cells.length]=new Array()}bh.columnCells[bg.cells.length].push(aM);if(bh.cellWidth==0){bh.cellWidth=aM.clientWidth}if(bh.cellHeight==0&&(aU==1||aI>1)){bh.cellHeight=aM.clientHeight}bg.cells.push(aM);bh.rowByCell[aM.getAttribute("data-key")]=bg}}if(aJ===0){bh._table[0].style.tableLayout="auto"}bh._updateScrollbars(bh.host.height());bh._arrange();if(bh.rendered){bh.rendered()}bh.renderedTime=new Date()},_renderrows:function(){var bo=this;if(bo._loading){return}if(bo._updating||bo._appupdating){return}if(bo.rendering){bo.rendering()}var bo=this;var cu=bo._views[bo._view].type;var bG=bo._views[bo._view];if(cu=="agendaView"){bo._renderagenda();return}var bC=1;var bi=bo.getViewStart();var cm=c.jqx.scheduler.utilities.getEndOfDay(bo.getViewEnd());bo._prepareAppointmentsInView(bi,cm);var bw=new Array();if(cu==="weekView"||cu==="dayView"){var bC=bo.getMaxAllDayAppointments(bo.appointmentsToRender)}else{if(cu==="monthView"&&bG.monthRowAutoHeight&&bo.rows&&bo.rows.length==6){bw=bo._getMonthAppointmentsPerWeek()}}var b8=bo.tableRows>1?bo.tableRows:0;var co="halfHour";var bP=null;var cj;if(bG.rowHeight){bP=bG.rowHeight}if(bG&&bG.allDayRowHeight){cj=bG.allDayRowHeight}if(bG.timeRuler&&bG.timeRuler.scale){co=bG.timeRuler.scale}var cn=0;bo.table[0].rows=new Array();bo.rows=new Array();var cz=bo.toTP("jqx-cell")+" "+bo.toTP("jqx-widget-content");if(bo.rtl){cz+=" "+bo.toTP("jqx-cell-rtl")}var bj=bo.columns.records.length;var bK=bo._getColumnsLengthPerView();var bn=c.jqx.browser.msie&&c.jqx.browser.version<8;if(bn){bo.host.attr("hideFocus","true")}bo._lastSelectedCell=null;bo.focusedCell=null;var bJ=new Array();var cw=bo.source.records;cw=bo.dataview.evaluate(cw);bo.dataViewRecords=cw;bo.cells=new Array();var bJ=bo.dataViewRecords;bo.renderedRecords=bo.getRows();var ca=bo.tableZIndex;var b0=bo.getRows().length;var a9=0;var cs=0;if(bn){for(var bm=0;bm<bj;bm++){var b6=bo.columns.records[bm];var cp=b6.width;if(cp<b6.minwidth){cp=b6.minwidth}if(cp>b6.maxwidth){cp=b6.maxwidth}var cq=c('<table><tr><td role="gridcell" style="max-width: '+cp+"px; width:"+cp+'px;" class="'+cz+'"></td></tr></table>');c(document.body).append(cq);var bO=cq.find("td");a9=1+parseInt(bO.css("padding-left"))+parseInt(bO.css("padding-right"));cq.remove();break}}var bz=bo.rtl?" "+bo.toTP("jqx-grid-table-rtl"):"";var bE="<table cellspacing='0' cellpadding='0' class='"+bo.toTP("jqx-grid-table")+bz+"' id='table"+bo.element.id+"'><colgroup>";var cb=0;var cA=bj;var ch=2;var bV=30;switch(co){case"sixtyMinutes":case"hour":bV=60;ch=1;break;case"thirtyMinutes":case"halfHour":bV=30;ch=2;break;case"fifteenMinutes":case"quarterHour":bV=15;ch=4;break;case"tenMinutes":bV=10;ch=6;break;case"fiveMinutes":bV=5;ch=12;break}var cB=1;if(cu==="timelineDayView"||cu==="timelineWeekView"){bj=ch*bj;cB=ch;bK=bj/bo.tableColumns}else{if(cu==="timelineMonthView"){bK=bj/bo.tableColumns}else{if(cu==="monthView"){if(bG.showWeekNumbers){bK=(bj-bo.tableColumns)/bo.tableColumns}else{bK=bj/bo.tableColumns}}}}var bf=function(d){var e=bo.columns.records[d];if(e){return e}while(d>=bo.columns.records.length){d-=bo.columns.records.length}var e=bo.columns.records[d];return e};for(var bm=0;bm<bj;bm++){var b6=bf(bm);if(b6.hidden){cb++;cA--;continue}var cp=b6.width/cB;if(cp<b6.minwidth){cp=b6.minwidth/cB}if(cp>b6.maxwidth){cp=b6.maxwidth/cB}cp-=a9;if(cp<0){cp=0}if(cu=="monthView"&&bo.rtl&&b6.timeColumn){cp++}if(bn){var bu=cp;if(bm==cb){bu++}bE+="<col style='max-width: "+bu+"px; width: "+bu+"px;'>"}else{bE+="<col style='max-width: "+cp+"px; width: "+cp+"px;'>"}cs+=cp}bE+="</colgroup>";bo._hiddencolumns=false;if(b0===0){var a5='<tr role="row">';var q=bo.host.height();if(bo.pageable){q-=bo.pagerHeight;if(bo.pagerPosition==="both"){q-=bo.pagerHeight}}q-=bo.columnsHeight;if(bo.showLegend&&bo._resources.length>0){q-=bo.legendHeight}if(q<25){q=25}if(bo.hScrollBar[0].style.visibility!="hidden"){q-=bo.hScrollBar.outerHeight()}if(bo.height==="auto"||bo.height===null||bo.autoheight){q=300}var cq='<td colspan="'+bo.columns.records.length+'" role="gridcell" style="border: none; min-height: '+q+"px; height: "+q+"px; max-width:"+cs+"px; width:"+cs+"px;";var cz=bo.toTP("jqx-cell")+" "+bo.toTP("jqx-grid-cell")+" "+bo.toTP("jqx-item");if(bo.rtl){cz+=" "+bo.toTP("jqx-cell-rtl")}cz+=" "+bo.toTP("jqx-center-align");cq+='" class="'+cz+'">';cq+=bo.schedulerLocalization.emptyDataString;cq+="</td>";a5+=cq;bE+=a5;bo.table[0].style.width=cs+2+"px";cn=cs}var bM=bo.getRows();var bi=bo.getViewStart();var q=bo._hostHeight?bo._hostHeight:bo.host.height();var cC=0;if(!bo.columnGroups){cC+=bo.showHeader?bo.columnsHeight:0}else{cC+=bo.showHeader?bo.columnsheader.height():0}if(bo.showToolbar){cC+=bo.toolbarHeight}if(bo.showLegend&&bo._resources.length>0){cC+=bo.legendHeight}var bg=bo.showAllDayRow;var bb=23;if(bG.resourceHeaderRowHeight){bb=bG.resourcesRowHeight}bb+=2;if(bG.showAllDayRow!=undefined){bg=bG.showAllDayRow}var be=bo._columnswidth>bo._hostWidth;var bX=be?(3+bo.scrollBarSize):0;var b2=bo.tableRows>1?bo.resources.unitsInView:1;if(b2==undefined){b2=bo._resources.length}if(bo.resources&&bo.resources.resourceRowHeight){bP=bo.resources.resourceRowHeight}if(bP==null||bP=="auto"){var a8=bo.rowsHeight;var bT=3*a8;if(bo.isTouchDevice()){a8=bo.touchRowsHeight;var bT=22+a8}if(bo.tableRows==1){bP=q>0?(q-cC):a8;if(bo.columns.records.length>10){bP=q>0?(q-bo.scrollBarSize-5-cC):a8}}else{bP=q>0?(q-cC-bb)/(b0):a8;if(bo.columns.records.length>10){bP=q>0?(q-bo.scrollBarSize-5-cC-b2*bb)/(b2*b0):a8}}if(cu==="dayView"||cu==="weekView"){if(bg){if(cj==null||cj=="auto"){bP=q>0?(q-cC)/(bo.tableRows*(b0)):bT;cj=bP}else{bP=q>0?(q-cC-cj-b2*bb)/(b2*(b0-1)):a8}}}else{if(cu==="monthView"){if(bo.hScrollBar[0].style.visibility=="hidden"){bX=0}if(bo.tableRows==1){bP=q>0?(q-cC-bX)/b0:a8}else{bP=q>0?(q-cC-bb-bX)/(b0):a8}}}bP=Math.max(a8,bP);if(!cj){cj=bT}cj=Math.max(bT,cj);bo._allDayRowHeight=cj;bo._defaultRowHeight=a8;cj=bC*(a8-2);cj=Math.max(bT,17+cj);bo._allDayRowFullHeight=cj;if(bG.allDayRowHeight){bo._allDayRowHeight=bG.allDayRowHeight;cj=bC*(bG.allDayRowHeight-2);bo._allDayRowFullHeight=cj}}var cx=new Array();if(bo.resources&&bo.resources.colorScheme){for(var bU=0;bU<bo.colorSchemes.length;bU++){if(bo.colorSchemes[bU].name==bo.resources.colorScheme){cx=bo.colorSchemes[bU].colors;break}}while(bo._resources.length>cx.length-1){var cd=parseInt(bo.resources.colorScheme.substring(6));if(cd>=27){cd=0}cx=cx.concat(bo.colorSchemes[cd].colors);cd++}}for(var cv=0;cv<bo.tableRows;cv++){var bS=0;var br=0;var bh=23;if(bG.timeRuler&&bG.timeRuler.scaleStartHour!=undefined){var br=parseInt(bG.timeRuler.scaleStartHour)}if(bG.timeRuler&&bG.timeRuler.scaleEndHour!=undefined){var bh=parseInt(bG.timeRuler.scaleEndHour)}var bQ=bi;if(false===bG.showWeekends){if(bQ.dayOfWeek()==0||bQ.dayOfWeek()==6){bQ=bQ.addDays(1)}}var bR=new Array();var bd=cu!="monthView"&&cu!="timelineDayView"&&cu!="timelineWeekView"&&cu!="timelineMonthView"&&bg?1:0;if(bo.tableRows>1){var a5='<tr data-group-row="true" role="row">';var cz=bo.toTP("jqx-cell")+" "+bo.toTP("jqx-grid-cell")+" "+bo.toTP("jqx-item");if(bo.rtl){cz+=" "+bo.toTP("jqx-cell-rtl")}if(!bn){cz+=" "+bo.toTP("jqx-grid-cell-pinned");bk+=' colspan="'+bj+'"';var bu=0;for(var bt=0;bt<bj;bt++){var b7=bf(bt);var bY=b7.width/cB;if(bY<b7.minwidth){cp=b7.minwidth/cB}if(bY>b7.maxwidth){cp=b7.maxwidth/cB}bY-=a9;if(bY<0){bY=0}if(!b7.hidden){bu+=bY}}cp=bu}else{cz+=" "+bo.toTP("jqx-grid-cell-pinned")}var cq='<td style="height:'+bb+"px;";if(bm==bj-1&&bj==1&&!bo.rtl){cq+="border-right-color: transparent;"}if(bo._resources.length>0&&bo.resources.colorScheme&&bo.resources.orientation!="none"){var cl="";var t="";var bL="";var by=function(e){var h=105;var d=(e.r*0.299)+(e.g*0.587)+(e.b*0.114);var f=(255-d<h)?"Black":"White";return f};cl=cx[cv];cl=bo.hexToRgba(cx[cv],0.7).toString();bL=by(bo.hexToRgba(cx[cv],0.7));t=cx[cv];cq+="background: "+cl+";";cq+="border-color: "+t+";";cq+="color: "+bL+";"}cq+='" class="'+cz+'" role="gridcell" '+bk+"";var cc=bo._resources[cv];cq+=">"+cc;cq+="</td>";a5+=cq;bE+=a5}for(var bl=0;bl<b0;bl++){var cr={};var bW=bl;cr.uid=bW;var a5='<tr data-key="'+bW+'" role="row">';var b5=0;var w=0;if(bR[0]&&bl>bd){var bV=30;if(cu!="monthView"){switch(co){case"sixtyMinutes":case"hour":bV=60;break;case"thirtyMinutes":case"halfHour":bV=30;break;case"fifteenMinutes":case"quarterHour":bV=15;break;case"tenMinutes":bV=10;break;case"fiveMinutes":bV=5;break}for(var bq=0;bq<bj;bq++){bR[bq]=bR[bq].addMinutes(bV,false)}}else{for(var bq=0;bq<bj;bq++){bR[bq]=bR[bq].addDays(7,false)}}}var bF=0;var b4=1;var bZ=0;if(bG.showWeekends||bG.showWeekends==undefined){bZ=(bo.columns.records.length)/(7*bo.tableColumns);bZ*=ch}else{bZ=(bo.columns.records.length)/(5*bo.tableColumns);bZ*=ch}var bI=0;if(bo.rtl){bI=1}var cf=0;for(var bm=0;bm<bj;bm++){var bs=bf(bm);if(bF>=bK){bF=0;cf=0;bI=0;if(bo.rtl){bI=1}b4++}if(!bR[bm]){if(!bo.rtl){if(cu.toString().indexOf("timelineDayView")>=0){var bB=bm;bR[bm]=bQ.addHours(br).addMinutes(bB*bV,false)}else{if(cu.toString().indexOf("timelineWeekView")>=0){bR[bm]=bQ.addDays(cf).addHours(br,false).addMinutes(bI*bV,false)}else{bR[bm]=bQ.addDays(bF).addHours(br,false)}}if(bo.timeZone){bR[bm].timeZone=bo.timeZone}}else{if(cu.toString().indexOf("timelineDayView")>=0){var bB=1+bm;bR[bm]=bQ.addHours(1+bh).addMinutes(-bB*bV,false)}else{if(cu.toString().indexOf("timelineWeekView")>=0){if(bG.showWeekends||bG.showWeekends==undefined){bR[bm]=bQ.addDays(6-cf).addHours(1+bh,false).addMinutes(-bI*bV,false)}else{bR[bm]=bQ.addDays(4-cf).addHours(1+bh,false).addMinutes(-bI*bV,false)}}else{if(cu=="dayView"||cu=="monthView"||cu=="weekView"){if(bG.showWeekends||bG.showWeekends==undefined){bR[bm]=bQ.addDays(6-bF).addHours(br,false)}else{bR[bm]=bQ.addDays(4-bF).addHours(br,false)}}else{bR[bm]=bQ.addDays(bK-bF-1).addHours(br,false)}}}if(bo.timeZone){bR[bm].timeZone=bo.timeZone}}}bI++;if(bI>=bZ){bI=0;cf++}if(!bs.timeColumn&&(cu==="dayView"||cu==="weekView")){bF++}else{if(!bs.timeColumn&&(cu==="monthView"&&bG.showWeekNumbers)){bF++}else{if((cu==="monthView"&&!(bG.showWeekNumbers))||cu==="timelineMonthView"){bF++}else{if(cu=="timelineDayView"||cu=="timelineWeekView"){bF++}}}}var bN=bR[bm];var cp=bs.width/cB;if(cp<bs.minwidth){cp=bs.minwidth/cB}if(cp>bs.maxwidth){cp=bs.maxwidth/cB}cp-=a9;if(cp<0){cp=0}var cz=bo.toTP("jqx-cell")+" "+bo.toTP("jqx-grid-cell")+" "+bo.toTP("jqx-item");if(bs.pinned){cz+=" "+bo.toTP("jqx-grid-cell-pinned")}if(bo.sortcolumn===bs.displayfield){cz+=" "+bo.toTP("jqx-grid-cell-sort")}if(bo.altRows&&bl%2!=0){cz+=" "+bo.toTP("jqx-grid-cell-alt")}if(bl==0&&bg&&(cu==="dayView"||cu==="weekView")){cz+=" "+bo.toTP("jqx-grid-cell-alt")}if(bN>bo.max||bN<bo.min){cz+=" "+bo.toTP("jqx-scheduler-disabled-cell")}if(bo.rtl){cz+=" "+bo.toTP("jqx-cell-rtl")}var bk="";var bW=bo.dataview.generatekey();var ct=cv+b4;if(bo.resources&&bo.resources.orientation=="none"){ct=-1}if(bo._resources.length==0){ct=-1}var cq='<td data-key="'+bW+'" data-view="'+(ct)+'" data-date="'+bN.toString()+'" role="gridcell" '+bk+' style="max-width:'+cp+"px; width:"+cp+"px;  height:"+bP+"px;";if(bl==0&&bg&&(cu==="dayView"||cu==="weekView")){var cq='<td  data-key="'+bW+'" data-view="'+(ct)+'" data-end-date="'+c.jqx.scheduler.utilities.getEndOfDay(bN).toString()+'" data-date="'+bN.clearTime().toString()+'" role="gridcell" '+bk+' style="max-width:'+cp+"px; width:"+cp+"px; height:"+cj+"px;"}if(cu=="monthView"&&bG.monthRowAutoHeight&&bw.length>0){if(bw[bl]&&bw[bl]!="auto"){if(bP<bw[bl]){var cq='<td data-key="'+bW+'" data-view="'+(ct)+'" data-date="'+bN.toString()+'" role="gridcell" '+bk+' style="max-width:'+cp+"px; width:"+cp+"px;  height:"+bw[bl]+"px;"}}}if(bo.resources&&bo._resources.length>0&&bo.resources.colorScheme&&bo.resources.orientation!=="none"){var cl="";var t="";cl=cx[cv+b4-1];if(!(bl==0&&bg&&(cu==="dayView"||cu==="weekView"))){cl=bo.hexToRgba(cx[cv+b4-1],0.3).toString()}else{cl=bo.shadeColor(cx[cv+b4-1],0.3).toString()}if(!(bl==0&&bg&&(cu==="dayView"||cu==="weekView"))){if(cu.indexOf("month")==-1){if(!bs.timeColumn){if(bG.showWorkTime!==false){var bv=1;var bA=5;var bD=8;var bc=18;if(bG.workTime){var bv=bG.workTime.fromDayOfWeek?bG.workTime.fromDayOfWeek:0;var bA=bG.workTime.toDayOfWeek?bG.workTime.toDayOfWeek:0;var bD=bG.workTime.fromHour?bG.workTime.fromHour:8;var bc=bG.workTime.toHour?bG.workTime.toHour:8}if(bN.dayOfWeek()>=bv&&bN.dayOfWeek()<=bA){if(bN.hour()>=bD&&bN.hour()<bc){cl=bo.hexToRgba(cx[cv+b4-1],0.1).toString()}}}}}}t=cx[b4+cv-1];cq+="background: "+cl+";";cq+="border-color: "+t+";"}if(bm==bj-1&&bj==1&&!bo.rtl){cq+="border-right-color: transparent;"}if(bs.timeColumn&&!bs.hidden&&cu==="monthView"){var cz=bo.toTP("jqx-scheduler-time-column")+" "+bo.toTP("jqx-widget-header")+" "+bo.toTP("jqx-cell")+" "+bo.toTP("jqx-grid-cell")+" "+bo.toTP("jqx-item");cz+=" "+bo.toTP("jqx-scheduler-week-number-column");if(bo.tableRows>1){var cz=bo.toTP("jqx-cell")+" "+bo.toTP("jqx-grid-cell")+" "+bo.toTP("jqx-item")}if(bo.rtl){cz+=" "+bo.toTP("jqx-cell-rtl")}if(bN.minute()===0){var cq='<td classname="jqx-disableselect" data-time-slot="true" data-date="'+bN.toString()+'" role="gridcell" style="max-width:'+cp+"px; width:"+cp+"px;";if(bm==bj-1&&bj==1&&!bo.rtl){cq+="border-right-color: transparent;"}else{if(bo.rtl&&bm==0){cq+="border-left-color: transparent;"}}if(bm==bj-1&&bo.rtl){cq+="border-right-color: transparent;"}}else{w++;continue}}if(bs.timeColumn&&!bs.hidden&&(cu==="dayView"||cu==="weekView")){var cz=bo.toTP("jqx-scheduler-time-column")+" "+bo.toTP("jqx-widget-header")+" "+bo.toTP("jqx-cell")+" "+bo.toTP("jqx-grid-cell")+" "+bo.toTP("jqx-item");if(bo.tableRows>1){var cz=bo.toTP("jqx-cell")+" "+bo.toTP("jqx-grid-cell")+" "+bo.toTP("jqx-item")}if(bo.rtl){cz+=" "+bo.toTP("jqx-cell-rtl")}if(bl>0){if(bN.minute()===0){var cq='<td classname="jqx-disableselect" data-time-slot="true" data-date="'+bN.toString()+'" rowspan='+ch+' role="gridcell" '+bk+' style="max-width:'+cp+"px; width:"+cp+"px;";if(bm==bj-1&&bj==1&&!bo.rtl){cq+="border-right-color: transparent;"}else{if(bo.rtl&&bm==0){cq+="border-left-color: transparent;"}}}else{w++;continue}}else{if(bo.resources&&bo.resources.orientation=="none"){ct=-1}if(bl==0&&bg&&(cu==="dayView"||cu==="weekView")){var cq='<td data-view="'+(ct)+'" data-time-slot="true" data-end-date="'+c.jqx.scheduler.utilities.getEndOfDay(bN).toString()+'" data-date="'+bN.toString()+'" role="gridcell" '+bk+' style="max-width:'+cp+"px; width:"+cp+"px;"}if(bm==bj-1&&bj==1&&!bo.rtl){cq+="border-right-color: transparent;"}else{if(bm==0&&bj==1&&bo.rtl){cq+="border-right-color: transparent;"}}if(bo.rtl){cq+="border-left-width: 1px;"}if(bo.tableRows>1){cq+="background: "+cl+";";cq+="border-color: "+t+";"}}}else{if(bl>0){var ba="border-left-width: 1px;";if(bo.rtl&&bm==0&&cu=="monthView"&&bG.showWeekNumbers){ba="border-left-width: 0px;"}cq+=ba}}if(bs.cellsalign!="left"){if(bs.cellsalign==="right"){cz+=" "+bo.toTP("jqx-right-align")}else{cz+=" "+bo.toTP("jqx-center-align")}}if(!bs.timeColumn){if(bo.rowinfo[cr.uid]){if(bo.rowinfo[cr.uid].selected){if(bo.editKey!==cr.uid){if(bo.selectionMode!=="none"){cz+=" "+bo.toTP("jqx-grid-cell-selected");cz+=" "+bo.toTP("jqx-fill-state-pressed");cz+=" "+bo.toTP("jqx-scheduler-cell-selected")}}}}}if(!(bs.hidden)){b5+=a9+cp;if(w==0&&!bo.rtl){cq+="border-left-width: 0px;"}w++}else{cq+="display: none;";bo._hiddencolumns=true}if(!(bl==0&&bg&&(cu==="dayView"||cu==="weekView"))){if(cu.indexOf("month")==-1){cz+=" "+bo.toTP("jqx-grid-cell-nowrap");if(bl%2==1&&!bs.timeColumn){cz+=" "+bo.toTP("jqx-scheduler-middle-cell")}if(!bs.timeColumn){if(bG.showWorkTime!==false){var bv=1;var bA=5;var bD=8;var bc=18;if(bG.workTime){var bv=bG.workTime.fromDayOfWeek?bG.workTime.fromDayOfWeek:0;var bA=bG.workTime.toDayOfWeek?bG.workTime.toDayOfWeek:0;var bD=bG.workTime.fromHour?bG.workTime.fromHour:8;var bc=bG.workTime.toHour?bG.workTime.toHour:8}if(bN.dayOfWeek()>=bv&&bN.dayOfWeek()<=bA){if(bN.hour()>=bD&&bN.hour()<bc){cz+=" "+bo.toTP("jqx-scheduler-work-time-cell")}else{cz+=" "+bo.toTP("jqx-scheduler-not-work-time-cell")}}else{cz+=" "+bo.toTP("jqx-scheduler-not-work-time-cell")}}}}}var b1="";if(cu==="monthView"){if(!bo.touchDevice&&!bs.timeColumn){cz+=" "+bo.toTP("jqx-top-align")}var b3="dd";b1=bN.toDate();var a=bo.toTP("jqx-scheduler-month-outer-cell")+" ";var cy=bo.toTP("jqx-scheduler-month-weekend-cell");if(bo.date.month()==bN.month()){a=""}if(!bN.isWeekend()){cy=""}else{cz+=" "+cy}if(b1.getDate()===1){b3="MMM dd"}if(bo.touchDevice){if(bP>16){b1="<div class='"+a+bo.toTP("jqx-scheduler-month-cell-touch")+"'>"+c.jqx.dataFormat.formatdate(b1,b3,bo.schedulerLocalization)+"<span style='display: none; float: right; cursor: pointer; width:16px; height: 16px;' class='"+bo.toTP("jqx-icon-arrow-down")+"'></span></div>"}else{b1="<div class='"+a+bo.toTP("jqx-scheduler-month-cell-touch")+"'>"+c.jqx.dataFormat.formatdate(b1,b3,bo.schedulerLocalization)+"<span style='display: none; float: right; cursor: pointer;' class='"+bo.toTP("jqx-icon-arrow-down")+"'></span></div>"}}else{if(bP>16){b1="<div class='"+a+bo.toTP("jqx-scheduler-month-cell")+"'>"+c.jqx.dataFormat.formatdate(b1,b3,bo.schedulerLocalization)+"<span style='display: none; float: right; cursor: pointer; width:16px; height: 16px;' class='"+bo.toTP("jqx-icon-arrow-down")+"'></span></div>"}else{b1="<div class='"+a+bo.toTP("jqx-scheduler-month-cell")+"'>"+c.jqx.dataFormat.formatdate(b1,b3,bo.schedulerLocalization)+"<span style='display: none; float: right; cursor: pointer;' class='"+bo.toTP("jqx-icon-arrow-down")+"'></span></div>"}}}else{if(cu==="timelineWeekView"||cu==="timelineDayView"||cu==="timelineMonthView"){cz+=" "+bo.toTP("jqx-right-align jqx-bottom-align");b1="<span style='display: none; float: right; cursor: pointer; width:16px; height: 16px;' class='"+bo.toTP("jqx-icon-arrow-down")+"'></span>"}}if(bl==0&&bg&&(cu==="dayView"||cu==="weekView")&&!bs.timeColumn){cz+=" "+bo.toTP("jqx-top-align");cz+=" "+bo.toTP("jqx-scheduler-all-day-cell");if(bo.rtl){cz+=" "+bo.toTP("jqx-rtl")}b1=bN.toDate();b1="<span>"+c.jqx.dataFormat.formatdate(b1,"dd",bo.schedulerLocalization)+"</span>"}var a7=bs.cellsFormat;if(bs.timeColumn&&!bs.hidden){b1=bN.toDate();if(bs.timeZone){b1=bN.clone().toTimeZone(bs.timeZone);b1=b1.toDate()}var a6="auto";if(bG.timeRuler&&bG.timeRuler.formatString){a7=bG.timeRuler.formatString}else{if(!bs.timeColumn.format){if(b1.getHours()==0||b1.getHours()==12){a7="hh tt"}else{a7="hh:mm"}}}if(c.jqx.dataFormat.isDate(b1)){b1=c.jqx.dataFormat.formatdate(b1,a7,bo.schedulerLocalization)}if(bl<bd){if(!bo.rtl){cz+=" "+bo.toTP("jqx-scheduler-time-column-header-cell")}else{cz+=" "+bo.toTP("jqx-scheduler-time-column-header-cell-rtl")}b1=""}if(bl<bd){if(bs._text){cz+=" "+bo.toTP("jqx-bottom-align")}if(bG.timeRuler&&bG.timeRuler.timeZones&&bG.timeRuler.timeZones.length>0){if(bm<bG.timeRuler.timeZones.length){b1=bs._text}}}if(cu=="monthView"){b1=bN.weekOfYear(bo.schedulerLocalization.firstDay)}}else{if(a7!=""){if(c.jqx.dataFormat){if(c.jqx.dataFormat.isDate(b1)){b1=c.jqx.dataFormat.formatdate(b1,a7,bo.schedulerLocalization)}else{if(c.jqx.dataFormat.isNumber(b1)||(!isNaN(parseFloat(b1))&&isFinite(b1))){b1=c.jqx.dataFormat.formatnumber(b1,a7,bo.schedulerLocalization)}}}}}if(bs.cellclassname!=""&&bs.cellclassname){if(typeof bs.cellclassname=="string"){cz+=" "+bs.cellclassname}else{var b9=bs.cellclassname(bl,bs.datafield,b1,cr);if(b9){cz+=" "+b9}}}if(bs.cellsRenderer!=""&&bs.cellsRenderer){var cg=bM.indexOf(cr);b1=bs.cellsRenderer(cg,bs.datafield,b1,cr)}cq+='" class="'+cz+'">';cq+=b1;cq+="</td>";a5+=cq}if(cn==0){bo.table[0].style.width=b5+2+"px";bo.pinnedtable[0].style.width=b5+2+"px";cn=b5}a5+="</tr>";bE+=a5;if(!bo.rowinfo[cr.uid]){bo.rowinfo[cr.uid]={row:cr}}else{if(!("row" in bo.rowinfo[cr.uid])){bo.rowinfo[cr.uid].row=cr}}}}bE+="</table>";bo.table[0].innerHTML=bE;bo.pinnedtable[0].innerHTML=bE;bo.table[0].rows=bo.table[0].firstChild.rows;var ci=c.jqx.browser.msie&&c.jqx.browser.version<9;var ck=null;if(bg&&(cu==="dayView"||cu==="weekView")&&bo.tableRows==1){bo.pinnedtable[0].style.display="block";bo.pinnedtable[0].style.zIndex="400";bo.pinnedtable[0].style.position="absolute";bo.pinnedtable[0].style.top="0px";bo.pinnedtable[0].style.height=cj+"px";if(!ci){if(bo.tableRows==1){bo.oldRow=bo.table[0].rows[0];bo.table[0].rows[0]=bo.pinnedtable.find("tr")[0];ck=bo.pinnedtable.find("tr")[0];bo.pinnedTableRow=ck}else{bo.oldRow=bo.table[0].rows[1];bo.table[0].rows[1]=bo.pinnedtable.find("tr")[1];ck=bo.pinnedtable.find("tr")[1];bo.pinnedTableRow=ck}}}else{bo.pinnedtable[0].style.display="none"}var bt=c(bo.table[0].firstChild);var ce=c(bo.pinnedtable[0].firstChild);bo._table=bt;bo._pinnedtable=ce;if(c.jqx.browser.msie&&c.jqx.browser.version<10){bo._table[0].style.width=cn+"px";bo._pinnedtable[0].style.width=cn+"px"}if(b0===0){bo._table[0].style.width=(2+cn)+"px";bo._pinnedtable[0].style.width=(2+cn)+"px"}bo._table.addClass("jqx-grid-table-one-cell jqx-disableselect");bo._pinnedtable.addClass("jqx-grid-table-one-cell jqx-disableselect");bo.rowByCell=new Array();bo.columnCells=new Array();function bH(){var d={};d.cells=new Array();d.indexOf=function(e){for(var f=0;f<d.cells.length;f++){if(d.cells[f].getAttribute("data-key")==e.getAttribute("data-key")){return f}}return -1};return d}bo.cellWidth=0;bo.cellHeight=0;var bp=bo.table[0].rows.length;for(var bl=0;bl<bp;bl++){var a0=bo.table[0].rows[bl];if(bl==0&&ck){a0=ck}if(a0.getAttribute("data-group-row")){continue}var cr=new bH();cr.aboveRow=null;cr.belowRow=null;if(bo.rows.length>0){cr.aboveRow=bo.rows[bo.rows.length-1];bo.rows[bo.rows.length-1].belowRow=cr}cr.element=a0;bo.rows.push(cr);for(var bm=0;bm<a0.cells.length;bm++){var bx=a0.cells[bm];if(bx.getAttribute("data-time-slot")){continue}if(bx.style.display==="none"){continue}if(bx.className.indexOf("jqx-grid-cell-pinned")>=0){continue}if(!bo.columnCells[cr.cells.length]){bo.columnCells[cr.cells.length]=new Array()}bo.columnCells[cr.cells.length].push(bx);if(bo.cellWidth==0){bo.cellWidth=bx.clientWidth}if(bo.cellHeight==0&&(bp==1||bl>1)){bo.cellHeight=bx.clientHeight}if(bo._views[bo._view].type=="monthView"){if(cr.top==undefined){cr.top=parseInt(c(bx).position().top)}}cr.cells.push(bx);bo.rowByCell[bx.getAttribute("data-key")]=cr}}if(b0===0){bo._table[0].style.tableLayout="auto"}bo._renderAppointments(bi,cm);if(bo.pinnedtable[0].style.display!="none"||((cu=="dayView"||cu=="weekView")&&bo.tableRows>1)){bo._updateScrollbars(bo.host.height())}if(cu==="monthView"&&bG.monthRowAutoHeight){if(bw.length==0){bo._renderrows()}else{bo._updateScrollbars(bo.host.height())}}if(bo.rendered){bo.rendered()}bo.renderedTime=new Date()},showAppointmentsByResource:function(l){var n=this;for(var o=0;o<n.uiappointments.length;o++){var h=n.uiappointments[o];if(h.resourceId==l){h.hidden=false;h.hiddenByResourceId=false;if(h.exceptions){for(var q=0;q<h.exceptions.length;q++){h.exceptions[q].hiddenByResourceId=false;h.exceptions[q].hidden=false}}}}if(n._resourcesElements){var a=n.getColors(n._resources.indexOf(l));n._resourcesElements.top[l].attr("data-toggle","on");n._resourcesElements.top[l].css("background",a.background);n._resourcesElements.bottom[l].attr("data-toggle","on");n._resourcesElements.bottom[l].css("background",a.background)}if(n.hiddenResources){delete n.hiddenResources[l]}n._renderrows()},hideAppointmentsByResource:function(l){var n=this;for(var o=0;o<n.uiappointments.length;o++){var h=n.uiappointments[o];if(h.resourceId==l){h.hidden=true;h.hiddenByResourceId=true;if(h.exceptions){for(var a=0;a<h.exceptions.length;a++){h.exceptions[a].hiddenByResourceId=true;h.exceptions[a].hidden=true}}}}if(n._resourcesElements){n._resourcesElements.top[l].attr("data-toggle","off");n._resourcesElements.top[l].css("background","transparent");n._resourcesElements.bottom[l].attr("data-toggle","off");n._resourcesElements.bottom[l].css("background","transparent")}if(!n.hiddenResources){n.hiddenResources=new Array()}n.hiddenResources[l]=true;n._renderrows()},_prepareAppointmentsInView:function(L,M){var K=this;if(K._appupdating){return}var I=new Array();for(var C=0;C<this.uiappointments.length;C++){var H=this.uiappointments[C];if(H.hidden&&H.recurrencePattern==null){continue}var G=c.jqx.scheduler.utilities.rangeIntersection(H.from,H.to,L,M);if(G&&!H.recurrencePattern){I.push(H)}H.renderedAppointments=new Array();var z=false;if(H.recurrencePattern){var A=H.getOccurrences(L,M);var B=H.exceptions;for(var D=0;D<A.length;D++){var N=A[D];if(N.hidden){continue}var P=true;for(var F=0;F<B.length;F++){var J=B[F];var a=J.occurrenceFrom?J.occurrenceFrom:J;if(K.selectedJQXAppointment&&K.selectedJQXAppointment.rootAppointment){if(!z&&K.selectedJQXAppointment.occurrenceFrom.clearTime().equals(a.clearTime())){K.selectedJQXAppointment=J;z=true}}if(a.clearTime().equals(N.from.clearTime())){P=false;break}}if(!P){continue}if(K.selectedJQXAppointment&&K.selectedJQXAppointment.rootAppointment){if(!z&&K.selectedJQXAppointment.occurrenceFrom.clearTime().equals(N.occurrenceFrom.clearTime())){K.selectedJQXAppointment=N;z=true}}H.renderedAppointments[N.id]=N;I.push(N)}for(var F=0;F<B.length;F++){var J=B[F];var a=J.occurrenceFrom?J.from:J;var E=H.createOccurrence(a);if(J.occurrenceFrom){J.cloneAppointmentAttributes(E);if(J.hidden){continue}}if(E!=H){I.push(J);H.renderedAppointments[J.id]=J}}}}var Q=new Array();this.tabKeyAppointments=new Array();for(var C=0;C<I.length;C++){var O=I[C];Q.push(O);this.tabKeyAppointments.push(O)}Q.sort(this._sortAppointmentsByFrom);if(this._resources.length>0){this.tabKeyAppointments.sort(function(d,e){return K._sortAppointmentsByResourceId(d,e,K)})}else{this.tabKeyAppointments.sort(this._sortAppointmentsByFrom)}this.appointmentsToRender=Q},_renderDayWeekAppointments:function(){var at=this;var aL=at._views[at._view].type;var au=at._views[at._view];var aM=new Array();var aw=new Array();var a=this.rows;var aE=at.showAllDayRow;var aH=at.getMinutesPerScale();if(au.timeRuler&&au.timeRuler.showAllDayRow!=undefined){aE=au.timeRuler.showAllDayRow}for(var a4=0;a4<this.appointmentsToRender.length;a4++){var aT=this.appointmentsToRender[a4];var aR=aT.from;var aF=aT.to;var ak=c.jqx.scheduler.utilities.getEndOfDay(aF);var aG=aR.day();var a5=aT.allDay;var aQ=at._getDateByString;var aA=new Array();var aU=new Array();var aW=aT.resourceId;var a2=at._resources.indexOf(aW);if(at.resources&&at.resources.orientation=="none"){a2=-1}var aK=aR.toDate().valueOf();var a1=aF.toDate().valueOf();var ap=ak.toDate().valueOf();var aD=function(d,e){if(d.date<e.date){return -1}if(d.date==e.date){return 0}if(d.date>e.date){return 1}};if(!aT.allDay&&aT.duration().days()<1||!aE){var aV=aF.toDate();var ay=false;if(aV.getHours()==0&&aV.getMinutes()==0){ay=true}for(var ai=0;ai<at.columnCells.length;ai++){if(!at.columnCells[ai]){continue}var aP=at.columnCells[ai];if(at.rtl){aP=at.columnCells[at.columnCells.length-1-ai]}for(var aj=0;aj<aP.length;aj++){if(aP[aj].getAttribute("data-end-date")){continue}var aY=aP[aj].getAttribute("data-date");var ah=aQ(aY);var aC=aQ(aY);aC.setMinutes(aC.getMinutes()+aH-1);var aZ=ah.valueOf();var az=aC.valueOf();if(aZ>aF){continue}if((aK<=aZ&&aZ<a1)||(aK<=az&&az<a1)||(aK>=aZ&&az>=a1)){if(a2!=-1){if((1+a2)!=aP[aj].getAttribute("data-view")){continue}}if(aG!=ah.getDate()){aA.sort(aD);aU.push(aA);aA=new Array();aG=aR.addDays(1).day()}aA.push({cell:aP[aj],date:ah})}}}aA.sort(aD);aU.push(aA);var aI=new Array();for(var ai=0;ai<aU.length;ai++){var aP=aU[ai];if(aP.length==0){continue}var a7=at.cellWidth;var a6=aP[aP.length-1].cell.offsetTop+at.cellHeight;var aq=aP[0].cell.offsetLeft;var ar=aP[0].cell.offsetTop;var an=at.getMinutesPerScale();var aV=new c.jqx.date(aP[aP.length-1].date,at.timeZone).addMinutes(an);var aJ={cells:aP,x:aq,y:ar,height:a6-ar,width:a7,appointment:aT,from:new c.jqx.date(aP[0].date,at.timeZone),to:aV};aI.push(aJ);aM.push(aJ)}aT.elements=aI;if(aT.rootAppointment){aT.rootAppointment.elements=aT.rootAppointment.elements.concat(aT.elements)}}else{var aP=a[0].cells;if(this.tableRows>1){var al=a.length/at.tableRows;var a8=a2*al;aP=a[a8].cells}for(var aj=0;aj<aP.length;aj++){var aY=aP[aj].getAttribute("data-date");var aB=aQ(aY);var ah=new c.jqx.date(aB,at.timeZone);ah=c.jqx.scheduler.utilities.getEndOfDay(ah);var aZ=ah.toDate().valueOf();if(aZ>ak){continue}if(aR<=ah&&ah<=ak){if(a2!=-1){if((1+a2)!=aP[aj].getAttribute("data-view")){continue}}if(aA.length==0){ah=c.jqx.scheduler.utilities.getStartOfDay(ah)}aA.push({cell:aP[aj],date:ah})}}aA.sort(aD);aU.push(aA);var aI=new Array();for(var ai=0;ai<aU.length;ai++){var aP=aU[ai];if(aP.length==0){break}var a0=c(aP[0].cell).position();var a7=c(aP[aP.length-1].cell).position().left+this.cellWidth-a0.left;var a6=c(aP[aP.length-1].cell).position().top;var aq=a0.left;var ar=a0.top;if(this.rtl){var a0=c(aP[aP.length-1].cell).position();var aq=a0.left;var a7=c(aP[0].cell).position().left+this.cellWidth-a0.left}var am=aP[aP.length-1].date;am=new c.jqx.date(c.jqx.scheduler.utilities.getEndOfDay(am),at.timeZone);var aJ={cells:aP,x:aq,y:ar,height:a6-ar+this.cellHeight,width:a7,appointment:aT,from:c.jqx.scheduler.utilities.getStartOfDay(new c.jqx.date(aP[0].date,at.timeZone)),to:am};aI.push(aJ);aw.push(aJ)}aT.elements=aI;if(aT.rootAppointment){aT.rootAppointment.elements=aT.rootAppointment.elements.concat(aT.elements)}}}var aO=this.getViewStart();var ao=this.getViewEnd();if(this._resources.length<2||this.resources.orientation=="none"){var aN=new Array();var a3=aO;var ax=0;while(a3<ao){aN[ax]=new Array();for(var ai=0;ai<aM.length;ai++){var aS=aM[ai];if(aS.from.day()==a3.day()){aS.column=-1;aS.columnSpan=1;aN[ax].push(aS)}}ax++;a3=a3.addDays(1)}for(var ai=0;ai<aN.length;ai++){this._renderAppointmentsInDay(aN[ai])}this._renderAllDayAppointments(aw)}else{for(var aj=0;aj<this._resources.length;aj++){var av=this._resources[aj];var aN=new Array();var a3=aO;var ax=0;while(a3<ao){aN[ax]=new Array();for(var ai=0;ai<aM.length;ai++){var aS=aM[ai];if(aS.from.day()==a3.day()){aS.column=-1;aS.columnSpan=1;if(aS.appointment.resourceId==av){aN[ax].push(aS)}}}ax++;a3=a3.addDays(1)}for(var ai=0;ai<aN.length;ai++){this._renderAppointmentsInDay(aN[ai])}var aX=new Array();for(var ai=0;ai<aw.length;ai++){if(aw[ai].appointment.resourceId==av){aX.push(aw[ai])}}this._renderAllDayAppointments(aX)}}},_renderAllDayAppointments:function(aI){var bb=this;var aY=this.showAllDayRow;var bd=this._views[this._view];if(bd.timeRuler&&bd.timeRuler.showAllDayRow!=undefined){aY=bd.timeRuler.showAllDayRow}if(!aY){return}if(aI.length==0){return}var bc=aI;var a0=1;a0=this.getMaxAllDayAppointments(aI);if(this.tableRows==1){var be=this.table[0].rows[0].clientHeight/a0}else{var be=this.table[0].rows[1].clientHeight/a0}for(var aL=0;aL<aI.length;aL++){var bg=aI[aL];bg.row=-1;var by=this.getCollisionAppointments(bg,aI);by.sort(this._sortAppointmentsByFrom);var bm=by.indexOf(bg);if(bm>=0){for(var aX=bm;aX<by.length;aX++){by[aX].row=-1}}for(var aR=0;aR<a0;aR++){var bq=aR;for(var aB in by){if(aB=="indexOf"){break}var aw=by[aB];if(aw.row==-1&&!this.isBusyRow(bq,by)){aw.row=bq;var aQ=a0;var bz=this.getMaxAllDayAppointments(by);if(aQ>bz){aQ=bz}aw.rowsCount=aQ}}}}for(var aR=0;aR<bc.length;aR++){var bg=bc[aR];var by=this.getCollisionAppointments(bg,bc);by.sort(this._sortAppointmentsByFrom);var br=1;for(var aB in by){if(aB=="indexOf"){break}var aM=by[aB];br=Math.max(br,aM.rowsCount)}for(var aB in by){if(aB=="indexOf"){break}var aM=by[aB];aM.rowsCount=br}if(by.length==1){bg.rowSpan=br}else{var a4=0;var bw=true;for(var aX=bg.row;aX<br;aX++){for(var aB in by){if(aB=="indexOf"){break}var aw=by[aB];if(aw==bg){continue}if(aw.row==aX){bw=false}}if(!bw){break}a4++}bg.rowSpan=a4}}var aJ=bb.appointmentsMinHeight+2;if(bb.isTouchDevice()){var aJ=bb.touchAppointmentsMinHeight+2}for(var a7=0;a7<bc.length;a7++){var a9=aJ;var bg=bc[a7];bg.height=aJ;var a8=a9*bg.row;bg.y=18+bg.y+a8+(4*bg.row);bg.x+=3;bg.width-=8;if(bg.appointment.from.hour()!=0||bg.appointment.to.hour()!=23){var ba=this.getViewStart();var a3=this.getViewEnd();if(!bb.rtl){var aU=parseFloat(bb.cellWidth/24)*(bg.appointment.from.hour())+parseFloat(bb.cellWidth/48)*(bg.appointment.from.minute()/30);if(bg.appointment.from<ba){aU=0}bg.timewidth=bg.width;bg.timex=aU;var aS=parseFloat(bb.cellWidth/24)*(bg.appointment.to.hour())+parseFloat(bb.cellWidth/48)*(bg.appointment.to.minute()/30);if(bg.appointment.to>a3){aS=0}bg.timewidth-=aU;if(aS>0){bg.timewidth-=bb.cellWidth;bg.timewidth+=aS}if(bd.appointmentsRenderMode=="exactTime"){bg.width=bg.timewidth;bg.x+=aU}}else{var aU=parseFloat(bb.cellWidth/24)*(bg.appointment.to.hour())+parseFloat(bb.cellWidth/48)*(bg.appointment.to.minute()/30);var aS=(parseFloat(bb.cellWidth/24)*(bg.appointment.from.hour())+parseFloat(bb.cellWidth/48)*(bg.appointment.from.minute()/30));if(aU>0){aU=bb.cellWidth-aU}if(bg.appointment.from<ba){aS=0}if(bg.appointment.to>a3){aU=0}if(bd.appointmentsRenderMode=="exactTime"){bg.x+=aU;bg.width-=aU;bg.width-=aS}if(bg.appointment.duration().days()<1){if(bg.width<15){bg.width=15}}bg.timewidth=bg.width;if(bd.appointmentsRenderMode=="exactTimeStatus"){bg.timewidth-=aU;bg.timewidth-=aS}bg.timex=aU}}}for(var a7=0;a7<bc.length;a7++){var aW=bc[a7];var aO="";var aK="auto";var bd=this._views[this._view];var bp=aW.appointment.from;var aA=aW.appointment.to;if(bd.timeRuler&&bd.timeRuler.formatString){aK=bd.timeRuler.formatString}var a6=aK;if(aK==="auto"){if((bp.hour()==0&&bp.minute()==0)||(bp.hour()==12&&bp.minute()==0)){var a6="hh tt"}else{var a6="hh:mm"}if((aA.hour()==0&&aA.minute()==0)||(aA.hour()==12&&aA.minute()==0)){var bh="hh tt"}else{var bh="hh:mm"}}var bk=bp.toString(a6);var bj=aA.toString(bh);var aV=aW.appointment.duration();var bx=aW.appointment.allDay||(aV.hours===23&&aV.minutes===59&&aV.seconds===59);var bf=aW.appointment.background;var aD=aW.appointment.subject?aW.appointment.subject:"(No Title)";var aP=aW.appointment.color;var bt=aW.appointment.resourceId;var a2=bb.getColors(bb._resources.indexOf(bt));var aZ=" data-resourceId='"+bt+"' ";var ax=aW.appointment.borderColor;var bl=aW.appointment.location;if(bl.length>0){bl=", "+bl}if(!bf){bf=a2.background}if(!ax){ax=a2.border}if(!aP){aP=a2.color}var bA=aW.appointment.isRecurrentAppointment();var bn=aW.appointment.isException();var bv=bk+"-"+bj;if(bx){bk="";bj=""}var aN="";var bi=bb.toTP("jqx-scheduler-appointment-status");var aF="";var aG=bb.statuses[aW.appointment.status];var bs=false;if(aG){if(aG=="transparent"){bs=false}else{aF="<div style='background: "+aG+"; border-right-color: "+ax+"' class='"+bi+"'></div>";if(aG=="tentative"){bi=bb.toTP("jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes");aF="<div style='background-color: "+ax+"; border-right-color: "+ax+"' class='"+bi+"'></div>"}bs=true}}var a5=bb.toTP("jqx-scheduler-appointment-duration-status");var aT="<div style='width: "+aW.timewidth+"px; left: "+aW.timex+"px;' class='"+a5+"'></div>";if(bx){aT=""}var a1="";if(bd.appointmentsRenderMode!="exactTimeStatus"){aT=""}if(bb.rtl){var bi=bb.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status");aF="<div style='background: "+aG+"; border-left-color: "+ax+"' class='"+bi+"'></div>";if(aG=="tentative"){bi=bb.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes");aF="<div style='background-color: "+ax+"; border-left-color: "+ax+"' class='"+bi+"'></div>"}a1=aF;aF=""}var ay="";var aH=aD+bl;if(!bx){aH=aD+bl+aT}if(bb.renderAppointment){var aC=bb.renderAppointment({appointment:aW.appointment.boundAppointment,textColor:aP,background:bf,borderColor:ax,html:aH,cssClass:"",style:"",width:aW.width,height:aW.height,view:bb._views[bb._view].type});if(aC){var aO=aC.html;if(aO!=aH){aH=aO}aP=aC.textColor;bf=aC.background;ax=aC.borderColor;if(aC.cssClass){ay=aC.cssClass+" "}if(aC.style!=""){var a2=bb.getAppointmentColors(aC.style);bf=a2.background;ax=a2.border;aP=a2.color}}}if(aN===""){if(bs){var aN="<div style='white-space:nowrap;' class='"+bb.toTP("jqx-scheduler-appointment-content")+"'>"+aF+"<div class='"+bb.toTP("jqx-scheduler-appointment-inner-content")+"'>"+aH+"</div>"+a1+"</div>"}else{var aN="<div style='white-space:nowrap;' class='"+bb.toTP("jqx-scheduler-appointment-content")+"'><div class='"+bb.toTP("jqx-scheduler-appointment-inner-content")+"'>"+aH+"</div></div>"}}var aE="";if(bb.rtl){aE=bb.toTP("jqx-rtl jqx-scheduler-appointment-rtl")+" "}if(bn){var bu=aP.toLowerCase()=="white"?bb.toTP("jqx-icon-recurrence-exception-white"):bb.toTP("jqx-icon-recurrence-exception");aO="<div data-key='"+aW.appointment.id+"'"+aZ+"class='"+aE+ay+bb.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+aW.x+"px; top: "+aW.y+"px; width: "+aW.width+"px; line-height: "+aW.height+"px; height: "+aW.height+"px; border-color:"+ax+"; color:"+aP+"; background:"+bf+";'><div class='"+bu+"'></div>"+aN+"<div class='"+bb.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+bb.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>"}else{if(bA){var bo=aP.toLowerCase()=="white"?bb.toTP("jqx-icon-recurrence-white"):bb.toTP("jqx-icon-recurrence");aO="<div data-key='"+aW.appointment.id+"'"+aZ+"class='"+aE+ay+bb.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+aW.x+"px; top: "+aW.y+"px; width: "+aW.width+"px; line-height: "+aW.height+"px; height: "+aW.height+"px; border-color:"+ax+"; color:"+aP+"; background:"+bf+";'><div class='"+bo+"'></div>"+aN+"<div class='"+bb.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+bb.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>"}else{aO="<div data-key='"+aW.appointment.id+"'"+aZ+"class='"+aE+ay+bb.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+aW.x+"px; top: "+aW.y+"px; width: "+aW.width+"px; line-height: "+aW.height+"px; height: "+aW.height+"px; border-color:"+ax+"; color:"+aP+"; background:"+bf+";'>"+aN+"<div class='"+bb.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+bb.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>"}}var az=c(aO);if(this.tableRows==1){az.appendTo(this.pinnedtable)}else{az.appendTo(this.table)}aW.element=az;if(this.appointmentTooltips){if(!aW.appointment.tooltip){var a=aW.appointment.subject;if(bk){a=bk+" - "+bj+" "+a}if(a){var bl=aW.appointment.location;if(bl){a+="\n"+bl}az[0].setAttribute("title",a)}}else{az[0].setAttribute("title",aW.appointment.tooltip)}}}},_renderAppointmentsInDay:function(aL,aN){if(aL.length==0){return}var a=this;var au=this._views[this._view];var a8=aL;var a6=this.getViewStart();var a7=this.getViewEnd();var aV=1;var bl=0;if(au.timeRuler){bl=this.columns.records[1].width;if(au.timeRuler.timeZones){bl=this.columns.records[1+au.timeRuler.timeZones.length].width}}else{bl=this.columns.records[1].width}aV=this.getMaxColumnsInADay(aL);var bm=bl/aV;if(bm<0){return}for(var aP=0;aP<aL.length;aP++){var ba=aL[aP];ba.column=-1;var bt=this.getCollisionAppointments(ba,aL);bt.sort(this._sortAppointmentsByFrom);var bh=bt.indexOf(ba);if(bh>=0){for(var a0=bh;a0<bt.length;a0++){bt[a0].column=-1}}for(var aU=0;aU<aV;aU++){var bs=aU;for(var aC in bt){if(aC=="indexOf"){break}var ax=bt[aC];if(ax.column==-1&&!this.isBusyColumn(bs,bt)){ax.column=bs;var bq=aV;var bu=this.getMaxColumnsInADay(bt);if(bq>bu){bq=bu}ax.columnsCount=bq}}}}for(var aU=0;aU<a8.length;aU++){var ba=a8[aU];var bt=this.getCollisionAppointments(ba,a8);bt.sort(this._sortAppointmentsByFrom);var aW=1;for(var aC in bt){if(aC=="indexOf"){break}var aO=bt[aC];if(aO.columnsCount==undefined){continue}aW=Math.max(aW,aO.columnsCount)}for(var aC in bt){if(aC=="indexOf"){break}var aO=bt[aC];aO.columnsCount=aW}if(bt.length==1){ba.columnSpan=aW}else{var a4=0;var br=true;for(var a0=ba.column;a0<aW;a0++){for(var aC in bt){if(aC=="indexOf"){break}var ax=bt[aC];if(ax.column==undefined){continue}if(ax==ba){continue}if(ax.column==a0){br=false}}if(!br){break}a4++}ba.columnSpan=a4}}for(var bb=0;bb<a8.length;bb++){var a2=bl/a8[bb].columnsCount;var ba=a8[bb];ba.width=-5+(a2*ba.columnSpan);var aI=a2*ba.column;ba.x=2+ba.x+aI;ba.height-=5;ba.y+=1;if(au.appointmentsRenderMode=="exactTime"){var a3=a.getMinutesPerScale();if(ba.appointment.from.minute()%a3!=0){var aB=ba.appointment.from.minute()%a3;var aS=parseFloat(a.cellHeight/a3)*aB}else{var aS=0}if(ba.appointment.to.minute()%a3!=0){var aB=ba.appointment.to.minute()%a3;var aY=a.cellHeight-parseFloat(a.cellHeight/a3)*aB}else{aY=0}ba.y+=aS;ba.height-=aS;ba.height-=aY}}for(var bb=0;bb<a8.length;bb++){var aX=a8[bb];var aQ="";var aM="auto";var au=this._views[this._view];var bk=aX.appointment.from;var aE=aX.appointment.to;if(au.timeRuler&&au.timeRuler.formatString){aM=au.timeRuler.formatString}var a9=aM;if(aM==="auto"){if((bk.hour()==0&&bk.minute()==0)||(bk.hour()==12&&bk.minute()==0)){var a9="hh tt"}else{var a9="hh:mm"}if((aE.hour()==0&&aE.minute()==0)||(aE.hour()==12&&aE.minute()==0)){var bc="hh tt"}else{var bc="hh:mm"}}var bf=bk.toString(a9);var be=aE.toString(bc);var av=aX.appointment.background;var aD=aX.appointment.subject?aX.appointment.subject:"(No Title)";var bg=aX.appointment.location?aX.appointment.location:"";var aT=aX.appointment.color;var bo=aX.appointment.resourceId;var a5=a.getColors(a._resources.indexOf(bo));var a1=" data-resourceId='"+bo+"' ";var ay=aX.appointment.borderColor;if(!av){av=a5.background}if(!ay){ay=a5.border}if(!aT){aT=a5.color}var bv=aX.appointment.isRecurrentAppointment();var bi=aX.appointment.isException();var aR="";var bd=a.toTP("jqx-scheduler-appointment-status");var aG="";var aH=a.statuses[aX.appointment.status];var bn=false;if(aH){if(aH=="transparent"){bn=false}else{aG="<div style='background: "+aH+"; border-right-color: "+ay+"' class='"+bd+"'></div>";if(aH=="tentative"){bd=a.toTP("jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes");aG="<div style='background-color: "+ay+"; border-right-color: "+ay+"' class='"+bd+"'></div>"}bn=true}}var aZ="";if(a.rtl){var bd=a.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status");aG="<div style='background: "+aH+"; border-left-color: "+ay+"' class='"+bd+"'></div>";if(aH=="tentative"){bd=a.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes");aG="<div style='background-color: "+ay+"; border-left-color: "+ay+"' class='"+bd+"'></div>"}aZ=aG;aG=""}var az="";var aK=aD+"<br/>"+bg;if(!bg){var aK=aD}if(a.renderAppointment){var aF=a.renderAppointment({appointment:aX.appointment.boundAppointment,textColor:aT,background:av,borderColor:ay,html:aK,cssClass:"",style:"",width:aX.width,height:aX.height,view:a._views[a._view].type});if(aF){var aQ=aF.html;if(aQ!=aK){aK=aQ}aT=aF.textColor;av=aF.background;ay=aF.borderColor;if(aF.cssClass){az=aF.cssClass+" "}if(aF.style!=""){var a5=a.getAppointmentColors(aF.style);av=a5.background;ay=a5.border;aT=a5.color}}}if(aR===""){if(bn){var aR="<div class='"+a.toTP("jqx-scheduler-appointment-content")+"'>"+aG+"<div class='"+a.toTP("jqx-scheduler-appointment-inner-content")+"'>"+aK+"</div>"+aZ+"</div>"}else{var aR="<div class='"+a.toTP("jqx-scheduler-appointment-content")+"'><div class='"+a.toTP("jqx-scheduler-appointment-inner-content")+"'>"+aK+"</div></div>"}}var aJ="";if(a.rtl){aJ=a.toTP("jqx-rtl jqx-scheduler-appointment-rtl")+" "}if(bi){var bp=aT.toLowerCase()=="white"?a.toTP("jqx-icon-recurrence-exception-white"):a.toTP("jqx-icon-recurrence-exception");aQ="<div data-key='"+aX.appointment.id+"'"+a1+"class='"+aJ+az+a.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+aX.x+"px; top: "+aX.y+"px; width: "+aX.width+"px; height: "+aX.height+"px; border-color:"+ay+"; color:"+aT+"; background:"+av+";'><div class='"+bp+"'></div>"+aR+"<div class='"+a.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-top-resize-indicator")+"'></div><div class='"+a.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-bottom-resize-indicator")+"'></div></div>"}else{if(bv){var bj=aT.toLowerCase()=="white"?a.toTP("jqx-icon-recurrence-white"):a.toTP("jqx-icon-recurrence");aQ="<div data-key='"+aX.appointment.id+"'"+a1+"class='"+aJ+az+a.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+aX.x+"px; top: "+aX.y+"px; width: "+aX.width+"px; height: "+aX.height+"px; border-color:"+ay+"; color:"+aT+"; background:"+av+";'><div class='"+bj+"'></div>"+aR+"<div class='"+a.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-top-resize-indicator")+"'></div><div class='"+a.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-bottom-resize-indicator")+"'></div></div>"}else{aQ="<div data-key='"+aX.appointment.id+"'"+a1+"class='"+aJ+az+a.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+aX.x+"px; top: "+aX.y+"px; width: "+aX.width+"px; height: "+aX.height+"px; border-color:"+ay+"; color:"+aT+"; background:"+av+";'>"+aR+"<div class='"+a.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-top-resize-indicator")+"'></div><div class='"+a.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-bottom-resize-indicator")+"'></div></div>"}}var aA=c(aQ);aA.appendTo(this.table);aX.element=aA;if(this.appointmentTooltips){if(!aX.appointment.tooltip){var aw=aX.appointment.subject;if(aw){var bg=aX.appointment.location;if(bg){aw+="\n"+bg}aA[0].setAttribute("title",aw)}}else{aA[0].setAttribute("title",aX.appointment.tooltip)}}}},getCollisionAppointments:function(v,q){var l=new Array();var o=v.from;var n=v.to;for(var t=0;t<q.length;t++){var a=q[t];var s=a.from;var u=a.to;if(c.jqx.scheduler.utilities.rangeIntersection(o,n,s,u)){l.push(a)}}return l},getAllDayCollisionAppointments:function(v,q){var l=new Array();var o=c.jqx.scheduler.utilities.getStartOfDay(v.from);var n=c.jqx.scheduler.utilities.getEndOfDay(v.to);for(var t=0;t<q.length;t++){var a=q[t];var s=c.jqx.scheduler.utilities.getStartOfDay(a.from);var u=c.jqx.scheduler.utilities.getEndOfDay(a.to);if(c.jqx.scheduler.utilities.rangeIntersection(o,n,s,u)){l.push(a)}}return l},_renderAppointments:function(f,l){var h=this;if(h._appupdating){return}h.table.find(".jqx-scheduler-appointment").remove();h.pinnedtable.find(".jqx-scheduler-appointment").remove();var a=h._views[h._view].type;if(a==="dayView"||a==="weekView"){h._renderDayWeekAppointments(f,l)}else{if(a==="monthView"){h._renderMonthAppointments(f,l)}else{if(a==="timelineWeekView"||a==="timelineDayView"||a==="timelineMonthView"){h._renderTimelineAppointments(f,l)}}}if(h.selectedJQXAppointment){h._selectAppointment(h.selectedJQXAppointment)}},_renderTimelineAppointments:function(ar,ae){var ai=this;var W=ai._views[ai._view].type;var aj=ai._views[ai._view];var aq=new Array();var X=this.rows;var ab=this.cellHeight;var ac=this.cellWidth;var ad=ai.getMinutesPerScale();for(var aG=0;aG<this.appointmentsToRender.length;aG++){var ax=this.appointmentsToRender[aG];var aw=ax.from;var U=ax.to;var au=ai._getDateByString;var am=new Array();var ap=aw.toDate().valueOf();var aD=U.toDate().valueOf();if(W==="timelineMonthView"){ap=aw.clearTime().toDate().valueOf()}var a=function(d,e){if(d.date<e.date){return -1}if(d.date==e.date){return 0}if(d.date>e.date){return 1}};var av=ai.rows[0];var az=ax.resourceId;var aE=ai._resources.indexOf(az);if(ai._resources.length>0){if(ai.resources.orientation!=="horizontal"){if(aE>=1){av=ai.rows[aE]}}}if(ai.resources&&ai.resources.orientation=="none"){aE=-1;var av=ai.rows[0]}var at=av.cells;for(var aa=0;aa<at.length;aa++){var aB=at[aa].getAttribute("data-date");at[aa].appointments=new Array();var Y=au(aB);var aC=Y.valueOf();var an=au(aB);an.setMinutes(an.getMinutes()+ad-1);var al=an.valueOf();if(aC>U){continue}if((ap<=aC&&aC<aD)||(ap<=al&&al<aD)){if(aE!=-1){if((1+aE)!=at[aa].getAttribute("data-view")){continue}}am.push({cell:at[aa],date:Y});av=Z}}am.sort(a);var ao=new Array();var at=am;if(at.length==0){break}var aA=ai.appointmentsMinHeight;if(ai.isTouchDevice()){aA=ai.touchAppointmentsMinHeight}if(aj.appointmentHeight){aA=aj.appointmentHeight}var af=c(at[0].cell).position();var aH=aA;var aI=c(at[at.length-1].cell).position().left-af.left+ac;var ag=af.left;var ah=af.top;if(ai.rtl){var af=c(at[at.length-1].cell).position();var aI=c(at[0].cell).position().left-af.left+ac;var ag=af.left;var ah=af.top}var ay=new c.jqx.date(at[at.length-1].date,ai.timeZone).addMinutes(ad);if(W==="timelineMonthView"){var ay=c.jqx.scheduler.utilities.getEndOfDay(new c.jqx.date(at[at.length-1].date,ai.timeZone))}var V={cellX:ag,cellY:ah,cellHeight:ab,cells:at,x:ag,y:ah,height:aH,width:aI,appointment:ax,from:new c.jqx.date(at[0].date,ai.timeZone),to:ay};ao.push(V);aq.push(V);ax.elements=ao;if(ax.rootAppointment){ax.rootAppointment.elements=ax.rootAppointment.elements.concat(ax.elements)}}if(this._resources.length<2||this.resources.orientation=="none"){this._renderUITimelineAppointments(aq,ar,ae)}else{for(var aa=0;aa<this._resources.length;aa++){var ak=this._resources[aa];var aF=new Array();for(var Z=0;Z<aq.length;Z++){if(aq[Z].appointment.resourceId==ak){aF.push(aq[Z])}}this._renderUITimelineAppointments(aF,ar,ae)}}},_renderUITimelineAppointments:function(aM,bg,ba){var av=this;var aK=av._views[av._view].type;var aw=av._views[av._view];var a4=aM;var a8=1;var av=this;var aB=new Array();a8=av.getMaxTimelineAppointments(aM,aB,bg,ba);var bs=av.appointmentsMinHeight;if(av.isTouchDevice()){bs=av.touchAppointmentsMinHeight}if(aw.appointmentHeight){bs=aw.appointmentHeight}for(var aO=0;aO<aM.length;aO++){var bt=aM[aO];bt.row=-1;var bw=av.getCollisionAppointments(bt,aM);bw.sort(av._sortAppointmentsByFrom);var bj=bw.indexOf(bt);if(bj>=0){for(var aW=bj;aW<bw.length;aW++){bw[aW].row=-1}}for(var aU=0;aU<a8;aU++){var bn=aU;for(var aI in bw){if(aI=="indexOf"){break}var az=bw[aI];if(az.row==-1&&!av.isBusyRow(bn,bw)){az.row=bn;var aR=a8;var bx=av.getMaxTimelineAppointments(bw,aB,bg,ba);if(aR>bx){aR=bx}az.rowsCount=aR}}}}for(var aU=0;aU<a4.length;aU++){var bt=a4[aU];var bw=av.getCollisionAppointments(bt,a4);bw.sort(av._sortAppointmentsByFrom);var bo=1;for(var aI in bw){if(aI=="indexOf"){break}var aS=bw[aI];bo=Math.max(bo,aS.rowsCount)}for(var aI in bw){if(aI=="indexOf"){break}var aS=bw[aI];aS.rowsCount=bo}if(bw.length==1){bt.rowSpan=bo}else{var be=0;var bu=true;for(var aW=bt.row;aW<bo;aW++){for(var aI in bw){if(aI=="indexOf"){break}var az=bw[aI];if(az==bt){continue}if(az.row==aW){bu=false}}if(!bu){break}be++}bt.rowSpan=be}}for(var bd=0;bd<a4.length;bd++){var a=bs;var bt=a4[bd];bt.height=a;var bf=2+(3+a)*bt.row;bt.y=bt.y+bf;bt.x+=1;bt.width-=5;var bv=av._views[av._view].type;var aw=av._views[av._view];if(bv=="timelineMonthView"&&aw.appointmentsRenderMode){if(bt.appointment.from.hour()!=0||bt.appointment.to.hour()!=23){if(!av.rtl){var a2=parseFloat(av.cellWidth/24)*(bt.appointment.from.hour())+parseFloat(av.cellWidth/48)*(bt.appointment.from.minute()/30);var a0=parseFloat(av.cellWidth/24)*(bt.appointment.to.hour())+parseFloat(av.cellWidth/48)*(bt.appointment.to.minute()/30);bt.timewidth=bt.width;bt.timex=a2;bt.timewidth-=a2;bt.timewidth-=av.cellWidth;bt.timewidth+=a0;if(aw.appointmentsRenderMode=="exactTime"){bt.width=bt.timewidth;bt.x+=a2;if(bt.appointment.duration().days()<1){if(bt.width<15){bt.width=15;if(a2+15>av.cellWidth){var a6=av.cellWidth-a2-15;bt.x+=a6}}}}}else{var a2=parseFloat(av.cellWidth/24)*(bt.appointment.to.hour())+parseFloat(av.cellWidth/48)*(bt.appointment.to.minute()/30);var a0=(parseFloat(av.cellWidth/24)*(bt.appointment.from.hour())+parseFloat(av.cellWidth/48)*(bt.appointment.from.minute()/30));if(a2>0){a2=av.cellWidth-a2}if(aw.appointmentsRenderMode=="exactTime"){bt.x+=a2;bt.width-=a2;bt.width-=a0}if(bt.appointment.duration().days()<1){if(bt.width<15){bt.width=15}}bt.timewidth=bt.width;bt.timex=a2}}}else{if(aw.appointmentsRenderMode){if(aw.appointmentsRenderMode=="exactTime"){var a5=av.getMinutesPerScale();if(bt.appointment.from.minute()%a5!=0){var aA=bt.appointment.from.minute()%a5;var a2=parseFloat(av.cellWidth/a5)*aA;if(av.rtl){var a2=parseFloat(av.cellWidth/a5)*aA}}else{var a2=0}if(bt.appointment.to.minute()%a5!=0){var aA=bt.appointment.to.minute()%a5;var a0=av.cellWidth-parseFloat(av.cellWidth/a5)*aA;if(av.rtl){var a0=av.cellWidth-parseFloat(av.cellWidth/a5)*aA}}else{a0=0}if(!av.rtl){bt.x+=a2;bt.width-=a2;bt.width-=a0}else{bt.x+=a0;bt.width-=a2;bt.width-=a0}}}}}var aZ="";for(var bd=0;bd<a4.length;bd++){var aY=a4[bd];var aV="";var aT="auto";var aw=av._views[av._view];var bm=aY.appointment.from;var aD=aY.appointment.to;if(aw.timeRuler&&aw.timeRuler.formatString){aT=aw.timeRuler.formatString}var ax=aY.appointment.background;var aJ=aY.appointment.subject?aY.appointment.subject:"(No Title)";var bi=aY.appointment.location;if(bi&&bi.length>1){bi=", "+bi}var aX=aY.appointment.color;var bq=aY.appointment.resourceId;var a7=av.getColors(av._resources.indexOf(bq));var a3=" data-resourceId='"+bq+"' ";var aC=aY.appointment.borderColor;if(!ax){ax=a7.background}if(!aC){aC=a7.border}if(!aX){aX=a7.color}var by=aY.appointment.isRecurrentAppointment();var bk=aY.appointment.isException();var aQ="";var bh=av.toTP("jqx-scheduler-appointment-status");var aL="";var aN=av.statuses[aY.appointment.status];var bp=false;if(aN){if(aN=="transparent"){bp=false}else{aL="<div style='background: "+aN+"; border-right-color: "+aC+"' class='"+bh+"'></div>";if(aN=="tentative"){bh=av.toTP("jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes");aL="<div style='background-color: "+aC+"; border-right-color: "+aC+"' class='"+bh+"'></div>"}bp=true}}var bc="";if(av.rtl){var bh=av.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status");aL="<div style='background: "+aN+"; border-left-color: "+aC+"' class='"+bh+"'></div>";if(aN=="tentative"){bh=av.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes");aL="<div style='background-color: "+aC+"; border-left-color: "+aC+"' class='"+bh+"'></div>"}bc=aL;aL=""}var aE="";var aP=aJ+"<br/>"+bi;if(av.renderAppointment){var aG=av.renderAppointment({appointment:aY.appointment.boundAppointment,textColor:aX,background:ax,borderColor:aC,html:aP,cssClass:"",style:"",width:aY.width,height:aY.height,view:av._views[av._view].type});if(aG){var aV=aG.html;if(aV!=aP){aP=aV}aX=aG.textColor;ax=aG.background;aC=aG.borderColor;if(aG.cssClass){aE=aG.cssClass+" "}if(aG.style!=""){var a7=av.getAppointmentColors(aG.style);ax=a7.background;aC=a7.border;aX=a7.color}}}if(aQ===""){if(bp){var aQ="<div style='white-space:nowrap;' class='"+av.toTP("jqx-scheduler-appointment-content")+"'>"+aL+"<div class='"+av.toTP("jqx-scheduler-appointment-inner-content")+"'>"+aP+"</div>"+bc+"</div>"}else{var aQ="<div style='white-space:nowrap;' class='"+av.toTP("jqx-scheduler-appointment-content")+"'><div class='"+av.toTP("jqx-scheduler-appointment-inner-content")+"'>"+aP+"</div></div>"}}var aH="";if(av.rtl){aH=av.toTP("jqx-rtl jqx-scheduler-appointment-rtl")+" "}if(bk){var br=aX.toLowerCase()=="white"?av.toTP("jqx-icon-recurrence-exception-white"):av.toTP("jqx-icon-recurrence-exception");aV="<div data-key='"+aY.appointment.id+"'"+a3+"class='"+aH+aE+av.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+aY.x+"px; top: "+aY.y+"px; width: "+aY.width+"px; height: "+aY.height+"px; line-height: "+aY.height+"px; border-color:"+aC+"; color:"+aX+"; background:"+ax+";'><div class='"+br+"'></div>"+aQ+"<div class='"+av.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+av.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>"}else{if(by){var bl=aX.toLowerCase()=="white"?av.toTP("jqx-icon-recurrence-white"):av.toTP("jqx-icon-recurrence");aV="<div data-key='"+aY.appointment.id+"'"+a3+"class='"+aH+aE+av.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+aY.x+"px; top: "+aY.y+"px; width: "+aY.width+"px; height: "+aY.height+"px; line-height: "+aY.height+"px; border-color:"+aC+"; color:"+aX+"; background:"+ax+";'><div class='"+bl+"'></div>"+aQ+"<div class='"+av.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+av.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>"}else{aV="<div data-key='"+aY.appointment.id+"'"+a3+"class='"+aH+aE+av.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+aY.x+"px; top: "+aY.y+"px; width: "+aY.width+"px; height: "+aY.height+"px; line-height: "+aY.height+"px; border-color:"+aC+"; color:"+aX+"; background:"+ax+";'>"+aQ+"<div class='"+av.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+av.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>"}}aZ=aV;var aF=c(aV);aF.appendTo(this.table);aY.element=aF;if(this.appointmentTooltips){if(!aY.appointment.tooltip){var ay=aY.appointment.subject;if(ay){var bi=aY.appointment.location;if(bi){ay+="\n"+bi}aF[0].setAttribute("title",ay)}}else{aF[0].setAttribute("title",aY.appointment.tooltip)}}}var a1=av.table.find(".jqx-scheduler-appointment");var a9=function(d){for(var e=0;e<a1.length;e++){var f=a1[e].getAttribute("data-key");if(f==d){return a1[e]}}};for(var bd=0;bd<a4.length;bd++){var aY=a4[bd];var bb=false;var aF=c(a9(aY.appointment.id));c.each(aY.cells,function(l){var e=c(this.cell);var h=aY.cellY;var n=aY.cellX;var f=aY.cellHeight;if(!e[0].appointments){e[0].appointments=new Array()}e[0].appointments.push({ui:aF,appointment:aY});aF=aF;if(aY.y+aY.height>=h+f-12){aF[0].style.visibility="hidden";var d=e.find(".jqx-icon-arrow-down");if(d.length>0){d[0].style.display="block";d[0].mousedown=function(){if(av.openedMonthCellPopup){av.openedMonthCellPopup.remove()}var o=c("<div></div>");var z=new c.jqx.date(e.attr("data-date"),av.timeZone);var u=c("<div class='"+av.toTP("jqx-scheduler-month-cell")+"'><span style='float: right; cursor: pointer; width:16px; height: 16px;' class='"+av.toTP("jqx-icon-close")+"'></span></div>");u.height(16);u.find("span")[0].mousedown=function(){o.remove()};u.addClass(av.toTP("jqx-widget-header"));o.addClass(av.toTP("jqx-widget"));o.addClass(av.toTP("jqx-window"));o.addClass(av.toTP("jqx-scheduler-month-cell-popup"));o.addClass(av.toTP("jqx-popup"));var t=c("<div></div>");o.append(u);o.append(t);t.addClass(av.toTP("jqx-widget-content"));var B=e.width();var q=21;for(var w=0;w<e[0].appointments.length;w++){var A=e[0].appointments[w].ui.clone(true);A.css("left","3px");A.css("top","0px");A.css("margin-top","2px");A.css("position","relative");A.css("visibility","visible");A.width(B-6);q+=A.outerHeight()+4;t.append(A)}o.css("overflow","hidden");o.css("position","absolute");var s=av.table.height()-h-25;if(s<f){s=f}o.css("max-height",s);o.height(q);o.width(B);o.css("z-index","999999");var v=e.position();o.css("top",v.top);o.css("left",v.left);av.table.append(o);av.openedMonthCellPopup=o}}}})}},_renderMonthAppointments:function(){var ak=this;var aa=ak._views[ak._view].type;var al=ak._views[ak._view];var av=new Array();var ac=this.rows;var ag=c(".jqx-scheduler-month-cell:first").height();for(var aN=0;aN<this.appointmentsToRender.length;aN++){var aC=this.appointmentsToRender[aN];var aA=c.jqx.scheduler.utilities.getStartOfDay(aC.from);var Y=c.jqx.scheduler.utilities.getEndOfDay(aC.to);var aP=aC.allDay;var ay=ak._getDateByString;var ap=new Array();var aD=new Array();var au=aA.toDate().valueOf();var aJ=Y.toDate().valueOf();var a=function(d,e){if(d.date<e.date){return -1}if(d.date==e.date){return 0}if(d.date>e.date){return 1}};var az=-1;var aF=aC.resourceId;var aK=ak._resources.indexOf(aF);if(ak.resources&&ak.resources.orientation=="none"){aK=-1}for(var ae=0;ae<ak.rows.length;ae++){var ax=ak.rows[ae].cells;for(var af=0;af<ax.length;af++){var aH=ax[af].getAttribute("data-date");var ad=ay(aH);var aI=ad.valueOf();if(aI>Y){continue}ax[af].appointments=new Array();if(aK!=-1){if((1+aK)!=ax[af].getAttribute("data-view")){continue}}if(au<=aI&&aI<aJ){if(az!=ae&&az!=-1){ap.sort(a);aD.push(ap);ap=new Array()}ap.push({cell:ax[af],date:ad});az=ae}}}ap.sort(a);aD.push(ap);var at=new Array();for(var ae=0;ae<aD.length;ae++){var ax=aD[ae];if(ax.length==0){break}var aG=ak.appointmentsMinHeight;if(ak.isTouchDevice()){aG=ak.touchAppointmentsMinHeight}if(al.appointmentHeight){aG=al.appointmentHeight}var aO=aG;var aq=c(ax[ax.length-1].cell).position().left;var aQ=aq-c(ax[0].cell).position().left+ak.columns.records[0].width;if(al.showWeekNumbers){var aQ=aq-c(ax[0].cell).position().left+ak.columns.records[1].width}var ao=c(ax[0].cell).position();var ai=ao.left;var aj=ao.top+ag;var aE=c.jqx.scheduler.utilities.getEndOfDay(new c.jqx.date(ax[ax.length-1].date,ak.timeZone));var ar=new c.jqx.date(ax[0].date,ak.timeZone);if(ak.rtl){var aE=c.jqx.scheduler.utilities.getEndOfDay(new c.jqx.date(ax[0].date,ak.timeZone));var ar=new c.jqx.date(ax[ax.length-1].date,ak.timeZone);var ao=c(ax[ax.length-1].cell).position();var ai=ao.left;var aj=ao.top+ag;var aq=c(ax[0].cell).position().left;var aQ=aq-c(ax[ax.length-1].cell).position().left+ak.columns.records[0].width;if(al.showWeekNumbers){var aQ=aq-c(ax[ax.length-1].cell).position().left+ak.columns.records[1].width}}var Z={cells:ax,cellY:parseInt(ao.top),cellX:parseInt(ao.left),lastCellY:parseInt(ao.top),lastCellX:aq,x:ai,y:aj,height:aO,width:aQ,appointment:aC,from:ar,to:aE};at.push(Z);av.push(Z)}aC.elements=at;if(aC.rootAppointment){aC.rootAppointment.elements=aC.rootAppointment.elements.concat(aC.elements)}}var aw=this.getViewStart();var ah=this.getViewEnd();if(this._resources.length<2||this.resources.orientation=="none"){var ab=new Array();var aM=aw;var an=0;while(aM<ah){ab[an]=new Array();for(var ae=0;ae<av.length;ae++){var aB=av[ae];if(aM<=aB.from&&aB.to<aM.addDays(7)){aB.row=-1;aB.rowSpan=1;ab[an].push(aB)}}an++;aM=aM.addDays(7)}for(var ae=0;ae<ab.length;ae++){if(ab[ae].length>0){this._renderUIMonthAppointments(ab[ae])}}}else{for(var af=0;af<this._resources.length;af++){var am=this._resources[af];var aL=new Array();var ab=new Array();var aM=aw;var an=0;while(aM<ah){ab[an]=new Array();for(var ae=0;ae<av.length;ae++){var aB=av[ae];if(aM<=aB.from&&aB.to<aM.addDays(7)){aB.row=-1;aB.rowSpan=1;if(aB.appointment.resourceId==am){ab[an].push(aB)}}}an++;aM=aM.addDays(7)}for(var ae=0;ae<ab.length;ae++){if(ab[ae].length>0){this._renderUIMonthAppointments(ab[ae])}}}}},_getMonthAppointmentsPerWeek:function(){var am=this;var ac=am._views[am._view].type;var an=am._views[am._view];var ax=new Array();var ae=this.rows;var ai=c(".jqx-scheduler-month-cell:first").height();if(!am.rows){return new Array()}for(var aR=0;aR<this.appointmentsToRender.length;aR++){var aF=this.appointmentsToRender[aR];var aD=c.jqx.scheduler.utilities.getStartOfDay(aF.from);var aa=c.jqx.scheduler.utilities.getEndOfDay(aF.to);var aT=aF.allDay;var aA=am._getDateByString;var ar=new Array();var aG=new Array();var aw=aD.toDate().valueOf();var aM=aa.toDate().valueOf();var a=function(d,e){if(d.date<e.date){return -1}if(d.date==e.date){return 0}if(d.date>e.date){return 1}};var aC=-1;var aI=aF.resourceId;var aN=am._resources.indexOf(aI);if(am.resources&&am.resources.orientation=="none"){aN=-1}for(var ag=0;ag<am.rows.length;ag++){var az=am.rows[ag].cells;for(var ah=0;ah<az.length;ah++){var aK=az[ah].getAttribute("data-date");var af=aA(aK);var aL=af.valueOf();if(aL>aa){continue}if(aN!=-1){if((1+aN)!=az[ah].getAttribute("data-view")){continue}}if(aw<=aL&&aL<aM){if(aC!=ag&&aC!=-1){ar.sort(a);aG.push(ar);ar=new Array()}ar.push({cell:az[ah],date:af});aC=ag}}}ar.sort(a);aG.push(ar);var av=new Array();for(var ag=0;ag<aG.length;ag++){var az=aG[ag];if(az.length==0){break}var aJ=am.appointmentsMinHeight;if(am.isTouchDevice()){aJ=am.touchAppointmentsMinHeight}if(an.appointmentHeight){aJ=an.appointmentHeight}var aS=aJ;var at=c(az[az.length-1].cell).position().left;var aU=at-c(az[0].cell).position().left+am.columns.records[0].width;if(an.showWeekNumbers){var aU=at-c(az[0].cell).position().left+am.columns.records[1].width}var aq=c(az[0].cell).position();var ak=aq.left;var al=aq.top+ai;var aH=c.jqx.scheduler.utilities.getEndOfDay(new c.jqx.date(az[az.length-1].date,am.timeZone));var au=new c.jqx.date(az[0].date,am.timeZone);if(am.rtl){var aH=c.jqx.scheduler.utilities.getEndOfDay(new c.jqx.date(az[0].date,am.timeZone));var au=new c.jqx.date(az[az.length-1].date,am.timeZone);var aq=c(az[az.length-1].cell).position();var ak=aq.left;var al=aq.top+ai;var at=c(az[0].cell).position().left;var aU=at-c(az[az.length-1].cell).position().left+am.columns.records[0].width;if(an.showWeekNumbers){var aU=at-c(az[az.length-1].cell).position().left+am.columns.records[1].width}}var ab={cells:az,cellY:parseInt(aq.top),cellX:parseInt(aq.left),lastCellY:parseInt(aq.top),lastCellX:at,x:ak,y:al,height:aS,width:aU,appointment:aF,from:au,to:aH};av.push(ab);ax.push(ab)}}var ay=this.getViewStart();var aj=this.getViewEnd();if(this._resources.length<2||this.resources.orientation=="none"){var ad=new Array();var aP=ay;var ap=0;while(aP<aj){ad[ap]=new Array();for(var ag=0;ag<ax.length;ag++){var aE=ax[ag];if(aP<=aE.from&&aE.to<aP.addDays(7)){aE.row=-1;aE.rowSpan=1;ad[ap].push(aE)}}ap++;aP=aP.addDays(7)}var aQ=new Array();for(var ag=0;ag<ad.length;ag++){if(ad[ag].length>0){var aB=this.getMaxMonthAppointments(ad[ag]);var aJ=am.appointmentsMinHeight;if(am.isTouchDevice()){aJ=am.touchAppointmentsMinHeight}if(an.appointmentHeight){aJ=an.appointmentHeight}aQ.push((aB*(aJ+3))+22)}else{aQ.push("auto")}}return aQ}else{var aQ=new Array();for(var ah=0;ah<this._resources.length;ah++){var ao=this._resources[ah];var aO=new Array();var ad=new Array();var aP=ay;var ap=0;while(aP<aj){ad[ap]=new Array();for(var ag=0;ag<ax.length;ag++){var aE=ax[ag];if(aP<=aE.from&&aE.to<aP.addDays(7)){aE.row=-1;aE.rowSpan=1;if(aE.appointment.resourceId==ao){ad[ap].push(aE)}}}ap++;aP=aP.addDays(7)}for(var ag=0;ag<ad.length;ag++){if(ad[ag].length>0){var aB=this.getMaxMonthAppointments(ad[ag]);aQ.push((aB*(aJ+3))+22)}else{aQ.push("auto")}}return aQ}}},_renderUIMonthAppointments:function(aI){var be=this._views[this._view];var aY=aI;var bc=this.getViewStart();var a1=this.getViewEnd();var a2=1;var bb=this;a2=this.getMaxMonthAppointments(aI);var bt=bb.appointmentsMinHeight;if(bb.isTouchDevice()){bt=bb.touchAppointmentsMinHeight}if(be.appointmentHeight){bt=be.appointmentHeight}var bw=this._sortAppointmentsByFrom;if(this.rtl){bw=this._sortAppointmentsByTo}for(var aJ=0;aJ<aI.length;aJ++){var bu=aI[aJ];bu.row=-1;var by=this.getCollisionAppointments(bu,aI);by.sort(bw);var bk=by.indexOf(bu);if(bk>=0){for(var aW=bk;aW<by.length;aW++){by[aW].row=-1}}for(var aQ=0;aQ<a2;aQ++){var bo=aQ;for(var aB in by){if(aB=="indexOf"){break}var aw=by[aB];if(aw.row==-1&&!this.isBusyRow(bo,by)){aw.row=bo;var aN=a2;var bz=this.getMaxMonthAppointments(by);if(aN>bz){aN=bz}aw.rowsCount=aN}}}}for(var aQ=0;aQ<aY.length;aQ++){var bu=aY[aQ];var by=this.getCollisionAppointments(bu,aY);by.sort(bw);var bp=1;for(var aB in by){if(aB=="indexOf"){break}var aM=by[aB];bp=Math.max(bp,aM.rowsCount)}for(var aB in by){if(aB=="indexOf"){break}var aM=by[aB];aM.rowsCount=bp}if(by.length==1){bu.rowSpan=bp}else{var a6=0;var bv=true;for(var aW=bu.row;aW<bp;aW++){for(var aB in by){if(aB=="indexOf"){break}var aw=by[aB];if(aw==bu){continue}if(aw.row==aW){bv=false}}if(!bv){break}a6++}bu.rowSpan=a6}}for(var a8=0;a8<aY.length;a8++){var a9=bt;var bu=aY[a8];bu.height=a9;var ba=2+(3+a9)*bu.row;bu.y=bu.y+ba;bu.x+=1;bu.width-=5;if(bu.appointment.from.hour()!=0||bu.appointment.to.hour()!=23){if(!bb.rtl){var aU=parseFloat(bb.cellWidth/24)*(bu.appointment.from.hour())+parseFloat(bb.cellWidth/48)*(bu.appointment.from.minute()/30);bu.timewidth=bu.width;if(bu.from.clearTime().toString()==bu.appointment.from.clearTime().toString()){bu.timex=aU}else{aU=0}if(bu.appointment.elements.length>1){if(bu.appointment.elements[0]!=bu){aU=0}}var aS=parseFloat(bb.cellWidth/24)*(bu.appointment.to.hour())+parseFloat(bb.cellWidth/48)*(bu.appointment.to.minute()/30);if(bu.appointment.elements.length>1){if(bu.appointment.elements[bu.appointment.elements.length-1]!=bu){aS=0}}bu.timewidth-=aU;if(aS>0){bu.timewidth-=bb.cellWidth;bu.timewidth+=aS}if(be.appointmentsRenderMode=="exactTime"){if(bu.from.clearTime().toString()==bu.appointment.from.clearTime().toString()){bu.x+=aU}bu.width=bu.timewidth;if(bu.appointment.duration().days()<1){if(bu.width<15){bu.width=15;if(aU+15>bb.cellWidth){var a0=bb.cellWidth-aU-15;bu.x+=a0}}}}}else{var aU=parseFloat(bb.cellWidth/24)*(bu.appointment.to.hour())+parseFloat(bb.cellWidth/48)*(bu.appointment.to.minute()/30);var aS=parseFloat(bb.cellWidth/24)*(bu.appointment.from.hour())+parseFloat(bb.cellWidth/48)*(bu.appointment.from.minute()/30);if(bu.appointment.elements.length>1){if(bu==bu.appointment.elements[0]){if(aS>0){if(be.appointmentsRenderMode=="exactTime"){bu.width-=(bb.cellWidth-aU);bu.width-=aS}else{bu.timewidth=bu.width-bb.cellWidth+aU-aS}}else{bu.timewidth=bu.width;bu.timex=0}}else{if(bu==bu.appointment.elements[bu.appointment.elements.length-1]){if(be.appointmentsRenderMode=="exactTime"){bu.x+=bb.cellWidth;bu.x-=aU;bu.width+=aU;bu.width-=bb.cellWidth}bu.timewidth=bu.width-bb.cellWidth+aU;bu.timex=bb.cellWidth-aU}}}else{if(be.appointmentsRenderMode=="exactTime"){bu.x+=bb.cellWidth;bu.x-=aU;bu.width-=(bb.cellWidth-aU);bu.width-=aS}if(bu.appointment.duration().days()<1){if(bu.width<15){bu.width=15}}bu.timewidth=bu.width-bb.cellWidth+aU-aS;bu.timex=bb.cellWidth-aU}}}}for(var a8=0;a8<aY.length;a8++){var aT=aY[a8];var aO="";var aK="auto";var be=this._views[this._view];var bn=aT.appointment.from;var aA=aT.appointment.to;var aK="auto";var be=this._views[this._view];var bn=aT.appointment.from;var aA=aT.appointment.to;if(be.timeRuler&&be.timeRuler.formatString){aK=be.timeRuler.formatString}var a4=aK;if(aK==="auto"){if((bn.hour()==0&&bn.minute()==0)||(bn.hour()==12&&bn.minute()==0)){var a4="hh tt"}else{var a4="hh:mm"}if((aA.hour()==0&&aA.minute()==0)||(aA.hour()==12&&aA.minute()==0)){var bd="hh tt"}else{var bd="hh:mm"}}var bi=bn.toString(a4);var bh=aA.toString(bd);var aV=aT.appointment.duration();var bx=aT.appointment.allDay||(aV.hours===23&&aV.minutes===59&&aV.seconds===59);var bf=aT.appointment.background;var aD=aT.appointment.subject?aT.appointment.subject:"(No Title)";var aP=aT.appointment.color;var br=aT.appointment.resourceId;var aZ=bb.getColors(bb._resources.indexOf(br));var aX=" data-resourceId='"+br+"' ";var ax=aT.appointment.borderColor;var bj=aT.appointment.location;if(bj&&bj.length>1){bj=", "+bj}if(!bf){bf=aZ.background}if(!ax){ax=aZ.border}if(!aP){aP=aZ.color}var bA=aT.appointment.isRecurrentAppointment();var bl=aT.appointment.isException();var aL="";var bg=bb.toTP("jqx-scheduler-appointment-status");var aF="";var aG=bb.statuses[aT.appointment.status];var bq=false;if(aG){if(aG=="transparent"){bq=false}else{aF="<div style='background: "+aG+"; border-right-color: "+ax+"' class='"+bg+"'></div>";if(aG=="tentative"){bg=bb.toTP("jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes");aF="<div style='background-color: "+ax+"; border-right-color: "+ax+"' class='"+bg+"'></div>"}bq=true}}var a7=bb.toTP("jqx-scheduler-appointment-duration-status");var aR="<div style='width: "+aT.timewidth+"px; left: "+aT.timex+"px;' class='"+a7+"'></div>";if(bx){aR=""}if(be.appointmentsRenderMode!="exactTimeStatus"){aR=""}var a3="";if(bb.rtl){var bg=bb.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status");aF="<div style='background: "+aG+"; border-left-color: "+ax+"' class='"+bg+"'></div>";if(aG=="tentative"){bg=bb.toTP("jqx-scheduler-appointment-status-rtl jqx-scheduler-appointment-status jqx-scheduler-appointment-status-stripes");aF="<div style='background-color: "+ax+"; border-left-color: "+ax+"' class='"+bg+"'></div>"}a3=aF;aF=""}var ay="";var aH=aD+bj;if(!bx){aH=aD+bj+aR}if(bb.renderAppointment){var aC=bb.renderAppointment({appointment:aT.appointment.boundAppointment,textColor:aP,background:bf,borderColor:ax,html:aH,cssClass:"",style:"",width:aT.width,height:aT.height,view:bb._views[bb._view].type});if(aC){var aO=aC.html;if(aO!=aH){aH=aO}aP=aC.textColor;bf=aC.background;ax=aC.borderColor;if(aC.cssClass){ay=aC.cssClass+" "}if(aC.style!=""){var aZ=bb.getAppointmentColors(aC.style);bf=aZ.background;ax=aZ.border;aP=aZ.color}}}if(aL===""){if(bq){var aL="<div style='white-space:nowrap;' class='"+bb.toTP("jqx-scheduler-appointment-content")+"'>"+aF+"<div class='"+bb.toTP("jqx-scheduler-appointment-inner-content")+"'>"+aH+"</div>"+a3+"</div>"}else{var aL="<div style='white-space:nowrap;' class='"+bb.toTP("jqx-scheduler-appointment-content")+"'><div class='"+bb.toTP("jqx-scheduler-appointment-inner-content")+"'>"+aH+"</div></div>"}}var aE="";if(bb.rtl){aE=bb.toTP("jqx-rtl jqx-scheduler-appointment-rtl")+" "}if(bl){var bs=aP.toLowerCase()=="white"?bb.toTP("jqx-icon-recurrence-exception-white"):bb.toTP("jqx-icon-recurrence-exception");aO="<div data-key='"+aT.appointment.id+"'"+aX+"class='"+aE+ay+bb.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+aT.x+"px; top: "+aT.y+"px; width: "+aT.width+"px; line-height: "+aT.height+"px; height: "+aT.height+"px; border-color:"+ax+"; color:"+aP+"; background:"+bf+";'><div class='"+bs+"'></div>"+aL+"<div class='"+bb.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+bb.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>"}else{if(bA){var bm=aP.toLowerCase()=="white"?bb.toTP("jqx-icon-recurrence-white"):bb.toTP("jqx-icon-recurrence");aO="<div data-key='"+aT.appointment.id+"'"+aX+"class='"+aE+ay+bb.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+aT.x+"px; top: "+aT.y+"px; width: "+aT.width+"px; line-height: "+aT.height+"px; height: "+aT.height+"px; border-color:"+ax+"; color:"+aP+"; background:"+bf+";'><div class='"+bm+"'></div>"+aL+"<div class='"+bb.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+bb.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>"}else{aO="<div data-key='"+aT.appointment.id+"'"+aX+"class='"+aE+ay+bb.toTP("jqx-scheduler-appointment jqx-rc-all")+"' style='position:absolute; z-index: 399; left: "+aT.x+"px; top: "+aT.y+"px; width: "+aT.width+"px; line-height: "+aT.height+"px; height: "+aT.height+"px; border-color:"+ax+"; color:"+aP+"; background:"+bf+";'>"+aL+"<div class='"+bb.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-left-resize-indicator")+"'></div><div class='"+bb.toTP("jqx-scheduler-appointment-resize-indicator jqx-scheduler-appointment-right-resize-indicator")+"'></div>"}}var az=c(aO);az.appendTo(this.table);aT.element=az;if(this.appointmentTooltips){if(!aT.appointment.tooltip){var a=aT.appointment.subject;if(bi&&!bx){a=bi+" - "+bh+" "+a}if(a){var bj=aT.appointment.location;if(bj){a+="\n"+bj}az[0].setAttribute("title",a)}}else{az[0].setAttribute("title",aT.appointment.tooltip)}}var a5=false;c.each(aT.cells,function(){var d=c(this.cell);var e=d.position();if(!d[0].appointments){d[0].appointments=new Array()}d[0].appointments.push({ui:az,appointment:aT});if(aT.y+aT.height+2>=e.top+d.height()){az.css("visibility","hidden");var f=d.find(".jqx-icon-arrow-down");f.show();if(f[0]){f[0].mousedown=function(){if(bb.openedMonthCellPopup){bb.openedMonthCellPopup.remove()}var t=c("<div></div>");var o=d.find("div").clone(true);o.find("span").removeClass().addClass(bb.toTP("jqx-icon-close"));o.find("span")[0].mousedown=function(){t.remove()};o.addClass(bb.toTP("jqx-widget-header"));t.addClass(bb.toTP("jqx-widget"));t.addClass(bb.toTP("jqx-window"));t.addClass(bb.toTP("jqx-scheduler-month-cell-popup"));t.addClass(bb.toTP("jqx-popup"));var l=c("<div></div>");t.append(o);t.append(l);l.addClass(bb.toTP("jqx-widget-content jqx-disableselect"));var n=d.width();var h=5+d.find("div").outerHeight();for(var s=0;s<d[0].appointments.length;s++){var q=d[0].appointments[s].ui.clone(true);q.css("left","3px");q.css("top","0px");q.css("margin-top","2px");q.css("position","relative");q.css("visibility","visible");q.width(n-6);h+=q.outerHeight()+4;l.append(q)}t.css("overflow","hidden");t.css("position","absolute");t.height(h);t.width(n);t.css("z-index","999999");t.css("top",e.top);t.css("left",e.left);bb.table.append(t);bb.openedMonthCellPopup=t}}}})}},_sortByDate:function(a,f){var h=a.getAttribute("data-date");h=this._getDateByString(h);var l=f.getAttribute("data-date");l=this._getDateByString(l);if(h<l){return -1}if(h>l){return 1}if(h==l){return 0}},_sortAppointmentsByFrom:function(a,h){if(a.from.equals(h.from)){var n=a.to-a.from;var l=n*10000;var n=h.to-h.from;var o=n*10000;if(l>o){return -1}}if(a.from<h.from){return -1}if(a.from>h.from){return 1}if(a.from==h.from){return 0}},_sortAppointmentsByTo:function(a,h){if(a.to.equals(h.to)){var n=a.to-a.from;var l=n*10000;var n=h.to-h.from;var o=n*10000;if(l>o){return -1}}if(a.to<h.to){return -1}if(a.to>h.to){return 1}if(a.to==h.to){return 0}},_sortAppointmentsByResourceId:function(a,h,l){var n=l._resources.indexOf(a.resourceId);var o=l._resources.indexOf(h.resourceId);if(n==o){return 0}if(n<o){return -1}if(n>o){return -1}},isBusyRow:function(f,h){for(var l=0;l<h.length;l++){var a=h[l];if(a.row==f){return true}}return false},isBusyColumn:function(f,h){for(var l=0;l<h.length;l++){var a=h[l];if(a.column==f){return true}}return false},getMaxTimelineAppointments:function(S,C,P,Q){if(S.length==0){return 1}var M=this;var B=M._views[M._view].type;var L=M._views[M._view];var K=1;var I=P;var A=Q;var E=this.getMinutesPerScale();var H=null;var D=null;var a="";for(var O in S){if(O=="indexOf"){break}var R=S[O];if(!H){H=R.from}if(!D){D=R.to}H=Math.min(R.from,H);D=Math.max(R.to,D);a+=R.appointment.id}a+=H;a+=D;if(C[a]){return C[a]}H=new c.jqx.date(H,M.timeZone);D=new c.jqx.date(D,M.timeZone);var I=H;while(H<D){var F=I;if(B==="timelineMonthView"){var T=F.addDays(1)}else{var T=F.addMinutes(E)}var G=0;for(var O in S){if(O=="indexOf"){break}var R=S[O];var N=R.from;var z=R.to;var J=c.jqx.scheduler.utilities.rangeIntersection(F,T,N,z);if(J){G++}}K=Math.max(G,K);if(B==="timelineMonthView"){I=I.addDays(1,false)}else{I=I.addMinutes(E,false)}}C[a]=K;return K},getMaxMonthAppointments:function(A){var w=this._views[this._view].type;var t=this._views[this._view];if(A.length==0){return 1}var a=1;var z=this.getViewStart().clone();var C=this.getViewEnd();while(z<C){var v=z;var u=c.jqx.scheduler.utilities.getEndOfDay(v);var q=0;for(var B in A){if(B=="indexOf"){break}var F=A[B];var D=F.from;var E=F.to;var s=c.jqx.scheduler.utilities.rangeIntersection(v,u,D,E);if(s){q++}}a=Math.max(q,a);z=z.addDays(1,false)}return a},getMaxAllDayAppointments:function(w){var t=this._views[this._view].type;var q=this._views[this._view];var v=this;if(w.length==0){return 1}var a=function(d){var C=1;var I=v.getViewStart();var f=v.getViewEnd();while(I<f){var H=I;var G=c.jqx.scheduler.utilities.getEndOfDay(H);var D=0;for(var e in d){if(e=="indexOf"){break}var n=d[e];var F=n;if(n.appointment){F=n.appointment}if(F.hidden==true){continue}if(!F.duration){continue}if(F.allDay||F.duration().days()>=1){var h=n.from;var l=n.to;var E=c.jqx.scheduler.utilities.rangeIntersection(H,G,h,l);if(E){D++}}}C=Math.max(D,C);I=I.addDays(1,false)}return C};if(this._resources.length<2||(!this.resources.orientation||this.resources.orientation=="none")){var o=a(w)}else{var s=1;for(var A=0;A<this._resources.length;A++){var B=this._resources[A];var u=new Array();for(var z=0;z<w.length;z++){if(w[z].appointment&&w[z].appointment.resourceId==B){u.push(w[z])}else{if(w[z].resourceId!=undefined&&w[z].resourceId==B){u.push(w[z])}}}var o=a(u);s=Math.max(s,o)}o=s}return o},getMinutesPerScale:function(){var a=this._views[this._view].type;var h=this._views[this._view];var l=30;var f="halfHour";if(h.timeRuler&&h.timeRuler.scale){f=h.timeRuler.scale}switch(f){case"sixtyMinutes":case"hour":l=60;break;case"thirtyMinutes":case"halfHour":l=30;break;case"fifteenMinutes":case"quarterHour":l=15;break;case"tenMinutes":l=10;break;case"fiveMinutes":l=5;break}return l},getMaxColumnsInADay:function(A){var w=this._views[this._view].type;var t=this._views[this._view];var G=30;var I="halfHour";if(t.timeRuler&&t.timeRuler.scale){I=t.timeRuler.scale}switch(I){case"sixtyMinutes":case"hour":G=60;break;case"thirtyMinutes":case"halfHour":G=30;break;case"fifteenMinutes":case"quarterHour":G=15;break;case"tenMinutes":G=10;break;case"fiveMinutes":G=5;break}if(A.length==0){return 1}var H=1;var z=A[0].from.clone();var C=z.addMinutes(G);var D=c.jqx.scheduler.utilities.getEndOfDay(z);while(z<D){var u=z;var v=C;var a=0;for(var B in A){if(B=="indexOf"){break}var J=A[B];if(!J.from&&!J.to){continue}var E=J.from;var F=J.to;var s=c.jqx.scheduler.utilities.rangeIntersection(u,v,E,F);if(s){a++}}H=Math.max(a,H);z=z.addMinutes(G,false);C=C.addMinutes(G,false)}return H},getTouches:function(a){return c.jqx.mobile.getTouches(a)},_updatecolumnwidths:function(){var o=this;var l=this._hostWidth;var w=l;if(this.vScrollBar.css("visibility")!=="hidden"){l-=parseInt(this.scrollBarSize)+6;if(this.rtl){l+=3}w=l}var n="";if(this.columns==undefined||this.columns.records==undefined){return}var o=this;var q=false;var a=new Array();c.each(this.columns.records,function(e,d){if(!(this.hidden)){if(this.width.toString().indexOf("%")!=-1||this._percentagewidth!=undefined){var d=0;var f=o.vScrollBar[0].style.visibility=="hidden"?0:o.scrollBarSize+5;d=parseFloat(this.width)*w/100;if(this._percentagewidth!=undefined){d=parseFloat(this._percentagewidth)*(w)/100}if(d<this.minwidth&&this.minwidth!="auto"){d=this.minwidth}if(d>this.maxwidth&&this.maxwidth!="auto"){d=this.maxwidth}l-=Math.round(d)}else{if(this.width!="auto"&&!this._width){l-=this.width}else{n+=this.text}}if(this._width=="auto"){a[a.length]=this}}});var t=this.columnsheader.find("#columntable"+this.element.id);if(t.length==0){return}var v=0;var s=t.find(".jqx-grid-column-header");var u=0;c.each(this.columns.records,function(h,F){var A=this.element;var C=false;var D=this.width;var e=this.width;if(this.width.toString().indexOf("%")!=-1||this._percentagewidth!=undefined){if(this._percentagewidth!=undefined){D=parseFloat(this._percentagewidth)*w/100}else{D=parseFloat(this.width)*w/100}D=Math.round(D);C=true}if(this.width!="auto"&&!this._width&&!C){if(parseInt(A[0].style.width)!=this.width){A.width(this.width)}}else{if(C){if(D<this.minwidth&&this.minwidth!="auto"){D=this.minwidth;this.width=D}if(D>this.maxwidth&&this.maxwidth!="auto"){D=this.maxwidth;this.width=D}if(parseInt(A[0].style.width)!=D){A.width(D);this.width=D}}else{var z=o.columns.records.length;var f=o._views[o._view].type;if(f==="dayView"||f==="weekView"){var d=o._views[o._view];if(d.timeRuler){if(d.timeRuler.timeZones){z-=d.timeRuler.timeZones.length}z--}else{z--}}else{if(f==="monthView"&&o._views[o._view].showWeekNumbers){z--}}var B=Math.floor(l*(1/z));if(o.resources&&o.resources.resourceColumnWidth&&o.resources.resourceColumnWidth!="auto"){B=o.resources.resourceColumnWidth}else{if(o.resources&&o.resources.resourceColumnWidth&&o.resources.resourceColumnWidth=="auto"){if(o.resources.orientation=="horizontal"){B=Math.round((2+l)*(1/o._getColumnsLengthPerView()))}}}var G=(l*(1/z))-B;v+=G;if(v>=1){v-=1;B++}if(v>=0.5&&h==o.columns.records.length-1){B++}if(f=="agendaView"){B=l/a.length;B++}if(B<0){var E=c("<span>"+this.text+"</span>");c(document.body).append(E);B=10+E.width();E.remove()}if(B<this.minwidth){B=this.minwidth}if(B>this.maxwidth){B=this.maxwidth}this._width="auto";this.width=parseInt(B);A.width(this.width)}}if(parseInt(A[0].style.left)!=u){A.css("left",u)}if(!(this.hidden)){u+=this.width}this._requirewidthupdate=true;if(e!==this.width){q=true}});this.columnsheader.width(2+u);t.width(this.columnsheader.width());this._resizecolumnGroups();if(q){this._renderrows();o._arrange()}},_rendercolumnheaders:function(){var M=this;if(this._updating){return}var J=this._views[this._view];this._columnsbydatafield=new Array();this.columnsheader.find("#columntable"+this.element.id).remove();var L=c('<div id="columntable'+this.element.id+'" style="height: 100%; position: relative;"></div>');L[0].cells=new Array();var D=0;var P=0;var H="";var F=this._hostWidth;if(!F){this._hostWidth=this.host.width()}var z=this._hostWidth;var I=z;var a=this.getRows().length;var A=this.rowsHeight;if(this.isTouchDevice()){A=this.touchRowsHeight}if(a*A>this.host.height()){this.vScrollBar[0].style.visibility="inherit"}if(this.vScrollBar.css("visibility")!=="hidden"){z-=parseInt(this.scrollBarSize)+6;if(this.rtl){z+=3}I=z}var E=new Array();var C=new Array();c.each(this.columns.records,function(e,d){if(!(this.hidden)){if(this.width!="auto"&&!this._width){if(this.width<this.minwidth&&this.minwidth!="auto"){z-=this.minwidth}else{if(this.width>this.maxwidth&&this.maxwidth!="auto"){z-=this.maxwidth}else{if(this.width.toString().indexOf("%")!=-1){var d=0;d=parseFloat(this.width)*I/100;if(d<this.minwidth&&this.minwidth!="auto"){d=this.minwidth}if(d>this.maxwidth&&this.maxwidth!="auto"){d=this.maxwidth}z-=d}else{if(typeof this.width=="string"){this.width=parseInt(this.width)}z-=this.width}}}}else{H+=this.text}}if(this.width==null||this.width=="auto"){C[C.length]=this}E[E.length]=this});if(this.rtl){for(var B=0;B<E.length;B++){this.columns.replace(B,E[B])}}var N=this.headerZIndex;var K=0;var O=M.columnsHeight;var R=function(e,d){var f=M.columnGroupslevel*M.columnsHeight;f=f-(d.level*M.columnsHeight);return f};var G=0;var Q=document.createDocumentFragment();c.each(this.columns.records,function(d,v){this.height=M.columnsHeight;if(M.columnGroups){if(M.columnGroups.length){this.height=R(this.datafield,this);O=this.height}}var q=M.toTP("jqx-grid-column-header")+" "+M.toTP("jqx-widget-header");if(M.rtl){q+=" "+M.toTP("jqx-grid-column-header-rtl")}if(!M.enableBrowserSelection){q+=" "+M.toTP("jqx-disableselect")}var U=!M.rtl?N--:N++;var l=document.createElement("div");l.setAttribute("role","columnheader");l.style.position="absolute";l.style.zIndex=U;l.style.height="100%";l.className=q;var o=c(l);if(M.rtl&&d===0){o[0].style.borderLeftColor="transparent"}if(M.columnGroups){o[0].style.height=O+"px";o[0].style.bottom="0px"}else{if(!this.timeColumn){o[0].style.height=-1+O+"px"}}this.uielement=o;this.element=o;if(this.classname!=""&&this.classname){o.addClass(this.classname)}var u=this.width;var s=false;if(this.width===null){this.width="auto"}if(this.width.toString().indexOf("%")!=-1||this._percentagewidth!=undefined){if(this._percentagewidth!=undefined){u=parseFloat(this._percentagewidth)*I/100}else{u=parseFloat(this.width)*I/100}u=Math.round(u);s=true}if(this.width!="auto"&&!this._width&&!s){if(u<this.minwidth&&this.minwidth!="auto"){u=this.minwidth}if(u>this.maxwidth&&this.maxwidth!="auto"){u=this.maxwidth}o[0].style.width=parseInt(u)+"px"}else{if(s){if(u<this.minwidth&&this.minwidth!="auto"){u=this.minwidth}if(u>this.maxwidth&&this.maxwidth!="auto"){u=this.maxwidth}if(this._percentagewidth==undefined||this.width.toString().indexOf("%")!=-1){this._percentagewidth=this.width}o.width(u);this.width=u}else{var h=M.columns.records.length;var e=M._views[M._view].type;if(e==="dayView"||e==="weekView"){var S=M._views[M._view];if(S.timeRuler){if(S.timeRuler.timeZones){h-=S.timeRuler.timeZones.length}h--}else{h--}}else{if(e==="monthView"&&M._views[M._view].showWeekNumbers){h--}}var n=Math.floor(z*(1/h));if(M.resources&&M.resources.resourceColumnWidth&&M.resources.resourceColumnWidth!="auto"){n=M.resources.resourceColumnWidth}else{if(M.resources&&M.resources.resourceColumnWidth&&M.resources.resourceColumnWidth=="auto"){if(M.resources.orientation=="horizontal"){n=Math.round((2+z)*(1/M._getColumnsLengthPerView()))}}}var w=(z*(1/h))-n;G+=w;if(G>=1){G-=1;n++}if(G>=0.5&&d==M.columns.records.length-1){n++}if(isNaN(n)){n=this.minwidth}if(e=="agendaView"){n=z/C.length;n++}if(n<0){$element=c("<span>"+this.text+"</span>");c(document.body).append($element);n=10+$element.width();$element.remove()}if(n<this.minwidth){n=this.minwidth}if(n>this.maxwidth){n=this.maxwidth}this._width="auto";this.width=parseInt(n);u=this.width;o.width(this.width)}}if(this.timeColumn){o.css("border-bottom-color","transparent");if(J.timeRuler&&J.timeRuler.timeZones){if(d<J.timeRuler.timeZones.length){o.css("border-right-color","transparent")}}if(this.tableRows==1){o.addClass(M.toTP("jqx-scheduler-time-column"))}}if(this.hidden){o.css("display","none")}var t=c(o.children()[0]);L[0].cells[d]=o[0];var f=M._rendercolumnheader(this.text,this.align,O,M);o[0].innerHTML=f;Q.appendChild(o[0]);var T=this;o[0].style.left=P+"px";if(!(this.hidden)){P+=u}});L[0].appendChild(Q);if(P>0){this.columnsheader[0].style.width=2+P+"px"}else{this.columnsheader[0].style.width=P+"px"}this._columnswidth=P;this.columnsrow=L;M.columnsheader.append(L);L[0].style.width=P+"px";if(this.columnGroups){this._rendercolumnGroups()}},_rendercolumnGroups:function(){if(!this.columnGroups){return}var a=this.headerZIndex+this.columns.records.length;var w=this;var D=w.toTP("jqx-grid-column-header")+" "+w.toTP("jqx-grid-columngroup-header")+" "+w.toTP("jqx-widget-header");if(w.rtl){D+=" "+w.toTP("jqx-grid-columngroup-header-rtl")}var F=this.columnsheader.find("#columntable"+this.element.id);F.find("jqx-grid-columngroup-header").remove();for(var C=0;C<this.columnGroupslevel-1;C++){for(var A=0;A<this.columnGroups.length;A++){var u=this.columnGroups[A];var H=u.level;if(H!==C){continue}var v=H*this.columnsHeight;var G=99999;if(u.groups){var s=function(d){var f=0;for(var h=0;h<d.groups.length;h++){var e=d.groups[h];if(!e.groups){if(!e.hidden){f+=e.width;G=Math.min(parseInt(e.element[0].style.left),G)}}else{f+=s(e)}}return f};u.width=s(u);u.left=G;var t=this.columnsHeight;var z=a--;var E=c('<div role="columnheader" style="z-index: '+z+';position: absolute;" class="'+D+'"></div>');var B=c(this._rendercolumnheader(u.text,u.align,this.columnsHeight,this));if(u.renderer){u.renderer(E,u.text)}E.append(B);E[0].style.left=G+"px";if(G===0){E[0].style.borderLeftColor="transparent"}E[0].style.top=v+"px";E[0].style.height=t+"px";E[0].style.width=-1+u.width+"px";F.append(E);u.element=E}}}},_resizecolumnGroups:function(){if(!this.columnGroups){return}for(var u=0;u<this.columnGroups.length;u++){var n=this.columnGroups[u];var l=n.level;var o=l*this.columnsHeight;var q=99999;if(n.groups){var s=function(d){var e=0;for(var f=0;f<d.groups.length;f++){var h=d.groups[f];if(!h.groups){e+=h.width;q=Math.min(parseInt(h.element[0].style.left),q)}else{e+=s(h)}}return e};n.width=s(n);n.left=q;var a=this.columnsHeight;var t=n.element;t[0].style.left=q+"px";t[0].style.top=o+"px";t[0].style.height=a+"px";t[0].style.width=-1+n.width+"px"}}},_removecolumnhandlers:function(f){var l=this;var a=c(f.element);if(a.length>0){l.removeHandler(a,"mouseenter");l.removeHandler(a,"mouseleave");var h=c(f.filtericon);l.removeHandler(h,"mousedown");l.removeHandler(h,"click");l.removeHandler(a,"click")}},destroy:function(){var a=this;a._removeHandlers();if(a._editDialog){a._editDialog.jqxWindow("destroy")}if(a.menu){a.menu.jqxMenu("destroy")}if(a.editRecurrenceDialog){a.editRecurrenceDialog.jqxWindow("destroy")}a.vScrollBar.jqxScrollBar("destroy");a.hScrollBar.jqxScrollBar("destroy");delete a.vScrollBar;delete a.hScrollBar;delete a._mousewheelfunc;c.jqx.utilities.resize(a.host,null,true);a.host.remove()},propertyChangedHandler:function(a,l,f,h){if(this.isInitialized==undefined||this.isInitialized==false){return}if(h!==f){if(l=="filterable"){a._render()}else{if(l==="height"){a.host.height(a.height);a.host.width(a.width);a._updatesize(false,true)}else{if(l==="width"){a.host.height(a.height);a.host.width(a.width);a._updatesize(true,false)}else{if(l==="source"){a.updateBoundData()}else{if(l=="resources"){a.updateBoundData()}else{if(l==="columns"||l==="columnGroups"){a._columns=null;a._render()}else{if(l==="selectionMode"){a.selectionMode=h.toLowerCase()}else{if(l=="touchMode"){a._removeHandlers();a.touchDevice=null;a.vScrollBar.jqxScrollBar({touchMode:h});a.hScrollBar.jqxScrollBar({touchMode:h});a.refresh();a._addHandlers()}else{if(l=="enableHover"){return}else{if(l=="showLegend"){a.legendbartop.show();a.legendbarbottom.show();a.refresh()}else{if(l=="disabled"){if(h){a.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"))}else{a.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled"))}a.host.find(".jqx-grid-group-collapse").css("cursor",h?"default":"pointer");a.host.find(".jqx-grid-group-expand").css("cursor",h?"default":"pointer")}else{if(l=="columnsHeight"){a._render()}else{if(l=="theme"){c.jqx.utilities.setTheme(f,h,a.host);if(a._editDialog){c.jqx.utilities.setTheme(f,h,a._editDialog)}if(a.editRecurrenceDialog){c.jqx.utilities.setTheme(f,h,a.editRecurrenceDialog)}if(a.menu){a.menu.jqxMenu({theme:a.theme})}a.vScrollBar.jqxScrollBar({theme:a.theme});a.hScrollBar.jqxScrollBar({theme:a.theme});a.refresh()}else{a.refresh()}}}}}}}}}}}}}}},_rendercolumnheader:function(n,l,s,q){var o="4px";if(q.columnGroups){o=(s/2-this._columnheight/2);if(o<0){o=4}o+="px"}else{if(this.columnsHeight!=25){o=(this.columnsHeight/2-this._columnheight/2);if(o<0){o=4}o+="px"}}var t='<div style="overflow: hidden; text-overflow: ellipsis; text-align: '+l+"; margin-left: 4px; margin-right: 4px; margin-bottom: "+o+"; margin-top: "+o+';"><span style="text-overflow: ellipsis; cursor: default;">'+n+"</span></div>";if(this.columnRenderer){var a=this.columnRenderer(n,l,s,t);if(a!=undefined){return a}}return t}})})(jqxBaseFramework);(function(c){if(!c.jqx.scheduler){c.jqx.scheduler={}}c.jqx.scheduler.utilities={weekDays:{Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6},guid:function(){function a(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}return a()+a()},areWeekDaysIncluded:function(e,f){var a=false;c.each(e,function(h,d){if(d===f){a=true;return false}});return a},getStartOfDay:function(d){var a=new c.jqx.date(d.year(),d.month(),d.day(),0,0,0);a.timeZone=d.timeZone;return a},getEndOfDay:function(d){var a=new c.jqx.date(d.year(),d.month(),d.day(),23,59,59);a.timeZone=d.timeZone;return a},getDaysCount:function(e,f){var a=1;while(e<f){if(e.day()!=f.day()){a++}e=e.addDays(1)}return a},getStartOfWeek:function(n,h){var q=n.dayOfWeek();var a=h.firstDay;if(q<a){q+=7}var o=q-a;var l=n.addDays(-o);return l.date()},getEndOfWeek:function(n,l,o){var h=7;var a=that.getStartOfWeek(n,dateTimeFormat,o);return a.addDays(h)},getEndOfMonth:function(h,f){var l=h.daysInMonth();var a=new c.jqx.date(h.year(),h.month(),l,23,59,59);a.timeZone=h.timeZone;return a},rangeIntersection:function(l,n,q,s){var o=l.valueOf();var t=q.valueOf();var u=n.valueOf();var a=s.valueOf();if(t>=o&&t<u){return true}if(t<o&&a>o){return true}if(o==t||u==a){return true}if(o<t){if(u>t&&u<a){return true}if(u>a){return true}}else{if(a>o&&a<u){return true}if(a>u){return true}}return false},rangeContains:function(f,h,l,a){return(f<=l&&a<=h)},monthDays:[31,28,31,30,31,30,31,31,30,31,30,31],msPerDay:1000*60*60*24,maxYear:9999,ORDINAL_BASE:new Date(1970,0,1),getYearDay:function(a){var d=new Date(a.getFullYear(),a.getMonth(),a.getDate());return Math.ceil((d-new Date(a.getFullYear(),0,1))/c.jqx.scheduler.utilities.msPerDay)+1},isLeapYear:function(a){if(a instanceof Date){a=a.getFullYear()}return((a%4===0)&&(a%100!==0))||(a%400===0)},tzOffset:function(a){return a.getTimezoneOffset()*60*1000},monthRange:function(f,e){var a=new Date(f,e,1);return[c.jqx.scheduler.utilities.getWeekday(a),c.jqx.scheduler.utilities.getMonthDays(a)]},getMonthDays:function(a){var d=a.getMonth();return d==1&&c.jqx.scheduler.utilities.isLeapYear(a)?29:c.jqx.scheduler.utilities.monthDays[d]},getWeekday:function(a){var d=[6,0,1,2,3,4,5];return d[a.getDay()]},combine:function(a,d){d=d||a;return new Date(a.getFullYear(),a.getMonth(),a.getDate(),d.getHours(),d.getMinutes(),d.getSeconds())},sort:function(a){a.sort(function(e,f){return e.getTime()-f.getTime()})},timeToUntilString:function(l){var o=new Date(l);var a,h=[o.getUTCFullYear(),o.getUTCMonth()+1,o.getUTCDate(),"T",o.getUTCHours(),o.getUTCMinutes(),o.getUTCSeconds(),"Z"];for(var n=0;n<h.length;n++){a=h[n];if(!/[TZ]/.test(a)&&a<10){h[n]="0"+String(a)}}return h.join("")},untilStringToDate:function(e){var a=/^(\d{4})(\d{2})(\d{2})(T(\d{2})(\d{2})(\d{2})Z)?$/;var f=a.exec(e);if(!f){throw new Error("Invalid UNTIL value: "+e)}return new Date(Date.UTC(f[1],f[2]-1,f[3],f[5]||0,f[6]||0,f[7]||0))},Time:function(a,e,f){this.hour=a;this.minute=e;this.second=f;this.that=this;this.getHours=function(){return that.hour};this.getMinutes=function(){return that.minute},this.getSeconds=function(){return that.second},this.getTime=function(){return((that.hour*60*60)+(that.minute*60)+that.second)*1000}}};c.jqx.scheduler.appointment=function(){var f=this;f.from=new c.jqx.date();f.to=new c.jqx.date().addHours(1);f.subject="";f.description="";f.location="";f.tooltip="";f.hidden=false;f.resourceId=null;f.id="";f.background=null;f.color=null;f.borderColor=null;f.status="busy";f.style=null;f.exceptions=new Array();f.exceptionDates=new Array();f.recurrencePattern=null;f.recurrenceException=new Array();f.occurrenceEnumerator=null;f.rootAppointment=null;f.hiddenByResourceId=false;f.draggable=true;f.resizable=true;f.recurrentAppointment=false;f.allDay=false;f.readOnly=false;f.showStatus=true;f.timeZone=null;f.scheduler=null;f.elements=new Array();f.duration=function(){var h=f.to-f.from;var d=h*10000;return new c.jqx.timeSpan(d)};f.toString=function(l){var q=function(h){var t="";while(h.length>75){t+=h.substr(0,75)+"\n";h=" "+h.substr(75)}t+=h;return t};var n=function(h){return(h<10?"0":"")+h};var d=function(h,t){return(!h?"":(t?""+h.getFullYear()+n(h.getMonth()+1)+n(h.getDate())+"T"+n(h.getHours())+n(h.getMinutes())+n(h.getSeconds()):""+h.getUTCFullYear()+n(h.getUTCMonth()+1)+n(h.getUTCDate())+"T"+n(h.getUTCHours())+n(h.getUTCMinutes())+n(h.getUTCSeconds())+"Z"))};var o=function(){var t="";for(var h=0;h<f.recurrenceException.length;h++){t+=d(f.recurrenceException[h].toDate(),l);if(h<f.recurrenceException.length-1){t+=","}}return t};var s=f.status;if(!s){s="CONFIRMED"}if(s.toLowerCase()=="busy"){s="CONFIRMED"}if(s.toLowerCase()=="tentative"){s="TENTATIVE"}if(s.toLowerCase()=="free"){s="CANCELLED"}if(s.toLowerCase()=="outOfOffice"){s="CANCELLED"}return"BEGIN:VEVENT\nUID:"+f.id+"\nDTSTAMP:"+d(new Date(),l)+"\n"+q("TITLE:"+f.subject)+"\nDTSTART:"+d(f.from.toDate(),l)+"\nDTEND:"+d(f.to.toDate(),l)+"\n"+(f.recurrencePattern?"RRULE:"+f.recurrencePattern.toString()+"\n":"")+(f.recurrenceException&&f.recurrenceException.length>0?"EXDATE:"+o()+"\n":"")+(f.subject?q("SUMMARY:"+f.subject)+"\n":"")+"TRANSP:OPAQUE\n"+(f.status?q("STATUS:"+s)+"\n":"")+(f.description?q("DESCRIPTION:"+f.description)+"\n":"")+(f.location?q("LOCATION:"+f.location)+"\n":"")+"END:VEVENT"};f.range=function(){if(!f.allDay){return{from:f.from,to:f.to}}else{return{from:c.jqx.scheduler.utilities.getStartOfDay(f.from),to:c.jqx.scheduler.utilities.getEndOfDay(f.to)}}};f.clearRecurrence=function(){if(f.recurrencePattern){f.exceptions=new Array();f.exceptionDates=new Array();f.recurrencePattern=null;f.recurrenceException=new Array();f.hidden=false}};f.isAllDayAppointment=function(){return this.duration().days()>=1||this.allDay};f.cloneAppointmentAttributes=function(d){d.subject=f.subject;d.description=f.description;d.location=f.location;d.tooltip=f.tooltip;d.resourceId=f.resourceId;d.category=f.category;d.status=f.status;d.rootAppointment=f;d.color=f.color;d.borderColor=f.borderColor;d.background=f.background;d.hidden=f.hidden;d.timezone=f.timeZone;d.style=f.style;d.hiddenByResourceId=f.hiddenByResourceId};f.createOccurrence=function(d){if(d==null){return null}var h=new c.jqx.scheduler.appointment();h.allDay=f.allDay;var l=f.duration();if(f.allDay){l=new c.jqx.timeSpan(10000*(f.to-f.from))}h.from=d;h.to=d.add(l);h.occurrenceFrom=d.clone();h.subject=f.subject;h.description=f.description;h.location=f.location;h.tooltip=f.tooltip;h.resourceId=f.resourceId;h.category=f.category;h.status=f.status;h.rootAppointment=f;h.color=f.color;h.draggable=f.draggable;h.resizable=f.resizable;h.borderColor=f.borderColor;h.background=f.background;h.recurrentAppointment=true;h.timeZone=f.timeZone;h.style=f.style;h.hiddenByResourceId=f.hiddenByResourceId;if(f.hiddenByResourceId){h.hidden=true}h.id=f.id+"."+c.jqx.scheduler.utilities.guid();f.hidden=true;f.occurrenceIndex++;return h};f.clone=function(){var d=new c.jqx.scheduler.appointment();d.allDay=f.allDay;d.from=f.from.clone();d.to=f.to.clone();d.subject=f.subject;d.description=f.description;d.location=f.location;d.tooltip=f.tooltip;d.resourceId=f.resourceId;d.category=f.category;d.status=f.status;d.color=f.color;d.borderColor=f.borderColor;d.background=f.background;d.style=f.style;d.timeZone=f.timeZone;d.hiddenByResourceId=f.hiddenByResourceId;if(f.hiddenByResourceId){d.hidden=true}d.id=f.id+"."+c.jqx.scheduler.utilities.guid();return d};f.isRecurrentAppointment=function(){return f.recurrentAppointment||f.recurrencePattern!=null};f.anyExceptions=function(){return f.exceptions!=null&&f.exceptions.length>0};f.anyOccurrences=function(){return f.occurrenceEnumerator!=null&&f.occurrenceEnumerator.getNextAppointment()};f.isException=function(){var d=f.rootAppointment||this;if(!d.recurrenceException){return false}for(var h=0;h<d.recurrenceException.length;h++){var l=d.recurrenceException[h];if(f.occurrenceFrom&&l.equals(f.occurrenceFrom)){return true}}return false};f.getOccurrences=function(d,l){f.occurrenceIndex=0;var n=d!==null?d:f.from;var o=new c.jqx.scheduler.recurrentAppointmentsList(f,f.calendar,n,l,f.scheduler);f.occurrences=o.list;return o.list};if(arguments.length===1){if(c.type(arguments[0])=="object"){for(var a in arguments[0]){var e=arguments[0][a];if(this[a]!==undefined){this[a]=e}}}else{f.from=arguments[0];f.to=new c.jqx.date(f.from).addHours(1)}}else{if(arguments.length===2){f.from=arguments[0];f.to=arguments[1]}else{if(arguments.length===3){f.from=arguments[0];f.to=arguments[1];f.subject=arguments[2]}else{if(arguments.length===3){f.from=arguments[0];f.to=arguments[1];f.subject=arguments[2];f.description=arguments[3]}}}}if(f.recurrencePattern!=null){f.recurrencePattern.setFrom(f.from)}};c.jqx.scheduler.recurrentAppointmentsList=function(){var a=this;a.recurrentAppointment=null;a.currentTime=null;a.calendar=c.jqx.scheduler.calendar;a.from=new c.jqx.date(0);a.to=new c.jqx.date(9999,12,31);a.foundItems=0;a.list=new Array();a.scheduler=null;a.getOccurrences=function(l,f,h){if(l==undefined){return a.list}return new c.jqx.scheduler.recurrentAppointmentsList(l,a.calendar,f,h).list};a.current=function(){return a.recurrentAppointment.createOccurrence(a.currentTime)};a.fillList=function(){a.currentTime=null;a.foundItems=0;a.list=new Array();var f=a.recurrentAppointment.recurrencePattern;f.step=0;f.current=0;f.currentYearDay=0;if(f==null){return false}while(a.getNextAppointment(f)){var e=a.current();if(e){a.list.push(e)}}};a.getNextAppointment=function(s){if(a.recurrentAppointment==null){return false}var w=4294967295;var q=this.scheduler._views[this.scheduler._view].type;var n=this.scheduler._views[this.scheduler._view];var u=0;switch(s.freq){case"weekly":u=7;break;case"monthly":u=31;break;case"yearly":u=365;break}for(var v=0;v<w;v++){var o=s.getNewOccurenceDate();s.currentTime=o;if((s.to<o&&s.to.addDays(u)>=o)||(a.to<o&&a.to.addDays(u)>=o)){a.currentTime=null;return true}if(s.to.addDays(u)<o||a.to.addDays(u)<o){a.currentTime=null;return false}var t=true;t=a.getCanSetTime(s,o,t);if(s.canCreateNewOccurence(o,a.calendar)){var z=true;if(false===n.showWeekends){if(o.dayOfWeek()==6||o.dayOfWeek()==0){z=false}}if(z){a.foundItems++}}if(!t){continue}a.currentTime=o;if(a.foundItems>s.count){return false}return true}return false};a.getCanSetTime=function(l,f,h){if(!l.canCreateNewOccurence(f,a.calendar)){h=false}if(f<a.from&&f.add(a.recurrentAppointment.duration())<=a.from){h=false}if(a.to<=f){h=false}return h};a.isException=function(l,q,h){var n=a.recurrentAppointment.exceptions;for(var o=0;o<n.length;o++){if(h.isDateInExceptionAppointment(l,q,n[o])){if(-1===h.newExceptions.indexOf(n[o])){return true}}}return false};if(arguments&&arguments.length>0){a.recurrentAppointment=arguments[0];if(arguments[1]){a.calendar=arguments[1]}if(arguments[2]){a.from=arguments[2]}if(arguments[3]){a.to=arguments[3]}if(arguments[4]){a.scheduler=arguments[4]}if(arguments[2]===undefined){a.from=new c.jqx.date(0);a.to=new c.jqx.date(9999,12,31)}a.fillList()}return a};c.jqx.scheduler.recurrencePattern=function(){var d=this;var a={from:new c.jqx.date(0),to:new c.jqx.date(9999,12,31),count:1000,interval:1,exceptions:new Array(),newExceptions:new Array(),month:1,day:1,current:0,currentYearDay:0,step:0,days:[],bynweekday:[],isEveryWeekDay:true,timeZone:null,weekDays:{Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6},freq:"daily",bymonth:null,bymonthday:null,byyearday:null,byweekno:null,byweekday:null};c.extend(true,d,a);d.getNewOccurenceDate=function(){var O=function(l,h){var e=0,f=[];if(l instanceof Array){for(;e<h;e++){f[e]=[].concat(l)}}else{for(;e<h;e++){f[e]=l}}return f};var W=function(e,f){var h=e%f;return(h*f<0)?h+f:h};var F=function(f,e){if(arguments.length===1){e=f;f=0}var l=[];for(var h=f;h<e;h++){l.push(h)}return l};var G=[0,31,60,91,121,152,182,213,244,274,305,335,366];var Q=[0,31,59,90,120,151,181,212,243,273,304,334,365];var H=d.from.year();var R=[6,0,1,2,3,4,5];var J=function(f){d.yearlen=f%4==0&&(f%100!=0||f%400==0)?366:365;d.nextyearlen=(1+f)%4==0&&((1+f)%100!=0||(1+f)%400==0)?366:365;var e=new Date(f,0,1);var h=R[new Date(f,0,1).getDay()];var l=(function(){for(var q=[],o=0;o<55;o++){q=q.concat(F(7))}return q}());if(d.yearlen==365){d.wdaymask=l.slice(h);d.mrange=[].concat(Q)}else{d.wdaymask=l.slice(h);d.mrange=[].concat(G)}};J(H);switch(d.freq){case"daily":default:var T=d.from.add(new c.jqx.timeSpan(d.step*d.interval,0,0,0));d.step++;return T;case"weekly":if(d.byweekday){var T=new c.jqx.date(d.from,d.timeZone);T=T.addDays(7*(d.step*d.interval));if(d.step>=1){T=T.addDays(-d.from.dayOfWeek());var I=T.addDays(7)}else{var I=T.addDays(7-d.from.dayOfWeek())}var V=T;for(var n=0;n<7;n++){if(R[V.dayOfWeek()]===d.byweekday[d.current]){break}if(V>=I){break}V=V.addDays(1)}T=V;d.current++;if(undefined==d.byweekday[d.current]){d.current=0;d.step++}}return T;case"monthly":if(d.bynweekday.length>0){var T=new c.jqx.date(d.from.year(),d.from.month(),1,d.from.hour(),d.from.minute(),d.from.second());T.timeZone=d.timeZone;T=T.addMonths(d.step*d.interval);J(T.year());var L=T.month();var U=[d.mrange.slice(L-1,L+1)][0];var S=U[0];var P=U[1];P-=1;d.nwdaymask=O(0,d.yearlen);d.step++;for(var C=0;C<d.bynweekday.length;C++){var K=d.bynweekday[C][0],D=d.bynweekday[C][1];if(D<0){n=P+(D+1)*7;n-=W(d.wdaymask[n]-K,7)}else{n=S+(D-1)*7;n+=W(7-d.wdaymask[n]+K,7)}if(S<=n&&n<=P){d.nwdaymask[n]=1}}var E=n+1;var N=E-S;var T=new c.jqx.date(d.from.year(),d.from.month(),N,d.from.hour(),d.from.minute(),d.from.second());T.timeZone=d.timeZone;T=T.addMonths((d.step-1)*d.interval)}else{if(d.bymonthday.length>0){var T=new c.jqx.date(d.from.year(),d.from.month(),d.bymonthday[d.current],d.from.hour(),d.from.minute(),d.from.second());T.timeZone=d.timeZone;T=T.addMonths(d.step*d.interval);d.current++;if(!d.bymonthday[d.current]){d.current=0;d.step++}}else{var T=new c.jqx.date(d.from.year(),d.from.month(),d.day,d.from.hour(),d.from.minute(),d.from.second());T.timeZone=d.timeZone;T=T.addMonths(d.step*d.interval);d.step++}}return T;case"yearly":if(d.bymonth&&d.bymonth.length>0){if(d.bynweekday.length>0){var T=new c.jqx.date(d.from.year(),d.bymonth[d.current],1,d.from.hour(),d.from.minute(),d.from.second());T.timeZone=d.timeZone;T=T.addYears(d.step*d.interval);J(T.year());var L=T.month();var U=[d.mrange.slice(L-1,L+1)][0];var S=U[0];var P=U[1];P-=1;d.nwdaymask=O(0,d.yearlen);for(var C=0;C<d.bynweekday.length;C++){var K=d.bynweekday[C][0],D=d.bynweekday[C][1];if(D<0){n=P+(D+1)*7;n-=W(d.wdaymask[n]-K,7)}else{n=S+(D-1)*7;n+=W(7-d.wdaymask[n]+K,7)}if(S<=n&&n<=P){d.nwdaymask[n]=1}}var E=n+1;var N=E-S;T=new c.jqx.date(T.year(),d.bymonth[d.current],N,d.from.hour(),d.from.minute(),d.from.second());T.timeZone=d.timeZone;d.step++}else{if(d.byyearday.length>0){var T=new c.jqx.date(d.from.year(),d.bymonth[d.current],d.byyearday[d.currentYearDay],d.from.hour(),d.from.minute(),d.from.second());T.timeZone=d.timeZone;T=T.addYears(d.step*d.interval);d.currentYearDay++;if(!d.byyearday[d.currentYearDay]){d.currentYearDay=0;d.current++;if(!d.bymonth[d.current]){d.current=0;d.step++}}}else{var T=new c.jqx.date(d.from.year(),d.bymonth[d.current],d.from.day(),d.from.hour(),d.from.minute(),d.from.second());T.timeZone=d.timeZone;T=T.addYears(d.step*d.interval);d.current++;if(!d.bymonth[d.current]){d.current=0;d.step++}}}}else{if(d.byyearday&&d.byyearday.length>0){var T=new c.jqx.date(d.from.year(),d.from.month(),d.byyearday[d.current],d.from.hour(),d.from.minute(),d.from.second());T.timeZone=d.timeZone;T=T.addYears(d.step*d.interval);d.current++;if(!d.byyearday[d.current]){d.current=0;d.step++}}else{if(d.byweekno!=null){var M=function(l,e){var f=1;var h=new c.jqx.date(e.year(),1,1,e.hour(),e.minute(),e.second());h.timeZone=d.timeZone;while(f!=l){h=h.addDays(7);f++;if(f>53){break}}while(c.jqx.scheduler.utilities.getWeekday(h.toDate())!=d.wkst){h=h.addDays(1)}return h};var T=d.from.addYears(d.step*d.interval);T=M(d.byweekno[d.current],T);if(d.byweekday){var V=T;for(var n=0;n<7;n++){if(R[V.dayOfWeek()]===d.byweekday[d.currentYearDay]){break}V=V.addDays(1)}T=V;d.currentYearDay++;if(!d.byweekday[d.currentYearDay]){d.currentYearDay=0;d.current++;if(!d.byweekno[d.current]){d.current=0;d.step++}}}else{d.current++;if(!d.byweekno[d.current]){d.current=0;d.step++}}}else{var T=new c.jqx.date(d.from.year(),d.month,d.day,d.from.hour(),d.from.minute(),d.from.second());T.timeZone=d.timeZone;T=T.addYears(d.step*d.interval);d.step++}}}return T}};d.isDateInExceptionAppointment=function(n,l,h){switch(d.freq){case"daily":case"weekly":default:return n.year()==h.from.year()&&n.dayOfYear()==h.from.dayOfYear()}};d.createNewPattern=function(){if(d.ical){var e=new c.jqx.scheduler.recurrencePattern(d.ical);return e}else{var e=new c.jqx.scheduler.recurrencePattern();e.from=d.from;e.to=d.to;e.count=d.count;e.interval=d.interval;e.exceptions=d.exceptions;e.newExceptions=d.newExceptions;e.weekDays=d.weekDays;e.isEveryWeekDay=d.isEveryWeekDay;e.month=d.month;e.day=d.day;e.current=d.current;e.currentYearDay=d.currentYearDay;e.step=d.step;e.days=d.days;e.bynweekday=d.bynweekday;e.bymonth=d.bymonth;e.bymonthday=d.bymonthday;e.byyearday=d.byyearday;e.byweekno=d.byweekno;e.byweekday=d.byweekday;e.freq=e.freq;e.timeZone=e.timeZone;return e}};d.equals=function(f){var h=d.from==f.from&&d.to==f.to&&d.count===f.count&&d.interval===f.interval&&d.day===f.day&&d.month===f.month;return h};d.isDayOfWeekIncluded=function(f){var h=f.dayOfWeek();return c.jqx.scheduler.utilities.areWeekDaysIncluded(d.weekDays,h)};d.getWeekIndexFromDate=function(n,o){var q=o.firstDay;var l=c.jqx.scheduler.utilities.getStartOfWeek(d.from,o,q);var s=new c.jqx.timeSpan(n.subtract(l));return parseInt(s.days()/7)};d.canCreateNewOccurence=function(n,h){var o=n.toDate();switch(d.freq){case"daily":default:if(d.bymonth){if(d.bymonth.indexOf(n.month())==-1){return false}}if(d.isEveryWeekDay){if(!d.isDayOfWeekIncluded(n,h)){return false}else{return true}}else{return true}break;case"weekly":var l=d.getWeekIndexFromDate(n,h);if(d.bymonth){if(d.bymonth.indexOf(n.month())==-1){return false}}if((l%d.interval)!=0){return false}if(d.weekDays=={}){if(d.from.dayOfWeek()!=start.dayOfWeek()){return false}}else{if(!d.isDayOfWeekIncluded(n,h)){return false}}break;case"monthly":case"yearly":if(d.bymonth){if(d.bymonth.indexOf(n.month())==-1){return false}}if(n<d.from){return false}break}return true};d.toString=function(){var o={};o.dtstart=this.from.toDate();o.until=this.to?this.to.toDate():null;o.count=this.count;var n={};n.YEARLY=0;n.MONTHLY=1;n.WEEKLY=2;n.DAILY=3;n.HOURLY=4;n.MINUTELY=5;n.SECONDLY=6;o.freq=n[this.freq.toUpperCase()];if(o.freq=="YEARLY"){o.bymonth=this.bymonth?this.bymonth:new Array().push(this.month)}o.byweekday=new Array();var h=["MO","TU","WE","TH","FR","SA","SU"];c.each(this.weekDays,function(){o.byweekday.push(this)});if(this.byyearday!=undefined){o.byyearday=this.byyearday}if(this.byweekno!=undefined){o.byweekno=this.byweekno}o.bymonthday=this.bymonthday;o.wkst=h[this.wkst];o.interval=this.interval;var l=new c.jqx.ICalRule(o);return l.toString()};d.init=function(l){var t=new c.jqx.ICalRule(d.ical,l);var q=t.options;d.from=q.dtstart?new c.jqx.date(q.dtstart,d.timeZone):d.from;d.count=q.count!=undefined?q.count:d.count;d.freq=t.FREQUENCIES[q.freq].toLowerCase();d.interval=q.interval!=undefined?q.interval:d.interval;d.to=q.until?new c.jqx.date(q.until,d.timeZone):d.to;d.wkst=q.wkst;d.bymonth=q.bymonth;if(d.bymonth&&d.bymonth.length>0){d.month=d.bymonth[0]}else{d.month=d.from.month()}d.day=d.from.day();if(q.byweekday!=undefined){var n={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6};d.weekDays={};for(var o=0;o<q.byweekday.length;o++){var s=q.byweekday[o];switch(s){case 0:d.weekDays.Monday=1;break;case 1:d.weekDays.Tuesday=2;break;case 2:d.weekDays.Wednesday=3;break;case 3:d.weekDays.Thursday=4;break;case 4:d.weekDays.Friday=5;break;case 5:d.weekDays.Saturday=6;break;case 6:d.weekDays.Sunday=0;break}}d.byweekday=q.byweekday}d.byweekno=q.byweekno;if(q.bynweekday){d.bynweekday=q.bynweekday}if(q.bymonthday!=undefined){d.bymonthday=q.bymonthday.sort();if(d.bymonthday[0]){d.day=d.bymonthday[0]}}if(q.byyearday!=undefined){d.day=q.byyearday[0];d.byyearday=q.byyearday.sort()}return q};d.setFrom=function(e){d.from=e.clone();if(d.ical){d.init(e)}};if(arguments.length==1){d.ical=arguments[0];d.init()}return d};c.jqx.scheduler.calendar={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy\u0027-\u0027MM\u0027-\u0027dd\u0027T\u0027HH\u0027:\u0027mm\u0027:\u0027ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:","};c.jqx.ICalRule=function(ak,ar){var ac=this;var at=function(h,f){if(arguments.length===1){f=h;h=0}var e=[];for(var d=h;d<f;d++){e.push(d)}return e};var af=function(e,d){var f=0,h=[];if(e instanceof Array){for(;f<d;f++){h[f]=[].concat(e)}}else{for(;f<d;f++){h[f]=e}}return h};var ad=function(d){return(d instanceof Array&&d.length==0)?false:Boolean(d)};var ae=function(e,d){return e.indexOf(d)!=-1};var Z=[].concat(af(1,31),af(2,28),af(3,31),af(4,30),af(5,31),af(6,30),af(7,31),af(8,31),af(9,30),af(10,31),af(11,30),af(12,31),af(1,7));var am=[].concat(af(1,31),af(2,29),af(3,31),af(4,30),af(5,31),af(6,30),af(7,31),af(8,31),af(9,30),af(10,31),af(11,30),af(12,31),af(1,7));var av=at(1,29),aw=at(1,30),v=at(1,31),R=at(1,32);var W=[].concat(R,aw,R,v,R,v,R,R,v,R,v,R,R.slice(0,7));var aB=[].concat(R,av,R,v,R,v,R,R,v,R,v,R,R.slice(0,7));av=at(-28,0);aw=at(-29,0);v=at(-30,0);R=at(-31,0);var V=[].concat(R,aw,R,v,R,v,R,R,v,R,v,R,R.slice(0,7));var ay=[].concat(R,av,R,v,R,v,R,R,v,R,v,R,R.slice(0,7));var aA=[0,31,60,91,121,152,182,213,244,274,305,335,366];var ag=[0,31,59,90,120,151,181,212,243,273,304,334,365];var ao=(function(){for(var e=[],d=0;d<55;d++){e=e.concat(at(7))}return e}());var ax=function(e,d){var f=this;if(d===0){throw new Error("Can't create weekday with n == 0")}this.weekday=e;this.n=d;this.nth=function(h){return f.n==h?f:new ax(f.weekday,h)};this.equals=function(h){return f.weekday==h.weekday&&f.n==h.n};this.toString=function(){var h=["MO","TU","WE","TH","FR","SA","SU"][f.weekday];if(this.n){h=(f.n>0?"+":"")+String(f.n)+h}return h};this.getJsWeekday=function(){return f.weekday==6?0:f.weekday+1}};this.FREQUENCIES=["YEARLY","MONTHLY","WEEKLY","DAILY","HOURLY","MINUTELY","SECONDLY"];this.YEARLY=0;this.MONTHLY=1;this.WEEKLY=2;this.DAILY=3;this.HOURLY=4;this.MINUTELY=5;this.SECONDLY=6;this.MO=new ax(0);this.TU=new ax(1);this.WE=new ax(2);this.TH=new ax(3);this.FR=new ax(4);this.SA=new ax(5);this.SU=new ax(6);var az={freq:null,dtstart:null,interval:1,wkst:ac.MO,count:null,until:null,bysetpos:null,bymonth:null,bymonthday:null,byyearday:null,byweekno:null,byweekday:null,byhour:null,byminute:null,bysecond:null,byeaster:null};this._string=null;this.toString=function(){var d=this.origOptions;var f,e,n,l,o,s=[];e=Object.keys(d);n=Object.keys(az);for(var u=0;u<e.length;u++){if(!ae(n,e[u])){continue}f=e[u].toUpperCase();l=d[e[u]];o=[];if(l===null||l instanceof Array&&!l.length){continue}switch(f){case"FREQ":l=ac.FREQUENCIES[d.freq];break;case"WKST":if(!l){l=0}l=l.toString();break;case"BYWEEKDAY":f="BYDAY";if(!(l instanceof Array)){l=[l]}for(var q,w=0;w<l.length;w++){q=l[w];if(q instanceof ax){}else{if(q instanceof Array){q=new ax(q[0],q[1])}else{q=new ax(q)}}o[w]=q.toString()}l=o;break;case"DTSTART":case"UNTIL":l=c.jqx.scheduler.utilities.timeToUntilString(l);break;default:if(l instanceof Array){for(var w=0;w<l.length;w++){o[w]=String(l[w])}l=o}else{l=String(l)}}s.push([f,l])}var h=[];for(var u=0;u<s.length;u++){var t=s[u];h.push(t[0]+"="+t[1].toString())}return h.join(";")};this.parseString=function(w){w=w.replace(/^\s+|\s+$/,"");if(!w.length){return null}var t,u,h,l,s,f=w.split(";"),d={};for(t=0;t<f.length;t++){s=f[t].split("=");h=s[0];l=s[1];if(h==""){continue}switch(h){case"COUNT":case"INTERVAL":case"BYSETPOS":case"BYMONTH":case"BYMONTHDAY":case"BYYEARDAY":case"BYWEEKNO":case"BYHOUR":case"BYMINUTE":case"BYSECOND":if(l.indexOf(",")!=-1){l=l.split(",");for(u=0;u<l.length;u++){if(/^[+-]?\d+$/.test(l[u])){l[u]=Number(l[u])}}}else{if(/^[+-]?\d+$/.test(l)){l=Number(l)}}h=h.toLowerCase();d[h]=l;break;case"BYDAY":var q,o,n,e=l.split(",");d.byweekday=[];for(u=0;u<e.length;u++){n=e[u];if(n.length==2){o=ac[n];d.byweekday.push(o)}else{n=n.match(/^([+-]?\d)([A-Z]{2})$/);q=Number(n[1]);o=n[2];o=ac[o].weekday;d.byweekday.push(new ax(o,q))}}break;case"FREQ":d.freq=ac[l];break;case"WKST":d.wkst=ac[l];break;case"DTSTART":d.dtstart=c.jqx.scheduler.utilities.untilStringToDate(l);break;case"UNTIL":d.until=c.jqx.scheduler.utilities.untilStringToDate(l);break;case"BYEASTER":d.byeaster=Number(l);break;default:throw new Error("Unknown ICalRule property '"+h+"'")}}ac.options=d;return d};if(c.type(ak)==="string"){this.options=this.parseString(ak)}else{this.options=ak||{}}var ak=this.options;if(!Array.prototype.forEach){Array.prototype.forEach=function(d,h){var o,f;if(this==null){throw new TypeError(" this is null or not defined")}var e=Object(this);var n=e.length>>>0;if(typeof d!=="function"){throw new TypeError(d+" is not a function")}if(arguments.length>1){o=h}f=0;while(f<n){var l;if(f in e){l=e[f];d.call(o,l,f,e)}f++}}}if(!Object.keys){Object.keys=(function(){var e=Object.prototype.hasOwnProperty,d=!({toString:null}).propertyIsEnumerable("toString"),f=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],h=f.length;return function(n){if(typeof n!=="object"&&(typeof n!=="function"||n===null)){throw new TypeError("Object.keys called on non-object")}var q=[],l,o;for(l in n){if(e.call(n,l)){q.push(l)}}if(d){for(o=0;o<h;o++){if(e.call(n,f[o])){q.push(f[o])}}}return q}}())}this.origOptions={};var ab=[],aj=Object.keys(this.options),ap=Object.keys(az);aj.forEach(function(d){this.origOptions[d]=this.options[d];if(!ae(ap,d)){ab.push(d)}},this);if(ab.length){throw new Error("Invalid options: "+ab.join(", "))}if(!ac.FREQUENCIES[this.options.freq]&&ak.byeaster===null){throw new Error("Invalid Frequency: "+String(ak.freq))}ap.forEach(function(d){if(!ae(aj,d)){ak[d]=az[d]}});var ai=this.options;if(ai.byeaster!==null){ai.freq=this.YEARLY}if(!ai.dtstart){ai.dtstart=new Date();ai.dtstart.setMilliseconds(0)}if(ar){ai.dtstart=ar.toDate()}if(ai.wkst===null){ai.wkst=this.MO.weekday}else{if(typeof ai.wkst=="number"){}else{if(ai.wkst==null){ai.wkst=this.MO.weekday}else{ai.wkst=ai.wkst.weekday}}}if(ai.bysetpos!==null){if(typeof ai.bysetpos=="number"){ai.bysetpos=[ai.bysetpos]}for(var S=0;S<ai.bysetpos.length;S++){var Y=ai.bysetpos[S];if(Y==0||!(-366<=Y&&Y<=366)){throw new Error("bysetpos must be between 1 and 366, or between -366 and -1")}}}if(!(ad(ai.byweekno)||ad(ai.byyearday)||ad(ai.bymonthday)||ai.byweekday!==null||ai.byeaster!==null)){switch(ai.freq){case this.YEARLY:if(!ai.bymonth){ai.bymonth=ai.dtstart.getMonth()+1}ai.bymonthday=ai.dtstart.getDate();break;case this.MONTHLY:ai.bymonthday=ai.dtstart.getDate();break;case this.WEEKLY:ai.byweekday=c.jqx.scheduler.utilities.getWeekday(ai.dtstart);break}}if(ai.bymonth!==null&&!(ai.bymonth instanceof Array)){ai.bymonth=[ai.bymonth]}if(ai.byyearday!==null&&!(ai.byyearday instanceof Array)){ai.byyearday=[ai.byyearday]}if(ai.bymonthday===null){ai.bymonthday=[];ai.bynmonthday=[]}else{if(ai.bymonthday instanceof Array){var a=[],X=[];for(S=0;S<ai.bymonthday.length;S++){var Y=ai.bymonthday[S];if(Y>0){a.push(Y)}else{if(Y<0){X.push(Y)}}}ai.bymonthday=a;ai.bynmonthday=X}else{if(ai.bymonthday<0){ai.bynmonthday=[ai.bymonthday];ai.bymonthday=[]}else{ai.bynmonthday=[];ai.bymonthday=[ai.bymonthday]}}}if(ai.byweekno!==null&&!(ai.byweekno instanceof Array)){ai.byweekno=[ai.byweekno]}if(ai.byweekday===null){ai.bynweekday=null}else{if(typeof ai.byweekday=="number"){ai.byweekday=[ai.byweekday];ai.bynweekday=null}else{if(ai.byweekday instanceof ax){if(!ai.byweekday.n||ai.freq>this.MONTHLY){ai.byweekday=[ai.byweekday.weekday];ai.bynweekday=null}else{ai.bynweekday=[[ai.byweekday.weekday,ai.byweekday.n]];ai.byweekday=null}}else{var an=[],aa=[];for(S=0;S<ai.byweekday.length;S++){var aq=ai.byweekday[S];if(typeof aq=="number"){an.push(aq)}else{if(!aq.n||ai.freq>this.MONTHLY){an.push(aq.weekday)}else{aa.push([aq.weekday,aq.n])}}}ai.byweekday=ad(an)?an:null;ai.bynweekday=ad(aa)?aa:null}}}if(ai.byhour===null){ai.byhour=(ai.freq<this.HOURLY)?[ai.dtstart.getHours()]:null}else{if(typeof ai.byhour=="number"){ai.byhour=[ai.byhour]}}if(ai.byminute===null){ai.byminute=(ai.freq<this.MINUTELY)?[ai.dtstart.getMinutes()]:null}else{if(typeof ai.byminute=="number"){ai.byminute=[ai.byminute]}}if(ai.bysecond===null){ai.bysecond=(ai.freq<this.SECONDLY)?[ai.dtstart.getSeconds()]:null}else{if(typeof ai.bysecond=="number"){ai.bysecond=[ai.bysecond]}}if(ai.freq>=this.HOURLY){this.timeset=null}else{this.timeset=[];if(ai.byhour){for(S=0;S<ai.byhour.length;S++){var al=ai.byhour[S];for(var T=0;T<ai.byminute.length;T++){var au=ai.byminute[T];for(var U=0;U<ai.bysecond.length;U++){var ah=ai.bysecond[U];this.timeset.push(new c.jqx.scheduler.utilities.Time(al,au,ah))}}}}c.jqx.scheduler.utilities.sort(this.timeset)}return this}})(jqxBaseFramework);(function(c){c.extend(c.jqx._jqxScheduler.prototype,{_getexportcolor:function(n){var u=n;if(n=="transparent"){u="#FFFFFF"}if(!u||!u.toString()){u="#FFFFFF"}if(u.toString().indexOf("rgb")!=-1){var s=u.split(",");if(u.toString().indexOf("rgba")!=-1){var w=parseInt(s[0].substring(5));var t=parseInt(s[1]);var q=parseInt(s[2]);var o=parseInt(s[3].substring(1,4));var a={r:w,g:t,b:q};var v=this._rgbToHex(a);if(w==0&&t==0&&q==0&&o==0){return"#ffffff"}return"#"+v}var w=parseInt(s[0].substring(4));var t=parseInt(s[1]);var q=parseInt(s[2].substring(1,4));var a={r:w,g:t,b:q};var v=this._rgbToHex(a);return"#"+v}else{if(u.toString().indexOf("#")!=-1){if(u.toString().length==4){var z=u.toString().substring(1,4);u+=z}}}return u},_rgbToHex:function(a){return this._intToHex(a.r)+this._intToHex(a.g)+this._intToHex(a.b)},_intToHex:function(d){var a=(parseInt(d).toString(16));if(a.length==1){a=("0"+a)}return a.toUpperCase()},exportData:function(L){var V=this;if(!c.jqx.dataAdapter.ArrayExporter){throw"jqxScheduler: Missing reference to jqxdata.export.js!"}var I=this.exportSettings.serverURL;var ac=this.exportSettings.characterSet;var U=this.exportSettings.fileName;if(U===undefined){U="jqxScheduler"}var V=this;if(L=="ical"||L=="ics"){if(V._resources.length>1&&U&&V.resourcesInMultipleICSFiles){var R=this.getAppointments();for(var Q=0;Q<V._resources.length;Q++){var af=V._resources[Q];var N=new Array();for(var T=0;T<R.length;T++){var aa=R[T];if(aa.resourceId==af){N.push(aa)}}var K="BEGIN:VCALENDAR\nVERSION:2.0\nPRODID:jqxScheduler\nMETHOD:PUBLISH\n";for(var a=0;a<N.length;a++){K+=N[a].jqxAppointment.toString();if(a<N.length-1){K+="\n"}}K+="\nEND:VCALENDAR";var ab=K.length;var W=new Uint8Array(new ArrayBuffer(ab));for(var a=0;a<ab;a++){W[a]=K.charCodeAt(a)}var ag=new Blob([W],{type:"application/calendar"});saveAs(ag,U+"_"+af+".ics")}}else{var R=this.getAppointments();var K="BEGIN:VCALENDAR\nVERSION:2.0\nPRODID:jqxScheduler\nMETHOD:PUBLISH\n";for(var Q=0;Q<R.length;Q++){K+=R[Q].jqxAppointment.toString();if(Q<R.length-1){K+="\n"}}K+="\nEND:VCALENDAR";var ab=K.length;var W=new Uint8Array(new ArrayBuffer(ab));for(Q=0;Q<ab;Q++){W[Q]=K.charCodeAt(Q)}var ag=new Blob([W],{type:"application/calendar"});if(!U){return K}saveAs(ag,U+".ics")}return}var R=this.getDataAppointments();var G=new Array();var P={};var S={};var Y=this.host.find(".jqx-grid-cell:first");Y.removeClass(this.toThemeProperty("jqx-grid-cell-selected"));Y.removeClass(this.toThemeProperty("jqx-fill-state-pressed"));Y.removeClass(this.toThemeProperty("jqx-grid-cell-hover"));Y.removeClass(this.toThemeProperty("jqx-fill-state-hover"));var Z="cell";var ad=1;var M="column";var ae=1;var H=c(this.columns.records[0].element);var X=0;c.each(this.appointmentDataFields,function(e,d){P[d]={};P[d].text=d;P[d].width=100;P[d].formatString="";P[d].localization=V.schedulerLocalization;if(e=="from"||e=="to"){P[d].type="date";P[d].formatString=V.exportSettings.dateTimeFormatString}else{P[d].type="string"}P[d].cellsAlign="left";G.push(P[d]);Z="cell"+ad;M="column"+ae;if(L=="html"||L=="xls"||L=="pdf"){var f=function(v,h,l,u,n,s,t,q,o){S[v]={};if(h==undefined){return}S[v]["font-size"]=h.css("font-size");S[v]["font-weight"]=h.css("font-weight");S[v]["font-style"]=h.css("font-style");S[v]["background-color"]=V._getexportcolor(h.css("background-color"));S[v]["color"]=V._getexportcolor(h.css("color"));S[v]["border-color"]=V._getexportcolor(h.css("border-top-color"));if(l){S[v]["text-align"]="left"}else{S[v]["text-align"]="left";S[v]["formatString"]="";S[v]["dataType"]="string";if(t=="from"||t=="to"){S[v]["dataType"]="date";S[v]["formatString"]=V.exportSettings.dateTimeFormatString}}if(L=="html"||L=="pdf"){S[v]["border-top-width"]=h.css("border-top-width");S[v]["border-left-width"]=h.css("border-left-width");S[v]["border-right-width"]=h.css("border-right-width");S[v]["border-bottom-width"]=h.css("border-bottom-width");S[v]["border-top-style"]=h.css("border-top-style");S[v]["border-left-style"]=h.css("border-left-style");S[v]["border-right-style"]=h.css("border-right-style");S[v]["border-bottom-style"]=h.css("border-bottom-style");if(l){if(X==0){S[v]["border-left-width"]=h.css("border-right-width")}S[v]["border-top-width"]=h.css("border-right-width");S[v]["border-bottom-width"]=h.css("border-bottom-width")}else{if(X==0){S[v]["border-left-width"]="1px"}S[v]["border-right-width"]="1px"}}if(l){P[d].style=v}P[d].cellStyle=v};f(M,H,true,false,this,V,e);ae++;f(Z,Y,false,false,this,V,e);ad++}X++});var J=c.jqx.dataAdapter.ArrayExporter(R,P,S,I);if(U==null){this._renderrows();var O=J.exportTo(L);setTimeout(function(){V.exporting=false},50);return O}else{J.exportToFile(L,U,I,ac)}this._renderrows();setTimeout(function(){V.exporting=false},50)},shadeColor:function(a,o){var n=parseInt(a.slice(1),16),t=o<0?0:255,l=o<0?o*-1:o,q=n>>16,s=n>>8&255,f=n&255;return"#"+(16777216+(Math.round((t-q)*l)+q)*65536+(Math.round((t-s)*l)+s)*256+(Math.round((t-f)*l)+f)).toString(16).slice(1)},hexToRgba:function(l,f){var a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(l);var h=function(){var d=c.jqx.browser.msie&&c.jqx.browser.version<10;if(this.alpha==undefined||d){return"rgb("+this.r+", "+this.g+", "+this.b+")"}if(this.alpha>1){this.alpha=1}else{if(this.alpha<0){this.alpha=0}}return"rgba("+this.r+", "+this.g+", "+this.b+", "+this.alpha+")"};if(f==undefined){return a?{r:parseInt(a[1],16),g:parseInt(a[2],16),b:parseInt(a[3],16),toString:h}:null}if(f>1){f=1}else{if(f<0){f=0}}return a?{r:parseInt(a[1],16),g:parseInt(a[2],16),b:parseInt(a[3],16),alpha:f,toString:h}:null},getAppointmentColors:function(h){var l="";var n="";var o="";l=this.hexToRgba(h,this.appointmentOpacity).toString();n=h;var a=function(f){var q=105;var e=(f.r*0.299)+(f.g*0.587)+(f.b*0.114);var d=(255-e<q)?"Black":"White";return d};o=a(this.hexToRgba(h,0.7));return{background:l,color:o,border:n}},getColors:function(o){if(o==-1){o=0}var u="";var s="";var q="";var l=this.resources?this.resources.colorScheme:null;if(!l){l="scheme01"}var v=new Array();for(var t=0;t<this.colorSchemes.length;t++){if(this.colorSchemes[t].name==l){v=this.colorSchemes[t].colors;break}}while(o>v.length-1){var a=parseInt(l.substring(6));if(a>=27){a=0}v=v.concat(this.colorSchemes[a].colors);a++}u=v[o];u=this.hexToRgba(v[o],0.7).toString();s=v[o];var n=function(e){var f=105;var d=(e.r*0.299)+(e.g*0.587)+(e.b*0.114);var h=(255-d<f)?"Black":"White";return h};q=n(this.hexToRgba(v[o],0.7));return{background:u,color:q,border:s}},getAppointments:function(){var h=this.uiappointments;var a=new Array();for(var l=0;l<h.length;l++){var f=h[l].boundAppointment;a.push(f)}return a},getDataAppointments:function(){var n=this.uiappointments;var a=new Array();for(var o=0;o<n.length;o++){var h=n[o].boundAppointment;var l={};c.each(this.appointmentDataFields,function(e,d){l[d]=h[e];if(e=="from"||e=="to"){if("date"!=c.type(h[e])){l[d]=h[e].toDate()}}if(e=="recurrencePattern"){if(h[e]){l[d]=h[e].toString()}}});a.push(l)}return a},_refreshColumns:function(){this._initializeColumns();this.columnsheader=this.columnsheader||c('<div style="overflow: hidden;"></div>');this.columnsheader.children().remove();var a=this.columnsHeight;a=this._preparecolumnGroups();this.columnsheader.height(a);this._rendercolumnheaders()},_refreshColumnTitles:function(){var F=this._views[this._view].type;var G=this._views[this._view];var J=this;var P=new Array();if(J.columns.records[0].timeColumn){P.push({})}if(G.timeRuler&&G.timeRuler.timeZones){for(var z=0;z<G.timeRuler.timeZones.length;z++){P.push({})}}var E=function(h,T,w){var f="halfHour";if(G.timeRuler&&G.timeRuler.scale){f=G.timeRuler.scale}var t=24;var q=0;var v=23;if(G.timeRuler){if(G.timeRuler.scaleStartHour!=undefined){var q=parseInt(G.timeRuler.scaleStartHour)}if(G.timeRuler.scaleEndHour!=undefined){var v=parseInt(G.timeRuler.scaleEndHour)}if(q<0){q=0}if(v<0){v=23}if(q>23){q=0}if(v>23){v=23}t=v-q+1}var d=60;var S=2;if(f){switch(f){case"sixtyMinutes":case"hour":S=1;break;case"thirdyMinutes":case"halfHour":S=2;break;case"fifteenMinutes":case"quarterHour":S=4;break;case"tenMinutes":S=6;break;case"fiveMinutes":S=12;break}}var n=new Array();var o="auto";if(G.timeRuler&&G.timeRuler.formatString){o=G.timeRuler.formatString}var s=q;var V=t;var l=h.addHours(s);if(J.rtl){var l=h.addHours(v)}for(var U=0;U<V;U++){var u=l.toDate();if(o==="auto"){if((u.getHours()==0&&u.getMinutes()==0)||(u.getHours()==12&&u.getMinutes()==0)){var e="hh tt"}else{var e="hh:mm"}}else{if(c.isFunction(o)){var e=o(u)}}if(c.jqx.dataFormat.isDate(u)){u=c.jqx.dataFormat.formatdate(u,e,J.schedulerLocalization)}if(!J.rtl){l=l.addMinutes(d)}else{l=l.addMinutes(-d)}P.push({});J.columns.records[P.length-1].text=u}};var K=this.tableColumns;for(var B=0;B<this.tableColumns;B++){switch(F){case"dayView":var M=this.getViewStart();if(false===G.showWeekends){if(M.dayOfWeek()===0||M.dayOfWeek()===6){M=M.addDays(1)}if(M.dayOfWeek()===0||M.dayOfWeek()===6){M=M.addDays(1)}}P.push({});this.columns.records[P.length-1].text=this._getDayName(M.dayOfWeek());break;case"weekView":case"monthView":for(var z=0;z<7;z++){var A=this.schedulerLocalization.firstDay+z;if(false===G.showWeekends){if(z===0||z===6){continue}}P.push({});if(J.rtl){A=6-A}this.columns.records[P.length-1].text=this._getDayName(A)}break;case"timelineDayView":var N=J._resources[B]?J._resources[B]:"Resource"+B;E(J.getViewStart(),N);break;case"timelineWeekView":for(var z=0;z<7;z++){var A=this.schedulerLocalization.firstDay+z;if(false===G.showWeekends){if(z===0||z===6){continue}}if(J.rtl){A=6-A}E(J.getViewStart().addDays(z),this._getDayName(A))}break;case"timelineMonthView":var H=J.getViewStart();var a="auto";if(G.timeRuler&&G.timeRuler.formatString){a=G.timeRuler.formatString}for(var z=0;z<41;z++){var A=H.dayOfWeek();if(false===G.showWeekends){if(A===0||A===6){continue}}if(J.rtl){A=6-A}var D=H.toDate();if(a==="auto"){var Q="dd";D=H.toDate();if(D.getDate()===1){Q="MMM dd"}}else{if(c.isFunction(a)){var Q=a(D)}}if(c.jqx.dataFormat.isDate(D)){D=c.jqx.dataFormat.formatdate(D,Q,J.schedulerLocalization)}H=H.addDays(1);P.push({});J.columns.records[P.length-1].text=D}break}}var L=J.columnsHeight;var R=function(e,d){var f=J.columnGroupslevel*J.columnsHeight;f=f-(d.level*J.columnsHeight);return f};var C=0;for(var z=0;z<this.columns.records.length;z++){var O=this.columns.records[z];if(O.timeColumn){continue}if(J.columnGroups){if(J.columnGroups.length){L=R(O.datafield,O)}}var I=O.renderer!=null?O.renderer(O.text,O.align,L):J._rendercolumnheader(O.text,O.align,L,O);if(I==null){I=J._rendercolumnheader(O.text,O.align,L,J)}if(O.renderer!=null){I=c(I)}c(O.element).html(I)}},initRepeatPanels:function(t,C,I){var D=this;var J=c("<div></div>");C.append(J);var B=c("<div class='jqx-scheduler-edit-dialog-label'>"+D.schedulerLocalization.editDialogRepeatString+"</div>").appendTo(J);var z=c("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(J);var A=c("<div></div>").appendTo(z);var a=c("<div></div>");C.append(a);var w=c("<div></div>");a.append(w);var u=function(L,h){var N=c("<div></div>").appendTo(L);var R=c("<div class='jqx-scheduler-edit-dialog-label'>"+D.schedulerLocalization.editDialogRepeatEndString+"</div>").appendTo(N);var d=c("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(N);var M=c("<div style='position:relative; top: 6px; float:left;'><span style='margin-left:2px;'>"+D.schedulerLocalization.editDialogRepeatNeverString+"</span></div>").appendTo(d);M.jqxRadioButton({rtl:D.rtl,groupName:"end"+h,theme:D.theme,width:200,height:25,checked:true});D.editDialogFields[h].repeatEndNever=M;D.editDialogFields[h].repeatEndNeverLabel=R;var l=c("<div class='jqx-scheduler-edit-dialog-label'></div>").appendTo(N);var n=c("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(N);var P=c("<div style='position:relative; top: 6px; float:left;'><span style='margin-left:2px;'>"+D.schedulerLocalization.editDialogRepeatAfterString+"</span></div>").appendTo(n);P.jqxRadioButton({rtl:D.rtl,groupName:"end"+h,theme:D.theme,width:60,height:25,checked:false});var f=c("<div style='margin-left: 3px; float:left;'></div>").appendTo(n);f.jqxNumberInput({rtl:D.rtl,decimal:10,min:1,inputMode:"simple",height:25,width:50,spinButtons:true,decimalDigits:0,theme:D.theme});var K=c("<div style='float: left; margin-left: 5px; line-height:25px;'>"+D.schedulerLocalization.editDialogRepeatOccurrencesString+"</div>").appendTo(n);D.editDialogFields[h].repeatEndAfter=P;D.editDialogFields[h].repeatEndAfterValue=f;D.editDialogFields[h].repeatEndAfterLabel=l;var o=c("<div class='jqx-scheduler-edit-dialog-label'></div>").appendTo(N);var q=c("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(N);var O=c("<div style='position:relative; top: 6px; float:left;'><span style='margin-left:2px;'>"+D.schedulerLocalization.editDialogRepeatOnString+"</span></div>").appendTo(q);O.jqxRadioButton({rtl:D.rtl,groupName:"end"+h,theme:D.theme,height:25,checked:false});var e=c("<div style='margin-left: 3px; float:left;'></div>").appendTo(q);e.jqxDateTimeInput({rtl:D.rtl,localization:D._getDateTimeInputLocalization(),firstDayOfWeek:D.schedulerLocalization.firstDay,todayString:D.schedulerLocalization.todayString,clearString:D.schedulerLocalization.clearString,value:I,formatString:D.editDialogDateFormatString,height:25,width:150,theme:D.theme});var Q=e.jqxDateTimeInput("getInstance");D.editDialogFields[h].repeatEndOn=O;D.editDialogFields[h].repeatEndOnValue=e;D.editDialogFields[h].repeatEndOnLabel=o;return N};w.detach();D.editDialogFields.repeatEndPanel={};D.editDialogFields.repeatEndPanelContainer=w;u(w,"repeatEndPanel");var s=function(){var bc=c("<div style='visibility: hidden;'></div>").appendTo(c(document.body));var a6=c("<div class='jqx-scheduler-edit-dialog-label'>"+D.schedulerLocalization.editDialogRepeatEveryString+"</div>").appendTo(bc);var h=c("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(bc);var aN=c("<div style='float:left;'></div>").appendTo(h);aN.jqxNumberInput({rtl:D.rtl,decimal:1,min:1,inputMode:"simple",height:25,width:50,spinButtons:true,decimalDigits:0,theme:D.theme});var q=c("<div style='float: left; margin-left: 5px; line-height:25px;'>"+D.schedulerLocalization.editDialogRepeatEveryDayString+"</div>").appendTo(h);D.editDialogFields.daily={};D.editDialogFields.daily.repeatDayInterval=aN;D.editDialogFields.daily.repeatDayLabel=a6;D.editDialogFields.daily.panel=bc;bc.detach();D.editDialogFields.weekly={};var a2=c("<div style='visibility: hidden;'></div>").appendTo(c(document.body));var aZ=c("<div class='jqx-scheduler-edit-dialog-label'>"+D.schedulerLocalization.editDialogRepeatEveryString+"</div>").appendTo(a2);var bi=c("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(a2);var aA=c("<div style='float:left;'></div>").appendTo(bi);aA.jqxNumberInput({rtl:D.rtl,decimal:1,min:1,inputMode:"simple",height:25,width:50,spinButtons:true,decimalDigits:0,theme:D.theme});var n=c("<div style='float: left; margin-left: 5px; line-height:25px;'>"+D.schedulerLocalization.editDialogRepeatEveryWeekString+"</div>").appendTo(bi);D.editDialogFields.weekly.repeatWeekInterval=aA;D.editDialogFields.weekly.repeatWeekIntervalLabel=aZ;var a0=c("<div class='jqx-scheduler-edit-dialog-label'>"+D.schedulerLocalization.editDialogRepeatOnString+"</div>").appendTo(a2);var d=c("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(a2);var az=c("<div style='float:left;'></div>").appendTo(d);D.editDialogFields.weekly.repeatDaysLabel=a0;D.editDialogFields.weekly.repeatDays=new Array();for(var o=0;o<7;o++){var aG=D._getDayName(o,"firstTwoLetters");var a8=c("<div style='position:relative; top: 6px; float:left;'><span style='margin-left:2px;'>"+aG+"</span></div>");az.append(a8);var e=o==1?true:false;a8.jqxCheckBox({rtl:D.rtl,height:25,checked:e,width:50,theme:D.theme});D.editDialogFields.weekly.repeatDays.push(a8)}D.editDialogFields.weekly.panel=a2;a2.detach();D.editDialogFields.monthly={};var ax=c("<div style='visibility: hidden;'></div>").appendTo(c(document.body));var aw=c("<div class='jqx-scheduler-edit-dialog-label'>"+D.schedulerLocalization.editDialogRepeatEveryString+"</div>").appendTo(ax);var aM=c("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(ax);var ba=c("<div style='float:left;'></div>").appendTo(aM);ba.jqxNumberInput({rtl:D.rtl,decimal:1,min:1,inputMode:"simple",height:25,width:50,spinButtons:true,decimalDigits:0,theme:D.theme});var aV=c("<div style='float: left; margin-left: 5px; line-height:25px;'>"+D.schedulerLocalization.editDialogRepeatEveryMonthString+"</div>").appendTo(aM);D.editDialogFields.monthly.repeatMonth=ba;D.editDialogFields.monthly.repeatMonthLabel=aw;var aL=c("<div class='jqx-scheduler-edit-dialog-label'>"+D.schedulerLocalization.editDialogRepeatOnString+"</div>").appendTo(ax);var aW=c("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(ax);var be=c("<div style='float:left;'></div>").appendTo(aW);var aQ=c("<div style='position:relative; top: 6px; float:left;'><span style='margin-left:2px;'>"+D.schedulerLocalization.editDialogRepeatEveryMonthDayString+"</span></div>").appendTo(be);aQ.jqxRadioButton({rtl:D.rtl,groupName:"month",height:25,width:60,checked:true,theme:D.theme});var aK=c("<div style='float:left;'></div>").appendTo(be);aK.jqxNumberInput({rtl:D.rtl,decimal:1,min:1,inputMode:"simple",height:25,width:50,spinButtons:true,decimalDigits:0,theme:D.theme});D.editDialogFields.monthly.repeatMonthDay=aK;D.editDialogFields.monthly.repeatMonthDayBool=aQ;D.editDialogFields.monthly.repeatMonthDayLabel=aL;var aI=c("<div class='jqx-scheduler-edit-dialog-label'></div>").appendTo(ax);var aU=c("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(ax);var bb=c("<div style='float:left;'></div>").appendTo(aU);var aY=c("<div style='position:relative; top: 6px; float:left;'><span style='margin-left:2px;'></span></div>").appendTo(bb);aY.jqxRadioButton({groupName:"month",height:25,width:25,checked:false,theme:D.theme});var aO=c("<div style='float:left;'></div>").appendTo(bb);var aE=new Array();aE.push(D.schedulerLocalization.editDialogRepeatFirstString);aE.push(D.schedulerLocalization.editDialogRepeatSecondString);aE.push(D.schedulerLocalization.editDialogRepeatThirdString);aE.push(D.schedulerLocalization.editDialogRepeatFourthString);aE.push(D.schedulerLocalization.editDialogRepeatLastString);aO.jqxDropDownList({dropDownWidth:150,selectedIndex:0,source:aE,autoDropDownHeight:true,height:25,width:"auto",theme:D.theme});var aB=c("<div style='margin-left: 5px; float:left;'></div>").appendTo(bb);var a7=new Array();for(var o=0;o<7;o++){var aG=D._getDayName(o);a7.push(aG)}aB.jqxDropDownList({rtl:D.rtl,dropDownWidth:150,autoDropDownHeight:true,selectedIndex:1,source:a7,height:25,width:"auto",theme:D.theme});D.editDialogFields.monthly.repeatDayOfWeekBool=aY;D.editDialogFields.monthly.repeatDayOfWeek=aB;D.editDialogFields.monthly.repeatDayOfWeekLabel=aI;D.editDialogFields.monthly.repeatDayOfWeekType=aO;D.editDialogFields.monthly.panel=ax;ax.detach();D.editDialogFields.yearly={};var aF=c("<div style='visibility: hidden;'></div>").appendTo(c(document.body));var aC=c("<div class='jqx-scheduler-edit-dialog-label'>"+D.schedulerLocalization.editDialogRepeatEveryString+"</div>").appendTo(aF);var aS=c("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(aF);var a9=c("<div style='float:left;'></div>").appendTo(aS);a9.jqxNumberInput({decimal:1,min:1,inputMode:"simple",height:25,width:50,spinButtons:true,decimalDigits:0,theme:D.theme});var a4=c("<div style='float: left; margin-left: 5px; line-height:25px;'>"+D.schedulerLocalization.editDialogRepeatEveryYearString+"</div>").appendTo(aS);D.editDialogFields.yearly.repeatYear=a9;D.editDialogFields.yearly.repeatYearLabel=aC;var aJ=c("<div class='jqx-scheduler-edit-dialog-label'>"+D.schedulerLocalization.editDialogRepeatOnString+"</div>").appendTo(aF);var aX=c("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(aF);var f=c("<div style='float:left;'></div>").appendTo(aX);var a1=c("<div style='position:relative; top: 6px; float:left;'></span></div>").appendTo(f);a1.jqxRadioButton({rtl:D.rtl,groupName:"year",height:25,width:25,checked:true,theme:D.theme});D.editDialogFields.yearly.repeatYearBool=a1;D.editDialogFields.yearly.repeatYearBoolLabel=aJ;var bg=c("<div style='float:left;'></div>").appendTo(f);var aH=new Array();for(var o=0;o<12;o++){var l=D.schedulerLocalization.months.names[o];aH.push(l)}bg.jqxDropDownList({selectedIndex:0,height:25,dropDownWidth:150,width:"auto",source:aH,theme:D.theme});D.editDialogFields.yearly.repeatYearMonth=bg;var bd=c("<div style='margin-left: 5px; float:left;'></div>").appendTo(f);bd.jqxNumberInput({decimal:1,min:1,inputMode:"simple",height:25,width:50,spinButtons:true,decimalDigits:0,theme:D.theme});D.editDialogFields.yearly.repeatYearDay=bd;var a3=c("<div class='jqx-scheduler-edit-dialog-label'></div>").appendTo(aF);var bj=c("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(aF);var aD=c("<div style='float:left;'></div>").appendTo(bj);var a5=c("<div style='position:relative; top: 6px; float:left;'><span style='margin-left:2px;'></span></div>").appendTo(aD);a5.jqxRadioButton({rtl:D.rtl,groupName:"year",height:25,width:25,checked:false,theme:D.theme});var ay=c("<div style='float:left;'></div>").appendTo(aD);D.editDialogFields.yearly.repeatDayOfWeekBool=a5;D.editDialogFields.yearly.repeatDayOfWeekType=ay;D.editDialogFields.yearly.repeatDayOfWeekLabel=a3;var aP=new Array();aP.push(D.schedulerLocalization.editDialogRepeatFirstString);aP.push(D.schedulerLocalization.editDialogRepeatSecondString);aP.push(D.schedulerLocalization.editDialogRepeatThirdString);aP.push(D.schedulerLocalization.editDialogRepeatFourthString);aP.push(D.schedulerLocalization.editDialogRepeatLastString);ay.jqxDropDownList({dropDownWidth:150,selectedIndex:0,source:aP,autoDropDownHeight:true,height:25,width:"auto",theme:D.theme});var aT=c("<div style='margin-left: 5px; float:left;'></div>").appendTo(aD);D.editDialogFields.yearly.repeatDayOfWeek=aT;var bh=new Array();for(var o=0;o<7;o++){var aG=D._getDayName(o);bh.push(aG)}aT.jqxDropDownList({rtl:D.rtl,dropDownWidth:150,selectedIndex:1,autoDropDownHeight:true,source:bh,height:25,width:"auto",theme:D.theme});var aH=new Array();var aR=c("<div style='line-height:25px; height: 25px; margin-left: 5px; float:left;'>"+D.schedulerLocalization.editDialogRepeatOfString+"</div>").appendTo(aD);var bf=c("<div style='margin-left: 5px; float:left;'></div>").appendTo(aD);for(var o=0;o<12;o++){var l=D.schedulerLocalization.months.names[o];aH.push(l)}D.editDialogFields.yearly.repeatDayOfWeekMonth=bf;bf.jqxDropDownList({rtl:D.rtl,dropDownWidth:150,selectedIndex:0,source:aH,height:25,width:"auto",theme:D.theme});D.editDialogFields.yearly.panel=aF;aF.detach()};if(D.editAppointment&&D.editAppointment.rootAppointment){s()}else{s()}var E=c("<div></div>");C.append(E);var F=c("<div class='jqx-scheduler-edit-dialog-label'>"+D.schedulerLocalization.editDialogExceptionsString+"</div>").appendTo(E);var G=c("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(E);var H=c("<div style='position:relative; top: 6px;'>"+D.schedulerLocalization.editDialogResetExceptionsString+"</div>").appendTo(G);H.jqxCheckBox({height:25,width:25,theme:D.theme});E.hide();D.editDialogFields.resetExceptions=H;D.editDialogFields.resetExceptionsLabel=F;D.editDialogFields.resetExceptionsContainer=E;var v=new Array();v.push(D.schedulerLocalization.editDialogRepeatNeverString);v.push(D.schedulerLocalization.editDialogRepeatDailyString);v.push(D.schedulerLocalization.editDialogRepeatWeeklyString);v.push(D.schedulerLocalization.editDialogRepeatMonthlyString);v.push(D.schedulerLocalization.editDialogRepeatYearlyString);A.jqxDropDownList({rtl:D.rtl,width:"100%",height:25,autoDropDownHeight:true,theme:D.theme,source:v,selectedIndex:0});D.editDialogFields.repeat=A;D.editDialogFields.repeatLabel=B;D.editDialogFields.repeatContainer=J;D.editDialogFields.repeatPanel=a;this.addHandler(A,"change",function(d){var e=d.args.item.index;var f=function(){a.children().detach();switch(e){case 0:break;case 1:D.editDialogFields.daily.panel.css("visibility","visible");a.append(D.editDialogFields.daily.panel);break;case 2:D.editDialogFields.weekly.panel.css("visibility","visible");a.append(D.editDialogFields.weekly.panel);break;case 3:D.editDialogFields.monthly.panel.css("visibility","visible");a.append(D.editDialogFields.monthly.panel);break;case 4:D.editDialogFields.yearly.panel.css("visibility","visible");a.append(D.editDialogFields.yearly.panel);break}a.append(w);if(e==0){D.editDialogFields.repeatEndPanelContainer.hide()}else{D.editDialogFields.repeatEndPanelContainer.show()}if(!D.isTouchDevice()){t.jqxWindow({height:150});t.jqxWindow({height:C[0].scrollHeight+40})}}()})},_initMenu:function(){var f=this;if(this.host.jqxMenu){if(this.menu){if(this._hasOpenedMenu){return}this.removeHandler(this.menu,"keydown");this.removeHandler(this.menu,"closed");this.removeHandler(this.menu,"itemclick");this.menu.jqxMenu("destroy");this.menu.removeData();this.menu.remove()}this.menuitemsarray=new Array();this.menu=c('<div id="menu.jqxscheduler'+this.element.id+'" style="white-space: nowrap; z-index: 9999999999999;"></div>');this.host.append(this.menu);this.addHandler(c(window),"orientationchange.jqxscheduler"+this.element.id,function(){f.menu.jqxMenu("close");f._hasOpenedMenu=false});this.addHandler(c(window),"orientationchanged.jqxscheduler"+this.element.id,function(){f.menu.jqxMenu("close");f._hasOpenedMenu=false});this.removeHandler(this.menu,"keydown");this.addHandler(this.menu,"keydown",function(d){if(d.keyCode==27){f.menu.jqxMenu("close");f._hasOpenedMenu=false;f.focus()}});this.addHandler(this.menu,"open",function(d){if(f.contextMenuOpen){f.contextMenuOpen(f.menu,f.selectedJQXAppointment?f.selectedJQXAppointment.boundAppointment:null,d)}f._raiseEvent("contextMenuOpen",{menu:f.menu,appointment:f.selectedJQXAppointment?f.selectedJQXAppointment.boundAppointment:null});f._removeFeedbackAndStopResize()});this.addHandler(this.menu,"close",function(d){if(f.contextMenuClose){f.contextMenuClose(f.menu,f.selectedJQXAppointment?f.selectedJQXAppointment.boundAppointment:null,d)}f._hasOpenedMenu=false;if(document.activeElement&&document.activeElement.className.indexOf("jqx-menu")>=0){f.focus()}f._raiseEvent("contextMenuClose",{menu:f.menu,appointment:f.selectedJQXAppointment?f.selectedJQXAppointment.boundAppointment:null})});this.addHandler(this.host,"contextmenu",function(d){d.preventDefault();d.stopPropagation();return false});this.addHandler(this.menu,"itemclick",function(d){var l=f.menu.jqxMenu("getItem",d.args.id);f._raiseEvent("contextMenuItemClick",{item:l,menu:f.menu,appointment:f.selectedJQXAppointment?f.selectedJQXAppointment.boundAppointment:null});if(f.contextMenuItemClick){var n=f.contextMenuItemClick(f.menu,f.selectedJQXAppointment?f.selectedJQXAppointment.boundAppointment:null,d);if(n==true){if(new Date()-f.renderedTime>500){f._renderrows()}f.menu.jqxMenu("close");f._hasOpenedMenu=false;return}}if(l.id=="createAppointment"){f._initDialog();f._openDialog();if(d.args.clickType=="keyboard"){f.menu.jqxMenu("close");f._hasOpenedMenu=false}}else{if(l.id=="editAppointment"){var o=f.getJQXAppointmentByElement(f.selectedAppointment);if(!o.readOnly){var n=f._initDialog(o);if(n!==false){f._openDialog()}}if(d.args.clickType=="keyboard"){f.menu.jqxMenu("close");f._hasOpenedMenu=false}}else{if(d.args.clickType=="keyboard"){f.menu.jqxMenu("close");f._hasOpenedMenu=false}return true}}});var e=new Array();e.push({label:this.schedulerLocalization.contextMenuEditAppointmentString,id:"editAppointment"});e.push({label:this.schedulerLocalization.contextMenuCreateAppointmentString,id:"createAppointment"});var a={rtl:this.rtl,keyboardNavigation:true,source:e,popupZIndex:999999,autoOpenPopup:false,mode:"popup",theme:this.theme,animationShowDuration:0,animationHideDuration:0,animationShowDelay:0};if(f.contextMenuCreate){f.contextMenuCreate(f.menu,a)}f._raiseEvent("contextMenuCreate",{menu:f.menu,settings:a});this.menu.jqxMenu(a)}},_initDialog:function(I,H){var w=this;var A=null;if(I&&I.isRecurrentAppointment()&&!w.editRecurrenceDialog.jqxWindow("isOpen")){var z=w.host.coord();var u=z.top+w.host.height()/2-w.editRecurrenceDialog.height()/2;var D=z.left+w.host.width()/2-w.editRecurrenceDialog.width()/2;w.editRecurrenceDialog.find("button:first").focus();setTimeout(function(){w.editRecurrenceDialog.find("button:first").focus()},25);w.editRecurrenceDialog.jqxWindow("move",D,u);w.editRecurrenceDialog.jqxWindow("open");w.editSeries=function(d){if(d){w._initDialog(I.rootAppointment);w._openDialog()}else{w._initDialog(I);w._openDialog()}};w.overlay.show();w.overlay.width(w.host.width());w.overlay.height(w.host.height());var z=w.host.coord();w.overlay.offset(z);if(!w._editDialog){w._initDialog()}return false}w.editAppointment=I;if(!I){A=w.getSelection();if(!A){w.focus();w.focusedCell.setAttribute("data-selected","true");w._lastSelectedCell=w.focusedCell;w._updateCellsSelection(w.focusedCell);A=w.getSelection()}}if(A||I){var G=A?A.from:I.from;var C=A?A.to:I.to;var v=w.getSelectedCells();if(v.length>0){var E=v[v.length-1].getAttribute("data-end-date");if(E){C=c.jqx.scheduler.utilities.getEndOfDay(C)}}w._editStart=G;w._editEnd=C}if(w.editDialogFields&&w.editDialogFields.resourceContainer&&w._resources.length>0){var F=new Array();for(var B=0;B<w._resources.length;B++){F.push(w._resources[B])}var a=true;if(F.length>10){a=false}w.editDialogFields.resource.jqxDropDownList({source:F,selectedIndex:0,autoDropDownHeight:a});if(!I){w.editDialogFields.resource.val(A.resourceId)}}if(w.editDialogFields&&w.editDialogFields.repeatContainer){if(I&&I.rootAppointment){w.editDialogFields.repeatContainer.hide();w.editDialogFields.repeatPanel.hide()}else{w.editDialogFields.repeatContainer.show();w.editDialogFields.repeatPanel.show()}}if(w._editDialog==null){w._editDialog=null;var t=I==null?w.schedulerLocalization.editDialogCreateTitleString:w.schedulerLocalization.editDialogTitleString;var s=c("<div><div>"+t+"</div><div id='dialog"+this.element.id+"'></div></div>");c(s).jqxWindow({rtl:w.rtl,autoFocus:false,autoOpen:false,animationType:"none",theme:w.theme,width:530,maxHeight:800,minHeight:110,resizable:false,initContent:function(){w.editDialogFields={};if(G==null&&C==null&&w._editStart&&w._editEnd){G=w._editStart;C=w._editEnd}s.jqxWindow("setTitle",t);var a1=c(s.children()[1]);var bf=c("<div></div>");a1.append(bf);var bb=c("<div class='jqx-scheduler-edit-dialog-label'>"+w.schedulerLocalization.editDialogSubjectString+"</div>").appendTo(bf);var ba=c("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(bf);var ay=c("<input/>").appendTo(ba);ay.jqxInput({rtl:w.rtl,width:"100%",height:25,theme:w.theme});w.editDialogFields.subject=ay;w.editDialogFields.subjectLabel=bb;w.editDialogFields.subjectContainer=bf;var aL=c("<div></div>");a1.append(aL);var bl=c("<div class='jqx-scheduler-edit-dialog-label'>"+w.schedulerLocalization.editDialogLocationString+"</div>").appendTo(aL);var d=c("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(aL);var aE=c("<input/>").appendTo(d);aE.jqxInput({rtl:w.rtl,width:"100%",height:25,theme:w.theme});w.editDialogFields.location=aE;w.editDialogFields.locationLabel=bl;w.editDialogFields.locationContainer=aL;var aT=c("<div></div>");a1.append(aT);var l=c("<div class='jqx-scheduler-edit-dialog-label'>"+w.schedulerLocalization.editDialogFromString+"</div>").appendTo(aT);var ax=c("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(aT);var aK=c("<div></div>").appendTo(ax);var aw=null;if(!G){var h=new Date();h.setHours(9,0,0);aw=h}else{aw=G.toDate()}aK.jqxDateTimeInput({rtl:w.rtl,localization:w._getDateTimeInputLocalization(),firstDayOfWeek:w.schedulerLocalization.firstDay,todayString:w.schedulerLocalization.todayString,clearString:w.schedulerLocalization.clearString,value:aw,formatString:w.editDialogDateTimeFormatString,width:"100%",showTimeButton:true,height:25,theme:w.theme});w.editDialogFields.from=aK;w.editDialogFields.fromLabel=l;w.editDialogFields.fromContainer=aT;var bi=c("<div></div>");a1.append(bi);var bm=c("<div class='jqx-scheduler-edit-dialog-label'>"+w.schedulerLocalization.editDialogToString+"</div>").appendTo(bi);var f=c("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(bi);var aG=c("<div></div>").appendTo(f);var bn=null;if(!C){var h=new Date();h.setHours(10,0,0);bn=h}else{bn=C.toDate()}aG.jqxDateTimeInput({rtl:w.rtl,localization:w._getDateTimeInputLocalization(),firstDayOfWeek:w.schedulerLocalization.firstDay,todayString:w.schedulerLocalization.todayString,clearString:w.schedulerLocalization.clearString,value:bn,formatString:w.editDialogDateTimeFormatString,width:"100%",showTimeButton:true,height:25,theme:w.theme});w.editDialogFields.to=aG;w.editDialogFields.toLabel=bm;w.editDialogFields.toContainer=bi;w._changeFromUser=true;w.addHandler(aK,"change",function(J){if(!w._changeFromUser){return}var L=J.args;var O=J.args.oldValue;var P=aG.val("date");var M=new c.jqx.date(P)-new c.jqx.date(O);if(M>0){var K=M*10000;var Q=c.jqx.timeSpan(K);var N=new c.jqx.date(J.args.newValue).add(Q);aG.val(N.toDate())}});w.addHandler(aG,"change",function(L){if(!w._changeFromUser){return}var M=L.args;var J=L.args.oldValue;var K=aG.val("date");if(aK.val("date")>=K){aG.val(J)}});var br=c("<div></div>");a1.append(br);var aH=c("<div class='jqx-scheduler-edit-dialog-label'>"+w.schedulerLocalization.editDialogAllDayString+"</div>").appendTo(br);var aJ=c("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(br);var a0=c("<div style='position:relative; top: 6px;'></div>").appendTo(aJ);a0.jqxCheckBox({rtl:w.rtl,height:25,width:25,theme:w.theme});w.editDialogFields.allDay=a0;w.editDialogFields.allDayLabel=aH;w.editDialogFields.allDayContainer=br;w.addHandler(br,"change",function(J){if(J.args.checked){aG.jqxDateTimeInput({showTimeButton:false,formatString:w.editDialogDateFormatString});aK.jqxDateTimeInput({showTimeButton:false,formatString:w.editDialogDateFormatString})}else{aG.jqxDateTimeInput({showTimeButton:true,formatString:w.editDialogDateTimeFormatString});aK.jqxDateTimeInput({showTimeButton:true,formatString:w.editDialogDateTimeFormatString})}});if(c.jqx.scheduler.utilities.getStartOfDay(G).equals(G)&&c.jqx.scheduler.utilities.getEndOfDay(C).equals(C)){w.editDialogFields.allDay.val(true)}if(w._views[w._view].type.indexOf("month")>=0||(G&&G.equals(C))||(C&&C.equals(c.jqx.scheduler.utilities.getEndOfDay(C)))){w.editDialogFields.allDay.val(true)}var bo=c("<div></div>");a1.append(bo);var o=c("<div class='jqx-scheduler-edit-dialog-label'>"+w.schedulerLocalization.editDialogTimeZoneString+"</div>").appendTo(bo);var aF=c("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(bo);var aP=c("<div></div>").appendTo(aF);var bq=new Array();bq.push({displayName:w.schedulerLocalization.editDialogSelectTimeZoneString,id:null});bq=bq.concat(w.timeZones);for(var q=0;q<bq.length;q++){var az=bq[q];var a3=az.displayName.indexOf(")");if(a3>=0){var a7=az.displayName.substring(2+a3)}else{var a7=az.displayName}az.searchName=a7}aP.jqxDropDownList({rtl:w.rtl,placeHolder:w.schedulerLocalization.editDialogSelectTimeZoneString,width:"100%",height:25,theme:w.theme,searchMember:"searchName",source:bq,displayMember:"displayName",valueMember:"id"});w.editDialogFields.timeZone=aP;w.editDialogFields.timeZoneLabel=o;w.editDialogFields.timeZoneContainer=bo;w.initRepeatPanels(s,a1,C.toDate());if(w.editDialogFields&&w.editDialogFields.repeatContainer){if(w.editAppointment&&w.editAppointment.rootAppointment){w.editDialogFields.repeatContainer.hide();w.editDialogFields.repeatPanel.hide()}else{w.editDialogFields.repeatContainer.show();w.editDialogFields.repeatPanel.show()}}var aV=c("<div></div>");a1.append(aV);var bk=c("<div class='jqx-scheduler-edit-dialog-label'>"+w.schedulerLocalization.editDialogDescriptionString+"</div>").appendTo(aV);var aN=c("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(aV);var a9=c("<textarea resizable='off' style='position:relative; top: 3px;'></textarea>").appendTo(aN);a9.jqxInput({rtl:w.rtl,height:40,width:"100%",theme:w.theme});w.editDialogFields.description=a9;w.editDialogFields.descriptionLabel=bk;w.editDialogFields.descriptionContainer=aV;var bd=c("<div></div>");a1.append(bd);var bh=c("<div class='jqx-scheduler-edit-dialog-label'>"+w.schedulerLocalization.editDialogColorString+"</div>").appendTo(bd);var aI=c("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(bd);var a5=c("<div></div>").appendTo(aI);var aZ=function(K){if(K==-1){return""}var L=w.colors[K];var J="";var J="";J+="<div style='margin-top: 1px; float: left; border-radius: 3px; width: 96%; height: 20px; border: none; background:"+L+"; margin-left: 2%;'></div>";return J};var aR=function(J,L){if(L<0){J.css("top","4px");J.css("position","relative");return J[0].outerHTML}var M=w.colors[L];var K="";K+="<div style='margin-top: 2px; float: left; border-radius: 3px; width: 96%; height: 20px; border: none; background:"+M+"; margin-left: 2%;'></div>";return K};a5.jqxDropDownList({rtl:w.rtl,selectedIndex:-1,placeHolder:w.schedulerLocalization.editDialogColorPlaceHolderString,selectionRenderer:aR,renderer:aZ,source:w.colors,height:25,width:"100%",theme:w.theme});w.editDialogFields.color=a5;w.editDialogFields.colorLabel=bh;w.editDialogFields.colorContainer=bd;var a2=c("<div></div>");a1.append(a2);var e=c("<div class='jqx-scheduler-edit-dialog-label'>"+w.schedulerLocalization.editDialogStatusString+"</div>").appendTo(a2);var aO=c("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(a2);var bc=c("<div></div>").appendTo(aO);bc.jqxDropDownList({rtl:w.rtl,selectedIndex:2,autoDropDownHeight:true,source:w.schedulerLocalization.editDialogStatuses,height:25,width:"100%",theme:w.theme});w.editDialogFields.status=bc;w.editDialogFields.statusLabel=e;w.editDialogFields.statusContainer=a2;var a4=c("<div></div>");a1.append(a4);var aQ=c("<div class='jqx-scheduler-edit-dialog-label'>"+w.schedulerLocalization.editDialogResourceIdString+"</div>").appendTo(a4);var aS=c("<div class='jqx-scheduler-edit-dialog-field'></div>").appendTo(a4);var be=c("<div></div>").appendTo(aS);var a6=new Array();for(var q=0;q<w._resources.length;q++){a6.push(w._resources[q])}var bp=true;if(a6.length>10){bp=false}be.jqxDropDownList({rtl:w.rtl,source:a6,selectedIndex:0,autoDropDownHeight:bp,height:25,width:"100%",theme:w.theme});w.editDialogFields.resource=be;w.editDialogFields.resourceLabel=aQ;w.editDialogFields.resourceContainer=a4;if(a6.length==0){a4.hide()}if(!I&&A){w.editDialogFields.resource.val(A.resourceId)}var a8=c("<div></div>");a1.append(a8);var aU=c("<div style='width:100%;' class='jqx-scheduler-edit-dialog-field'></div>").appendTo(a8);var aM=c("<button style='margin-left: 5px; float:right;'>"+w.schedulerLocalization.editDialogCancelString+"</button>").appendTo(aU);var aY=c("<button style='margin-left: 5px; float:right;'>"+w.schedulerLocalization.editDialogDeleteString+"</button>").appendTo(aU);var aX=c("<button style='display: none; margin-left: 5px; float:right;'>"+w.schedulerLocalization.editDialogRepeatDeleteSeriesString+"</button>").appendTo(aU);var aW=c("<button style='display: none; margin-left: 5px; float:right;'>"+w.schedulerLocalization.editDialogRepeatDeleteString+"</button>").appendTo(aU);var bg=c("<button style='margin-left: 5px; float:right;'>"+w.schedulerLocalization.editDialogSaveString+"</button>").appendTo(aU);var bj=c("<button style='display: none; margin-left: 5px; float:right;'>"+w.schedulerLocalization.editDialogRepeatSaveSeriesString+"</button>").appendTo(aU);var bs=c("<button style='display: none; margin-left: 5px; float:right;'>"+w.schedulerLocalization.editDialogRepeatSaveString+"</button>").appendTo(aU);var n=25;if(w.isTouchDevice()){n=null}aY.jqxButton({rtl:w.rtl,theme:w.theme,height:n});aX.jqxButton({rtl:w.rtl,theme:w.theme,height:n});aW.jqxButton({rtl:w.rtl,theme:w.theme,height:n});bg.jqxButton({rtl:w.rtl,theme:w.theme,height:n});aM.jqxButton({rtl:w.rtl,theme:w.theme,height:n});bj.jqxButton({rtl:w.rtl,theme:w.theme,height:n});bs.jqxButton({rtl:w.rtl,theme:w.theme,height:n});bj.hide();bs.hide();w.editDialogFields.saveOccurrenceButton=bs;w.editDialogFields.saveSeriesButton=bj;w.editDialogFields.saveButton=bg;w.editDialogFields.cancelButton=aM;w.editDialogFields.deleteButton=aY;w.editDialogFields.deleteSeriesButton=aX;w.editDialogFields.deleteExceptionsButton=aW;w.editDialogFields.buttons=aU;w.addHandler(aY,"click",function(){s.jqxWindow("close");w.overlay.hide();w._deleteAppointment(w.editAppointment)});w.addHandler(aM,"click",function(){s.jqxWindow("close");w.overlay.hide()});w.addHandler(bs,"click",function(){if(!w.editAppointment.isException()){if(w.editAppointment.rootAppointment!=null){w.editAppointment.rootAppointment.exceptions.push(w.editAppointment);w.editAppointment.rootAppointment.recurrenceException.push(w.editAppointment.occurrenceFrom)}else{w.editAppointment.exceptions.push(w.editAppointment);w.editAppointment.recurrenceException.push(w.editAppointment.occurrenceFrom)}}else{var J=w.editAppointment.rootAppointment?w.editAppointment.rootAppointment.exceptions:w.editAppointment.exceptions;for(var K=0;K<J.length;K++){if(J[K].occurrenceFrom.equals(w.editAppointment.occurrenceFrom)){J[K]=w.editAppointment;break}}}var L=w._setAppointmentPropertiesFromDialog(w.editAppointment,"occurrence");if(!L){return}w.changedAppointments[w.editAppointment.id]={type:"Update",appointment:w.editAppointment.boundAppointment};w._raiseEvent("appointmentChange",{appointment:w.editAppointment.boundAppointment});w._renderrows();s.jqxWindow("close");w.overlay.hide()});w.addHandler(bj,"click",function(){var J=w.editAppointment;if(J.rootAppointment){J=J.rootAppointment}var K=w._setAppointmentPropertiesFromDialog(J,"series");if(!K){return}w.changedAppointments[J.id]={type:"Update",appointment:J.boundAppointment};w._raiseEvent("appointmentChange",{appointment:J.boundAppointment});w._renderrows();s.jqxWindow("close");w.overlay.hide()});w.addHandler(bg,"click",function(){var K=true;if(w.editAppointment==null){var J=new c.jqx.scheduler.appointment();K=w._setAppointmentPropertiesFromDialog(J,"none");if(K){w.addAppointment(J)}}else{if(w.editAppointment.rootAppointment){bs.trigger("click");K=false}else{if(w.editAppointment.isRecurrentAppointment()){bj.trigger("click");K=false}else{K=w._setAppointmentPropertiesFromDialog(w.editAppointment,"none");if(K){w.changedAppointments[w.editAppointment.id]={type:"Update",appointment:w.editAppointment?w.editAppointment.boundAppointment:null};w._raiseEvent("appointmentChange",{appointment:w.editAppointment.boundAppointment});w._renderrows()}}}}if(K){s.jqxWindow("close");w.overlay.hide()}});w.addHandler(s,"close",function(J){w.overlay.hide();w.focus();if(w.editDialogClose){w.editDialogClose(s,w.editDialogFields,w.editAppointment?w.editAppointment.boundAppointment:null)}w._raiseEvent("editDialogClose",{dialog:s,fields:w.editDialogFields,appointment:w.editAppointment?w.editAppointment.boundAppointment:null})});if(w.editDialogCreate){w.editDialogCreate(s,w.editDialogFields,w.editAppointment)}w._raiseEvent("editDialogCreate",{dialog:s,fields:w.editDialogFields,appointment:w.editAppointment?w.editAppointment.boundAppointment:null});s.jqxWindow({height:a1[0].scrollHeight+40})}});w._editDialog=s}if(!w.dialogOpenings){w.dialogOpenings=0}w.removeHandler(w._editDialog,"open");w.addHandler(w._editDialog,"open",function(e){if(w.editDialogOpen&&w.editDialogFields){var d=w.editDialogOpen(s,w.editDialogFields,w.editAppointment?w.editAppointment.boundAppointment:null);if(d==true){return}}if(w.rtl){w._editDialog.find(".jqx-scheduler-edit-dialog-label").addClass(w.toThemeProperty("jqx-scheduler-edit-dialog-label-rtl"));w._editDialog.find(".jqx-scheduler-edit-dialog-field").addClass(w.toThemeProperty("jqx-scheduler-edit-dialog-field-rtl"));w.editDialogFields.saveOccurrenceButton.css("float","left");w.editDialogFields.saveSeriesButton.css("float","left");w.editDialogFields.saveButton.css("float","left");w.editDialogFields.cancelButton.css("float","left");w.editDialogFields.deleteButton.css("float","left");w.editDialogFields.deleteSeriesButton.css("float","left");w.editDialogFields.deleteExceptionsButton.css("float","left");w.editDialogFields.buttons.css("width","auto");w.editDialogFields.allDay.css("float","right")}setTimeout(function(){var h=w.editAppointment?w.editAppointment.boundAppointment:null;if(w.editAppointment&&w.editAppointment.rootAppointment){h=w.editAppointment.rootAppointment.boundAppointment}w._raiseEvent("editDialogOpen",{dialog:w._editDialog,fields:w.editDialogFields,appointment:h})});var f=function(){setTimeout(function(){if(!H){w.editDialogFields.subject.focus();w.editDialogFields.subject.select()}else{w.editDialogFields.deleteButton.focus()}},1)};if(0==w.dialogOpenings&&!I){w.dialogOpenings++;if(!w.isTouchDevice()){w._editDialog.jqxWindow({height:150});w._editDialog.jqxWindow({height:c(w._editDialog.children())[1].scrollHeight+40})}f();return}if(w.editDialogFields){w.editDialogFields.subject.val("");w.editDialogFields.location.val("");f();w.editDialogFields.resetExceptions.val(false);w.editDialogFields.description.val("");if(!I){w.editDialogFields.deleteButton.hide()}if(I){w.dialogOpenings++;w.editDialogFields.deleteButton.show();w.editDialogFields.subject.val(I.subject);w.editDialogFields.location.val(I.location);w.editDialogFields.description.val(I.description);w.editDialogFields.timeZone.val(I.timeZone);if(w.colors.indexOf(I.borderColor)>=0){w.editDialogFields.color.val(I.borderColor)}else{w.editDialogFields.color.jqxDropDownList("clearSelection")}w.editDialogFields.allDay.val(I.allDay);w.editDialogFields.resource.val(I.resourceId);w.editDialogFields.status.val(I.status);if(I.timeZone){I.from=I.from.toTimeZone(I.timeZone);I.to=I.to.toTimeZone(I.timeZone)}G=I.from;C=I.to;if(c.jqx.scheduler.utilities.getStartOfDay(G).equals(G)&&c.jqx.scheduler.utilities.getEndOfDay(C).equals(C)){w.editDialogFields.allDay.val(true)}w._setAppointmentPropertiesToDialog(I,G,C,A?A.resourceId:null)}else{w.editDialogFields.saveButton.show();w._setAppointmentPropertiesToDialog(null,G,C,A?A.resourceId:null)}if(G&&C){w._changeFromUser=false;w.editDialogFields.from.val(G.toDate());w.editDialogFields.to.val(C.toDate());w._changeFromUser=true}if(!w.isTouchDevice()){w._editDialog.jqxWindow({height:150});w._editDialog.jqxWindow({height:c(w._editDialog.children())[1].scrollHeight+40})}}});w.removeHandler(w._editDialog,"keydown");w.addHandler(w._editDialog,"keydown",function(e){if(w.editDialogKeyDown){var d=w.editDialogKeyDown(s,w.editDialogFields,w.editAppointment,e);if(d!=undefined){return d}}if(e.keyCode==13){if(c(document.activeElement).ischildof(w._editDialog)){if(document.activeElement.nodeName.toLowerCase()=="button"){return true}if(I){if(I.isException()||I.rootAppointment){w.editDialogFields.saveOccurrenceButton.trigger("click")}else{if(I.isRecurrentAppointment()){w.editDialogFields.saveSeriesButton.trigger("click")}else{w.editDialogFields.saveButton.trigger("click")}}}else{w.editDialogFields.saveButton.trigger("click")}}}else{if(e.keyCode==27){w.editDialogFields.cancelButton.trigger("click")}}})},openMenu:function(l,o){var n=this;if(!n.menu){n._initMenu()}var a=n._views[n._view].type;if(a=="agendaView"){return}if(n.contextMenu&&n.menu){if(!n.selectedAppointment){n.menu.jqxMenu("hideItem","editAppointment")}else{n.menu.jqxMenu("showItem","editAppointment")}if(arguments.length<2){if(n.selectedAppointment){var h=n.selectedAppointment.coord();l=h.left;o=h.top}else{if(n.focusedCell){var h=c(n.focusedCell).coord()}}l=h.left;o=h.top}n.menu.jqxMenu("open",l,o);n._hasOpenedMenu=true}},closeMenu:function(){var a=this;if(a.contextMenu&&a.menu){setTimeout(function(){a.menu.jqxMenu("close")})}},closeDialog:function(){var a=this;a._editDialog.jqxWindow("close")},openDialog:function(n,l){var h=this;var o=h._views[h._view].type;if(o=="agendaView"){return}if(h.selectedJQXAppointment){var a=h._initDialog(h.selectedJQXAppointment);if(a!==false){h._openDialog(n,l)}}else{if(h.getSelection()==null){h.focus();h.focusedCell.setAttribute("data-selected","true");h._lastSelectedCell=h.focusedCell;h._updateCellsSelection(h.focusedCell)}h._initDialog();h._openDialog(n,l)}},_openDialog:function(t,u){var q=this;var a=q._views[q._view].type;if(a=="agendaView"){return}if(!q.editDialog){return}var s=q.host.coord();q.overlay.show();q.overlay.css("z-index",9999999);q.overlay.width(q.host.width());q.overlay.height(q.host.height());q.overlay.offset(s);var o=q.isTouchDevice();if(o){q._editDialog.jqxWindow("move",s.left,s.top);q._editDialog.jqxWindow({draggable:false,maxWidth:q.host.width(),maxHeight:q.host.height()});q._editDialog.jqxWindow({width:q.host.width(),height:q.host.height()});q._editDialog.jqxWindow("open");q._editDialog.jqxWindow("move",s.left,s.top)}else{if(t!=undefined&&u!=undefined){q._editDialog.jqxWindow("move",t,u);q._editDialog.jqxWindow("open")}else{var l=q._editDialog.height();if(l<400){l=400}var n=s.top+q.host.height()/2-l/2;var v=s.left+q.host.width()/2-q._editDialog.width()/2;q._editDialog.jqxWindow("move",v,n);q._editDialog.jqxWindow("open")}}setTimeout(function(){q.overlay.css("z-index",999)},50)},_setAppointmentPropertiesFromDialog:function(l,h){var f=this;var a=function(aa){var I=f._views[f._view].type;var O=f._views[f._view];var X=f.editDialogFields.from.val("date");var af=f.editDialogFields.to.val("date");if(X>af){f.editDialogFields.from.jqxDateTimeInput("focus");return false}if(X==af){if(I.indexOf("month")>=0){return true}return false}aa.resourceId=f.editDialogFields.resource.val();if(f.editDialogFields.resourceContainer.css("display")=="none"){aa.resourceId=""}aa.description=f.editDialogFields.description.val();aa.allDay=f.editDialogFields.allDay.val();aa.status=f.editDialogFields.status.val();aa.location=f.editDialogFields.location.val();aa.timeZone=f.editDialogFields.timeZone.val();if(aa.timeZone==""&&f.timeZone!=""){aa.timeZone=f.timeZone}aa.from=new c.jqx.date(X,aa.timeZone);aa.to=new c.jqx.date(af,aa.timeZone);if(f.timeZone){aa.from=aa.from.toTimeZone(f.timeZone);aa.to=aa.to.toTimeZone(f.timeZone)}else{aa.from=aa.from.toTimeZone(null);aa.to=aa.to.toTimeZone(null)}if(aa.allDay){aa.from=c.jqx.scheduler.utilities.getStartOfDay(aa.from);aa.to=c.jqx.scheduler.utilities.getEndOfDay(aa.to)}if(f.editDialogFields.color.val()){var M=f.getAppointmentColors(f.editDialogFields.color.val());aa.color=M.color;aa.background=M.background;aa.borderColor=M.border}aa.subject=f.editDialogFields.subject.val();var ah=f.editDialogFields.repeat.jqxDropDownList("selectedIndex");var U=new c.jqx.scheduler.recurrencePattern();var ae=f.editDialogFields.repeatEndPanel;U.timeZone=f.timeZone;U.from=aa.from.clone();if(h=="occurrence"){if(aa.rootAppointment){U.from=aa.rootAppointment.from.clone()}}if(f.editDialogFields.resetExceptions.val()){aa.exceptions=new Array();aa.recurrenceException=new Array()}if(ae.repeatEndNever.val()){U.count=1000;U.to=new c.jqx.date(9999,12,31)}else{if(ae.repeatEndAfter.val()){U.count=ae.repeatEndAfterValue.val();U.to=new c.jqx.date(9999,12,31)}else{if(ae.repeatEndOn.val()){U.count=1000;var af=new c.jqx.date(ae.repeatEndOnValue.jqxDateTimeInput("getDate"),f.timeZone);U.to=af}}}switch(ah){case 0:default:aa.clearRecurrence();break;case 1:var ad=f.editDialogFields.daily;var N=ad.repeatDayInterval.val();U.interval=N;U.freq="daily";break;case 2:var K=f.editDialogFields.weekly;var N=K.repeatWeekInterval.val();var W=[{Sunday:0},{Monday:1},{Tuesday:2},{Wednesday:3},{Thursday:4},{Friday:5},{Saturday:6}];var Y=K.repeatDays;var Z=new Array();U.weekDays={};for(var T=0;T<7;T++){var V=Y[T].val();if(V){if(T==0){Z.push(6)}else{Z.push(T-1)}c.extend(U.weekDays,W[T])}}U.freq="weekly";U.byweekday=Z;U.interval=N;break;case 3:var S=f.editDialogFields.monthly;var N=S.repeatMonth.val();if(S.repeatMonthDayBool.val()){U.day=S.repeatMonthDay.val();U.bymonthday=new Array();U.bymonthday.push(U.day)}else{var e=S.repeatDayOfWeek.jqxDropDownList("selectedIndex");var R=new Array();if(e==0){e=6}else{e--}var ac=S.repeatDayOfWeekType.jqxDropDownList("selectedIndex");var Q="";switch(ac){case 0:Q=1;break;case 1:Q=2;break;case 2:Q=3;break;case 3:Q=4;break;case 4:Q=-1;break}R.push([e,Q]);U.bynweekday=R}U.freq="monthly";U.interval=N;break;case 4:var L=f.editDialogFields.yearly;var N=L.repeatYear.val();if(L.repeatYearBool.val()){U.day=L.repeatYearDay.val();U.month=L.repeatYearMonth.jqxDropDownList("selectedIndex");U.bymonth=new Array();U.bymonth.push(1+U.month);U.byyearday=new Array();U.byyearday.push(U.day)}else{U.month=L.repeatDayOfWeekMonth.jqxDropDownList("selectedIndex");U.bymonth=new Array();U.bymonth.push(1+U.month);var e=L.repeatDayOfWeek.jqxDropDownList("selectedIndex");var R=new Array();if(e==0){e=6}else{e--}var ac=L.repeatDayOfWeekType.jqxDropDownList("selectedIndex");var Q="";switch(ac){case 0:Q=1;break;case 1:Q=2;break;case 2:Q=3;break;case 3:Q=4;break;case 4:Q=-1;break}R.push([e,Q]);U.bynweekday=R}U.freq="yearly";U.interval=N;break}if(aa.rootAppointment){aa.rootAppointment.recurrencePattern=U}else{if(ah>0){aa.recurrencePattern=U}}var ab={};var P={};for(var J in f.appointmentDataFields){var ag=f.appointmentDataFields[J];var d=aa[J];ab[J]=d;if(J=="from"||J=="to"){d=d.toDate()}P[ag]=d}ab.originalData=P;aa.boundAppointment=ab;return true}(l);return a},_setAppointmentPropertiesToDialog:function(q,l,s,n){var o=this;var t=function(){var u=o.editDialogFields.repeatEndPanel;u.repeatEndNever.jqxRadioButton({checked:true});u.repeatEndAfterValue.val(1);u.repeatEndOnValue.val(e);var e=s.toDate();if(o.editDialogFields.daily){var h=o.editDialogFields.daily;h.repeatDayInterval.val(1)}if(o.editDialogFields.weekly){var v=o.editDialogFields.weekly;for(var d=0;d<v.repeatDays.length;d++){if(d==1){v.repeatDays[d].jqxCheckBox({checked:true})}else{v.repeatDays[d].jqxCheckBox({checked:false})}}v.repeatWeekInterval.val(1)}if(o.editDialogFields.monthly){var w=o.editDialogFields.monthly;w.repeatDayOfWeek.jqxDropDownList("selectIndex",1);w.repeatDayOfWeekBool.jqxRadioButton({checked:false});w.repeatDayOfWeekType.jqxDropDownList("selectIndex",0);w.repeatMonthDayBool.jqxRadioButton({checked:true});w.repeatMonthDay.val(1);w.repeatMonth.val(1)}if(o.editDialogFields.yearly){var f=o.editDialogFields.yearly;f.repeatDayOfWeekMonth.jqxDropDownList("selectIndex",0);f.repeatDayOfWeekBool.jqxRadioButton({checked:false});f.repeatDayOfWeekType.jqxDropDownList("selectIndex",0);f.repeatDayOfWeek.jqxDropDownList("selectIndex",1);f.repeatYear.val(1);f.repeatYearMonth.jqxDropDownList("selectIndex",0);f.repeatYearDay.val(1);f.repeatYearBool.val(true)}};t();if(q&&q.isRecurrentAppointment()){if(!q.rootAppointment){o.editDialogFields.resetExceptionsContainer.show()}else{o.editDialogFields.resetExceptionsContainer.hide()}}else{if(q){o.editDialogFields.resetExceptionsContainer.hide();o.editDialogFields.repeat.jqxDropDownList("selectIndex",0)}}if(!q){o.editDialogFields.timeZone.jqxDropDownList("clearSelection");if(!n){o.editDialogFields.resource.jqxDropDownList("selectIndex",0)}else{o.editDialogFields.resource.val(n)}o.editDialogFields.allDay.val(false);if(o._views[o._view].type.indexOf("month")>=0||(l&&l.equals(s))||(s&&s.equals(c.jqx.scheduler.utilities.getEndOfDay(s)))){o.editDialogFields.allDay.val(true)}o.editDialogFields.color.jqxDropDownList("clearSelection");o.editDialogFields.description.val("");o.editDialogFields.subject.val("");o.editDialogFields.repeat.jqxDropDownList("selectIndex",0);return}var a=function(E){var d=E.recurrencePattern;if(E.rootAppointment){var d=E.rootAppointment.recurrencePattern}if(d==null){return}var D=d.freq;var f=0;if(D=="daily"){f=1}if(D=="weekly"){f=2}if(D=="monthly"){f=3}if(D=="yearly"){f=4}var A=o.editDialogFields.repeatEndPanel;if(d.count!=1000){A.repeatEndAfter.jqxRadioButton({checked:true});A.repeatEndAfterValue.val(d.count)}else{if(d.to.year()!=9999){A.repeatEndOn.jqxRadioButton({checked:true});A.repeatEndOnValue.val(d.to.toDate())}else{A.repeatEndNever.jqxRadioButton({checked:true})}}o.editDialogFields.repeat.jqxDropDownList("selectIndex",f);switch(f){case 1:var C=d.interval;var e=o.editDialogFields.daily;e.repeatDayInterval.val(C);break;case 2:var C=d.interval;var F=o.editDialogFields.weekly;F.repeatWeekInterval.val(C);var G=d.byweekday;for(var h=0;h<7;h++){var I=F.repeatDays[h];I.val(false)}for(var h=0;h<G.length;h++){var I=G[h];if(I==6){F.repeatDays[0].val(true)}else{F.repeatDays[I+1].val(true)}}break;case 3:var K=o.editDialogFields.monthly;K.repeatMonth.val(d.interval);if(d.bymonthday&&d.bymonthday.length>0){K.repeatMonthDayBool.jqxRadioButton({checked:true});K.repeatMonthDay.val(d.day)}else{K.repeatDayOfWeekBool.jqxRadioButton({checked:true});var M=d.bynweekday;var B=M[0][0];B++;if(B==7){B=0}K.repeatDayOfWeek.jqxDropDownList("selectIndex",B);var H=M[0][1];var J="";switch(H){case 1:J=0;break;case 2:J=1;break;case 3:J=2;break;case 4:J=3;break;case -1:J=4;break}K.repeatDayOfWeekType.jqxDropDownList("selectIndex",J)}break;case 4:var L=o.editDialogFields.yearly;if(d.byyearday&&d.byyearday.length>0){L.repeatYearDay.val(d.byyearday[0]);L.repeatYearBool.val(true)}if(d.bymonth&&d.bymonth.length>0){L.repeatYearMonth.val(d.bymonth[0]);L.repeatYearBool.val(true)}if(!d.byyearday||(d.byyearday&&d.byyearday.length==0)){L.repeatDayOfWeekMonth.val(d.bymonth[0]);L.repeatDayOfWeekBool.jqxRadioButton({checked:true});var M=d.bynweekday;var B=M[0][0];B++;if(B==7){B=0}L.repeatDayOfWeek.jqxDropDownList("selectIndex",B);var H=M[0][1];var J="";switch(H){case 1:J=0;break;case 2:J=1;break;case 3:J=2;break;case 4:J=3;break;case -1:J=4;break}L.repeatDayOfWeekType.jqxDropDownList("selectIndex",J)}break}};a(q)}});c.jqx.scheduler.column=function(a,d){this.owner=a;this.datafield=null;this.displayfield=null;this.text="";this.sortable=true;this.editable=true;this.hidden=false;this.hideable=true;this.groupable=true;this.renderer=null;this.cellsRenderer=null;this.columntype=null;this.cellsFormat="";this.align="center";this.cellsalign="center";this.width="auto";this.minwidth=60;this.maxwidth="auto";this.pinned=false;this.visibleindex=-1;this.filterable=true;this.filter=null;this.resizable=true;this.draggable=true;this.initeditor=null;this.createeditor=null;this.destroyeditor=null;this.geteditorvalue=null;this.autoCellHeight=true;this.validation=null;this.classname="";this.cellclassname="";this.rendered=null;this.exportable=true;this.nullable=true;this.columngroup=null;this.columntype="textbox";this.getcolumnproperties=function(){return{nullable:this.nullable,sortable:this.sortable,hidden:this.hidden,groupable:this.groupable,width:this.width,align:this.align,editable:this.editable,minwidth:this.minwidth,maxwidth:this.maxwidth,resizable:this.resizable,datafield:this.datafield,text:this.text,exportable:this.exportable,cellsalign:this.cellsalign,pinned:this.pinned,cellsFormat:this.cellsFormat,columntype:this.columntype,classname:this.classname,cellclassname:this.cellclassname,menu:this.menu}},this.setproperty=function(n,l){if(this[n]){var h=this[n];this[n]=l;this.owner._columnPropertyChanged(this,n,l,h)}else{if(this[n.toLowerCase()]){var h=this[n.toLowerCase()];this[n.toLowerCase()]=l;this.owner._columnPropertyChanged(this,n.toLowerCase(),l,h)}}};this._initfields=function(l){if(l!=null){var n=this;if(c.jqx.hasProperty(l,"dataField")){this.datafield=c.jqx.get(l,"dataField")}if(c.jqx.hasProperty(l,"displayField")){this.displayfield=c.jqx.get(l,"displayField")}else{this.displayfield=this.datafield}if(c.jqx.hasProperty(l,"columnType")){this.columntype=c.jqx.get(l,"columnType")}if(c.jqx.hasProperty(l,"validation")){this.validation=c.jqx.get(l,"validation")}if(c.jqx.hasProperty(l,"autoCellHeight")){this.autoCellHeight=c.jqx.get(l,"autoCellHeight")}if(c.jqx.hasProperty(l,"text")){this.text=c.jqx.get(l,"text")}else{this.text=this.displayfield}if(c.jqx.hasProperty(l,"sortable")){this.sortable=c.jqx.get(l,"sortable")}if(c.jqx.hasProperty(l,"hidden")){this.hidden=c.jqx.get(l,"hidden")}if(c.jqx.hasProperty(l,"groupable")){this.groupable=c.jqx.get(l,"groupable")}if(c.jqx.hasProperty(l,"renderer")){this.renderer=c.jqx.get(l,"renderer")}if(c.jqx.hasProperty(l,"align")){this.align=c.jqx.get(l,"align")}if(c.jqx.hasProperty(l,"cellsAlign")){this.cellsalign=c.jqx.get(l,"cellsAlign")}if(c.jqx.hasProperty(l,"cellsFormat")){this.cellsFormat=c.jqx.get(l,"cellsFormat")}if(c.jqx.hasProperty(l,"width")){this.width=c.jqx.get(l,"width")}if(c.jqx.hasProperty(l,"minWidth")){this.minwidth=c.jqx.get(l,"minWidth")}if(c.jqx.hasProperty(l,"maxWidth")){this.maxwidth=c.jqx.get(l,"maxWidth")}if(c.jqx.hasProperty(l,"cellsRenderer")){this.cellsRenderer=c.jqx.get(l,"cellsRenderer")}if(c.jqx.hasProperty(l,"columnType")){this.columntype=c.jqx.get(l,"columnType")}if(c.jqx.hasProperty(l,"pinned")){this.pinned=c.jqx.get(l,"pinned")}if(c.jqx.hasProperty(l,"filterable")){this.filterable=c.jqx.get(l,"filterable")}if(c.jqx.hasProperty(l,"filter")){this.filter=c.jqx.get(l,"filter")}if(c.jqx.hasProperty(l,"resizable")){this.resizable=c.jqx.get(l,"resizable")}if(c.jqx.hasProperty(l,"draggable")){this.draggable=c.jqx.get(l,"draggable")}if(c.jqx.hasProperty(l,"editable")){this.editable=c.jqx.get(l,"editable")}if(c.jqx.hasProperty(l,"initEditor")){this.initeditor=c.jqx.get(l,"initEditor")}if(c.jqx.hasProperty(l,"createEditor")){this.createeditor=c.jqx.get(l,"createEditor")}if(c.jqx.hasProperty(l,"destroyEditor")){this.destroyeditor=c.jqx.get(l,"destroyEditor")}if(c.jqx.hasProperty(l,"getEditorValue")){this.geteditorvalue=c.jqx.get(l,"getEditorValue")}if(c.jqx.hasProperty(l,"className")){this.classname=c.jqx.get(l,"className")}if(c.jqx.hasProperty(l,"cellClassName")){this.cellclassname=c.jqx.get(l,"cellClassName")}if(c.jqx.hasProperty(l,"rendered")){this.rendered=c.jqx.get(l,"rendered")}if(c.jqx.hasProperty(l,"exportable")){this.exportable=c.jqx.get(l,"exportable")}if(c.jqx.hasProperty(l,"nullable")){this.nullable=c.jqx.get(l,"nullable")}if(c.jqx.hasProperty(l,"columnGroup")){this.columngroup=c.jqx.get(l,"columnGroup")}if(!l instanceof String&&!(typeof l=="string")){for(var h in l){if(!n.hasOwnProperty(h)){if(!n.hasOwnProperty(h.toLowerCase())){a.host.remove();throw new Error("jqxScheduler: Invalid property name - "+h+".")}}}}}};this._initfields(d);return this};c.jqx.schedulerDataCollection=function(a){this.records=new Array();this.owner=a;this.updating=false;this.beginUpdate=function(){this.updating=true};this.resumeupdate=function(){this.updating=false};this.clear=function(){this.records=new Array()};this.replace=function(e,f){this.records[e]=f};this.isempty=function(d){if(this.records[d]==undefined){return true}return false};this.initialize=function(d){if(d<1){d=1}this.records[d-1]=-1};this.length=function(){return this.records.length};this.indexOf=function(d){return this.records.indexOf(d)};this.add=function(d){if(d==null){return false}this.records[this.records.length]=d;return true};this.insertAt=function(e,f){if(e==null||e==undefined){return false}if(f==null){return false}if(e>=0){if(e<this.records.length){this.records.splice(e,0,f);return true}else{return this.add(f)}}return false};this.remove=function(e){if(e==null||e==undefined){return false}var f=this.records.indexOf(e);if(f!=-1){this.records.splice(f,1);return true}return false};this.removeAt=function(e){if(e==null||e==undefined){return false}if(e<0){return false}if(e<this.records.length){var f=this.records[e];this.records.splice(e,1);return true}return false};return this};c.jqx.scheduler.dataView=function(a){this.that=this;this.scheduler=null;this.records=[];this.rows=[];this.columns=[];this.filters=new Array();this.pagesize=0;this.pagenum=0;this.source=null;this.databind=function(D,v){var s=this;if(c.isArray(D)){s.update(D);return}var u=D._source?true:false;var B=null;this._sortData=null;this._sortHierarchyData=null;if(u){B=D;D=D._source}else{B=new c.jqx.dataAdapter(D,{autoBind:false})}var A=function(d){B.recordids=[];B.records=new Array();B.cachedrecords=new Array();B.originaldata=new Array();B._options.totalrecords=d.totalrecords;B._options.originaldata=d.originaldata;B._options.recordids=d.recordids;B._options.cachedrecords=new Array();B._options.pagenum=d.pagenum;B._options.pageable=d.pageable;if(D.type!=undefined){B._options.type=D.type}if(D.formatdata!=undefined){B._options.formatData=D.formatdata}if(D.contenttype!=undefined){B._options.contentType=D.contenttype}if(D.async!=undefined){B._options.async=D.async}if(D.updaterow!=undefined){B._options.updaterow=D.updaterow}if(D.addrow!=undefined){B._options.addrow=D.addrow}if(D.deleterow!=undefined){B._options.deleterow=D.deleterow}if(d.pagesize==0){d.pagesize=10}B._options.pagesize=d.pagesize};var q=function(d){d.originaldata=B.originaldata;d.records=B.records;d.hierarchy=B.hierarchy;if(!d.scheduler.serverProcessing){d._sortData=null;d._sortfield=null;d._filteredData=null;d._sortHierarchyData=null}if(!d.hierarchy){d.hierarchy=new Array();B.hierarchy=new Array()}if(B._source.totalrecords){d.totalrecords=B._source.totalrecords}else{if(B._source.totalRecords){d.totalrecords=B._source.totalRecords}else{if(d.hierarchy.length!==0){d.totalrecords=d.hierarchy.length}else{d.totalrecords=d.records.length}}}d.cachedrecords=B.cachedrecords};A(this);this.source=D;if(v!==undefined){uniqueId=v}var s=this;switch(D.datatype){case"local":case"array":default:if(D.localdata==null){D.localdata=[]}if(D.localdata!=null){B.unbindBindingUpdate(a+s.scheduler.element.id);if((!s.scheduler.autoBind&&s.scheduler.isInitialized)||s.scheduler.autoBind){B.dataBind()}var t=function(){q(s);s.update(B.records)};t();B.bindBindingUpdate(a+s.scheduler.element.id,t)}break;case"ics":case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"csv":case"tab":if(D.localdata!=null){B.unbindBindingUpdate(a+s.scheduler.element.id);if((!s.scheduler.autoBind&&s.scheduler.isInitialized)||s.scheduler.autoBind){B.dataBind()}var t=function(d){q(s);s.update(B.records)};t();B.bindBindingUpdate(a+s.scheduler.element.id,t);return}var w={};var z=0;var o={};var C=B._options.data;if(B._options.data){c.extend(B._options.data,o)}else{if(D.data){c.extend(o,D.data)}B._options.data=o}var t=function(){var e=c.jqx.browser.msie&&c.jqx.browser.version<9;var d=function(){q(s);s.update(B.records)};if(e){try{d()}catch(f){}}else{d()}};B.unbindDownloadComplete(a+s.scheduler.element.id);B.bindDownloadComplete(a+s.scheduler.element.id,t);B._source.loaderror=function(d,f,e){t()};if((!s.scheduler.autoBind&&s.scheduler.isInitialized)||s.scheduler.autoBind){B.dataBind()}B._options.data=C}};this.addFilter=function(h,l){this._sortData=null;this._sortHierarchyData=null;var n=-1;for(var o=0;o<this.filters.length;o++){if(this.filters[o].datafield==h){n=o;break}}if(n==-1){this.filters[this.filters.length]={filter:l,datafield:h}}else{this.filters[n]={filter:l,datafield:h}}};this.removeFilter=function(e){this._sortData=null;this._sortHierarchyData=null;for(var f=0;f<this.filters.length;f++){if(this.filters[f].datafield==e){this.filters.splice(f,1);break}}};this._compare=function(o,q,l){var o=o;var q=q;if(o===undefined){o=null}if(q===undefined){q=null}if(o===null&&q===null){return 0}if(o===null&&q!==null){return 1}if(o!==null&&q===null){return 1}o=o.toString();q=q.toString();if(c.jqx.dataFormat){if(l&&l!=""){switch(l){case"number":case"int":case"float":if(o<q){return -1}if(o>q){return 1}return 0;case"date":case"time":if(o<q){return -1}if(o>q){return 1}return 0;case"string":case"text":o=String(o).toLowerCase();q=String(q).toLowerCase();break}}else{if(c.jqx.dataFormat.isNumber(o)&&c.jqx.dataFormat.isNumber(q)){if(o<q){return -1}if(o>q){return 1}return 0}else{if(c.jqx.dataFormat.isDate(o)&&c.jqx.dataFormat.isDate(q)){if(o<q){return -1}if(o>q){return 1}return 0}else{if(!c.jqx.dataFormat.isNumber(o)&&!c.jqx.dataFormat.isNumber(q)){o=String(o).toLowerCase();q=String(q).toLowerCase()}}}}}try{if(o<q){return -1}if(o>q){return 1}}catch(n){var h=n}return 0};this._equals=function(e,f){return(this._compare(e,f)===0)};this.evaluate=function(n){if(this.scheduler.serverProcessing){return n}var z=new Array();if(this.filters.length){var u=new Array();var o=function(h,D){for(var e=0;e<h.length;e++){var d=h[e];d._visible=true;var A=undefined;for(var f=0;f<this.filters.length;f++){var l=this.filters[f].filter;var C=d[this.filters[f].datafield];var B=l.evaluate(C);if(A==undefined){A=B}else{if(l.operator=="or"){A=A||B}else{A=A&&B}}}d._visible=false;if(A||d.aggregate){d._visible=true;D.push(d);u[d.uid]=d}}};if(!this._filteredData){if(this.source.hierarchy||(this.scheduler.source.hierarchy&&this.scheduler.source.hierarchy.length>0)){var q=new Array();var t=function(h,f){for(var d=0;d<f.length;d++){var e=f[d];q.push(e);if(e.records&&e.records.length>0){t(e,e.records)}}};t(null,n);o.call(this,q,z);for(var w=0;w<z.length;w++){var v=z[w];while(v.parent){var s=v.parent;if(!u[s.uid]){s._visible=true;u[s.uid]=s}v=s}}z=n}else{o.call(this,n,z)}this._filteredData=z;this.rows=z}else{this.rows=this._filteredData}}else{this.rows=n}return this.rows};this.getid=function(l,t,s){if(c(l,t).length>0){return c(l,t).text()}if(this.rows&&l!=""&&l!=undefined&&this.rows.length>0){var n=this.rows[this.rows.length-1][l];if(n==null){n=null}for(var q=1;q<=100;q++){var o=this.scheduler.appointmentsByKey[q+n];if(!o){if(this.scheduler&&this.scheduler.treeGrid&&this.scheduler.treescheduler.virtualModeCreateRecords){var o=this.scheduler.appointmentsByKey["jqx"+n+q];if(o){continue}return"jqx"+n+q}return n+q}}}if(l!=undefined){if(l.toString().length>0){var u=c(t).attr(l);if(u!=null&&u.toString().length>0){if(this.scheduler&&this.scheduler.treeGrid&&this.scheduler.treescheduler.virtualModeCreateRecords){return"jqx"+u}return u}}}if(this.rows&&this.rows.length>0){var o=this.scheduler.appointmentsByKey[s];if(o){var n=this.rows[this.rows.length-1][l];if(n==null){n=""}for(var q=1;q<=1000;q++){var o=this.scheduler.appointmentsByKey[q+n];if(!o){if(this.scheduler&&this.scheduler.treeGrid&&this.scheduler.treescheduler.virtualModeCreateRecords){var o=this.scheduler.appointmentsByKey["jqx"+n+q];if(o){continue}return"jqx"+n+q}return n+q}}}}if(this.scheduler&&this.scheduler.treeGrid&&this.scheduler.treescheduler.virtualModeCreateRecords){var o=this.scheduler.appointmentsByKey["jqx"+s];if(!o){return"jqx"+s}else{for(var q=s+1;q<=100;q++){var o=this.scheduler.appointmentsByKey["jqx"+q];if(!o){var o=this.scheduler.appointmentsByKey["jqx"+q];if(o){continue}return"jqx"+q}}}}return s};this.generatekey=function(){var d=function(){return(((1+Math.random())*16)|0)};return(""+d()+d()+"-"+d()+"-"+d()+"-"+d()+"-"+d())};return this}})(jqxBaseFramework);(function(c){c.jqx.jqxWidget("jqxKnob","",{});c.extend(c.jqx._jqxKnob.prototype,{defineInstance:function(){var a={type:"circle",allowValueChangeOnClick:true,allowValueChangeOnDrag:true,allowValueChangeOnMouseWheel:true,changing:null,dragEndAngle:-1,dragStartAngle:-1,disabled:false,dial:{style:"transparent",innerRadius:0,outerRadius:0,gradientType:null,gradientStops:null,startAngle:null,endAngle:null},endAngle:360,height:400,labels:{type:"digits",step:null,rotate:false,offset:null,style:"",visible:false},marks:{type:"",thickness:1,size:"10%",colorProgress:"transparent",colorRemaining:"transparent",minorInterval:1,majorInterval:5,offset:"80%",majorSize:"15%"},min:0,max:100,progressBar:{size:"10%",offset:"60%",color:"transparent",background:"transparent"},pointer:{color:{color:"transparent",border:null,gradientType:null,gradientStops:null},thickness:1,size:"",type:"",visible:false},pointerGrabAction:"normal",renderEngine:"",rotation:"clockwise",startAngle:0,spinner:{color:"transparent",innerRadius:0,outerRadius:0,marks:{step:1,rotate:false,color:"transparent",size:0,steps:10,thickness:1,offset:0}},style:{fill:"transparent",stroke:"transparent"},_touchEvents:{mousedown:c.jqx.mobile.getTouchEventName("touchstart"),mouseup:c.jqx.mobile.getTouchEventName("touchend"),mousemove:c.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave",click:c.jqx.mobile.getTouchEventName("touchstart")},step:1,snapToStep:true,value:0,width:400};c.extend(true,this,a);return a},createInstance:function(){var a=this;a._hostInit();a._ie8Plugin();a._validateProperties();a._initValues();a._refresh();c.jqx.utilities.resize(a.host,function(){a.widgetSize=Math.min(a.host.width(),a.host.height());a._refresh()})},_getEvent:function(a){if(this._isTouchDevice){return this._touchEvents[a]+".jqxKnob"+this.element.id}else{return a+".jqxKnob"+this.element.id}},_ie8Plugin:function(){if(typeof Array.prototype.forEach!="function"){Array.prototype.forEach=function(d){for(var a=0;a<this.length;a++){d.apply(this,[this[a],a,this])}}}if(!window.getComputedStyle){window.getComputedStyle=function(a,d){this.el=a;this.getPropertyValue=function(f){var h=/(\-([a-z]){1})/g;if(f=="float"){f="styleFloat"}if(h.test(f)){f=f.replace(h,function(){return arguments[2].toUpperCase()})}return a.currentStyle[f]?a.currentStyle[f]:null};return this}}},createColorGradient:function(f,a,e){return this._getGradient(f,a,e)},destroy:function(){var a=this;a.removeHandler(c(document),"mousemove.jqxKnob"+a.host[0].id);a.removeHandler(c(document),"blur.jqxKnob"+a.host[0].id);a.removeHandler(c(document),"mouseup.jqxKnob"+a.host[0].id);a.host.empty();a.host.remove()},propertyChangedHandler:function(a,o,h,l){var n=this;if(o==="value"){n._setValue(l,"propertyChange");return}n._validateProperties();n._refresh()},val:function(d){var a=this;if(arguments.length==0){return a.value}a._setValue(d,null)},_isPointerGrabbed:false,_pointerGrabbedIndex:-1,_attatchPointerEventHandlers:function(){var d=this;d.addHandler(d.host,this._getEvent("mousedown"),function(w){if(d.pointerGrabAction==="pointer"){if(w.target.id!==d._pointerID){return}}if(d._isTouchDevice){var t=c.jqx.position(w);w.clientX=t.left;w.clientY=t.top}if(d.pointerGrabAction==="progressBar"){var o={x:w.clientX,y:w.clientY};var u=d.host[0].getBoundingClientRect();var q=d.widgetSize;var A={x:u.left+q/2,y:u.top+q/2};var v=d._calculateAngleFromCoordinates(o,A,d.rotation);var z=d._calculateDistance(o,A);if(v<d.startAngle){v+=360}if(v>d.endAngle){if(v-d.endAngle!==(360+d.startAngle-v)){return}}var s=d._getScale(d.progressBar.offset,"w",q/2);var n=d._getScale(d.progressBar.size,"w",q/2);if(z<s||z>s+n){return}}d._isPointerGrabbed=true;if(d.allowValueChangeOnClick===true){d._mouseMovePointer(w)}w.preventDefault();w.stopPropagation();return false});var a=null;d.addHandler(c(document),this._getEvent("mousemove"),function(e){if(d.allowValueChangeOnDrag){if(a){clearTimeout(a)}a=setTimeout(function(){d._mouseMovePointer(e)});if(d._isPointerGrabbed){return false}}});d.addHandler(c(document),"blur.jqxKnob"+d.host[0].id,function(){d._isPointerGrabbed=false;d._pointerGrabbedIndex=-1});d.addHandler(c(document),this._getEvent("mouseup"),function(e){if(d._isPointerGrabbed){d._isPointerGrabbed=false;d._pointerGrabbedIndex=-1;d._raiseEvent(0,{originalEvent:e,value:d.value})}});d.addHandler(d.host,"wheel",function(h){if(d.allowValueChangeOnMouseWheel){var f=0;if(!h){h=window.event}if(h.originalEvent&&h.originalEvent.wheelDelta){h.wheelDelta=h.originalEvent.wheelDelta}if(h.wheelDelta){f=h.wheelDelta/120}else{if(h.detail){f=-h.detail/3}else{if(h.originalEvent&&h.originalEvent.deltaY){f=h.originalEvent.deltaY}}}if(f>0){d._increment()}else{d._decrement()}return false}})},_mouseMovePointer:function(G){var B=this;if(B.disabled){return}if(B._isPointerGrabbed){if(B._isTouchDevice){var w=c.jqx.position(G);G.clientX=w.left;G.clientY=w.top}var s={x:G.clientX,y:G.clientY};var z=B.host[0].getBoundingClientRect();var t=B.widgetSize;var H={x:z.left+t/2,y:z.top+t/2};var D=B._calculateAngleFromCoordinates(s,H,B.rotation);var u=B._calculateValueFromAngle(D,B.dragStartAngle,B.dragEndAngle,B.min,B.max);if(B.value.length){if(B._pointerGrabbedIndex===-1){for(var C=0;C<B.value.length;C++){if(u<=B.value[C]){B._pointerGrabbedIndex=C;break}else{if(C===B.value.length-1){B._pointerGrabbedIndex=C}else{if(u<=B.value[C+1]){var v=B.value[C]+(B.value[C+1]-B.value[C])/2;B._pointerGrabbedIndex=u<=v?C:C+1;break}}}}}}if(B.pointer&&B.pointer.length>1){if(B._pointerGrabbedIndex==1){var A=B._calculateAngleFromValue(B.value[0],B.dragStartAngle,B.dragEndAngle,B.min,B.max);var E=B._calculateAngleFromValue(B.max,B.dragStartAngle,B.dragEndAngle,B.min,B.max);var D=B._calculateAngleFromValue(u,B.dragStartAngle,B.dragEndAngle,B.min,B.max);if(D<=A){return}if(D>=E){return}}if(B._pointerGrabbedIndex==0){var E=B._calculateAngleFromValue(B.value[1],B.dragStartAngle,B.dragEndAngle,B.min,B.max);var A=B._calculateAngleFromValue(B.min,B.dragStartAngle,B.dragEndAngle,B.min,B.max);var D=B._calculateAngleFromValue(u,B.dragStartAngle,B.dragEndAngle,B.min,B.max);if(D<=A){return}if(D>=E){return}}}if(B.changing){var F=B.value.slice(0);F[B._pointerGrabbedIndex]=u;var a=B.changing(B.value,F);if(a===false){return}}B._setValue(u,"mouse")}},_getScale:function(a,e,f){if(a&&a.toString().indexOf("%")>=0){a=parseInt(a,10)/100;if(typeof(f)=="object"){return f[e]()*a}else{return f*a}}return parseInt(a,10)},_hostInit:function(){var d=this;this._isTouchDevice=c.jqx.mobile.isTouchDevice();var a=d.host;a.width(d.width);a.height(d.height);a.css("position","relative");d.host.addClass(d.toThemeProperty("jqx-widget jqx-knob"));if(d.dragStartAngle==-1){d.dragStartAngle=d.startAngle}if(d.dragEndAngle==-1){d.dragEndAngle=d.endAngle}if(d.dragStartAngle<d.startAngle){d.dragStartAngle=d.startAngle}if(d.dragEndAngle>d.endAngle){d.dragEndAngle=d.endAngle}d.widgetSize=Math.min(d.host.width(),d.host.height())},_initRenderer:function(a){if(!c.jqx.createRenderer){throw"jqxKnob: Please include a reference to jqxdraw.js"}return c.jqx.createRenderer(this,a)},_initValues:function(){var a=this;if(a.marks){if(a.marks.style&&a.marks.style!==""){if(a.marks.style==="line"&&!a.marks.thickness){a.marks.thickness=1}if(!a.marks.size){a.marks.size="5%"}if(!a.marks.offset){a.marks.offset="85%"}}if(a.marks.majorInterval){if(a.marks.majorSize===undefined){a.marks.majorSize="10%"}}}a._marksList=a._getMarksArray(a.marks);if(a.spinner){a._spinnerMarksList=a._getMarksArray(a.spinner.marks)}},_calculateAngleFromValue:function(l,o,a,n,h){if(c.jqx.browser.msie&&c.jqx.browser.version<9){if(this.type!="circle"){return n!=h?parseInt((l-n)/(h-n)):0}return n!=h?parseInt((l-n)/(h-n)*(a-o)):0}if(this.type!="circle"){return n!=h?(l-n)/(h-n):0}return n!=h?(l-n)/(h-n)*(a-o):0},_calculateAngleFromCoordinates:function(n,o,l){var a=n.x-o.x;var h=n.y-o.y;if(h>0){return l==="clockwise"?90-Math.atan(a/h)*180/Math.PI:270+Math.atan(a/h)*180/Math.PI}else{if(h<0){return l==="clockwise"?270-Math.atan(a/h)*180/Math.PI:90+Math.atan(a/h)*180/Math.PI}else{if(a>=0){return 0}else{return 180}}}},_calculateValueFromAngle:function(h,n,q,o,a){if(h<n){h+=360}var l=o;if(h>q){if(h-q<(360+n-h)){l=a}}else{l=o+(h-n)*(a-o)/(q-n)}return l},_calculateDistance:function(d,a){return Math.sqrt(Math.pow(d.x-a.x,2)+Math.pow(d.y-a.y,2))},_drawBackground:function(){var o=this;var n=o.renderer;var q,a,t;q=o.widgetSize;a=q/2;var l=o.style.strokeWidth?o.style.strokeWidth:0;a-=l/2;if(o.style){var t=o._getColor(o.style.fill);var s=o._getColor(o.style.stroke);var l=o.style.strokeWidth?o.style.strokeWidth:1;if(o.type!="circle"){n.rect(0,0,this.host.width(),this.host.height(),{fill:t,stroke:s,"stroke-width":l})}else{n.circle(q/2,q/2,a,{fill:t,stroke:s,"stroke-width":l})}}},_drawDial:function(){var t=this;if(t.dial){var q=t.renderer;var C=t.widgetSize;var v,A,o,u,s,B,a=0,w;v=A=C/2;u=t._getScale(t.dial.outerRadius,"w",C/2);o=t._getScale(t.dial.innerRadius,"w",C/2);if(t.dial.startAngle!=null&&t.dial.endAngle!=null){s=t.rotation==="clockwise"?360-t.dial.endAngle:t.dial.startAngle;B=t.rotation==="clockwise"?360-t.dial.startAngle:t.dial.endAngle}else{s=t.rotation==="clockwise"?360-t.endAngle:t.startAngle;B=t.rotation==="clockwise"?360-t.startAngle:t.endAngle}w=t._getColor(t.dial.style.fill);var z=t._getColor(t.dial.style.stroke)||"";var D=t.dial.style.strokeWidth||0;q.pieslice(v,A,o,u,s,B,a,{fill:w,stroke:z,"stroke-width":D})}},_getMarksArray:function(w){if(w==undefined){return[]}var s=this,u,a,o={},q=s.max,v=s.min,t=q-v,B=w.minorInterval,C=w.majorInterval;var z=function(d){return(parseFloat(d.toPrecision(12)))};if(B){for(u=0;u<t;u+=B){a=z(v+u);o[a]={type:"minor"}}o[q]={type:"minor"}}if(C){for(u=0;u<t;u+=C){a=z(v+u);o[a]={type:"major"}}o[q]={type:"major"}}if(!B&&!C){var A=s.step;if(A){for(u=0;u<t;u+=A){a=z(v+u);o[a]={type:"minor"}}o[q]={type:"minor"}}}return o},_drawMarks:function(){var o=this;if(o.marks){var n=o.renderer;var v=o.widgetSize;var s=o.marks&&o.marks.colorRemaining!=null?o.marks.colorRemaining:"transparent";s=o._getColor(s);o._dialMarks=[];var a,u;var l=o.marks.type;if(!l){l="line"}var q=o._getScale(o.marks.offset,"w",v/2);var t=o._marksList;c.each(t,function(z,h){if(o.dragEndAngle-o.dragStartAngle===360){if(z==o.max){return}}u=o.dragStartAngle+o._calculateAngleFromValue(z,o.dragStartAngle,o.dragEndAngle,o.min,o.max);if(l==="circle"){var e=o._getScale(o.marks.size,"w",v/2);var f=o._getPointerPosition({x:v/2,y:v/2},q,u,o.rotation);o._dialMarks.push(n.circle(f.x,f.y,e,{fill:s}))}else{if(l==="line"){if(h.type==="major"&&o.marks.majorSize!==null&&o.marks.majorSize!==undefined){a=o._getScale(o.marks.majorSize,"w",v/2)}else{a=o._getScale(o.marks.size,"w",v/2)}var A=o._getScale(o.marks.thickness,"w",v/2);var w=o._getPointerPosition({x:v/2,y:v/2},q,u,o.rotation);var d=o._getPointerPosition({x:v/2,y:v/2},q+a,u,o.rotation);if(c.jqx.browser.msie&&c.jqx.browser.version<9){o._dialMarks.push(n.line(parseInt(w.x),parseInt(w.y),parseInt(d.x),parseInt(d.y),{stroke:s,"stroke-width":A}))}else{o._dialMarks.push(n.line(w.x,w.y,d.x,d.y,{stroke:s,"stroke-width":A}))}}}})}},_drawProgressBars:function(){var n=this;if(n.progressBar){n._progressBar=n._progressBar||[];for(var o=0;o<n._progressBar.length;o++){c(n._progressBar[o]).remove()}n._progressBar=[];if(n._isArray(n.progressBar.style)){var q=n.value[0];var u=n.value[1];var s=n.progressBar.style[0];var a=n.progressBar.style[1];n._progressBar.push(n._drawProgressBar(n.max,n.progressBar.background,"background"));if(n.progressBar.ranges){for(var o=0;o<n.progressBar.ranges.length;o++){var l=n.progressBar.ranges[o].startValue;var t=n.progressBar.ranges[o].endValue;n._progressBar.push(n._drawProgressBarFromToValue(l,t,n.progressBar.ranges[o],"background"))}}n._progressBar.push(n._drawProgressBar(q,s));n._progressBar.push(n._drawProgressBarFromEndToStart(u,a))}else{n._progressBar.push(n._drawProgressBar(n.max,n.progressBar.background,"background"));if(n.progressBar.ranges){for(var o=0;o<n.progressBar.ranges.length;o++){var l=n.progressBar.ranges[o].startValue;var t=n.progressBar.ranges[o].endValue;n._progressBar.push(n._drawProgressBarFromToValue(l,t,n.progressBar.ranges[o],"background"))}}n._progressBar.push(n._drawProgressBar(n.value,n.progressBar.style))}}},_drawProgressBarFromEndToStart:function(A,v){var G=this;var z=G.renderer;var B=G.widgetSize;var F,a;var I=G._getScale(G.progressBar.offset,"w",B/2);var J,K,H,w,u,C,L=0;F=G._getScale(G.progressBar.size,"w",B/2);J=K=B/2;H=I;w=I+F;var t=G._getColor(v.fill)||"transparent";var D=G._getColor(v.stroke)||"transparent";a=G.dragStartAngle+G._calculateAngleFromValue(A,G.dragStartAngle,G.dragEndAngle,G.min,G.max);u=G.dragStartAngle;var E=v.strokeWidth?v.strokeWidth:1;if(G.endAngle!=a){if(G.rotation==="clockwise"){return(z.pieslice(J,K,H,w,360-G.endAngle,360-a,L,{fill:t,stroke:D,"stroke-width":E}))}else{return(z.pieslice(J,K,H,w,C,a,L,{fill:t,stroke:D,"stroke-width":E}))}}},_drawProgressBarFromToValue:function(J,T,B,P){var L=this;var D=L.renderer;var E=L.widgetSize;var K,a;var O=L._getScale(L.progressBar.offset,"w",E/2);var Q,R,M,C,A,F,S=0;K=L._getScale(L.progressBar.size,"w",E/2);Q=R=E/2;M=O;C=O+K;var h=L._getColor(B.fill)||"transparent";var G=L._getColor(B.stroke)||"transparent";a=L.dragStartAngle+L._calculateAngleFromValue(T,L.dragStartAngle,L.dragEndAngle,L.min,L.max);A=L.dragStartAngle+L._calculateAngleFromValue(J,L.dragStartAngle,L.dragEndAngle,L.min,L.max);if(A==a){return}var H=1;if(P=="background"){H=0}var I=B.strokeWidth?B.strokeWidth:H;if(L.type!="circle"){if(L.type=="rect"){var z=a*(this.host.height()-2*O);var N=(this.host.height()-2*O);return(D.rect(Q-K/2,O+N-z,K,z,{fill:h,stroke:G,"stroke-width":I}))}else{return(D.rect(O,R-K/2,this.host.width()-2*O,K,{fill:h,stroke:G,"stroke-width":I}))}}if(L.rotation==="clockwise"){return(D.pieslice(Q,R,M,C,360-a,360-A,S,{fill:h,stroke:G,"stroke-width":I}))}else{return(D.pieslice(Q,R,M,C,A,a,S,{fill:h,stroke:G,"stroke-width":I}))}},_drawProgressBar:function(E,B,P){var L=this;var D=L.renderer;var F=L.widgetSize;var K,a;var O=L._getScale(L.progressBar.offset,"w",F/2);var Q,R,M,C,A,G,S=0;K=L._getScale(L.progressBar.size,"w",F/2);Q=R=F/2;M=O;C=O+K;var h=L._getColor(B.fill)||"transparent";var H=L._getColor(B.stroke)||"transparent";a=L.dragStartAngle+L._calculateAngleFromValue(E,L.dragStartAngle,L.dragEndAngle,L.min,L.max);A=L.dragStartAngle;if(A==a){return}var I=1;if(P=="background"){I=0}var J=B.strokeWidth?B.strokeWidth:I;if(L.type!="circle"){if(L.type=="rect"){var z=a*(this.host.height()-2*O);var N=(this.host.height()-2*O);return(D.rect(Q-K/2,O+N-z,K,z,{fill:h,stroke:H,"stroke-width":J}))}else{return(D.rect(O,R-K/2,this.host.width()-2*O,K,{fill:h,stroke:H,"stroke-width":J}))}}if(L.rotation==="clockwise"){return(D.pieslice(Q,R,M,C,360-a,360-A,S,{opacity:B.opacity||1,fill:h,stroke:H,"stroke-width":J}))}else{return(D.pieslice(Q,R,M,C,A,a,S,{opacity:B.opacity||1,fill:h,stroke:H,"stroke-width":J}))}},_drawLabels:function(){var v=this;v._labels=[];var u=v.renderer;var H=v.widgetSize;if(v.labels.visible===undefined){v.labels.visible=true}if(v.labels.visible===true){var A=v._getScale(v.labels.offset,"w",H/2);var a=v.labels.type?v.labels.type:"digits";var I=v.labels.style;var B=I&&I.fill?v._getColor(I.fill):"#333";var z;if(a==="digits"){var w=[];if(v.labels.customLabels){for(z=0;z<v.labels.customLabels.length;z++){w.push(v.labels.customLabels[z].value)}}else{var E=v.labels.step||v.step;for(z=v.min;z<v.max;z+=E){w.push(z)}if(v.dragEndAngle-360<v.dragStartAngle){w.push(v.max)}}for(z=0;z<w.length;z++){var D=v.labels.customLabels?v.labels.customLabels[z].text:w[z].toString();if(v.labels.formatFunction){D=v.labels.formatFunction(D)}var G=v.dragStartAngle;var F=v.dragEndAngle;var C=G+v._calculateAngleFromValue(w[z],G,F,v.min,v.max);var K=v._getPointerPosition({x:H/2,y:H/2},A,C,v.rotation);if(c.jqx.browser.msie&&c.jqx.browser.version<9){var J=u.measureText(D,0,{"class":this.toThemeProperty("jqx-knob-label")});var t=v.labels.rotate?90-C:0;u.text(D,K.x-J.width/2,K.y-J.height/2,J.width,J.height,t,{"class":this.toThemeProperty("jqx-knob-label")},false)}else{var J=u.measureText(D,0,{style:{fill:B},"class":this.toThemeProperty("jqx-knob-label")});var t=v.labels.rotate?90-C:0;u.text(D,K.x-J.width/2,K.y-J.height/2,J.width,J.height,t,{style:{fill:B},"class":this.toThemeProperty("jqx-knob-label")},false)}}}}},_drawPointers:function(){var d=this;d._pointers=d._pointers||[];d._pointers.forEach(function(h,l,n){c(h).remove();n.splice(l,1)});if(d.pointer){if(d._isArray(d.pointer)){for(var a=0;a<d.progressBar.style.length;a++){if(d.pointer[a].visible===false){continue}d._pointers.push(d._drawPointer(d.value[a],d.pointer[a]))}}else{if(d.pointer.visible===false){return}d._pointers.push(d._drawPointer(d.value,d.pointer))}}},_drawPointer:function(J,W){var X=this;W.id=W.id||X._getID();var I=X.renderer;var L=X.widgetSize;var ad=W.type;if(!ad){ad="circle"}if(!W.style){W.style={fill:"#feaf4e",stroke:"#feaf4e"}}var F=X._getColor(W.style.fill);var G=W.style.stroke||"";var T,ah;var ac;var Z=X._getScale(W.offset,"w",L/2);var Q=X.dragStartAngle+X._calculateAngleFromValue(J,X.dragStartAngle,X.dragEndAngle,X.min,X.max);if(ad==="circle"){var ab=X._getScale(W.size,"w",L/2);var K=X._getPointerPosition({x:L/2,y:L/2},Z,Q,X.rotation);ac=I.circle(K.x,K.y,ab,{id:W.id,fill:F,stroke:G})}else{if(ad==="line"){T=X._getScale(W.size,"w",L/2);ah=W.thickness;var R=X._getPointerPosition({x:L/2,y:L/2},Z,Q,X.rotation);var P=X._getPointerPosition({x:L/2,y:L/2},Z+T,Q,X.rotation);ac=I.line(R.x,R.y,P.x,P.y,{id:W.id,stroke:F,"stroke-width":ah})}else{if(ad==="arc"){T=X._getScale(W.size,"w",L/2);var ae,af,Y,H,a,N,ag=0;var U=(X.dragEndAngle-X.dragStartAngle)/X._steps.length;ae=af=L/2;Y=Z;H=Z+T;a=X.rotation==="clockwise"?360-(Q+U/2):Q-U/2;N=X.rotation==="clockwise"?360-(Q-U/2):Q+U/2;ac=I.pieslice(ae,af,Y,H,a,N,ag,{id:W.id,fill:F,stroke:G})}else{if(ad==="arrow"){T=X._getScale(W.size,"w",L/2);ah=W.thickness;var V=X._getPointerPosition({x:L/2,y:L/2},T,Q,X.rotation);var aa=X._getPointerPosition({x:L/2,y:L/2},Z,Q,X.rotation);var M=X._getPointerPosition({x:aa.x,y:aa.y},ah/2,Q-90,X.rotation);var O=X._getPointerPosition({x:aa.x,y:aa.y},ah/2,Q+90,X.rotation);var S="M "+V.x+","+V.y+" L "+M.x+","+M.y+" L "+O.x+","+O.y+" "+V.x+","+V.y;ac=this.renderer.path(S,{id:W.id,stroke:G,fill:F})}}}}return ac},_rotateSpinnerMarks:function(t){var u=this;var o=u.spinner.marks;if(o){if(o.rotate===false){return}var s=u.renderer;var C=u.widgetSize;var z=o&&o.colorRemaining!=null?o.colorRemaining:"transparent";z=u._getColor(z);var a,B;var q=o.type;if(!q){q="line"}var w=u._getScale(o.offset,"w",C/2);for(var v=0;v<u._spinnerMarks.length;v++){c(u._spinnerMarks[v]).remove()}u._spinnerMarks=[];var A=u._spinnerMarksList;c.each(A,function(h,e){if(u.endAngle-u.startAngle===360){if(h==u.max){return}}B=t+u._calculateAngleFromValue(h,u.startAngle,u.endAngle,u.min,u.max);if(B<u.startAngle){return true}if(B>u.endAngle&&B<u.startAngle+360){return true}if(q==="circle"){var D=u._getScale(o.size,"w",C/2);var d=u._getPointerPosition({x:C/2,y:C/2},w,B,u.rotation);u._spinnerMarks.push(s.circle(d.x,d.y,D,{fill:z}))}else{if(q==="line"){if(e.type==="major"&&o.majorSize!==null&&o.majorSize!==undefined){a=u._getScale(o.majorSize,"w",C/2)}else{a=u._getScale(o.size,"w",C/2)}var l=u._getScale(o.thickness,"w",C/2);var f=u._getPointerPosition({x:C/2,y:C/2},w,B,u.rotation);var n=u._getPointerPosition({x:C/2,y:C/2},w+a,B,u.rotation);u._spinnerMarks.push(s.line(f.x,f.y,n.x,n.y,{stroke:z,"stroke-width":l}))}}})}},_drawSpinnerMarks:function(l){var q=this;if(l){var o=q.renderer;var w=q.widgetSize;var t=l&&l.colorRemaining!=null?l.colorRemaining:"transparent";t=q._getColor(t);q._spinnerMarks=[];var a,v;var n=l.type;if(!n){n="line"}var s=q._getScale(l.offset,"w",w/2);var u=q._spinnerMarksList;c.each(u,function(z,f){if(q.dragEndAngle-q.dragStartAngle===360){if(z==q.max){return}}v=q.startAngle+q._calculateAngleFromValue(z,q.startAngle,q.endAngle,q.min,q.max);if(n==="circle"){var d=q._getScale(l.size,"w",w/2);var e=q._getPointerPosition({x:w/2,y:w/2},s,v,q.rotation);q._spinnerMarks.push(o.circle(e.x,e.y,d,{fill:t}))}else{if(n==="line"){if(f.type==="major"&&l.majorSize!==null&&l.majorSize!==undefined){a=q._getScale(l.majorSize,"w",w/2)}else{a=q._getScale(l.size,"w",w/2)}var A=q._getScale(l.thickness,"w",w/2);var h=q._getPointerPosition({x:w/2,y:w/2},s,v,q.rotation);var B=q._getPointerPosition({x:w/2,y:w/2},s+a,v,q.rotation);q._spinnerMarks.push(o.line(h.x,h.y,B.x,B.y,{stroke:t,"stroke-width":A}))}}})}},_drawSpinner:function(){var J=this;if(J.spinner){var C=J.renderer;var D=J.widgetSize;if(!J.spinner.style){J.spinner.style={fill:"#dfe3e9",stroke:"#dfe3e9"}}var z=J._getColor(J.spinner.style.fill);var A=J.spinner.style.stroke||"";var M,N;M=N=D/2;var B=J._getScale(J.spinner.outerRadius,"w",D/2);var K=J._getScale(J.spinner.innerRadius,"w",D/2);var E=z.strokeWidth?z.strokeWidth:2;C.pieslice(M,N,K,B,360-J.endAngle,360-J.startAngle,0,{"stroke-width":E,fill:z,stroke:A});if(J.spinner.marks){J._drawSpinnerMarks(J.spinner.marks);return;J._spinnerMarks=[];var G,O,I;G=J._getScale(J.spinner.marks.size,"w",D/2);O=J._getScale(J.spinner.marks.thickness,"w",D/2);var L=J._getScale(J.spinner.marks.offset,"w",D/2);var v=0;c.each(J._spinnerMarksList,function(e,d){v++});I=J._getColor(J.spinner.marks.colorRemaining);var a;for(var w=0;w<v;w++){a=J.startAngle+w/v*J.dragEndAngle;var H=J._getPointerPosition({x:D/2,y:D/2},L,a,J.rotation);var F=J._getPointerPosition({x:D/2,y:D/2},L+G,a,J.rotation);J._spinnerMarks.push(C.line(H.x,H.y,F.x,F.y,{stroke:I,"stroke-width":O}))}}}},_getColor:function(a){if(a&&typeof(a)==="object"){return this._getGradient(a.color,a.gradientType,a.gradientStops)}return a},_getGradient:function(a,f,e){if(f&&e!=null&&typeof(e)==="object"){if(f==="linear"){a=this.renderer._toLinearGradient(a,true,e)}else{if(f==="linearHorizontal"){a=this.renderer._toLinearGradient(a,false,e)}else{if(f==="radial"){a=this.renderer._toRadialGradient(a,e)}}}}return a},_isArray:function(a){return Object.prototype.toString.call(a)==="[object Array]"},_events:["slide","change"],_raiseEvent:function(h,a){var l=this._events[h],f=c.Event(l);f.args=a;return this.host.trigger(f)},_movePointers:function(){var f=this;var e;for(var a=0;a<f._pointers.length;a++){if(f._pointers.length!==1){e=f.dragStartAngle+f._calculateAngleFromValue(f.value[a],f.dragStartAngle,f.dragEndAngle,f.min,f.max);f._pointers[a]=f._movePointer(f._pointers[a],f.pointer[a],e,f.value[a])}else{e=f.dragStartAngle+f._calculateAngleFromValue(f.value,f.dragStartAngle,f.dragEndAngle,f.min,f.max);f._pointers[0]=f._movePointer(f._pointers[0],f.pointer,e,f.value)}}},_movePointer:function(L,H,w,B){var I=this;var A=I.renderer;var C=I.widgetSize;var F;var M=H.type;if(!M){M="circle"}var J=I._getScale(H.offset,"w",C/2);if(M==="circle"){var a=I._getPointerPosition({x:C/2,y:C/2},J,w,I.rotation);A.attr(L,{cx:a.x,cy:a.y});if(c.jqx.browser.msie&&c.jqx.browser.version<9){c("#"+H.id).remove();L=I._drawPointer(B,H)}}else{if(M==="line"){F=I._getScale(H.size,"w",C/2);var E=I._getPointerPosition({x:C/2,y:C/2},J,w,I.rotation);var D=I._getPointerPosition({x:C/2,y:C/2},J+F,w,I.rotation);A.attr(L,{x1:E.x,y1:E.y,x2:D.x,y2:D.y});if(c.jqx.browser.msie&&c.jqx.browser.version<9){c("#"+H.id).remove();L=I._drawPointer(B,H)}}else{if(M==="arrow"){F=I._getScale(H.size,"w",C/2);var N=H.thickness;var G=I._getPointerPosition({x:C/2,y:C/2},F,w,I.rotation);var K=I._getPointerPosition({x:C/2,y:C/2},J,w,I.rotation);var u=I._getPointerPosition({x:K.x,y:K.y},N/2,w-90,I.rotation);var v=I._getPointerPosition({x:K.x,y:K.y},N/2,w+90,I.rotation);var z="M "+G.x+","+G.y+" L "+u.x+","+u.y+" L "+v.x+","+v.y+" "+G.x+","+G.y;A.attr(L,{d:z});if(c.jqx.browser.msie&&c.jqx.browser.version<9){c("#"+H.id).remove();L=I._drawPointer(B,H)}}else{if(M==="arc"){c("#"+H.id).remove();L=I._drawPointer(H)}}}}if(I.progressBar){L.parentNode.appendChild(L.parentNode.removeChild(L))}return L},_getPointerPosition:function(l,a,f,h){if(c.jqx.browser.msie&&c.jqx.browser.version<9){return{x:parseInt(l.x+a*Math.sin(Math.PI/180*(f+90))),y:h==="clockwise"?parseInt(l.y+a*Math.sin(Math.PI/180*(f))):parseInt(l.y-a*Math.sin(Math.PI/180*(f)))}}return{x:l.x+a*Math.sin(Math.PI/180*(f+90)),y:h==="clockwise"?l.y+a*Math.sin(Math.PI/180*(f)):l.y-a*Math.sin(Math.PI/180*(f))}},_getID:function(){var a=function(){return(((1+Math.random())*16)|0)};return(""+a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a())},_decrement:function(){this._setValue(this.value-this.step,"mouse")},_increment:function(){this._setValue(this.value+this.step,"mouse")},_refresh:function(){var f=this;if(f.disabled){f.host.addClass(f.toThemeProperty("jqx-fill-state-disabled"))}if(!f.renderer){f._isVML=false;f.host.empty();f._initRenderer(f.host)}f.removeHandler(c(document),"mousemove.jqxKnob"+f.host[0].id);f.removeHandler(c(document),"blur.jqxKnob"+f.host[0].id);f.removeHandler(c(document),"mouseup.jqxKnob"+f.host[0].id);f.removeHandler(f.host,"wheel");f.removeHandler(f.host,"mousedown");f.host.empty();f._initRenderer(f.host);var e=f.renderer;if(!e){return}f._steps=[];for(var a=0;a<=(f.max-f.min)/f.step;a++){f._steps.push(f.min+f.step*a)}f._initValues();f._render()},_render:function(){var a=this;a._drawBackground();a._drawDial();a._drawMarks();a._drawLabels();a._drawSpinner();a._drawProgressBars();a._updateMarksColor();a._updateSpinnerMarksColor();a._drawPointers();a._attatchPointerEventHandlers()},_setValue:function(a,v){var n=this;var u=n.value;if(isNaN(a)){a=n.min}if(a>n.max){a=n.max}else{if(a<n.min){a=n.min}}if(n.snapToStep){var l=n._steps;for(var q=0;q<l.length;q++){if(a<l[q]){if(q===0){a=l[q]}else{if(l[q]-a<a-l[q-1]){a=l[q]}else{a=l[q-1]}}break}}}if(a==u){return}if(c.isArray(n.value)){if(n._pointerGrabbedIndex!=-1){if(n._pointerGrabbedIndex==1){var o=n.value[0];n.value[n._pointerGrabbedIndex]=a}if(n._pointerGrabbedIndex==0){var s=n.value[1];n.value[n._pointerGrabbedIndex]=a}n.value[n._pointerGrabbedIndex]=a}}else{n.value=a}n._updateProgressBarColor();n._updateMarksColor();n._updateSpinnerMarksColor();var t=n.dragStartAngle+n._calculateAngleFromValue(a,n.dragStartAngle,n.dragEndAngle,n.min,n.max);n._rotateSpinnerMarks(t);n._movePointers();n._raiseEvent(1,{value:n.value,type:v})},_updateMarksColor:function(){var q=this;if(q.marks&&(q.marks.colorProgress||q.marks.colorRemaining)){var l=q.renderer;var s=[];c.each(q._marksList,function(d){if(q.endAngle-q.startAngle===360){if(d==q.max){s.push(d);return}}s.push(d)});var t=q._getColor(q.marks.colorProgress);var n=q._getColor(q.marks.colorRemaining);var o=q.value.length?q.value[0]:q.value;for(var a=0;a<q._dialMarks.length;a++){if(s[a]>o){if(q.marks.type==="circle"){l.attr(q._dialMarks[a],{fill:n})}else{l.attr(q._dialMarks[a],{stroke:n})}}else{if(q.marks.type==="circle"){l.attr(q._dialMarks[a],{fill:t})}else{l.attr(q._dialMarks[a],{stroke:t})}}if(q.progressBar&&q.marks.drawAboveProgressBar){q._dialMarks[a].parentNode.appendChild(q._dialMarks[a].parentNode.removeChild(q._dialMarks[a]))}}}},_updateSpinnerMarksColor:function(){var q=this;if(!q.spinner){return}if(!q.spinner.marks){return}if(q.spinner.marks&&(q.spinner.marks.colorProgress||q.spinner.marks.colorRemaining)){var l=q.renderer;var s=[];c.each(q._spinnerMarksList,function(d){if(q.endAngle-q.startAngle===360){if(d==q.max){return}}s.push(d)});var t=q._getColor(q.spinner.marks.colorProgress);var n=q._getColor(q.spinner.marks.colorRemaining);var o=q.value.length?q.value[0]:q.value;for(var a=0;a<q._spinnerMarks.length;a++){if(s[a]>o){if(q.spinner.marks.type==="circle"){l.attr(q._spinnerMarks[a],{fill:n})}else{l.attr(q._spinnerMarks[a],{stroke:n})}}else{if(q.spinner.marks.type==="circle"){l.attr(q._spinnerMarks[a],{fill:t})}else{l.attr(q._spinnerMarks[a],{stroke:t})}}}}},_updateProgressBarColor:function(){var a=this;if(a.progressBar){a._drawProgressBars()}},_validateProperties:function(){var d=this;var a=function(l,n){if(l&&typeof(l)==="string"){var h=l;l={fill:h,stroke:h};return l;return}if(!l){l={};l.fill=n;l.stroke=n}if(l&&l.fill&&!l.stroke){l.stroke=l.fill}if(l&&!l.fill&&l.stroke){l.fill=l.stroke}if(l&&!l.fill){l.fill=n}if(l&&!l.stroke){l.stroke=n}return l};if(d.dial){d.dial.style=a(d.dial.style,"#dddddd")}if(d.style){d.style=a(d.style,"#dddddd")}if(d.progressBar){d.progressBar.style=a(d.progressBar.style,"transparent");d.progressBar.background=a(d.progressBar.background,"transparent")}if(d.spinner){d.spinner.style=a(d.spinner.style,"transparent")}if(d.pointer){d.pointer.style=a(d.pointer.style,"transparent")}if(d.startAngle>=d.endAngle){throw new Error("jqxKnob: The end angle must be bigger than the start angle!")}if(d.startAngle<0||d.startAngle>360){throw new Error("jqxKnob: Start angle must be between 0 and 360")}if(d.endAngle>d.startAngle+360){throw new Error("jqxKnob: End angle must be between startAngle and startAngle + 360")}if(d.dial&&d.dial.color&&d.dial.color!=="transparent"){if(!d.dial.outerRadius||!d.dial.innerRadius){throw new Error("jqxKnob: Dial options innerRadius and outerRadius need to be specified")}}if(d._isArray(d.pointer)||d._isArray(d.value)){if(!d._isArray(d.pointer)){throw new Error("jqxKnob: If the value is an array, the pointer must also be an array.")}if(!d._isArray(d.value)){throw new Error("jqxKnob: If the pointer is an array, the value must also be an array.")}if(d.pointer.length!==d.value.length){throw new Error("jqxKnob: The pointer and value array sizes must match.")}if(d.progressBar){if(!d._isArray(d.progressBar.style)||d.progressBar.style.length!==d.pointer.length){throw new Error("jqxKnob: progressBar color must be an array with the same number of elements as the pointer and value.")}}}return true}})})(jqxBaseFramework);(function(c){c.extend(c.expr[":"],{data:c.expr.createPseudo?c.expr.createPseudo(function(a){return function(d){return !!c.data(d,a)}}):function(e,f,a){return !!c.data(e,a[3])}});c.jqx.jqxWidget("jqxSortable","",{});c.extend(c.jqx._jqxSortable.prototype,{defineInstance:function(){var a={appendTo:"parent",axis:false,connectWith:false,containment:false,cursor:"auto",cursorAt:false,dropOnEmpty:true,forcePlaceholderSize:false,forceHelperSize:false,maxItems:9999,grid:false,handle:false,helper:"original",items:"> *",opacity:false,placeholderShow:false,revert:false,scroll:true,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:999999,element:null,defaultElement:"<div>",mouseHandled:false,cancel:"input,textarea,button,select,option",distance:1,delay:0,widgetName:"widget",widgetEventPrefix:"",disabled:false,create:null,_touchEvents:{mousedown:c.jqx.mobile.getTouchEventName("touchstart"),click:c.jqx.mobile.getTouchEventName("touchstart"),mouseup:c.jqx.mobile.getTouchEventName("touchend"),mousemove:c.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave"},_events:["activate","beforeStop","change","deactivate","out","over","receive","remove","sort","start","stop","update","create"]};c.extend(true,this,a);return a},createInstance:function(){this._render()},_render:function(){var d=this;this._isTouchDevice=c.jqx.mobile.isTouchDevice();this.containerCache={};var a=c(a||d.defaultElement||this)[0];d.document=c(a.style?a.ownerDocument:a.document||a);d.window=c(d.document[0].defaultView||d.document[0].parentWindow);d.host.addClass(d.toThemeProperty("jqx-widget jqx-sortable"));d.refresh();d.floating=d.itemsArray.length?d.axis==="x"||d._isFloating(d.itemsArray[0].item):false;d.offset=d.host.offset();d._handleMouse();d._cancelSelect();d.ready=true},_isOverAxis:function(f,a,e){return(f>=a)&&(f<(a+e))},_isFloating:function(a){return(/left|right/).test(a.css("float"))||(/inline|table-cell/).test(a.css("display"))},_getEvent:function(a){if(this._isTouchDevice){return this._touchEvents[a]+".jqxSortable"+this.element.id}else{return a+".jqxSortable"+this.element.id}},_handleMouse:function(){var a=this;a.addHandler(this.host,this._getEvent("mousedown"),function(d){return a._mouseDown(d)});a.addHandler(a.host,this._getEvent("click"),function(d){if(true===c.data(d.target,a.widgetName+".preventClickEvent")){c.removeData(d.target,a.widgetName+".preventClickEvent");d.stopImmediatePropagation();return false}});a.started=false},widget:function(){return this.host},_mouseDestroy:function(){var a=this;a.host.off("."+this.widgetName);if(a._mouseMoveDelegate){a.removeHandler(c(document),this._getEvent("mousemove"));a.removeHandler(c(document),this._getEvent("mouseup"))}},_mouseDown:function(q){var s=this;if(s.mouseHandled){return}s._mouseMoved=false;if(s._isTouchDevice){var l=c.jqx.position(q);q.pageX=l.left;q.pageY=l.top}(s._mouseStarted&&s._mouseUp(q));s._mouseDownEvent=q;if(this._isTouchDevice){q.which=1}var n=(q.which===1),a=(typeof this.cancel==="string"&&q.target.nodeName?c(q.target).closest(this.cancel).length:false);if(this._isTouchDevice){n=true}if(!n||a||!this._mouseCapture(q)){return true}s.mouseDelayMet=!s.delay;if(!s.mouseDelayMet){s._mouseDelayTimer=setTimeout(function(){s.mouseDelayMet=true},s.delay)}if(s._mouseDistanceMet(q)&&s._mouseDelayMet(q)){s._mouseStarted=(s._mouseStart(q)!==false);if(!s._mouseStarted){q.preventDefault();return true}}if(true===c.data(q.target,this.widgetName+".preventClickEvent")){c.removeData(q.target,this.widgetName+".preventClickEvent")}s._mouseMoveDelegate=function(d){return s._mouseMove(d)};s._mouseUpDelegate=function(d){return s._mouseUp(d)};s.addHandler(c(document),this._getEvent("mousemove"),s._mouseMoveDelegate);s.addHandler(c(document),this._getEvent("mouseup"),s._mouseUpDelegate);try{if(document.referrer!=""||window.frameElement){if(window.top!=null&&window.top!=window.self){var t=function(d){s._mouseUp(d)};var o=null;if(window.parent&&document.referrer){o=document.referrer}if(o&&o.indexOf(document.location.host)!=-1){if(window.top.document){if(window.top.document.addEventListener){window.top.document.addEventListener("mouseup",t,false)}else{if(window.top.document.attachEvent){window.top.document.attachEvent("onmouseup",t)}}}}}}}catch(u){}q.preventDefault();mouseHandled=true;return true},_mouseMove:function(f){var a=this;if(this._isTouchDevice){f.which=1;var e=c.jqx.position(f);f.pageX=e.left;f.pageY=e.top}if(a._mouseMoved){if(c.jqx.browser.msie&&c.jqx.browser.version>11){if(!f.which){return a._mouseUp(f)}}else{if(c.jqx.browser.msie&&(!document.documentMode||document.documentMode<9)&&!f.button){return a._mouseUp(f)}else{if(!f.which){return a._mouseUp(f)}}}}if(f.which||f.button){a._mouseMoved=true}if(a._mouseStarted){a._mouseDrag(f);return f.preventDefault()}if(a._mouseDistanceMet(f)&&a._mouseDelayMet(f)){a._mouseStarted=(a._mouseStart(a._mouseDownEvent,f)!==false);(a._mouseStarted?a._mouseDrag(f):a._mouseUp(f))}return !a._mouseStarted},_mouseUp:function(d){var a=this;a.removeHandler(c(document),this._getEvent("mousemove"));a.removeHandler(c(document),this._getEvent("mouseup"));if(a._mouseStarted){a._mouseStarted=false;if(d.target===a._mouseDownEvent.target){c.data(d.target,a.widgetName+".preventClickEvent",true)}a._mouseStop(d)}mouseHandled=false;return false},_mouseDistanceMet:function(a){return(Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.distance)},_mouseDelayMet:function(){return this.mouseDelayMet},scrollParent:function(n){var o=this.css("position"),a=o==="absolute",l=n?/(auto|scroll|hidden)/:/(auto|scroll)/,h=this.parents().filter(function(){var d=c(this);if(a&&d.css("position")==="static"){return false}return l.test(d.css("overflow")+d.css("overflow-y")+d.css("overflow-x"))}).eq(0);return o==="fixed"||!h.length?c(this[0].ownerDocument||document):h},destroy:function(){this.host.removeClass("jqx-sortable jqx-sortable-disabled").find(".jqx-sortable-handle").removeClass("jqx-sortable-handle");this._mouseDestroy();for(var a=this.itemsArray.length-1;a>=0;a--){this.itemsArray[a].item.removeData(this.widgetName+"-item")}return this},_mouseCapture:function(n,l){var a=null,h=false,o=this;if(o.reverting){return false}if(o.disabled||o.type==="static"){return false}o._refreshItems(n);c(n.target).parents().each(function(){if(c.data(this,o.widgetName+"-item")===o){a=c(this);return false}});if(c.data(n.target,o.widgetName+"-item")===o){a=c(n.target)}if(!a){return false}if(o.handle&&!l){c(o.handle,a).find("*").addBack().each(function(){if(this===n.target){h=true}});if(!h){return false}}o.currentItem=a;o._removeCurrentsFromItems();return true},_mouseStart:function(l,h,q){var o,a,n=this;n.currentContainer=this;n._currentContainer=this;n.refreshPositions();n.helper=n._utility(l);n._cacheHelperProportions();n._storeMargins();n.scrollParent=n.helper.scrollParent();n.offset=n.currentItem.offset();n.offset={top:n.offset.top-n.margins.top,left:n.offset.left-n.margins.left};c.extend(n.offset,{click:{left:l.pageX-n.offset.left,top:l.pageY-n.offset.top},parent:n._getParentOffset(),relative:n._getRelativeOffset()});n.helper.css("position","absolute");n.cssPosition=n.helper.css("position");n.originalPosition=n._generatePosition(l);n.originalPageX=l.pageX;n.originalPageY=l.pageY;(n.cursorAt&&n._adjustOffsetFromHelper(n.cursorAt));n.domPosition={prev:n.currentItem.prev()[0],parent:n.currentItem.parent()[0]};if(n.helper[0]!==n.currentItem[0]){n.currentItem.hide()}n._createPlaceholder();if(n.containment){n._setContainment()}if(n.cursor&&n.cursor!=="auto"){a=n.document.find("body");n.storedCursor=a.css("cursor");a.css("cursor",n.cursor);n.storedStylesheet=c("<style>*{ cursor: "+n.cursor+" !important; }</style>").appendTo(a)}if(n.opacity){if(n.helper.css("opacity")){n._storedOpacity=n.helper.css("opacity")}n.helper.css("opacity",n.opacity)}if(n.zIndex){if(n.helper.css("zIndex")){n._storedZIndex=n.helper.css("zIndex")}n.helper.css("zIndex",n.zIndex)}if(n.scrollParent[0]!==n.document[0]&&n.scrollParent[0].tagName!=="HTML"){n.overflowOffset=n.scrollParent.offset()}n._raiseEvent("9",n._uiHash());if(!n._preserveHelperProportions){n._cacheHelperProportions()}if(!q){for(o=n.owners.length-1;o>=0;o--){n.owners[o]._raiseEvent("0",n._uiHash(this))}}if(c.jqx.ddmanager){c.jqx.ddmanager.current=this}if(c.jqx.ddmanager&&!n.dropBehaviour){c.jqx.ddmanager.prepareOffsets(this,l)}n.dragging=true;n.helper.addClass("jqx-sortable-helper");n._mouseDrag(l);return true},_mouseDrag:function(o){var t,q,u,l,n=this,a=false;var s=this;s.position=s._generatePosition(o);s.positionAbs=s._convertPositionTo("absolute");if(!s.lastPositionAbs){s.lastPositionAbs=s.positionAbs}if(s.scroll){if(s.scrollParent[0]!==s.document[0]&&s.scrollParent[0].tagName!=="HTML"){if((s.overflowOffset.top+s.scrollParent[0].offsetHeight)-o.pageY<n.scrollSensitivity){s.scrollParent[0].scrollTop=a=s.scrollParent[0].scrollTop+n.scrollSpeed}else{if(o.pageY-s.overflowOffset.top<n.scrollSensitivity){s.scrollParent[0].scrollTop=a=s.scrollParent[0].scrollTop-n.scrollSpeed}}if((s.overflowOffset.left+s.scrollParent[0].offsetWidth)-o.pageX<n.scrollSensitivity){s.scrollParent[0].scrollLeft=a=s.scrollParent[0].scrollLeft+n.scrollSpeed}else{if(o.pageX-s.overflowOffset.left<n.scrollSensitivity){s.scrollParent[0].scrollLeft=a=s.scrollParent[0].scrollLeft-n.scrollSpeed}}}else{if(o.pageY-s.document.scrollTop()<n.scrollSensitivity){a=s.document.scrollTop(s.document.scrollTop()-n.scrollSpeed)}else{if(s.window.height()-(o.pageY-s.document.scrollTop())<n.scrollSensitivity){a=s.document.scrollTop(s.document.scrollTop()+n.scrollSpeed)}}if(o.pageX-s.document.scrollLeft()<n.scrollSensitivity){a=s.document.scrollLeft(s.document.scrollLeft()-n.scrollSpeed)}else{if(s.window.width()-(o.pageX-s.document.scrollLeft())<n.scrollSensitivity){a=s.document.scrollLeft(s.document.scrollLeft()+n.scrollSpeed)}}}if(a!==false&&c.jqx.ddmanager&&!n.dropBehaviour){c.jqx.ddmanager.prepareOffsets(this,o)}}s.positionAbs=s._convertPositionTo("absolute");if(!s.axis||s.axis!=="y"){s.helper[0].style.left=s.position.left+"px"}if(!s.axis||s.axis!=="x"){s.helper[0].style.top=s.position.top+"px"}for(t=s.itemsArray.length-1;t>=0;t--){q=s.itemsArray[t];u=q.item[0];l=s._intersectsWithPointer(q);if(!l){continue}if(q.instance!==s.currentContainer){continue}if(u!==s.currentItem[0]&&s.placeholder[l===1?"next":"prev"]()[0]!==u&&!c.contains(s.placeholder[0],u)&&(s.type==="semi-dynamic"?!c.contains(s.host[0],u):true)){s.direction=l===1?"down":"up";if(s.tolerance==="pointer"||s._intersectsWithSides(q)){s._rearrange(o,q)}else{break}s._raiseEvent("2",s._uiHash());break}}s._contactOwners(o);if(c.jqx.ddmanager){c.jqx.ddmanager.drag(this,o)}s._raiseEvent("8",s._uiHash());s.lastPositionAbs=s.positionAbs;return false},_mouseStop:function(o,l){var q=this;if(!o){return}if(c.jqx.ddmanager&&!this.dropBehaviour){c.jqx.ddmanager.drop(this,o)}if(q.revert){var q=this,h=q.placeholder.offset(),a=q.axis,n={};if(!a||a==="x"){n.left=h.left-q.offset.parent.left-q.margins.left+(q.offsetParent[0]===q.document[0].body?0:q.offsetParent[0].scrollLeft)}if(!a||a==="y"){n.top=h.top-q.offset.parent.top-q.margins.top+(q.offsetParent[0]===q.document[0].body?0:q.offsetParent[0].scrollTop)}q.reverting=true;c(this.helper).animate(n,parseInt(this.revert,10)||500,function(){q._clear(o)})}else{q._clear(o,l)}return false},cancel:function(){var d=this;if(d.dragging){d._mouseUp({target:null});if(d.helper==="original"){d.currentItem.css(d._storedCSS).removeClass("jqx-sortable-helper")}else{d.currentItem.show()}for(var a=d.owners.length-1;a>=0;a--){d.owners[a]._raiseEvent("3",d._uiHash(this));if(d.owners[a].containerCache.over){d.owners[a]._raiseEvent("4",d._uiHash(this));d.owners[a].containerCache.over=0}}}if(d.placeholder){if(d.placeholder[0].parentNode){d.placeholder[0].parentNode.removeChild(d.placeholder[0])}if(d.helper!=="original"&&d.helper&&d.helper[0].parentNode){d.helper.remove()}c.extend(this,{helper:null,dragging:false,reverting:false,_noFinalSort:null});if(d.domPosition.prev){c(d.domPosition.prev).after(d.currentItem)}else{c(d.domPosition.parent).prepend(d.currentItem)}}return this},serialize:function(e){var a=this._getItemsAsjQuery(e&&e.connected),f=[];e=e||{};c(a).each(function(){var d=(c(e.item||this).attr(e.attribute||"id")||"").match(e.expression||(/(.+)[\-=_](.+)/));if(d){f.push((e.key||d[1]+"[]")+"="+(e.key&&e.expression?d[1]:d[2]))}});if(!f.length&&e.key){f.push(e.key+"=")}return f.join("&")},toArray:function(e){var a=this._getItemsAsjQuery(e&&e.connected),f=[];e=e||{};a.each(function(){f.push(c(e.item||this).attr(e.attribute||"id")||"")});return f},_intersectsWith:function(s){var D=this.positionAbs.left,E=D+this.helperProportions.width,u=this.positionAbs.top,v=u+this.helperProportions.height,C=s.left,F=C+s.width,l=s.top,w=l+s.height,a=this.offset.click.top,z=this.offset.click.left,A=(this.axis==="x")||((u+a)>l&&(u+a)<w),t=(this.axis==="y")||((D+z)>C&&(D+z)<F),B=A&&t;if(this.tolerance==="pointer"||this.forcePointerForowners||(this.tolerance!=="pointer"&&this.helperProportions[this.floating?"width":"height"]>s[this.floating?"width":"height"])){return B}else{return(C<D+(this.helperProportions.width/2)&&E-(this.helperProportions.width/2)<F&&l<u+(this.helperProportions.height/2)&&v-(this.helperProportions.height/2)<w)}},_intersectsWithPointer:function(o){var n=(this.axis==="x")||this._isOverAxis(this.positionAbs.top+this.offset.click.top,o.top,o.height),q=(this.axis==="y")||this._isOverAxis(this.positionAbs.left+this.offset.click.left,o.left,o.width),h=n&&q,a=this._getDragVerticalDirection(),l=this._getDragHorizontalDirection();if(!h){return false}return this.floating?(((l&&l==="right")||a==="down")?2:1):(a&&(a==="down"?2:1))},_intersectsWithSides:function(l){var o=this._isOverAxis(this.positionAbs.top+this.offset.click.top,l.top+(l.height/2),l.height),n=this._isOverAxis(this.positionAbs.left+this.offset.click.left,l.left+(l.width/2),l.width),a=this._getDragVerticalDirection(),h=this._getDragHorizontalDirection();if(this.floating&&h){return((h==="right"&&n)||(h==="left"&&!n))}else{return a&&((a==="down"&&o)||(a==="up"&&!o))}},_getDragVerticalDirection:function(){var a=this.positionAbs.top-this.lastPositionAbs.top;return a!==0&&(a>0?"down":"up")},_getDragHorizontalDirection:function(){var a=this.positionAbs.left-this.lastPositionAbs.left;return a!==0&&(a>0?"right":"left")},refresh:function(a){this._refreshItems(a);this.refreshPositions();return this},_connectWith:function(){var a=this;return a.connectWith.constructor===String?[a.connectWith]:a.connectWith},_getItemsAsjQuery:function(w){var u,v,n,s,q=[],t=[],o=this._connectWith();if(o&&w){for(u=o.length-1;u>=0;u--){n=c(o[u],this.document[0]);for(v=n.length-1;v>=0;v--){s=c.data(n[v],this.widgetFullName).instance;if(s&&s!==this&&!s.disabled){t.push([c.isFunction(s.items)?s.items.call(s.host):c(s.items,s.host).not(".jqx-sortable-helper").not(".jqx-sortable-placeholder"),s])}}}}t.push([c.isFunction(this.items)?this.items.call(this.host,null,{options:this,item:this.currentItem}):c(this.items,this.host).not(".jqx-sortable-helper").not(".jqx-sortable-placeholder"),this]);function a(){q.push(this)}for(u=t.length-1;u>=0;u--){t[u][0].each(a)}return c(q)},_removeCurrentsFromItems:function(){var a=this.currentItem.find(":data("+this.widgetName+"-item)");this.itemsArray=c.grep(this.itemsArray,function(e){for(var f=0;f<a.length;f++){if(a[f]===e.item[0]){return false}}return true})},_refreshItems:function(D){this.itemsArray=[];this.owners=[this];var z,B,s,w,t,C,a,q,v=this.itemsArray,A=[[c.isFunction(this.items)?this.items.call(this.host[0],D,{item:this.currentItem}):c(this.items,this.host),this]],u=this._connectWith();if(u&&this.ready){for(z=u.length-1;z>=0;z--){s=c(u[z],this.document[0]);for(B=s.length-1;B>=0;B--){w=c.data(s[B],this.widgetName);if(w&&w!==this&&!w.instance.disabled){A.push([c.isFunction(w.instance.items)?w.items.call(w.instance.host[0],D,{item:this.currentItem}):c(w.instance.items,w.instance.host),w.instance]);this.owners.push(w.instance)}}}}for(z=A.length-1;z>=0;z--){t=A[z][1];C=A[z][0];for(B=0,q=C.length;B<q;B++){a=c(C[B]);a.data(this.widgetName+"-item",t);v.push({item:a,instance:t,width:0,height:0,left:0,top:0})}}},refreshPositions:function(a){if(this.offsetParent&&this.helper){this.offset.parent=this._getParentOffset()}var n,l,o,h;for(n=this.itemsArray.length-1;n>=0;n--){l=this.itemsArray[n];if(l.instance!==this.currentContainer&&this.currentContainer&&l.item[0]!==this.currentItem[0]){continue}o=this.toleranceElement?c(this.toleranceElement,l.item):l.item;if(!a){l.width=o.outerWidth();l.height=o.outerHeight()}h=o.offset();l.left=h.left;l.top=h.top}if(this.custom&&this.custom.refreshowners){this.custom.refreshowners.call(this)}else{for(n=this.owners.length-1;n>=0;n--){h=this.owners[n].host.offset();this.owners[n].containerCache.left=h.left;this.owners[n].containerCache.top=h.top;this.owners[n].containerCache.width=this.owners[n].host.outerWidth();this.owners[n].containerCache.height=this.owners[n].host.outerHeight()}}return this},_cancelSelect:function(){that=this;that.host.addClass("jqx-disableselect")},_createPlaceholder:function(f){f=f||this;var a,e=f;if(!e.placeholderShow||e.placeholderShow.constructor===String){a=e.placeholderShow;e.placeholderShow={element:function(){var d=f.currentItem[0].nodeName.toLowerCase(),h=c("<"+d+">",f.document[0]).addClass(a||f.currentItem[0].className+" jqx-sortable-placeholder").removeClass("jqx-sortable-helper");if(d==="tr"){f.currentItem.children().each(function(){c("<td>&#160;</td>",f.document[0]).attr("colspan",c(this).attr("colspan")||1).appendTo(h)})}else{if(d==="img"){h.attr("src",f.currentItem.attr("src"))}}if(!a){h.css("visibility","hidden")}return h},update:function(h,d){if(a&&!e.forcePlaceholderSize){return}if(!d.height()){d.height(f.currentItem.innerHeight()-parseInt(f.currentItem.css("paddingTop")||0,10)-parseInt(f.currentItem.css("paddingBottom")||0,10))}if(!d.width()){d.width(f.currentItem.innerWidth()-parseInt(f.currentItem.css("paddingLeft")||0,10)-parseInt(f.currentItem.css("paddingRight")||0,10))}}}}f.placeholder=c(e.placeholderShow.element.call(f.host,f.currentItem));f.currentItem.after(f.placeholder);f.placeholderShow.update(f,f.placeholder)},_contactOwners:function(G){var B,D,u,A,z,s,a,C,w,E,F=null,t=null;for(B=this.owners.length-1;B>=0;B--){if(c.contains(this.currentItem[0],this.owners[B].host[0])){continue}if(this._intersectsWith(this.owners[B].containerCache)){if(F&&c.contains(this.owners[B].host[0],F.host[0])){continue}F=this.owners[B];t=B}else{if(this.owners[B].containerCache.over){this.owners[B]._raiseEvent("4",this._uiHash(this));this.owners[B].containerCache.over=0}}}if(!F){return}if(this.owners.length===1){if(!this.owners[t].containerCache.over){this.owners[t]._raiseEvent("5",this._uiHash(this));this.owners[t].containerCache.over=1}}else{u=10000;A=null;w=F.floating||this._isFloating(this.currentItem);z=w?"left":"top";s=w?"width":"height";E=w?"clientX":"clientY";var v=this.itemsArray;for(D=v.length-1;D>=0;D--){if(!c.contains(this.owners[t].host[0],v[D].item[0])){continue}if(v[D].item[0]===this.currentItem[0]){continue}a=v[D].item.offset()[z];C=false;if(G[E]-a>v[D][s]/2){C=true}if(Math.abs(G[E]-a)<u){u=Math.abs(G[E]-a);A=v[D];this.direction=C?"up":"down"}}if(!A&&!this.dropOnEmpty){return}if(this.currentContainer===this.owners[t]){if(!this.currentContainer.containerCache.over){this.owners[t]._raiseEvent("5",this._uiHash());this.currentContainer.containerCache.over=1}return}if(this.owners[t].host.children().length+1>this.owners[t].maxItems){this.currentContainer=this._currentContainer;A=this._rearrange(G,null,this.currentContainer.host,true);this._currentContainer.containerCache.over=1;this.placeholderShow.update(this.currentContainer,this.placeholder);return}A?this._rearrange(G,A,null,true):this._rearrange(G,null,this.owners[t].host,true);this._raiseEvent("2",this._uiHash());this.owners[t]._raiseEvent("2",this._uiHash(this));this.currentContainer=this.owners[t];this.placeholderShow.update(this.currentContainer,this.placeholder);this.owners[t]._raiseEvent("5",this._uiHash(this));this.owners[t].containerCache.over=1}},_utility:function(f){var e=this,a=c.isFunction(e.helper)?c(e.helper.apply(this.host[0],[f,this.currentItem])):(e.helper==="clone"?this.currentItem.clone():this.currentItem);if(!a.parents("body").length){c(e.appendTo!=="parent"?e.appendTo:this.currentItem[0].parentNode)[0].appendChild(a[0])}if(a[0]===this.currentItem[0]){this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}}if(!a[0].style.width||e.forceHelperSize){a.width(this.currentItem.width())}if(!a[0].style.height||e.forceHelperSize){a.height(this.currentItem.height())}a.scrollParent=function(n){var o=this.css("position"),q=o==="absolute",l=n?/(auto|scroll|hidden)/:/(auto|scroll)/,d=this.parents().filter(function(){var h=c(this);if(q&&h.css("position")==="static"){return false}return l.test(h.css("overflow")+h.css("overflow-y")+h.css("overflow-x"))}).eq(0);return o==="fixed"||!d.length?c(this[0].ownerDocument||document):d};return a},_adjustOffsetFromHelper:function(a){if(typeof a==="string"){a=a.split(" ")}if(c.isArray(a)){a={left:+a[0],top:+a[1]||0}}if("left" in a){this.offset.click.left=a.left+this.margins.left}if("right" in a){this.offset.click.left=this.helperProportions.width-a.right+this.margins.left}if("top" in a){this.offset.click.top=a.top+this.margins.top}if("bottom" in a){this.offset.click.top=this.helperProportions.height-a.bottom+this.margins.top}},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var a=this.offsetParent.offset();if(this.cssPosition==="absolute"&&this.scrollParent[0]!==this.document[0]&&c.contains(this.scrollParent[0],this.offsetParent[0])){a.left+=this.scrollParent.scrollLeft();a.top+=this.scrollParent.scrollTop()}if(this.offsetParent[0]===this.document[0].body||(this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()==="html"&&c.jqx.browser.msie)){a={top:0,left:0}}return{top:a.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:a.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition==="relative"){var a=this.currentItem.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else{return{top:0,left:0}}},_storeMargins:function(){this.margins={left:(parseInt(this.currentItem.css("marginLeft"),10)||0),top:(parseInt(this.currentItem.css("marginTop"),10)||0)}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var l,f,a,h=this;if(h.containment==="parent"){h.containment=this.helper[0].parentNode}if(h.containment==="document"||h.containment==="window"){this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,h.containment==="document"?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,(h.containment==="document"?this.document.width():this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(l,d){if(!d){d=this.position}var n=l==="absolute"?1:-1,a=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==this.document[0]&&c.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,h=(/(html|body)/i).test(a[0].tagName);return{top:(d.top+this.offset.relative.top*n+this.offset.parent.top*n-((this.cssPosition==="fixed"?-this.scrollParent.scrollTop():(h?0:a.scrollTop()))*n)),left:(d.left+this.offset.relative.left*n+this.offset.parent.left*n-((this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():h?0:a.scrollLeft())*n))}},_generatePosition:function(s){var o,q,n=this,t=s.pageX,u=s.pageY,a=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==this.document[0]&&c.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,l=(/(html|body)/i).test(a[0].tagName);if(this.cssPosition==="relative"&&!(this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0])){this.offset.relative=this._getRelativeOffset()}if(this.originalPosition){if(this.containment){if(s.pageX-this.offset.click.left<this.containment[0]){t=this.containment[0]+this.offset.click.left}if(s.pageY-this.offset.click.top<this.containment[1]){u=this.containment[1]+this.offset.click.top}if(s.pageX-this.offset.click.left>this.containment[2]){t=this.containment[2]+this.offset.click.left}if(s.pageY-this.offset.click.top>this.containment[3]){u=this.containment[3]+this.offset.click.top}}if(n.grid){o=this.originalPageY+Math.round((u-this.originalPageY)/n.grid[1])*n.grid[1];u=this.containment?((o-this.offset.click.top>=this.containment[1]&&o-this.offset.click.top<=this.containment[3])?o:((o-this.offset.click.top>=this.containment[1])?o-n.grid[1]:o+n.grid[1])):o;q=this.originalPageX+Math.round((t-this.originalPageX)/n.grid[0])*n.grid[0];t=this.containment?((q-this.offset.click.left>=this.containment[0]&&q-this.offset.click.left<=this.containment[2])?q:((q-this.offset.click.left>=this.containment[0])?q-n.grid[0]:q+n.grid[0])):q}}return{top:(u-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+((this.cssPosition==="fixed"?-this.scrollParent.scrollTop():(l?0:a.scrollTop())))),left:(t-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+((this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())))}},_rearrange:function(h,l,o,n){o?o[0].appendChild(this.placeholder[0]):l.item[0].parentNode.insertBefore(this.placeholder[0],(this.direction==="down"?l.item[0]:l.item[0].nextSibling));this.counter=this.counter?++this.counter:1;var a=this.counter;this._delay(function(){if(a===this.counter){this.refreshPositions(!n)}})},_delay:function(f,h){function l(){return(typeof f==="string"?a[f]:f).apply(a,arguments)}var a=this;return setTimeout(l,h||0)},_clear:function(o,l){this.reverting=false;var a,h=[];if(!this._noFinalSort&&this.currentItem.parent().length){this.placeholder.before(this.currentItem)}this._noFinalSort=null;if(this.helper[0]===this.currentItem[0]){for(a in this._storedCSS){if(this._storedCSS[a]==="auto"||this._storedCSS[a]==="static"){this._storedCSS[a]=""}}this.currentItem.css(this._storedCSS).removeClass("jqx-sortable-helper")}else{this.currentItem.show()}if(this.fromOutside&&!l){h.push(function(d){this._raiseEvent("6",this._uiHash(this.fromOutside))})}if((this.fromOutside||this.domPosition.prev!==this.currentItem.prev().not(".jqx-sortable-helper")[0]||this.domPosition.parent!==this.currentItem.parent()[0])&&!l){h.push(function(d){this._raiseEvent("11",this._uiHash())})}if(this!==this.currentContainer){if(!l){h.push(function(d){this._raiseEvent("7",this._uiHash())});h.push((function(d){return function(e){d._raiseEvent("6",this._uiHash(this))}}).call(this,this.currentContainer));h.push((function(d){return function(e){d._raiseEvent("11",this._uiHash(this))}}).call(this,this.currentContainer))}}function n(d,f,e){return function(q){var s=this._events.indexOf(d);e._raiseEvent(s,f._uiHash(f))}}for(a=this.owners.length-1;a>=0;a--){if(!l){h.push(n("deactivate",this,this.owners[a]))}if(this.owners[a].containerCache.over){h.push(n("out",this,this.owners[a]));this.owners[a].containerCache.over=0}}if(this.storedCursor){this.document.find("body").css("cursor",this.storedCursor);this.storedStylesheet.remove()}if(this._storedOpacity){this.helper.css("opacity",this._storedOpacity)}if(this._storedZIndex){this.helper.css("zIndex",this._storedZIndex==="auto"?"":this._storedZIndex)}this.dragging=false;if(!l){this._raiseEvent("1",this._uiHash())}this.placeholder[0].parentNode.removeChild(this.placeholder[0]);if(!this.cancelHelperRemoval){if(this.helper[0]!==this.currentItem[0]){this.helper.remove()}this.helper=null}if(!l){this._raiseEvent("10",this._uiHash())}this.fromOutside=false;return !this.cancelHelperRemoval},disable:function(){that=this;that.disabled=true},enable:function(){that=this;that.disabled=false},instance:function(){that=this;return that},_uiHash:function(a){var d=a||this;return{helper:d.helper,placeholder:d.placeholder||c([]),position:d.position,originalPosition:d.originalPosition,offset:d.positionAbs,item:d.currentItem,sender:a?a.host:null}},_raiseEvent:function(a,e){that=this;var f=c.Event(that._events[a]);f.args=e;return that.host.trigger(f)},propertyChangedHandler:function(a,l,f,h){that=this;if(h!==f){switch(l){case"disabled":that.disabled=h;break}}}})})(jqxBaseFramework);(function(c){c.jqx.jqxWidget("jqxKanban","",{});c.extend(c.jqx._jqxKanban.prototype,{defineInstance:function(){var a={animationDelay:100,columnRenderer:null,columns:null,connectWith:null,headerWidth:30,headerHeight:30,height:400,handle:null,itemRenderer:null,ready:null,resources:null,rtl:false,source:null,template:"<div class='jqx-kanban-item' id=''><div class='jqx-kanban-item-color-status'></div><div class='jqx-kanban-item-avatar'></div><div class='jqx-kanban-item-text'></div><div class='jqx-kanban-item-footer'></div></div>",templateContent:{id:0,status:"work",text:"New text",content:"New content",tags:"New, tags",color:"green",resourceId:0,className:""},width:600,verticalTextOrientation:"topToBottom",_kanbanId:null,_dropKanbanId:null,_connectWith:null,_kanbanColumns:null,_selectedItemId:null,_selectedItemValues:null,_draggedItemId:null,_draggedItemValues:null,_selectedColumn:null,_source:null,_resourcesLength:null,_items:[],_ie8:(c.jqx.browser.msie&&c.jqx.browser.version==8),_ie7:(c.jqx.browser.msie&&c.jqx.browser.version<8),_parentsTag:null,_columns:[],_collapsedColumns:0,_expandedColumns:null,_columnBorders:[1,1,1,1],_css_color_names:["AliceBlue","AntiqueWhite","Aqua","Aquamarine","Azure","Beige","Bisque","Black","BlanchedAlmond","Blue","BlueViolet","Brown","BurlyWood","CadetBlue","Chartreuse","Chocolate","Coral","CornflowerBlue","Cornsilk","Crimson","Cyan","DarkBlue","DarkCyan","DarkGoldenRod","DarkGray","DarkGrey","DarkGreen","DarkKhaki","DarkMagenta","DarkOliveGreen","Darkorange","DarkOrchid","DarkRed","DarkSalmon","DarkSeaGreen","DarkSlateBlue","DarkSlateGray","DarkSlateGrey","DarkTurquoise","DarkViolet","DeepPink","DeepSkyBlue","DimGray","DimGrey","DodgerBlue","FireBrick","FloralWhite","ForestGreen","Fuchsia","Gainsboro","GhostWhite","Gold","GoldenRod","Gray","Grey","Green","GreenYellow","HoneyDew","HotPink","IndianRed","Indigo","Ivory","Khaki","Lavender","LavenderBlush","LawnGreen","LemonChiffon","LightBlue","LightCoral","LightCyan","LightGoldenRodYellow","LightGray","LightGrey","LightGreen","LightPink","LightSalmon","LightSeaGreen","LightSkyBlue","LightSlateGray","LightSlateGrey","LightSteelBlue","LightYellow","Lime","LimeGreen","Linen","Magenta","Maroon","MediumAquaMarine","MediumBlue","MediumOrchid","MediumPurple","MediumSeaGreen","MediumSlateBlue","MediumSpringGreen","MediumTurquoise","MediumVioletRed","MidnightBlue","MintCream","MistyRose","Moccasin","NavajoWhite","Navy","OldLace","Olive","OliveDrab","Orange","OrangeRed","Orchid","PaleGoldenRod","PaleGreen","PaleTurquoise","PaleVioletRed","PapayaWhip","PeachPuff","Peru","Pink","Plum","PowderBlue","Purple","Red","RosyBrown","RoyalBlue","SaddleBrown","Salmon","SandyBrown","SeaGreen","SeaShell","Sienna","Silver","SkyBlue","SlateBlue","SlateGray","SlateGrey","Snow","SpringGreen","SteelBlue","Tan","Teal","Thistle","Tomato","Turquoise","Violet","Wheat","White","WhiteSmoke","Yellow","YellowGreen"],_clearing:"<div class='jqx-kanban-clearing'></div>",_commonItem:{id:null,name:"no name",image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMAUExURZSUlJWVlZaWlpeXl5iYmJmZmZubm5ycnJ2dnZ6enp+fn6CgoKGhoaKioqOjo6SkpKWlpaampqenp6ioqKmpqaqqqqurq6ysrK2tra6urq+vr7CwsLGxsbKysrOzs7S0tLW1tba2tre3t7i4uLm5ubq6uru7u7y8vL29vb+/v8DAwMHBwcLCwsPDw8TExMXFxcbGxsfHx8jIyMnJycrKysvLy8zMzM3Nzc7Ozs/Pz9DQ0NHR0dLS0tPT09TU1NXV1dbW1tfX19jY2NnZ2dra2tvb29zc3N3d3d7e3uDg4OHh4eLi4uPj4+Tk5OXl5ebm5ufn5+jo6Onp6erq6uvr6+zs7O3t7e7u7u/v7/Dw8PHx8fLy8vPz8/T09PX19fb29vf39/j4+Pn5+fr6+vv7+/z8/P39/f///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACvUOQQAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuNvyMY98AABbSSURBVHherVsHQ9tIE+XO2NimF9N7KAklhN6SkARS6IRqwGBblsn//wffe29Wsh1M4L67t9JqJa/mzcyuGjPU/HoOD8VikWvBf3goPjz88h6KaGHBns8jWIAC+6Djwy8cKWDVYdROzFN4VoGHX6Goou9THEiKRb/gefl8LpfL5nJ5wPO8gu+THuRAAf0Ek/I0nlPASTEvQA3foxp+/j7z4/uryXhdJBL/O9Y7NvPlayabL1gv6FFgL3fun/ECBegAktPxHjTxvfzJfFcsEklEk3/V1UaidbFoNBaNdy4e5TyQFwvUgSMmOEFP4QVDIC/8gmex+L6XvVptjcYT8URdtLY2Fk0kY7V1ddF4XTISaWidvcxDBSyeKf3vh4BTinI0sQoFL3v0irTxZF0ykUhgE48kkpFEYzQWT2InmRw8y3uYDBqv/0IB2GHCfEyronc4HI/X1ycbkrAaCiTjiWR9MpHEUl9fF4MKiYbY6Ak0kNK8Iv79EACmgV+4mydVUpyNdfVJq7TfUJ+ob0jWNzYkmpOJdxnOhZe54EWTsFjEtpD/0d6UbKivr29oaMBar6ZqHWpobKhvbGzEtrG+70uOGnBGOjlP4lkF8rjt4LIqFLJTTU3JDogXmpqaWKOw1gbHUDU3NjfXJ7teZ3VB/AdzgMOJCeinO5ubm5uSEC80NUMFoLmlGQsrAa2m5ra2pobmvhsPV+1/Mwlx4/Ev+9oaG1NNrY3iaW1tBZkjNegQNm0tLW1trW3tjf3pAhT490NQ9DH+3m1/S3tbcyuMA1GINsA10W5Fu72tvaOjDaq0drX13PCu7OQ8iWcVKBR/+d5NT3tbR3t7a6q9pb0dFGi3ocYmgPa439aR6kh1ptqbO7p6b3FPdHKexLMKAN7NUHtXZ2tHV0dXW1cHCIAUoGYq1WlgAwfZ7OruTHX3tHeOXnv/TgGy4zmcfd3ek+rshWDI78IGS5e2bseOiFrAtrsr1d2bms1Kg2Akqg1IFQXQDR1Jzgup6N8vdPa19kFkd7fJ7+7pwQ4qrKgq0dvTo6W7p7ert2f2vmBmsOINzXGUUFUBquBOwLNvt6e/fQhUBpJWolelr9eKVURfd3/X6DdP7wf/WAGBV6BfyIz3dPf3dzuhWPr6y8oj9OsYfuof6O3v6568xqsSZZlR9G0lHisgZj79UeMlJ7/eNzgAof0D/QMDA/2PgIPlCPcHuQ73DX7Am5IEOjiWEI8UYB/effmCVfSK3uXAcB/kDEHgIIUSEv4bhhysOTg4PDg8NDQyPDR2AXY9muAFSHc0IaoqgNsv3Y8B8PML/cMDgyMDFDoEkUODwy/DyPDw6PDQyMjwEsaAxjg3OJoQ1eYAX0PdHbhwChkD46OwBxgdhcCRCoz+XoBXXInR4dGRV69OYQrZ5YAXKUB20mMK5LfHXg2NjA+PjjmhJvnPGBvDMjrO1sTY+OSWx7dJWk84khBVFLAJAx1wD8y9GpNEiiTGx8afx8TE+IQ1uI5NZPG2/NQIVFHA2OWFh8IJiSWMMLGVmKjE5OSka3BhNTlxjFd5J9BxlKHaJDQFOAbemokIxGrvCbxWUQtgrZ3Jqcn3VEAavOQ+4MyHAije9JSEBSjbIYvhTUWxA4YprK+nX7/FW9XLFbCOTodrKUAxwhQlPgP0mSKmCTbeTM1e6z1dCjzC7wqIHSsc8eAX9mcljJAw1CrTM08VABtt1ZqZfTMzu89vNpr0vAJmvl4nMQTethOJGvbMzsxgwVq1PIF3+OWLJ6tkmCMK8UgBeZ89cRv0PpXLrc7xtgp4dA5Ac25udn72k2YhhT6jADuYAtzCA0vlDJVklO5ArhDvKjA3Nz//7t1KXp9KlPvoJbWKAqSnvlBgYW72N4kh5p/CAgt+1nZ+YWFhfn6RX6xOsqMK8UgBMsMLbPieJFUHJAuLlWWxrK0CLC2UPPAyBZwPfO/dMmUslaQuLi0tVpTHWLbiOrDH2pJ9rUquowrxeAgcpMA8TjeSkMzJd2XlEZYd3C4PrGEOmE+fUcCYHaTACgiXVyqKbVZWXXkEHlxbDcva+trKyga+E82pEOzIAjxSQJ1s63tbK6slWVZss762LuHrADeVZX1jfcO11zbX11c/u691k+3YHKoqoBUPI+8bRBkJwC2bku/KJrFBqFUV7zd2TQFnnGNzKFOAP5YU0F9kvm+8d1Kq4f1T+PABq2u+f7/5cV/PY8nFxtE5PKGAKt+/oIxNFYhiCfYCfCjHR8A1Q3z88HHrouDuhNTixQrgxdTPQaYTFAISWUJslZVPW8CnCuDA53s+2v+BAuwmnxW97VAcRROfysunz4/gun9yjS+fP2/t4O3e5P5DBfBdekiRKp+/qLg9dwz4UgXbXLdRo9re/nxUKPIvyf9EAfoLc+DBvwGpQbIAii8rPBKUnW0WVWHhknYKQDgZHJ3DIwUAU4DfJUXvGyRWYucP+IqiqlR2vu7m+IdbKSA4OodqCtANcD/eyh8KxxCx89UqbSrAY1+/VRRWxPfvbGPz/di+C9wA/EGBcg3MY7gVeDu7Oz92vv6QVAilREEsxPey8gPHUX4Qu1i+f9v7tntvf7eWQIh1ZAGeUsCh6J/u/IBAMGol0HIFJLsBsFMV30/dHwzh1H+qAHUuZkGy95R0w164DVoAdrAc/jjI0QFYnAKOK8QfPYBTioX0t30JlPg9bIS9vX2Vx3DH9ncP9nf3D/Yv8Z0vQf9UAZrPyveOacze/sEBxO1rrcQB4JrA4cEhDxxgc3iwd4ABwAhoCkqB30fgGQW4LWT3Dg/3Dg4ByTUccT1i/Rh2+Pjw6OTgOIOXaz5Z+X0qkY4rxDOTECj4V8cQeQwcoYGFYPv4+OTkREfVdgUHsMffjo9Prz1ezu597P9UAB9IJ4dnhySjdG6Inz9PqhUc/3l6eopfj36eHl5gAHA/1Ri8QIHqGuDE/MXPsxPIlewQP1VOzyoKcHaGxjlbab4Nk5mjr/r/UgD35FzaRJ5DtlGUcF5ZABw7v7g4O7/Wq6AtpgC2jirEswrYifmrSwiG3LOLcxTC6hAgDloXF5eXWDH+YtZioh7Rv0AB3kJ4MaahwmUVXFWWK/S7Ai4ubmB/QdTGL20cURme9wBWKpG/T19epdNpMARFSF9XFBy/xpq+us3zA9tJsEVwVCGenwN2Kp6O95B8fXN9nb5BHRSgbBfQ5jqTUfhU5/Nk1wAcVYgXTEJTAHek3H2GFDc3t4C1rP0bMnc5D+NvHyN0vUQ4JRxViMcKWHe3UU0JOuZ7mdu735DJuAaB9j2WHMzXS6VC/oEMSnhGAUIqoyNrO5dt90LjF7z7u/v7bNbWEFnsAmzCev1Z0E4OHKBKcDQhqihAZ9lZ7my3Z7uelyORCImcIR+0vNLFr1O1DS1wJGV4pMAv/WXZEP5xC1LQ5G0VXvA9L5/Lo0Ih2GQKA7YFzyMNTxWfzsZp2nGzwNEEeKQAGQINeKJr0qRQEEaiAIgerNoDuW+PfhrNru4UnQtainqBApSv09gXF5I7n7tqqY0GtPSpBGAtOwvXHjZODTvFJD3wD3DWqEQ1BSBEJ0uMhAQnB4pQCWyphX7W72y539VyW51px6mG4wlRZQjcuTzJ9HH7rFHxO48m8hf9oJ7sg0WDpGNC2BDUdjQhqiig00ys5HKY7ZDA4XEPePWlVAIN6wCoj41kIDSA9svwaAicQH6XkQVfJ5kPt1m1ZXdoI0fKepJMB90uUWCez3tdNcEvJH+BAvQ7hfMvFLrqb2ORpvnzPGZ6mSiRYIcBcu48wEk6zvcfTg0vd77wOp2TiuoQwPGEqOIBE42HGb7MsteRWCReWxefPc4w/gboZ5+DwqmvncAVhQKVx3Hv7mguVlvXeKw/j/maSzYOjqaExwrQhRxkDH3uriYajUf+jkUisWjr7HE2n+dFpx4aAH5zQg3coiUd7PB8Pns81xKJRCPxRO18Fq5hFgQmg3VxPCGqTUKzMnN5E4kk/o7ESF8XrY3WRlqmdzOWtEUVlatEbeAO44bp+czuTHMkGmemUSxaVzd8gy8jGx6T7WhCVFMAKhfxCtRTlwQ9mOsSNbHa2ggGIhqJ9s9sX9zhvq9boO6GVuP2fHe6/XYkFovXJ2LxeCKSrE8k6+PxH9m8/+DZJKB0xxOgqgIwLH/2Ohb5K1obgwNq/05gHOLxv/6CDnUxNDvHpnc+795kbvF0zmQy14c729PjPY0gZ1ZPrK6hsS7RHE/U1yeTTYkZvJyR3c1ExxOgxu5NFVME/s9dDCfgfHgeczAK+zkEcGwkCrdGY3GscHEdM5fizKiKJ0nNrCaY3diYTDY0JBsakw3NjcnWZPc3TB13rYqFK00lWQ3t1UH9rrVY8A5fJepitVEBTqhziAvgI6tymgz1sFX5RJZR1MAsnybm2qBqaGlrXsnaF4r9uQ4M/EZV9VAjckBewk/M18sfjiaT8TiYwW2kpAUnrCQcLUiZycS0JuMFcZDhA/qWltaW1lRLR1N7U9ctnpW8i+lVnQowQGweAKCBTKcSuPxzOwPNyQaqANCxJVOFEiXTlwCwKZWHGUVM5cFiiTVtbe3NqbauVHtvyxbuprixkY4kwZA/1EAbkEMbbHllw/6dwfpkSxM0IJQsliRh4GD5l5aanTLVUZJTSTUCk1062npT7V2pVFfn4p2H26YuYHO66QAPuMkhRXBd574OtrQ3NjZDAxK6UZV7yUda8ZI1IBYt6QJil1vDdJb2/s5UP3a7R/bg/zxpjAqDANYapwht5zzwM9u9za1NHXBjo0iZLyZOy9kSZwuTltrarRgl03pIya3LqmG6C7NaUr297b39fT29vUt8W4cHoABVcAoYOCkxTQrXWz1t3alUawoqmJnK0FKmltE6yEzHSi6QdncpzYaslt2ihJa+np7+oYGege6Rvv6RSyV0BBoAUsCaROFqa6i3o7Mr1dWR6mgjL1O1zEzn3hR5O62InLRBMo/xWkaN0D8w2M/Mk4GhgeGhoeGRoa/ZIIhpjM4DOoD5d74x0NMNaXRhpwhhqYzVqMpOS1iStWWkzLAJsmost2WQpZRboqyO0dHRd3d8inEkRGoK8PaA6Vm4WR0c7IPLaFBPV6cZG8JIy33c4yxVOg1I+2muslxAPExOB8vsAEZHxxdwo9FjVD4o4jI0D+D5e7421NsHh8mMvh7aSzrnYBE6WA8jpqVDMDQw1hG7FBNjtjQMpV+8erXL70ZRstJ9AMCr1znsH++H8nQfzAmTpoyRqxiJ0FDZ6mCcI5VpJuCdYE4Hkx+Y/jA+NYOnIx1gs6DGmrj/369MDI2OjA5zssAiZi9VmCq6gLfkXuN0Hg6g1I5SfofLeVCKxZvJN2f801mgAYdAE8Lbn4B7JGpkFDKhBGevkpbETd9aIdivRDr2apykgCWc0F5HKij9wXIbZqam19yrImjpAb4uYVDySxOTo2OTTFmB2yB7ZNhGVXwAc4bKs3iYWCM2g5kq2rI0jzevlfdg+RTKa5iam569LuANRTAFOAreLU57MzHGkRqfYMbO6EjAG1gKShWa6fJ0SGpctkGDiSS0NczkmJmZZqJBkH4wMzO7yRuy6HUV4LrEQ/jL9OS0k8GUmcmJMVwzXJytobUkDXkJ+ZeWGiUhVuZegE2wPAPV7+ZmF6703MWHOK4CPn+gwP3y5GsMz9RriIE4yJWNmMIl0sDB+NVImbIS2howlidavH0rauY1qMzPzy+9fbe08EHviLj760bETeFkdmpmdnp2xjJfIPYNrhixGqiSIy1LlTFbmVgS0BqjwRIq5lmClIPFxeXFhaV3eDTzdQRK+LwK4IH8NhyE8yWM04XOECUqx1kCWN2UErHjI+bmAtoAYmUCglIJgNWlhaW1Hwzm8oUIHuBl6N+szs1zkObmNVC0ZWa6RCo6o+RPhPGpdrY6RsA4DSJl0N8lFSyvrqxtrC5nefHxpcSeht7RMrM1FuagAMZKQjkczATCuDhOkpZ8PIfpxFE1DzNVQ0kWSpsALdMbQEzS1ZVVlwWwpjj8xubq2h6zDMFtb0RFbwf9ca7ljEAktXCsNpVIy6kkBWWtIw5JXXIFF0fLmL/LNgB1GOF/v7b5/uPGHR5+tL2Gr6p+7sPq0vLi8tLCCkQt0YSFBRsM8VaOajCsQVoHKeVhJVDATNLJ1PW1UmYBQ+2bjOlvfvwA/q1T3IwwB3EfgBaF0+V1eImughQaAiwwV6dEKweTUKSECFWB11gtaYKpDUZLVsKF3V3MfesTI9+KZ/t4Lce3q/d1A7oyN0Ies8yQpcUF0MLH5pSAldbqdzlZw2ooS6MwUhaF/0XKwLui3YYvXy7wSY0LAQoU/ZuNDxtKTYAMJ251bWW5ZKu5lw7mbJKhASpMtSSHUnaBaMMg/5fPDHF/UfR5e+c7vhh9fZh4/sF7dJaboAQBPTbWmTETYLXE6CgBx7opD0OAkdLDInXMQejdMRsYh77iU5AK4BpAZypLJSDB0j82NaxlxBWsNq7GCJRMNfLPLtwPLkerwDdD3Yo3M/aMzwReBZgKV9vUgOdRDvTYomgNyKbMDShJKlcFrDzr0xaTGZTeYLkFNLUiyB+G01kz5KxA8N6Pa94IoIB/CDWVbrC9LRM+y5iPdK7Rvi8ljdBSOjaAS3BQ9kIFFMZnmN0RB7ykdiHgY34p4n3A22N/O83UwIBBNvxgxPRKkDDySYkcMJSdpHY5lEIQ8AJlQW8XdFZceY8x3r29g1vdiPz0992vSgzAxFCmghyiUSFhANCKtIzW+mNkQesYLcIfhvVlKWpGmMm6v6/YroV2j08xDWuKhTN0wYlYJeXbN5O6Y+kijpae4eGAEtzOs0ZclklgZsLRiq8HYNQ5iPoqtHt8dHKa42v5/cG+xf3NR7u7MIJq2Pwtt9XSM4zQchoeuZju3WOYHUUISAMounvK+C4255e+X+Nf7R26mLwUdwABbQWxsxQ6ycMsro/4oLeNqVDG6cCAtiLK4FR9dspoK5aLs4vTgl/jnaLTgUZFCQKBEnu7JKUrUJWRUkvB3CszAZ7vKAHZarQw2WLMYcyX0V2GWdPnl5c3fk3u9PT4VLF2nEgxTBOAZOgBUvI6biMNjWWCAsHIPikZwHcQJRCEuh2ti+xeWMT1Ip2+vLq59GtuzxmVPkF3nAjFIeiIUg/24Ql6w1I1xElLSSsrCWUMkFKxewbXFd0W45mFmY3XSBlovUpfX6cJBj1vr72aNPr8vDzheZIAWcoTOD4Eq8vaIEQo/UqDKm7wkTE0lS6+vGARr+LJCvUCDLReX9/cMOyZubm7Td/f11xdoRf6alw0PSwL4PRY7t2nLoRjJq+NqWjZ2zhRXRix2Zq+Ilf6RqSkVKzVAqsMcLJiDLKGsWbogIWuohoSC1fQ4hNcrY7WnPzbfDqDlYGDL+XeAOZmchpvJpNhXBNQ5DOrWGcu79Wwz42C0NQk8AcHD4RkMkKXm+CmkhHKUNR0ryglBaBEEBJgIxNjq2zd3+f479L5vAduNDy/JpOhcgxG394y7i3NKRZzE56gr0ktWlZUUi4jQGlmilN2olIYWZDFBDkJRVj5D9v5HEOwOa9YI5dgRXenCAAVrkGHgTQiMGKVarSQtWP8jc/ixwzjOsKQ2OKssNyAX7I45j/U0D82JjifUgJ/UAPzsjTAXJFu4kRN9zqQ07ZGf5/lf6T/BlIQbpcHMAB4HMMpaOeDDk7W3R1pMDWclSIUSGGdUHNMaY3+Dd7BTKaFFFsBdLQGfvJkPxRQ30ACXWe/Z+8ZHlJctjrsC/9P4HePPnsE2yvtU8TDw0Pxf9HojR+SZp5gAAAAAElFTkSuQmCC"},_events:["initialized","itemSelected","itemCreated","itemMoved","itemReceived","columnSelected","columnUnselected","columnCollapsed","columnExpanded","itemAttrClicked","columnAttrClicked"]};c.extend(true,this,a)},createInstance:function(){var a=this;c("#"+a.element.id).empty();a._createKanban()},_createKanban:function(){var d=this;d._ie8Plugin();d._kanbanId=d.element.id;var a=function(){d._getParent();d._createKanbanField();d._createKanbanLayout();d._addCSS();var e=function(){d._setKanbanConnections();d._transformToSortable();d._addEventHandlers();d._rtlCheck();d._refreshEventHandlers();d._recalculateContainersHeight();d._handlerExpandCollapse();d._raiseEvent("0");d._ready()};d._populateKanban(e)};d._serializeSource(a)},_getParent:function(){var a=this;a._parentsTag=a.host.parent().get(0).tagName.toLowerCase()},_createKanbanField:function(){var d=this;var a=d.columns.length;if(d.width==null&&d.height==null){if(d._parentsTag=="body"){d.width=c(window).innerWidth();d.height=c(window).innerHeight();if(d._ie7||d._ie8){d.host.height(d.height)}d.host.addClass(this.toThemeProperty("jqx-kanban-full-frame"))}else{d.width=d.host.parent().width();d.height=d.host.parent().height();d.host.addClass(this.toThemeProperty("jqx-kanban-in-frame"))}}else{if(d.width!=null&&d.height==null){if(d.width<=d.headerWidth*a){throw new Error("jqxKanban: Insert valid Kanban dimensions. Width must be greather than sum of the collapsed header's width")}d.host.width(d.width)}else{if(d.heigth!=null&&d.width==null){if(d.height<=d.headerHeight){throw new Error("jqxKanban: Insert valid Kanban dimensions. Height must be greather than headerHeight")}d.host.heigth(d.heigth)}else{if(d.width<=d.headerWidth*a){throw new Error("jqxKanban: Insert valid Kanban dimensions. Width must be greather than sum of the collapsed header's width")}if(d.height<=d.headerHeight){throw new Error("jqxKanban: Insert valid Kanban dimensions. Height must be greather than headerHeight")}d.host.width(d.width);d.host.height(d.height)}}}d.host.addClass(this.toThemeProperty("jqx-widget"))},_createKanbanLayout:function(){var z=this;var a=z.columns.length;z._expandedColumns=a;var w=z._calculateColumnDimensions(a);var u=z._calculateContainerDimensions(a);for(var B=0;B<a;B++){var C=c("<div id='"+z._kanbanId+"-column-"+B+"' class='jqx-kanban-column' data-column-data-field='"+z.columns[B].dataField+"' style='width:"+w[0]+"; height:"+w[1]+";'></div>");if(z.columns[B].maxItems===undefined){z.columns[B].maxItems=9999}z._columns.push(C);z.host.append(C);var A="jqx-kanban-column-vertical-container";var D=z.columns[B].collapseDirection;if(!D){D="left"}if(D=="right"){A="jqx-kanban-column-vertical-container-inverse"}var G=z.columns[B].iconClassName?z.toThemeProperty(z.columns[B].iconClassName):"";var F=G?"<div class='"+z.toThemeProperty("jqx-window-collapse-button-background jqx-kanban-column-header-custom-button")+"'><div style='width: 100%; height: 100%;' class='"+G+"'></div></div>":"";var H=G?"<div class='"+z.toThemeProperty("jqx-window-collapse-button-background jqx-kanban-column-header-custom-button")+"'><div style='width: 100%; height: 100%;' class='"+G+"'></div></div>":"";var E=c("<div id='"+z._kanbanId+"-column-header-collapsed-"+B+"' data-kanban-column-header-collapsed='"+B+"' class='"+z.toThemeProperty("jqx-kanban-column-header-collapsed")+"'><div class='"+A+"'><span class='"+z.toThemeProperty("jqx-kanban-column-header-title")+"'>"+z.columns[B].text+"</span><span class='"+z.toThemeProperty("jqx-kanban-column-header-status")+"'></span></div>"+F+"<div class='"+z.toThemeProperty("jqx-window-collapse-button-background jqx-kanban-column-header-button")+"'><div style='width: 100%; height: 100%;' class='"+z.toThemeProperty("jqx-window-collapse-button "+(D=="right"?"jqx-icon-arrow-left":"jqx-icon-arrow-right"))+"'></div></div></div>");C.append(E);var v=c("<div id='"+z._kanbanId+"-column-header-"+B+"' data-kanban-column-header='"+B+"' class='"+z.toThemeProperty("jqx-kanban-column-header")+"'><span class='"+z.toThemeProperty("jqx-kanban-column-header-title")+"'>"+z.columns[B].text+"</span><span class='"+z.toThemeProperty("jqx-kanban-column-header-status")+"'></span>"+H+"<div class='"+z.toThemeProperty("jqx-window-collapse-button-background jqx-kanban-column-header-button")+"'><div style='width: 100%; height: 100%;' class='"+z.toThemeProperty("jqx-window-collapse-button "+(D=="right"?"jqx-icon-arrow-right":"jqx-icon-arrow-left"))+"'></div></div></div>");if(z.rtl){v.find(".jqx-kanban-column-header-button").addClass("jqx-kanban-column-header-button-rtl");v.find(".jqx-kanban-column-header-custom-button").addClass("jqx-kanban-column-header-custom-button-rtl")}v.outerHeight(z.headerHeight);v.css("line-height",z.headerHeight+"px");C.append(v);var s=c("<div id='"+z._kanbanId+"-column-container-"+B+"' data-kanban-column-container='"+z.columns[B].dataField+"' class='jqx-kanban-column-container' style='height:"+u[1]+"; overflow-y: auto;'></div>");C.append(s);C.data("kanban-column-collapsed",false);z.columns[B].headerElement=v;z.columns[B].collapsedHeaderElement=E;if(z.columnRenderer){z.columnRenderer(v,E,z.columns[B])}if(D=="left"){var t=v.find(".jqx-kanban-column-header-title").width();t+=v.find(".jqx-kanban-column-header-status").width();t-=10;C.find(".jqx-kanban-column-header-title").css("left",-t+"px");C.find(".jqx-kanban-column-header-status").css("left",-t+"px")}if(z.columns[B].collapsible===false){C.find(".jqx-kanban-column-header-button").hide()}}if(a==1){z.host.find(".jqx-kanban-column-header-button").hide()}},_calculateColumnDimensions:function(q){var h=this;var l=[];var o=100/q;var a=100;var n=100;if(this.host.height()==0){this.host.height(400)}if(this.host.width()==0){this.host.width(600)}if(h._ie7){o=this.host.width()/q-(this._columnBorders[1]+this._columnBorders[3]);a=this.host.height()-(this._columnBorders[0]+this._columnBorders[2]);n=a-this.headerHeight;o=o+"px";a=a+"px";n=n+"px"}else{n=this.host.height()-c("#"+h._kanbanId+" div.jqx-kanban-column-header").outerHeight();o=o+"%";a=a+"%";n=n+"px"}l.push(o);l.push(a);l.push(n);return l},_calculateContainerDimensions:function(o){var h=this;var l=[];var n=100;var a=100;if(h._ie7){n=this.host.width()/o-20;a=this.host.height()-this.headerHeight;n=n+"px";a=a+"px"}else{a=this.host.height()-this.headerHeight;n=n+"%";a=a+"px"}l.push(n);l.push(a);return l},_recalculateContainersHeight:function(){var s=this;var t=document.getElementById(s._kanbanId+"-column-header-0");var q=parseInt(getComputedStyle(t).getPropertyValue("margin-top"));var u=parseInt(getComputedStyle(t).getPropertyValue("margin-Bottom"));var a=document.getElementById(s._kanbanId+"-column-container-0");var o=parseInt(getComputedStyle(a).getPropertyValue("margin-top"));var w=parseInt(getComputedStyle(a).getPropertyValue("margin-Bottom"));var l=document.getElementById(s._kanbanId+"-column-header-0").offsetHeight+q+u;var n=o+w;var v=this.host.height()-l-n;c("#"+s._kanbanId+" div.jqx-kanban-column-container").outerHeight(v)},_addCSS:function(){var d=this;c(d.host).addClass(d.toThemeProperty("jqx-kanban"));c("#"+d._kanbanId+" div.jqx-kanban-column").addClass(d.toThemeProperty("jqx-widget-content"));c("#"+d._kanbanId+" div.jqx-kanban-column-header").addClass(d.toThemeProperty("jqx-widget-header"));c("#"+d._kanbanId+" div.jqx-kanban-column-header-collapsed").addClass(d.toThemeProperty("jqx-widget-header"));c("#"+d._kanbanId+" div.jqx-kanban-column-container").addClass(d.toThemeProperty("jqx-widget-content"));if(d._ie8||d._ie7){c("#"+d._kanbanId+"-column-0").addClass(d.toThemeProperty("jqx-kanban-column-first"))}else{d._columnBorders[0]=c("#"+d._kanbanId+" div.jqx-kanban-column:first-of-type").css("border-top-width").slice(0,-2);d._columnBorders[1]=c("#"+d._kanbanId+" div.jqx-kanban-column:first-of-type").css("border-right-width").slice(0,-2);d._columnBorders[2]=c("#"+d._kanbanId+" div.jqx-kanban-column:first-of-type").css("border-bottom-width").slice(0,-2);d._columnBorders[3]=c("#"+d._kanbanId+" div.jqx-kanban-column:first-of-type").css("border-top-width").slice(0,-2)}if(d.verticalTextOrientation=="bottomToTop"){var a=c("#"+d._kanbanId).find(".jqx-kanban-column-vertical-container");a.removeClass("jqx-kanban-column-vertical-container");a.addClass("jqx-kanban-column-vertical-container-inverse")}},_rtlCheck:function(){var a=this;if(a.rtl==true){c(a.host).addClass(a.toThemeProperty("jqx-kanban-rtl"));c("#"+a._kanbanId+" div.jqx-kanban-column-container").addClass(a.toThemeProperty("jqx-kanban-rtl"));c("#"+a._kanbanId+" div.jqx-kanban-item-keyword").addClass(a.toThemeProperty("jqx-kanban-item-keyword-rtl"))}},_serializeSource:function(l){var h=this;h._source=[];h._sourceKeys=[];var a=function(d){for(var f=0;f<d.length;f++){var e={};e.id=d[f].id!=undefined?d[f].id:h.element.id+"_"+f;e.status=d[f].status||h.templateContent.status;e.text=d[f].text||h.templateContent.text;e.content=d[f].content||h.templateContent.content;e.tags=d[f].tags||h.templateContent.tags;e.color=d[f].color||h.templateContent.color;e.resourceId=d[f].resourceId||h.templateContent.resourceId;e.className=d[f].className||h.templateContent.className;h._source.push(e);h._sourceKeys[e.id]=e}l()};var n=h.source&&h.source.dataBind;if(n){var o=h.element.id;h.source.dataBind();if(h.source.records.length==0){var q=function(){a(h.source.records)};h.source.unbindDownloadComplete(o);h.source.bindDownloadComplete(o,q)}else{a(h.source.records)}h.source.unbindBindingUpdate(o);h.source.bindBindingUpdate(o,function(){a(h.source.records)});return}a(h.source)},_populateKanban:function(n){var l=this;var q=0;if(l._source!==null){q=l._source.length||0}l._resources=new Array();var s=function(z){l._resources=z;if(z!==null&&z!==undefined){l._resourcesLength=z.length;for(var u=0;u<l._resourcesLength;u++){if(z[u].common==true){l._commonItem=z[u]}}}for(var u=0;u<q;u++){var e=c(l.template);e.data("kanban-item-id",l._source[u].id);var h=l._commonItem;for(var v=0;v<l._resourcesLength;v++){if(z[v].id==l._source[u].resourceId){h=z[v]}}var A="<img class='jqx-kanban-item-avatar-image' alt='"+h.name+"' title='"+h.name+"' src='"+h.image+"' />";e.addClass(l.toThemeProperty("jqx-rc-all"));e.find(".jqx-kanban-item-avatar").append(A);if(l.theme!=""){e.addClass(l.toThemeProperty("jqx-kanban-item"))}var f=l.host.find("[data-kanban-column-container='"+l._source[u].status+"']");e.find(".jqx-kanban-item-color-status").css({"background-color":l._source[u].color});if(l.rtl){e.find(".jqx-kanban-item-color-status").addClass("jqx-kanban-item-color-status-rtl");e.find(".jqx-kanban-item-avatar").addClass("jqx-kanban-item-avatar-rtl")}e.find(".jqx-kanban-item-text").append(l._source[u].text);e.find(".jqx-kanban-item-content").append(l._source[u].content);var w="";var d=[];if((l._source[u].tags!==null)&&(l._source[u].tags!==undefined)){d=l._source[u].tags.replace(/\,\s/g,",").split(",")}d.forEach(function(B){w=w+"<div class='"+l.toThemeProperty("jqx-kanban-item-keyword jqx-fill-state-normal jqx-rc-all")+"'>"+B+"</div>"});w=w+l._clearing;e.find(".jqx-kanban-item-footer").append(w);e.append(l._clearing);e.attr("id",l._kanbanId+"_"+l._source[u].id);if((l._source[u].className!==null)&&(l._source[u].className!==undefined)){e.addClass(l.toThemeProperty(l._source[u].className))}if(l.itemRenderer){l.itemRenderer(e,l._source[u],h)}f.append(e);l._items[l._source[u].id]=e}n()};var o=l.resources&&l.resources.dataBind;if(o){var t=l.element.id;l.resources.dataBind();if(l.resources.records.length==0){var a=function(){s(l.resources.records)};l.resources.unbindDownloadComplete(t);l.resources.bindDownloadComplete(t,a)}else{s(l.resources.records)}l.resources.unbindBindingUpdate(t);l.resources.bindBindingUpdate(t,function(){s(l.resources.records)});return}else{l._resources=l.resources;s(l.resources)}c("#"+l._kanbanId+" div.jqx-kanban-item").addClass(this.toThemeProperty("jqx-widget-content"))},_ready:function(){var a=this;if((a.ready!=null)&&(typeof a.ready==="function")){a.ready()}},collapseColumn:function(d){for(var a=0;a<this.columns.length;a++){if(this.columns[a].dataField==d){this._collapseColumn(a);return true}}return false},expandColumn:function(d){for(var a=0;a<this.columns.length;a++){if(this.columns[a].dataField==d){this._expand(a);return true}}return false},_collapseColumn:function(a){var e=this;var f=a||0;c("#"+e._kanbanId+"-column-header-collapsed-"+f).addClass(e.toThemeProperty("jqx-kanban-column-header-collapsed-show"));c("#"+e._kanbanId+"-column-header-"+f).addClass(e.toThemeProperty("jqx-kanban-column-hide"));c("#"+e._kanbanId+"-column-container-"+f).addClass(e.toThemeProperty("jqx-kanban-column-hide"));if(e._ie8||e._ie7){c("#"+e._kanbanId+" .jqx-kanban-column-vertical-container").addClass(e.toThemeProperty("jqx-kanban-column-vertical-container-ie8-fix"));c("#"+e._kanbanId+" .jqx-kanban-column-vertical-container-inverse").addClass(e.toThemeProperty("jqx-kanban-column-vertical-container-inverse-ie8-fix"))}e._columns[f].data("kanban-column-collapsed",true);e.columns[f].collapsed=true;e._calculateExpandedColumnsWidth();e._raiseEvent("7",{column:e.columns[f]})},_expandColumn:function(a){var e=this;var f=a||0;c("#"+e._kanbanId+"-column-header-collapsed-"+f).removeClass(e.toThemeProperty("jqx-kanban-column-header-collapsed-show"));c("#"+e._kanbanId+"-column-header-"+f).removeClass(e.toThemeProperty("jqx-kanban-column-hide"));c("#"+e._kanbanId+"-column-container-"+f).removeClass(e.toThemeProperty("jqx-kanban-column-hide"));e.columns[f].collapsed=false;e._columns[f].data("kanban-column-collapsed",false);e._calculateExpandedColumnsWidth();e._raiseEvent("8",{column:e.columns[f]})},_calculateExpandedColumnsWidth:function(){var o=this;var n=o._columns.length;o._collapsedColumns=0;o._expandedColumns=0;var t=0;var a=o.headerWidth;for(var s=0;s<n;s++){if(o._columns[s].data("kanban-column-collapsed")==true){o._collapsedColumns++}else{o._expandedColumns++}}t=(o.host.width()-o.headerWidth*o._collapsedColumns)/o._expandedColumns;var v=t-(this._columnBorders[1]+this._columnBorders[3]);if(o._ie7){t=v;a=o.headerWidth-2}if(o.width&&o.width.toString().indexOf("%")>=0){var u=(o.host.width()+2)/100;var q=1/u;var l=a*q;for(var s=0;s<n;s++){if(o._columns[s].data("kanban-column-collapsed")==true){o._columns[s][0].style.width=l+"%"}else{o._columns[s][0].style.width=(t*q+"%")}}return}for(var s=0;s<n;s++){if(o._columns[s].data("kanban-column-collapsed")==true){o._columns[s].outerWidth(a)}else{o._columns[s].outerWidth(t)}}},_handlerExpandCollapse:function(){var d=this;var a=0;d.addHandler(c("#"+d._kanbanId+" .jqx-kanban-column-header"),"click",function(h){var n=c(this).parent().index();var l=d.columns[n];var o={attribute:"title",column:l,cancelToggle:false};if(c(h.target).parent()[0].className.indexOf("jqx-kanban-column-header-custom-button")>=0){var o={attribute:"button",column:l,cancelToggle:false}}d._raiseEvent("10",o);if(!o.cancelToggle){if(d._expandedColumns>1){if(l.collapsible===false){return}d._collapseColumn(n)}}});d.addHandler(c("#"+d._kanbanId+" .jqx-kanban-column-header-collapsed"),"click",function(h){var n=c(this).parent().index();var n=c(this).parent().index();var l=d.columns[n];var o={attribute:"title",cancelToggle:false,column:l};if(c(h.target).parent()[0].className.indexOf("jqx-kanban-column-header-custom-button")>=0){var o={attribute:"button",cancelToggle:false,column:l}}d._raiseEvent("10",o);if(!o.cancelToggle){d._expandColumn(n)}})},_setKanbanConnections:function(){var a=this;a._kanbanColumns="#"+a._kanbanId+" div.jqx-kanban-column-container";a._connectWith=a._kanbanColumns;if(a.connectWith!=null){var d=a.connectWith.replace(/\,\s/g,",").split(",");d.forEach(function(e){a._connectWith=a._connectWith+", "+e+" div.jqx-kanban-column-container"})}},_transformToSortable:function(){var d=this;for(var a=0;a<c(d._kanbanColumns).length;a++){c(c(d._kanbanColumns)[a]).jqxSortable({connectWith:d._connectWith,maxItems:d.columns[a].maxItems||9999,cancel:".jqx-kanban-column-container-cancel",placeholderShow:"jqx-kanban-item-placeholder",revert:d.animationDelay,cursor:"move",tolerance:"pointer",containment:"window"})}c.jqx.utilities.resize(d.host,null,true);c.jqx.utilities.resize(d.host,function(){for(var e=0;e<c(d._kanbanColumns).length;e++){c(c(d._kanbanColumns)[e]).jqxSortable({containment:"window"})}});if(d.handle!==null){c(d._kanbanColumns).jqxSortable({handle:"."+d.handle});c("#"+d._kanbanId+" ."+d.handle).addClass("jqx-kanban-handle")}},_calculateItemsPerColumn:function(a){var d=this},_calculateRestrictions:function(){var a=this},_redrawColumnHeader:function(a,e){var f=this},addItem:function(u){var s=this;var F=u.id;var C=(s._source!=null)?s._source.length:0;if(F==undefined){F=C}var a=s._kanbanId+"_"+F;s._source=(s._source!=null)?s._source:[];var B=null;if(s._css_color_names.indexOf(u.color)>-1){B=u.color}else{if(/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(u.color)){B=u.color}else{if(/(^[0-9A-F]{6}$)|(^[0-9A-F]{3}$)/i.test(u.color)){B="#"+u.color}}}var E={id:F,status:u.status||s.templateContent.status,text:u.text||s.templateContent.text,content:u.content||s.templateContent.content,tags:u.tags||s.templateContent.tags,color:B||s.templateContent.color,resourceId:u.resourceId||s.templateContent.resourceId,className:u.className||s.templateContent.className};var D=this.getColumn(E.status);if(!D.maxItems){D.maxItems=9999}if(D.maxItems<this.getColumnItems(D.dataField).length+1){return}var w=s._commonItem;for(var z=0;z<s._resources.length;z++){if(s._resources[z].id==E.resourceId){w=s._resources[z]}}var v=s.host.find("[data-kanban-column-container='"+E.status+"']");var u=c(s.template);if(s.theme!=""){u.addClass(s.toThemeProperty("jqx-kanban-item"))}u.find(".jqx-kanban-item-color-status").css({"background-color":E.color});var q="<img class='jqx-kanban-item-avatar-image' alt='"+w.name+"' title='"+w.name+"' src='"+w.image+"' />";u.find(".jqx-kanban-item-avatar").append(q);u.find(".jqx-kanban-item-text").append(E.text);u.find(".jqx-kanban-item-content").append(E.content);var t=E.tags.replace(/\,\s/g,",").split(",");var A="";t.forEach(function(d){A=A+"<div class='"+s.toThemeProperty("jqx-kanban-item-keyword jqx-fill-state-normal jqx-rc-all")+"'>"+d+"</div>"});A=A+"<div style='clear:both'></div>";u.find(".jqx-kanban-item-footer").append(A);v.append(u);c("#"+s._kanbanId+" .jqx-kanban-item").removeClass(this.toThemeProperty("jqx-widget-content jqx-rc-all"));c("#"+s._kanbanId+" .jqx-kanban-item").addClass(this.toThemeProperty("jqx-widget-content jqx-rc-all"));u.attr("id",a);s._source[C]=E;s._sourceKeys[F]=E;u.data("kanban-item-id",C);if((E.className!==null)&&(E.className!==undefined)){u.addClass(this.toThemeProperty(E.className))}if(s.itemRenderer){s.itemRenderer(u,E,w)}var D=this.getColumn(E.status);if(D){if(s.columnRenderer){s.columnRenderer(D.headerElement,D.collapsedHeaderElement,D);s._updateColumnTitle(D)}}s._raiseEvent("2",{itemId:a});s._refreshEventHandlers()},_updateColumnTitle:function(d){if(d.collapseDirection=="left"){var a=d.headerElement.find(".jqx-kanban-column-header-title").width();a+=d.headerElement.find(".jqx-kanban-column-header-status").width();a-=10;d.headerElement.find(".jqx-kanban-column-header-title").css("left",-a+"px");d.headerElement.find(".jqx-kanban-column-header-status").css("left",-a+"px")}},_selectItem:function(h){var l=this;var a=h.data.self;a._selectedItemId=c(l).attr("id");c("#"+a._kanbanId+" .jqx-kanban-item").removeClass(a.toThemeProperty("jqx-kanban-item-selected"));c(l).addClass(a.toThemeProperty("jqx-kanban-item-selected"));var f=c(this).data().kanbanItemId;a._selectedId=f;a._raiseEvent("1",{item:a._sourceKeys[f]});a._refreshEventHandlers()},selectItem:function(e){var a=this;var f=c("#"+a._kanbanId+"_"+e);if(f.length==0){return}c("#"+self._kanbanId+" .jqx-kanban-item").removeClass(self.toThemeProperty("jqx-kanban-item-selected"));c(f).addClass(a.toThemeProperty("jqx-kanban-item-selected"));a._selectedId=e},_selectColumn:function(s){var t=this;var a=s.data.self;var n=c(t).attr("data-column-data-field");var o,q;var l=a.columns.length;for(var u=0;u<l;u++){if(a.columns[u].dataField==n){q=u}if(a.columns[u].dataField==a._selectedColumn){o=u}}c("#"+a._kanbanId+" .jqx-kanban-column").removeClass(a.toThemeProperty("jqx-kanban-column-selected"));c(t).addClass(a.toThemeProperty("jqx-kanban-column-selected"));if((a._selectedColumn!=null)&&(a._selectedColumn!=n)){a._raiseEvent("6",{column:a._selectedColumn,dataField:o})}a._selectedColumn=n;a._raiseEvent("5",{column:a._selectedColumn,dataField:q})},getSelectedColumn:function(){var a=this;return a._selectedColumn},_removeSourceIndexById:function(e){var f=this;var a=-1;c.each(f._source,function(h,d){if(this&&this.id==e){a=h;return false}});if(a!=-1){f._source.splice(a,1)}f._sourceKeys[e]=null;delete f._sourceKeys[e]},removeItem:function(h){var o=this;var l="#"+o._kanbanId+"_"+h;var n=h.toString().replace(o._kanbanId+"_","");c(l).remove();var a=this.getColumn(o._sourceKeys[h].status);o._items[n]=null;o._removeSourceIndexById(h);o._sourceKeys[h]=null;if(a){if(o.columnRenderer){o.columnRenderer(a.headerElement,a.collapsedHeaderElement,a);o._updateColumnTitle(a)}}o._selectedItemId=null},updateItem:function(s,t){var u=this;var C=c("#"+u._kanbanId+"_"+s);if(C.length==0){return}var H=C.data("kanban-item-id");var G=u._sourceKeys[H];var F=G.className||"";var B=null;if(u._css_color_names.indexOf(t.color)>-1){B=t.color}else{if(/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t.color)){B=t.color}else{if(/(^[0-9A-F]{6}$)|(^[0-9A-F]{3}$)/i.test(t.color)){B="#"+t.color}}}var D={id:G.id,status:G.status,text:t.text||G.text,content:t.content||G.content,tags:t.tags||G.tags,color:B||G.color,resourceId:t.resourceId||G.resourceId,className:t.className||G.className};u._source[H]=D;u._sourceKeys[H]=D;var w=u._commonItem;for(var z=0;z<u._resources.length;z++){if(u._resources[z].id==D.resourceId){w=u._resources[z]}}var a="<img class='jqx-kanban-item-avatar-image' alt='"+w.name+"' title='"+w.name+"' src='"+w.image+"' />";C.find(".jqx-kanban-item-avatar").html(a);C.find(".jqx-kanban-item-color-status").css({"background-color":D.color});C.find(".jqx-kanban-item-text").html(D.text);C.find(".jqx-kanban-item-content").html(D.content);var v=D.tags.replace(/\,\s/g,",").split(",");var A="";v.forEach(function(d){A=A+"<div class='"+u.toThemeProperty("jqx-kanban-item-keyword jqx-fill-state-normal jqx-rc-all")+"'>"+d+"</div>"});A=A+"<div style='clear:both'></div>";C.find(".jqx-kanban-item-footer").html(A);if((D.className!==null)&&(D.className!==undefined)){C.removeClass(this.toThemeProperty(F));C.addClass(this.toThemeProperty(D.className))}if(u.itemRenderer){u.itemRenderer(newItem,D,w)}var E=this.getColumn(D.status);if(E){if(u.columnRenderer){u.columnRenderer(E.headerElement,E.collapsedHeaderElement,E);u._updateColumnTitle(E)}}},getSelectedItem:function(){var a=this;var d=a._sourceKeys[a._selectedId];return d},getColumn:function(d){for(var a=0;a<this.columns.length;a++){if(this.columns[a].dataField==d){return this.columns[a]}}return null},getColumnItems:function(h){var l=this;var n=[];var a=l._source.length;for(var o=0;o<a;o++){if(l._source[o]!=null&&l._source[o].status==h){n.push(l._source[o])}}return n},getItems:function(){var a=this;if(a._source!==null){return a._source.filter(function(d){return(d!=null)})}else{return null}},_ie8Plugin:function(){if(typeof Array.prototype.forEach!="function"){Array.prototype.forEach=function(d){for(var a=0;a<this.length;a++){d.apply(this,[this[a],a,this])}}}if(!window.getComputedStyle){window.getComputedStyle=function(a,d){this.el=a;this.getPropertyValue=function(f){var h=/(\-([a-z]){1})/g;if(f=="float"){f="styleFloat"}if(h.test(f)){f=f.replace(h,function(){return arguments[2].toUpperCase()})}return a.currentStyle[f]?a.currentStyle[f]:null};return this}}},_addEventHandlers:function(){var a=this;a.addHandler(c(window),"resize.kanban"+a.element.id,function(d){a._recalculateContainersHeight();a._calculateExpandedColumnsWidth()});a.addHandler(c(a._kanbanColumns),"start",function(e){a._selectedItemId=e.args.item.context.id;a._draggedItemId=a._selectedItemId;a._draggedItemDataId=c("#"+a._draggedItemId).data().kanbanItemId;a._draggedItemValues=a._sourceKeys[a._draggedItemDataId];a._selectedItemValues=a._draggedItemValues;var f=c("#"+a._draggedItemId).height();c(".jqx-kanban-item-placeholder").height(f)});a.addHandler(c(a._kanbanColumns),"stop",function(z){var q=c("#"+a._draggedItemId).parent().attr("data-kanban-column-container");var s=q;var w=null;for(var t=0;t<a.columns.length;t++){if(a.columns[t].dataField==s){w=a.columns[t];break}}if(a._sourceKeys[a._draggedItemDataId]){var v=null;var n=c("#"+a._kanbanId).jqxKanban("columns");var u=a._sourceKeys[a._draggedItemDataId].status;for(var t=0;t<n.length;t++){if(n[t].dataField==u){v=n[t];break}}if(a._kanbanId!==a._dropKanbanId){a._raiseEvent("3",{oldParentId:a._kanbanId,newParentId:a._dropKanbanId,itemId:a._selectedId,newColumn:w,oldColumn:v,itemData:a._draggedItemValues});var o=a._source.length;a._draggedItemValues.status=q;c("#"+a._dropKanbanId).trigger("_itemReceived",[a._selectedItemId,a._kanbanId,a._dropKanbanId,a._draggedItemValues,a._selectedId,w,v]);a._sourceKeys[a._draggedItemDataId]=null}else{a._raiseEvent("3",{newColumn:w,oldColumn:v,oldParentId:a._kanbanId,newParentId:a._dropKanbanId,itemId:a._selectedId,itemData:a._draggedItemValues});a._raiseEvent("4",{newColumn:w,oldColumn:v,oldParentId:a._kanbanId,newParentId:a._dropKanbanId,itemId:a._selectedId,itemData:a._draggedItemValues});a._sourceKeys[a._draggedItemDataId].status=q}if(a.columnRenderer){for(var t=0;t<a.columns.length;t++){if(a.columns[t].dataField==s){a.columnRenderer(a.columns[t].headerElement,a.columns[t].collapsedHeaderElement,a.columns[t]);a._updateColumnTitle(a.columns[t])}if(a.columns[t].dataField==u){a.columnRenderer(a.columns[t].headerElement,a.columns[t].collapsedHeaderElement,a.columns[t]);a._updateColumnTitle(a.columns[t])}}}}a._draggedItemDataId=null;a._draggedItemId=null;a._draggedItemValues=null});a.addHandler(c(a._kanbanColumns),"sort",function(d){a._dropKanbanId=c(".jqx-kanban-item-placeholder").parent().parent().parent().attr("id")});a.addHandler(c(a.host),"_itemReceived",function(I,v,u,A,F){a._raiseEvent("4",{itemId:v,oldParentId:u,newParentId:A,itemData:F});var J=c("#"+v);var z=c(a.template);if(a.theme!=""){z.addClass(a.toThemeProperty("jqx-kanban-item"))}z.data("kanban-item-id",F.id);var B=a._commonItem;for(var D=0;D<a._resources.length;D++){if(a._resources[D].id==F.resourceId){B=a._resources[D]}}var t="<img class='jqx-kanban-item-avatar-image' alt='"+B.name+"' title='"+B.name+"' src='"+B.image+"' />";z.find(".jqx-kanban-item-avatar").append(t);z.find(".jqx-kanban-item-text").append(F.text);z.find(".jqx-kanban-item-color-status").css({"background-color":F.color});z.find(".jqx-kanban-item-content").append(F.content);var w=F.tags.replace(/\,\s/g,",").split(",");var E="";w.forEach(function(d){E=E+"<div class='"+a.toThemeProperty("jqx-kanban-item-keyword jqx-fill-state-normal jqx-rc-all")+"'>"+d+"</div>"});E=E+"<div style='clear:both'></div>";z.find(".jqx-kanban-item-footer").append(E);z.attr("id",a._kanbanId+"_"+F.id);J.replaceWith(z);c("#"+A+" div.jqx-kanban-item").addClass(a.toThemeProperty("jqx-widget-content"));if((F.className!==null)&&(F.className!==undefined)){z.addClass(a.toThemeProperty(F.className))}c("#"+A+" div.jqx-kanban-item").removeClass(a.toThemeProperty("jqx-kanban-item-selected"));c("#"+v).addClass(a.toThemeProperty("jqx-kanban-item-selected"));c("#"+A).jqxKanban("_refreshEventHandlers");a._source.push(F);var G=c("#"+A).jqxKanban("getInstance");var H=c("#"+u).jqxKanban("getInstance");G._sourceKeys[F.id]=F;H._removeSourceIndexById(F.id);if(G.columnRenderer){for(var C=0;C<G.columns.length;C++){G.columnRenderer(G.columns[C].headerElement,G.columns[C].collapsedHeaderElement,G.columns[C])}}if(H.columnRenderer){for(var C=0;C<H.columns.length;C++){H.columnRenderer(H.columns[C].headerElement,H.columns[C].collapsedHeaderElement,H.columns[C])}}});a.addHandler(c("#"+a._kanbanId+" .jqx-kanban-item"),"click",a._selectItem,{self:this});a.addHandler(c("#"+a._kanbanId+" .jqx-kanban-column"),"click",a._selectColumn,{self:this});a.addHandler(c(".jqx-kanban-item-color-status, .jqx-kanban-item-avatar, .jqx-kanban-item-text, .jqx-kanban-item-content, .jqx-kanban-item-keyword, .jqx-kanban-item-template-content"),"click",function(){var q="jqx-kanban-item-color-status jqx-kanban-item-avatar jqx-kanban-item-text jqx-kanban-item-content jqx-kanban-item-keyword jqx-kanban-item-template-content".split(" ");var o=c(this).attr("class").split(" ");var s=o.length;var l=null;var n=c(this).parents(".jqx-kanban-item").data().kanbanItemId;var u={attribute:null,item:a._sourceKeys[n],itemId:n};for(var t=0;t<s;t++){if(q.indexOf(o[t])>-1){l=o[t]}}switch(l){case"jqx-kanban-item-color-status":u.attribute="colorStatus";break;case"jqx-kanban-item-avatar":u.attribute="avatar";break;case"jqx-kanban-item-text":u.attribute="text";break;case"jqx-kanban-item-content":u.attribute="content";break;case"jqx-kanban-item-keyword":u.attribute="keyword";break;case"jqx-kanban-item-template-content":u.attribute="template";break;default:break}a._raiseEvent("9",u)})},destroy:function(){var a=this;c.jqx.utilities.resize(a.host,null,true);a._removeEventHandlers();a.host.remove()},_removeEventHandlers:function(){var a=this;a.removeHandler(c(window),"resize.kanban"+a.element.id);a.removeHandler(c(a._kanbanColumns),"start");a.removeHandler(c(a._kanbanColumns),"stop");a.removeHandler(c(a._kanbanColumns),"sort");a.removeHandler(c(a.host),"_itemReceived");a.removeHandler(c("#"+a._kanbanId+" .jqx-kanban-item"),"click");a.removeHandler(c("#"+a._kanbanId+" .jqx-kanban-column"),"click");a.removeHandler(c(".jqx-kanban-item-color-status, .jqx-kanban-item-avatar, .jqx-kanban-item-text, .jqx-kanban-item-content, .jqx-kanban-item-keyword, .jqx-kanban-item-template-content"),"click")},_refreshEventHandlers:function(){var a=this;a._removeEventHandlers();a._addEventHandlers()},_raiseEvent:function(a,e){that=this;var f=c.Event(that._events[a]);f.args=e;return that.host.trigger(f)},_getEvent:function(a){that=this;if(that._isTouchDevice){return that._touchEvents[a]}else{return a}}})})(jqxBaseFramework);
/*!
 * Globalize
 *
 * http://github.com/jquery/globalize
 *
 * Copyright Software Freedom Conservancy, Inc.
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 */
(function(Q,T){var I,D,O,C,K,E,F,G,N,Z,P,B,J,X,M,H,A,L,R,S,W,U,V,Y;I=function(a){return new I.prototype.init(a)};if(typeof require!=="undefined"&&typeof exports!=="undefined"&&typeof module!=="undefined"){module.exports=I}else{Q.Globalize=I}I.cultures={};I.prototype={constructor:I,init:function(a){this.cultures=I.cultures;this.cultureSelector=a;return this}};I.prototype.init.prototype=I.prototype;I.cultures["default"]={name:"en",englishName:"English",nativeName:"English",isRTL:false,language:"en",numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSizes:[3],"+":"+","-":"-","NaN":"NaN",negativeInfinity:"-Infinity",positiveInfinity:"Infinity",percent:{pattern:["-n %","n %"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"$"}},calendars:{standard:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy\u0027-\u0027MM\u0027-\u0027dd\u0027T\u0027HH\u0027:\u0027mm\u0027:\u0027ss"}}},messages:{}};I.cultures["default"].calendar=I.cultures["default"].calendars.standard;I.cultures.en=I.cultures["default"];I.cultureSelector="en";D=/^0x[a-f0-9]+$/i;O=/^[+\-]?infinity$/i;C=/^[+\-]?\d*\.?\d*(e[+\-]?\d+)?$/;K=/^\s+|\s+$/g;E=function(c,d){if(c.indexOf){return c.indexOf(d)}for(var a=0,e=c.length;a<e;a++){if(c[a]===d){return a}}return -1};F=function(c,a){return c.substr(c.length-a.length)===a};G=function(){var f,c,e,d,n,l,o=arguments[0]||{},q=1,a=arguments.length,h=false;if(typeof o==="boolean"){h=o;o=arguments[1]||{};q=2}if(typeof o!=="object"&&!Z(o)){o={}}for(;q<a;q++){if((f=arguments[q])!=null){for(c in f){e=o[c];d=f[c];if(o===d){continue}if(h&&d&&(P(d)||(n=N(d)))){if(n){n=false;l=e&&N(e)?e:[]}else{l=e&&P(e)?e:{}}o[c]=G(h,l,d)}else{if(d!==T){o[c]=d}}}}}return o};N=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"};Z=function(a){return Object.prototype.toString.call(a)==="[object Function]"};P=function(a){return Object.prototype.toString.call(a)==="[object Object]"};B=function(c,a){return c.indexOf(a)===0};J=function(a){return(a+"").replace(K,"")};X=function(a){if(isNaN(a)){return NaN}return Math[a<0?"ceil":"floor"](a)};M=function(c,e,d){var a;for(a=c.length;a<e;a+=1){c=(d?("0"+c):(c+"0"))}return c};H=function(f,a){var h=0,d=false;for(var e=0,l=f.length;e<l;e++){var c=f.charAt(e);switch(c){case"'":if(d){a.push("'")}else{h++}d=false;break;case"\\":if(d){a.push("\\")}d=!d;break;default:a.push(c);d=false;break}}return h};A=function(c,d){d=d||"F";var e,f=c.patterns,a=d.length;if(a===1){e=f[d];if(!e){throw"Invalid date format string '"+d+"'."}d=e}else{if(a===2&&d.charAt(0)==="%"){d=d.charAt(1)}}return d};L=function(h,c,a){var v=a.calendar,ad=v.convert,am;if(!c||!c.length||c==="i"){if(a&&a.name.length){if(ad){am=L(h,v.patterns.F,a)}else{var ac=new Date(h.getTime()),q=W(h,v.eras);ac.setFullYear(U(h,v,q));am=ac.toLocaleString()}}else{am=h.toString()}return am}var f=v.eras,ak=c==="s";c=A(v,c);am=[];var ag,e=["0","00","000"],z,w,al=/([^d]|^)(d|dd)([^d]|$)/g,an=0,o=S(),aj;function ae(ap,aa){var ab,ao=ap+"";if(aa>1&&ao.length<aa){ab=(e[aa-2]+ao);return ab.substr(ab.length-aa,aa)}else{ab=ao}return ab}function d(){if(z||w){return z}z=al.test(c);w=true;return z}function ai(aa,ab){if(aj){return aj[ab]}switch(ab){case 0:return aa.getFullYear();case 1:return aa.getMonth();case 2:return aa.getDate();default:throw"Invalid part value "+ab}}if(!ak&&ad){aj=ad.fromGregorian(h)}for(;;){var af=o.lastIndex,s=o.exec(c);var u=c.slice(af,s?s.index:c.length);an+=H(u,am);if(!s){break}if(an%2){am.push(s[0]);continue}var n=s[0],ah=n.length;switch(n){case"ddd":case"dddd":var t=(ah===3)?v.days.namesAbbr:v.days.names;am.push(t[h.getDay()]);break;case"d":case"dd":z=true;am.push(ae(ai(h,2),ah));break;case"MMM":case"MMMM":var l=ai(h,1);am.push((v.monthsGenitive&&d())?(v.monthsGenitive[ah===3?"namesAbbr":"names"][l]):(v.months[ah===3?"namesAbbr":"names"][l]));break;case"M":case"MM":am.push(ae(ai(h,1)+1,ah));break;case"y":case"yy":case"yyyy":l=aj?aj[0]:U(h,v,W(h,f),ak);if(ah<4){l=l%100}am.push(ae(l,ah));break;case"h":case"hh":ag=h.getHours()%12;if(ag===0){ag=12}am.push(ae(ag,ah));break;case"H":case"HH":am.push(ae(h.getHours(),ah));break;case"m":case"mm":am.push(ae(h.getMinutes(),ah));break;case"s":case"ss":am.push(ae(h.getSeconds(),ah));break;case"t":case"tt":l=h.getHours()<12?(v.AM?v.AM[0]:" "):(v.PM?v.PM[0]:" ");am.push(ah===1?l.charAt(0):l);break;case"f":case"ff":case"fff":am.push(ae(h.getMilliseconds(),3).substr(0,ah));break;case"z":case"zz":ag=h.getTimezoneOffset()/60;am.push((ag<=0?"+":"-")+ae(Math.floor(Math.abs(ag)),ah));break;case"zzz":ag=h.getTimezoneOffset()/60;am.push((ag<=0?"+":"-")+ae(Math.floor(Math.abs(ag)),2)+":"+ae(Math.abs(h.getTimezoneOffset()%60),2));break;case"g":case"gg":if(v.eras){am.push(v.eras[W(h,f)].name)}break;case"/":am.push(v["/"]);break;default:throw"Invalid date format pattern '"+n+"'."}}return am.join("")};(function(){var a;a=function(v,u,h){var z=h.groupSizes,e=z[0],d=1,o=Math.pow(10,u),c=Math.round(v*o)/o;if(!isFinite(c)){c=v}v=c;var w=v+"",l="",q=w.split(/e/i),n=q.length>1?parseInt(q[1],10):0;w=q[0];q=w.split(".");w=q[0];l=q.length>1?q[1]:"";var aa;if(n>0){l=M(l,n,false);w+=l.slice(0,n);l=l.substr(n)}else{if(n<0){n=-n;w=M(w,n+1,true);l=w.slice(-n,w.length)+l;w=w.slice(0,-n)}}if(u>0){l=h["."]+((l.length>u)?l.slice(0,u):M(l,u))}else{l=""}var s=w.length-1,f=h[","],t="";while(s>=0){if(e===0||e>s){return w.slice(0,s+1)+(t.length?(f+t+l):l)}t=w.slice(s-e+1,s+1)+(t.length?(f+t):"");s-=e;if(d<z.length){e=z[d];d++}}return w.slice(0,s+1)+f+t+l};R=function(h,l,u){if(!isFinite(h)){if(h===Infinity){return u.numberFormat.positiveInfinity}if(h===-Infinity){return u.numberFormat.negativeInfinity}return u.numberFormat.NaN}if(!l||l==="i"){return u.name.length?h.toLocaleString():h.toString()}l=l||"D";var c=u.numberFormat,v=Math.abs(h),t=-1,n;if(l.length>1){t=parseInt(l.slice(1),10)}var o=l.charAt(0).toUpperCase(),f;switch(o){case"D":n="n";v=X(v);if(t!==-1){v=M(""+v,t,true)}if(h<0){v="-"+v}break;case"N":f=c;case"C":f=f||c.currency;case"P":f=f||c.percent;n=h<0?f.pattern[0]:(f.pattern[1]||"n");if(t===-1){t=f.decimals}v=a(v*(o==="P"?100:1),t,f);break;default:throw"Bad number format specifier: "+o}var e=/n|\$|-|%/g,q="";for(;;){var s=e.lastIndex,d=e.exec(n);q+=n.slice(s,d?d.index:n.length);if(!d){break}switch(d[0]){case"n":q+=v;break;case"$":q+=c.currency.symbol;break;case"-":if(/[1-9]/.test(v)){q+=c["-"]}break;case"%":q+=c.percent.symbol;break}}return q}}());S=function(){return(/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g)};W=function(f,h){if(!h){return 0}var c,d=f.getTime();for(var e=0,a=h.length;e<a;e++){c=h[e].start;if(c===null||d>=c){return e}}return 0};U=function(f,d,a,c){var e=f.getFullYear();if(!c&&d.eras){e-=d.eras[a].offset}return e};(function(){var l,a,f,h,c,d,e;l=function(u,o){if(o<100){var s=new Date(),t=W(s),n=U(s,u,t),q=u.twoDigitYearMax;q=typeof q==="string"?new Date().getFullYear()%100+parseInt(q,10):q;o+=n-(n%100);if(o>q){o-=100}}return o};a=function(n,o,s){var t,u=n.days,q=n._upperDays;if(!q){n._upperDays=q=[e(u.names),e(u.namesAbbr),e(u.namesShort)]}o=d(o);if(s){t=E(q[1],o);if(t===-1){t=E(q[2],o)}}else{t=E(q[0],o)}return t};f=function(u,v,q){var t=u.months,s=u.monthsGenitive||u.months,n=u._upperMonths,w=u._upperMonthsGen;if(!n){u._upperMonths=n=[e(t.names),e(t.namesAbbr)];u._upperMonthsGen=w=[e(s.names),e(s.namesAbbr)]}v=d(v);var o=E(q?n[1]:n[0],v);if(o<0){o=E(q?w[1]:w[0],v)}return o};h=function(ah,u){var s=ah._parseRegExp;if(!s){ah._parseRegExp=s={}}else{var ad=s[u];if(ad){return ad}}var v=A(ah,u).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),z=["^"],ag=[],aa=0,ae=0,n=S(),ac;while((ac=n.exec(v))!==null){var o=v.slice(aa,ac.index);aa=n.lastIndex;ae+=H(o,z);if(ae%2){z.push(ac[0]);continue}var af=ac[0],ab=af.length,t;switch(af){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":t="(\\D+)";break;case"tt":case"t":t="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":t="(\\d{"+ab+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":t="(\\d\\d?)";break;case"zzz":t="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":t="([+-]?\\d\\d?)";break;case"/":t="(\\/)";break;default:throw"Invalid date format pattern '"+af+"'."}if(t){z.push(t)}ag.push(ac[0])}H(v.slice(aa),z);z.push("$");var q=z.join("").replace(/\s+/g,"\\s+"),w={regExp:q,groups:ag};return s[u]=w};c=function(n,q,o){return n<q||n>o};d=function(n){return n.split("\u00A0").join(" ").toUpperCase()};e=function(s){var n=[];for(var o=0,q=s.length;o<q;o++){n[o]=d(s[o])}return n};V=function(aN,aG,aF){aN=J(aN);var u=aF.calendar,aA=h(u,aG),ar=new RegExp(aA.regExp).exec(aN);if(ar===null){return null}var aE=aA.groups,n=null,w=null,aB=null,aC=null,v=null,au=0,aK,aL=0,aD=0,az=0,ax=null,t=false;for(var aJ=0,aH=aE.length;aJ<aH;aJ++){var ay=ar[aJ+1];if(ay){var aO=aE[aJ],av=aO.length,at=parseInt(ay,10);switch(aO){case"dd":case"d":aC=at;if(c(aC,1,31)){return null}break;case"MMM":case"MMMM":aB=f(u,ay,av===3);if(c(aB,0,11)){return null}break;case"M":case"MM":aB=at-1;if(c(aB,0,11)){return null}break;case"y":case"yy":case"yyyy":w=av<4?l(u,at):at;if(c(w,0,9999)){return null}break;case"h":case"hh":au=at;if(au===12){au=0}if(c(au,0,11)){return null}break;case"H":case"HH":au=at;if(c(au,0,23)){return null}break;case"m":case"mm":aL=at;if(c(aL,0,59)){return null}break;case"s":case"ss":aD=at;if(c(aD,0,59)){return null}break;case"tt":case"t":t=u.PM&&(ay===u.PM[0]||ay===u.PM[1]||ay===u.PM[2]);if(!t&&(!u.AM||(ay!==u.AM[0]&&ay!==u.AM[1]&&ay!==u.AM[2]))){return null}break;case"f":case"ff":case"fff":az=at*Math.pow(10,3-av);if(c(az,0,999)){return null}break;case"ddd":case"dddd":v=a(u,ay,av===3);if(c(v,0,6)){return null}break;case"zzz":var aw=ay.split(/:/);if(aw.length!==2){return null}aK=parseInt(aw[0],10);if(c(aK,-12,13)){return null}var ap=parseInt(aw[1],10);if(c(ap,0,59)){return null}ax=(aK*60)+(B(ay,"-")?-ap:ap);break;case"z":case"zz":aK=at;if(c(aK,-12,13)){return null}ax=aK*60;break;case"g":case"gg":var s=ay;if(!s||!u.eras){return null}s=J(s.toLowerCase());for(var aI=0,aM=u.eras.length;aI<aM;aI++){if(s===u.eras[aI].name.toLowerCase()){n=aI;break}}if(n===null){return null}break}}}var z=new Date(),o,aq=u.convert;o=aq?aq.fromGregorian(z)[0]:z.getFullYear();if(w===null){w=o}else{if(u.eras){w+=u.eras[(n||0)].offset}}if(aB===null){aB=0}if(aC===null){aC=1}if(aq){z=aq.toGregorian(w,aB,aC);if(z===null){return null}}else{z.setFullYear(w,aB,aC);if(z.getDate()!==aC){return null}if(v!==null&&z.getDay()!==v){return null}}if(t&&au<12){au+=12}z.setHours(au,aL,aD,az);if(ax!==null){var q=z.getMinutes()-(ax+z.getTimezoneOffset());z.setHours(z.getHours()+parseInt(q/60,10),q%60)}return z}}());Y=function(e,f,h){var c=f["-"],d=f["+"],a;switch(h){case"n -":c=" "+c;d=" "+d;case"n-":if(F(e,c)){a=["-",e.substr(0,e.length-c.length)]}else{if(F(e,d)){a=["+",e.substr(0,e.length-d.length)]}}break;case"- n":c+=" ";d+=" ";case"-n":if(B(e,c)){a=["-",e.substr(c.length)]}else{if(B(e,d)){a=["+",e.substr(d.length)]}}break;case"(n)":if(B(e,"(")&&F(e,")")){a=["-",e.substr(1,e.length-2)]}break}return a||["",e]};I.prototype.findClosestCulture=function(a){return I.findClosestCulture.call(this,a)};I.prototype.format=function(a,d,c){return I.format.call(this,a,d,c)};I.prototype.localize=function(a,c){return I.localize.call(this,a,c)};I.prototype.parseInt=function(d,a,c){return I.parseInt.call(this,d,a,c)};I.prototype.parseFloat=function(d,a,c){return I.parseFloat.call(this,d,a,c)};I.prototype.culture=function(a){return I.culture.call(this,a)};I.addCultureInfo=function(c,f,d){var e={},a=false;if(typeof c!=="string"){d=c;c=this.culture().name;e=this.cultures[c]}else{if(typeof f!=="string"){d=f;a=(this.cultures[c]==null);e=this.cultures[c]||this.cultures["default"]}else{a=true;e=this.cultures[f]}}this.cultures[c]=G(true,{},e,d);if(a){this.cultures[c].calendar=this.cultures[c].calendars.standard}};I.findClosestCulture=function(e){var o;if(!e){return this.findClosestCulture(this.cultureSelector)||this.cultures["default"]}if(typeof e==="string"){e=e.split(",")}if(N(e)){var c,f=this.cultures,l=e,q,a=l.length,h=[];for(q=0;q<a;q++){e=J(l[q]);var d,s=e.split(";");c=J(s[0]);if(s.length===1){d=1}else{e=J(s[1]);if(e.indexOf("q=")===0){e=e.substr(2);d=parseFloat(e);d=isNaN(d)?0:d}else{d=1}}h.push({lang:c,pri:d})}h.sort(function(v,w){if(v.pri<w.pri){return 1}else{if(v.pri>w.pri){return -1}}return 0});for(q=0;q<a;q++){c=h[q].lang;o=f[c];if(o){return o}}for(q=0;q<a;q++){c=h[q].lang;do{var n=c.lastIndexOf("-");if(n===-1){break}c=c.substr(0,n);o=f[c];if(o){return o}}while(1)}for(q=0;q<a;q++){c=h[q].lang;for(var t in f){var u=f[t];if(u.language==c){return u}}}}else{if(typeof e==="object"){return e}}return o||null};I.format=function(e,d,c){var a=this.findClosestCulture(c);if(e instanceof Date){e=L(e,d,a)}else{if(typeof e==="number"){e=R(e,d,a)}}return e};I.localize=function(a,c){return this.findClosestCulture(c).messages[a]||this.cultures["default"].messages[a]};I.parseDate=function(f,l,o){o=this.findClosestCulture(o);var c,e,d;if(l){if(typeof l==="string"){l=[l]}if(l.length){for(var n=0,a=l.length;n<a;n++){var h=l[n];if(h){c=V(f,h,o);if(c){break}}}}}else{d=o.calendar.patterns;for(e in d){c=V(f,d[e],o);if(c){break}}}return c||null};I.parseInt=function(d,a,c){return X(I.parseFloat(d,a,c))};I.parseFloat=function(h,u,s){if(typeof u!=="number"){s=u;u=10}var e=this.findClosestCulture(s);var a=NaN,w=e.numberFormat;if(h.indexOf(e.numberFormat.currency.symbol)>-1){h=h.replace(e.numberFormat.currency.symbol,"");h=h.replace(e.numberFormat.currency["."],e.numberFormat["."])}if(h.indexOf(e.numberFormat.percent.symbol)>-1){h=h.replace(e.numberFormat.percent.symbol,"")}h=h.replace(/ /g,"");if(O.test(h)){a=parseFloat(h)}else{if(!u&&D.test(h)){a=parseInt(h,16)}else{var ab=Y(h,w,w.pattern[0]),c=ab[0],t=ab[1];if(c===""&&w.pattern[0]!=="(n)"){ab=Y(h,w,"(n)");c=ab[0];t=ab[1]}if(c===""&&w.pattern[0]!=="-n"){ab=Y(h,w,"-n");c=ab[0];t=ab[1]}c=c||"+";var l,q,d=t.indexOf("e");if(d<0){d=t.indexOf("E")}if(d<0){q=t;l=null}else{q=t.substr(0,d);l=t.substr(d+1)}var f,v,aa=w["."],ad=q.indexOf(aa);if(ad<0){f=q;v=null}else{f=q.substr(0,ad);v=q.substr(ad+aa.length)}var o=w[","];f=f.split(o).join("");var z=o.replace(/\u00A0/g," ");if(o!==z){f=f.split(z).join("")}var n=c+f;if(v!==null){n+="."+v}if(l!==null){var ac=Y(l,w,"-n");n+="e"+(ac[0]||"+")+ac[1]}if(C.test(n)){a=parseFloat(n)}}}return a};I.culture=function(a){if(typeof a!=="undefined"){this.cultureSelector=a}return this.findClosestCulture(a)||this.cultures["default"]}}(this));
/*!
 * jQuery blockUI plugin
 * Version 2.70.0-2014.11.23
 * Requires jQuery v1.7 or later
 *
 * Examples at: http://malsup.com/jquery/block/
 * Copyright (c) 2007-2013 M. Alsup
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 *
 * Thanks to Amir-Hossein Sobhi for some excellent contributions!
 */
;(function(){function a(q){q.fn._fadeIn=q.fn.fadeIn;var e=q.noop||function(){};var v=/MSIE/.test(navigator.userAgent);var h=/MSIE 6.0/.test(navigator.userAgent)&&!/MSIE 8.0/.test(navigator.userAgent);var s=document.documentMode||0;var l=q.isFunction(document.createElement("div").style.setExpression);q.blockUI=function(B){f(window,B)};q.unblockUI=function(B){o(window,B)};q.growlUI=function(H,E,F,C){var D=q('<div class="growlUI"></div>');if(H){D.append("<h1>"+H+"</h1>")}if(E){D.append("<h2>"+E+"</h2>")}if(F===undefined){F=3000}var B=function(I){I=I||{};q.blockUI({message:D,fadeIn:typeof I.fadeIn!=="undefined"?I.fadeIn:700,fadeOut:typeof I.fadeOut!=="undefined"?I.fadeOut:1000,timeout:typeof I.timeout!=="undefined"?I.timeout:F,centerY:false,showOverlay:false,onUnblock:C,css:q.blockUI.defaults.growlCSS})};B();var G=D.css("opacity");D.mouseover(function(){B({fadeIn:0,timeout:30000});var I=q(".blockMsg");I.stop();I.fadeTo(300,1)}).mouseout(function(){q(".blockMsg").fadeOut(1000)})};q.fn.block=function(C){if(this[0]===window){q.blockUI(C);return this}var B=q.extend({},q.blockUI.defaults,C||{});this.each(function(){var D=q(this);if(B.ignoreIfBlocked&&D.data("blockUI.isBlocked")){return}D.unblock({fadeOut:0})});return this.each(function(){if(q.css(this,"position")=="static"){this.style.position="relative";q(this).data("blockUI.static",true)}this.style.zoom=1;f(this,C)})};q.fn.unblock=function(B){if(this[0]===window){q.unblockUI(B);return this}return this.each(function(){o(this,B)})};q.blockUI.version=2.7;q.blockUI.defaults={message:"<h1>Please wait...</h1>",title:null,draggable:true,theme:false,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:0.6,cursor:"wait"},cursorReset:"default",growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:0.6,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:false,baseZ:1000,centerX:true,centerY:true,allowBodyStretch:true,bindEvents:true,constrainTabKey:true,fadeIn:200,fadeOut:400,timeout:0,showOverlay:true,focusInput:true,focusableElements:":input:enabled:visible",onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg",ignoreIfBlocked:false};var d=null;var n=[];function f(D,O){var L,W;var J=(D==window);var G=(O&&O.message!==undefined?O.message:undefined);O=q.extend({},q.blockUI.defaults,O||{});if(O.ignoreIfBlocked&&q(D).data("blockUI.isBlocked")){return}O.overlayCSS=q.extend({},q.blockUI.defaults.overlayCSS,O.overlayCSS||{});L=q.extend({},q.blockUI.defaults.css,O.css||{});if(O.onOverlayClick){O.overlayCSS.cursor="pointer"}W=q.extend({},q.blockUI.defaults.themedCSS,O.themedCSS||{});G=G===undefined?O.message:G;if(J&&d){o(window,{fadeOut:0})}if(G&&typeof G!="string"&&(G.parentNode||G.jquery)){var R=G.jquery?G[0]:G;var Y={};q(D).data("blockUI.history",Y);Y.el=R;Y.parent=R.parentNode;Y.display=R.style.display;Y.position=R.style.position;if(Y.parent){Y.parent.removeChild(R)}}q(D).data("blockUI.onUnblock",O.onUnblock);var K=O.baseZ;var V,U,T,P;if(v||O.forceIframe){V=q('<iframe class="blockUI" style="z-index:'+(K++)+';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+O.iframeSrc+'"></iframe>')}else{V=q('<div class="blockUI" style="display:none"></div>')}if(O.theme){U=q('<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+(K++)+';display:none"></div>')}else{U=q('<div class="blockUI blockOverlay" style="z-index:'+(K++)+';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"></div>')}if(O.theme&&J){P='<div class="blockUI '+O.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(K+10)+';display:none;position:fixed">';if(O.title){P+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(O.title||"&nbsp;")+"</div>"}P+='<div class="ui-widget-content ui-dialog-content"></div>';P+="</div>"}else{if(O.theme){P='<div class="blockUI '+O.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(K+10)+';display:none;position:absolute">';if(O.title){P+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(O.title||"&nbsp;")+"</div>"}P+='<div class="ui-widget-content ui-dialog-content"></div>';P+="</div>"}else{if(J){P='<div class="blockUI '+O.blockMsgClass+' blockPage" style="z-index:'+(K+10)+';display:none;position:fixed"></div>'}else{P='<div class="blockUI '+O.blockMsgClass+' blockElement" style="z-index:'+(K+10)+';display:none;position:absolute"></div>'}}}T=q(P);if(G){if(O.theme){T.css(W);T.addClass("ui-widget-content")}else{T.css(L)}}if(!O.theme){U.css(O.overlayCSS)}U.css("position",J?"fixed":"absolute");if(v||O.forceIframe){V.css("opacity",0)}var I=[V,U,T],X=J?q("body"):q(D);q.each(I,function(){this.appendTo(X)});if(O.theme&&O.draggable&&q.fn.draggable){T.draggable({handle:".ui-dialog-titlebar",cancel:"li"})}var F=l&&(!q.support.boxModel||q("object,embed",J?null:D).length>0);if(h||F){if(J&&O.allowBodyStretch&&q.support.boxModel){q("html,body").css("height","100%")}if((h||!q.support.boxModel)&&!J){var N=w(D,"borderTopWidth"),S=w(D,"borderLeftWidth");var H=N?"(0 - "+N+")":0;var M=S?"(0 - "+S+")":0}q.each(I,function(Z,ad){var aa=ad[0].style;aa.position="absolute";if(Z<2){if(J){aa.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:"+O.quirksmodeOffsetHack+') + "px"')}else{aa.setExpression("height",'this.parentNode.offsetHeight + "px"')}if(J){aa.setExpression("width",'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"')}else{aa.setExpression("width",'this.parentNode.offsetWidth + "px"')}if(M){aa.setExpression("left",M)}if(H){aa.setExpression("top",H)}}else{if(O.centerY){if(J){aa.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"')}aa.marginTop=0}else{if(!O.centerY&&J){var ab=(O.css&&O.css.top)?parseInt(O.css.top,10):0;var ac="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+ab+') + "px"';aa.setExpression("top",ac)}}}})}if(G){if(O.theme){T.find(".ui-widget-content").append(G)}else{T.append(G)}if(G.jquery||G.nodeType){q(G).show()}}if((v||O.forceIframe)&&O.showOverlay){V.show()}if(O.fadeIn){var Q=O.onBlock?O.onBlock:e;var C=(O.showOverlay&&!G)?Q:e;var B=G?Q:e;if(O.showOverlay){U._fadeIn(O.fadeIn,C)}if(G){T._fadeIn(O.fadeIn,B)}}else{if(O.showOverlay){U.show()}if(G){T.show()}if(O.onBlock){O.onBlock.bind(T)()}}u(1,D,O);if(J){d=T[0];n=q(O.focusableElements,d);if(O.focusInput){setTimeout(A,20)}}else{c(T[0],O.centerX,O.centerY)}if(O.timeout){var E=setTimeout(function(){if(J){q.unblockUI(O)}else{q(D).unblock(O)}},O.timeout);q(D).data("blockUI.timeout",E)}}function o(E,G){var F;var D=(E==window);var C=q(E);var H=C.data("blockUI.history");var I=C.data("blockUI.timeout");if(I){clearTimeout(I);C.removeData("blockUI.timeout")}G=q.extend({},q.blockUI.defaults,G||{});u(0,E,G);if(G.onUnblock===null){G.onUnblock=C.data("blockUI.onUnblock");C.removeData("blockUI.onUnblock")}var B;if(D){B=q("body").children().filter(".blockUI").add("body > .blockUI")}else{B=C.find(">.blockUI")}if(G.cursorReset){if(B.length>1){B[1].style.cursor=G.cursorReset}if(B.length>2){B[2].style.cursor=G.cursorReset}}if(D){d=n=null}if(G.fadeOut){F=B.length;B.stop().fadeOut(G.fadeOut,function(){if(--F===0){t(B,H,G,E)}})}else{t(B,H,G,E)}}function t(F,I,H,G){var E=q(G);if(E.data("blockUI.isBlocked")){return}F.each(function(J,K){if(this.parentNode){this.parentNode.removeChild(this)}});if(I&&I.el){I.el.style.display=I.display;I.el.style.position=I.position;I.el.style.cursor="default";if(I.parent){I.parent.appendChild(I.el)}E.removeData("blockUI.history")}if(E.data("blockUI.static")){E.css("position","static")}if(typeof H.onUnblock=="function"){H.onUnblock(G,H)}var B=q(document.body),D=B.width(),C=B[0].style.width;B.width(D-1).width(D);B[0].style.width=C}function u(B,F,G){var E=F==window,D=q(F);if(!B&&(E&&!d||!E&&!D.data("blockUI.isBlocked"))){return}D.data("blockUI.isBlocked",B);if(!E||!G.bindEvents||(B&&!G.showOverlay)){return}var C="mousedown mouseup keydown keypress keyup touchstart touchend touchmove";if(B){q(document).bind(C,G,z)}else{q(document).unbind(C,z)}}function z(G){if(G.type==="keydown"&&G.keyCode&&G.keyCode==9){if(d&&G.data.constrainTabKey){var D=n;var C=!G.shiftKey&&G.target===D[D.length-1];var B=G.shiftKey&&G.target===D[0];if(C||B){setTimeout(function(){A(B)},10);return false}}}var E=G.data;var F=q(G.target);if(F.hasClass("blockOverlay")&&E.onOverlayClick){E.onOverlayClick(G)}if(F.parents("div."+E.blockMsgClass).length>0){return true}return F.parents().children().filter("div.blockUI").length===0}function A(B){if(!n){return}var C=n[B===true?n.length-1:0];if(C){C.focus()}}function c(F,B,H){var G=F.parentNode,E=F.style;var C=((G.offsetWidth-F.offsetWidth)/2)-w(G,"borderLeftWidth");var D=((G.offsetHeight-F.offsetHeight)/2)-w(G,"borderTopWidth");if(B){E.left=C>0?(C+"px"):"0"}if(H){E.top=D>0?(D+"px"):"0"}}function w(B,C){return parseInt(q.css(B,C),10)||0}}if(typeof define==="function"&&define.amd&&define.amd.jQuery){define(["jquery"],a)}else{a(jQuery)}})();var defaultPageSize=100,pagesizeoptions=["1","2","5","25","50","100","500"],formatString_yyyy_MM_dd="yyyy-MM-dd",formatString_yyyy_MM_dd_HH_mm="yyyy-MM-dd HH:mm",formatString_yyyy_MM_dd_HH_mm_ss="yyyy-MM-dd HH:mm:ss",date_pattern=/^(200[0-9]|20[12345678][0-9]|2090)[-](0[1-9]|1[012])[-](0[1-9]|[12][0-9]|3[012])$/,phone_pattern=/^(([0-9]{2,3})?[\s-]+(\d{6,7}))*$/,mobile_pattern=/^((98|97|96)[0-9]{8,8})*$/,theme="bootstrap",gridHeight=(window.innerHeight-175),array_hierarchy_names=new Array("","COUNTRY","DISTRICT","REGION","ZONE"),array_location_types=new Array("","C","D","M","R","V","Z"),array_prefered_communication=["N/A","Home 1","Home 2","Work 1","Work 2","Mobile 1","Mobile 2"],array_followup_modes=["Phone","Email","Visit","Others"],array_followup_status=["Open","In Progress","Completed"],array_inquiry_type=["Warm","Hot","Cold"],array_test_drive_location=["Dealer Place","Customer Choice"],rownumberRenderer=function(d,a,c){return'<div style="text-align: center; margin-top: 8px;">'+(1+c)+"</div>"},gridColumnsRenderer=function(a){return'<div style="text-align: center; margin-top: 8px;">'+a+"</div>"};var masterDataSource={url:base_url+"admin/common/get_master_combo_json",datatype:"json",datafields:[{name:"id",type:"number"},{name:"name",type:"string"}],async:false,cache:true};Date.prototype.now=function(){return this.getFullYear()+"-"+(((this.getMonth()+1)<10)?"0":"")+(this.getMonth()+1)+"-"+((this.getDate()<10)?"0":"")+this.getDate()+" "+((this.getHours()<10)?"0":"")+this.getHours()+":"+((this.getMinutes()<10)?"0":"")+this.getMinutes()+":"+((this.getSeconds()<10)?"0":"")+this.getSeconds()};Date.prototype.formatDate=function(){var d=this.getFullYear().toString();var c=(this.getMonth()+1).toString();var a=this.getDate().toString();return d+(c[1]?c:"0"+c[0])+(a[1]?a:"0"+a[0])};$(document).ready(function(){if($(".jqxExpander")[0]){$(".jqxExpander").jqxExpander({width:"auto",theme:theme})}if($(".jqxExpander-collasped")[0]){$(".jqxExpander-collasped").jqxExpander({width:"auto",expanded:false,theme:theme})}if($(".text_input")[0]){$(".text_input").jqxInput({width:195,height:25,theme:theme})}if($(".text_area")[0]){$(".text_area").jqxInput({width:325,height:85,theme:theme})}if($(".date_box")[0]){$(".date_box").jqxDateTimeInput({width:195,height:25,formatString:formatString_yyyy_MM_dd,theme:theme})}if($(".number_general")[0]){$(".number_general").jqxNumberInput({width:195,height:25,inputMode:"simple",spinButtons:false,min:0,digits:10,max:9999999999,decimalDigits:0,spinButtonsStep:1,theme:theme})}if($(".number_percentage")[0]){$(".number_percentage").jqxNumberInput({width:195,height:25,inputMode:"simple",spinButtons:false,min:0,digits:2,decimalDigits:1,spinButtonsStep:1,theme:theme})}if($(".number_currency")[0]){$(".number_currency").jqxNumberInput({width:195,height:25,inputMode:"simple",spinButtons:false,min:-9999999999,decimalDigits:2,theme:theme})}if($(".jqxTabs")[0]){$(".jqxTabs").jqxTabs({width:"100%",height:gridHeight+50,position:"top",theme:theme})}$.ajaxSetup({data:{csrf_token_cgdms:$.cookie("csrf_cookie_cgdms")}});$(document).ajaxComplete(function(c,d,a){switch(d.status){case 403:alert("TIMEOUT. Please try again");break;case 500:alert("500 Error");break;case 999:alert("SESSION TIMOUT. Reloading the Page");break}})});function openPopupWindow(){jqxPopupWindowId=arguments[0];title=arguments[1];var a=($(window).width()-$("#"+jqxPopupWindowId).jqxWindow("width"))/2+$(window).scrollLeft(),c=($(window).height()-$("#"+jqxPopupWindowId).jqxWindow("height"))/2+$(window).scrollTop();if(title!="N/A"){$("#window_poptup_title").html(title)}$("#"+jqxPopupWindowId).jqxWindow({position:{x:a,y:c}});$("#"+jqxPopupWindowId).jqxWindow("open")}function bs_to_ad(){module=arguments[0];jqxWindow=arguments[1];source=arguments[2];target=arguments[3];var nepali_date=$("#"+source).val();if(nepali_date==""){alert("Please input nepali date");return}res=(nepali_date.match(date_pattern))?true:false;if(!res){alert("Invalid Date Format or out of range.\r\nValid Range: 2000-01-01 to 2090-12-30");return}var url=base_url+"admin/"+module+"/get_english_date";$("#"+jqxWindow).block({message:"<span>Processing your request. Please be patient.</span>",css:{width:"75%",border:"none",padding:"50px",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px",opacity:0.7,color:"#fff",cursor:"wait"}});$.ajax({type:"POST",url:url,data:{nepali_date:nepali_date},success:function(result){var result=eval("("+result+")");if(result.success){$("#"+target).jqxDateTimeInput("setDate",result.date)}$("#"+jqxWindow).unblock()}})}function ad_to_bs(){module=arguments[0];jqxWindow=arguments[1];source=arguments[2];target=arguments[3];var english_date=$("#"+source).val();if(english_date==""){alert("Please input english date");return}var url=base_url+"admin/"+module+"/get_nepali_date";$("#"+jqxWindow).block({message:"<span>Processing your request. Please be patient.</span>",css:{width:"75%",border:"none",padding:"50px",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px",opacity:0.7,color:"#fff",cursor:"wait"}});$.ajax({type:"POST",url:url,data:{english_date:english_date},success:function(result){var result=eval("("+result+")");if(result.success){$("#"+target).val(result.date);$("#"+jqxWindow).unblock()}}})}function buildHtmlTable(c,a){var e=[];var l=$("<tr/>");for(var h=0;h<c.length;h++){var d=c[h];for(var o in d){if($.inArray(o,e)==-1){e.push(o);l.append($("<th/>").html(o))}}}$("#"+a).append(l);for(var h=0;h<(c.length-1);h++){var f=$("<tr/>");for(var n=0;n<e.length;n++){var q=c[h][e[n]];if(q==null){q="-"}f.append($("<td/>").html(q))}$("#"+a).append(f)}for(var h=(c.length-1);h<c.length;h++){var f=$("<tr/>");for(var n=0;n<e.length;n++){var q=c[h][e[n]];if(q==null){q="-"}f.append($("<th/>").html(q))}$("#"+a).append(f)}};